commit 7705a8792b0fc82fd7d4dd923724606bbfd9fb20
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 19 21:53:29 2006 -0800

    Linux 2.6.16

commit 2be1aaf988e8b6775eece8374f4fd195b21cc4c4
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Sun Mar 19 19:04:17 2006 +0100

    [PATCH] Remove obsolete CREDITS address
    
    This address is going to be obsolete, so I should update it.

commit 4657190936883adb819f81957e33439d447c0035
Merge: 4a29cc2... 9007c9a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 19 21:12:00 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus
    
    * 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus:
      [MIPS] SB1: Check for -mno-sched-prolog if building corelis debug kernel.
      [MIPS] Sibyte: Fix race in sb1250_gettimeoffset().
      [MIPS] Sibyte: Fix interrupt timer off by one bug.
      [MIPS] Sibyte: Fix M_SCD_TIMER_INIT and M_SCD_TIMER_CNT wrong field width.
      [MIPS] Protect more of timer_interrupt() by xtime_lock.
      [MIPS] Work around bad code generation for <asm/io.h>.
      [MIPS] Simple patch to power off DBAU1200
      [MIPS] Fix DBAu1550 software power off.
      [MIPS] local_r4k_flush_cache_page fix
      [MIPS] SB1: Fix interrupt disable hazard.
      [MIPS] Get rid of the IP22-specific code in arclib.
      Update MAINTAINERS entry for MIPS.

commit 4a29cc2e503b33a1e96db4c3f9a94165f153f259
Author: Michael Chan <mchan@broadcom.com>
Date:   Sun Mar 19 13:21:12 2006 -0800

    [TG3]: 40-bit DMA workaround part 2
    
    The 40-bit DMA workaround recently implemented for 5714, 5715, and
    5780 needs to be expanded because there may be other tg3 devices
    behind the EPB Express to PCIX bridge in the 5780 class device.
    
    For example, some 4-port card or mother board designs have 5704 behind
    the 5714.
    
    All devices behind the EPB require the 40-bit DMA workaround.
    
    Thanks to Chris Elmquist again for reporting the problem and testing
    the patch.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c7c694d196a39af6e644e24279953d04f30362db
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Mar 19 13:20:06 2006 -0800

    [AX.25]: Fix potencial memory hole.
    
    If the AX.25 dialect chosen by the sysadmin is set to DAMA master / 3
    (or DAMA slave / 2, if CONFIG_AX25_DAMA_SLAVE=n) ax25_kick() will fall
    through the switch statement without calling ax25_send_iframe() or any
    other function that would eventually free skbn thus leaking the packet.
    
    Fix by restricting the sysctl inferface to allow only actually supported
    AX.25 dialects.
    
    The system administration mistake needed for this to happen is rather
    unlikely, so this is an uncritical hole.
    
    Coverity #651.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 60a6dc55b93b3321afa52f650a149fb7e87fa85a
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Wed Mar 15 02:36:13 2006 -0300

    [PATCH] Kconfig: swap VIDEO_CX88_ALSA and VIDEO_CX88_DVB
    
    VIDEO_CX88_ALSA should not be between VIDEO_CX88_DVB and
    VIDEO_CX88_DVB_ALL_FRONTENDS
    
    When cx88-alsa was added to cx88/Kconfig, it was added in between
    VIDEO_CX88_DVB and VIDEO_CX88_DVB_ALL_FRONTENDS.  This caused
    undesireable effects to the appearance of the menu options in
    menuconfig.
    
    This fix reorders cx88-alsa and cx88-dvb in Kconfig, to match saa7134,
    and restore the correct menuconfig appearance.
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7215fdb214ad8d76c9d667be07f870f0f0544959
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Feb 7 08:49:13 2006 -0200

    [PATCH] Fixed em28xx based system lockup
    
    Fixed em28xx based system lockup, device needs to be initialized before
    starting the isoc transfer otherwise the system will completly lock up.
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d61b86775a5676a8fba2ba2f0f869564e35c630
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sat Mar 18 20:41:10 2006 +0300

    [PATCH] disable unshare(CLONE_VM) for now
    
    sys_unshare() does mmput(new_mm).  This is not enough if we have
    mm->core_waiters.
    
    This patch is a temporary fix for soon to be released 2.6.16.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    [ Checked with Uli: "I'm not planning to use unshare(CLONE_VM).  It's
      not needed for any functionality planned so far.  What we (as in Red
      Hat) need unshare() for now is the filesystem side." ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9007c9a2b03ea325ee593a161dbf01dbb8222d7e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Mar 18 16:59:31 2006 +0000

    [MIPS] SB1: Check for -mno-sched-prolog if building corelis debug kernel.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a904f7478561464f9fe74929b81fec237b6ff4c3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 15 00:03:29 2006 +0000

    [MIPS] Sibyte: Fix race in sb1250_gettimeoffset().
    
    From Dave Johnson <djohnson+linuxmips@sw.starentnetworks.com>:
    
    sb1250_gettimeoffset() simply reads the current cpu 0 timer remaining
    value, however once this counter reaches 0 and the interrupt is raised,
    it immediately resets and begins to count down again.
    
    If sb1250_gettimeoffset() is called on cpu 1 via do_gettimeofday() after
    the timer has reset but prior to cpu 0 processing the interrupt and
    taking write_seqlock() in timer_interrupt() it will return a full value
    (or close to it) causing time to jump backwards 1ms. Once cpu 0 handles
    the interrupt and timer_interrupt() gets far enough along it will jump
    forward 1ms.
    
    Fix this problem by implementing mips_hpt_*() on sb1250 using a spare
    timer unrelated to the existing periodic interrupt timers. It runs at
    1Mhz with a full 23bit counter.  This eliminated the custom
    do_gettimeoffset() for sb1250 and allowed use of the generic
    fixed_rate_gettimeoffset() using mips_hpt_*() and timerhi/timerlo.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4308cb16286c96d980570cc5319173b524220c06
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 14 23:52:47 2006 +0000

    [MIPS] Sibyte: Fix interrupt timer off by one bug.
    
    From Dave Johnson <djohnson+linuxmips@sw.starentnetworks.com>:
    
    The timers need to be loaded with 1 less than the desired interval not
    the interval itself.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a77f124294822203660b0926392b963cfa72fcf4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 14 23:47:35 2006 +0000

    [MIPS] Sibyte: Fix M_SCD_TIMER_INIT and M_SCD_TIMER_CNT wrong field width.
    
    From Dave Johnson <djohnson+linuxmips@sw.starentnetworks.com>:
    
    Field width should be 23 bits not 20 bits.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d6bd0e6b32ea72be91e5789b1e838c244f8a05d9
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 14 23:46:58 2006 +0000

    [MIPS] Protect more of timer_interrupt() by xtime_lock.
    
    From Dave Johnson <djohnson+linuxmips@sw.starentnetworks.com>:
    
    * do_timer() expects the arch-specific handler to take the lock as it
      modifies jiffies[_64] and xtime.
    * writing timerhi/lo in timer_interrupt() will mess up
      fixed_rate_gettimeoffset() which reads timerhi/lo.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 966f4406d903a4214fdc74bec54710c6232a95b8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 15 11:36:31 2006 +0000

    [MIPS] Work around bad code generation for <asm/io.h>.
    
    If a call to set_io_port_base() was being followed by usage of
    mips_io_port_base in the same function gcc was possibly using the old
    value due to some clever abuse of const.  Adding a barrier will keep
    the optimization and result in correct code with latest gcc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 66a9a4ffda3474b193f36ed579cee06c597952f3
Author: Matej Kupljen <matej.kupljen@ultra.si>
Date:   Wed Nov 30 10:20:01 2005 +0100

    [MIPS] Simple patch to power off DBAU1200
    
    Signed-off-by: Matej Kupljen <matej.kupljen@ultra.si>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 86dde15b3dc36dda4bbc32a8da607675ce63ef23
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Tue Mar 14 07:20:00 2006 +0300

    [MIPS] Fix DBAu1550 software power off.
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit de62893bc0725f8b5f0445250577cd7a10b2d8f8
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Mon Mar 13 18:23:03 2006 +0900

    [MIPS] local_r4k_flush_cache_page fix
    
    If dcache_size != icache_size or dcache_size != scache_size, or
    set-associative cache, icache/scache does not flushed properly.  Make
    blast_?cache_page_indexed() masks its index value correctly.  Also,
    use physical address for physically indexed pcache/scache.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a3c4946db4fe64cb21b66a09e89890678aac6d65
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Mar 13 16:16:29 2006 +0000

    [MIPS] SB1: Fix interrupt disable hazard.
    
    The SB1 core has a three cycle interrupt disable hazard but we were
    wrongly treating it as fully interlocked.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3a2f735700332621274aca752be3b6f839fa47e7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 10 19:47:17 2006 +0000

    [MIPS] Get rid of the IP22-specific code in arclib.
    
    This breaks the kernel build if sgiwd93 was configured as a module.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7425b3403131d652c24f5047574e6c21034813ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 10 13:47:21 2006 +0000

    Update MAINTAINERS entry for MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 265a92856b17524c87da0258ac0d3cec80ae1d35
Author: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
Date:   Fri Mar 17 16:05:43 2006 -0800

    [NET]: Fix race condition in sk_wait_event().
    
    It is broken, the condition is checked out of socket lock. It is
    wonderful the bug survived for so long time.
    
    [ This fixes bugzilla #6233:
      race condition in tcp_sendmsg when connection became established ]
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6f5e6b9e69bf043074a0edabe3d271899c34eb79
Author: Hugh Dickins <hugh@veritas.com>
Date:   Thu Mar 16 23:04:09 2006 -0800

    [PATCH] fix free swap cache latency
    
    Lee Revell reported 28ms latency when process with lots of swapped memory
    exits.
    
    2.6.15 introduced a latency regression when unmapping: in accounting the
    zap_work latency breaker, pte_none counted 1, pte_present PAGE_SIZE, but a
    swap entry counted nothing at all.  We think of pages present as the slow
    case, but Lee's trace shows that free_swap_and_cache's radix tree lookup
    can make a lot of work - and we could have been doing it many thousands of
    times without a latency break.
    
    Move the zap_work update up to account swap entries like pages present.
    This does account non-linear pte_file entries, and unmap_mapping_range
    skipping over swap entries, by the same amount even though they're quick:
    but neither of those cases deserves complicating the code (and they're
    treated no worse than they were in 2.6.14).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: Nick Piggin <npiggin@suse.de>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7670f023aabd976c25862e4c6fb9f6d9d2758153
Author: Sam Ravnborg <sam@ravnborg.org>
Date:   Thu Mar 16 23:04:08 2006 -0800

    [PATCH] kbuild: fix buffer overflow in modpost
    
    Jiri Benc <jbenc@suse.cz> reported that modpost would stop with SIGABRT if
    used with long filepaths.
    The error looked like:
    >   Building modules, stage 2.
    >   MODPOST
    > *** glibc detected *** scripts/mod/modpost: realloc(): invalid next size:
    +0x0809f588 ***
    > [...]
    
    Fix this by allocating at least the required memory + SZ bytes each time.
    Before we sometimes ended up allocating too little memory resuting in the
    glibc detected bug above.  Based on patch originally submitted by: Jiri
    Benc <jbenc@suse.cz>
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85c6932ef0c7a82c309f8728ddf29768001d794e
Author: Peter Staubach <staubach@redhat.com>
Date:   Thu Mar 16 23:04:02 2006 -0800

    [PATCH] nfsservctl(): remove user-triggerable printk
    
    A user can use nfsservctl() to spam the logs.
    
    This can happen because the arguments to the nfsservctl() system call are
    versioned.  This is a good thing.  However, when a bad version is detected,
    the kernel prints a message and then returns an error.
    
    Signed-off-by: Peter Staubach <staubach@redhat.com>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b40dc780ed996162f3af8712eb03beb24dcdbef
Author: Christoph Lameter <clameter@sgi.com>
Date:   Thu Mar 16 23:04:07 2006 -0800

    [PATCH] fix race in pagevec_strip?
    
    We can call try_to_release_page() with PagePrivate off and a valid
    page->mapping This may cause all sorts of trouble for the filesystem
    *_releasepage() handlers.  XFS bombs out in that case.
    
    Lock the page before checking for page private.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8ba32fde2c5be52865b2fd7e5e3752a46971fabe
Author: Kevin Corry <kevcorry@us.ibm.com>
Date:   Thu Mar 16 23:04:03 2006 -0800

    [PATCH] dm stripe: Fix bounds
    
    The dm-stripe target currently does not enforce that the size of a stripe
    device be a multiple of the chunk-size.  Under certain conditions, this can
    lead to I/O requests going off the end of an underlying device.  This
    test-case shows one example.
    
    echo "0 100 linear /dev/hdb1 0" | dmsetup create linear0
    echo "0 100 linear /dev/hdb1 100" | dmsetup create linear1
    echo "0 200 striped 2 32 /dev/mapper/linear0 0 /dev/mapper/linear1 0" | \
       dmsetup create stripe0
    dd if=/dev/zero of=/dev/mapper/stripe0 bs=1k
    
    This will produce the output:
    dd: writing '/dev/mapper/stripe0': Input/output error
    97+0 records in
    96+0 records out
    
    And in the kernel log will be:
    attempt to access beyond end of device
    dm-0: rw=0, want=104, limit=100
    
    The patch will check that the table size is a multiple of the stripe
    chunk-size when the table is created, which will prevent the above striped
    device from being created.
    
    This should not affect tools like LVM or EVMS, since in all the cases I can
    think of, striped devices are always created with the sizes being a
    multiple of the chunk-size.
    
    The size of a stripe device must be a multiple of its chunk-size.
    
    (akpm: that typecast is quite gratuitous)
    
    Signed-off-by: Kevin Corry <kevcorry@us.ibm.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82c3c03a4096badd026c6e337f3c5dde020e9ec6
Author: Srivatsa Vaddagiri <vatsa@in.ibm.com>
Date:   Thu Mar 16 23:04:06 2006 -0800

    [PATCH] x86: check for online cpus before bringing them up
    
    Bryce reported a bug wherein offlining CPU0 (on x86 box) and then
    subsequently onlining it resulted in a lockup.
    
    On x86, CPU0 is never offlined.  The subsequent attempt to online CPU0
    doesn't take that into account.  It actually tries to bootup the already
    booted CPU.  Following patch fixes the problem (as acknowledged by Bryce).
    Please consider for inclusion in 2.6.16.
    
    Check if cpu is already online.
    
    Signed-off-by: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8532159f5521ba24e697f0d25970ae89ff62a1f2
Author: Eric Van Hensbergen <ericvh@hera.kernel.org>
Date:   Thu Mar 16 23:04:04 2006 -0800

    [PATCH] v9fs: fix overzealous dropping of dentry which breaks dcache
    
    There is a d_drop in dir_release which caused problems as it invalidates
    dcache entries too soon.  This was likely a part of the wierd cwd behavior
    folks were seeing.
    
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0a0c28c1a7109d7955815074c52cac079ab3ba5
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Thu Mar 16 23:04:01 2006 -0800

    [PATCH] posix-timers: fix requeue accounting when signal is ignored
    
    When the posix-timer signal is ignored then the timer is rearmed by the
    callback function.  The requeue pending accounting has to be fixed up else
    the state might be wrong.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67890d7084085e29c51afa2514036d42643fd3cf
Author: Christoph Lameter <clameter@sgi.com>
Date:   Thu Mar 16 23:04:00 2006 -0800

    [PATCH] time_interpolator: add __read_mostly
    
    The pointer to the current time interpolator and the current list of time
    interpolators are typically only changed during bootup.  Adding
    __read_mostly takes them away from possibly hot cachelines.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90036ee5938d89638e80f4d0d0700d0f2dbd4a6a
Author: Christoph Lameter <clameter@sgi.com>
Date:   Thu Mar 16 23:03:59 2006 -0800

    [PATCH] page migration: Fail with error if swap not setup
    
    Currently the migration of anonymous pages will silently fail if no swap is
    setup.  This patch makes page migration functions check for available swap
    and fail with -ENODEV if no swap space is available.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0e8eb54d8ae0c4cfd1d297f6351b08a7f635c5f
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Thu Mar 16 10:31:38 2006 -0700

    [PATCH] unshare: Use rcu_assign_pointer when setting sighand
    
    The sighand pointer only needs the rcu_read_lock on the
    read side.  So only depending on task_lock protection
    when setting this pointer is not enough.  We also need
    a memory barrier to ensure the initialization is seen first.
    
    Use rcu_assign_pointer as it does this for us, and clearly
    documents that we are setting an rcu readable pointer.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 232a347a444e687b5f8cf0f6485704db1c6024d3
Author: Scott Bardone <sbardone@chelsio.com>
Date:   Thu Mar 16 19:20:40 2006 -0500

    [netdrvr] fix array overflows in Chelsio driver
    
    Adrian Bunk wrote:
    > The Coverity checker spotted the following two array overflows in
    > drivers/net/chelsio/sge.c (in both cases, the arrays contain 3
    > elements):
    [snip]
    
    This is a bug. The array should contain 2 elements.  Here is the fix.
    
    Signed-off-by: Scott Bardone <sbardone@chelsio.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit c3d7a3a4eb5e8f290d7b1d61430eed1ebedeb936
Author: David S. Miller <davem@davemloft.net>
Date:   Wed Mar 15 14:26:28 2006 -0800

    [PATCH] e1000 endianness bugs
    
    	return -E_NO_BIG_ENDIAN_TESTING;
    
    [E1000]: Fix 4 missed endianness conversions on RX descriptor fields.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit b27a1ed571e12e7ec75b8907bf02fd69fd2bfe10
Merge: ca68bb1... 72df16f...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Thu Mar 16 19:16:59 2006 -0500

    Merge branch 'upstream-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit ca68bb1e41c4937fc125d3917dd1feadc493d850
Merge: 485ff09... aa49cdd...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Thu Mar 16 19:15:26 2006 -0500

    Merge branch 'e100-fixes' of git://198.78.49.142/~jbrandeb/linux-2.6

commit 485ff09990416c75ae9593ddc71619939ab9dd51
Merge: 5466eb5... 1ae5db3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Mar 16 09:13:34 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge:
      powerpc: update defconfigs
      [PATCH] powerpc: properly configure DDR/P5IOC children devs
      [PATCH] powerpc: remove duplicate EXPORT_SYMBOLS
      [PATCH] powerpc: RTC memory corruption
      [PATCH] powerpc: enable NAP only on cpus who support it to avoid memory corruption
      [PATCH] powerpc: Clarify wording for CRASH_DUMP Kconfig option
      [PATCH] powerpc/64: enable CONFIG_BLK_DEV_SL82C105
      [PATCH] powerpc: correct cacheflush loop in zImage
      powerpc: Fix problem with time going backwards
      powerpc: Disallow lparcfg being a module

commit 1ae5db3742a0cfaf347231ff0bf181132c64e883
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Mar 15 16:22:54 2006 +1100

    powerpc: update defconfigs
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 92eb4602eb5c37db86cd9d2b1f4c8ca304fbc49f
Author: John Rose <johnrose@austin.ibm.com>
Date:   Tue Mar 14 17:46:45 2006 -0600

    [PATCH] powerpc: properly configure DDR/P5IOC children devs
    
    The dynamic add path for PCI Host Bridges can fail to configure children
    adapters under P5IOC controllers.  It fails to properly fixup bus/device
    resources, and it fails to properly enable EEH.  Both of these steps
    need to occur before any children devices are enabled in
    pci_bus_add_devices().
    
    Signed-off-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 920573bd03bf690135967b5022362d34ede589c3
Author: Olaf Hering <olh@suse.de>
Date:   Tue Mar 14 21:21:11 2006 +0100

    [PATCH] powerpc: remove duplicate EXPORT_SYMBOLS
    
    remove warnings when building a 64bit kernel.
    smp_call_function triggers also with 32bit kernel.
    
    WARNING: vmlinux: duplicate symbol 'smp_call_function' previous definition was in vmlinux
    arch/powerpc/kernel/ppc_ksyms.c:164:EXPORT_SYMBOL(smp_call_function);
    arch/powerpc/kernel/smp.c:300:EXPORT_SYMBOL(smp_call_function);
    
    WARNING: vmlinux: duplicate symbol 'ioremap' previous definition was in vmlinux
    arch/powerpc/kernel/ppc_ksyms.c:113:EXPORT_SYMBOL(ioremap);
    arch/powerpc/mm/pgtable_64.c:321:EXPORT_SYMBOL(ioremap);
    
    WARNING: vmlinux: duplicate symbol '__ioremap' previous definition was in vmlinux
    arch/powerpc/kernel/ppc_ksyms.c:117:EXPORT_SYMBOL(__ioremap);
    arch/powerpc/mm/pgtable_64.c:322:EXPORT_SYMBOL(__ioremap);
    
    WARNING: vmlinux: duplicate symbol 'iounmap' previous definition was in vmlinux
    arch/powerpc/kernel/ppc_ksyms.c:118:EXPORT_SYMBOL(iounmap);
    arch/powerpc/mm/pgtable_64.c:323:EXPORT_SYMBOL(iounmap);
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0e8ed479125a6d246e17cfe6c24e140bfeb01972
Author: Michael Neuling <mikey@neuling.org>
Date:   Tue Mar 14 17:11:51 2006 +1100

    [PATCH] powerpc: RTC memory corruption
    
    We should be memset'ing the data we are pointing to, not the pointer
    itself.  This is in an error path so we probably don't hit it much.
    
    Signed-off-by: Michael Neuling <mikey@neuling.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c6cb3b5f368bae67c0b258cfebc0b9dbd8e1d929
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 12 10:55:01 2006 +1100

    [PATCH] powerpc: enable NAP only on cpus who support it to avoid memory corruption
    
    This patch fixes incorrect setting of powersave_nap to 1 on all
    PowerMacs, potentially causing memory corruption on some models. This
    bug was introuced by me during the 32/64 bits merge.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cd9c99d7e5f75e137c2ea0cf693773d63c8d945c
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Mar 10 15:01:08 2006 +1100

    [PATCH] powerpc: Clarify wording for CRASH_DUMP Kconfig option
    
    The wording of the CRASH_DUMP Kconfig option is not very clear. It gives you a
    kernel that can be used _as_ the kdump kernel, not a kernel that can boot into
    a kdump kernel.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e2c552cc89287e31b0b2472866a69a44b150acd2
Author: Olaf Hering <olh@suse.de>
Date:   Mon Mar 6 16:39:25 2006 +0100

    [PATCH] powerpc/64: enable CONFIG_BLK_DEV_SL82C105
    
    Enable the onboard IDE driver for p610, p615 and p630.
    They have the CD connected to this card. All other RS/6000 systems with this
    controller have no connectors and dont need this option.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eacb1962d4594b9d382b40acd73a9c9492718f74
Author: Olaf Hering <olh@suse.de>
Date:   Sat Mar 4 13:15:40 2006 +0100

    [PATCH] powerpc: correct cacheflush loop in zImage
    
    Correct the loop for cacheflush. No idea where I copied the code from,
    but the original does not work correct. Maybe the flush is not needed.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0a45d4491d0f172e02126370f312405c5d473363
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Mar 15 13:47:15 2006 +1100

    powerpc: Fix problem with time going backwards
    
    The recent changes to keep gettimeofday in sync with xtime had the side
    effect that it was occasionally possible for the time reported by
    gettimeofday to go back by a microsecond.  There were two reasons:
    (1) when we recalculated the offsets used by gettimeofday every 2^31
    timebase ticks, we lost an accumulated fractional microsecond, and
    (2) because the update is done some time after the notional start of
    jiffy, if ntp is slowing the clock, it is possible to see time go backwards
    when the timebase factor gets reduced.
    
    This fixes it by (a) slowing the gettimeofday clock by about 1us in
    2^31 timebase ticks (a factor of less than 1 in 3.7 million), and (b)
    adjusting the timebase offsets in the rare case that the gettimeofday
    result could possibly go backwards (i.e. when ntp is slowing the clock
    and the timer interrupt is late).  In this case the adjustment will
    reduce to zero eventually because of (a).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5466eb5d0ad5e9d4238da71a2a9bd216985a4849
Merge: 2d7f2ea... 4333298...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 15 18:17:11 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm
    
    * master.kernel.org:/home/rmk/linux-2.6-arm:
      [ARM] 3362/1: [cleanup] - duplicate decleration of mem_fclk_21285
      [ARM] 3365/1: [cleanup] header for compat.c exported functions
      [ARM] 3364/1: [cleanup] warning fix - definitions for enable_hlt and disable_hlt
      [ARM] 3363/1: [cleanup] process.c - fix warnings
      [ARM] 3358/1: [S3C2410] add missing SPI DMA resources
      [ARM] 3357/1: enable frontlight on collie
      [ARM] Fix "thead" typo

commit 2d7f2ea9c989853310c7f6e8be52cc090cc8e66b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Wed Mar 15 21:41:59 2006 +0000

    [PATCH] Fix ext2 readdir f_pos re-validation logic
    
    This fixes not one, but _two_, silly (but admittedly hard to hit) bugs
    in the ext2 filesystem "readdir()" function.  It also cleans up the code
    to avoid the unnecessary goto mess.
    
    The bugs were related to re-valiating the f_pos value after somebody had
    either done an "lseek()" on the directory to an invalid offset, or when
    the offset had become invalid due to a file being unlinked in the
    directory.  The code would not only set the f_version too eagerly, it
    would also not update f_pos appropriately for when the offset fixup took
    place.
    
    When that happened, we'd occasionally subsequently fail the readdir()
    even when we shouldn't (no real harm done, but an ugly printk, and
    obviously you would end up not necessarily seeing all entries).
    
    Thanks to Masoud Sharbiani <masouds@google.com> who noticed the problem
    and had a test-case for it, and also fixed up a thinko in the first
    version of this patch.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Acked-by: Masoud Sharbiani <masouds@google.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4333298965cd62585bec891a6a5c9f4c806fc6bd
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Mar 15 23:18:08 2006 +0000

    [ARM] 3362/1: [cleanup] - duplicate decleration of mem_fclk_21285
    
    Patch from Ben Dooks
    
    arch/arm/kernel/setup.c declares mem_fclk_21285 when
    this is already declared in include/asm-arm/system.h
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0fc1c832123493aca4c6a8600179132651f48bdc
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Mar 15 23:17:30 2006 +0000

    [ARM] 3365/1: [cleanup] header for compat.c exported functions
    
    Patch from Ben Dooks
    
    arch/arm/kernel/compat.c exports two functions,
    convert_to_tag_list and squash_mem_tags which
    are not defined in any header files, and not
    used outside arch/arm/kernel.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dabaeff06cca86048cfa3f74ce59688bc3addba9
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Mar 15 23:17:26 2006 +0000

    [ARM] 3364/1: [cleanup] warning fix - definitions for enable_hlt and disable_hlt
    
    Patch from Ben Dooks
    
    The enable_hlt and disable_hlt should be declared in
    include/asm/setup.h. This fixes sparse errors from
    arch/arm/kernel/process.c
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 84dff1a73013dbdd7d770c332ab84cbfed24741b
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Mar 15 23:17:23 2006 +0000

    [ARM] 3363/1: [cleanup] process.c - fix warnings
    
    Patch from Ben Dooks
    
    Fix the following warnings from sparse:
    
    arch/arm/kernel/process.c:86:6: warning: symbol 'default_idle' was not declared. Should it be static?
    arch/arm/kernel/process.c:378:5: warning: symbol 'dump_fpu' was not declared.   Should it be static?
    
    Include <linux/elfcore.h> for dump_fpu() decleration, and
    make default_idle() static as it is not used outside the file.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 72df16f109b73be37977a26d342e9103e8851cb6
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Mar 8 10:50:20 2006 +0800

    [PATCH] ieee80211: Fix QoS is not active problem
    
    Fix QoS is not active even the network and the card is QOS enabled.
    The problem is we pass the wrong ieee80211_network address to
    ipw_handle_beacon/ipw_handle_probe_response, thus the
    ieee80211_network->qos_data.active will not be set, causing the driver
    not sending QoS frames at all.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0df7861240b3484dea52d1f5782c69fd95b6cf23
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Feb 28 15:10:36 2006 +0800

    [PATCH] ieee80211: Fix CCMP decryption problem when QoS is enabled
    
    Use the correct STYPE for Qos data.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit aa49cdd93be6328113f0c146fc72be173d578d27
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Mar 15 10:55:24 2006 -0800

    e100: fix eeh on pseries during ethtool -t
    
    Olaf Hering reported a problem on pseries with e100 where ethtool -t would
    cause a bus error, and the e100 driver would stop working.  Due to the new
    load ucode command the cb list must be allocated before calling
    e100_init_hw, so remove the call and just let e100_up take care of it.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>

commit f13b83580acef03a36c785dccc534ccdd7e43084
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Mar 15 17:37:32 2006 +0100

    [PATCH] fs/namespace.c:dup_namespace(): fix a use after free
    
    The Coverity checker spotted the following bug in dup_namespace():
    
    <--  snip  -->
    
            if (!new_ns->root) {
                    up_write(&namespace_sem);
                    kfree(new_ns);
                    goto out;
            }
    ...
    out:
            return new_ns;
    
    <--  snip  -->
    
    Callers expect a non-NULL result to not be freed.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66be0c30282bef9ef5ab1f89028834ea00f4b4ae
Author: Albrecht Dress <albrecht.dress@lios-tech.com>
Date:   Wed Mar 15 16:03:05 2006 +0000

    [ARM] 3358/1: [S3C2410] add missing SPI DMA resources
    
    Patch from Albrecht Dress
    
    Add DMA resources to s3c2410 spi platform devices - dma_(alloc|free)_coherent should now work as expected.
    
    Signed-off-by: Albrecht Dress <albrecht.dress@lios-tech.com>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4ebf2d00260bac5213c5dfb8d257e15e40503725
Author: Pavel Machek <pavel@ucw.cz>
Date:   Wed Mar 15 16:03:03 2006 +0000

    [ARM] 3357/1: enable frontlight on collie
    
    Patch from Pavel Machek
    
    Enable frontlight during collie bootup, so that display is actually
    readable in anything other than bright sunlight.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 17320a9644a45ccac51ce4ff4333276844abf72d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Mar 15 14:57:13 2006 +0000

    [ARM] Fix "thead" typo
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 74c002410548c7cb1744b45d17a5fa21da515b63
Author: Christoph Lameter <clameter@sgi.com>
Date:   Tue Mar 14 19:50:21 2006 -0800

    [PATCH] Consistent capabilites associated with MPOL_MOVE_ALL
    
    It seems that setting scheduling policy and priorities is also the kind of
    thing that might be performed in apps that also use the NUMA API, so it
    would seem consistent to use CAP_SYS_NICE for NUMA also.
    
    So use CAP_SYS_NICE for controlling migration permissions.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4fb376628e63bfc8071fc915b921da3db4a3385
Author: Christoph Lameter <clameter@sgi.com>
Date:   Tue Mar 14 19:50:20 2006 -0800

    [PATCH] Page migration documentation update
    
    Update the documentation for page migration.
    
    - Fix up bits and pieces in cpusets.txt
    
    - Rework text in vm/page-migration to be clearer and reflect the final
      version of page migration in 2.6.16. Mention Andi Kleen's numactl
      package that contains user space tools for page migration via
      libnuma. Add reference to numa_maps and to the manpage in numactl.
    
    - Add todo list for outstanding issues
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Acked-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4983da07f1e2e8dc81cb9d640fbf35b899cdbdf2
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Tue Mar 14 19:50:19 2006 -0800

    [PATCH] page migration: fail if page is in a vma flagged VM_LOCKED
    
    page migration currently simply retries a couple of times if try_to_unmap()
    fails without inspecting the return code.
    
    However, SWAP_FAIL indicates that the page is in a vma that has the
    VM_LOCKED flag set (if ignore_refs ==1).  We can check for that return code
    and avoid retrying the migration.
    
    migrate_page_remove_references() now needs to return a reason why the
    failure occured.  So switch migrate_page_remove_references to use -Exx
    style error messages.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e843e280cbe218fc8387339806d344708dee348a
Author: Greg Smith <gsmith@nc.rr.com>
Date:   Tue Mar 14 19:50:17 2006 -0800

    [PATCH] "s390: multiple subchannel sets support" fix
    
    It seems this patch got dropped (it was in addition to the `s390:
    improve response code handling in chsc_enable_facility()' patch).
    
    Acked-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ee10a4423f6eb0702a71c1d1072bdfe42e4a1a7
Merge: a488edc... 3fb962b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 14 20:50:45 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/rc-fixes
    
    * git://oss.sgi.com:8090/oss/git/rc-fixes:
      Fix a direct I/O locking issue revealed by the new mutex code.

commit 3fb962bde48c413bfa419ec4413037e87955dcb6
Author: Nathan Scott <nathans@bruce>
Date:   Wed Mar 15 15:14:45 2006 +1100

    Fix a direct I/O locking issue revealed by the new mutex code.
    Affects only XFS (i.e. DIO_OWN_LOCKING case) - currently it is
    not possible to get i_mutex locking correct when using DIO_OWN
    direct I/O locking in a filesystem due to indeterminism in the
    possible return code/lock/unlock combinations.  This can cause
    a direct read to attempt a double i_mutex unlock inside XFS.
    
    We're now ensuring __blockdev_direct_IO always exits with the
    inode i_mutex (still) held for a direct reader.
    
    Tested with the three different locking modes (via direct block
    device access, ext3 and XFS) - both reading and writing; cannot
    find any regressions resulting from this change, and it clearly
    fixes the mutex_unlock warning originally reported here:
    http://marc.theaimsgroup.com/?l=linux-kernel&m=114189068126253&w=2
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>
    Acked-by: Christoph Hellwig <hch@lst.de>

commit a488edc914aa1d766a4e2c982b5ae03d5657ec1b
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Tue Mar 14 13:44:00 2006 -0600

    [PATCH] JFS: Take logsync lock before testing mp->lsn
    
    This fixes a race where lsn could be cleared before taking the lock
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f511ea70600efb1e06d7b55e1c51a83aff8713c
Merge: 6796313... ad58f7d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 14 11:03:50 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6
    
    * master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6:
      [SCSI] zfcp: fix device registration issues
      [SCSI] scsi_transport_fc: fix FC_HOST_NUM_ATTRS
      [SCSI] scsi: aha152x pcmcia driver needs spi transport
      [SCSI] zfcp: correctly set this_id for hosts
      [SCSI] Add Brownie to blacklist

commit 67963132638e67ad3c5aa16765e6f3f2f3cdd85c
Author: Maneesh Soni <maneesh@in.ibm.com>
Date:   Tue Mar 14 15:03:14 2006 +0530

    [PATCH] Plug kdump shutdown race window
    
    lapic_shutdown() re-enables interrupts which is un-desirable for panic
    case, so use local_irq_save() and local_irq_restore() to keep the irqs
    disabled for kexec on panic case, and close a possible race window while
    kdump shutdown as shown in this stack trace
    
       -- BUG: spinlock lockup on CPU#1, bash/4396, c52781a0
       [<c01c1870>] _raw_spin_lock+0xb7/0xd2
       [<c029e148>] _spin_lock+0x6/0x8
       [<c011b33f>] scheduler_tick+0xe7/0x328
       [<c0128a7c>] update_process_times+0x51/0x5d
       [<c0114592>] smp_apic_timer_interrupt+0x4f/0x58
       [<c01141ff>] lapic_shutdown+0x76/0x7e
       [<c0104d7c>] apic_timer_interrupt+0x1c/0x30
       [<c01141ff>] lapic_shutdown+0x76/0x7e
       [<c0116659>] machine_crash_shutdown+0x83/0xaa
       [<c013cc36>] crash_kexec+0xc1/0xe3
       [<c029e148>] _spin_lock+0x6/0x8
       [<c013cc22>] crash_kexec+0xad/0xe3
       [<c0215280>] __handle_sysrq+0x84/0xfd
       [<c018d937>] write_sysrq_trigger+0x2c/0x35
       [<c015e47b>] vfs_write+0xa2/0x13b
       [<c015ea73>] sys_write+0x3b/0x64
       [<c0103c69>] syscall_call+0x7/0xb
    
    Signed-off-by: Maneesh Soni <maneesh@in.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cbf0ec6ee001ab89471397ac84105b2e3b2fd986
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 14 08:01:47 2006 -0800

    Revert "[PATCH] x86-64: Fix up handling of non canonical user RIPs"
    
    This reverts commit c33d4568aca9028a22857f94f5e0850012b6444b.
    
    Andrew Clayton and Hugh Dickins report that it's broken for them and
    causes strange page table and slab corruption, and spontaneous reboots.
    
    Let's get it right next time.
    
    Cc: Andrew Clayton <andrew@rootshell.co.uk>
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ceb2ca9cb0bfd885127fa9a2c27127b3fe1c8f28
Author: Dave Peterson <dsp@llnl.gov>
Date:   Mon Mar 13 21:20:50 2006 -0800

    [PATCH] EDAC: disable sysfs interface
    
    - Disable the EDAC sysfs code.  The sysfs interface that EDAC presents to
      user space needs more thought, and is likely to change substantially.
      Therefore disable it for now so users don't start depending on it in its
      current form.
    
    - Disable the default behavior of calling panic() when an uncorrectible
      error is detected (since for now, there is no sysfs interface that allows
      the user to configure this behavior).
    
    Signed-off-by: David S. Peterson <dsp@llnl.gov>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30f4e20a0d3492668f5065af582b5af2d1e4256b
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Mar 13 21:20:49 2006 -0800

    [PATCH] NLM: Ensure we do not Oops in the case of an unlock
    
    In theory, NLM specs assure us that the server will only reply LCK_GRANTED or
    LCK_DENIED_GRACE_PERIOD to our NLM_UNLOCK request.
    
    In practice, we should not assume this to be the case, and the code will
    currently Oops if we do.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6d83d55698b73b4d5d55d3d7715a4c26030d577
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Mar 13 21:20:48 2006 -0800

    [PATCH] SUNRPC: Fix potential deadlock in RPC code
    
    In rpc_wake_up() and rpc_wake_up_status(), it is possible for the call to
    __rpc_wake_up_task() to fail if another thread happens to be calling
    rpc_wake_up_task() on the same rpc_task.
    
    Problem noticed by Bruno Faccini.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c12e87f4652b1ba3be168b4f63a440399b941928
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Mar 13 21:20:47 2006 -0800

    [PATCH] NFSv4: fix mount segfault on errors returned that are < -1000
    
    It turns out that nfs4_proc_get_root() may return raw NFSv4 errors instead of
    mapping them to kernel errors.  Problem spotted by Neil Horman
    <nhorman@tuxdriver.com>
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 712917d1c002f820b177683f4fd491289bde3c32
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Mar 13 21:20:47 2006 -0800

    [PATCH] SUNRPC: fix a NULL pointer dereference in net/sunrpc/clnt.c
    
    The Coverity checker spotted this possible NULL pointer dereference in
    rpc_new_client().
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 143f412eb4c7cc48b9eb4381f9133b7d36c68075
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Mar 13 21:20:46 2006 -0800

    [PATCH] NFS: Fix a potential panic in O_DIRECT
    
    Based on an original patch by Mike O'Connor and Greg Banks of SGI.
    
    Mike states:
    
    A normal user can panic an NFS client and cause a local DoS with
    'judicious'(?) use of O_DIRECT.  Any O_DIRECT write to an NFS file where the
    user buffer starts with a valid mapped page and contains an unmapped page,
    will crash in this way.  I haven't followed the code, but O_DIRECT reads with
    similar user buffers will probably also crash albeit in different ways.
    
    Details: when nfs_get_user_pages() calls get_user_pages(), it detects and
    correctly handles get_user_pages() returning an error, which happens if the
    first page covered by the user buffer's address range is unmapped.  However,
    if the first page is mapped but some subsequent page isn't, get_user_pages()
    will return a positive number which is less than the number of pages requested
    (this behaviour is sort of analagous to a short write() call and appears to be
    intentional).  nfs_get_user_pages() doesn't detect this and hands off the
    array of pages (whose last few elements are random rubbish from the newly
    allocated array memory) to it's caller, whence they go to
    nfs_direct_write_seg(), which then totally ignores the nr_pages it's given,
    and calculates its own idea of how many pages are in the array from the user
    buffer length.  Needless to say, when it comes to transmit those uninitialised
    page* pointers, we see a crash in the network stack.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9a3879abf2f1a27c39915e6074b8ff15a24cb55
Author: GOTO Masanori <gotom@sanori.org>
Date:   Mon Mar 13 21:20:44 2006 -0800

    [PATCH] Fix sigaltstack corruption among cloned threads
    
    This patch fixes alternate signal stack corruption among cloned threads
    with CLONE_SIGHAND (and CLONE_VM) for linux-2.6.16-rc6.
    
    The value of alternate signal stack is currently inherited after a call of
    clone(...  CLONE_SIGHAND | CLONE_VM).  But if sigaltstack is set by a
    parent thread, and then if multiple cloned child threads (+ parent threads)
    call signal handler at the same time, some threads may be conflicted -
    because they share to use the same alternative signal stack region.
    Finally they get sigsegv.  It's an undesirable race condition.  Note that
    child threads created from NPTL pthread_create() also hit this conflict
    when the parent thread uses sigaltstack, without my patch.
    
    To fix this problem, this patch clears the child threads' sigaltstack
    information like exec().  This behavior follows the SUSv3 specification.
    In SUSv3, pthread_create() says "The alternate stack shall not be inherited
    (when new threads are initialized)".  It means that sigaltstack should be
    cleared when sigaltstack memory space is shared by cloned threads with
    CLONE_SIGHAND.
    
    Note that I chose "if (clone_flags & CLONE_SIGHAND)" line because:
      - If clone_flags line is not existed, fork() does not inherit sigaltstack.
      - CLONE_VM is another choice, but vfork() does not inherit sigaltstack.
      - CLONE_SIGHAND implies CLONE_VM, and it looks suitable.
      - CLONE_THREAD is another candidate, and includes CLONE_SIGHAND + CLONE_VM,
        but this flag has a bit different semantics.
    I decided to use CLONE_SIGHAND.
    
    [ Changed to test for CLONE_VM && !CLONE_VFORK after discussion --Linus ]
    
    Signed-off-by: GOTO Masanori <gotom@sanori.org>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Acked-by: Linus Torvalds <torvalds@osdl.org>
    Cc: Ulrich Drepper <drepper@redhat.com>
    Cc: Jakub Jelinek <jakub@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63e1fd41c7127650d355e7db7dd92890edf5523b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 13 21:20:42 2006 -0800

    [PATCH] macintosh: correct AC Power info in /proc/pmu/info
    
    Report AC Power present in /proc/pmu/info if there is no battery.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6acaba8e22bb355409e06d9e7ce4e7bef1bcaa04
Author: Michael Hunold <hunold@linuxtv.org>
Date:   Mon Mar 13 21:20:41 2006 -0800

    [PATCH] Restore tuning capabilities in V4L2 MXB driver
    
    The behaviour of the all-in-one Video4Linux tuner driver apparently
    changed.  It now wants to know the tv standard, otherwise it refuses to
    tune.
    
    Restore tuning functionality in my driver for the "Multimedia eXtension
    Board".  The all-in-one tuner driver apparently changed its behaviour.
    
    Signed-off-by: Michael Hunold <hunold@linuxtv.org>
    Cc: Mauro Carvalho Chehab <mchehab@infradead.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3cb4f09fc2e98bbf26f8c900a94bf3910cd4d823
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Mar 13 21:20:40 2006 -0800

    [PATCH] mtd_dataflash, fix block vs page erase
    
    Fix a bug in the block-erase optimization for Dataflash; it was using block
    erase even for smaller segments that need page erase.
    
    That wouldn't matter for JFFS2, which never erases less than one block
    (sometimes several blocks), but for other callers it might.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Acked-by: David Woodhouse <dwmw2@infradead.org>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82dfdcae0d57c842e02f037758687eef42fb7af6
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Mar 14 11:35:37 2006 +1100

    powerpc: Disallow lparcfg being a module
    
    The lparcfg code needs several things which are pretty arcane internal
    details and which we don't want to export, which means that lparcfg
    doesn't work when built as a module.  This makes it a bool instead of
    a tristate in the Kconfig so that users can't try to build it as a
    module.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3759fa9c55923f719ae944a3f8fbb029b36f759d
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Mar 13 14:26:12 2006 -0800

    [TCP]: Fix zero port problem in IPv6
    
    When we link a socket into the hash table, we need to make sure that we
    set the num/port fields so that it shows us with a non-zero port value
    in proc/netlink and on the wire.  This code and comment is copied over
    from the IPv4 stack as is.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit c33d4568aca9028a22857f94f5e0850012b6444b
Author: Andi Kleen <ak@suse.de>
Date:   Sun Mar 12 23:52:59 2006 +0100

    [PATCH] x86-64: Fix up handling of non canonical user RIPs
    
    EM64T CPUs have somewhat weird error reporting for non canonical RIPs in
    SYSRET.
    
    We can't handle any exceptions there because the exception handler would
    end up running on the user stack which is unsafe.
    
    To avoid problems any code that might end up with a user touched pt_regs
    should return using int_ret_from_syscall.  int_ret_from_syscall ends up
    using IRET, which allows safe exceptions.
    
    Cc: Ernie Petrides <petrides@redhat.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31fe4d331729e9687db84521c3ceb8e43390efcf
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:40:43 2006 -0800

    [NETFILTER]: arp_tables: fix NULL pointer dereference
    
    The check is wrong and lets NULL-ptrs slip through since !IS_ERR(NULL)
    is true.
    
    Coverity #190
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit baa829d8926f02ab04be6ec37780810d221c5b4b
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:35:12 2006 -0800

    [IPV4/6]: Fix UFO error propagation
    
    When ufo_append_data fails err is uninitialized, but returned back.
    Strangely gcc doesn't notice it.
    
    Coverity #901 and #902
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4a1ff6e2bde56cdf176bd54d557b2e15e819f810
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:34:53 2006 -0800

    [TCP]: tcp_highspeed: fix AIMD table out-of-bounds access
    
    Covertiy #547
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cc9a06cd8d6fbb69b4d3c46760c132cfe312fb85
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:34:27 2006 -0800

    [NETLINK]: Fix use-after-free in netlink_recvmsg
    
    The skb given to netlink_cmsg_recv_pktinfo is already freed, move it up
    a few lines.
    
    Coverity #948
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f8dc01f543f28253abeef649987249210d8db3cc
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:33:49 2006 -0800

    [XFRM]: Fix leak in ah6_input
    
    tmp_hdr is not freed when ipv6_clear_mutable_options fails.
    
    Coverity #650
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f6e57464df7ba0e91a23b0854adb56852dcd58a7
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:33:22 2006 -0800

    [NET_SCHED]: act_api: fix skb leak in error path
    
    The skb is allocated by the function, so it needs to be freed instead
    of trimmed on overrun.
    
    Coverity #614
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 406dbfc9ae0e6b7eb4da4a52c0a6556a0d7e6a2f
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Mar 12 20:32:47 2006 -0800

    [NETFILTER]: nfnetlink_queue: fix possible NULL-ptr dereference
    
    Fix NULL-ptr dereference when a config message for a non-existant
    queue containing only an NFQA_CFG_PARAMS attribute is received.
    
    Coverity #433
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 57ddd5c1803859d977c5a31a267d2c805ffe6e11
Merge: 7cafae5... ed071ad...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 12 16:41:27 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev
    
    * 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev:
      [PATCH] ahci: fix NULL pointer dereference detected by Coverity

commit 7cafae52381395d24b83996eca7a7b53ab6a8827
Merge: ba244fe... cdaabbd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 12 14:56:02 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm
    
    * master.kernel.org:/home/rmk/linux-2.6-arm:
      [ARM] iwmmxt thread state alignment
      [ARM] 3350/1: Enable 1-wire on ARM
      [ARM] 3356/1: Workaround for the ARM1136 I-cache invalidation problem
      [ARM] 3355/1: NSLU2: remove propmt depends
      [ARM] 3354/1: NAS100d: fix power led handling
      [ARM] Fix muldi3.S

commit cdaabbd74b15296acf09215355a7f3b07b92b83e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Mar 12 22:36:06 2006 +0000

    [ARM] iwmmxt thread state alignment
    
    This patch removes the reliance of iwmmxt on hand coded alignments.
    Since thread_info is always 8K aligned, specifying that fpstate is
    8-byte aligned achieves the same effect without needing to resort
    to hand coded alignments.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ba244fe9005323452428fee4b4b7d0c70a06b627
Author: David S. Miller <davem@davemloft.net>
Date:   Sat Mar 11 18:51:49 2006 -0800

    [TCP]: Fix tcp_tso_should_defer() when limit>=65536
    
    That's >= a full sized TSO frame, so we should always
    return 0 in that case.
    
    Based upon a report and initial patch from Lachlan
    Andrew, final patch suggested by Herbert Xu.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c12743764129e40dc8461afc1096cf175c7c25f2
Author: Gregor Maier <gregor@net.in.tum.de>
Date:   Sat Mar 11 18:51:25 2006 -0800

    [NETFILTER]: Fix wrong option spelling in Makefile for CONFIG_BRIDGE_EBT_ULOG
    
    Signed-off-by: Gregor Maier <gregor@net.in.tum.de>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0d27b42739ee432a66104793e51a23807b372928
Author: Brian Haley <brian.haley@hp.com>
Date:   Sat Mar 11 18:50:14 2006 -0800

    [IPV6]: fix ipv6_saddr_score struct element
    
    The scope element in the ipv6_saddr_score struct used in
    ipv6_dev_get_saddr() is an unsigned integer, but __ipv6_addr_src_scope()
    returns a signed integer (and can return -1).
    
    Signed-off-by: Brian Haley <brian.haley@hp.com>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0ade309be739eceedc4812798da09d698a59867d
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Mar 11 18:49:38 2006 -0800

    [TG3] tg3_bus_string(): remove dead code
    
    The Coverity checker spotted this dead code (note that (clock_ctrl == 7)
    is already handled above).
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8f22757ee84da64d4f662f1dd03dae95358a1efe
Author: Dave Jones <davej@redhat.com>
Date:   Sat Mar 11 18:49:13 2006 -0800

    [TUN]: Fix leak in tun_get_user()
    
    We're leaking an skb in a failure path in this function.
    
    Coverity #632
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ed071adc97a69785686a37fb88e100f41b482b94
Merge: 6971ed1... 5357448...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Sat Mar 11 19:55:26 2006 -0500

    Merge branch 'master'

commit 6971ed1fbbc80cae54e082aae153d5b063885d0a
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Mar 11 12:47:54 2006 +0900

    [PATCH] ahci: fix NULL pointer dereference detected by Coverity
    
    Fix NULL pointer dereference detected by the Coverity checker.  Kill
    dev -> pdev -> dev conversion while at it.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Cc: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 535744878e34d01a53f946f26dfbca37186f2cf8
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Mar 11 14:12:55 2006 -0800

    Linux 2.6.16-rc6
    
    Gaah. Delayed. But all the better for it!

commit 0992a5d029181421877a716eaf99145828ff7eae
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 8 00:06:27 2006 -0800

    [PATCH] 3c509: bus registration fix
    
    - Don't call eisa_driver_unregister() if eisa_driver_register() failed.
    
    - Properly propagate error values.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit b2cba5b5777123c53852639c6a17e87709e055be
Author: Sam Ravnborg <sam@ravnborg.org>
Date:   Wed Mar 8 00:06:33 2006 -0800

    [PATCH] de620: fix section mismatch warning
    
    In latest -mm de620 gave following warning:
    WARNING: drivers/net/de620.o - Section mismatch: reference to      \
    .init.text:de620_probe from .text between 'init_module' (at offset \
    0x1682) and 'cleanup_module'
    
    init_module() call de620_probe() which is declared __init.
    Fix is to declare init_module() __init too.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 28beaf651b8620b04bc6dec03e22ed5af8114936
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Wed Mar 8 00:06:31 2006 -0800

    [PATCH] NE2000 Kconfig help entry improvement
    
    Improve reference to PCI NE2K support in ISA NE2K documentation.
    Original 2.4 patch From: Ged Haywood <ged@jubileegroup.co.uk>
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 9ee09d9cd4f57bae9cd95ea7ae5f41c29a166361
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Fri Mar 10 15:12:10 2006 -0600

    [PATCH] dl2k: DMA freeing error
    
    This patch fixes an error in the dl2k driver's DMA mapping/unmapping.
    The adapter uses the upper 16bits of the DMA address for the buffer
    size.  However, this is not masked off when referencing the DMA
    address, and can lead to errors by trying to free a DMA address out of
    range.
    
    Thanks,
    Jon
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 9e927fb6186b6913d47d33068160088a084d568e
Author: David S. Miller <davem@davemloft.net>
Date:   Fri Mar 10 18:08:09 2006 -0800

    [PATCH] Wrong return value corrupts free object in e1000 driver
    
    For some reason, E1000's ->hard_start_xmit() routine returns -EFAULT
    instead of one of the NETDEV_TX_* error codes.  In fact, it frees up
    the SKB before returning this.  This makes the queueing layer think
    the packet should be requeued and subsequently we corrupt a freed
    object.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 5ee33b7adc178dbeb16b4d8303ae3ab69a334518
Merge: ed62178... 70f1be4...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Sat Mar 11 13:23:48 2006 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit ed62178589929d248a0aaf4018ca3867e2f96d9d
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:28 2006 -0800

    [PATCH] radeonfb: Fix static array overrun
    
    radeonfb_parse_monitor_layout() will produce an array overrun if passed with a
    substring of length higher than 4 (ie, "XXXXX,YYYYYY").
    
    Coverity Bug 494
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e6509876c5cb079f56dbe334aafaae9a293c886
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:27 2006 -0800

    [PATCH] aty128fb: Fix array overrun
    
    Fix static array overrun
    
    Coverity Bug 556
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54243cefdd3ab8133ebe7d3d705f35ca1d0b59eb
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:26 2006 -0800

    [PATCH] tdfxfb: Fix buffer overrun
    
    The pseudo_palette has room only for 16 entries, but tdfxfb_setcolreg may
    attempt to write more.
    
    Coverity Bug 557
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d301524772be3eef5fae1bcd5ca76fac69bb3b6e
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:26 2006 -0800

    [PATCH] intelfb: Fix buffer overrun
    
    The pseudo_palette has room only for 16 entries, but intelfb_setcolreg will
    attempt to write more.
    
    Coverity Bug 558
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d57f2210e72e0168734bd1503b9e52a71f53d65
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:25 2006 -0800

    [PATCH] savagefb: Fix kfree before use
    
    par->edid is kfree'd before using in fb_edid_to_monspecs()
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91bc89cf98f8aa83c64e14a8939d4f5d0790cf24
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:24 2006 -0800

    [PATCH] imsttfb: Fix resource leak
    
    The struct info and device resource may not be released in the driver's error
    path.  Fix.
    
    Coverity Bug 671
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98365f5eb47e23d6ac1244da556984a74260021e
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:23 2006 -0800

    [PATCH] s1d13xxxfb: Fix resource leak
    
    struct info may not be released in the driver's error path.
    
    Coverity Bug 672
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 939205b27312b7d7c4c55624ba785e554b39ecbb
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:23 2006 -0800

    [PATCH] arcfb: Fix dereference before NULL check
    
    info->par is dereferenced before info is checked for NULL. Fix.
    
    Coverity Bug 833
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16afe814a856e271628c5dfb4abbc318ec6b6f5f
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:22 2006 -0800

    [PATCH] kyrofb: Fix uninitialized value
    
    Initialize Variable 'count' in DisableVGA to zero.
    
    Coverity Bug 874
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 604cc999fda36d6ff840e03dbc70244d2d17eee2
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:21 2006 -0800

    [PATCH] arcfb: Fix uninitialized value
    
    Remove insignificant and uninitialized variable "count" from
    arcfb_lcd_update_page.
    
    Coverity Bug 894
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6af7ffc414828cda880a4e99e20f4f07880281e7
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Mar 11 03:27:20 2006 -0800

    [PATCH] neofb: Fix uninitialized value
    
    Remove insignificant and unitialized variable "waitcycles" from neo2200_sync.
    
    Coverity Bug 895
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a4520bea65f9205a240bbfa473547af1c77ab19
Author: Chris Wright <chrisw@sous-sol.org>
Date:   Sat Mar 11 03:27:20 2006 -0800

    [PATCH] LSM mail list has moved
    
    LSM mail list has moved.
    
    Signed-off-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 692a2061f6f2c360188af72f1f3404a5e7f0efce
Author: Chris Wright <chrisw@sous-sol.org>
Date:   Sat Mar 11 03:27:19 2006 -0800

    [PATCH] update email address
    
    Update email address.
    
    Signed-off-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7cd9013be6c22f3ff6f777354f766c8c0b955e17
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Mar 11 03:27:18 2006 -0800

    [PATCH] remove __put_task_struct_cb export again
    
    The patch '[PATCH] RCU signal handling' [1] added an export for
    __put_task_struct_cb, a put_task_struct helper newly introduced in that
    patch.  But the put_task_struct couldn't be used modular previously as
    __put_task_struct wasn't exported.  There are not callers of it in modular
    code, and it shouldn't be exported because we don't want drivers to hold
    references to task_structs.
    
    This patch removes the export and folds __put_task_struct into
    __put_task_struct_cb as there's no other caller.
    
    [1] http://www2.kernel.org/git/gitweb.cgi?p=linux/kernel/git/torvalds/linux-2.6.git;a=commit;h=e56d090310d7625ecb43a1eeebd479f04affb48b
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 27d162e26a873883937b64526445877bd3341d23
Author: Pat Gefre <pfg@sgi.com>
Date:   Sat Mar 11 03:27:17 2006 -0800

    [PATCH] Altix: small ioc4 oversight
    
    Get rid of the local 'flip' variable and no need to 'trim' the buffer.
    
    Signed-off-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 341c2d806b71cc3596afeb2d9bd26cd718e75202
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Sat Mar 11 03:27:16 2006 -0800

    [PATCH] selinux: tracer SID fix
    
    Fix SELinux to not reset the tracer SID when the child is already being
    traced, since selinux_ptrace is also called by proc for access checking
    outside of the context of a ptrace attach.
    
    Signed-off-by:  Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Acked-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4136cabff33d6d73b8daf2f2612670cc0296f844
Author: Arjan van de Ven <arjan@linux.intel.com>
Date:   Sat Mar 11 03:27:15 2006 -0800

    [PATCH] edac: disable a few sysfs files to avoid them becoming an ABI
    
    Disable (via ugly #if 0's) the 3 sysfs files that I think by now we all
    agree are very much wrong.  These files shouldn't become part of the ABI by
    the 2.6.16 release, so I rather have this minimal patch merged to disable
    them for now, the real fix can then come during the 2.6.17 devel window.
    
    Signed-off-by: Arjan van de Ven <arjan@linux.intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd6ef84e6ac9454080707f2f338360f5d7e556fc
Author: Badari Pulavarty <pbadari@us.ibm.com>
Date:   Sat Mar 11 03:27:14 2006 -0800

    [PATCH] ext3: fix nobh mode for chattr +j inodes
    
    One can do "chattr +j" on a file to change its journalling mode.  Fix
    writeback mode with "nobh" handling for it.
    
    Even though, we mount ext3 filesystem in writeback mode with "nobh" option,
    some one can do "chattr +j" on a single file to force it to do journalled
    mode.  In order to do journaling, ext3_block_truncate_page() need to
    fallback to default case of creating buffers and adding them to transaction
    etc.
    
    Signed-off-by: Badari Pulavarty <pbadari@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0adb25d2e71ab047423d6fc63d5d184590d0a66f
Author: Kirill Korotaev <dev@openvz.org>
Date:   Sat Mar 11 03:27:13 2006 -0800

    [PATCH] ext3: ext3_symlink should use GFP_NOFS allocations inside
    
    This patch fixes illegal __GFP_FS allocation inside ext3 transaction in
    ext3_symlink().  Such allocation may re-enter ext3 code from
    try_to_free_pages.  But JBD/ext3 code keeps a pointer to current journal
    handle in task_struct and, hence, is not reentrable.
    
    This bug led to "Assertion failure in journal_dirty_metadata()" messages.
    
    http://bugzilla.openvz.org/show_bug.cgi?id=115
    
    Signed-off-by: Andrey Savochkin <saw@saw.sw.com.sg>
    Signed-off-by: Kirill Korotaev <dev@openvz.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bd0ee93fef9733c72fef1817330b3ee2b71cf9d
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Mar 11 00:23:38 2006 -0500

    [PATCH] Input: psmouse - disable autoresync
    
    Automatic resynchronization in psmouse driver causes problems on some
    hardware so disable it by default for now. People with KVM switches
    that require resync can still enable it via module parameter or sysfs
    attribute.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35ab0e88c63fb8e61013011560ad10e6200b5ee0
Merge: 44f329a... d8117ce...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Mar 10 16:39:03 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6
    
    * 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6:
      [IA64] Fix race in the accessed/dirty bit handlers

commit 44f329ab69b742194e48f66e87064cff70fb52b8
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Feb 22 13:29:04 2006 +0100

    [PATCH] kbuild: version.h should depend on .kernelrelease
    
    Rebuilding a previously built tree while using make's -j option from
    time to time results in the version.h check running at the same time as
    the updating of .kernelrelease, resulting in UTS_RELEASE remaining an
    empty string (and as a side effect causing the entire kernel to be
    rebuilt).
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04916c0ef482335cb0ae575dbc5a1d97619840cd
Author: Alessandro Zummo <a.zummo@towertech.it>
Date:   Fri Mar 10 22:30:01 2006 +0000

    [ARM] 3350/1: Enable 1-wire on ARM
    
    Patch from Alessandro Zummo
    
    This patches add the 1-wire drivers
    to the ARM Kconfig.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 141fa40cff90881ac4d81f6afa27bc283fe7acca
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Fri Mar 10 22:26:47 2006 +0000

    [ARM] 3356/1: Workaround for the ARM1136 I-cache invalidation problem
    
    Patch from Catalin Marinas
    
    ARM1136 erratum 371025 (category 2) specifies that, under rare
    conditions, an invalidate I-cache by MVA (line or range) operation can
    fail to invalidate a cache line. The recommended workaround is to
    either invalidate the entire I-cache or invalidate the range by
    set/way rather than MVA.
    
    Note that for a 16K cache size, invalidating a 4K page by set/way is
    equivalent to invalidating the entire I-cache.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4ceadbf519c6820b236a9a213255260eb825974b
Author: Hugh Dickins <hugh@veritas.com>
Date:   Fri Mar 10 21:13:44 2006 +0000

    [PATCH] fix pcmcia_device_probe oops
    
    Fix pcmcia_device_probe NULL pointer dereference at startup.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8fce4d8e3b9e3cf47cc8afeb6077e22ab795d989
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Thu Mar 9 17:33:54 2006 -0800

    [PATCH] slab: Node rotor for freeing alien caches and remote per cpu pages.
    
    The cache reaper currently tries to free all alien caches and all remote
    per cpu pages in each pass of cache_reap.  For a machines with large number
    of nodes (such as Altix) this may lead to sporadic delays of around ~10ms.
    Interrupts are disabled while reclaiming creating unacceptable delays.
    
    This patch changes that behavior by adding a per cpu reap_node variable.
    Instead of attempting to free all caches, we free only one alien cache and
    the per cpu pages from one remote node.  That reduces the time spend in
    cache_reap.  However, doing so will lengthen the time it takes to
    completely drain all remote per cpu pagesets and all alien caches.  The
    time needed will grow with the number of nodes in the system.  All caches
    are drained when they overflow their respective capacity.  So the drawback
    here is only that a bit of memory may be wasted for awhile longer.
    
    Details:
    
    1. Rename drain_remote_pages to drain_node_pages to allow the specification
       of the node to drain of pcp pages.
    
    2. Add additional functions init_reap_node, next_reap_node for NUMA
       that manage a per cpu reap_node counter.
    
    3. Add a reap_alien function that reaps only from the current reap_node.
    
    For us this seems to be a critical issue.  Holdoffs of an average of ~7ms
    cause some HPC benchmarks to slow down significantly.  F.e.  NAS parallel
    slows down dramatically.  NAS parallel has a 12-16 seconds runtime w/o rotor
    compared to 5.8 secs with the rotor patches.  It gets down to 5.05 secs with
    the additional interrupt holdoff reductions.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b61fcda8a640bb87be23f9f09c1f24357b5c6e1
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Thu Mar 9 17:33:53 2006 -0800

    [PATCH] m68k: fix cmpxchg compile errors if CONFIG_RMW_INSNS=n
    
    We require that all archs implement atomic_cmpxchg(), for the generic
    version of atomic_add_unless().
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Geert Uytterhoeven <geert@linux-m68k.org>
    Cc: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b707dbe6c52e143a9afea06aa8f84103135ca873
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Thu Mar 9 17:33:52 2006 -0800

    [PATCH] s390: dasd proc interface typo
    
    This fixes a typo introduced with 90f0094dc607abe384a412bfb7199fb667ab0735.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f2937be5895dbae23ff66767a2fc17793e63159c
Author: Yasunori Goto <y-goto@jp.fujitsu.com>
Date:   Thu Mar 9 17:33:51 2006 -0800

    [PATCH] memory hotadd: pgdat->node_present_pages fix
    
    When pages are onlined, not only zone->present_pages but also
    pgdat->node_present_pages should be refreshed.
    
    This parameter is used to show information at
    /sys/device/system/node/nodeX/meminfo via si_meminfo_node().
    
    So, it shows strange value for MemUsed which is calculated
    (node_present_pages - all zones free pages).
    
    Signed-off-by: Yasunori Goto <y-goto@jp.fujitsu.com>
    Cc: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 57c432b54bc34f0afacda7d9da0528ee22e78dec
Author: Tim Small <tim@buttersideup.com>
Date:   Thu Mar 9 17:33:50 2006 -0800

    [PATCH] edac: mark as experimental
    
    EDAC is still causing a few problems and the code is relatively green.  Mark
    it as experimental until thing settle down.
    
    Also, provide some documentation pointers in Kconfig help.
    
    Signed-off-by: Tim Small <tim@buttersideup.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96567161de0ceed45cd2eb0e5380e3c797f5c0f4
Author: Christian Ehrhardt <ehrhardt@de.ibm.com>
Date:   Thu Mar 9 17:33:49 2006 -0800

    [PATCH] s390: Increase spinlock retry code performance
    
    Currently the code tries up to spin_retry times to grab a lock using the cs
    instruction.  The cs instruction has exclusive access to a memory region
    and therefore invalidates the appropiate cache line of all other cpus.  If
    there is contention on a lock this leads to cache line trashing.  This can
    be avoided if we first check wether a cs instruction is likely to succeed
    before the instruction gets actually executed.
    
    Signed-off-by: Christian Ehrhardt <ehrhardt@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a88231fc7da311e4da4ce2011d1a132c80c145a
Author: Max Asbock <masbock@us.ibm.com>
Date:   Thu Mar 9 17:33:48 2006 -0800

    [PATCH] ibmasm: use after free fix
    
    The kobject_put() can free the memory at *cmd, but cmd->lock points to a
    persistent lock that is not freed with cmd.
    
    Signed-off-by: Max Asbock <masbock@us.ibm.com>
    Cc: Vernon Mauery <vernux@us.ibm.com>
    Cc: Srihari Vijayaraghavan <sriharivijayaraghavan@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6bf527091b1dd40f1b6a496812ce7520621c282
Author: Christoph Lameter <clameter@sgi.com>
Date:   Thu Mar 9 17:33:47 2006 -0800

    [PATCH] vmscan: no zone_reclaim if PF_MALLOC is set
    
    If the process has already set PF_MALLOC and is already using
    current->reclaim_state then do not try to reclaim memory from the zone.
    This is set by kswapd and/or synchrononous global reclaim which will not
    take it lightly if we zap the reclaim_state.
    
    Signed-off-by: Christoph Lameter <clameter@sig.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04b857f74cec5efc7730e9db47e291310f4708a4
Author: Neil Brown <neilb@suse.de>
Date:   Thu Mar 9 17:33:46 2006 -0800

    [PATCH] md: Fix several raid1 bugs which cause a memory leak
    
    - wrong test for 'is this a BARRIER bio'
    - not freeing on all possible paths.
    - using r1_bio after freeing it.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 628de616ba760b7b1d5e3d95dbe40a988fbf8ca5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Mar 9 17:33:45 2006 -0800

    [PATCH] xtensa must set RWSEM_GENERIC_SPINLOCK=y
    
    /usr/src/ctest/git/kernel/mm/rmap.c: In function `page_referenced_one':
    /usr/src/ctest/git/kernel/mm/rmap.c:354: warning: implicit declaration of function `rwsem_is_locked'
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: <chris@zankel.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 38fb9428db627559a8ba0505d21a5ff23bf84034
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Mar 9 17:33:44 2006 -0800

    [PATCH] arch/sh/Kconfig: don't source non-existing Kconfig files
    
    arch/sh/Kconfig shouldn't source non-existing Kconfig files.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Paul Mundt <lethal@linux-sh.org>
    Cc: Kazumoto Kojima <kkojima@rr.iij4u.or.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ef675d491bd65028fa838015ebc6ce8abefab6f
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Mar 9 17:33:38 2006 -0800

    [PATCH] mtd: 64 bit fixes
    
    Fix some bugs in mtd/jffs2 on 64bit platform.
    
    The MEMGETBADBLOCK/MEMSETBADBLOCK ioctl are not listed in compat_ioctl.h.
    
    And some variables in jffs2 are declared as uint32_t but used to hold
    size_t values.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Acked-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eff2c2f6f569267aa52e2431844cec30637d7ade
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Thu Mar 9 17:33:37 2006 -0800

    [PATCH] alpha: fix IRQ handling lockup
    
    Fix a lockup which was introduced during the conversion to the generic IRQ
    framework.
    
    Cc: Richard Henderson <rth@twiddle.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10ad1b7363090c0eec2b4054a5a3b82d2cc09ee5
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Mar 9 17:33:36 2006 -0800

    [PATCH] Fix error handling in backlight drivers
    
    ERR_PTR() is supposed to be passed a negative value.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 435a80f610b2ac38a4b5334a7ae22672de3f06bd
Author: Doug Warzecha <Douglas_Warzecha@dell.com>
Date:   Thu Mar 9 17:33:35 2006 -0800

    [PATCH] dcdbas: dcdbas_pdev referenced after platform_device_unregister on exit
    
    smi_data_buf_free() references dcdbas_pdev when calling
    dma_free_coherent().  In dcdbas_exit(), smi_data_buf_free() is called after
    platform_device_unregister(dcdbas_pdev).
    
    This patch moves platform_device_unregister(dcdbas_pdev) after
    smi_data_buf_free() in dcdbas_exit().
    
    Signed-off-by: Doug Warzecha <Douglas_Warzecha@dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85a6cd03a97f04ffff7bfedfa3172894ca9a617b
Author: Hugh Dickins <hugh@veritas.com>
Date:   Thu Mar 9 17:33:34 2006 -0800

    [PATCH] page_add_file_rmap(): remove BUG_ON()s
    
    Remove two early-development BUG_ONs from page_add_file_rmap.
    
    The pfn_valid test (originally useful for checking that nobody passed an
    artificial struct page) comes too late, since we already have the struct
    page.
    
    The PageAnon test (useful when anon was first distinguished from file rmap)
    prevents ->nopage implementations from reusing ->mapping, which would
    otherwise be available.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad58f7dbeb6f5ea82679962f18985f16b660a2d9
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Fri Mar 10 00:56:16 2006 +0100

    [SCSI] zfcp: fix device registration issues
    
    The patch fixes following issues:
    
    (1) Replace scsi_add_device with scsi_scan_target.
    (Thus the rport instead of the scsi_host becomes parent of a
    scsi_target again.)
    
    (2) Avoid scsi_device allocation during registration of an remote port.
    (Would be done during fc_scsi_scan_rport.)
    
    (3) Fix queuecommand behaviour when an zfcp unit is blocked.
    (Call scsi_done with DID_NO_CONNECT instead of returning
    SCSI_MLQUEUE_DEVICE_BUSY otherwise we might end up waiting
    for completion in blk_execute_rq for ever.)
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 70f1be4812a833ac856818c3149e432ff6a84c2e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Mar 7 11:06:37 2006 -0800

    sky2: truncate oversize packets
    
    Turn on truncation to prevent getting choked by frames larger than expected.
    Without this fix, driver hangs after receiving an oversize packet.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit b19666d92009ad2aa8e12d25f2cab59fb32421eb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Mar 7 11:06:36 2006 -0800

    sky2: force early transmit interrupts
    
    Avoid premature transmit ring full conditions.
    Force a transmit status interrupt if transmit ring gets nearly full
    and after a TSO send.
    
    Allow more entries in transmit ring to be used if dma_addr is 32 bits
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 28a31860191c0d5710d42f85510daac0a3c26a01
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Mar 7 11:06:35 2006 -0800

    sky2: not random enough
    
    Don't use sky2 to seed random pool beacause the network packet arrival time
    will not be truly random due to NAPI and interrupt mitigation.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 39bf4295bb4bcb0c108f74b72dd2eb5b9b9dfacc
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Wed Mar 8 22:45:52 2006 +0100

    de2104x: fix the TX watchdog
    
    Insert de_init_rings() to reinit the rings before de_init_hw()
    tries to access them again.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 3f735b76a4e654bee652cbbeb405b9b3ef950316
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Wed Mar 8 22:41:15 2006 +0100

    de2104x: prevent interrupt before the interrupt handler is registered
    
    de_init_hw enables the irq thus it must be issued after request_irq.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 6218cf4410cfce7bc7e89834e73525b124625d4c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 8 17:14:49 2006 +0000

    [MIPS] Always pass -msoft-float.
    
    Some people still haven't heared that fp in the kernel is forbidden.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fd2a4f1183d1e6802457d70cea067396236ed64b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 8 16:04:32 2006 +0000

    [MIPS] Undefine scr_writew and scr_readw in <asm/vga.h>.
    
    This is gluing the build of cirrusfb but really the mess that would need
    cleaning and fixing is <video/vga.h> and <linux/vt_buffer.h> ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1443e483e34d2ead97215bd8496b34b0d3fbc2c0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 8 15:37:26 2006 +0000

    [MIPS] Scatter a bunch of __init over tlbex.c.
    
    Found by make buildcheck.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3367fd50757459ae7490b9dfa59b60fedc283821
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 8 14:22:27 2006 +0000

    [MIPS] Momentum: Resurrect after things were moved around a while ago.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bb7d83f74477b41a2dee71771805c8447cdaa70f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 8 14:13:04 2006 +0000

    [MIPS] Discard .exit.text at runtime.
    
    At times gcc will place bits of __exit functions into .rodata.  If
    compiled into the kernle itself we used to discard .exit.text - but
    not the bits left in .rodata.  While harmless this did at times result
    in a large number of warnings.  So until gcc fixes this, discard
    .exit.text at runtime.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ec28f3065795ed3be7413368efd7f63d7b81e82d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Mar 5 00:45:33 2006 +0000

    [MIPS] Enable highmem for all MIPS32 and MIPS64 processors.
    
    In case a particular system doesn't support highmem the runtime checks
    will ensure nothing bad is going to happen.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cec2f0ca29fe99eec5e4012e5fb341fce64e578b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 3 17:35:15 2006 +0000

    [MIPS] A struct console.setup function may not be __init.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cf028d1715cfa8db1ad95ed9ee479b7a0b9e1cc5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Mar 2 16:50:12 2006 +0000

    [MIPS] Threaten removal of code for NEC DDB5074 and DDB5476 evaluation boards.
    
    What:   Support for NEC DDB5074 and DDB5476 evaluation boards.
    When:   June 2006
    Why:    Board specific code doesn't build anymore since ~2.6.0 and no
            users have complained indicating there is no more need for these
            boards.  This should really be considered a last call.
    Who:    Ralf Baechle <ralf@linux-mips.org>

commit ad139a2f56e5789aa8a9f74e3600a7f854a38de9
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Thu Mar 9 16:37:49 2006 +0100

    [SCSI] scsi_transport_fc: fix FC_HOST_NUM_ATTRS
    
    In the past I added an host attribute but unfortunately
    I forgot to increase FC_HOST_NUM_ATTRS.
    This is fixed with the patch. Otherwise an fibre channel
    lld might run into
          BUG_ON(count > FC_HOST_NUM_ATTRS);
    in fc_attach_transport().
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0d514f040ac6629311974889d5b96bcf21c6461a
Merge: 5ee1af9... 1bd7933...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 18:11:00 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge
    
    * git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge:
      powerpc: Fix various syscall/signal/swapcontext bugs
      [PATCH] powerpc: incorrect rmo_top handling in prom_init
      [PATCH] powerpc: Fix incorrect pud_ERROR() message
      [PATCH] powerpc: Expose SMT and L1 icache snoop userland features
      [PATCH] powerpc: Fix windfarm_pm112 not starting all control loops
      [PATCH] powerpc: Fix old g5 issues with windfarm
      powerpc32: Fix timebase synchronization on 32-bit powermacs
      powerpc: Turn off verbose debug output in powermac platform functions
      powerpc: Fix might-sleep warning in program check exception handler

commit 5ee1af9f519e6dc5a7d7912e87a1aaec857c8818
Author: Andi Kleen <ak@suse.de>
Date:   Wed Mar 8 17:57:26 2006 -0800

    [PATCH] block: disable block layer bouncing for most memory on 64bit systems
    
    The low level PCI DMA mapping functions should handle it in most cases.
    
    This should fix problems with depleting the DMA zone early. The old
    code used precious GFP_DMA memory in many cases where it was not needed.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9262c12c0084ddba445a9a42e98994018e51400
Author: Andi Kleen <ak@suse.de>
Date:   Wed Mar 8 17:57:25 2006 -0800

    [PATCH] i386: port ATI timer fix from x86_64 to i386 II
    
    ATI chipsets tend to generate double timer interrupts for the local APIC
    timer when both the 8254 and the IO-APIC timer pins are enabled.  This is
    because they route it to both and the result is anded together and the CPU
    ends up processing it twice.
    
    This patch changes check_timer to disable the 8254 routing for interrupt 0.
    
    I think it would be safe on all chipsets actually (i tested it on a couple
    and it worked everywhere) and Windows seems to do it in a similar way, but
    to be conservative this patch only enables this mode on ATI (and adds
    options to enable/disable too)
    
    Ported over from a similar x86-64 change.
    
    I reused the ACPI earlyquirk infrastructure for the ATI bridge check, but
    tweaked it a bit to work even without ACPI.
    
    Inspired by a patch from Chuck Ebbert, but redone.
    
    Cc: Chuck Ebbert <76306.1226@compuserve.com>
    Cc: "Brown, Len" <len.brown@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 979ce809bab37cf438f0db22bfa732d01a84a8c2
Merge: 7a2fe8c... 1efa3c0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 17:50:14 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6
    
    * master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6:
      [NET] compat ifconf: fix limits

commit 7a2fe8c49f0f346601a18c69ba0f75227c0c5993
Merge: 2ec5e3a... 155ec9e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 16:59:34 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb
    
    * master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb:
      Merge branch 'work-fixes'
      V4L/DVB (3413): Typos grab bag of the month
      V4L/DVB (3403): Workaround to fix initialization for Nexus CA
      Merge branch 'work-fixes'
      V4L/DVB (3395): Fixed Pinnacle 300i DVB-T support
      V4L/DVB (3399): ELSA EX-VISION 500TV: fix incorrect PCI subsystem ID
      V4L/DVB (3382): Fix stv0297 for qam128 on tt c1500 (saa7146)
      V4L/DVB (3300a): Removing personal email from DVB maintainers
      V4L/DVB (3385): Dvb: fix __init/__exit section references in av7110 driver
      V4L/DVB (3378): Restore power on defaults of tda9887 after tda8290 probe
      V4L/DVB (3354): Fix maximum for the saturation and contrast controls.
      V4L/DVB (3352): Cxusb: fix lgdt3303 naming
      V4L/DVB (3348): Fixed saa7134 ALSA initialization with multiple cards
      V4L/DVB (3347): Pinnacle PCTV 40i: add filtered Composite2 input
      V4L/DVB (3341): Upstream sync - make 2 structs static
      V4L/DVB (3340): Make a struct static
      V4L/DVB (3337): Drivers/media/dvb/frontends/mt312.c: cleanups
      V4L/DVB (3336): Bt8xx documentation authors fix

commit 1efa3c05f8640c37ba89d54dfaa18504d21986ce
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Mar 8 16:46:08 2006 -0800

    [NET] compat ifconf: fix limits
    
    A recent change to compat. dev_ifconf() in fs/compat_ioctl.c
    causes ifconf data to be truncated 1 entry too early when copying it
    to userspace.  The correct amount of data (length) is returned,
    but the final entry is empty (zero, not filled in).
    The for-loop 'i' check should use <= to allow the final struct
    ifreq32 to be copied.  I also used the ifconf-corruption program
    in kernel bugzilla #4746 to make sure that this change does not
    re-introduce the corruption.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d8117ce5a679ff1f48df247da30fb62c16d562c5
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Tue Mar 7 19:05:32 2006 -0800

    [IA64] Fix race in the accessed/dirty bit handlers
    
    A pte may be zapped by the swapper, exiting process, unmapping or page
    migration while the accessed or dirty bit handers are about to run. In that
    case the accessed bit or dirty is set on an zeroed pte which leads the VM to
    conclude that this is a swap pte. This may lead to
    
    - Messages from the vm like
    
    swap_free: Bad swap file entry 4000000000000000
    
    - Processes being aborted
    
    swap_dup: Bad swap file entry 4000000000000000
    VM: killing process ....
    
    Page migration is particular suitable for the creation of this race since
    it needs to remove and restore page table entries.
    
    The fix here is to check for the present bit and simply not update
    the pte if the page is not present anymore. If the page is not present
    then the fault handler should run next which will take care of the problem
    by bringing the page back and then mark the page dirty or move it onto the
    active list.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit e7fcdb79ecaa01e2eba06e3fb64e10455bdb5aa7
Author: Alessandro Zummo <a.zummo@towertech.it>
Date:   Wed Mar 8 23:45:12 2006 +0000

    [ARM] 3355/1: NSLU2: remove propmt depends
    
    Patch from Alessandro Zummo
    
    The patch that would have made the NSLU2
    kernel non compatible with other ixp4xx machs
    never entered the kernel. So it is actually
    safe to remove the prompt dependencies.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dcc8fa50ebc251a1394a2c8561eee7d79cc5f437
Author: Alessandro Zummo <a.zummo@towertech.it>
Date:   Wed Mar 8 23:45:10 2006 +0000

    [ARM] 3354/1: NAS100d: fix power led handling
    
    Patch from Alessandro Zummo
    
    Disable GPIO clocks to allow
    the power led to work properly.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2ec5e3a867d63d04932e11c6097f63760d9be3fe
Author: Michael Matz <matz@suse.de>
Date:   Tue Mar 7 21:55:48 2006 -0800

    [PATCH] fix kexec asm
    
    While testing kexec and kdump we hit problems where the new kernel would
    freeze or instantly reboot.  The easiest way to trigger it was to kexec a
    kernel compiled for CONFIG_M586 on an athlon cpu.  Compiling for CONFIG_MK7
    instead would work fine.
    
    The patch fixes a few problems with the kexec inline asm.
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Acked-by: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 62287fbb54b4af71dc5a4918350f81a4cd467788
Author: Matt Mackall <mpm@selenic.com>
Date:   Tue Mar 7 21:55:47 2006 -0800

    [PATCH] dac960: add disk entropy in request completions
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Tested-by: Anders K. Pedersen <akp@cohaesio.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07ed76b2a085a31f427c2a912a562627947dc7de
Author: Jack Steiner <steiner@sgi.com>
Date:   Tue Mar 7 21:55:46 2006 -0800

    [PATCH] slab: allocate larger cache_cache if order 0 fails
    
    kmem_cache_init() incorrectly assumes that the cache_cache object will fit
    in an order 0 allocation.  On very large systems, this is not true.  Change
    the code to try larger order allocations if order 0 fails.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Cc: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 731805b49489055c1548f7ccfbd44c9b84013264
Author: Latchesar Ionkov <lucho@advancedsolutions.com>
Date:   Tue Mar 7 21:55:42 2006 -0800

    [PATCH] v9fs: fix for access to unitialized variables or freed memory
    
    Miscellaneous fixes related to accessing uninitialized variables or memory
    that was already freed.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed2da193fe6671fe4d7e34041bae40308d18247f
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Tue Mar 7 21:55:40 2006 -0800

    [PATCH] x86: cpu model calculation for family 6 cpu
    
    The x86_model calculation also applies for family 6. early_cpu_detect
    does the right thing, but generic_identify misses.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Acked-by: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90f0094dc607abe384a412bfb7199fb667ab0735
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Tue Mar 7 21:55:39 2006 -0800

    [PATCH] s390: dasd partition detection
    
    DASD allows to open a device as soon as gendisk is registered, which means the
    device is a fake device (capacity=0) and we do know nothing about blocksize
    and partitions at that point of time.  In case the device is opened by
    someone, the bdev and inode creation is done with the fake device info and the
    following partition detection code is just using the wrong data.
    
    To avoid this modify the DASD state machine to make sure that the open is
    rejected until the device analysis is either finished or an unformatted device
    was detected.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fbcae7eafcf7dfb315602de935d7ca85574e5c11
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Tue Mar 7 21:55:38 2006 -0800

    [PATCH] s390: iucv message limit for smsg
    
    The message limit on the iucv connect call for the smsg module is too low.
    Therefore increase the smsg message limit to 255.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 331c46591414f7f92b1cec048009abe89892ee79
Author: Gerald Schaefer <geraldsc@de.ibm.com>
Date:   Tue Mar 7 21:55:37 2006 -0800

    [PATCH] s390: fix strnlen_user return value
    
    strnlen_user is supposed to return then length count + 1 if no terminating \0
    is found, and it should return 0 on exception.  Found by David Howells
    <dhowells@redhat.com>.
    
    Signed-off-by: Gerald Schaefer <geraldsc@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Acked-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e96fb230cc97760e448327c0de612cfba94ca7bf
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Tue Mar 7 21:55:36 2006 -0800

    [PATCH] jffs2: avoid divide-by-zero
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 529bf6be5c04f2e869d07bfdb122e9fd98ade714
Author: Dipankar Sarma <dipankar@in.ibm.com>
Date:   Tue Mar 7 21:55:35 2006 -0800

    [PATCH] fix file counting
    
    I have benchmarked this on an x86_64 NUMA system and see no significant
    performance difference on kernbench.  Tested on both x86_64 and powerpc.
    
    The way we do file struct accounting is not very suitable for batched
    freeing.  For scalability reasons, file accounting was
    constructor/destructor based.  This meant that nr_files was decremented
    only when the object was removed from the slab cache.  This is susceptible
    to slab fragmentation.  With RCU based file structure, consequent batched
    freeing and a test program like Serge's, we just speed this up and end up
    with a very fragmented slab -
    
    llm22:~ # cat /proc/sys/fs/file-nr
    587730  0       758844
    
    At the same time, I see only a 2000+ objects in filp cache.  The following
    patch I fixes this problem.
    
    This patch changes the file counting by removing the filp_count_lock.
    Instead we use a separate percpu counter, nr_files, for now and all
    accesses to it are through get_nr_files() api.  In the sysctl handler for
    nr_files, we populate files_stat.nr_files before returning to user.
    
    Counting files as an when they are created and destroyed (as opposed to
    inside slab) allows us to correctly count open files with RCU.
    
    Signed-off-by: Dipankar Sarma <dipankar@in.ibm.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21a1ea9eb40411d4ee29448c53b9e4c0654d6ceb
Author: Dipankar Sarma <dipankar@in.ibm.com>
Date:   Tue Mar 7 21:55:33 2006 -0800

    [PATCH] rcu batch tuning
    
    This patch adds new tunables for RCU queue and finished batches.  There are
    two types of controls - number of completed RCU updates invoked in a batch
    (blimit) and monitoring for high rate of incoming RCUs on a cpu (qhimark,
    qlowmark).
    
    By default, the per-cpu batch limit is set to a small value.  If the input
    RCU rate exceeds the high watermark, we do two things - force quiescent
    state on all cpus and set the batch limit of the CPU to INTMAX.  Setting
    batch limit to INTMAX forces all finished RCUs to be processed in one shot.
     If we have more than INTMAX RCUs queued up, then we have bigger problems
    anyway.  Once the incoming queued RCUs fall below the low watermark, the
    batch limit is set to the default.
    
    Signed-off-by: Dipankar Sarma <dipankar@in.ibm.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2bab3d92486fb781f4d06f56339264ed1492392
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 7 21:55:31 2006 -0800

    [PATCH] percpu_counter_sum()
    
    Implement percpu_counter_sum().  This is a more accurate but slower version of
    percpu_counter_read_positive().
    
    We need this for Alex's speedup-ext3_statfs patch and for the nr_file
    accounting fix.  Otherwise these things would be too inaccurate on large CPU
    counts.
    
    Cc: Ravikiran G Thirumalai <kiran@scalex86.org>
    Cc: Alex Tomas <alex@clusterfs.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b884e25784f62a1c740d2e4c1ce19cb89644e986
Author: GOTO Masanori <gotom@sanori.org>
Date:   Tue Mar 7 21:55:29 2006 -0800

    [PATCH] x86: Fix i386 nmi_watchdog that does not trigger die_nmi
    
    Fix i386 nmi_watchdog that does not meet watchdog timeout condition.  It
    does not hit die_nmi when it should be triggered, because the current
    nmi_watchdog_tick in arch/i386/kernel/nmi.c never count up alert_counter
    like this:
    
    	void nmi_watchdog_tick (struct pt_regs * regs) {
    	if (last_irq_sums[cpu] == sum) {
    		alert_counter[cpu]++;		<- count up alert_counter, but
    		if (alert_counter[cpu] == 5*nmi_hz)
    			die_nmi(regs, "NMI Watchdog detected LOCKUP");
    		alert_counter[cpu] = 0;		<- reset alert_counter
    
    This patch changes it back to the previous and working version.
    
    This was found and originally written by Kohta NAKASHIMA.
    
    (akpm: also uninline write_watchdog_counter(), saving 184 byets)
    
    Signed-off-by: GOTO Masanori <gotom@sanori.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 707ced0d718e89b52b13aa55a64653083e792cca
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Mar 7 21:55:28 2006 -0800

    [PATCH] __get_unaligned() gcc-4 fix
    
    If the 'ptr' is a const, this code cause "assignment of read-only variable"
    error on gcc 4.x.
    
    Use __u64 instead of __typeof__(*(ptr)) for temporary variable to get
    rid of errors on gcc 4.x.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81c29a857d3c8d6ea9c4f20d196c36bf0a07c615
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Mar 7 21:55:27 2006 -0800

    [PATCH] idle threads should have a sane ->timestamp value
    
    Idle threads should have a sane ->timestamp value, to avoid init kernel
    thread(s) from inheriting it and causing miscalculations in
    try_to_wake_up().
    
    Reported-by: Mike Galbraith <efault@gmx.de>.
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d6660eb3665f22d16aff466eb9d45df6102b254
Author: Phillip Susi <psusi@cfl.rr.com>
Date:   Tue Mar 7 21:55:24 2006 -0800

    [PATCH] udf: fix uid/gid options and add uid/gid=ignore and forget options
    
    Fix a bug in udf where it would write uid/gid = 0 to the disk for files
    owned by the id given with the uid=/gid= mount options.  It also adds 4 new
    mount options: uid/gid=forget and uid/gid=ignore.  Without any options the
    id in core and on disk always match.  Giving uid/gid=nnn specifies a
    default ID to be used in core when the on disk ID is -1.  uid/gid=ignore
    forces the in core ID to allways be used no matter what the on disk ID is.
    uid/gid=forget forces the on disk ID to always be written out as -1.
    
    The use of these options allows you to override ownerships on a disk or
    disable ownwership information from being written, allowing the media to be
    used portably between different computers and possibly different users
    without permissions issues that would require root to correct.
    
    Signed-off-by: Phillip Susi <psusi@cfl.rr.com>
    Cc: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f709ed0e3ccd3e88e0632b69f00174e83f8d98b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 7 21:55:22 2006 -0800

    [PATCH] numa_maps-update fix
    
    Fix the mm/mempolicy.c build for !CONFIG_HUGETLB_PAGE.
    
    Cc: Christoph Lameter <clameter@engr.sgi.com>
    Cc: Martin Bligh <mbligh@google.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5f735e52fb41e032b0db08aa20c02dbb9cd0db3
Author: Pavel Machek <pavel@ucw.cz>
Date:   Tue Mar 7 21:55:20 2006 -0800

    [PATCH] serial core: work around sub-driver bugs
    
    We're presently getting oopses because Bluetooth (and possibly other) drivers
    are calling core functions after things have been shut down.
    
    So rather than oopsing, let's drop a warning then take avoiding action, so the
    machine survives.  Once all the sub-drivers are fixed up we can remove the
    take-avoiding-action part.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Cc: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1c6cc5fd32978ffdc4d0acf8592d3901adefbdad
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Tue Mar 7 21:55:20 2006 -0800

    [PATCH] powerpc: restore eeh_add_device_late() prototype stub
    
    We fixed this:
    
    arch/powerpc/platforms/pseries/eeh.c: In function `eeh_add_device_tree_late':
    arch/powerpc/platforms/pseries/eeh.c:901: warning: implicit declaration of function `eeh_add_device_late'
    arch/powerpc/platforms/pseries/eeh.c: At top level:
    arch/powerpc/platforms/pseries/eeh.c:918: error: conflicting types for 'eeh_add_device_late'
    arch/powerpc/platforms/pseries/eeh.c:901: error: previous implicit declaration of 'eeh_add_device_late' was here
    make[2]: *** [arch/powerpc/platforms/pseries/eeh.o] Error 1
    
    But we forgot the !CONFIG_EEH stub.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a19cbd4bf258840ade3b6ee9e9256006d0644e09
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 14:03:09 2006 -0800

    Mark the pipe file operations static
    
    They aren't used (nor even really usable) outside of pipe.c anyway
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 432e7c0dfe884b6ab1c32fd3f17c64c31d8fa7e2
Merge: f78bb8a... e1c4855...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 13:20:46 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6
    
    * 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6:
      [IA64] mca recovery return value when no bus check
      [IA64] SGI SN drivers: don't report !sn2 hardware as an error
      [IA64] don't report !sn2 or !summit hardware as an error
      [IA64] gensparse_defconfig: turn on PNPACPI
      [IA64] Increase severity of MCA recovery messages

commit f78bb8ad482267b92c122f0e37a7dce69c880247
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 8 10:33:05 2006 -0800

    slab: fix calculate_slab_order() for SLAB_RECLAIM_ACCOUNT
    
    Instead of having a hard-to-read and confusing conditional in the
    caller, just make the slab order calculation handle this special case,
    since it's simple and obvious there.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c8fdae78cf5d73c6739912a1ff087c0f23b2a47
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Mar 8 17:25:33 2006 +0000

    [ARM] Fix muldi3.S
    
    When shifting the low-parts of signed numbers, a logical shift
    should be used to avoid sign-extending a bit which isn't a sign
    bit.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 155ec9e63da962bf26ffc65a4088c6cc935f28db
Merge: 8e2cc1a... 8a59822...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Wed Mar 8 12:34:10 2006 -0300

    Merge branch 'work-fixes'

commit 8a59822f68996c1f525a8ed87447a4dbc27ada0b
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Mar 7 22:20:23 2006 -0300

    V4L/DVB (3413): Typos grab bag of the month
    
    Typos grab bag of the month.
    Eyeballed by jmc@ in OpenBSD.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 05e3beb288183f9176c5fba18fae43d348cc5523
Author: Marco Schluessler <marco@lordzodiac.de>
Date:   Fri Feb 24 18:53:00 2006 -0300

    V4L/DVB (3403): Workaround to fix initialization for Nexus CA
    
    Workaround for Nexus CA: Debi test fails unless first debi write is repeated.
    
    Signed-off-by: Marco Schluessler <marco@lordzodiac.de>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 1bd79336a426c5e4f3bab142407059ceb12cadf9
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Mar 8 13:24:22 2006 +1100

    powerpc: Fix various syscall/signal/swapcontext bugs
    
    A careful reading of the recent changes to the system call entry/exit
    paths revealed several problems, plus some things that could be
    simplified and improved:
    
    * 32-bit wasn't testing the _TIF_NOERROR bit in the syscall fast exit
      path, so it was only doing anything with it once it saw some other
      bit being set.  In other words, the noerror behaviour would apply to
      the next system call where we had to reschedule or deliver a signal,
      which is not necessarily the current system call.
    
    * 32-bit wasn't doing the call to ptrace_notify in the syscall exit
      path when the _TIF_SINGLESTEP bit was set.
    
    * _TIF_RESTOREALL was in both _TIF_USER_WORK_MASK and
      _TIF_PERSYSCALL_MASK, which is odd since _TIF_RESTOREALL is only set
      by system calls.  I took it out of _TIF_USER_WORK_MASK.
    
    * On 64-bit, _TIF_RESTOREALL wasn't causing the non-volatile registers
      to be restored (unless perhaps a signal was delivered or the syscall
      was traced or single-stepped).  Thus the non-volatile registers
      weren't restored on exit from a signal handler.  We probably got
      away with it mostly because signal handlers written in C wouldn't
      alter the non-volatile registers.
    
    * On 32-bit I simplified the code and made it more like 64-bit by
      making the syscall exit path jump to ret_from_except to handle
      preemption and signal delivery.
    
    * 32-bit was calling do_signal unnecessarily when _TIF_RESTOREALL was
      set - but I think because of that 32-bit was actually restoring the
      non-volatile registers on exit from a signal handler.
    
    * I changed the order of enabling interrupts and saving the
      non-volatile registers before calling do_syscall_trace_leave; now we
      enable interrupts first.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7986824e4e31d6c66f39d2f11ab93fcfed21f593
Merge: d423421... c4432c4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 7 18:04:54 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial
    
    * master.kernel.org:/home/rmk/linux-2.6-serial:
      [SERIAL] ip22zilog: Fix oops on runlevel change with serial console
      [SERIAL] Fix two bugs in parport_serial

commit d423421cb3e924cf68da231a732c3250c80afa4e
Merge: 850a9a4... 744bfe4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 7 18:02:16 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm
    
    * master.kernel.org:/home/rmk/linux-2.6-arm:
      [ARM] 3353/1: NAS100d: protect  nas100d_power_exit() with machine_is_nas100d()
      [ARM] 3352/1: DSB required for the completion of a TLB maintenance operation

commit e1c48554ae295de984eee83a7798e7fb394a1629
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Mar 3 16:42:26 2006 -0600

    [IA64] mca recovery return value when no bus check
    
    When there is no bus check, the return code should be failure, not success.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f032f90809ebbbd28feb90f97add2e0a869a42ed
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Mar 3 15:34:34 2006 -0700

    [IA64] SGI SN drivers: don't report !sn2 hardware as an error
    
    This stuff is all in the generic ia64 kernel, and the new initcall error
    reporting complains about them.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 6c5e62159cdef89d8385958c9d8c88efa867110c
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Mar 3 15:33:47 2006 -0700

    [IA64] don't report !sn2 or !summit hardware as an error
    
    This stuff is all in the generic ia64 kernel, and the new initcall error
    reporting complains about them.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 57ebc9918f8747c9db7e65659dfd632d4db99e3a
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Mar 2 16:59:50 2006 -0700

    [IA64] gensparse_defconfig: turn on PNPACPI
    
    Turn on CONFIG_PNPACPI.  I recently removed 8250_acpi.c.  All devices
    previously claimed by 8250_acpi.c should now be claimed by 8250_pnp.c.
    This depends on having CONFIG_PNPACPI so ACPI devices show up as PNP
    devices.
    
    All other ia64 defconfigs either have CONFIG_PNPACPI already, or
    don't have 8250 support turned on at all.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ea0e92a613a1caf85583c83cd131cef7d0f5571d
Author: Russ Anderson <rja@sgi.com>
Date:   Tue Mar 7 15:23:25 2006 -0800

    [IA64] Increase severity of MCA recovery messages
    
    The MCA recovery messages are currently KERN_DEBUG,
    so they don't show up in /var/log/messages (by default).
    Increase the severity to KERN_ERR, for the initial
    message (and also add the physical address to this
    message). Leave the successful isolation message as
    KERN_DEBUG, but increase the severity when isolation
    fails to KERN_CRIT.
    
    [Russ' patch made these all KERN_CRIT]
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 850a9a4e3c019ce67e3bc29c810ac213ec4c169e
Author: Thomas Graf <tgraf@suug.ch>
Date:   Tue Mar 7 14:56:12 2006 -0800

    [NETFILTER] ip_queue: Fix wrong skb->len == nlmsg_len assumption
    
    The size of the skb carrying the netlink message is not
    equivalent to the length of the actual netlink message
    due to padding. ip_queue matches the length of the payload
    against the original packet size to determine if packet
    mangling is desired, due to the above wrong assumption
    arbitary packets may not be mangled depening on their
    original size.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 744bfe4c25716a7cfc5690aeab8d572b43d7c916
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Tue Mar 7 22:48:29 2006 +0000

    [ARM] 3353/1: NAS100d: protect  nas100d_power_exit() with machine_is_nas100d()
    
    Patch from Alessandro Zummo
    
    nas100d_power_exit(void) gets some protection
    to avoid freeing an irq when it is not appropriate to do so.
    
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c4432c41b0c74d770ebc5e0a4fc3df3d00dfc131
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Tue Mar 7 21:04:59 2006 +0000

    [SERIAL] ip22zilog: Fix oops on runlevel change with serial console
    
    Incorrect uart_write_wakeup() calls cause reference to a NULL tty
    pointer.  This has been fixed in the sunsab and sunzilog serial drivers
    in October 2005.  Update the ip22zilog, which is based on sunzilog,
    accordingly.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d0b004840bd3b5ff2f2a0ad14fa0bd43349f5175
Merge: d19e997... 72f2afb...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 7 10:29:54 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6
    
    * master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6:
      [TG3]: Add DMA address workaround

commit d19e9974084b4024abcfcfc9d8676c90d26994bb
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Mar 7 09:16:35 2006 -0800

    Simplify fifo_open() locking logic
    
    We don't do interruptible waits for the pipe mutex anywhere else any
    more either, so don't do it in fifo_open() either.
    
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a0e243069b09a323255f6e847c87d531961cd96
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Tue Mar 7 14:42:27 2006 +0000

    [ARM] 3352/1: DSB required for the completion of a TLB maintenance operation
    
    Patch from Catalin Marinas
    
    Chapter B2.7.3 in the latest ARM ARM (with v6 information) states that
    the completion of a TLB maintenance operation is only guaranteed by
    the execution of a DSB (Data Syncronization Barrier, formerly Data
    Write Barrier or Drain Write Buffer).
    
    Note that a DSB is only needed in the flush_tlb_kernel_* functions
    since the completion is guaranteed by a mode change (i.e. switching
    back to user mode) for the flush_tlb_user_* functions.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 72f2afb8a6858edd9335cd158eb21053a0c2c39a
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Mar 6 19:28:35 2006 -0800

    [TG3]: Add DMA address workaround
    
    Add DMA workaround for chips that do not support full 64-bit DMA
    addresses.
    
    5714, 5715, and 5780 chips only support DMA addresses less than 40
    bits. On 64-bit systems with IOMMU, set the dma_mask to 40-bit so
    that pci_map_xxx() calls will map the DMA address below 40 bits if
    necessary. On 64-bit systems without IOMMU, set the dma_mask to
    64-bit and check for DMA addresses exceeding the limit in
    tg3_start_xmit().
    
    5788 only supports 32-bit DMA so need to set the mask appropriately
    also.
    
    Thanks to Chris Elmquist at SGI for reporting and helping to debug
    the problem on 5714.
    
    Thanks to David Miller for explaining the HIGHMEM and DMA stuff.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d11d9b2dd2c43dd99a491df8a83ae28401db0044
Merge: 15730dd... 1285b3a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 18:47:07 2006 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband
    
    * 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband:
      IB/srp: Don't send task management commands after target removal

commit 15730ddbf745fbda9001b8bbd71977ac66bf5f41
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Mon Mar 6 15:43:02 2006 -0800

    [PATCH] s390: improve response code handling in chsc_enable_facility()
    
    Rather than checking for some known failures, check positively for the
    success response code 0x0001 and return -EIO for unrecognized failure
    response codes.
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Cc: Greg Smith <gsmith@nc.rr.com>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de1d9c033f32ce39bf60e25be3b8624225fa9181
Author: Bastian Blank <bastian@waldi.eu.org>
Date:   Mon Mar 6 15:43:00 2006 -0800

    [PATCH] s390: fix match in ccw modalias
    
    Fix matching of devmodel in modaliases.  It breaks automatic loading of any
    dasd module.
    
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Acked-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cdd440fe9f2e83b1e268148647126440799b71fc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 6 15:42:59 2006 -0800

    [PATCH] windfarm license fix
    
    The Windfarm PID module lacks a licence, it should be GPL, here it is
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad820c5dd47dff9397ef1e94388bc6577983f68b
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Mon Mar 6 15:42:58 2006 -0800

    [PATCH] smaps: shared fix
    
    The point of the smaps "shared" is to count the number of pages that are
    mapped by more than one process, according to Mauricio Lin.  However, smaps
    uses page_count for this, so it will return a false positive for every page
    that is mapped by just that one process, which is also in pagecache or
    swapcache.  There are false positive situations for anonymous pages not in
    swapcache as well: - page reclaim, migration - get_user_pages (eg.
    direct-io, ptrace)
    
    Use page_mapcount instead, to count the number of mappings to the page.
    
    Use vm_normal_page so that weird things like /dev/mem aren't counted either.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ddfae16bddb12104fff63c36fb5901f1a3729fc
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Mon Mar 6 15:42:57 2006 -0800

    [PATCH] smaps: hugepages fix
    
    smaps doesn't have a hugepage pagetable walker. Skip walking hugepage
    vmas.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ecbd3a632c8198744655b769c5c2b5a1455c1fba
Author: Peter Staubach <staubach@redhat.com>
Date:   Mon Mar 6 15:42:56 2006 -0800

    [PATCH] ramfs needs to update directory m/ctime on symlink
    
    ramfs neglects to update the directory mtime and ctime fields when creating
    a new symbolic link.  Ramfs was modified in 2.6.15 to update these fields
    when other types of entries are created.  The symlink support is separate
    from that other support, so that change did not cover quite all of the
    possibilities.
    
    All of the directory content manipulation entry points now seem to be
    covered with respect to these time field updates.
    
    Signed-off-by: Peter Staubach <staubach@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8c3b5a6faf50b426cd8d06912a52e24837a73ad
Author: Edgar Hucek <hostmaster@ed-soft.at>
Date:   Mon Mar 6 15:42:54 2006 -0800

    [PATCH] EFI: Fix gdt load
    
    This patch makes the kernel bootable again on ia32 EFI systems.
    
    Signed-off-by: Edgar Hucek <hostmaster@ed-soft.at>
    Cc: Matt Domsch <Matt_Domsch@dell.com>
    Cc: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 397874dfe9862b494e1fdcd2baef4ac432d224c8
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Mon Mar 6 15:42:53 2006 -0800

    [PATCH] numa_maps update
    
    Change the format of numa_maps to be more compact and contain additional
    information that is useful for managing and troubleshooting memory on a
    NUMA system.  Numa_maps can now also support huge pages.
    
    Fixes:
    
    1. More compact format. Only display fields if they contain additional
    	information.
    
    2. Always display information for all vmas. The old numa_maps did not display
    	vma with no mapped entries. This was a bit confusing because page
    	migration removes ptes for file backed vmas. After page migration
    	a part of the vmas vanished.
    
    3. Rename maxref to maxmap. This is the maximum mapcount of all the pages
    	in a vma and may be used as an indicator as to how many processes
    	may be using a certain vma.
    
    4. Include the ability to scan over huge page vmas.
    
    New items shown:
    
    dirty
    	Number of pages in a vma that have either the dirty bit set in the
    	page_struct or in the pte.
    
    file=<filename>
    	The file backing the pages if any
    
    stack
    	Stack area
    
    heap
    	Heap area
    
    huge
    	Huge page area. The number of pages shows is the number of huge
    	pages not the regular sized pages.
    
    swapcache
    	Number of pages with swap references. Must be >0 in order to
    	be shown.
    
    active
    	Number of active pages. Only displayed if different from the number
    	of pages mapped.
    
    writeback
    	Number of pages under writeback. Only displayed if >0.
    
    Sample ouput of a process using huge pages:
    
    00000000 default
    2000000000000000 default file=/lib/ld-2.3.90.so mapped=13 mapmax=30 N0=13
    2000000000044000 default file=/lib/ld-2.3.90.so anon=2 dirty=2 swapcache=2 N2=2
    2000000000064000 default file=/lib/librt-2.3.90.so mapped=2 active=1 N1=1 N3=1
    2000000000074000 default file=/lib/librt-2.3.90.so
    2000000000080000 default file=/lib/librt-2.3.90.so anon=1 swapcache=1 N2=1
    2000000000084000 default
    2000000000088000 default file=/lib/libc-2.3.90.so mapped=52 mapmax=32 active=48 N0=52
    20000000002bc000 default file=/lib/libc-2.3.90.so
    20000000002c8000 default file=/lib/libc-2.3.90.so anon=3 dirty=2 swapcache=3 active=2 N1=1 N2=2
    20000000002d4000 default anon=1 swapcache=1 N1=1
    20000000002d8000 default file=/lib/libpthread-2.3.90.so mapped=8 mapmax=3 active=7 N2=2 N3=6
    20000000002fc000 default file=/lib/libpthread-2.3.90.so
    2000000000308000 default file=/lib/libpthread-2.3.90.so anon=1 dirty=1 swapcache=1 N1=1
    200000000030c000 default anon=1 dirty=1 swapcache=1 N1=1
    2000000000320000 default anon=1 dirty=1 N1=1
    200000000071c000 default
    2000000000720000 default anon=2 dirty=2 swapcache=1 N1=1 N2=1
    2000000000f1c000 default
    2000000000f20000 default anon=2 dirty=2 swapcache=1 active=1 N2=1 N3=1
    200000000171c000 default
    2000000001720000 default anon=1 dirty=1 swapcache=1 N1=1
    2000000001b20000 default
    2000000001b38000 default file=/lib/libgcc_s.so.1 mapped=2 N1=2
    2000000001b48000 default file=/lib/libgcc_s.so.1
    2000000001b54000 default file=/lib/libgcc_s.so.1 anon=1 dirty=1 active=0 N1=1
    2000000001b58000 default file=/lib/libunwind.so.7.0.0 mapped=2 active=1 N1=2
    2000000001b74000 default file=/lib/libunwind.so.7.0.0
    2000000001b80000 default file=/lib/libunwind.so.7.0.0
    2000000001b84000 default
    4000000000000000 default file=/media/huge/test9 mapped=1 N1=1
    6000000000000000 default file=/media/huge/test9 anon=1 dirty=1 active=0 N1=1
    6000000000004000 default heap
    607fffff7fffc000 default anon=1 dirty=1 swapcache=1 N2=1
    607fffffff06c000 default stack anon=1 dirty=1 active=0 N1=1
    8000000060000000 default file=/mnt/huge/test0 huge dirty=3 N1=3
    8000000090000000 default file=/mnt/huge/test1 huge dirty=3 N0=1 N2=2
    80000000c0000000 default file=/mnt/huge/test2 huge dirty=3 N1=1 N3=2
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2fbf182ed00a71c35e53329c2010df2baf8a89c6
Author: Takashi Iwai <takashi.iwai@gmail.com>
Date:   Mon Mar 6 15:42:51 2006 -0800

    [PATCH] alsa: fix error paths in snd_ctl_elem_add()
    
    Fix bugs in error paths of snd_ctl_elem_add()
     - NULL reference
     - double free (already freed in snd_ctl_add())
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Cc: Jaroslav Kysela <perex@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5aee405c662ca644980c184774277fc6d0769a84
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Mon Mar 6 15:42:51 2006 -0800

    [PATCH] time: add barrier after updating jiffies_64
    
    Add a compiler barrier so that we don't read jiffies before updating
    jiffies_64.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a615fa83959896f8eac76c235953fb164cd1a9b9
Author: Jack Steiner <steiner@sgi.com>
Date:   Mon Mar 6 15:42:50 2006 -0800

    [PATCH] Increase max kmalloc size for very large systems
    
    Systems with extemely large numbers of nodes or cpus need to kmalloc
    structures larger than is currently supported.  This patch increases the
    maximum supported size for very large systems.
    
    This patch should have no effect on current systems.
    
    (akpm: why not just use alloc_pages() for sysfs_cpus?)
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78679302fe428f4f3dc853a51ee24f306010d874
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Mon Mar 6 15:42:49 2006 -0800

    [PATCH] memory-hotplug compile fix
    
    include/linux/memory_hotplug.h:53: warning: 'struct page' declared inside parameter list
    
    (akpm: I tossed in a couple more possibly-needed-sometime struct decls too)
    
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47f3fc94cf39c08b1ed29e00e0f8ff6c9095fa12
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Mar 6 15:42:47 2006 -0800

    [PATCH] add missing pm_power_off's
    
    Add the missing pm_power_off's for the h8300, v850 and xtensa
    architectures.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Yoshinori Sato <ysato@users.sourceforge.jp>
    Cc: Miles Bader <uclinux-v850@lsi.nec.co.jp>
    Cc: Chris Zankel <chris@zankel.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c8338904653365bfb92385b38915becb903d8bb
Author: Jan Blunck <jblunck@suse.de>
Date:   Mon Mar 6 15:42:46 2006 -0800

    [PATCH] s390: fix compile with VIRT_CPU_ACCOUNTING=n
    
    When CONFIG_VIRT_CPU_ACCOUNTING is not defined compiling fails with an
    undefined reference to account_vtime().
    
    Signed-off-by: Jan Blunck <jblunck@suse.de>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69239749e1ac4f3496906aa4267cb9f61ce52c9c
Author: Tony Lindgren <tony@atomide.com>
Date:   Mon Mar 6 15:42:45 2006 -0800

    [PATCH] fix next_timer_interrupt() for hrtimer
    
    Also from Thomas Gleixner <tglx@linutronix.de>
    
    Function next_timer_interrupt() got broken with a recent patch
    6ba1b91213e81aa92b5cf7539f7d2a94ff54947c as sys_nanosleep() was moved to
    hrtimer.  This broke things as next_timer_interrupt() did not check hrtimer
    tree for next event.
    
    Function next_timer_interrupt() is needed with dyntick (CONFIG_NO_IDLE_HZ,
    VST) implementations, as the system can be in idle when next hrtimer event
    was supposed to happen.  At least ARM and S390 currently use
    next_timer_interrupt().
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7c09bd972b7111b8c69bf57a189571edd4d4a7d
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Mon Mar 6 15:42:42 2006 -0800

    [PATCH] x86: fix potential jiffies overflow in timer_resume()
    
    i386 timer_resume is updating jiffies, not jiffies_64.  It looks there is a
    potential overflow problem.  And jiffies_64 and wall_jiffies should be
    protected by xtime_lock.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Cc: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b05121b29e8af45ccb424bf71dadc1d04bd23f03
Author: Karsten Keil <kkeil@suse.de>
Date:   Mon Mar 6 15:42:41 2006 -0800

    [PATCH] i4l: fix compatiblity issue with big endian systems
    
    This patch fix some compatiblity issues with big endian systems
    
    Signed-off-by: Martin Bachem <info@colognechip.com>
    Signed-off-by: Karsten Keil <kkeil@suse.de>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7cb9478f0d5b2424af974646dcbe10ce7c19b550
Author: Karsten Keil <kkeil@suse.de>
Date:   Mon Mar 6 15:42:39 2006 -0800

    [PATCH] i4l: fix refcounting problem with ttyIx devices
    
    If the same ttyIx device was opened by two processes the module was not
    released and so the usage count went never to zero again.  This oneliner fixes
    the issue.
    
    Signed-off-by: Oskar Senft <o.senft@sirrix.com>
    Signed-off-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e4b27df55166ce3b276f55bab223fa4ae8c5525
Author: Karsten Keil <kkeil@suse.de>
Date:   Mon Mar 6 15:42:37 2006 -0800

    [PATCH] i4l: add new PCI IDs for HFC-S PCI
    
    Add new PCI IDs for HFC-S PCI based ISDN TA 'Primux II S0' and 'Primux II S0'
    from Gerdes AG
    
    Signed-off-by: Martin Bachem <info@colognechip.com>
    Signed-off-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff3aea0e68bfd46120ce2d08bc1f8240fa2bd36a
Author: Dave Johnson <djohnson@sw.starentnetworks.com>
Date:   Mon Mar 6 15:42:36 2006 -0800

    [PATCH] cramfs mounts provide corrupted content since 2.6.15
    
    Fix handling of cramfs images created by util-linux containing empty
    regular files.  Images created by cramfstools 1.x were ok.
    
    Fill out inode contents in cramfs_iget5_set() instead of get_cramfs_inode()
    to prevent issues if cramfs_iget5_test() is called with I_LOCK|I_NEW still
    set.
    
    Signed-off-by: Dave Johnson <djohnson+linux-kernel@sw.starentnetworks.com>
    Cc: Olaf Hering <olh@suse.de>
    Cc: Chris Mason <mason@suse.com>
    Cc: Andreas Gruenbacher <agruen@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9888e6fa7b68d9c8cc2c162a90979825ab45150a
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 17:44:43 2006 -0800

    slab: clarify and fix calculate_slab_order()
    
    If we triggered the 'offslab_limit' test, we would return with
    cachep->gfporder incremented once too many times.
    
    This clarifies the logic somewhat, and fixes that bug.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f716d8303345698728d9f8ce76a82a795a5be275
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 17:41:44 2006 -0800

    Allocate 96 bytes for SCSI sense data reply
    
    The SCSI layer uses SCSI_SENSE_BUFFERSIZE (96) for the sense buffer
    size, even though some other code uses "sizeof(struct request_sense)"
    (which is 64 bytes).  Allocate the buffer using the bigger of the two
    for safety.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8ba7b0a14b2ec19583bedbcdbea7f1c5008fc922
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 17:38:49 2006 -0800

    Add early-boot-safety check to cond_resched()
    
    Just to be safe, we should not trigger a conditional reschedule during
    the early boot sequence.  We've historically done some questionable
    early on, and the safety warnings in __might_sleep() are generally
    turned off during that period, so there might be problems lurking.
    
    This affects CONFIG_PREEMPT_VOLUNTARY, which takes over might_sleep() to
    cause a voluntary conditional reschedule.
    
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91c0bce29e4050a59ee5fdc1192b60bbf8693a6d
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Mar 6 13:25:52 2006 -0800

    [PATCH] USB Serial: fix use-after-free bug in usb-serial core
    
    This fixes a use-after-free bug in the usb-serial core.  It is simple to
    trigger this (open a usb-serial port, then yank the device out before
    closing the port.)  Thanks to Stefan Seyfried <seife@suse.de> for
    reporting this, and to the slab debugging code which enabled it to be
    tracked down.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b6f57864eeacd556013c4b40917d50d7c8c38f8c
Merge: 264132b... 2d66806...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 12:10:42 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6
    
    * 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6:
      [PATCH] chelsio: fix kmalloc failure in t1_espi_create
      Merge branch 'master'
      s2io: set_multicast_list bug

commit 264132bc62fe071d0ff378c1103bae9d33212f10
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Mar 6 12:10:07 2006 -0800

    Fix "check_slabp" printout size calculation
    
    We want to use the "struct slab" size, not the size of the pointer to
    same.  As it is, we'd not print out the last <n> entry pointers in the
    slab (where <n> is ~10, depending on whether it's a 32-bit or 64-bit
    kernel).
    
    Gaah, that slab code was written by somebody who likes unreadable crud.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d66806d740eeb410aa785bd7fba3bd24bb082c1
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Sun Mar 5 01:16:00 2006 +0300

    [PATCH] chelsio: fix kmalloc failure in t1_espi_create
    
    memset() is called before check.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit d033d9345101c07aa6965590109eac0bf7f25b8d
Merge: a7a80d5... 501f74f...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Mon Mar 6 14:37:47 2006 -0500

    Merge branch 'master'

commit 7a171cdcb6ce82cc5e4bd7cb8eab172a43395f87
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Mar 5 00:31:22 2006 +0000

    [SERIAL] Fix two bugs in parport_serial
    
    Steinar H. Gunderson reported:
    
      - For some reason, it detects the 9845 as a 9735 -- it appears this is
        simply related to the ordering in parport_serial_pci_tbl[]. If we move
        the 9845 up above the 9735, it prints out 9710:9845, but no change in
        behaviour. (We didn't find out why this was the case; we left it alone
        since it didn't affect our problem.)
      - The card has no parallel port (at least no physical ones), yet it reports
        (via its subsystem ID of 0x0014) one parallel port and four serial ports.
        The probe for the parallel port fails, and the driver just aborts. Thus,
        it doesn't find the serial ports.
    
    Fix the debugging code to use dev_dbg, but don't bother displaying the
    PCI ID of the detected board (that's accessible via other means.)
    
    Also, arrange for parport_register() to return 0 even if it finds no
    ports.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 24ed6e2c7894350d9bc06a559d3c23338ecf3323
Merge: 5b10b9a... e77e6f3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 5 10:03:05 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6-stable
    
    * master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6-stable:
      [CIFS] Always match oplock break (cache notification) to the right tcp

commit 5b10b9a787a981259cca213c8bf1c79333c3c67e
Merge: c099666... 4d000d5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Mar 5 10:02:25 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6
    
    * master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6:
      [SPARC64]: Mark __ex_table section correctly.

commit cdaeedae9844ec3deaafa00b7dd8c21e01368633
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sun Mar 5 11:42:06 2006 +0100

    [SCSI] scsi: aha152x pcmcia driver needs spi transport
    
    AHA152X PCMCIA module needs spi_print_msg.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4d000d5b9689734006d89fe9b7597c758b74a9fb
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sat Mar 4 23:23:56 2006 -0800

    [SPARC64]: Mark __ex_table section correctly.
    
    We must use the "a" (allocate) attribute every time we
    emit an entry into the __ex_table section.
    
    For consistency, use "a" instead of #alloc which is some
    Solaris compat cruft GNU as provides on Sparc.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c09966608da7e8cad3468e925ac9062e44fee831
Author: Ian McDonald <imcdnzl@gmail.com>
Date:   Fri Mar 3 17:54:46 2006 -0800

    [DCCP] ccid3: Divide by zero fix
    
    In rare circumstances 0 is returned by dccp_li_hist_calc_i_mean which
    leads to a divide by zero in ccid3_hc_rx_packet_recv. Explicitly check
    for zero return now. Update copyright notice at same time.
    
    Found by Arnaldo.
    
    Signed-off-by: Ian McDonald <imcdnzl@gmail.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c027f5f995d8b6efc934be384085e3e8425638e4
Author: Sam Ravnborg <sam@ravnborg.org>
Date:   Fri Mar 3 17:50:37 2006 -0800

    [ATM]: [fore200e] fix section mismatch warnings
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0f8f325b25919619559f0f47aa46cd7dc2dbef92
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Fri Mar 3 17:49:58 2006 -0800

    [ATM]: keep atmsvc failure messages quiet
    
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 125a12ccf3eefebff43e3dbf47225141faa5fbe8
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Mar 3 17:16:15 2006 -0800

    [BRIDGE]: generate kobject remove event
    
    The earlier round of kobject/sysfs changes to bridge caused
    it not to generate a uevent on removal. Don't think any application
    cares (not sure about Xen) but since it generates add uevent
    it should generate remove as well.
    
    Signed-off-by: Stephen Hemminger <shemmigner@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d32439c0d4cec5c4101477989ee8c7ee1ebfbb0e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Mar 3 17:15:34 2006 -0800

    [BRIDGE]: port timer initialization
    
    Initialize the STP timers for a port when it is created,
    rather than when it is enabled. This will prevent future race conditions
    where timer gets started before port is enabled.
    
    Signed-off-by: Stephen Hemminger <shemmigner@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6e86b89084a60355f0e1fb876ca0cfbca62ee85c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Mar 3 17:14:51 2006 -0800

    [BRIDGE]: fix crash in STP
    
    Bridge would crash because of uninitailized timer if STP is used and
    device was inserted into a bridge before bridge was up. This got
    introduced when the delayed port checking was added.  Fix is to not
    enable STP on port unless bridge is up.
    
    Bugzilla: http://bugzilla.kernel.org/show_bug.cgi?id=6140
    Dup:      http://bugzilla.kernel.org/show_bug.cgi?id=6156
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e77e6f3be93763ef88ccbaa9e0ebda5360d92f7c
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Mar 5 03:39:55 2006 +0000

    [CIFS] Always match oplock break (cache notification) to the right tcp
    session when multiply mounted.
    
    Fixes slow response when cifs client is mounted to shares on multiple
    servers and oplock break occurs (usually due to attempt to multiply open a
    file).  When treeids on mutiple mounted shares match and we find the wrong
    match first, we searched for the wrong cached files to send oplock break
    response for which usually meant that no matching file was found and thus
    the server would have to timeout the notification.  Oplock break timeout is
    about 20 seconds on some servers so this could cause significantly slower
    performance on file open calls in a few cases (in particular when multiple
    shares are mounted from multiple servers, tree ids match, and we have a
    cached file which is later opened multiple times).  This was the most
    important of the bugs that was found and fixed at Connectathon
    (interoperability testing event) this week.
    
    Acked-by: Shaggy <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 501f74f29498543c27f4f9697f5c1e980dd2de0d
Merge: ea088b8... 28e02ba...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Mar 4 18:51:45 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/misc-2.6
    
    * 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/misc-2.6:
      [PATCH] Add missing ifdef for VIA RNG code

commit ea088b8d481fcff001f7e628c44daf39a229d9fc
Merge: c05b477... 732b828...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Mar 4 15:30:32 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc
    
    * master.kernel.org:/home/rmk/linux-2.6-mmc:
      [MMC] au1xmmc: Fix a compilation warning ('status' is not used)
      [MMC] au1xmmc: Fix linking error because mmc_rsp_type doesn't exist
      [MMC] au1xmmc: Fix compilation error by using platform_driver

commit 732b82886017e9ceccb27c8b69e9210d5305088a
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Sat Mar 4 23:02:10 2006 +0000

    [MMC] au1xmmc: Fix a compilation warning ('status' is not used)
    
    Fix a trivial compilation warning:
    
      CC      drivers/mmc/au1xmmc.o
    drivers/mmc/au1xmmc.c: In function au1xmmc_dma_callback:
    drivers/mmc/au1xmmc.c:743: warning: unused variable status
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Acked-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e142c24cf8f471c2a6cb95a4a26923d9621770ff
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Sat Mar 4 23:01:39 2006 +0000

    [MMC] au1xmmc: Fix linking error because mmc_rsp_type doesn't exist
    
    drivers/mmc/au1xmmc.c doesn't compile because commit
    e92251762d02a46177d4105d1744041e3f8bc465 introduced a typo and passes
    the wrong argument to the mmc_resp_type macro.
    
    Error because of the typo:
    
      CC      drivers/mmc/au1xmmc.o
    drivers/mmc/au1xmmc.c: In function au1xmmc_send_command:
    drivers/mmc/au1xmmc.c:197: warning: implicit declaration of function mmc_rsp_type
    ...
      LD      .tmp_vmlinux1
    drivers/built-in.o: In function `au1xmmc_request':au1xmmc.c:(.text+0x89504): undefined reference to `mmc_rsp_type'
    :au1xmmc.c:(.text+0x8968c): undefined reference to `mmc_rsp_type'
    make: *** [.tmp_vmlinux1] Error 1
    
    Error because of the wrong argument:
    
      CC      drivers/mmc/au1xmmc.o
    drivers/mmc/au1xmmc.c: In function au1xmmc_send_command:
    drivers/mmc/au1xmmc.c:197: error: invalid type argument of ->
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Acked-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b256f9df4a7da248263ed95c2517ddb714f9ca95
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Sat Mar 4 23:01:13 2006 +0000

    [MMC] au1xmmc: Fix compilation error by using platform_driver
    
    drivers/mmc/au1xmmc.c currently doesn't compile; it needs to be
    converted to use platform_driver.  I cannot test this change because
    of lack of hardware but I followed the drivers this one is based on,
    and the code is certainly not worse than before.
    
    drivers/mmc/au1xmmc.c: At top level:
    drivers/mmc/au1xmmc.c:1002: error: platform_bus_type undeclared here (not in a function)
    make[2]: *** [drivers/mmc/au1xmmc.o] Error 1
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Acked-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c05b47704570b015134522c36142cd17bd48640a
Author: Linus Torvalds <torvalds@quad.osdl.org>
Date:   Sat Mar 4 15:00:45 2006 -0800

    ppc64: make sure to align stack pointer to 16 bytes at boot
    
    yaboot is scrogged and calls us with an invalid stack alignment,
    it seems.
    
    Thanks to David Woodhouse to pointing me to the problem.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7a80d5ad3735554338199b9d976dfda5c10d3c7
Author: Jeff Garzik <jeff@garzik.org>
Date:   Sat Mar 4 12:06:51 2006 -0500

    s2io: set_multicast_list bug
    
    The mac_addr variable doesn't get reset between
    (re)additions of multicast addresses. One byte
    of all multicast addresses (except the first)
    can be incorrect.
    
    Signed-off-by: Arthur Kepner <akepner@sgi.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 28e02bac9c943ed85a29b41ccb9bf95641b2e263
Author: Mark Brown <broonie@sirena.org.uk>
Date:   Fri Mar 3 21:05:58 2006 -0500

    [PATCH] Add missing ifdef for VIA RNG code
    
    Almost all the code for the VIA RNG is guarded with __i386__ #ifdefs,
    the only exception being the enumeration of RNG types which is used to
    index into the rng_vector ops array.  This patch adds an ifdef around
    that for consistency and since the guard makes a difference when adding
    new RNG types on non-i386 hardware.
    
    Signed-Off-By: Mark Brown <broonie@sirena.org.uk>
    Signed-Off-By: Jeff Garzik <jeff@garzik.org>

commit 1285b3a0b0aa2391ac6f6939e6737203c8220f68
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Mar 3 15:47:25 2006 -0800

    IB/srp: Don't send task management commands after target removal
    
    Just fail abort and reset requests that come in after we've already
    decided to remove a target.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 8e2cc1af9fa067fe49c639ee5e5e07c96a54fe49
Merge: c499ec2... be6f655...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Fri Mar 3 16:17:43 2006 -0300

    Merge branch 'work-fixes'

commit be6f655d03d2e166134da2ea3c9360c4fe008744
Author: Hartmut Hackmann <hartmut.hackmann@t\\-online.de>
Date:   Fri Mar 3 12:09:26 2006 -0300

    V4L/DVB (3395): Fixed Pinnacle 300i DVB-T support
    
    - fixed tda9886 port 2 setting
    - turned remote control receiver off via saa7134 GPIO to avoid i2c hangs
    - modified tda9886 client calls to direct i2c access to allow proper return
      to analog mode
    - allow mode change to V4L2_TUNER_DIGITAL_TV in tuner VIDIOC_S_FREQUENCY
      client call
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 6ba54abe627577270a9baeb1d984bf84fba8b2e7
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Mon Feb 27 15:22:49 2006 -0300

    V4L/DVB (3399): ELSA EX-VISION 500TV: fix incorrect PCI subsystem ID
    
    - ELSA EX-VISION 500TV was incorrectly programmed to have the same
      subsystem ID as ELSA EX-VISION 300TV, (1048:226b)
    - This changeset replaces the incorrect subsystem ID (1048:226b)
      with the correct one (1048:226a) for the ELSA EX-VISION 500TV.
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 69ca1897317b1fbe73122a5a3bb7d783b2883d88
Author: Mattias Nordstrom <nordstrom@realnode.com>
Date:   Mon Feb 27 00:09:17 2006 -0300

    V4L/DVB (3382): Fix stv0297 for qam128 on tt c1500 (saa7146)
    
    I have a TT C1500 card (saa7146, STV0297) which had problems tuning
    channels at QAM128 (like the ones in the Finnish HTV / Welho network).
    A fix which seems to work perfectly so far is to change the delay for
    QAM128 to the same values as for QAM256 in stv0297_set_frontend(),
    
    Signed-off-by: Mattias Nordstrom <nordstrom@realnode.com>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 25d1f0c87dbbe92fcf91b3c6a395dcc9dde7fe94
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Feb 27 00:07:21 2006 -0300

    V4L/DVB (3300a): Removing personal email from DVB maintainers
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 11dc3ffa3b53ba5bfdcc558d7bcd14d67ed0954b
Author: Johannes Stezenbach <js@linuxtv.org>
Date:   Mon Feb 27 00:09:20 2006 -0300

    V4L/DVB (3385): Dvb: fix __init/__exit section references in av7110 driver
    
    use __devinit/__devexit/__devexit_p() where appropriate
    
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 14c255b2b26338fd5cafe62508ba0f0ba798951e
Author: Hartmut Hackmann <hartmut.hackmann@t\-online.de>
Date:   Mon Feb 27 00:09:11 2006 -0300

    V4L/DVB (3378): Restore power on defaults of tda9887 after tda8290 probe
    
    The probing code for tda8290 changes the state of the tda9887 GP ports.
    The patch assumes that if probing for tda8290 failed, this must be a
    tda9887 and restores its power on defaults.
    This should solve the module load order issue with some pinnacle cards.
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 2175771e154d9faf404b2631be39bf7bd36a035e
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Feb 27 00:08:20 2006 -0300

    V4L/DVB (3354): Fix maximum for the saturation and contrast controls.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 27b547c3a956ec0c04109d150caa5feaee8d80f9
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Mon Feb 27 00:08:17 2006 -0300

    V4L/DVB (3352): Cxusb: fix lgdt3303 naming
    
    The following are specific to lgdt3303, and are being renamed to reflect this.
    - cxusb_lgdt330x_config renamed to cxusb_lgdt3303_config.
    - cxusb_lgdt330x_frontend_attach renamed to cxusb_lgdt3303_frontend_attach.
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ede224159fa0a11f86e416f19729be701ae77e4f
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Feb 27 00:08:11 2006 -0300

    V4L/DVB (3348): Fixed saa7134 ALSA initialization with multiple cards
    
    When multiple cards were installed, only the first card would have
    audio initialized, because only the first position in the array parameter
    defaulted to "1"
    To make things worse, the "enable" parameter wasn't enabled, so there
    was no workaround.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ca659a41373afc40de6276d24d8279bcd547e0a9
Author: Karsten Suehring <ksuehring@gmx.net>
Date:   Mon Feb 27 00:08:08 2006 -0300

    V4L/DVB (3347): Pinnacle PCTV 40i: add filtered Composite2 input
    
    This patch adds another composite input to the Pinnacle PCTV 100i
    definition which filters the chrominace signal from the luma input. This
    improves video quality for Composite signals on the S-Video connector of
    the card.
    In addition the name string of the card is changed to include PCTV 40i
    and 50i since these cards are identical.
    
    Signed-off-by: Karsten Suehring <ksuehring@gmx.net>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f95cdf261b3164c3e7f62551313be422483806c5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Feb 27 00:07:55 2006 -0300

    V4L/DVB (3341): Upstream sync - make 2 structs static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 092734b4bb227faddf241b116af14357645d963c
Author: Manu Abraham <manu@linuxtv.org>
Date:   Mon Feb 27 00:07:52 2006 -0300

    V4L/DVB (3340): Make a struct static
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 805e660ca32ef63b81203a556f29fef262b95cc0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Feb 27 00:07:49 2006 -0300

    V4L/DVB (3337): Drivers/media/dvb/frontends/mt312.c: cleanups
    
    This patch contains the following possible cleanups:
    - update the Kconfig help to mention the VP310
    - merge vp310_attach and mt312_attach into a new vp310_mt312_attach
      to remove some code duplication
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 2d748ba1669070a12bab11b19d20fd8daf537ef5
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Mon Feb 27 00:07:46 2006 -0300

    V4L/DVB (3336): Bt8xx documentation authors fix
    
    - use one Author per line, which allows us to add more
      authors later without creating a mess.
    - Add Michael Krufky due to -git commit
    	2cbeddc976645262dbe036d6ec0825f96af70da3
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ab1b55e21f6977e420341727e9f4a50691057b5e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Mar 3 10:35:40 2006 +1100

    [PATCH] powerpc: incorrect rmo_top handling in prom_init
    
    On Thu, 2006-03-02 at 19:55 +0100, Olaf Hering wrote:
    
    > My iBook1 has 2 memory regions in reg. Depending on how I boot it
    > (vmlinux+initrd) or zImage.initrd, it will not boot with current Linus
    > tree.
    > rmo_top should be 160MB instead of 32MB.
    
    On logically-partitioned machines the first element of the reg
    property in the memory node is defined to be the "RMO" region,
    i.e. the memory that the processor can access in real mode.  On other
    machines the first element has no special meaning, so only take it to
    be the RMO region on LPAR machines.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 141aa59b5347a4a021e37cfbc2258df9af9392f8
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Mar 3 16:24:06 2006 +1100

    [PATCH] powerpc: Fix incorrect pud_ERROR() message
    
    The powerpc pud_ERROR() function misleadingly prints a message
    indicating a pmd error.  This patch fixes it.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aa5cb02143123289bd37c30c0ad60339f8da0bad
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 1 15:07:07 2006 +1100

    [PATCH] powerpc: Expose SMT and L1 icache snoop userland features
    
    This patch makes userland aware of the icache snoop capability of the
    POWER5 (and possibly others in the future) and of SMT capabilities.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e2a002b9a731083c69add71b1f5014bac7dc1770
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Mar 3 17:13:30 2006 +1100

    [PATCH] powerpc: Fix windfarm_pm112 not starting all control loops
    
    This adds a couple of printk's to windfarm_pm112 to display which
    control loops are actually starting and fixes a bug where it would not
    start all loops.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b55fafc5a800f27beedfdcf8bd1b6baa47e769a9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Mar 3 17:03:21 2006 +1100

    [PATCH] powerpc: Fix old g5 issues with windfarm
    
    Some of the windfarm sensor modules can initialize on old machines that
    don't have full windfarm support like non-dual core desktop G5s.
    Unfortunately, by doing so, they would trigger a bug in their matching
    algorithm causing them to attach to the wrong bus, thus triggering
    issues with the i2c core and breaking the thermal driver.
    
    This patch fixes the probing issue (so that they will work when a
    windfarm port is done to these machines) and also prevents for now
    windfarm to load at all on these machines that still use therm_pm72 to
    avoid wasting resources.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0c2aca88bdac4254a13466fb108733d243a118b6
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Mar 3 21:31:25 2006 +1100

    powerpc32: Fix timebase synchronization on 32-bit powermacs
    
    The variable `timebase' used to transfer the current timebase value
    from one cpu to the other in smp_core99_give/take_timebase was only
    an unsigned long, i.e. 32 bits on 32-bit machines.  It needs to be
    64 bits.  This makes it a u64, and fixes the issue reported by Kyle
    Moffett, that the two cpus see wildly different values for the time
    of day.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 76a0ee3d1633b035f4090ab591445ae7b087f129
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Mar 3 20:50:29 2006 +1100

    powerpc: Turn off verbose debug output in powermac platform functions
    
    This is along the lines suggested by Chris Lumens but goes further
    in that it leaves the DEBUG symbol undefined, making the DBG macro
    empty.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cd8a5673e9abb3fde0a1c25ee63a60fe1908c6f5
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Mar 3 17:11:40 2006 +1100

    powerpc: Fix might-sleep warning in program check exception handler
    
    On 32-bit, the exception prolog for the program check exception doesn't
    enable interrupts early on.  If it is an illegal instruction exception,
    we read the instruction in order to emulate certain instructions, and
    the get_user of the instruction triggers a WARN_ON since interrupts
    are still disabled.  This adds a local_irq_enable() to enable
    interrupts before reading the instruction.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35dc2585fa32a2b300307ffa9f17122b13ccef97
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Thu Mar 2 21:28:54 2006 +0100

    [SCSI] zfcp: correctly set this_id for hosts
    
    It fixes a bug in zfcp which provokes a race
    in scsi_scan.c. Finally this can lead to an Oops like:
    
    kernel BUG at fs/sysfs/symlink.c:87!
    
    Correctly set this_id for the host. Otherwise we provoke
    a race between scsi_target_reap_work and concurrent
    scsi_add_device.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 98acfc7e8e2606fadae6d2bf99fa040be917ce8c
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Wed Mar 1 12:04:46 2006 -0700

    [SCSI] Add Brownie to blacklist
    
    This device spews total rubbish to a REPORT LUNS command, so avoid
    sending it one.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3af1efe8a301f5b1c813f5f761cb1e10d6175605
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Thu Mar 2 13:25:26 2006 -0500

    [PATCH] reiserfs: fix unaligned bitmap usage
    
    The bitmaps associated with generation numbers for directory entries
    are declared as an array of ints. On some platforms, this causes alignment
    exceptions.
    
    The following patch uses the standard bitmap declaration macros to
    declare the bitmaps, fixing the problem.
    
    Originally from Takashi Iwai.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Acked-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c499ec24c31edf270e777a868ffd0daddcfe7ebd
Author: Vladimir V. Saveliev <vs@namesys.com>
Date:   Thu Mar 2 02:54:39 2006 -0800

    [PATCH] reiserfs: do not check if unsigned < 0
    
    This patch fixes bugs in reiserfs where unsigned integers were checked
    whether they are less then 0.
    
    Signed-off-by: Vladimir V. Saveliev <vs@namesys.com>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Hans Reiser <reiser@namesys.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a57ebfdb2cf9fa60dfa2f403f70ef6c432ca2a62
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Thu Mar 2 02:54:37 2006 -0800

    [PATCH] numa_maps: Fix potential crash on non IA64 platforms
    
    numa_maps should not scan over huge vmas in order not to cause problems for
    non IA64 platforms that may have pte entries pointing to huge pages in a
    variety of ways in their page tables.  Add a simple check to ignore vmas
    containing huge pages.
    
    Signed-off-by: Christoph Lameter <clameter@engr.sgi.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 685db65e422bfa523b8a9dacb5a658b42b254f05
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Thu Mar 2 02:54:35 2006 -0800

    [PATCH] time_interpolator: Use readq_relaxed() instead of readq().
    
    On some platforms readq performs additional work to make sure I/O is done
    in a coherent way.  This is not needed for time retrieval as done by the
    time interpolator.  So we can use readq_relaxed instead which will improve
    performance.
    
    It affects sparc64 and ia64 only.  Apparently it makes a significant
    difference on ia64.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f99f06f01aa9460b5a18f1b0e0900c90d0a84fc
Author: Stefan Seyfried <seife@suse.de>
Date:   Thu Mar 2 02:54:34 2006 -0800

    [PATCH] fix acpi_video_flags on x86-64
    
    acpi_video_flags variable is unsigned long, so it should be set as such.
    This actually matters on x86-64.
    
    Signed-off-by: Stefan Seyfried <seife@suse.de>
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: "Brown, Len" <len.brown@intel.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46f6dac259717551916405ee3388de89fb152bca
Author: Eric Van Hensbergen <ericvh@gmail.com>
Date:   Thu Mar 2 02:54:33 2006 -0800

    [PATCH] v9fs: simplify fid mapping
    
    v9fs has been plagued by an over-complicated approach trying to map Linux
    dentry semantics to Plan 9 fid semantics.  Our previous approach called for
    aggressive flushing of the dcache resulting in several problems (including
    wierd cwd behavior when running /bin/pwd).
    
    This patch dramatically simplifies our handling of this fid management.  Fids
    will not be clunked as promptly, but the new approach is more functionally
    correct.  We now clunk un-open fids only when their dentry ref_count reaches 0
    (and d_delete is called).
    
    Another simplification is we no longer seek to match fids to the process-id or
    uid of the action initiator.  The uid-matching will need to be revisited when
    we fix the security model.
    
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74b8054c730785cd9db093e48f53337e521b6270
Author: Eric Van Hensbergen <ericvh@gmail.com>
Date:   Thu Mar 2 02:54:32 2006 -0800

    [PATCH] v9fs: fix bug in atomic create open fix
    
    Lucho's atomic create+open fix had a bug in the super block initialization
    causing all mounts to fail.  He was freeing an fcall too early.  This patch
    fixes that oversight.
    
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a3124a3946c16159c3faf83e62ffdb5d1134b3a
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Thu Mar 2 02:54:30 2006 -0800

    [PATCH] v9fs: fix atomic create open
    
    In order to assure atomic create+open v9fs stores the open fid produced by
    v9fs_vfs_create in the dentry, from where v9fs_file_open retrieves it and
    associates it with the open file.
    
    This patch modifies v9fs to use nameidata.intent.open values to do the atomic
    create+open.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77a3313551afd53c90012e5a87f7f2b2195fc67e
Author: John Bowler <jbowler@acm.org>
Date:   Thu Mar 2 02:54:29 2006 -0800

    [PATCH] "drivers/mtd/redboot.c: recognise a foreign byte sex partition table" update
    
    Sync up the recent redboot fix with MTD CVS.  It uses the correct swab()
    functions.
    
    Cc: John Bowler <jbowler@acm.org>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 140ffcec4def3ee3af7565b2cf1d3b2580f7e180
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 2 02:54:28 2006 -0800

    [PATCH] out_of_memory() locking fix
    
    I seem to have lost this read_unlock().
    
    While we're there, let's turn that interruptible sleep unto uninterruptible,
    so we don't get a busywait if signal_pending().  (Again.  We seem to have a
    habit of doing this).
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b1e2d907cb748ef40b180184f36e594d35f12ba6
Merge: e0a5c57... 81f2094...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 1 15:49:50 2006 -0800

    Merge branch 'upstream-linus' of git://oss.oracle.com/home/sourcebo/git/ocfs2

commit e0a5c57848f7690a247bb8af4fa412844b0b00bb
Merge: fe05f54... b5b9d66...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 1 15:10:45 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit fe05f54181db868c5720cc4dc0741227b9ba5a60
Merge: e5cef95... 67bc620...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 1 14:17:59 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-fixes-2.6

commit e5cef95d58d1e711b0bd6b00018278a06defb274
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Mar 1 13:46:00 2006 -0800

    [PATCH] fix build breakage in eeh.c in 2.6.16-rc5-git5
    
    This patch should fixe a problem with eeh_add_device_late() not being
    defined in the ppc64 build process, causing the build to break.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81f2094a631df1ba275f4d4bd7ea5bacfd8dbcfc
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Tue Feb 28 17:31:22 2006 -0800

    [PATCH] ocfs2: use hlists for lockres hash
    
    Switch from list_head to hlist_head. Make the size of the hash dependent
    upon the allocated area, rather than a constant.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit b7668c72d2ae004363fb0588600bfa942e1b245c
Author: Sunil Mushran <sunil.mushran@oracle.com>
Date:   Tue Feb 28 23:28:01 2006 -0800

    [PATCH] ocfs2: added source addr to bind() in o2net_start_connect()
    
    to prevent confusion when a virtual ip is created on the same interface
    
    Signed-off-by: Sunil Mushran <sunil.mushran@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 110ba90858a7f619ff26c6b9b43c27b3c0872335
Author: Joel Becker <joel.becker@oracle.com>
Date:   Tue Feb 28 17:58:36 2006 -0800

    ocfs2: Respond to on-disk corruption in the extent map code.
    
    The extent map code has long noticed when the on-disk extent information
    is corrupt.  However, so far it has only returned an error.  We should
    take the filesystem read-only, as it is corrupt.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 93cc9ac4555a9b95c78b2f5dfe536fe8196002a7
Author: Joel Becker <joel.becker@oracle.com>
Date:   Mon Feb 27 16:53:05 2006 -0800

    ocfs2: Set .owner on masklog sysfs attributes.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit b4df6ed8db0c387d38292e31f00adc4cd297ed5a
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Wed Feb 22 17:35:08 2006 -0800

    [PATCH] ocfs2: fix orphan recovery deadlock
    
    Orphan dir recovery can deadlock with another process in
    ocfs2_delete_inode() in some corner cases. Fix this by tracking recovery
    state more closely and allowing it to handle inode wipes which might
    deadlock.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 895928b8380cc697ac56e9732cedf549c0a4f79c
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Tue Feb 21 16:54:00 2006 -0800

    [PATCH] ocfs2: complete failure recovery for nodemanager init
    
     This patch finishes cleaning up the node manager allocations if it fails
     to initialize.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 800d11420dfdad3a50630ff424d7782660ad558c
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Mar 1 15:16:26 2006 +0900

    [MIPS] Use USECS_PER_SEC / HZ instead of tick_usec in do_gettimeofday.
    
    The 'tick_usec' is USER_HZ period in usec.  do_gettimeofday() should
    use kernel HZ value.
    
    Here is a patch for MIPS.  It seems m32r, m68k and sparc have same
    problem though their HZ and USER_HZ are same for now.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 362342f68e331f080d0438f08af1e2c570b0b5fe
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Tue Feb 21 16:46:33 2006 -0800

    [PATCH] ocfs2: remove non existing function prototypes
    
    Remove some prototypes from tcp.h for functions which have long been gone.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit d267a56c883b350a2fa80f1daf4636809e3f8e67
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Feb 23 13:23:39 2006 -0800

    [PATCH] ocfs2: remove unused code
    
    Remove some #ifdef'd out code which was inadvertantly introduced in our
    initial merge.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit d3178bcdd41b050e221337d7f5e30b3c58d4015a
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Fri Feb 24 17:23:36 2006 -0800

    [PATCH] ocfs2: remove pointless max journal size limit
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 6b7a6c94c9c15b2664b568ead83e6b3aaf60d65c
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Tue Feb 21 11:57:30 2006 -0500

    [PATCH] ocfs2: fix -Wformat warnings when building UML on x86-64
    
     The check to determine which format string is appopriate for u64 and
     friends works in most cases, but UML on x86_64 doesn't define CONFIG_X86_64,
     so it results in screen fulls of compile-time warnings.
    
     This patch fixes it to handle that case.
    
     fs/ocfs2/cluster/masklog.h |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 71efa38c0eef581c69c221ceb8645f61d1e93270
Merge: 96789ac... e2482fa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Mar 1 10:22:04 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit 67bc620006a30cf5dcbf409dbbd4fd93179ddfb1
Author: Harald Welte <laforge@gnumonks.org>
Date:   Tue Feb 14 09:21:26 2006 +0100

    [PATCH] pcmcia: CM4000, CM4040 Driver fixes
    
    Using this patch, Omnikey CardMan 4000 and 4040 devices automatically
    get their device nodes created by udev.
    
    Also, we now check for (and handle) failure of pcmcia_register_driver()
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 2fe22a8bba0c3a60db58dfdcaa200f8528c057e4
Author: Jesse Allen <the3dfxdude@gmail.com>
Date:   Mon Feb 20 22:08:18 2006 -0800

    [PATCH] pcmcia: add id for AMB8110 PC Card
    
    The axnet_cs driver can support the AMB8110 PC Card, so add the id for it.
    
    In the old pcmcia-cs config file, this card is listed with the comment "not
    specific enough".  The last entry in the axnet_ids has the same comment.
    They are disabled, and for good reason as it was originally identified by
    the MANFID, and that is shared with several cards that use both the
    pcnet_cs driver and axnet_cs driver.  I tried my AMB8110 with pcnet_cs, and
    found that it works fine, and I cannot find a reason for either, except
    that the old config file recommended axnet_cs.
    
    Signed-off-by: Jesse Allen <the3dfxdude@gmail.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 40e3cad61197fce63853e778db020f7637d988f2
Author: Pavel Roskin <proski@gnu.org>
Date:   Tue Feb 28 01:18:31 2006 -0500

    [PATCH] pcmcia: avoid binding hostap_cs to Orinoco cards
    
    Don't just use cards with PCMCIA ID 0x0156, 0x0002.  Make sure that the
    vendor string is "Intersil" or "INTERSIL"
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit f0892b89e3c19c7d805825ca12511d26dcdf6415
Author: Pavel Roskin <proski@gnu.org>
Date:   Tue Feb 28 01:18:29 2006 -0500

    [PATCH] pcmcia: Add macro to match PCMCIA cards by numeric ID and first vendor string
    
    This is needed to distinguish Intersil and non-Intersil cards with
    numeric ID 0x0156, 0x0002.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 42935656914b813c99f91cbac421fe677a6f34ab
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Jan 25 06:36:32 2006 -0800

    [PATCH] pcmcia: add another ide-cs CF card id
    
    Add another CF card ID.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 82d56e6d2e616bee0e712330bad06b634f007a46
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Fri Jan 27 19:15:02 2006 +0100

    [PATCH] pcmcia: properly handle pseudo multi-function devices
    
    The second pseudo multi-function device of a PCMCIA card may only be
    configured once the first one is initialized. Therefore, delay the
    registration of the second device until the first one is initialized.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit b5b9d6647c1cd5eee90b58941c55f874c2a7e707
Merge: 96789ac... a1415ee...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Wed Mar 1 01:53:32 2006 -0500

    Merge branch 'e1000' of ssh://198.78.49.142/srv/git/intel/linux-2.6

commit 96789ac4b3943fec27fb6bf2713633b01a3903ad
Merge: 77eebf3... 958ddb7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 28 20:57:20 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 77eebf346dfe87587ee8a54c76349a996e80c24f
Merge: 2641dfd... d2b176e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 28 20:56:24 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 2641dfd981e4a3eebf387f21cf10685af06e1641
Author: Darren Jenkins <darrenrjenkins@gmail.com>
Date:   Tue Feb 28 16:59:20 2006 -0800

    [PATCH] synclink_gt: make ->init_error signed
    
    Examples of misuse are
    
    3112 info->init_error = -1;
    
    4440 if ((info->init_error = register_test(info)) < 0) {
    
    Signed-off-by: Darren Jenkins <darrenrjenkins@gmail.com>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6713e046336ffa98060418c4d2c65243639e107
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 28 16:59:19 2006 -0800

    [PATCH] out_of_memory(): use of uninitialised
    
    Under some circumstances `points' can get printed before it's initialised.
    Spotted by Carlos Martin <carlos@cmartin.tk>.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0551fbd29e16fccd46e41b7d01bf0f8f39b14212
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Feb 28 16:59:19 2006 -0800

    [PATCH] Add mm->task_size and fix powerpc vdso
    
    This patch adds mm->task_size to keep track of the task size of a given mm
    and uses that to fix the powerpc vdso so that it uses the mm task size to
    decide what pages to fault in instead of the current thread flags (which
    broke when ptracing).
    
    (akpm: I expect that mm_struct.task_size will become the way in which we
    finally sort out the confusion between 32-bit processes and 32-bit mm's.  It
    may need tweaks, but at this stage this patch is powerpc-only.)
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f61388822a6040ff462c5f7260daa0f1017f2db0
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 28 16:59:18 2006 -0800

    [PATCH] nommu: implement vmalloc_node()
    
    Fix oprofile linkage.   Pointed out by "Luke Yang" <luke.adi@gmail.com>.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8788c0cce63e0cc8689a123d1ce0af1e28cd583
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Tue Feb 28 16:59:16 2006 -0800

    [PATCH] remove_from_swap: fix locking
    
    remove_from_swap() currently attempts to use page_lock_anon_vma to obtain
    an anon_vma lock.  That is not working since the page may have been
    remapped via swap ptes in order to move the page.
    
    However, do_migrate_pages() obtain the mmap_sem lock and therefore there is
    a guarantee that the anonymous vma will not vanish from under us.  There is
    therefore no need to use page_lock_anon_vma.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6af6aab34a88050c8270ef75ddbdefef5c1dca00
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Tue Feb 28 16:59:15 2006 -0800

    [PATCH] tty buffering: comment out debug code
    
    Comment out debug code in tty receive buffering.  For performance reasons
    (I'll keep it enabled in -mm).
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f050a19e122100507302a77f1969a014e21650e
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Feb 28 16:59:13 2006 -0800

    [PATCH] video1394: fix "return E;" typo
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Ben Collins <bcollins@debian.org>
    Cc: Jody McIntyre <scjody@modernduck.com>
    Cc: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b613e1ccf1b7ac9acc73eaa07f5aeffd3c2bb8d
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Tue Feb 28 16:59:10 2006 -0800

    [PATCH] pnp bus type fix
    
    This is Adam's pnp probing fix.  It's been reported to fix hangs on several
    people's machines.  I don't know if it's official or final, and Adam isn't
    contactable at present.  But I'm not aware of the patch causing any
    regressions.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15b370c95cbc1553eec30a99a5ffb3ac3c8d7b81
Author: Pat Gefre <pfg@sgi.com>
Date:   Tue Feb 28 16:59:09 2006 -0800

    [PATCH] Altix: more ioc3 cleanups and locking fixes
    
    Some "inline" removing that Andrew suggested, removed some locking on
    add/remove at this level - we'll let the callees decide.
    
    Signed-off-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9cff3372bf665652e9dd71c09b817c20f58f754a
Author: John Bowler <jbowler@acm.org>
Date:   Tue Feb 28 16:59:08 2006 -0800

    [PATCH] drivers/mtd/redboot.c: recognise a foreign byte sex partition table
    
    The RedBoot boot loader writes flash partition tables containing native
    byte sex 32 bit values.  When booting an opposite byte sex kernel (e.g.  an
    LE kernel from BE RedBoot) the current MTD driver fails to handle the
    partition table and therefore is unable to generate the correct partition
    map for the flash.
    
    So far as I am aware this problem is ARM specific, because only ARM
    supports software change of the CPU (memory system) byte sex, however the
    partition table parsing is in generic MTD code.  The patch below has been
    tested on NSLU2 (an IXP4XX based system) with a patch,
    10-ixp4xx-copy-from.patch (submitted to linux-arm-kernel - it's ARM
    specific) required to make the maps/ixp4xx.c driver work with an LE kernel.
    
    Builds of the patched system are in the 'unstable' release of OpenSlug and
    UcSlugC available from www.nslu2-linux.org.  These builds are BE, the
    archives at www.nslu2-linux.org and www.handhelds.org (see
    monotone.vanille.de) can be built LE (currently DISTRO targets
    nslu-ltu.conf for LE thumb uclibc (32 bit kernel) and nslu2-lau.conf,
    nslu2-lag.conf for LE arm uclibc/glibc) and this patch has been tested
    extensively will both BE and LE systems on the NSLU2 (including swapping
    between BE and LE by reflashing from both RedBoot and Linux).
    
    The patch recognises that the FIS directory (the partition table) is
    byte-reversed by examining the partition table size, which is known to be
    one erase block (this is an assumption made elsewhere in redboot.c).  If
    the size matches the erase block after byte swapping the value then
    byte-reversal is assumed, if not no further action is taken.  The patched
    code is fail safe; should redboot.c be changed to support a partition table
    with a modified size field the test will fail and the partition table will
    be assumed to have the host byte sex.
    
    If byte-reversal is detected the patch byte swaps the remainder of the 32
    bit fields in the copy of the table; this copy is then used to set up the
    MTD partition map.
    
    Signed-off-by: John Bowler <jbowler@acm.org>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50322fe7d46b544d5649edb58bdbe5c95dd44b98
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Tue Feb 28 16:59:03 2006 -0800

    [PATCH] fuse: fix bug in negative lookup
    
    If negative entries (nodeid == 0) were sent in reply to LOOKUP requests,
    two bugs could be triggered:
    
    - looking up a negative entry would return -EIO,
    
    - revaildate on an entry which turned negative would send a FORGET
      request with zero nodeid, which would cause an abort() in the
      library.
    
    The above would only happen if the 'negative_timeout=N' option was used,
    otherwise lookups reply -ENOENT, which worked correctly.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 511030bcd24119fa3759ef3f914d354e107ef839
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Tue Feb 28 16:58:57 2006 -0800

    [PATCH] Fix sys_migrate_pages: Move all pages when invoked from root
    
    Currently sys_migrate_pages only moves pages belonging to a process.  This
    is okay when invoked from a regular user.  But if invoked from root it
    should move all pages as documented in the migrate_pages manpage.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5cf6c541f5b3902bdcc2d311d70f8e730aaff1be
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 28 16:58:53 2006 -0800

    [PATCH] x86 microcode driver vs hotplug CPUs.
    
    This driver loops over 'num_online_cpus', but it doesn't account for holes
    in the online map created by offlined cpus, and assumes that the cpu
    numbers stay linear.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1415ee65500597e19c0ac44872db66105bad0e7
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Tue Feb 28 20:24:07 2006 -0800

    [PATCH] e1000: revert to single descriptor for legacy receive path
    
    A recent patch attempted to enable more efficient memory usage by using
    only 2kB descriptors for jumbo frames.  The method used to implement this
    has since been commented upon as "illegal" and in recent kernels even
    causes a BUG when receiving ip fragments while using jumbo frames.
    This patch simply goes back to the way things were.  We expect some
    complaints due to order 3 allocations failing to come back due to this
    change.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>

commit 958ddb75b04b792c701b2b08acdb200d638abf4e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Feb 27 13:13:54 2006 -0800

    [PATCH] sky2: remove MSI support
    
    Remove Message Signaled Interrupt support (for 2.6.16).
    MSI is inherently edge-triggered and that is incompatiable (without more
    work) with NAPI.
    
    In future, will replace with smarter lockless-IRQ handling like
    tg3.c
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit ce7eeb6b52bf1fc2a219503072732f35741d11de
Merge: 816fd40... 4832843...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Tue Feb 28 18:04:30 2006 -0500

    Merge branch 'upstream-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit 816fd404718fc6064ddb05e6b310b2bc2ae7a187
Merge: ec72070... 576cfa9...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Tue Feb 28 18:03:45 2006 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit ec72070b1201203387e0c32a23ed17e35a24b170
Merge: 436002e... 34d1a8a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 28 14:02:10 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/usb-2.6

commit 34d1a8aa882df916e1b078dc935e3d2d3792aea2
Author: Ian Abbott <abbotti@mev.co.uk>
Date:   Mon Feb 27 14:05:32 2006 +0000

    [PATCH] USB: ftdi_sio: new microHAM device IDs
    
    This patch adds a bunch of new device IDs to the ftdi_sio driver for
    various devices from microHAM using FTDI chips.
    
    Micheal Studer supplied the PID for the USB-Y9 device.  I examined the
    INF file in microHAM's Windows driver package for the USB-KW, USB-YS,
    USB-IC, USB-DB9 and USB-RS232 devices.
    
    Signed-off-by: Ian Abbott <abbotti@mev.co.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 04d52461c6ecfc5b72e688b0eb2ead7b555eca25
Author: Hendrik Schweppe <hendrik@somehost.de>
Date:   Sun Feb 19 19:00:04 2006 +0100

    [PATCH] USB: visor.c id for gspda smartphone
    
    Added the USB vendorID of GSPDA and the productID of GSPDA's palm
    smartphone 'xplore m68' to the list of known devices.
    
    Signed-off-by: Hendrik Schweppe <linuxkpatch@hendrik.fam-schweppe.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8763716bfe4d8a16bef28c9947cf9d799b1796a5
Author: Shaun Tancheff <shaun@tancheff.com>
Date:   Wed Feb 22 19:47:19 2006 -0800

    [PATCH] USB: Gadget RNDIS fix alloc bug. (buffer overflow)
    
    Remote NDIS response to OID_GEN_SUPPORTED_LIST only allocated space
    for the data attached to the reply, and not the reply structure
    itself. This caused other kmalloc'd memory to be corrupted.
    
    Signed-off-by: Shaun Tancheff <shaun@tancheff.com>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d5ec33490c67affef93aebf76e1238260c82d377
Author: Franck Bui-Huu <vagabon.xyz@gmail.com>
Date:   Thu Feb 23 09:35:06 2006 +0100

    [PATCH] USB: lh7a40x gadget driver: Fixed a dead lock
    
    There is a dead lock in lh7a40x udc driver. When the driver receive a
    SET_FEATURE HALT request, the dev lock is taken by the interrupt
    handler lh7a40x_udc_irq then the handler will call lh7a40x_set_halt
    function which in its turn will try to acquire the dev lock.
    
    Signed-off-by: Franck Bui-Huu <franck.bui-huu@innova-card.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 754501b324fc3c42522a46d3ace205e7a6a50e77
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Feb 23 10:19:25 2006 -0500

    [PATCH] USB: unusual_devs entry for Lyra RCA RD1080
    
    This patch (as656) adds an unusual_devs.h entry for the Lyra RCA RD1080
    MP3 player.  Its card-reader firmware has the common
    report-one-too-many-sectors bug.  This fixes Novell bug #152175.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e65335ef187c9cbc50bbc56be0fe966b593beb49
Author: Andrew Fuller <mactalla.obair@gmail.com>
Date:   Sat Feb 25 09:52:27 2006 -0500

    [PATCH] USB: Wisegroup MP-8866 Dual USB Joypad
    
    This patch is for the Dual USB Joypad [0925:8866] from Wisegroup.  The
    HID_QUIRK_NOGET is necessary for it to respond to input, and the
    HID_QUIRK_MULTI_INPUT is necessary to have two js# nodes appear.
    
    Signed-off-by: Andrew Fuller <mactalla.obair@gmail.com>
    Cc: "Dmitry Torokhov" <dmitry.torokhov@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8c450802a3abf0e8a45238fcb7d22ed9d6f191ce
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Feb 24 16:55:52 2006 -0800

    [PATCH] USB: fix EHCI BIOS handshake
    
    Fix http://bugzilla.kernel.org/show_bug.cgi?id=6128
    
    Finish morphing the "early handoff" version of the EHCI BIOS handshake over
    to match the previous implementation inside the EHCI driver (except that
    now we forcibly disable the SMI).  The version that had been with the PCI
    code was surprisingly full of bugs.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Cc: <yazar256@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 436002e3293472e4a7e47e5025999fc312794c4a
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Feb 28 11:55:36 2006 -0800

    [SUNSU]: Fix locking error in sunsu_stop_rx().
    
    The caller takes the UART port lock, so we shouldn't try
    to take it again.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d2b176ed878d4d5fcc0bd35656dfd373f3702af9
Author: Jes Sorensen <jes@sgi.com>
Date:   Tue Feb 28 09:42:23 2006 -0800

    [IA64] sysctl option to silence unaligned trap warnings
    
    Allow sysadmin to disable all warnings about userland apps
    making unaligned accesses by using:
     # echo 1 > /proc/sys/kernel/ignore-unaligned-usertrap
    Rather than having to use prctl on a process by process basis.
    
    Default behaivour leaves the warnings enabled.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit e2482fa16e9eef88344a4dca1a390d29432d4add
Author: Juergen E. Fischer <fischer@linux-buechse.de>
Date:   Sun Feb 19 00:31:51 2006 +0100

    [SCSI] aha152x: fix variable use before initialisation and other bugs
    
    - change interface of the reset functions from Scsi_Cmnd to Scsi_Host.
    - add functions with the original interface and rename the new
      functions to reflect the new interface.
    - call these from the pcmcia driver, thereby avoiding the need to
      construct a (broken) Scsi_Cmnd from a Scsi_Host.
    - just run the bh if the interrupt is from the controller and if so
      ensure that it's only called once per interrupt.
    
    Signed-off-by: Juergen E. Fischer <fischer@linux-buechse.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b9756c047ce6b60e3b96aa3c5db958acbdacedde
Merge: b546330... 778e2ac...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 28 09:14:09 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 778e2ac5970e445f8c6b7d8aa597ac162afe270a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 28 17:04:20 2006 +0000

    [MIPS] Fix build error on processors that don's support copy-on-write.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4debe4f963f9135771a8c5bc66e84396201dcfd8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 27 19:05:55 2006 +0000

    [MIPS] Initialize S-cache function pointers even on S-cache-less CPUs.
    
    When a CPU has no scache, the scache flushing functions currently
    aren't getting initialized and the NULL pointer is eventually called
    as a function.  Initialize the scache flushing functions as a noop
    when there's no scache.
    
    Initial patch by me and most of the debugging done by Martin Michlmayr.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c8c1635faa7c97329111ce32b927d37306521822
Author: Ken Chen <kenneth.w.chen@intel.com>
Date:   Tue Feb 28 08:53:32 2006 -0800

    [IA64] cleanup in fsys.S
    
    beautify coding style for zeroing end of fsyscall_table entries.
    Remove misleading __NR_syscall_last and add more comments.
    Drop (now unneeded) "guard against failure to increase NR_syscalls"
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b54633056d626590f32912540500c8c20ce6d520
Merge: 7b14e3b... 56ec646...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 28 07:38:21 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 23ff51e9fe24f98c1053ac1cdded434012eee342
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Feb 28 06:28:15 2006 -0700

    [SCSI] Fix uninitialised width and speed in sym2
    
    sym2 boards without NVRAM currently negotiate narrow due to this missed
    initialisation
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 123fc7fd6f609a000061f586a794c89d1122ede1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 9 11:16:38 2006 -0500

    [SCSI] Delete duplicate driver template.
    
    Stuborn as compilers are they don't like duplicate definitions.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7b14e3b52fe5a2fb1dfa2f1f7dae4fd5f7d3fc47
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Feb 28 09:35:11 2006 +0100

    [PATCH] cfq-iosched: slice expiry fixups
    
    During testing of SLES10, we encountered a hang in the CFQ io scheduler.
    Turns out the deferred slice expiry logic is buggy, so remove that for
    now.  We could be left with an idle queue that would never wake up.  So
    kill that logic, always expire immediately.  Also fix a potential timer
    race condition.
    
    Patch looks bigger than it is, because it moves a function.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 56ec6462af9cba56a04439154e5768672d6f390f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Feb 28 14:54:26 2006 +1100

    [PATCH] powerpc/iseries: Fix double phys_to_abs bug in htab_bolt_mapping
    
    Before the merge I updated create_pte_mapping() to work for iSeries, by
    calling iSeries_hpte_bolt_or_insert. (4c55130b2aa93370f1bf52d2304394e91cf8ee39)
    
    Later we changed iSeries_hpte_insert to cope with the bolting case, and called
    that instead from create_pte_mapping() (which was renamed to htab_bolt_mapping)
    (3c726f8dee6f55e96475574e9f645327e461884c).
    
    Unfortunately that change introduced a subtle bug, where we pass an absolute
    address to iSeries_hpte_insert() where it expects a physical address. This
    leads to us calling phys_to_abs() twice on the physical address, which is
    seriously bogus.
    
    This only causes a problem if the absolute address from the first translation
    can be looked up again in the chunk_map, which depends on the size and layout
    of memory. I've seen it fail on one box, but not others.
    
    The minimal fix is to pass the physical address to iSeries_hpte_insert(). For
    2.6.17 we should make phys_to_abs() BUG if we try to double-translate an
    address.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 273d2803817c9e050e8d6c3c271db7d61f2fb259
Author: Olaf Hering <olh@suse.de>
Date:   Mon Feb 27 15:52:59 2006 +0100

    [PATCH] powerpc: fix NULL pointer in handle_eeh_events
    
    This patch fixes a crash in handle_eeh_events,
    but ethtool -t still doesnt work right.
    
    ...
    pepino:~ # cpu 0x3: Vector: 300 (Data Access) at [c00000005192bbe0]
        pc: c00000000004a380: .handle_eeh_events+0xe0/0x23c
        lr: c00000000004a374: .handle_eeh_events+0xd4/0x23c
        sp: c00000005192be60
       msr: 9000000000009032
       dar: 268
     dsisr: 40000000
      current = 0xc0000001fe7bf1a0
      paca    = 0xc00000000048b280
        pid   = 16322, comm = eehd
    enter ? for help
    [c00000005192bf00] c00000000004a808 .eeh_event_handler+0xcc/0x130
    [c00000005192bf90] c000000000025e00 .kernel_thread+0x4c/0x68
    
    ...
    
    (none):/# /usr/sbin/ethtool -i eth0
    driver: e100
    version: 3.5.10-k2-NAPI
    firmware-version: N/A
    bus-info: 0000:21:01.0
    (none):/# /usr/sbin/ethtool -t eth0
    Call Trace:
    [C00000000F8DEFF0] [C00000000000F270] .show_stack+0x74/0x1b4 (unreliable)
    [C00000000F8DF0A0] [C000000000049D04] .eeh_dn_check_failure+0x290/0x2d8
    [C00000000F8DF150] [C000000000049E58] .eeh_check_failure+0x10c/0x138
    [C00000000F8DF1E0] [C0000000002DFDB0] .e100_hw_reset+0x70/0xf4
    [C00000000F8DF270] [C0000000002E1BBC] .e100_hw_init+0x2c/0x260
    [C00000000F8DF310] [C0000000002E2464] .e100_loopback_test+0x8c/0x220
    [C00000000F8DF3C0] [C0000000002E28DC] .e100_diag_test+0xdc/0x16c
    [C00000000F8DF490] [C000000000420BE0] .dev_ethtool+0xf24/0x14f8
    [C00000000F8DF8F0] [C00000000041F4A8] .dev_ioctl+0x5cc/0x740
    [C00000000F8DFA20] [C00000000040FEFC] .sock_ioctl+0x3d0/0x404
    [C00000000F8DFAC0] [C0000000000D513C] .do_ioctl+0x68/0x108
    [C00000000F8DFB50] [C0000000000D56B0] .vfs_ioctl+0x4d4/0x510
    [C00000000F8DFC10] [C0000000000D5740] .sys_ioctl+0x54/0x94
    [C00000000F8DFCC0] [C0000000000FB6EC] .ethtool_ioctl+0x11c/0x150
    [C00000000F8DFD60] [C0000000000F7E40] .compat_sys_ioctl+0x338/0x3bc
    [C00000000F8DFE30] [C00000000000871C] syscall_exit+0x0/0x40
    EEH: Detected PCI bus error on device 0000:21:01.0
    EEH: This PCI device has failed 1 times since last reboot: <NULL> -
    
    modprobe: FATAL: Could not load /lib/modules/2.6.16-rc4-git7/modules.dep: No such file or directory
    
    Cannot get strings: No such device
    (none):/#
    (none):/# EEH: Unable to configure device bridge (-3) for /pci@400000000110/pci@2,2
    
    (none):/# Call Trace:
    [C00000000FA17940] [C00000000000F270] .show_stack+0x74/0x1b4 (unreliable)
    [C00000000FA179F0] [C000000000049D04] .eeh_dn_check_failure+0x290/0x2d8
    [C00000000FA17AA0] [C00000000001E114] .rtas_read_config+0x120/0x154
    [C00000000FA17B40] [C000000000049664] .early_enable_eeh+0x274/0x2bc
    [C00000000FA17C00] [C000000000049708] .eeh_add_device_early+0x5c/0x6c
    [C00000000FA17C90] [C000000000049748] .eeh_add_device_tree_early+0x30/0x5c
    [C00000000FA17D20] [C000000000046568] .pcibios_add_pci_devices+0x8c/0x1f8
    [C00000000FA17DD0] [C00000000004A528] .eeh_reset_device+0xe0/0x110
    [C00000000FA17E60] [C00000000004A698] .handle_eeh_events+0x140/0x250
    [C00000000FA17F00] [C00000000004AC7C] .eeh_event_handler+0xe8/0x140
    [C00000000FA17F90] [C000000000025784] .kernel_thread+0x4c/0x68
    EEH: Detected PCI bus error on device <NULL>
    EEH: This PCI device has failed 1 times since last reboot: <NULL> -
    EEH: Unable to configure device bridge (-3) for /pci@400000000110/pci@2,2
    Call Trace:
    [C00000000FA17940] [C00000000000F270] .show_stack+0x74/0x1b4 (unreliable)
    [C00000000FA179F0] [C000000000049D04] .eeh_dn_check_failure+0x290/0x2d8
    [C00000000FA17AA0] [C00000000001E114] .rtas_read_config+0x120/0x154
    [C00000000FA17B40] [C000000000049664] .early_enable_eeh+0x274/0x2bc
    [C00000000FA17C00] [C000000000049708] .eeh_add_device_early+0x5c/0x6c
    [C00000000FA17C90] [C000000000049748] .eeh_add_device_tree_early+0x30/0x5c
    [C00000000FA17D20] [C000000000046568] .pcibios_add_pci_devices+0x8c/0x1f8
    [C00000000FA17DD0] [C00000000004A528] .eeh_reset_device+0xe0/0x110
    [C00000000FA17E60] [C00000000004A698] .handle_eeh_events+0x140/0x250
    [C00000000FA17F00] [C00000000004AC7C] .eeh_event_handler+0xe8/0x140
    [C00000000FA17F90] [C000000000025784] .kernel_thread+0x4c/0x68
    EEH: Detected PCI bus error on device <NULL>
    EEH: This PCI device has failed 1 times since last reboot: <NULL> -
    EEH: Unable to configure device bridge (-3) for /pci@400000000110/pci@2,2
    Call Trace:
    [C00000000FA17940] [C00000000000F270] .show_stack+0x74/0x1b4 (unreliable)
    [C00000000FA179F0] [C000000000049D04] .eeh_dn_check_failure+0x290/0x2d8
    [C00000000FA17AA0] [C00000000001E114] .rtas_read_config+0x120/0x154
    [C00000000FA17B40] [C000000000049664] .early_enable_eeh+0x274/0x2bc
    [C00000000FA17C00] [C000000000049708] .eeh_add_device_early+0x5c/0x6c
    [C00000000FA17C90] [C000000000049748] .eeh_add_device_tree_early+0x30/0x5c
    [C00000000FA17D20] [C000000000046568] .pcibios_add_pci_devices+0x8c/0x1f8
    [C00000000FA17DD0] [C00000000004A528] .eeh_reset_device+0xe0/0x110
    [C00000000FA17E60] [C00000000004A698] .handle_eeh_events+0x140/0x250
    [C00000000FA17F00] [C00000000004AC7C] .eeh_event_handler+0xe8/0x140
    [C00000000FA17F90] [C000000000025784] .kernel_thread+0x4c/0x68
    EEH: Detected PCI bus error on device <NULL>
    and so on
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Acked-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 634473db86502b6444c3cebd279a06e0b8737527
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Feb 26 08:09:00 2006 +1100

    [PATCH] powerpc: vdso 64bits gettimeofday bug
    
    A bug in the assembly code of the vdso can cause gettimeofday() to hang
    or to return incorrect results. The wrong register was used to test for
    pending updates of the calibration variables and to create a dependency
    for subsequent loads. This fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 827c1a6c1a5dcb2902fecfb648f9af6a532934eb
Author: John Rose <johnrose@austin.ibm.com>
Date:   Fri Feb 24 11:34:23 2006 -0600

    [PATCH] powerpc: fix dynamic PCI probe regression
    
    Some hotplug driver functions were migrated to the kernel for use by EEH
    in commit 2bf6a8fa21570f37fd1789610da30f70a05ac5e3.
    
    Previously, the PCI Hotplug module had been changed to use the new
    OFDT-based PCI probe when appropriate:
    5fa80fcdca9d20d30c9ecec30d4dbff4ed93a5c6
    
    When rpaphp_pci_config_slot() was moved from the rpaphp driver to the
    new kernel function pcibios_add_pci_devices(), the OFDT-based probe
    stuff was dropped.  This patch restores it.
    
    Signed-off-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a8b76b491510b7591c584838d0d7922f9ffe5c2c
Merge: 637029c... c3c013a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 20:43:36 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 637029c6cb5efcbaa3d5831af4c1972bdd629779
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 20:41:56 2006 -0800

    Revert "[PATCH] x86_64: Only do the clustered systems have unsynchronized TSC assumption on IBM systems"
    
    This reverts commit 13a229abc25640813f1480c0478dfc6bdbc1c19e.
    
    Quoth Andi:
      "After some consideration and feedback from various people it turns
       out this wasn't that good an idea.  It has some problems and needs
       more work.  Since it was only an optimization anyways it's best to
       just back it out again for now."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8884efab1516613215816d48132dd724508970bf
Author: Brian King <brking@us.ibm.com>
Date:   Fri Feb 24 17:10:04 2006 -0600

    [SCSI] scsi: scsi command retries off by one fix
    
    Fix up an off by one error in calculating retries for scsi
    commands. This bug was discovered when an SG_IO request
    was sent to scsi core with retries = 0, causing the overall
    timeout check to go off in scsi_softirq_done.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 147aab6aa22ce7775be944f8fb9932aa000dda61
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Feb 17 12:13:48 2006 +0100

    [SCSI] megaraid_sas: fix physical disk handling
    
    This patch hides the devices completely from the midlayer instead.
    It requires the patch to handle the slave_configure failure I posted
    earlier.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c3c013a2c218cdede2d2e73df01ed4f813538941
Author: Jeff Garzik <jeff@garzik.org>
Date:   Mon Feb 27 22:31:19 2006 -0500

    [libata] Disable FUA
    
    Until problems are sorted.

commit 938050916f57f08e20595b1fa1c1e57c2fbf7243
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Feb 17 12:11:29 2006 +0100

    [SCSI] scsi: handle ->slave_configure return value
    
    When >slave_configure fails the scsi midlayer should handle it.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8b097a67264ba3e10620b268979de3be6fe5e3cd
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Feb 14 14:22:14 2006 -0800

    [SCSI] fc_transport: stop creating duplicate rport entries.
    
    Current fc_transport consumers initially register rports
    with an UNKNOWN role-state and follow-up with a call to
    fc_remote_port_rolechg().  Modify code in
    fc_remote_port_add() to scan the fc_host_rport_bindings()
    array for consistent bindings regardless of role-type.
    Original code would only scan bindings array for targets,
    causing duplicate fc_remote_ports/rport-X:Y-Z entries to be
    created for the yet-to-be-role-changed rports.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eca7be5e1899626db01ae42b0123458d6fb34930
Author: Brian King <brking@us.ibm.com>
Date:   Tue Feb 14 12:42:24 2006 -0600

    [SCSI] sg: Remove aha1542 hack
    
    Remove a hack in the sg driver that alters the total buffer
    length for SG_IO commands to ensure buffers are not odd byte
    lengths. This breaks on the ipr driver since it requires the
    request_bufflen to equal the length specified in the cdb.
    The block layer SG_IO code does not appear to have this hack.
    
    Signed-off-by: Douglas Gilbert <dougg@torque.net>
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d4f0f122ec407bd1b4d1c773d0c87edc6a92cd26
Merge: 272a532... 2353e8e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 18:15:43 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-rc-fixes

commit 2353e8e9b6ae29aad77935f21735a30f5cc419b4
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Tue Feb 28 12:30:30 2006 +1100

    [XFS] Don't map non-uptodate buffers in xfs_probe_cluster; also fixes
    obscure corruption case
    
    SGI-PV: 942658
    SGI-Modid: xfs-linux-melb:xfs-kern:207119a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit dae81d4774ecbeb7d24bb9a6a4db9f9baee54d85
Author: Nathan Scott <nathans@sgi.com>
Date:   Tue Feb 28 12:30:13 2006 +1100

    [XFS] Reduce stack use during quota mounts (caused a panic).  This
    regressed recently via the fix for inherited quota inode attributes.
    
    SGI-PV: 947312
    SGI-Modid: xfs-linux-melb:xfs-kern:25318a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 07ff2fa8fcb3d9207f1c16e5acf9086d5731ed8b
Author: Nathan Scott <nathans@sgi.com>
Date:   Tue Feb 28 12:29:51 2006 +1100

    [XFS] Fix a realtime allocator regression introduced by an old iget race
    fix.  Noticed by Roger Willcocks.
    
    SGI-PV: 949821
    SGI-Modid: xfs-linux-melb:xfs-kern:25257a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 4832843d773462643cc471ca715382f5e509afb3
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sun Feb 26 23:43:20 2006 -0800

    [PATCH] ieee80211_rx.c: is_beacon
    
    Fix broken is_beacon().
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 9fe26a74f1e355dd707f09f9e5e9f035bcc6bae2
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Feb 27 17:07:14 2006 -0800

    [IA64] refresh default config files
    
    Bring all ia64 config files up to date
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit e963701a761aede31c9c1bfc74cf8e0ec671f0f4
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Feb 27 16:18:58 2006 -0800

    [IA64] die_if_kernel() can return
    
    arch/ia64/kernel/unaligned.c erroneously marked die_if_kernel()
    with a "noreturn" attribute ... which is silly (it returns whenever
    the argument regs say that the fault happened in user mode, as one
    might expect given the "if_kernel" part of its name!).  Thanks to
    Alan and Gareth for pointing this out.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit eb0911e27e8c6778d6c8ec95b7dd60c002d923c3
Author: Christoph Hellwig <hch@infradead.org>
Date:   Tue Feb 21 10:48:41 2006 +0000

    [IA64-SGI] revert export sn_pcidev_info_get
    
    Christoph Hellwig <hch@infradead.org> pointed that there are no
    in-tree uses of this.  So revert 9c65cb9be62ac4993a5b392304b82e4f04f010fd
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ac311ac2b7caca000b1501fd24136bdca30e2a51
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Fri Feb 24 12:46:23 2006 -0700

    [IA64] Fix pcibios_setup
    
    pcibios_setup() should return NULL if it handled a parameter.  Since ia64
    handles no parameters, it should return the string that was passed in,
    not NULL.  This brings ia64 into line with all other architectures that
    handle no parameters.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 18810d1ebac89232d8f218a318ed9ff7ef198e96
Author: Jack Steiner <steiner@sgi.com>
Date:   Thu Feb 23 13:16:44 2006 -0600

    [IA64-SGI] Make number of TIO nodes configurable
    
    Make the limit for the number of TIO nodes a function of the number
    of C/M nodes in the system instead of a hardcoded constant.  The
    number of TIO nodes should be the same as the number of C/M nodes.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 312f1f0141627a58bf72c55f0e7bc5d6f118a372
Author: Horms <horms@verge.net.au>
Date:   Wed Feb 22 09:57:55 2006 +0900

    [IA64] Document the "nomca" boot parameter
    
    "nomca" can be used to disable machine check handling
    
    Signed-Off-By: Horms <horms@verge.net.au>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 272a5322d5219b00a1e541ad9d0d76824df1aa2a
Merge: 051d3cb... ba13c98...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 15:22:14 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 5d1a88af826b03edaac4d2bd2f25af56a54f26e6
Author: Yanmin Zhang <yanmin_zhang@linux.intel.com>
Date:   Fri Feb 17 12:23:09 2006 +0800

    [IA64] Delete a redundant instruction in unaligned_access
    
    unaligned_access does fetch cr.ipsr, then calls
    dispatch_unaligned_handler, but dispatch_unaligned_handler fetches
    cr.ipsr again, so delete the first one.
    
    Signed-off-by: Yanmin Zhang <yanmin.zhang@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 50e300dead8dadf32e930ebd80d9810d631aa1a0
Author: Jes Sorensen <jes@sgi.com>
Date:   Fri Feb 17 10:25:39 2006 -0500

    [IA64] show "SN Devices" menu only if CONFIG_SGI_SN
    
    Adrian> On architectures like i386, the "Multimedia Capabilities Port
    Adrian> drivers" menu is visible, but it can't be visited since it
    Adrian> contains nothing usable for CONFIG_SGI_SN=n.
    
    Jes> Thats only a third of the patch, if you want to do that, you should
    Jes> remove the redundant SGI_SN checks below.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 576cfa934e357c44d6259f90c7d065de328a3691
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Feb 27 23:15:06 2006 +0100

    8139cp: fix broken suspend/resume
    
    - check that the device is up before it is enabled again;
    - the descriptor ring indexes must be set to zero before
      cp_init_hw() is issued. Add a nice comment to remember
      that skb allocation failure is still not handled.
    
    Fixes http://bugzilla.kernel.org/show_bug.cgi?id=5681
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit b3c3e7d7d9795df16012d5c60e5f789e7fade311
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Feb 27 23:11:08 2006 +0100

    via-velocity: fix memory corruption when changing the mtu
    
    velocity_rx_refill() only replenishes the descriptor entries which
    belong to the CPU. It works great in the Rx path but the driver must
    ensure that all the descriptors are freed before velocity_rx_refill()
    is used in velocity_change_mtu(). The patch resets the Rx descriptors
    in velocity_free_rd_ring().
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit ba13c98405ba44d37d148376c6615e6c8babbfdc
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Feb 27 13:30:43 2006 -0800

    [REQSK]: Don't reset rskq_defer_accept in reqsk_queue_alloc
    
    In 295f7324ff8d9ea58b4d3ec93b1aaa1d80e048a9 I moved defer_accept from
    tcp_sock to request_queue and mistakingly reset it at reqsl_queue_alloc, causing
    calls to setsockopt(TCP_DEFER_ACCEPT ) to be lost after bind, the fix is to
    remove the zeroing of rskq_defer_accept from reqsl_queue_alloc.
    
    Thanks to Alexandra N. Kossovsky <Alexandra.Kossovsky@oktetlabs.ru> for
    reporting and testing the suggested fix.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bafac2a512bf4fd2ce7520f3976ce8aab4435f74
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:04:17 2006 -0800

    [NETFILTER]: Restore {ipt,ip6t,ebt}_LOG compatibility
    
    The nfnetlink_log infrastructure changes broke compatiblity of the LOG
    targets. They currently use whatever log backend was registered first,
    which means that if ipt_ULOG was loaded first, no messages will be printed
    to the ring buffer anymore.
    
    Restore compatiblity by using the old log functions by default and only use
    the nf_log backend if the user explicitly said so.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 45fe4dc08cbf9510074b97a16606366c1d405f4d
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:03:55 2006 -0800

    [NETFILTER]: nf_queue: fix end-of-list check
    
    The comparison wants to find out if the last list iteration reached the
    end of the list. It needs to compare the iterator with the list head to
    do this, not the element it is looking for.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e121e9ecb08c3a9843243f461290869ff08be900
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:03:39 2006 -0800

    [NETFILTER]: nf_queue: remove unnecessary check for outfn
    
    The only point of registering a queue handler is to provide an outfn,
    so there is no need to check for it.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7a11b9848ae27e571f219fab5541bd84700f0d68
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:03:24 2006 -0800

    [NETFILTER]: nf_queue: fix rerouting after packet mangling
    
    Packets should be rerouted when they come back from userspace, not before.
    Also move the queue_rerouters to RCU to avoid taking the queue_handler_lock
    for each reinjected packet.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f92f871989c97a24d284ac60b0f880222ddf87ac
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:03:10 2006 -0800

    [NETFILTER]: nf_queue: check if rerouter is present before using it
    
    Every rerouter needs to provide a save and a reroute function, we don't
    need to check for them. But we do need to check if a rerouter is registered
    at all for the current family, with bridging for example packets of
    unregistered families can hit nf_queue.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e02f7d1603c955126e88cc08149509d00be25cb9
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Feb 27 13:02:52 2006 -0800

    [NETFILTER]: nf_queue: don't copy registered rerouter data
    
    Use the registered data structure instead of copying it.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 752c1f4c78fe86d0fd6497387f763306b0d8fc53
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Feb 27 13:00:40 2006 -0800

    [IPSEC]: Kill post_input hook and do NAT-T in esp_input directly
    
    The only reason post_input exists at all is that it gives us the
    potential to adjust the checksums incrementally in future which
    we ought to do.
    
    However, after thinking about it for a bit we can adjust the
    checksums without using this post_input stuff at all.  The crucial
    point is that only the inner-most NAT-T SA needs to be considered
    when adjusting checksums.  What's more, the checksum adjustment
    comes down to a single u32 due to the linearity of IP checksums.
    
    We just happen to have a spare u32 lying around in our skb structure :)
    When ip_summed is set to CHECKSUM_NONE on input, the value of skb->csum
    is currently unused.  All we have to do is to make that the checksum
    adjustment and voila, there goes all the post_input and decap structures!
    
    I've left in the decap data structures for now since it's intricately
    woven into the sec_path stuff.  We can kill them later too.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4bf05eceecf2efb4c883e9e9b17825682e7330dd
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Feb 27 13:00:01 2006 -0800

    [IPSEC] esp: Kill unnecessary block and indentation
    
    We used to keep sg on the stack which is why the extra block was useful.
    We've long since stopped doing that so let's kill the block and save
    some indentation.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 051d3cbd96909b2fe6b5038e7bbe77f41356db05
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Feb 27 12:51:27 2006 -0800

    [TG3]: Fix Sun tg3 variant detection.
    
    Some Sun parts don't have PCI_VENDOR_ID_SUN in the subsystem
    vendor ID.  So add another fallback test, which is the name
    of the OBP firmware device tree node.  If it's a Sun part we'll
    get "network", else it will be named "ethernet".
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit de5f503cfbe4f942492269c6bd97a16a4d61e488
Merge: d904ffd... 2fd628f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 09:46:24 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 2fd628fe25e1f3d07996b0dab728ea0702f81306
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Feb 21 15:59:00 2006 +0900

    [MIPS] Use generic compat routines for readdir, getdents
    
    Not just cleanup but also fixes O32 readdir(2) emulation.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 92f22c183cd669c8575767fede8fe43bb4f7bce9
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 23 14:10:53 2006 +0000

    [MIPS] Fix atomic*_sub_if_positive return value.
    
    Reported and initial fix by Thomas Koeller <thomas.koeller@baslerweb.com>,
    rewritten by me.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9b6695a8adfe0916e81ddd810a5b9db3eb8b0e46
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 23 12:23:27 2006 +0000

    [MIPS] SMP: Fix initialization order bug.
    
    A recent change requires cpu_possible_map to be initialized before
    smp_sched_init() but most MIPS platforms were initializing their
    processors in the prom_prepare_cpus callback of smp_prepare_cpus.  The
    simple fix of calling prom_prepare_cpus from one of the earlier SMP
    initialization hooks doesn't work well either since IPIs may require
    init_IRQ() to have completed, so bit the bullet and split
    prom_prepare_cpus into two initialization functions, plat_smp_setup
    which is called early from setup_arch and plat_prepare_cpus called where
    prom_prepare_cpus used to be called.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3e6cb2d38a9c9758170813497a860c64543643d5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 21 18:32:14 2006 +0000

    [MIPS] Use "=R" constraint to avoid compiler errors in cmpxchg().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d904ffd6e0c3ab7631b07c21c9f9234a2e72d1f3
Author: Marc Zyngier <maz@misterjones.org>
Date:   Mon Feb 27 12:08:00 2006 +0100

    [PATCH] Fix Specialix SX corruption
    
    With the latest kernels, I experienced some strange corruption, some
    '*****' being randomly inserted in the character flow, like this:
    
    	ashes:~#
    	ashes:~#
    	a*******shes:~#
    	ashes:~#
    	ashes:~#
    
    Further investigation shows that the problem was introduced during
    Alan's "TTY layer buffering revamp" patch, the amount of data to be
    copied being reduced after buffer allocation.  Moving the count fixup
    around solves the problem.
    
    Signed-off-by: Marc Zyngier <maz@misterjones.org>
    Approved-by: Rogier Wolff <R.E.Wolff@BitWizard.nl>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e95a9ec1bb66e07b138861c743192f06e7b3e4de
Merge: 6d6585e... e4e10e3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 07:41:30 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 6d6585e490d985d421d7cd3cfc7d77b618c44130
Merge: b9a33ce... 7bef4b3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 27 07:41:11 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit b9a33cebac70d6f67a769ce8d4078fee2b254ada
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 26 21:09:35 2006 -0800

    Linux v2.6.16-rc5

commit 13f939b5d34fc912f03dccc96f7bcc7dc84e9c43
Merge: add2b6f... 7abea92...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 26 20:27:11 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit add2b6fdae9d7fc251c229e76252f731917094c4
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Sun Feb 26 20:24:40 2006 -0800

    Make Kprobes depend on modules
    
    Commit 9ec4b1f356b3bad928ae8e2aa9caebfa737d52df made kprobes not compile
    without module support, so just make that clear in the Kconfig file.
    
    Also, since it's marked EXPERIMENTAL, make that dependency explicit too.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7abea9214585823f7f19d91872d7c6f8874bef9a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sat Feb 25 13:39:56 2006 -0800

    [SPARC64]: Make cpu_present_map available earlier.
    
    The change to kernel/sched.c's init code to use for_each_cpu()
    requires that the cpu_possible_map be setup much earlier.
    
    Set it up via setup_arch(), constrained to NR_CPUS, and later
    constrain it to max_cpus in smp_prepare_cpus().
    
    This fixes SMP booting on sparc64.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 043df59eb3798c094e6ba47136f3d3b34a6791a7
Author: David S. Miller <davem@davemloft.net>
Date:   Sat Feb 25 12:15:31 2006 -0800

    [SPARC64]: Implement futex_atomic_op_inuser().
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e18f9b4be430189d79a01a75734bf7cfdc22cc3f
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Sun Feb 26 17:07:45 2006 -0600

    [PATCH] fix voyager after topology.c move
    
    Commit 9c869edac591977314323a4eaad5f7633fca684f broke voyager again
    rather subtly because it already had its own topology exporting
    functions, so now each CPU gets registered twice.
    
    I think we can actually use the generic ones, so I don't propose
    reverting it.  The attached should eliminate the voyager topology
    functions in favour of the generic ones.
    
    I also added a define to ensure voyager is never hotplug CPU (we don't
    have the support in the SMP harness).
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d51761233d9e3be4cdf10f7482a50463bbd78c78
Author: Brian Magnuson <magnuson@rcn.com>
Date:   Mon Feb 27 04:02:04 2006 +0100

    [PATCH] fix build on x86_64 with !CONFIG_HOTPLUG_CPU
    
    The commit e2c0388866dc12bef56b178b958f9b778fe6c687 added
    setup_additional_cpus to setup.c but this is only defined if
    CONFIG_HOTPLUG_CPU is set.  This patch changes the #ifdef to reflect that.
    
    Signed-off-by: Brian Magnuson <magnuson@rcn.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc5870f66279fabedc9dbba7c28451bbb8f47778
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:55 2006 +0100

    [PATCH] x86_64: Fix ioctl compat code for /dev/rtc
    
    RTC_IRQP_SET/RTC_EPOCH_SET don't take a pointer to an argument, but the
    argument itself.  This actually simplifies the code and makes it work.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab9b32ee626e9b6df4ce2560a70ae15e62423cf4
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:52 2006 +0100

    [PATCH] x86_64: Better ATI timer fix
    
    The previous experiment for using apicmaintimer on ATI systems didn't
    work out very well.  In particular laptops with C2/C3 support often
    don't let it tick during idle, which makes it useless.  There were also
    some other bugs that made the apicmaintimer often not used at all.
    
    I tried some other experiments - running timer over RTC and some other
    things but they didn't really work well neither.
    
    I rechecked the specs now and it turns out this simple change is
    actually enough to avoid the double ticks on the ATI systems.  We just
    turn off IRQ 0 in the 8254 and only route it directly using the IO-APIC.
    
    I tested it on a few ATI systems and it worked there.  In fact it worked
    on all chipsets (NVidia, Intel, AMD, ATI) I tried it on.
    
    According to the ACPI spec routing should always work through the
    IO-APIC so I think it's the correct thing to do anyways (and most of the
    old gunk in check_timer should be thrown away for x86-64).
    
    But for 2.6.16 it's best to do a fairly minimal change:
     - Use the known to be working everywhere-but-ATI IRQ0 both over 8254
       and IO-APIC setup everywhere
     - Except on ATI disable IRQ0 in the 8254
     - Remove the code to select apicmaintimer on ATI chipsets
     - Add some boot options to allow to override this (just paranoia)
    
    In 2.6.17 I hope to switch the default over to this for everybody.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8b917775b572bc27de105f1317c2de4335db5b3
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:49 2006 +0100

    [PATCH] x86_64: Move the SMP time selection earlier
    
    SMP time selection originally ran after all CPUs were brought up because
    it needed to know the number of CPUs to decide if it needs an MP safe
    timer or not.
    
    This is not needed anymore because we know present CPUs early.
    
    This fixes a couple of problems:
     - apicmaintimer didn't always work because it relied on state that was
       set up time_init_gtod too late.
     - The output for the used timer in early kernel log was misleading
       because time_init_gtod could actually change it later.  Now always
       print the final timer choice
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2c0388866dc12bef56b178b958f9b778fe6c687
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:46 2006 +0100

    [PATCH] x86_64: Fix the additional_cpus=.. option
    
    It didn't set up the CPU possible map early enough, so the
    option didn't actually work.
    
    Noticed by Heiko Carstens
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2eb1bdbad89b19c99f8ac1de1492cdabbff6b3d3
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:43 2006 +0100

    [PATCH] x86_64: Disable ACPI blacklist by year for now on x86-64
    
    ACPI is initialized very early on x86-64, before the DMI code is
    initialized.  This means it would often discover a 0 year and then turn
    off ACPI because it thought the BIOS was too old.  Some systems don't
    boot without ACPI so this was a problem.
    
    I have a full fix by adding new very early DMI detection, but it needs
    more testing before it can be merged.  For 2.6.16 let's just turn the
    check off.  It never made much sense anyways because there are no x86-64
    systems older than 2002 or so and they generally all have working ACPI.
    
    Cc: len.brown@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f9921539208f6d88f600a801e333d718e4a13ff
Author: Chris McDermott <lcm@us.ibm.com>
Date:   Sun Feb 26 04:18:40 2006 +0100

    [PATCH] x86_64: Fix NMI watchdog on x460
    
    [description from AK]
    
    Old check for the IO-APIC watchdog during the timer check was wrong -
    it obviously should only drop into this if the IO-APIC watchdog is used.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e78256b8f3e2850ad55c2d69e1429e6c2607afd3
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:37 2006 +0100

    [PATCH] x86-64/i386: Use common X86_PM_TIMER option and make it EMBEDDED
    
    This makes x86-64 use the common X86_PM_TIMER Kconfig entry in drivers/acpi
    
    And since PM timer is needed for correct timing on a lot of systems
    now (e.g. AMD dual cores) and we often get bug reports from people
    who forgot to set it make it depend on CONFIG_EMBEDDED. x86-64 had
    this change before and it's a good thing.
    
    I also fixed the description slightly to make this more clear.
    
    Cc: len.brown@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6070f9ec6b03cc46cd0242523326f7a296f47c1c
Author: Andreas Deresch <aderesch@fs.tum.de>
Date:   Sun Feb 26 04:18:34 2006 +0100

    [PATCH] i386: Handle non existing APICs without panicing
    
    [description from AK]
    
    This fixes booting in APIC mode on some ACER laptops. x86-64
    did a similar change some time ago.
    
    See http://bugzilla.kernel.org/show_bug.cgi?id=4700 for details
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 13a229abc25640813f1480c0478dfc6bdbc1c19e
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 26 04:18:31 2006 +0100

    [PATCH] x86_64: Only do the clustered systems have unsynchronized TSC assumption on IBM systems
    
    Big Unisys systems have multiple clusters too, but they have an
    synchronized TSC.
    
    I'm using the SMBIOS to check for vendor == IBM.
    
    Cc: Chris McDermott <lcm@us.ibm.com>
    Cc: "Protasevich, Natalie" <Natalie.Protasevich@unisys.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5342fba5412cead88b61ead07168615dbeba1ee3
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sun Feb 26 04:18:28 2006 +0100

    [PATCH] x86_64: Check for bad elf entry address.
    
    Fixes a local DOS on Intel systems that lead to an endless
    recursive fault.  AMD machines don't seem to be affected.
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f83f2b5fbab4585f4de4523c7879d60e3f85a248
Author: Jan Beulich <jbeulich@novell.com>
Date:   Sun Feb 26 04:18:25 2006 +0100

    [PATCH] x86_64: fix USER_PTRS_PER_PGD
    
    The value, while currently unused in the native kernel, was off by one.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60b08c67220cf6faef7410ac6adba23a8a743bf7
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Sun Feb 26 04:18:22 2006 +0100

    [PATCH] x86_64: no_iommu removal in pci-gart.c
    
    In previous versions of pci-gart.c, no_iommu was used to determine if IOMMU was
    disabled in the GART DMA mapping functions.  This changed in 2.6.16 and now
    gart_xxx() functions are only called if gart is enabled.  Therefore, uses of
    no_iommu in the GART code are no longer necessary and can be removed.
    
    Also, it removes double deceleration of no_iommu and force_iommu in pci.h and
    proto.h, by removing the deceleration in pci.h.
    
    Lastly, end_pfn off by one error.
    
    Tested (along with patch 1/2) on dual opteron with gart enabled, iommu=soft,
    and iommu=off.
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04a3d311c01d3ad287750c5c8d03fa614475af91
Author: Marc Zyngier <maz@misterjones.org>
Date:   Sun Feb 26 12:02:56 2006 +0100

    [PATCH] Fix Specialix SI probing
    
    As the (probably) last user of a Specialix SI board, I noticed that
    recent kernels would fail to probe the sucker.  Quick investigation
    indicate a few missing braces...
    
    I left the double probing in place, as it looks like it's been here
    forever.
    
    Signed-off-by: Marc Zyngier <maz@misterjones.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 489708007785389941a89fa06aedc5ec53303c96
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sun Feb 26 08:34:10 2006 -0600

    [PATCH] sd: fix memory corruption with broken mode page headers
    
    There's a problem in sd where we blindly believe the length of the
    headers and block descriptors.  Some devices return insane values for
    these and cause our length to end up greater than the actual buffer
    size, so check to make sure.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    
    Also removed the buffer size magic number (512) and added DPOFUA of
    zero to the defaults
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7bef4b397874eee4484457040e8a1013361d7758
Author: Daniele Venzano <venza@brownhat.org>
Date:   Sat Feb 25 17:01:09 2006 -0500

    Fix Wake on LAN support in sis900
    
    Fix two bugs in the WoL implementation of sis900. The first causes
    hangs on some system on driver load, the second causes troubles
    when disabling WoL support.  Both fixes are one liner and really
    simple.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Daniele Venzano <venza@brownhat.org>

commit e4e10e3e7995f5bd481d2720bf30d3a661d110ca
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Feb 25 13:52:30 2006 +0900

    [PATCH] sata_sil: implement R_ERR on DMA activate FIS errata fix
    
    Silicon Image has disclosed a new sil3114/3152 errata and workaround
    which causes the controller to return R_ERR on DMA activate FIS if the
    FIS is received while the next PRD is being fetched.  This patch
    implements the workaround.
    
    This errata results in lock up and doesn't trigger if m15w workaround
    is in effect.  We stopped applying m15w to 3512 and 3114 in 2.6.14-rc1
    which makes 3512/3114 lock up with some drives on all kernel versions
    since 2.6.14-rc1 upto now (2.6.16-rc4).  This patch should fix the
    regression.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit 0ee304d5802dc62746f13f12d4cb4ec4ed285f66
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Feb 25 13:52:30 2006 +0900

    [PATCH] sata_sil: add board ID for 3512
    
    3512 is slightly different from 3112 errata-wise.  Differentiate it.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit a0124d780d06db711e8a92135d774940588a27da
Author: Dave Jones <davej@redhat.com>
Date:   Sat Feb 25 03:55:38 2006 -0500

    [PATCH] x86-64: react to new topology.c location
    
    Commit 9c869edac591977314323a4eaad5f7633fca684f moved the i386 topology.c
    file. That change broke x86-64 compiles, as it uses the same file.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c1ca65c93503b2c94359ba39640f9687bd192a3
Merge: c946160... d856c66...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 24 16:01:07 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit c946160e601c70a0ae0aa807461dd0232bcaf3a7
Merge: 2cb5b6b... abbea71...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 24 16:00:36 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 2cb5b6beef3a3357ef1f2a580d5e2284516efc39
Merge: 329dda0... 1cf3109...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 24 14:36:42 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/aia21/ntfs-2.6

commit 329dda083e496bc5ffbb4b1973243bd8a9420e24
Author: Kumar Gala <galak@kernel.crashing.org>
Date:   Fri Feb 24 10:54:52 2006 -0600

    [PATCH] powerpc: Fix mem= cmdline handling on arch/powerpc for !MULTIPLATFORM
    
    mem= command line option was being ignored in arch/powerpc if we were not
    a CONFIG_MULTIPLATFORM (which is handled via prom_init stub). The initial
    command line extraction and parsing needed to be moved earlier in the boot
    process and have code to actual parse mem= and do something about it.
    
    Also, fixed a compile warning in the file.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Segher Boessenkool <segher@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4853a615bbfb5aae4c3e2203b4b2742c109784c9
Merge: 9c869ed... d91675f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 24 14:32:18 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 9c869edac591977314323a4eaad5f7633fca684f
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Feb 24 13:04:27 2006 -0800

    [PATCH] Fix topology.c location
    
    When compiling a non-default subarch, topology.c is missing from the kernel
    build.  This causes builds with CONFIG_HOTPLUG_CPU to fail.  In addition,
    on Intel processors with cpuid level > 4, it causes intel_cacheinfo.c to
    reference uninitialized data that should have been set up by the initcall
    in topology.c which calls register_cpu.  This causes a kernel panic on boot
    on newer Intel processors.  Moving topology.c to arch/i386/kernel fixes
    both of these problems.
    
    Thanks to Dan Hecht for finding and fixing this problem.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Dan Hecht <dhect@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad329b1519c0091806046b0e49ab073ea590dc11
Author: Hugh Dickins <hugh@veritas.com>
Date:   Fri Feb 24 13:04:26 2006 -0800

    [PATCH] tmpfs: recommend remount for mpol
    
    akpm points out that switching to a non-NUMA kernel could be irritating
    if mounting tmpfs fails on an mpol option: tmpfs.txt recommend remount.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63d94e482df769f31e8b1097f06c3a3fba7bced4
Author: Jun'ichi Nomura <j-nomura@ce.jp.nec.com>
Date:   Fri Feb 24 13:04:25 2006 -0800

    [PATCH] dm: free minor after unlink gendisk
    
    Minor number should be freed after del_gendisk().  Otherwise, there could
    be a window where 2 registered gendisk has same minor number.
    
    Signed-off-by: Jun'ichi Nomura <j-nomura@ce.jp.nec.com>
    Acked-by: Alasdair G Kergon <agk@redhat.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9dde59ba03095e526640988c0fedd75e93bc8b7
Author: Jun'ichi Nomura <j-nomura@ce.jp.nec.com>
Date:   Fri Feb 24 13:04:24 2006 -0800

    [PATCH] dm: missing bdput/thaw_bdev at removal
    
    Need to unfreeze and release bdev otherwise the bdev inode with
    inconsistent state is reused later and cause problem.
    
    Signed-off-by: Jun'ichi Nomura <j-nomura@ce.jp.nec.com>
    Acked-by: Alasdair G Kergon <agk@redhat.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8dde0509e74ff6044cf1788c917a22facce9f68d
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 24 13:04:23 2006 -0800

    [PATCH] ramfs: update dir mtime and ctime
    
    Phil Marek <philipp.marek@bmlv.gv.at> points out that ramfs forgets to update
    a directory's mtime and ctime when it is modified.
    
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4f7796e9b387e471ab0e8ed4e0c2bd616b3c193
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Feb 24 13:04:22 2006 -0800

    [PATCH] vmscan: fix zone_reclaim
    
    - PF_SWAPWRITE needs to be set for RECLAIM_SWAP to be able to write
      out pages to swap. Currently RECLAIM_SWAP may not do that.
    
    - remove setting nr_reclaimed pages after slab reclaim since the slab shrinking
      code does not use that and the nr_reclaimed pages is just right for the
      intended follow up action.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c04030e16dbea2f7581f82cc6688695927f6ac5b
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Fri Feb 24 13:04:21 2006 -0800

    [PATCH] flags parameter for linkat
    
    I'm currently at the POSIX meeting and one thing covered was the
    incompatibility of Linux's link() with the POSIX definition.  The name.
    Linux does not follow symlinks, POSIX requires it does.
    
    Even if somebody thinks this is a good default behavior we cannot change this
    because it would break the ABI.  But the fact remains that some application
    might want this behavior.
    
    We have one chance to help implementing this without breaking the behavior.
     For this we could use the new linkat interface which would need a new
    flags parameter.  If the new parameter is AT_SYMLINK_FOLLOW the new
    behavior could be invoked.
    
    I do not want to introduce such a patch now.  But we could add the
    parameter now, just don't use it.  The patch below would do this.  Can we
    get this late patch applied before the release more or less fixes the
    syscall API?
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee713059d4922e4ee17700496d9eb3b95b1ab836
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Fri Feb 24 13:04:20 2006 -0800

    [PATCH] Fix pseudo_palette setup in asiliantfb_setcolreg()
    
    The setcolreg function will attempt to write 24 color entries to the
    pseudo_pallette.  However, the pseudo_palette has only space for 16 entries.
    
    Thanks to Atsushi Nemoto for reporting this bug.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cacfc8cf4ed6e05a0d9a8bd17ab85536abd0f6c5
Author: Freddy Spierenburg <freddy@dusktilldawn.nl>
Date:   Fri Feb 24 13:04:17 2006 -0800

    [PATCH] au1100fb: replaced io_remap_page_range() with io_remap_pfn_range()
    
    Replaced the no longer existing io_remap_page_range() routine with the
    io_remap_pfn_range() routine.  Did not have a chance yet to test the
    functionality of the driver, but at least the kernel compiles cleanly again.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80c410dc14f7783411b4becf083069d69daaa4a7
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Fri Feb 24 13:04:16 2006 -0800

    [PATCH] gbefb: Set default of FB_GBE_MEM to 4 MB
    
    Allocating more than 4 MB memory for the GBE (SGI O2) framebuffer completely
    breakfs gbefb support at the moment.  According to comments on #mipslinux,
    more than 4 MB has never worked correctly in Linux.  Therefore, the default
    should be 4 MB.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68b06deb2b343c040485a9fc6c813577bf6d5cf5
Author: Kaj-Michael Lang <milang@tal.org>
Date:   Fri Feb 24 13:04:15 2006 -0800

    [PATCH] gbefb: IP32 gbefb depth change fix
    
    The gbefb driver does not update the framebuffer layers visual setting when
    depth is changed with fbset, resulting in strange colors (very dark blue in
    16-bit, almost black in 24-bit).
    
    Signed-off-by: Kaj-Michael Lang <milang@tal.org>
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b932f6cf052920fb3a6281499e08209b08f5086
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Fri Feb 24 13:04:14 2006 -0800

    [PATCH] x86: fix broken SMP boot sequence
    
    Recent GDT changes broke the SMP boot sequence if the booting CPU is
    numbered anything other than zero.  There's also a subtle source of error
    in that the boot time CPU now uses cpu_gdt_table (which is actually the GDT
    for booting CPUs in head.S).  This patch fixes both problems by making GDT
    descriptors themselves allocated from a per_cpu area and switching to them
    in cpu_init(), which now means that cpu_gdt_table is exclusively used for
    booting CPUs again.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Cc: Zachary Amsden <zach@vmware.com>
    Cc: Matt Tolentino <metolent@snoqualmie.dp.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e275d406bf6b88e4de6925cf594b64bb2ec49bc
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Feb 24 13:04:12 2006 -0800

    [PATCH] page migration: Fix MPOL_INTERLEAVE behavior for migration via mbind()
    
    migrate_pages_to() allocates a list of new pages on the intended target
    node or with the intended policy and then uses the list of new pages as
    targets for the migration of a list of pages out of place.
    
    When the pages are allocated it is not clear which of the out of place
    pages will be moved to the new pages.  So we cannot specify an address as
    needed by alloc_page_vma().  This causes problem for MPOL_INTERLEAVE which
    will currently allocate the pages on the first node of the set.  If mbind
    is used with vma that has the policy of MPOL_INTERLEAVE then the
    interleaving of pages may be destroyed.
    
    This patch fixes that by generating a fake address for each alloc_page_vma
    which will result is a distribution of pages as prescribed by
    MPOL_INTERLEAVE.
    
    Lee also noted that the sequence of nodes for the new pages seems to be
    inverted.  So we also invert the way the lists of pages for migration are
    build.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Lee Schermerhorn <lee.schermerhorn@hp.com>
    Looks-ok-to: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f68a106f224c21148c5264a429fac149dc7ad0ac
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Fri Feb 24 13:04:11 2006 -0800

    [PATCH] voyager: fix the cpu_possible_map to make voyager boot again
    
    Right at the moment (thanks to a patch from Andrew), cpu_possible_map on
    voyager is CPU_MASK_NONE, which means the machine always thinks it has no
    CPUs.  Fix that by doing an early initialisation of the cpu_possible_map
    from the cpu_phys_present_map.
    
    (akpm: we aim to please)
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d5c822b2920be9016806f61fd552d2301cfa2fc
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Fri Feb 24 13:04:10 2006 -0800

    [PATCH] voyager: fix boot panic by adding topology export
    
    It looks like I can't get away without exporting topology functions from
    voyager any longer, so add them to the voyager subarchitecture.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c314b6f1fa462acdb89323c75c597eeaae056e7c
Author: Simon Vogl <simon.vogl@researchstudios.at>
Date:   Fri Feb 24 13:04:09 2006 -0800

    [PATCH] cfi: init wait queue in chip struct
    
    Fix a kernel oops for Intel P30 flashes, where the wait queue head was not
    initialized for the flchip struct, which in turn caused a crash at the
    first read operation.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 124d90be62343f71bbb7a6b4a907b5584181e6d5
Author: Prasanna S Panchamukhi <prasanna@in.ibm.com>
Date:   Fri Feb 24 13:04:08 2006 -0800

    [PATCH] Kprobes causes NX protection fault on i686 SMP
    
    Fix a problem seen on i686 machine with NX support where the instruction
    could not be single stepped because of NX bit set on the memory pages
    allocated by kprobes module.  This patch provides allocation of instruction
    solt so that the processor can execute the instruction from that location
    similar to x86_64 architecture.  Thanks to Bibo and Masami for testing this
    patch.
    
    Signed-off-by: Prasanna S Panchamukhi <prasanna@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d1521260f57d70d0ba86d2a309ec1ce7979be2fc
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Fri Feb 24 13:03:59 2006 -0800

    [PATCH] vgacon: no vertical resizing on EGA
    
    EGA boards suck: they mostly have write-only registers.  This is
    particularly problematic for the overflow register: for being able to write
    to it, we would have to handle vertical sync & such too, which (I'd say)
    would potentially break a lot of configurations.  Instead, just disabling
    vertical resize for EGA boards is just nice enough (horizontal resize still
    works).
    
    Fixes http://bugzilla.kernel.org/show_bug.cgi?id=6106
    
    Signed-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
    Cc: Rafal Olearski <olearski@mail2.kim.net.pl>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe1db50c7222c67466e41241bc7ef17b469bcf1d
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:58 2006 -0800

    [PATCH] uml: tidying COW code
    
    Improve (especially for coherence) some prototypes, and return code of
    init_cow_file in error case - for a short write return -EINVAL, otherwise
    return the error we got!
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f462e8f913bdc7a28ce55508d0c045a0c445b157
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:57 2006 -0800

    [PATCH] uml: better error reporting for read_output
    
    Do precise error handling: print precise error messages, distinguishing short
    reads and read errors.  This functions fails frequently enough for me so I
    bothered doing this fix.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc1561ac019ff7b6f75c5175abd2ec65c8dbd581
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:56 2006 -0800

    [PATCH] uml: os_connect_socket error path fixup
    
    Fix an fd leak and a return of -1 instead of -errno in the error path - this
    showed up in intensive testing of HPPFS, the os_connect_socket user.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 635dd50b7dc69b698e8808ff2802a6cfc31385a8
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:55 2006 -0800

    [PATCH] uml: fix ((unused)) attribute
    
    Use __attribute_used__ instead of __attribute__ ((unused)).  This will help
    with GCC > 3.2.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07f4e2c61c76e8b543c0a2589063aea85c15fb25
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:55 2006 -0800

    [PATCH] uml: fix usage of kernel_errno in place of errno
    
    To avoid conflicts, in kernel files errno is expanded to kernel_errno, to
    distinguish it from glibc errno.  In this case, the code wants to use the libc
    errno but the kernel one is used; in the other usage, we return errno in place
    of -errno in case of an error.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31bc5a33346b6dd35be219d1416449e0064e9123
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 24 13:03:53 2006 -0800

    [PATCH] uml: correct error messages in COW driver
    
    Improve some error messages in the COW driver, and say V3, not V2, when
    talking about V3 format.  Also resync with our userspace code utility a bit
    more.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b1a3aa209161af3b7ca8ce8eae89b15faa96f612
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Feb 24 13:03:52 2006 -0800

    [PATCH] alsa: fix bogus snd_device_free() in opl3-oss.c
    
    Remove snd_device_free() for an opl3-oss instance which should have been
    released.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Cc: Jaroslav Kysela <perex@suse.cz>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f595cffedc09da3f5bed13afc86aac64e67c4d7
Author: Rene Herman <rene.herman@keyaccess.nl>
Date:   Fri Feb 24 13:03:51 2006 -0800

    [PATCH] snd-cs4236 typo fix
    
    I noticed on 2.6.16-rc4 that my MPU-401 wasn't functional, due to a simple
    copy & paste error in sound/isa/cs423x/cs4236.c.
    
    Acked-by: Takashi Iwai <tiwai@suse.de>
    Cc: Jaroslav Kysela <perex@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ced13cdcab440931b87829b0f2d0dedacfb3f2d
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Feb 24 13:03:51 2006 -0800

    [PATCH] m32r: fix and update for gcc-4.0
    
    Fix and update for gcc-4.0.
    
    - arch/m32r/kernel/signal.c:
      Change type of the 8th parameter of sys_rt_sigsuspend() from
      'struct pt_regs' to 'struct pt_regs *'.
      This functions make use of the 'regs' parameter to return status value,
      but gcc-4.0 optimizes and removes it as a dead code.
      Functions, sys_sigaltstack() and sys_rt_sigreturn(), have also modified.
    
    - arch/m32r/lib/usercopy.c, include/asm-m32r/uaccess.h:
      Add early-clobber constraints('&') to output values of asm statements;
      these constraints seems to be required for gcc-4.0 register assignment.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cde05cf2145b0aa06dd61277060bfba5d38acb0b
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Feb 24 13:03:50 2006 -0800

    [PATCH] m32r: enable asm code optimization
    
    Add -O2 option to AFLAGS to enable asm code optimization for m32r.
    
    On m32r gas, "-m32r2 -O" option enables assembler's parallel code
    generation optimization for M32R2 ISA as a default.  So, "-no-parallel"
    option is required explicitly for a cpu core with single instuction
    issuing, for example, VDEC2.
    
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abbea7187296a7fb316a55f2319438c2bf881f0a
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Fri Feb 24 22:27:50 2006 +0000

    [ARM] 3348/1: Disable GPIO interrupts
    
    Patch from Andrew Victor
    
    disable_irq() lazily disables the interrupt, so the IRQ is only disabled
    once the interrupt occurs again.  The GPIO interrupt handler therefore
    must first check disable_depth to see if the IRQ needs to be disabled.
    
    Orignal patch by Bill Gatliff.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d91675f9c7f5752e8657df1e1d926bd6a624434f
Author: YOSHIFUJI Hideaki <yosufuji@linux-ipv6.org>
Date:   Fri Feb 24 13:18:33 2006 -0800

    [IPV6]: Do not ignore IPV6_MTU socket option.
    
    Based on patch by Hoerdt Mickael <hoerdt@clarinet.u-strasbg.fr>.
    
    Signed-off-by: YOSHIFUJI Hideaki <yosufuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0c0888908dec145aaaa40d8a49d34913573f5a27
Author: Hugo Santos <hsantos@av.it.pt>
Date:   Fri Feb 24 13:16:25 2006 -0800

    [IPV6] ip6_tunnel: release cached dst on change of tunnel params
    
    The included patch fixes ip6_tunnel to release the cached dst entry
    when the tunnel parameters (such as tunnel endpoints) are changed so
    they are used immediatly for the next encapsulated packets.
    
    Signed-off-by: Hugo Santos <hsantos@av.it.pt>
    Acked-by: Ville Nuorvala <vnuorval@tcs.hut.fi>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1cf3109ffb26a6ea572fd02436bd10458b4b2187
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Fri Feb 24 10:48:14 2006 +0000

    NTFS: Do more detailed reporting of why we cannot mount read-write by
         special casing the VOLUME_MODIFIED_BY_CHKDSK flag.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 78af34f03d33d2ba179c9d35685860170b94a285
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Fri Feb 24 10:32:33 2006 +0000

    NTFS: Implement support for sector sizes above 512 bytes (up to the maximum
          supported by NTFS which is 4096 bytes).

commit 7b875affd49fbc8978a1a898a0a80ebfff11f8c6
Merge: 3672b63... 944d795...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Fri Feb 24 10:04:22 2006 +0000

    Merge ../ntfs-2.6-devel

commit 3672b638ec1d5b1020ea27986060b830f09c96c1
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Fri Feb 24 09:55:07 2006 +0000

    NTFS: - Cope with attribute list attribute having invalid flags.
    	Windows copes with this and even chkdsk does not detect or fix this
    	so we have to cope with it, too.  Thanks to Pawel Kot for reporting
    	the problem.
          - Miscellaneous updates to layout.h.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit fab8d6ddf6dee2608869005d45fe97f70e4f5bdd
Merge: 64419d9... f52ee14...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Fri Feb 24 09:06:36 2006 +0000

    Merge branch 'master' of /home/src/linux-2.6/

commit f52ee1410d563cd409b08822492273a5bc235821
Merge: c0eea79... ad9f671...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 23 22:21:29 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit ad9f6713ae59f319ed676c2d014a7756b62f1c51
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Feb 5 00:37:47 2006 +0100

    [PATCH] drivers/net/tlan.c: #ifdef CONFIG_PCI the PCI specific code
    
    drivers/net/tlan.c compiles with CONFIG_PCI=n only with a warning and
    due to the dead code elimination of gcc.
    
    Additionally, this fixes the only compile error I found with
    CONFIG_PCI=n and the gcc -Werror-implicit-function-declaration
    flag on i386.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jeff Garzik <jeff@garzik.org>

commit c0eea79bd2adcc4708973fdbf72a0a292aa60d71
Merge: adb9c9a... 35eaa31...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 23 20:40:17 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit adb9c9ac2e82ddbae4f635a9488ea4ee0a88feb6
Merge: a80614d... fb5c594...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 23 20:38:50 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 22fe472cb430ce45c4fb9b6d13060dd724d6dbc8
Merge: a80614d... 80dd857...
Author: Jeff Garzik <jeff@garzik.org>
Date:   Thu Feb 23 21:16:07 2006 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit fb5c594c2acc441f0d2d8f457484a0e0e9285db3
Author: Michal Ostrowski <mostrows@watson.ibm.com>
Date:   Sat Feb 18 09:29:59 2006 -0500

    [PATCH] Fix race condition in hvc console.
    
    tty_schedule_flip() would schedule a thread that would call flush_to_ldisc().
    If tty_buffer_request_room() gets called prior to that thread running --
    which is likely in this loop in hvc_poll(), it would set the active flag
    in the tty buffer and consequently flush_to_ldisc() would ignore it.
    
    The result is that input on the hvc console is not processed.
    
    This fix calls tty_flip_buffer_push (and flags the tty as
    "low_latency").  The push to the ldisc thus happens synchronously.
    
    Signed-off-by: Michal Ostrowski <mostrows@watson.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4558f417f49595337b7e9cc3e92bc0856c588ac1
Author: Segher Boessenkool <segher@kernel.crashing.org>
Date:   Fri Feb 17 11:30:30 2006 +0100

    [PATCH] powerpc: Don't re-assign PCI resources on Maple
    
    Maple firmware does not need PCI resource allocation, and in fact, it
    can cause problems in some strange cases.
    
    Signed-off-by: Segher Boessenkool <segher@kernel.crashing.org>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 72b138198cd6307c679b35d677ed64105b94ab48
Author: Segher Boessenkool <segher@kernel.crashing.org>
Date:   Fri Feb 17 11:25:42 2006 +0100

    [PATCH] powerpc: Fix some MPIC + HT APIC buglets
    
    Do disable, not enable, the HT APIC IRQ in the function that is
    supposed to.
    Enable the MPIC IRQ before enabling the downstream APIC IRQ, avoids
    potentially losing an interrupt.
    
    Signed-off-by: Segher Boessenkool <segher@kernel.crashing.org>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7c375b9aba4cabaeb1ca8f82807d40fd0a37103a
Author: Olof Johansson <olof@lixom.net>
Date:   Sun Feb 12 17:30:31 2006 -0600

    [PATCH] powerpc: Update {g5,pseries,ppc64}_defconfig
    
    Update defconfigs for g5, pseries and generic ppc64. Default choices
    for everything, with the following exceptions:
    
     * Enable WINDFARM_PM112 on g5 and ppc64.
     * Increase CONFIG_NR_CPUS to 4 in g5_defconfig
     * CONFIG_TIGON3=y instead of =m in g5_defconfig
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f1870f772c5e884862b4dd8f1ec2147247dda0ef
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Feb 13 18:11:13 2006 +1100

    [PATCH] powerpc64: remove broken/bitrotted HMT support
    
    HMT support is currently broken and needs to be reworked to play nicely
    with the SMT scheduler. Remove the bit rotten bits for the time being.
    
    I also updated an incorrect comment, we enter __secondary_hold with the
    physical cpu id in r3.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cb2c9b2741346eb23b177187a51ff5abf08295bd
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Feb 13 14:48:35 2006 +1100

    [PATCH] powerpc: Fix runlatch performance issues
    
    The runlatch SPR can take a lot of time to write. My original runlatch
    code would set it on every exception entry even though most of the time
    this was not required. It would also continually set it in the idle
    loop, which is an issue on an SMT capable processor.
    
    Now we cache the runlatch value in a threadinfo bit, and only check for
    it in decrementer and hardware interrupt exceptions as well as the idle
    loop. Boot on POWER3, POWER5 and iseries, and compile tested on pmac32.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 47f78a49206b7f9b0d283ba46a2a5a6ee1796472
Author: R Sharada <sharada@in.ibm.com>
Date:   Wed Feb 22 21:43:08 2006 +0530

    [PATCH] powerpc64: fix spinlock recursion in native_hpte_clear
    
    native_hpte_clear has a spinlock recursion problem with the native_tlbie_lock
    being called twice, once in native_hpte_clear() and once within tlbie().
    Fix the problem by changing the call to tlbie() in native_hpte_clear() to
    __tlbie(). It still supports only 4k pages for now.
    
    Signed-off-by: R Sharada <sharada@in.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 611ae59c62e688792cd1e6a68b9dc0f68d0e0dff
Author: Kelly Daly <kelly@au1.ibm.com>
Date:   Thu Feb 23 14:32:59 2006 +1100

    [PATCH] powerpc: disable OProfile for iSeries
    
    Disable OProfile in Kconfig for iSeries to prevent hangs.  OProfile
    was not originally intended to work with legacy iSeries.
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1775dbbcd02cab0c41329dd2cec5b69c7fafd13f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:   Wed Feb 22 09:46:02 2006 -0600

    [PATCH] powerpc: Enable coherency for all pages on 83xx to fix PCI data corruption
    
    On the 83xx platform to ensure the PCI inbound memory is handled properly we
    have to turn on coherency for all pages in the MMU.  Otherwise we see
    corruption if inbound "prefetching/streaming" is enabled on the PCI controller.
    
    Signed-off-by: Randy Vinson <rvinson@mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f1434a4854407a262d194411245eb9ee66221f90
Author: Alan Curry <pacman@TheWorld.com>
Date:   Wed Feb 22 01:42:37 2006 -0500

    [PATCH] powerpc: fix altivec_unavailable_exception Oopses
    
    altivec_unavailable_exception is called without setting r3... it looks like
    the r3 that actually gets passed in as struct pt_regs *regs is the
    undisturbed value of r3 at the time the altivec instruction was encountered.
    The user actually gets to choose the pt_regs printed in the Oops!
    
    This fixes the oops by passing the correct pt_regs pointer to
    altivec_unavailable_exception.
    
    Signed-off-by: Alan Curry <pacman@TheWorld.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 01aaed9d43d5fff1ddb4c8de859f87ed7ee3608a
Author: Haren Myneni <haren@us.ibm.com>
Date:   Tue Feb 7 15:47:03 2006 -0800

    [PATCH] powerpc: Trivial fix to set the proper timeout value for kdump
    
    The panic CPU is waiting forever due to some large timeout value if some
    CPU is not responding to an IPI.
    This patch fixes the problem - the maximum waiting period will be
    10 seconds and then the kdump boot will go ahead.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c57914a4f24322a8f7ef06a8e2fca5f0b2c98878
Author: Olaf Hering <olh@suse.de>
Date:   Tue Feb 21 21:06:41 2006 +0100

    [PATCH] ppc: fix adb breakage in xmon
    
    Fix up xmon compilation after the last change.
    Remove lots of dead code, all the pmac and chrp support is in arch/powerpc
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 337a7128dbe68ebe7627b6f954cb32d30d7b11c6
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Feb 21 17:22:55 2006 +1100

    [PATCH] powerpc: Only calculate htab_size in one place for kexec
    
    For kexec we need to know the size of the MMU hash table.
    
    Currently we calculate the size once in the htab code, and then twice more in
    the kexec code, once using htab_hash_mask and once using ppc64_pft_size.
    On some machines the ppc64_pft_size calculation is broken because
    ppc64_pft_size is not set.
    
    So we need to fix the second calculation, but better still we should just
    calculate the size once and use it everywhere else.
    
    Tested on Power5 LPAR, Power4 non-LPAR and Power3.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35eaa31e5d6b0653c11b5661572152295b45b7a7
Author: Richard Lucassen <spamtrap@lucassen.org>
Date:   Thu Feb 23 16:23:51 2006 -0800

    [NET]: Increase default IFB device count.
    
    The most usable number of ifb devices is 2. Change the default to 2.
    
    Signed-off-by: Richard Lucassen <spamtrap@lucassen.org>
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4da3089f2b582b21e1374ccc6df722d4361eb915
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Feb 23 16:19:26 2006 -0800

    [IPSEC]: Use TOS when doing tunnel lookups
    
    We should use the TOS because it's one of the routing keys.  It also
    means that we update the correct routing cache entry when PMTU occurs.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f8d0e3f11593928ac3f968c378a44e80b04488c9
Author: Jamal Hadi Salim <hadi@cyberus.ca>
Date:   Thu Feb 23 16:18:01 2006 -0800

    [NET] ethernet: Fix first packet goes out with MAC 00:00:00:00:00:00
    
    When you turn off ARP on a netdevice then the first packet always goes
    out with a dstMAC of all zeroes. This is because the first packet is
    used to resolve ARP entries. Even though the ARP entry may be resolved
    (I tried by setting a static ARP entry for a host i was pinging from),
    it gets overwritten by virtue of having the netdevice disabling ARP.
    
    Subsequent packets go out fine with correct dstMAC address (which may
    be why people have ignored reporting this issue).
    
    To cut the story short:
    
    the culprit code is in net/ethernet/eth.c::eth_header()
    
    ----
            /*
             *      Anyway, the loopback-device should never use this
    function...
             */
    
            if (dev->flags & (IFF_LOOPBACK|IFF_NOARP))
            {
                    memset(eth->h_dest, 0, dev->addr_len);
                    return ETH_HLEN;
            }
    
    	if(daddr)
            {
                    memcpy(eth->h_dest,daddr,dev->addr_len);
                    return ETH_HLEN;
            }
    
    ----
    
    Note how the h_dest is being reset when device has IFF_NOARP.
    
    As a note:
    All devices including loopback pass a daddr. loopback in fact passes
    a 0 all the time ;->
    This means i can delete the check totaly or i can remove the IFF_NOARP
    
    Alexey says:
    --------------------
    I think, it was me who did this crap. It was so long ago I do not remember
    why it was made.
    
    I remember some troubles with dummy device. It tried to resolve
    addresses, apparently, without success and generated errors instead of
    blackholing. I think the problem was eventually solved at neighbour
    level.
    
    After some thinking I suspect the deletion of this chunk could change
    behaviour of some parts which do not use neighbour cache f.e. packet
    socket.
    
    I think safer approach would be to move this chunk after if (daddr).
    And the possibility to remove this completely could be analyzed later.
    --------------------
    
    Patch updated with Alexey's safer suggestions.
    
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Acked-by: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 21380b81ef8699179b535e197a95b891a7badac7
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Feb 22 14:47:13 2006 -0800

    [XFRM]: Eliminate refcounting confusion by creating __xfrm_state_put().
    
    We often just do an atomic_dec(&x->refcnt) on an xfrm_state object
    because we know there is more than 1 reference remaining and thus
    we can elide the heavier xfrm_state_put() call.
    
    Do this behind an inline function called __xfrm_state_put() so that is
    more obvious and also to allow us to more cleanly add refcount
    debugging later.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 85259878499d6c428cba191bb4e415a250dcd75a
Author: Suresh Bhogavilli <sbhogavilli@verisign.com>
Date:   Tue Feb 21 13:42:22 2006 -0800

    [IPV4]: Fix garbage collection of multipath route entries
    
    When garbage collecting route cache entries of multipath routes
    in rt_garbage_collect(), entries were deleted from the hash bucket
    'i' while holding a spin lock on bucket 'k' resulting in a system
    hang.  Delete entries, if any, from bucket 'k' instead.
    
    Signed-off-by: Suresh Bhogavilli <sbhogavilli@verisign.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 42cf93cd464e0df3c85d298c647411bae6d99e6e
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Feb 21 13:37:35 2006 -0800

    [NETFILTER]: Fix bridge netfilter related in xfrm_lookup
    
    The bridge-netfilter code attaches a fake dst_entry with dst->ops == NULL
    to purely bridged packets. When these packets are SNATed and a policy
    lookup is done, xfrm_lookup crashes because it tries to dereference
    dst->ops.
    
    Change xfrm_lookup not to dereference dst->ops before checking for the
    DST_NOXFRM flag and set this flag in the fake dst_entry.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 80dd857daca1cf541b10118991569470d62c1d38
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 10:28:35 2006 -0800

    skge: protect interrupt mask
    
    There is a race between updating the irq mask and setting it
    which can be triggered on SMP with a bad cable.
    Similar patch from Ingo Molnar and Thomas Gleixner
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 0781191cf69b7635e0d3ea55c6019e789d1936fa
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 10:28:34 2006 -0800

    skge: genesis phy initialzation
    
    The SysKonnect Genesis based board would fail on initialization
    with phy_read errors caused by not waiting for last phy write.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit a9cdab869ec343ccc601484fb535813e16c25f70
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 10:28:33 2006 -0800

    skge: NAPI/irq race fix
    
    Fix a race in the receive NAPI, irq handling. The interrupt clear and the
    start need to be separated.  Otherwise there is a window between the last
    frame received and the NAPI done level handling.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 61a4dcc2f9b5c6861e7198b80dd73dd6e9247b7b
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Thu Feb 23 00:55:25 2006 +0100

    r8169: enable wake on lan
    
    Similar to 8139cp code but more inspired/lucky.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 5d06a99f543e734ceb53bbc9e550537be97f0c49
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Thu Feb 23 00:47:58 2006 +0100

    r8169: fix broken ring index handling in suspend/resume
    
    rtl8169_hw_start() requires that the descriptor ring indexes be
    set to zero. Let a deferred invocation of rtl8169_reset_task()
    handle it. Enabling a few power management bits will not hurt
    either.
    
    suspend/resume is issued with irq on: the spinlock do not need
    to save the irq flag.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit bd6ef57e08d6cce32e93f9fc7b93d361b6a7884f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Feb 20 19:07:31 2006 +1100

    [PATCH] powerpc: Initialise hvlpevent_queue.lock correctly
    
    When I changed the hvlpevent_queue code to use a spinlock instead of a
    custom atomic (719d1cd86780c156f954fc34f34481adac197aec) I didn't
    initialise the lock anywhere, oops.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d856c66618f953fc3cd1e613226d5f098ad322c8
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Feb 23 10:22:13 2006 +0000

    [SERIAL] Add comment about early_serial_setup()
    
    early_serial_setup() must not be called after console initialisation.
    Add a comment prior to the function explicitly stating this.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 85edae14e4ee5e68cf037e9e4bca7498ea16874d
Author: Michal Janusz Miroslaw <M.Miroslaw@elka.pw.edu.pl>
Date:   Thu Feb 23 09:49:35 2006 +0000

    [SERIAL] Trivial comment fix: include/linux/serial_reg.h
    
    Trivial comment fix for include/linux/serial_reg.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a80614d1adba903a1e5cb22bf14ebc640fc2ba4c
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Feb 14 22:04:19 2006 -0500

    sbp2: update 36byte inquiry workaround (fix compatibility regression)
    
    Since about Linux 2.6.14, sbp2's inquiry workaround did not work anymore
    due to changes in the SCSI layer. Update it to become effective again.
    Testing one of the two known affected bridges has shown that skip_ms_page_8
    is required as well.
    
    Also, make force_inquiry_hack tunable via /sys/module/sbp2/parameters.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>
    (cherry picked from 99496037c6744fd938ffb8ccfc8fc91762322ff8 commit)

commit 35bdddb83f62978b5fad82a14fbfd78cc3a5a60c
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Jan 31 00:13:33 2006 -0500

    sbp2: variable status FIFO address (fix login timeout)
    
    Let the ieee1394 core select a suitable 1394 address range for sbp2's
    status FIFO instead of using a fixed range. Since the core only selects
    addresses which are guaranteed to be out of the "physical range" as per
    OHCI 1.1, this patch also fixes an old bug:
    
    OHCI controllers which implement a writeable PhysicalUpperBound register
    included sbp2's status FIFO in the physical range. That way sbp2 was
    never notified of a succesful login and always failed after timeout.
    Affected OHCI host adapters include ALi and Fujitsu controllers.
    
    As another side effect of this patch, the status FIFO is no longer
    located in a range for which OHCI chips perform "posted writes". Each
    status write now requires a response subaction. But since large data
    transfers involve only few status writes, there is no measurable
    decrease of I/O throughput. What's more, the status FIFO is now safe
    from potential host bus errors. Nevertheless, posted writes could be
    re-enabled by extensions to the ARM features of the 1394 stack.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>
    (cherry picked from b2d38cccad4ef80d6b672b8f89aae5fe2907b113 commit)

commit bf637ec3ef4159da3dd156ecf6f6987d8c8c5dae
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Jan 31 00:13:06 2006 -0500

    sbp2: fix another deadlock after disconnection
    
    If there were commands enqueued but not completed before an SBP-2 unit
    was unplugged (or an attempt to reconnect failed), knodemgrd or any
    process which tried to remove the device would sleep uninterruptibly
    in blk_execute_rq().  Therefore make sure that all commands are
    completed when sbp2 retreats.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>
    (cherry picked from 61daa34c132c5d4ed8630e2c46e9bf2f0c7b3428 commit)

commit 791917deb63c6d8beb3f347ea0911371deff1624
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:45:03 2006 -0800

    [PATCH] sky2: close race on IRQ mask update.
    
    Need to avoid race in updating IRQ mask.  This can probably be replaced
    smarter use of the interrupt control registers (if/when chipset
    docs are available).
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 56a645cc1bc16ab33b33a3e0854a46c5d2c864f3
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:45:02 2006 -0800

    [PATCH] sky2: use device iomem to access PCI config
    
    To avoid problems with PCI config access without ACPI (or busted ACPI tables),
    use the device's window into PCI config space.
    
    I know this probably will upset the purists, but I would rather have users
    than ACPI testers. It also generates less code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 9a6d343188f5f1e9537e700fc4139c2d905ff129
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:45:01 2006 -0800

    [PATCH] sky2: force early transmit status
    
    Need to force a transmit coalesce timer restart after processing
    transmit packets. Otherwise, can get transmit status after last
    update and chip doesn't send the next one.
    
    Can go with the chip defaults for coalescing timers, except for
    Tx timer which needs to be bigger.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit a8fd6266dafd564bae6758cb78c8c152e7d4115e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:45:00 2006 -0800

    [PATCH] sky2: poke coalescing timer to fix hang
    
    Need to restart the interrupt coalescing timer after clearing the interrupt,
    to avoid races with interrupt timer and processing.
    
    Patch from Carl-Daniel Halfinger
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit ff81fbbe321c3a468b6225c673ca57efa501fbed
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:44:59 2006 -0800

    [PATCH] sky2: limit coalescing values to ring size
    
    Don't allow coalescing values to be bigger than the transmit ring.
    Since if you set them that big, the interrupt never happens and driver
    livelocks.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 977bdf06ca8dd7ed081fab8d30249d9e6b1c24d3
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Feb 22 11:44:58 2006 -0800

    [PATCH] sky2: yukon-ec-u chipset initialization
    
    Add more complete setup code for Yukon EC_U chipset.
    Based on matching code in 8.31 code in SysKonnect vendor driver.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>

commit 9e956c2dac9bec602ed1ba29181b45ba6d2b6448
Merge: 1a6a358... a6ceda7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 22 15:23:05 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 1a6a35894f10870d5590199d1785d3a718927abe
Merge: 245599f... 06e4479...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 22 15:21:57 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 245599f573f302bfa27a0436408c80f13b457046
Merge: 6cec2ae... 5bd546a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 22 15:21:22 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 6cec2aed8686840906f6298391dc4fd04d9ba843
Author: Steve French <smfltc@us.ibm.com>
Date:   Wed Feb 22 17:31:52 2006 -0600

    [PATCH] CIFS: CIFSSMBRead was returning an invalid pointer in buf on socket error
    
    Thanks to Adrian Bunk for debugging the problem and to Shaggy for
    helping find the solution.
    
    Also added a fix for 64K pages we found in loosely-related testing
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6ceda7457b2303dcb07d3c472b25d52bbdb5a29
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 22 14:35:52 2006 -0800

    [SCSI] esp: fix eh locking
    
    esp_reset didn't get fixed when the EH locking changed.
    ->eh_bus_reset_handler is now called without the host lock held.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 06e4479bd092eca4125e5507e7c22619a491dab3
Author: Marten Wikstrom <marten.wikstrom@passito.se>
Date:   Wed Feb 22 22:27:23 2006 +0000

    [ARM] 3347/1: Bugfix for ixp4xx_set_irq_type()
    
    Patch from Marten Wikstrom
    
    This patch fixes a bug in ixp4xx_set_irq_type() which leads to
    GPIO being incorrectly set to both edge triggered for raising
    as well as falling edge interrupt types. See the previous
    discussion on patch 3312/1.
    
    Signed-off-by: Marten Wikstrom <marten.wikstrom@passito.se>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit df666b9c510fd27fd3b1afd9ddfa1eaa62ce12b3
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Wed Feb 22 21:23:35 2006 +0000

    [ARM] 3325/2: GPIO function to control multi-drive (open collector) capability
    
    Patch from Andrew Victor
    
    This patch adds the at91_set_multi_drive() function to enable/disable
    the multi-drive (open collector) pin capability on the AT91RM9200
    processor.
    
    This is necessary to fix the UDC (USB Gadget) driver for the AT91RM9200
    board as it will not allow the board reset line to be pulled low if the
    pullup is not driven as an open collector output as the boards are wired
    to the USB connector on both the DK/EK.
    
    This version of the patch updates it to 2.6.16-rc4.
    Orignal patch by Jeff Warren.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 43cc19816b3fc5286258e6f5e43ef4ead458f9a3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Feb 22 21:13:28 2006 +0000

    [ARM] CONFIG_CPU_MPCORE -> CONFIG_CPU_32v6K
    
    CONFIG_CPU_MPCORE has never been a configuration symbol - it should
    be CONFIG_CPU_32v6K.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 75d2f18088ded458f5bc4014b6c4e2d9651d41d4
Author: Uli Luckas <u.luckas@road-gmbh.de>
Date:   Wed Feb 22 21:12:07 2006 +0000

    [ARM] 3345/1: Fix interday RTC alarms
    
    Patch from Uli Luckas
    
    This is a bugfix.
    
    The comment in arch/arm/common/rtctime.c explains it:
    * FIXME: for now, we just copy the alarm time because we're lazy (and
    * is therefore buggy - setting a 10am alarm at 8pm will not result in
    * the alarm triggering.)
    
    This patch adds one day to the alarm iff the alarm wrapped beyond midnight and therefore appears to be in the past.
    
    Signed-off-by: Uli Luckas <u.luckas@road-gmbh.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bc66d4496f106a8e3a936dc24c9965a2f9c13e50
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Wed Feb 22 21:12:06 2006 +0000

    [ARM] 3344/1: NSLU2: beeper support
    
    Patch from Alessandro Zummo
    
    This patch adds support for the beeper
    embedded in the NSLU2 to the machine setup code.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit af898b8f602441a3bebe918a3b26adc92b30762e
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Wed Feb 22 21:12:06 2006 +0000

    [ARM] 3343/1: NAS100d: Fix incorrect I2C pin assignment
    
    Patch from Alessandro Zummo
    
    The I2C pin assignment for the Iomega NAS100d board was incorrect.  This
    patch fixes it.  The correct assignment has now been tested using the
    new RTC class and a new driver for the RTC on the NAS100d.
    
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d7353b25c855b3a8103647503deaa98f512bd439
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Wed Feb 22 21:12:05 2006 +0000

    [ARM] 3342/1: NSLU2: Protect power button init routine with machine_is_nslu2()
    
    Patch from Alessandro Zummo
    
    The power button exit routine for the Linksys NSLU2 was not protected by
    a machine_is_nslu2(). This patch fixes it.
    
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c27a2164a32cfda80dc1647638a940103669af3d
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Wed Feb 22 19:51:38 2006 +0000

    [ARM] 3340/1: Fix the PCI setup for direct master access to SDRAM
    
    Patch from Catalin Marinas
    
    The initial code did not configure the inbound memory windows for direct
    master access to the SDRAM. This patch creates a 1:1 mapping between the
    Versatile/PB PCI memory windows and its SDRAM. Note that an updated FPGA
    image is needed for Versatile/PB since the original windows were 1MB and
    not able to cover the whole SDRAM (now extended to 256MB). The patch also
    fixes the PCI IRQ mapping for slot #2.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c45ec6566021ba3162233b575e7bc76d57b86688
Merge: 102d60a... fa67576...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 22 10:24:52 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/driver-2.6

commit fa675765afed59bb89adba3369094ebd428b930b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Feb 22 09:39:02 2006 -0800

    Revert mount/umount uevent removal
    
    This change reverts the 033b96fd30db52a710d97b06f87d16fc59fee0f1 commit
    from Kay Sievers that removed the mount/umount uevents from the kernel.
    Some older versions of HAL still depend on these events to detect when a
    new device has been mounted.  These events are not correctly emitted,
    and are broken by design, and so, should not be relied upon by any
    future program.  Instead, the /proc/mounts file should be polled to
    properly detect this kind of event.
    
    A feature-removal-schedule.txt entry has been added, noting when this
    interface will be removed from the kernel.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 102d60a2d8a6b54a20317a855dca3b598a2fd581
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Feb 22 23:43:40 2006 +1100

    [PATCH] padlock: Fix typo that broke 256-bit keys
    
    A typo crept into the le32_to_cpu patch which broke 256-bit keys
    in the padlock driver.  The following patch based on observations
    by Michael Heyse fixes the problem.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a43c7ff8bafe841502cab52b7795e2825c2e42c4
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Feb 20 10:18:38 2006 +0000

    [ARM] Update mach-types
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 31867499b21b2374eb0cc6b3d1ea6b4ade4d1cc2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Feb 19 19:53:56 2006 +0000

    [ARM] Add panic-on-oops support
    
    Although you could ask the kernel for panic-on-oops, it remained
    non-functional because the architecture specific code fragment had
    not been implemented.  Add it, so it works as advertised.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5bd546aa78b5d74f3162815e41940f862215d9e3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Feb 17 20:23:29 2006 +0000

    [MMC] Fix mmc_cmd_type() mask
    
    It's MMC_CMD_MASK not MMC_CMD_TYPE.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b00dc3ad74fdb676552d46ee573b88e927240d0c
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Feb 21 23:49:47 2006 +0000

    [PATCH] tmpfs: fix mount mpol nodelist parsing
    
    I've been dissatisfied with the mpol_nodelist mount option which was
    added to tmpfs earlier in -rc.  Replace it by mpol=policy:nodelist.
    
    And it was broken: a nodelist is a comma-separated list of numbers and
    ranges; the mount options are a comma-separated list of token=values.
    Whoops, blindly strsep'ing on commas doesn't work so well: since we've
    no numeric tokens, and unlikely to add them, use that to distinguish.
    
    Move the mpol= parsing to shmem_parse_mpol under CONFIG_NUMA, reject
    all its options as invalid if not NUMA.  /proc shows MPOL_PREFERRED
    as "prefer", so use that name for the policy instead of "preferred".
    
    Enforce that mpol=default has no nodelist; that mpol=prefer has one
    node only; that mpol=bind has a nodelist; but let mpol=interleave use
    node_online_map if no nodelist given.  Describe this in tmpfs.txt.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: Robin Holt <holt@sgi.com>
    Acked-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 808c783e9bfb217a90be5a996a867c41a69b40bd
Merge: 52aa536... 8db4168...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 21 10:13:22 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 52aa536f5a78bbba9205d296f53d2f8a424a3b08
Merge: 5914811... 2e242fa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 21 10:11:32 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 8db41685c73ad1893d8571861171e183a551e90d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 21 13:46:01 2006 +0100

    [MIPS] Disable CONFIG_ISCSI_TCP; it triggers a gcc 3.4 endless loop.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1e93e70d035a26c0e108f0a9e8f735dabcf948ac
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 21 00:17:50 2006 +0000

    [MIPS] Yosemite: Fix build damage by dc8f6029cd51af1b148846a32e68d69013a5cc0f.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 909fa64c8bf0ef20722cddaa402404fb1aa14a4a
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Feb 21 01:25:06 2006 +0900

    [MIPS] jiffies_to_compat_timeval fix
    
    The last argument of div_long_long_rem() must be long.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1e35aabab82f8a6f7ab884b642e68be260f92f2c
Author: Rojhalat Ibrahim <imr@rtschenk.de>
Date:   Mon Feb 20 13:35:27 2006 +0000

    [MIPS] Add topology_init.
    
    A recent patch introduced cpu topology in sysfs.  When you run a kernel
    with SMP and sysfs enabled, you now get an Oops on boot. The following
    patch fixes that by adding topology_init to arch/mips/kernel/smp.c. The
    code is copied from arch/s390/kernel/smp.c.
    
    Signed-off-by: Rojhalat Ibrahim <imr@rtschenk.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 76e1daee7db153400aaed55646e05a312da353b3
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Mon Feb 20 04:57:00 2006 +0000

    [MIPS] Fix compiler warnings in arch/mips/sibyte/bcm1480/irq.c
    
    Fix the following compiler warnings:
    
      CC      arch/mips/sibyte/bcm1480/irq.o
    arch/mips/sibyte/bcm1480/irq.c: In function bcm1480_set_affinity:
    arch/mips/sibyte/bcm1480/irq.c:168: warning: ISO C90 forbids mixed declarations and code
    arch/mips/sibyte/bcm1480/irq.c: In function ack_bcm1480_irq:
    arch/mips/sibyte/bcm1480/irq.c:230: warning: ISO C90 forbids mixed declarations and code
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 124273773596cbf8aa9c79304b01091d4693f368
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 14 14:22:10 2006 +0000

    [MIPS] Follow Uli's latest *at syscall changes.
    
    (This really is only the half of the patch which was forgotten in
    326a625748535c4cdb1c632b1dcb07030989a393 ...)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 77607635c3f15e6bf6366e6d7db731a5cb209fb1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 10 16:32:14 2005 +0000

    [MIPS] Sibyte: Config option names shouldn't be prefixed with CONFIG_
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 51939fbb79f66cc471f5bde9845be797ea61ad0b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 10 16:35:03 2005 +0000

    [MIPS] Sibyte: #if CONFIG_* doesn't fly.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f3468e0c34c8de919062582575a01e2434c8e727
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 19 03:42:11 2006 +0000

    [MIPS] N32: Make sure pointer is good before passing it to sys_waitid().
    
    After all we're calling sys_waitid() with fs set to KERNEL_DS ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 82ad93f4a002294820e9a5e6f84beef2222a54b7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Feb 18 22:47:26 2006 +0000

    [MIPS] N32: Fix N32 rt_sigtimedwait and rt_sigsuspend breakage.
    
    Originally found through an oops in the Gentoo N32 userland build; patch
    based on original patch by Daniel Jacobwitz.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 304416da860b8cd548e61ee7038f852418008a85
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Feb 18 18:20:47 2006 +0000

    [MIPS] Reformat _sys32_rt_sigsuspend with tabs instead of space for consistency.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dda73d0bb1d358e4337d2c4da9c61903873664cf
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Sat Feb 18 15:21:30 2006 +0000

    [MIPS] Make do_signal32 return void.
    
    do_signal has been changed to return void since the "return value is
    ignored everywhere".  Convert do_signal32 accordingly.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 68fa383f3e58b5adf1d8089c93c83ab8d0d00e8d
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Sat Feb 18 14:55:45 2006 +0000

    [MIPS] Add support for TIF_RESTORE_SIGMASK for signal32
    
    Following the recent implementation of TIF_RESTORE_SIGMASK in
    arch/mips/kernel/signal.c, 64-bit kernels with 32-bit user-land
    compatibility oops when starting init.  signal32.c needs to be
    converted to use TIF_RESTORE_SIGMASK too.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8ecbbcaf08c13c57d6602472478739d64650ee0e
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Feb 14 15:57:50 2006 +0900

    [MIPS] Fixes for uaccess.h with gcc >= 4.0.1
    
    It seems current get_user() incorrectly sign-extend an unsigned int
    value on 64bit kernel.  I think this is because '(__typeof__(val))'
    cast in final assignment.  I suppose the cast should be
    '(__typeof__(*(addr))'.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 36ccf1c0e3917f1f73abc17c38ad704c59f8d1b6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 14 21:04:54 2006 +0000

    [MIPS] Make integer overflow exceptions in kernel mode fatal.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5914811acf36c3ff091f860a6964808f668f27d0
Author: Bjorn Steinbrink <B.Steinbrink@gmx.de>
Date:   Sat Feb 18 18:12:43 2006 +0100

    [PATCH] kjournald keeps reference to namespace
    
    In daemonize() a new thread gets cleaned up and 'merged' with init_task.
    The current fs_struct is handled there, but not the current namespace.
    
    This adds the namespace part.
    
    [ Eric Biederman pointed out the namespace wrappers, and also notes that
      we can't ever count on using our parents namespace because we already
      have called exit_fs(), which is the only way to the namespace from a
      process. ]
    
    Signed-off-by: Bjorn Steinbrink <B.Steinbrink@gmx.de>
    Acked-by: Eric Biederman <ebiederm@xmission.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d7b9efacba9f4e5f4d5ca165b1a4350da52ddd7
Merge: cf70a6f... 73d72cf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 20 20:23:14 2006 -0800

    Merge branch 'drm-patches' of git://git.kernel.org/pub/scm/linux/kernel/git/airlied/drm-2.6

commit cf70a6f264f6e1a4c06553699159d94996b2f916
Merge: 0b1fc9b... ad6b97f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 20 20:09:44 2006 -0800

    Merge branch 'fixes.b8' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/bird

commit 0b1fc9b86f49e1e73e473e06a16556ca0dce53ae
Merge: 6bd25e7... b41c82e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 20 20:08:23 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/agpgart

commit 6bd25e78211d0591060db3ece10443096ef96c50
Merge: 35e622a... 496b7a5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 20 20:05:45 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 35e622a67e6d2c5f7e3d3e2da92ebdb2f46db783
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 20 12:41:55 2006 +0000

    [PATCH] H8/300: CONFIG_CONFIG_ doesn't fly.
    
    All actual uses of the symbol refer to CONFIG_SH_STANDARD_BIOS so this
    option could never be activated on H8/300.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f24211e7b3e6d02251c53c48821003c77495efef
Merge: cf535ea... a8372f0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 20 20:03:01 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit cf535ea52e68e3ee6f4a90cc383faa1ee857f14d
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Mon Feb 20 18:28:17 2006 -0800

    [PATCH] m32r: update sys_tas() routine
    
    This patch updates and fixes sys_tas() routine for m32r.
    
    In the previous implementation, a lockup rarely caused at sys_tas()
    routine in SMP environment.
    
    > > The problem is that touching *addr will generate an oops if that page isn't
    > > paged in.  If we convert it to use get_user() then that's an improvement,
    > > but we must not run get_user() under spinlock or local_irq_disable().
    
    I rewrote sys_tas() routine by using "lock -> unlock" instructions, and
    utilizing the m32r's interrupt handling characteristics; the m32r processor
    can accept interrupts only at the 32-bit instruction boundary.  So, the
    "unlock" instruction can be executed continuously after the "lock"
    instruction execution without any interruptions.
    
    In addition, to solve such a page_fault problem, I use a fixup code like
    get_user().
    
    And, as for the kernel lockup problem, we found that a calling
    do_page_fault() routine with disabling interrupts might cause a lockup at
    flush_tlb_others(), because we checked a completion of IPI handler's
    operations in a spin-locked critical section.
    
    Therefore, by using "lock -> unlock" code, we can implement the sys_tas()
    rouitine without disabling interrupts explicitly, then no lockups would
    happen at flush_tlb_others(), I hope.
    
    Compile check and some working test in SMP environment have done.
    
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b04ec261bd64f927bf3fce5cf9eeb0225557939d
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Mon Feb 20 18:28:15 2006 -0800

    [PATCH] m32r: __cmpxchg_u32 fix
    
    This patch fixes a bug of include/asm-m32r/system.h:__cmpxchg_u32().
    
      static __inline__ unsigned long
      __cmpxchg_u32(volatile unsigned int *p, unsigned int old, unsigned int new);
    
    In __cmpxchg_u32(), the "old" value must not be changed to the previous "*p"
    value.  But the former code modifies the previous "*p" value.
    
    A deadlock at _atomic_dec_and_lock sometimes happened due to this bug.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49d9c81a699b57a5b6488f3a761669d05e116588
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Feb 20 18:28:14 2006 -0800

    [PATCH] s390: revert dasd eer module
    
    Revert dasd eer module until we have a common understanding of how the
    interface should be.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa88861fc3184a7d830954661dd281de4ae8d2ba
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Mon Feb 20 18:28:13 2006 -0800

    [PATCH] s390: dasd reference counting
    
    When using the dasd diag discipline, the base discipline module (eckd or fba)
    can be unloaded, even though the dasd driver requires both discipline modules
    (base and diag) to work correctly.
    
    Implement reference counting for both base and diag discipline modules in
    order to fix this.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15c73691780252a5571bfa7902b4dc227ec66c84
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Mon Feb 20 18:28:12 2006 -0800

    [PATCH] s390: V=V qdio fixes
    
    Using FCP devices with V=V support, the input queue stalled when CCQ 97 had
    been returned in qdio_do_eqbs.  When this happen we have to reissue the eqbs
    instruction.
    
    Another bug was when V=V was enabled we checked if hardware has SIGA-sync
    support.  If not we returned with 0 from tiqdio_is_inbound_q_done.  Thus qdio
    lost initiative on FCP devices and input queue stalled.  Running devices in
    V=V there is no SIGA-sync support but nevertheless we have to process
    tiqdio_is_inbound_q_done either.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1909e631caa3a02c25e493ac4004cd67984e0e0
Author: Carl-Daniel Hailfinger <c-d.hailfinger.devel.2006@gmx.net>
Date:   Mon Feb 20 18:28:11 2006 -0800

    [PATCH] radeonfb: resume support for Samsung P35 laptops
    
    Make resume from suspend-to-ram possible for Samsung P35 laptops.
    
    The radeon mobility 9700 chip on Samsung P35 laptops locks up everything on
    resume from suspend-to-ram if it is not reinitialized.
    
    VGA compatible controller: ATI Technologies Inc RV350 [Mobility Radeon 9600 M10]
    Class 0300: 1002:4e50
           Subsystem: 144d:c00c
    
    Unfortunately, the DMI strings are mostly identical for all Samsung
    laptops.  So we match the PCI ID and subsystem ID of the graphics card
    which is unique for each Samsung laptop model.
    
    Signed-off-by: Carl-Daniel Hailfinger <c-d.hailfinger.devel.2006@gmx.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ec33b5fe1a6f68c0a494aab476b9667945e029c4
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Feb 20 18:28:10 2006 -0800

    [PATCH] drivers/fc4/fc.c: memset correct length
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fcab6f351305029fc5e3c632209d45cae57e4835
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Feb 20 18:28:10 2006 -0800

    [PATCH] mm/mempolicy.c: fix 'if ();' typo
    
    [akpm; it happens that the code was still correct, only inefficient ]
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1dd31b6c89611ee91c0ff309c8733c0af61579e8
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Mon Feb 20 18:28:09 2006 -0800

    [PATCH] ipw2200: Suppress warning message
    
    The following message will be only printed if DEBUG_NOTIF is on.  "Unknown
    notification: subtype=40,flags=0xa0,size=40"
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Cc: James Ketrenos <jketreno@linux.intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: "John W. Linville" <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fd105e758c8d746d57ab7e77f100e096bf153c8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Feb 20 18:28:08 2006 -0800

    [PATCH] Fix compile for CONFIG_SYSVIPC=n or CONFIG_SYSCTL=n
    
    The compat syscalls are added to sys_ni.c since they are not defined if the
    above CONFIG options are off.  Also, nfs would not build with CONFIG_SYSCTL
    off.
    
    Noticed by Arthur Othieno.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a9166e3b037296366cea6f3c97f705d33e209e6
Author: Luke Yang <luke.adi@gmail.com>
Date:   Mon Feb 20 18:28:07 2006 -0800

    [PATCH] Fix undefined symbols for nommu architecture
    
    Signed-off-by: Luke Yang <luke.adi@gmail.com>
    Acked-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8b8b1f2e0eeb91cca22211950742b5f51564672
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Feb 20 18:28:06 2006 -0800

    [PATCH] powermac: Fix loss of ethernet PHY on sleep
    
    Some recent PowerBook models tend to lose the ethernet PHY on
    suspend/resume.  It -seems- that they use a combo ethernet-firewire PHY
    chip and the firewire PHY seems to die the same way when that happens.  Not
    trying to toggle the firewire cable power appears to fix it.  So this patch
    disables changes to the firewire cable power control GPIO on those models.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1c92117558261d5504c59712751f6c7925ff3ba
Author: Eric Van Hensbergen <ericvh@hera.kernel.org>
Date:   Mon Feb 20 18:28:05 2006 -0800

    [PATCH] v9fs: update documentation and fix debug flag
    
    Minor updates to the documentation to bring them into sync with current
    websites and available features.  The debug flag was switched back to hex
    to match the documentation.
    
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9db91546570ca1b3bc90b4c2d25d5bb74a44be24
Author: Peter Osterlund <petero2@telia.com>
Date:   Mon Feb 20 18:28:04 2006 -0800

    [PATCH] pktcdvd: Only return -EROFS when appropriate
    
    When attempting to open the device for writing, only return -EROFS if the disc
    appears to be readable but not writable.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab863ec342cf148d02ed180b8ecf3a71a024e4be
Author: Peter Osterlund <petero2@telia.com>
Date:   Mon Feb 20 18:28:04 2006 -0800

    [PATCH] pktcdvd: Fix the logic in the pkt_writable_track function
    
    Fix the pkt_writable_track() function to make it work correctly for all types
    of CD/DVD discs.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b4828047d4ebe3703dedbfc739958c319ff0b24
Author: Peter Osterlund <petero2@telia.com>
Date:   Mon Feb 20 18:28:03 2006 -0800

    [PATCH] pktcdvd: Remove useless printk statements
    
    Writing the detected disc type in the kernel log is not useful during normal
    use of the driver, so remove the printk statements.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c613d593370292d1685f5794c743a2323be3a09
Author: Peter Osterlund <petero2@telia.com>
Date:   Mon Feb 20 18:28:02 2006 -0800

    [PATCH] pktcdvd: Rename functions and make their return values sane
    
    Boolean functions should return non-zero when they mean "true", otherwise the
    calling code looks weird.  (As suggested by Linus.)
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cef289633a9321cd99dd5f6cc935657dc487e9f0
Author: Peter Osterlund <petero2@telia.com>
Date:   Mon Feb 20 18:28:01 2006 -0800

    [PATCH] pktcdvd: Correctly set rq->cmd_len in pkt_generic_packet()
    
    It looks like the code in pkt_generic_packet() worked by luck in the past, but
    after commit 186d330e682210100c671355580a8592e4a21692 leaving rq->cmd_len
    uninitialized doesn't work any more.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa657ca9245a06fa435e00332a13da1fce182abc
Author: Juergen Kreileder <jk@blackdown.de>
Date:   Mon Feb 20 18:28:00 2006 -0800

    [PATCH] Fix snd-usb-audio in 32-bit compat environment
    
    I'm getting oopses with snd-usb-audio in 32-bit compat environments:
    control_compat.c:get_ctl_type() doesn't initialize 'info', so
    'itemlist[uinfo->value.enumerated.item]' in
    usbmixer.c:mixer_ctl_selector_info() might access random memory (The 'if
    ((int)uinfo->value.enumerated.item >= cval->max)' doesn't fix all problems
    because of the unsigned -> signed conversion.)
    
    Signed-off-by: Juergen Kreileder <jk@blackdown.de>
    Cc: Jaroslav Kysela <perex@suse.cz>
    Acked-by: Takashi Iwai <tiwai@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9c930bac163c5e616ca0ba9378e7dc746c93227
Author: Andi Kleen <ak@suse.de>
Date:   Mon Feb 20 18:27:59 2006 -0800

    [PATCH] Fix units in mbind check
    
    maxnode is a bit index and can't be directly compared against a byte length
    like PAGE_SIZE
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Cc: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c255d844dd73616f23e4b4733edcc2e5fa4042b2
Author: Pavel Machek <pavel@ucw.cz>
Date:   Mon Feb 20 18:27:58 2006 -0800

    [PATCH] suspend-to-ram: allow video options to be set at runtime
    
    Currently, acpi video options can only be set on kernel command line.  That's
    little inflexible; I'd like userland s2ram application that just works, and
    modifying kernel command line according to whitelist is not fun.  It is better
    to just allow s2ram application to set video options just before suspend
    (according to the whitelist).
    
    This implements sysctl to allow setting suspend video options without reboot.
    
    (akpm: Documentation updates for this new sysctl are pending..)
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: "Brown, Len" <len.brown@intel.com>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6303dbf570e410067380daec670fdb4137ac0d1d
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Feb 20 18:27:58 2006 -0800

    [PATCH] cpu hotplug documentation fix
    
    Looks like there was a merge conflict when patches
    8f8b1138fc9f65e3591aac83a4ee394fef34ac1d and
    255acee706b333b79f593dd366f16e1f107cccc3 were applied which wasn't properly
    resolved. Fix this and add some additional description.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e2b42636614f3c152672b5da67947ccbcbe0d32
Author: Andi Kleen <ak@suse.de>
Date:   Mon Feb 20 18:27:57 2006 -0800

    [PATCH] x86_64: Don't set CONFIG_DEBUG_INFO in defconfig
    
    Undo setting of CONFIG_DEBUG_INFO in the previous defconfig update.  It
    will make every build much slower and need more disk space and isn't a good
    default.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d2799f083dcad0413ad1a396e9bc32d9afb70535
Author: Stephen Street <stephen@streetfiresound.com>
Date:   Mon Feb 20 18:27:56 2006 -0800

    [PATCH] spi: Fix modular master driver remove and device suspend/remove
    
    Fix two problems in the spi subsystem:
    
    1) spi subsystem core dumps when modular spi master is unloaded.
    2) spi subsystem core dumps when spi slave device is suspended/resumed and
       module slave driver is not loaded.
    
    Signed-off-by: Stephen Street <stephen@streetfiresound.com>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d86d43706a27bb87c2873de369f94a10f8758063
Author: Alexey Korolev <alexey.korolev@intel.com>
Date:   Mon Feb 20 18:27:55 2006 -0800

    [PATCH] cfi_cmdset_0001: fix range for cache invalidation
    
    I found an issue in cfi_cmdset0001.c.  It is related to cache region
    invalidation in the buffered write procedure.
    
    The code performs cache invalidation from "cmd_addr" to "cmd_adr + len" in
    do_write_buffer() while we modify region from "adr" to "adr+len".
    
    This issue affects writes + reads of data by small chunks.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7d4c8e56109e0799ab9fb644c08a8daf4a026675
Author: Daniel Yeisley <dan.yeisley@unisys.com>
Date:   Mon Feb 20 18:27:54 2006 -0800

    [PATCH] i386: need to pass virtual address to smp_read_mpc()
    
    I'm seeing a kernel panic on an ES7000-600 when booting in virtual wire
    mode.  The panic happens because smp_read_mpc() is passed a physical
    address, and it should be virtual.  I tested the attached patch on the
    ES7000-600 and on a 2 cpu Dell box, and saw no problems on either.
    
    Signed-off-by: Dan Yeisley <dan.yeisley@unisys.com>
    Acked-by: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b0f8b040acd8dfd23860754c0d09ff4f44e2cbc
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Mon Feb 20 18:27:52 2006 -0800

    [PATCH] Terminate process that fails on a constrained allocation
    
    Some allocations are restricted to a limited set of nodes (due to memory
    policies or cpuset constraints).  If the page allocator is not able to find
    enough memory then that does not mean that overall system memory is low.
    
    In particular going postal and more or less randomly shooting at processes
    is not likely going to help the situation but may just lead to suicide (the
    whole system coming down).
    
    It is better to signal to the process that no memory exists given the
    constraints that the process (or the configuration of the process) has
    placed on the allocation behavior.  The process may be killed but then the
    sysadmin or developer can investigate the situation.  The solution is
    similar to what we do when running out of hugepages.
    
    This patch adds a check before we kill processes.  At that point
    performance considerations do not matter much so we just scan the zonelist
    and reconstruct a list of nodes.  If the list of nodes does not contain all
    online nodes then this is a constrained allocation and we should kill the
    current process.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9827b781f20828e5ceb911b879f268f78fe90815
Author: Kurt Garloff <garloff@suse.de>
Date:   Mon Feb 20 18:27:51 2006 -0800

    [PATCH] OOM kill: children accounting
    
    In the badness() calculation, there's currently this piece of code:
    
            /*
             * Processes which fork a lot of child processes are likely
             * a good choice. We add the vmsize of the children if they
             * have an own mm. This prevents forking servers to flood the
             * machine with an endless amount of children
             */
            list_for_each(tsk, &p->children) {
                    struct task_struct *chld;
                    chld = list_entry(tsk, struct task_struct, sibling);
                    if (chld->mm = p->mm && chld->mm)
                            points += chld->mm->total_vm;
            }
    
    The intention is clear: If some server (apache) keeps spawning new children
    and we run OOM, we want to kill the father rather than picking a child.
    
    This -- to some degree -- also helps a bit with getting fork bombs under
    control, though I'd consider this a desirable side-effect rather than a
    feature.
    
    There's one problem with this: No matter how many or few children there are,
    if just one of them misbehaves, and all others (including the father) do
    everything right, we still always kill the whole family.  This hits in real
    life; whether it's javascript in konqueror resulting in kdeinit (and thus the
    whole KDE session) being hit or just a classical server that spawns children.
    
    Sidenote: The killer does kill all direct children as well, not only the
    selected father, see oom_kill_process().
    
    The idea in attached patch is that we do want to account the memory
    consumption of the (direct) children to the father -- however not fully.
    This maintains the property that fathers with too many children will still
    very likely be picked, whereas a single misbehaving child has the chance to
    be picked by the OOM killer.
    
    In the patch I account only half (rounded up) of the children's vm_size to
    the parent.  This means that if one child eats more mem than the rest of
    the family, it will be picked, otherwise it's still the father and thus the
    whole family that gets selected.
    
    This is heuristics -- we could debate whether accounting for a fourth would
    be better than for half of it.  Or -- if people would consider it worth the
    trouble -- make it a sysctl.  For now I sticked to accounting for half,
    which should IMHO be a significant improvement.
    
    The patch does one more thing: As users tend to be irritated by the choice
    of killed processes (mainly because the children are killed first, despite
    some of them having a very low OOM score), I added some more output: The
    selected (father) process will be reported first and it's oom_score printed
    to syslog.
    
    Description:
    
    Only account for half of children's vm size in oom score calculation
    
    This should still give the parent enough point in case of fork bombs.  If
    any child however has more than 50% of the vm size of all children
    together, it'll get a higher score and be elected.
    
    This patch also makes the kernel display the oom_score.
    
    Signed-off-by: Kurt Garloff <garloff@suse.de>
    Cc: Rik van Riel <riel@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b41c82eb5fb49912ce26c51ec221ba35e06c7d9b
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 20 18:34:37 2006 -0500

    [AGPGART] Add some informational printk to nforce GART failure path.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 2e242fa994428bd1a40b6a7e97430413246d0a16
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Feb 20 23:48:38 2006 +0900

    [PATCH] libata: make ata_sg_setup_one() trim zero length sg
    
    This patch makes ata_sg_setup_one() trim sg entry (thus making
    qc->n_elem zero) if padding results in zero length sg entry.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cc1887f3d8ae8ea61efa1a75af8ec0467b9dd546
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Feb 20 23:48:38 2006 +0900

    [PATCH] libata: fix qc->n_elem == 0 case handling in ata_qc_next_sg
    
    This patch makes ata_for_each_sg() start with pad_sgent when
    qc->n_elem is zero.  Previously, ata_for_each_sg() unconditionally
    started with qc->__sg, handling the first sg to fill_sg() routines
    even when the entry was invalid.  And while at it, unwind ?: in
    ata_qc_next_sg() into if statement.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9ae61c6cb69f5251d160576c324948805f97e901
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Feb 20 23:48:37 2006 +0900

    [PATCH] libata: fix WARN_ON() condition in *_fill_sg()
    
    For ATAPI commands, padding can reduce qc->n_elem by one and thus to
    zero making assert(qc->n_elem > 0)'s in ata_fill_sg() and qs_fill_sg()
    fail for legal commands.  This patch fixes the assert()'s to take
    qc->pad_len into account.
    
    Although the condition check seems a bit excessive, as this part of
    code isn't still stable yet, I think it's worth to keep those.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a8372f035aa2f6717123eb30679a08b619321dd4
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Sun Feb 19 22:32:06 2006 -0800

    [NET]: NETFILTER: remove duplicated lines and fix order in skb_clone().
    
    Some of netfilter-related members are initalized / copied twice in
    skb_clone(). Remove one.
    
    Pointed out by Olivier MATZ <olivier.matz@6wind.com>.
    
    And this patch also fixes order of copying / clearing members.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8e249f088131cde5f77fd073bf0b0e8b3e9ea4ac
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Feb 19 22:29:47 2006 -0800

    [NETFILTER]: Fix outgoing redirects to loopback
    
    When redirecting an outgoing packet to loopback, it keeps the original
    conntrack reference and information from the outgoing path, which
    falsely triggers the check for DNAT on input and the dst_entry is
    released to trigger rerouting. ip_route_input refuses to route the
    packet because it has a local source address and it is dropped.
    
    Look at the packet itself to dermine if it was NATed. Also fix a
    missing inversion that causes unneccesary xfrm lookups.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 669d32a293a348e692c365ddac2b23f3b907fcf1
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Sun Feb 19 22:28:25 2006 -0800

    [IRDA]: irda-usb bug fixes
    
    This patch fixes 2 bugs in the USB-IrDA code.
    
    The first one is a buffer overrun in the RX path. We are now using
    IRDA_SKB_MAX_MTU when initializing the Rx URB.
    
    The second one is a potential stack recursion when unplugging the USB
    dongle.  It seems that first we get the Rx URB with a generic error
    code, and after a while the Rx URB comes again with a "disconnect"
    error code.  Since we are resubmitting the Rx URB immediately after
    receiving the first error one, we might enter an endless loop.
    
    When getting an error Rx URB, the patch defers the Rx URB resubmitting
    so that it gives us a chance to catch the disconnect one, in case the
    dongle has juts been unplugged.
    
    Tested against 2.6.16-rc2.
    
    Patch from Jean Tourrilhes
    
    Signed-off-by: Jean Tourrilhes <jt@hpl.hp.com>
    Signed-off-by: Samuel Ortiz <samuel.ortiz@nokia.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bc6e14b6f0b06fe93d809d22e257ddd275feeda9
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Feb 19 22:26:40 2006 -0800

    [NETFILTER]: Fix NAT PMTUD problems
    
    ICMP errors are only SNATed when their source matches the source of the
    connection they are related to, otherwise the source address is not
    changed. This creates problems with ICMP frag. required messages
    originating from a router behind the NAT, if private IPs are used the
    packet has a good change of getting dropped on the path to its destination.
    
    Always NAT ICMP errors similar to the original connection.
    
    Based on report by Al Viro.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 995110143880fd9cb255fa5df05f8950c56fb43a
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Feb 19 22:11:50 2006 -0800

    [XFRM]: Fix policy double put
    
    The policy is put once immediately and once at the error label, which results
    in the following Oops:
    
    kernel BUG at net/xfrm/xfrm_policy.c:250!
    invalid opcode: 0000 [#2]
    PREEMPT
    [...]
    CPU:    0
    EIP:    0060:[<c028caf7>]    Not tainted VLI
    EFLAGS: 00210246   (2.6.16-rc3 #39)
    EIP is at __xfrm_policy_destroy+0xf/0x46
    eax: d49f2000   ebx: d49f2000   ecx: f74bd880   edx: f74bd280
    esi: d49f2000   edi: 00000001   ebp: cd506dcc   esp: cd506dc8
    ds: 007b   es: 007b   ss: 0068
    Process ssh (pid: 31970, threadinfo=cd506000 task=cfb04a70)
    Stack: <0>cd506000 cd506e34 c028e92b ebde7280 cd506e58 cd506ec0 f74bd280 00000000
           00000214 0000000a 0000000a 00000000 00000002 f7ae6000 00000000 cd506e58
           cd506e14 c0299e36 f74bd280 e873fe00 c02943fd cd506ec0 ebde7280 f271f440
    Call Trace:
     [<c0103a44>] show_stack_log_lvl+0xaa/0xb5
     [<c0103b75>] show_registers+0x126/0x18c
     [<c0103e68>] die+0x14e/0x1db
     [<c02b6809>] do_trap+0x7c/0x96
     [<c0104237>] do_invalid_op+0x89/0x93
     [<c01035af>] error_code+0x4f/0x54
     [<c028e92b>] xfrm_lookup+0x349/0x3c2
     [<c02b0b0d>] ip6_datagram_connect+0x317/0x452
     [<c0281749>] inet_dgram_connect+0x49/0x54
     [<c02404d2>] sys_connect+0x51/0x68
     [<c0240928>] sys_socketcall+0x6f/0x166
     [<c0102aa1>] syscall_call+0x7/0xb
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 496b7a5159b8366b003bbc17f8c4e27f69b6779e
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Feb 16 14:13:53 2006 +1100

    [PATCH] powerpc: Fix bug in spinup of renumbered secondary threads
    
    If the logical and physical cpu ids of a secondary thread don't match, we will
    fail to spin the thread up on pSeries machines due to a bug in pseries/smp.c
    
    We call the RTAS "start-cpu" method with the physical cpu id, the address of
    pSeries_secondary_smp_init and the value to pass that function in r3. Currently
    we pass "lcpu", the logical cpu id, but pSeries_secondary_smp_init expects
    the physical cpu id in r3.
    
    We should be passing pcpu instead.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8fca92705ef462f39e7db5a0f7100bcaae91bfd3
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Feb 16 14:13:51 2006 +1100

    [PATCH] powerpc: Make UP -> SMP kexec work again
    
    For UP to SMP kexec to work we need to jump into pSeries_secondary_smp_init
    event on a UP + KEXEC kernel. The secondary cpus will not find their hw_cpu_id
    in the paca and so they'll jump into kexec_wait, ready for a kexec.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f018b36f3e1f21318066de8d01740d30e38b03d5
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Feb 16 14:13:50 2006 +1100

    [PATCH] powerpc: Don't start secondary CPUs in a UP && KEXEC kernel
    
    Because smp_release_cpus() is built for SMP || KEXEC, it's not safe to
    unconditionally call it from setup_system(). On a UP && KEXEC kernel we'll
    start up the secondary CPUs which will then go beserk and we die.
    
    Simple fix is to conditionally call smp_release_cpus() in setup_system(). With
    that in place we don't need the dummy definition of smp_release_cpus() because
    all call sites are #ifdef'ed either SMP or KEXEC.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2b9a32edba3af9ad4ccb23574bea0cc34455dc43
Author: Olof Johansson <olof@lixom.net>
Date:   Wed Feb 15 21:40:44 2006 -0600

    [PATCH] powerpc: Fix OOPS in lparcfg on G5
    
    Fallback gracefully when reading /proc/ppc64/lparcfg when the /rtas
    device node can't be found.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0728a2f99ef6efd1984f9e0ed59834c1cc602e6f
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 11 18:21:47 2006 +0100

    [PATCH] powerpc: remove duplicate exports
    
    A few symbols are exported twice, remove them from ppc_ksyms.c
    Remove users of sys_ctrler in arch/ppc/
    
    WARNING: vmlinux: duplicate symbol '__delay' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol '__up' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol '__down' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol '__down_interruptible' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'sys_ctrler' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strncat' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strncmp' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strchr' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strrchr' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strnlen' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strpbrk' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'memscan' previous definition was in vmlinux
    WARNING: vmlinux: duplicate symbol 'strstr' previous definition was in vmlinux
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 092b8f3488a3e50a4ab5f2f3f7c8bbf56b3144e1
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Feb 20 10:38:56 2006 +1100

    powerpc: Keep xtime and gettimeofday in sync
    
    This fixes a regression which was introduced by moving ppc32 to use
    the same sort of lockless gettimeofday as ppc64 has been using for
    some time.  This involves getting the timebase and performing some
    simple arithmetic to convert it to seconds and microseconds.  However,
    the factor and offset used there weren't being updated when NTP
    varied the tick length using adjtimex.  64-bit didn't notice the
    problem because it had a hook in the 32-bit adjtimex compat routine
    that attempted to work out what the generic timekeeping code would
    do and alter the factor and offset to match.  However, that code
    was very complex and it wasn't clear that it still matched what the
    generic code would do.
    
    Now we use the generic current_tick_length() routine that was recently
    added to check that the current tick will be as long as we expect; if
    not we recompute the factor and offset.  This keeps gettimeofday and
    xtime in sync.  In addition we check that gettimeofday hasn't got ahead
    of xtime on each timer interrupt; if it has, we resync.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ad6b97fc929e5844bfd1d708ab1d74d131d7960d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Feb 3 02:06:42 2006 -0500

    [PATCH] iomap_copy fallout (m68k)
    
    added __raw_writel(), sanitized include order in iomap_copy.c
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit cead14da59fc261534fa749886c12c16757711fd
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 19:41:35 2006 -0500

    [PATCH] m68k: pm_power_off() breakage
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit cc6cdac0cf11955dc81d6c50b6738d05e1dca12b
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sat Feb 18 16:02:18 2006 -0500

    [PATCH] missing ntohs() in ip6_tunnel
    
    ->payload_len is net-endian
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 00fc00df9e7b637cd13fe1f163da0a2957273947
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 21:22:55 2006 -0500

    [PATCH] m68k: restore disable_irq_nosync()
    
    Patch claiming to remove enable_irq_nosync() had left it alive but killed
    disable_irq_nosync() instead...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 76b6159ba094544e003a237cedcf555d82fa3bfe
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 8 14:37:40 2006 -0500

    [PATCH] fix handling of st_nlink on procfs root
    
    1) it should use nr_processes(), not nr_threads; otherwise we are getting
    very confused find(1) and friends, among other things.
    2) better do that at stat() time than at every damn lookup in procfs root.
    
    Patch had been sitting in FC4 kernels for many months now...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit e30809fde59d591809f00caa1a4c960cca5916af
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 8 14:09:00 2006 -0500

    [PATCH] don't mangle INQUIRY if cmddt or evpd bits are set
    
    sbp2.c mangles INQUIRY response in a way that only applies to standard
    inquiry data (i.e. when both cmddt and evpd bits are 0).  Leave other cases
    alone; e.g. when asking for VPD the length of reply is in byte 3, not 4
    and byte 4 is the first byte of device serial number.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit ef20c8c197df9b8d5bd4af0679123826da028861
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sat Feb 18 15:41:50 2006 -0500

    [PATCH] GFP_KERNEL allocations in atomic (auditsc)
    
    audit_log_exit() is called from atomic contexts and gets explicit
    gfp_mask argument; it should use it for all allocations rather
    than doing some with gfp_mask and some with GFP_KERNEL.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 73d72cffe53407e447df0cbb0bf15a2c931108b3
Author: Dave Airlie <Ben Herrenschmidt benh@kernel.crashing.org>
Date:   Sat Feb 18 16:30:54 2006 +1100

    drm: fix brace placement
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 4e5e2e2560aa1d1d01f7af97af2f72706f61da27
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Feb 18 15:51:35 2006 +1100

    drm: radeon add r300 TX_CNTL and verify bitblt packets
    
    The Xgl on r300 doesn't work unless you add a verify bitblt function to the
    DRM, and we need to pass TX_CNTL to flush texture caches.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 91e3738ebc6d858e784090382e02afeae5a93b08
Author: Dave Airlie <airlied@linux.ie>
Date:   Sat Feb 18 15:17:04 2006 +1100

    drm: fixup i915 interrupt on X server exit
    
    Fixes: IRQ disabled (i915?) when switchig between gnome themes (gnome-theme-manager)
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit bd71c2b17468a2531fb4c81ec1d73520845e97e1
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 14:23:45 2006 -0800

    Linux v2.6.16-rc4

commit 35b73ceb9a7d10c81bd9e79e8485f7079ef2b40e
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Feb 17 13:59:50 2006 -0800

    [PATCH] ACPI: fix vendor resource length computation
    
    acpi_rs_get_list_length() needs to account for all the vendor-defined data
    bytes.  Failing to include these causes buffers to be sized too small,
    which causes slab corruption when we later convert AML to resources and run
    off the end of the buffer.
    
    This causes slab corruption on machines that use ACPI vendor-defined
    resources.  All HP ia64 machines do, and I'm told that some NEC machines
    may as well.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Cc: "Brown, Len" <len.brown@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 636f13c174dd7c84a437d3c3e8fa66f03f7fda63
Author: Chris Wright <chrisw@sous-sol.org>
Date:   Fri Feb 17 13:59:36 2006 -0800

    [PATCH] sys_mbind sanity checking
    
    Make sure maxnodes is safe size before calculating nlongs in
    get_nodes().
    
    Signed-off-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74910e6c7dc7471b286a883c1a7af70483ffd2ba
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 17 13:52:58 2006 -0800

    [PATCH] select: time comparison fixes
    
    I got all of these backwards.  We want to return
    
    	min(input timeout, new timeout)
    
    to userspace to prevent increasing the time-remaining value.
    
    Thanks to Ernst Herzberg <earny@net4u.de> for reporting and diagnosing.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 200a4552af34b9a32e1f68a881a9ed5c7ec699cc
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Feb 17 13:52:56 2006 -0800

    [PATCH] powerpc: Fix accidentally-working typo in __pud_free_tlb
    
    One of the parameters to the __pud_free_tlb() macro for powerpc is
    incorrect (see patch) .  We get away with it by accident, because the one
    place the macro is called, the second parameter is a variable named "pud".
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ff4ced4676d3cd1f28b14d93a339f263ca304b0
Author: Tim Hockin <thockin@google.com>
Date:   Fri Feb 17 13:52:54 2006 -0800

    [PATCH] Remove KERN_INFO from middle of printk line
    
    Don't print KERN_INFO in the middle of a printk line.
    	printk(KERN_INFO "OEM ID: %s ",str);
    is just above this. This is already fixed up in i386 copy.
    
    Signed-off-by: Martin J. Bligh <mbligh@google.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9127dd1aace4e89acb48fbcafd0ed27d3869847b
Author: Johannes Berg <johannes@sipsolutions.net>
Date:   Fri Feb 17 13:52:54 2006 -0800

    [PATCH] allow windfarm_pm112 module to load
    
    The windfarm_pm112 module relies on smu_sat_get_sdb_partition which is in
    windfarm_smu_sat.c but is not exported to modules, so despite Kconfig
    having the option to build the pm112 as modules, this can never be loaded.
    
    This patch fixes that by exporting smu_sat_get_sdb_partition with
    EXPORT_SYMBOL_GPL
    
    Signed-off-by: Johannes Berg <johannes@sipsolutions.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77e7f250f88cd62844e24c42aff4d0e95969c746
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Feb 17 13:52:52 2006 -0800

    [PATCH] fuse: fix bug in aborted fuse_release_end()
    
    There's a rather theoretical case of the BUG triggering in
    fuse_reset_request():
    
      - iget() fails because of OOM after a successful CREATE_OPEN request
      - during IO on the resulting RELEASE request the connection is aborted
    
    Fix and add warning to fuse_reset_request().
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8534adb74e23374889b84b3d97eb18da542a1b5
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Feb 17 13:52:51 2006 -0800

    [PATCH] swsusp: fix breakage with swap on LVM
    
    Restore the compatibility with the older code and make it possible to
    suspend if the kernel command line doesn't contain the "resume=" argument
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Cc: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed3d021b823336a2e0c5090a91d083243f756e6c
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 17 13:52:50 2006 -0800

    [PATCH] s390: sys32_fstatat -> sys32_fstatat64
    
    Just rename the compat system call to keep the name consistent with all the
    other *64 compat system calls.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6cadb78b3bec0a439a99db8fb550dc568e924ae6
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Fri Feb 17 13:52:49 2006 -0800

    [PATCH] s390: fix assignment instead of check in ccw_device_set_online()
    
    Fix assignment instead of check in ccw_device_set_online().  Also remove
    unneeded assignment in ccw_device_do_sense().
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54330456b2e3398743586254f6d7695061ea0d49
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 17 13:52:48 2006 -0800

    [PATCH] s390: smp initialization speed
    
    The last changes that introduced the additional_cpus command line parameter
    also introduced a regression regarding smp initialization speed.  In
    smp_setup_cpu_possible_map() cpu_present_map is set to the same value as
    cpu_possible_map.  Especially that means that bits in the present map will be
    set for cpus that are not present.  This will cause a slow down in the initial
    cpu_up() loop in smp_init() since trying to take cpus online that aren't
    present takes a while.
    
    Fix this by setting only bits for present cpus in cpu_present_map and set
    cpu_present_map to cpu_possible_map in smp_cpus_done().
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37a3302618a51520e2056494715ea6b4776dd8ab
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 17 13:52:47 2006 -0800

    [PATCH] s390: possible_cpus parameter
    
    Introduce possible_cpus command line option.  Hard sets the number of bits set
    in cpu_possible_map.  Unlike the additional_cpus parameter this one guarantees
    that num_possible_cpus() will stay constant even if the system gets rebooted
    and a different number of cpus are present at startup.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 255acee706b333b79f593dd366f16e1f107cccc3
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 17 13:52:46 2006 -0800

    [PATCH] s390: additional_cpus parameter
    
    Introduce additional_cpus command line option.  By default no additional cpu
    can be attached to the system anymore.  Only the cpus present at IPL time can
    be switched on/off.  If it is desired that additional cpus can be attached to
    the system the maximum number of additional cpus needs to be specified with
    this option.
    
    This change is necessary in order to limit the waste of per_cpu data
    structures.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1fca251f36fac3fae7d9cf10de69c2c93f6c0000
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 17 13:52:46 2006 -0800

    [PATCH] s390: fix preempt_count of idle thread with cpu hotplug
    
    Set preempt_count of idle_thread to zero before switching off cpu.  Otherwise
    the preempt_count will be wrong if the cpu is switched on again since the
    thread will be reused.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d751c43b29deb1d990fb9644c13ca941c9d1305
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Fri Feb 17 13:52:45 2006 -0800

    [PATCH] s390: ccw device disbanding
    
    If __ccw_device_disband_start() fails to initiate disbanding, it should finish
    with ccw_device_disband_done() (which leaves the device in offline state)
    instead of ccw_device_verify_done() (which leaves the device in online state).
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4bbf39c29bc3409d6454faf0dfa1b3b0aa2ac2af
Author: Ingo Molnar <mingo@elte.hu>
Date:   Fri Feb 17 13:52:44 2006 -0800

    [PATCH] Introduce CONFIG_DEFAULT_MIGRATION_COST
    
    Heiko Carstens <heiko.carstens@de.ibm.com> wrote:
    
      The boot sequence on s390 sometimes takes ages and we spend a very long
      time (up to one or two minutes) in calibrate_migration_costs.  The time
      spent there differs from boot to boot.  Also the calculated costs differ
      a lot.  I've seen differences by up to a factor of 15 (yes, factor not
      percent).  Also I doubt that making these measurements make much sense on
      a completely virtualized architecture where you cannot tell how much cpu
      time you will get anyway.
    
    So introduce the CONFIG_DEFAULT_MIGRATION_COST method for an architecture
    to set the scheduler migration costs.  This turns off automatic detection
    of migration costs.  Makes sense on virtual platforms, where migration
    costs are hard to measure accurately.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05efc67d100ff6c3364604b72729addf1a86fdab
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 17 13:52:42 2006 -0800

    [PATCH] arch/sh/Kconfig: fix the ISA_DMA_API dependencies
    
    Jean-Luc Leger <reiga@dspnet.fr.eu.org> found this obvious typo.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c9e877949d953e80d0d400bc4d1d1195a2028a4
Author: Marcel Selhorst <selhorst@crypto.rub.de>
Date:   Fri Feb 17 13:52:41 2006 -0800

    [PATCH] Infineon TPM: IO-port leakage fix, WTX-bugfix
    
    Fix IO-port leakage from request_region in case of error during TPM
    initialization, adds more pnp-verification and fixes a WTX-bug.
    
    Signed-off-by: Marcel Selhorst <selhorst@crypto.rub.de>
    Acked-by: Kylene Jo Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2f49033d80c952a0ffc2d5647bc1a0b8a09c1b3
Author: Peter Staubach <staubach@redhat.com>
Date:   Fri Feb 17 13:52:36 2006 -0800

    [PATCH] fix deadlock in ext2
    
    Fix a deadlock possible in the ext2 file system implementation.  This
    deadlock occurs when a file is removed from an ext2 file system which was
    mounted with the "sync" mount option.
    
    The problem is that ext2_xattr_delete_inode() was invoking the routine,
    sync_dirty_buffer(), using a buffer head which was previously locked via
    lock_buffer().  The first thing that sync_dirty_buffer() does is to lock
    the buffer head that it was passed.  It does this via lock_buffer().  Oops.
    
    The solution is to unlock the buffer head in ext2_xattr_delete_inode()
    before invoking sync_dirty_buffer().  This makes the code in
    ext2_xattr_delete_inode() obey the same locking rules as all other callers
    of sync_dirty_buffer() in the ext2 file system implementation.
    
    Signed-off-by: Peter Staubach <staubach@redhat.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 614f8f50ca1361d054cdeca38d241684490d2296
Merge: 00ab2f3... c15d85c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 13:47:16 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit c15d85c8f3f73b5f20aae7928e25b6996f16b328
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Feb 15 15:59:25 2006 +0100

    [PATCH] Add missing FUA write to sata_mv dma command list
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0565c26de7b2c069add553106f210b3128b67785
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Mon Feb 13 18:55:25 2006 +0800

    [PATCH] libata: minor fix for 2.6.16-rc3
    
     - Fix the array index value in ata_rwcmd_protocol() for the added FUA commands.
     - Filter out ATAPI packet command error messages in ata_pio_error()
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 00ab2f3df33dd3e649904765767dd87ffbcb3acf
Merge: 4cf808e... f5e2a7b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 13:27:40 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 2ae5b30ff08cee422c7f6388a759f743633c7542
Author: Dan Williams <dan.j.williams@intel.com>
Date:   Wed Dec 14 13:10:49 2005 -0700

    [PATCH] Necessary evil to get sata_vsc to initialize with Intel iq3124h hba
    
    * libata does not care about error interrupts, so handle them locally
    * the interrupts that are ignored only appear to happen at init time
    
    Signed-off-by: Dan Williams <dan.j.williams@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4cf808eb443ead42777a0230b73aec0cee7fb298
Author: Linus Torvalds <torvalds@osdl.org>
Date:   Fri Feb 17 20:38:21 2006 +0100

    [PATCH] Handle holes in node mask in node fallback list setup
    
    Change the find_next_best_node algorithm to correctly skip
    over holes in the node online mask. Previously it would not handle
    missing nodes correctly and cause crashes at boot.
    
    [Written by Linus, tested by AK]
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5e2a7b22e7d7dfda8794906d0fddeaaa09bb944
Author: Jay Vosburgh <fubar@us.ibm.com>
Date:   Tue Feb 7 21:17:22 2006 -0800

    [PATCH] bonding: fix a locking bug in bond_release
    
    bond_release returns EINVAL without releasing the bond lock if the
    slave device is not being bonded by the bond.  The following patch
    ensures that the lock is released in this case.
    
    Signed-off-by: Stephen J. Bevan <stephen@dino.dnsalias.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 66cc5d5aee1ea427b3aeacdabd006a4195c81eee
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Tue Feb 7 17:04:38 2006 +0100

    [PATCH] s390: some qeth driver fixes
    
    [patch 2/2] s390: some qeth driver fixes
    
    From: Frank Pavlic <fpavlic@de.ibm.com>
    	- fixed kernel panic when using EDDP support in Layer 2 mode
    	- NULL pointer exception in qeth_set_offline fixed.
    	- setting EDDP in Layer 2 mode did not set NETIF_F_(SG/TSO)
    	  flags when device became online.
    	- use sscanf for parsing and converting IPv4 addresses
    	  from string to __u8 values.
    	- qeth_string_to_ipaddr6 fixed. in case of double colon
    	  the converted IPv6 address out from the string was not correct
    	  in previous implementation.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth.h      |  112 +++++++++++++++++++++++++-----------------------------------
     qeth_eddp.c |   11 ++++-
     qeth_main.c |   17 +++------
     3 files changed, 63 insertions(+), 77 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0d613a27cc753bfacd20e6eaa2183bb7fef4c76e
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Tue Feb 7 17:04:36 2006 +0100

    [PATCH] s390: lcs performance enhancements
    
    [patch 1/2] s390: lcs performance enhancements
    
    From: Klaus Wacker <kdwacker@de.ibm.com>
    	- When flood pinging (with large packet size) an LCS device,
    	  about 90 % of all packets are dropped by driver.
    	- increased number of lcs IO buffers to 32.
    	- use netif_stop_queue/netif_wake_queue in lcs_start_xmit routine
    	- don't lock the whole xmit routine but just the piece of code where
    	  tx_buffer is touched.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     lcs.c |   31 +++++++++++++++++--------------
     lcs.h |    2 +-
     2 files changed, 18 insertions(+), 15 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ca5b0ec8ae9f11c85d1f27b19f182a054303f324
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 10 02:00:43 2006 -0800

    [PATCH] smctr warning fix
    
    drivers/net/tokenring/smctr.c: In function `smctr_load_firmware':
    drivers/net/tokenring/smctr.c:2981: warning: assignment discards qualifiers from pointer target type
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6f4c56b2ae10b680be518cc99f5308fc59236db2
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Feb 10 15:58:59 2006 -0800

    [PATCH] sky2: speed setting fix
    
    Users report problems w/ auto-negotiation disabled and the link set
    to 100/Half or 10/Half.  Problems range from poor performance to no
    link at all.
    
    The current sky2 code does not set things properly on link up if
    autonegotiation is disabled.  Plus it does not contemplate a 10Mbit
    setting at all.  This patch corrects that.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 564f9abb34c936e5d0c7682129042dad14dbbb95
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Feb 13 15:46:48 2006 -0800

    [PATCH] skge: speed setting
    
    This is a clone of John Linville's fixed for speed setting on sky2 driver.
    The skge driver has the same code (and bug). It would not allow manually forcing
    100 and 10 mbit.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7a160c735a264de400cbbf4cf0fb3250007ae0c6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Feb 13 15:48:08 2006 -0800

    [PATCH] skge: no longer experimental
    
    Take the experimental dependency of skge driver, it is as stable as the
    others.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 56c8f7e290a1b3249c6a5b464fada8a167f2e5ff
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Feb 13 15:49:55 2006 -0800

    [PATCH] sk98lin: no d-link support (kconfig)
    
    The sk98lin driver was changed a while ago to remove support for the
    D-Link 530T card because that hardware has no working VPD data.  The help
    text for Kconfig was not updated.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit aca0b510cdbf81d52e15014a720be2b8dfd26aea
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Thu Feb 16 17:44:54 2006 -0800

    [PATCH] Wavelan_cs bitfield fixes
    
    	Some bitfields were incorrectly initialised in wavelan_cs,
    causing some compiler warning. Also killed a error message that should
    not be there...
    
    Signed-off-by: Jean Tourrilhes <jt@hpl.hp.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e7f52e4c43ba5d59a08c8482b5cf1f20f1ce7664
Merge: 249b94a... 10487fb...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Feb 17 16:11:47 2006 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit 249b94a5f7dafe7a3963061eddad9c1bd5d67328
Merge: cfe91f9... 7345137...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Feb 17 16:10:20 2006 -0500

    Merge branch 'upstream-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit cfe91f9ce297e23e6fbdf61c02bdd8ab9af7c8a8
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Fri Feb 17 03:16:55 2006 -0500

    [PATCH] i386: fix singlestepping though a syscall
    
    Do not mask TIF_SINGLESTEP bit in _TIF_WORK_MASK. Masking this stopped
    do_notify_resume() from being called when it should have been.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d30864392823d5f38002fa32950689e651ee11da
Author: Joshua Kinard <kumba@gentoo.org>
Date:   Fri Feb 17 03:52:25 2006 +0000

    [PATCH] Fix SGI O2 compile error in drivers/video/gbefb.c
    
    A sysfs function call uses the wrong parameter, and thus breaks a build on
    SGI O2.
    
      CC      drivers/video/gbefb.o
    drivers/video/gbefb.c: In function gbefb_remove:
    drivers/video/gbefb.c:1246: error: dev undeclared (first use in this function)
    drivers/video/gbefb.c:1246: error: (Each undeclared identifier is reported only once
    drivers/video/gbefb.c:1246: error: for each function it appears in.)
    make[2]: *** [drivers/video/gbefb.o] Error 1
    
    Signed-off-by: Joshua Kinard <kumba@gentoo.org>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 726c14bf499e91e7ede4f1728830aba05c675061
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Feb 17 10:30:23 2006 +1100

    [PATCH] Provide an interface for getting the current tick length
    
    This provides an interface for arch code to find out how many
    nanoseconds are going to be added on to xtime by the next call to
    do_timer.  The value returned is a fixed-point number in 52.12 format
    in nanoseconds.  The reason for this format is that it gives the
    full precision that the timekeeping code is using internally.
    
    The motivation for this is to fix a problem that has arisen on 32-bit
    powerpc in that the value returned by do_gettimeofday drifts apart
    from xtime if NTP is being used.  PowerPC is now using a lockless
    do_gettimeofday based on reading the timebase register and performing
    some simple arithmetic.  (This method of getting the time is also
    exported to userspace via the VDSO.)  However, the factor and offset
    it uses were calculated based on the nominal tick length and weren't
    being adjusted when NTP varied the tick length.
    
    Note that 64-bit powerpc has had the lockless do_gettimeofday for a
    long time now.  It also had an extremely hairy routine that got called
    from the 32-bit compat routine for adjtimex, which adjusted the
    factor and offset according to what it thought the timekeeping code
    was going to do.  Not only was this only called if a 32-bit task did
    adjtimex (i.e. not if a 64-bit task did adjtimex), it was also
    duplicating computations from kernel/timer.c and it wasn't clear that
    it was (still) correct.
    
    The simple solution is to ask the timekeeping code how long the
    current jiffy will be on each timer interrupt, after calling
    do_timer.  If this jiffy will be a different length from the last one,
    we then need to compute new values for the factor and offset used in
    the lockless do_gettimeofday.  In this way we can keep xtime and
    do_gettimeofday in sync, even when NTP is varying the tick length.
    
    Note that when adjtimex varies the tick length, it almost always
    introduces the variation from the next tick on.  The only case I could
    see where adjtimex would vary the length of the current tick is when
    an old-style adjtime adjustment is being cancelled.  (It's not clear
    to me why the adjustment has to be cancelled immediately rather than
    from the next tick on.)  Thus I don't see any real need for a hook in
    adjtimex; the rare case of an old-style adjustment being cancelled can
    be fixed up at the next tick.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    Acked-by: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dd942ae331425812930cd01766178b7e28e65f2d
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 17 01:39:16 2006 +0100

    [PATCH] Handle all and empty zones when setting up custom zonelists for mbind
    
    The memory allocator doesn't like empty zones (which have an
    uninitialized freelist), so a x86-64 system with a node fully
    in GFP_DMA32 only would crash on mbind.
    
    Fix that up by putting all possible zones as fallback into the zonelist
    and skipping the empty ones.
    
    In fact the code always enough allocated space for all zones,
    but only used it for the highest. This change just uses all the
    memory that was allocated before.
    
    This should work fine for now, but whoever implements node hot removal
    needs to fix this somewhere else too (or make sure zone datastructures
    by itself never go away, only their memory)
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Acked-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 759b650f54ed13e9b3d6c064c763a72ee09c74dd
Merge: 69454e6... 8f8b113...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 08:16:35 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 69454e6991091d0d6eb7461653f2695d985e1a74
Merge: a522204... dc7bf13...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 08:13:38 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit a5222049f3e26c21ecd65bfcc9b666d4c813933b
Merge: 7054ec7... d9db950...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 08:13:11 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 7054ec7f86cada917626c05fe461abccca816d3b
Merge: 2aed711... 0425a14...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 17 08:12:08 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 2aed711a399cbc4a9bf239c13f05a8a8b460f215
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:16 2006 +0100

    [PATCH] x86_64: Always pass full number of nodes to NUMA hash computation
    
    Previously the numa hash code would be confused by holes in the node space
    and stop early. This is the first part of the fix for the non boot issue
    with empty nodes on Opterons.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fdb9df942437c6c5d1a6928d5fff824466c3af67
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:13 2006 +0100

    [PATCH] x86_64: Relax SRAT covers all memory check a bit
    
    Code was refusing good SRATs because about 12K got lost somewhere.
    Allow less than 1MB of difference before rejecting it.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6574ffd74b03e35026f428a2c820e6ddf45d426c
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:10 2006 +0100

    [PATCH] x86_64: Resolve the RIP of an early exception using kallsyms
    
    But do it after everything else to risk less from recursive
    crashes.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fd67843b96f90f59c9a244a1bc25137978a3ff9
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:07 2006 +0100

    [PATCH] x86_64: Disable tsc when apicpmtimer is active
    
    Otherwise it has no effect anyways.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab68805955ee3dd84a6aa76cd70e61fde996968d
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:04 2006 +0100

    [PATCH] x86_64: Don't enable ATI apicmaintimer workaround when the machine has C2 or C3
    
    Many laptops have problems with ticking the local APIC timer in C2/C3.
    The code added earlier to use it by default on ATI didn't really work
    for them. Don't enable it when the system supports C2/C3.
    
    This doesn't fix the problem fully, but at least it's not worse than before.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2391c4b594eb28abd58102de8f4e5d7a4fa39f4c
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:42:01 2006 +0100

    [PATCH] x86_64: Don't call do_exit with interrupts disabled after IRET exception
    
    This caused a sigreturn with bad argument on a preemptible kernel
    to complain with
    
    Debug: sleeping function called from invalid context at /home/lsrc/quilt/linux/include/linux/rwsem.h:43
    in_atomic():0, irqs_disabled():1
    
    Call Trace: {__might_sleep+190} {profile_task_exit+21}
           {__do_exit+34} {do_wait+0}
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a62eaf151d9cb478d127cfbc2e93c498869785b0
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:41:58 2006 +0100

    [PATCH] x86_64: Add boot option to disable randomized mappings and cleanup
    
    AMD SimNow!'s JIT doesn't like them at all in the guest. For distribution
    installation it's easiest if it's a boot time option.
    
    Also I moved the variable to a more appropiate place and make
    it independent from sysctl
    
    And marked __read_mostly which it is.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99019e919969be88e7e4042f3afa296bd55ad9ec
Author: Jan Beulich <jbeulich@novell.com>
Date:   Thu Feb 16 23:41:55 2006 +0100

    [PATCH] x86_64: make touch_nmi_watchdog() not touch impossible cpus' private data
    
    Along with that, also suppress the memory touching altogether when the
    watchdog is not running, to eliminate needless crosstalk. Plus ad a call
    to it to make things consistent (one could also consider removing the call
    in enable_timer_nmi_watchdog()).
    
    Signed-off-by: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4444d1a3039354c388135073786efeb64d8ef0c
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 16 23:41:52 2006 +0100

    [PATCH] x86_64: Update defconfig
    
    ... and enable 1394 by default.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7345137930907ba747781636c60112f7c2789aa8
Author: Dan Williams <dcbw@redhat.com>
Date:   Sun Feb 5 17:55:16 2006 -0500

    [PATCH] wireless/atmel: fix Open System authentication process bugs
    
    This patch fixes a number of bugs in the authentication process:
    
    1) When falling back to Shared Key authentication mode from Open System,
    a missing 'return' would cause the auth request to be sent, but would
    drop the card into Management Error state.  When falling back, the
    driver should also indicate that it is switching to Shared Key mode by
    setting exclude_unencrypted.
    
    2) Initial authentication modes were apparently wrong in some cases,
    causing the driver to attempt Shared Key authentication mode when in
    fact the access point didn't support that mode or even had WEP disabled.
    The driver should set the correct initial authentication mode based on
    wep_is_on and exclude_unencrypted.
    
    3) Authentication response packets from the access point in Open System
    mode were getting ignored because the driver was expecting the sequence
    number of a Shared Key mode response.  The patch separates the OS and SK
    mode handling to provide the correct behavior.
    
    Signed-off-by: Dan Williams <dcbw@redhat.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0d467502b7fc2656f01d7f18ab290c8d41762018
Author: Dan Williams <dcbw@redhat.com>
Date:   Sun Feb 5 17:52:21 2006 -0500

    [PATCH] wireless/atmel: fix setting TX key only in ENCODEEXT
    
    The previous patch that added ENCODEEXT and AUTH support to the atmel
    driver contained a slight error which would cause just setting the TX
    key index to also set the encryption key again.  This patch allows any
    combination of setting the TX key index and setting an encryption key.
    
    Signed-off-by: Dan Williams <dcbw@redhat.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit d9db950cfa3d674ee834d980c329efdf8e4a0568
Author: Nicolas Pitre <nico@cam.org>
Date:   Thu Feb 16 22:36:15 2006 +0000

    [ARM] 3339/1: ARM EABI: make unmuxed syscalls visible
    
    Patch from Nicolas Pitre
    
    With EABI the multiplex sys_ipc and sys_socketcall syscalls are
    unavailable and their support code even removed from the compiled
    kernel, and the new unmuxed syscalls must be used instead.
    
    Make those syscall numbers visible.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6c0fa49b18b09ba9e69c0999f89bc38fad95d8a6
Author: Nicolas Pitre <nico@cam.org>
Date:   Thu Feb 16 22:36:13 2006 +0000

    [ARM] 3338/1: old ABI compat: sys_socketcall
    
    Patch from Nicolas Pitre
    
    Commit 99595d0237926b5aba1fe4c844a011a1ba1ee1f8 forgot to intercept
    sys_socketcall as well.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3dfaf7a68e275a1a6bee4861fdd61f911e6eb7a2
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Thu Feb 16 22:36:12 2006 +0000

    [ARM] 3337/1: Fix NSLU2 flash support according to window size configuration patch
    
    Patch from Martin Michlmayr
    
    ARM patch 3226/1 (IXP4xx runtime expansion bus window size configuration)
    forgot to update mach-ixp4xx/nslu2-setup.c which leads to the following
    compilation error.  Update NSLU2 flash support following patch 3226/1.
    
      CC      arch/arm/mach-ixp4xx/nslu2-setup.o
    arch/arm/mach-ixp4xx/nslu2-setup.c:30: error: NSLU2_FLASH_BASE undeclared here (not in a function)
    arch/arm/mach-ixp4xx/nslu2-setup.c:31: error: NSLU2_FLASH_SIZE undeclared here (not in a function)
    make[1]: *** [arch/arm/mach-ixp4xx/nslu2-setup.o] Error 1
    make: *** [arch/arm/mach-ixp4xx] Error 2
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    
    ---
    
     nslu2-setup.c |    6 ++++--
     1 file changed, 4 insertions(+), 2 deletions(-)
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8f8b1138fc9f65e3591aac83a4ee394fef34ac1d
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Thu Feb 16 14:01:48 2006 -0800

    [IA64] Count disabled cpus as potential hot-pluggable CPUs
    
    Minor updates to earlier patch.
    - Added to documentation to add ia64 as well.
    - Minor clarification on how to use disabled cpus
    - used plain max instead of max_t per Andew Morton.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ab479995b191b4256183956c13caabb86331af8e
Merge: 26d451b... f671c09...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 16 14:04:08 2006 -0800

    Merge branch 'upstream-linus' of git://oss.oracle.com/home/sourcebo/git/ocfs2

commit 10487fbd74f2f9c9b5fb2d77efd50eab48db191a
Author: Francois Romieu <romieu@electric-eye.fr.zoreil.com>
Date:   Thu Feb 16 22:17:00 2006 +0100

    sis190: early setting of the pci driver private data
    
    Below this point, the error path will proceed through
    sis190_release_board(). It will happily oops if
    pci_set_drvdata() has not been issued.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 26d451b603e754ded83f0e5becab2a78253ad100
Merge: 90f9dd8... 65110b2...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 16 12:47:44 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit f671c09bce88ea253d576c842f8f39d9a2a29028
Author: Kurt Hackel <Kurt.Hackel@oracle.com>
Date:   Tue Feb 14 11:45:21 2006 -0800

    [PATCH] ocfs2: detach from heartbeat events before freeing mle
    
    Signed-off-by: Kurt Hackel <Kurt.Hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 745ae8ba29e729ec922393fa4d9448c385673599
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Feb 9 13:23:39 2006 -0800

    [PATCH] ocfs2: only checkpoint journal when asked to
    
    Disable automatic checkpointing of the journal - this is a relic from older
    ocfs2 days. Worth quite a bit of performance on longer running single node
    tests.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 558c70c59b75a5a53ba496fe3bccea80a9e3e6fb
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Wed Jan 18 17:07:47 2006 -0800

    [PATCH] ocfs2: manually grant remote recovery lock
    
    * fix a hang in recovery that occurred in dlmlock_remote.  the $RECOVERY
      lock was never moved to the granted queue even after getting DLM_NORMAL
      back from the master node.
    
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 44465a7daf7c4e34199b2b0ebb3c5101619dcb9d
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Wed Jan 18 17:05:38 2006 -0800

    [PATCH] ocfs2: add dlm_wait_for_node_death
    
    * add dlm_wait_for_node_death function to be used after receiving a network
      error.  this will wait for the given timeout to allow the heartbeat
      callbacks to update the domain map.  without this, some paths may spin
      and consume enough cpu that the heartbeat gets starved and never updates.
    
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit e2b5e4506f5c5187b91d7a79fbad28fe3ebd2fc5
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Wed Jan 18 17:02:56 2006 -0800

    [PATCH] ocfs2: fix release of ast never reserved
    
    * fix a bug in dlm_convert_lock_handler where dlm_lockres_release_ast was
      being called even if no ast was ever reserved
    
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 898efface1a5076cbae5af87b935212b1869971b
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Wed Jan 18 17:01:25 2006 -0800

    [PATCH] ocfs2: recheck recovery state after getting lock
    
    * after successfully taking the $RECOVERY lock in EX mode, recheck to make
      sure that recovery has not already begun or completed on another node
    
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 6f6d75825dc49b082906b84537b4df28293c2977
Author: Jack Steiner <steiner@sgi.com>
Date:   Wed Feb 15 19:46:50 2006 -0600

    [IA64] Missing check for TIF_WORK if trace/audit enabled
    
    It appears that if auditing is enabled, the kernel fails to
    check for pending signals before returning to user mode.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Acked-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0425a14213f373595bd23cacdc675f2b973a28d4
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Feb 16 16:48:31 2006 +0000

    [MMC] mmci: allow small data transfers
    
    If a data transfer is small (less than a FIFO size) we would
    hang waiting for the data to be read due to the PIO interrupt
    not occuring.  We allowed for this in our PIO interrupt handler,
    but not when setting up a data transfer.
    
    Apply the "fix" when setting up a data transfer as well.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 90f9dd8f72773152b69042debd6b9ed6d224703a
Author: Neil Brown <neilb@suse.de>
Date:   Thu Feb 16 14:43:01 2006 +1100

    [PATCH] Fix over-zealous tag clearing in radix_tree_delete
    
    If a tag is set for a node being deleted from a radix_tree, then that
    tag gets cleared from the parent of the node, even if it is set for some
    siblings of the node begin deleted.
    
    This patch changes the logic to include a test for any_tag_set similar
    to the logic a little futher down.  Care is taken to ensure that
    'nr_cleared_tags' remains equals to the number of entries in the 'tags'
    array which are set to '0' (which means that this tag is not set in the
    tree below pathp->node, and should be cleared at pathp->node and
    possibly above.
    
    [ Nick says: "Linus FYI, I was able to modify the radix tree test
      harness to catch the bug and can no longer trigger it after the fix.
      Resulting code passes all other harness tests as well of course." ]
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7bbb79403163e047c6e333ff169db34e3c969e65
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Feb 16 11:08:09 2006 +0000

    [ARM] Fix SMP initialisation oops
    
    A change to the SMP initialisation caused the following oops:
    
     CPU1: Booted secondary processor
     CPU1: D VIPT write-back cache
     CPU1: I cache: 32768 bytes, associativity 4, 32 byte lines, 256 sets
     CPU1: D cache: 32768 bytes, associativity 4, 32 byte lines, 256 sets
     <7>Calibrating delay loop... 83.14 BogoMIPS (lpj=415744)
     <1>Unable to handle kernel NULL pointer dereference at virtual address 0000001c
     ...
     PC is at enqueue_task+0x1c/0x64
     LR is at activate_task+0xcc/0xe4
    
    SMP initialisation now requires cpu_possible_map to be initialised in
    setup_arch().  Move this from smp_prepare_cpus() to smp_init_cpus()
    and call it from our setup_arch() if CONFIG_SMP is enabled.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d89b8f40fca43cab829fea5c0e7d3951db2fb4bd
Merge: 0b60afb... 02860ab...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 15 20:00:48 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/dtor/input

commit 0b60afba5397a3e63264463cde49426d8dcb0de4
Merge: 61be6d6... 7c6de05...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 15 19:56:33 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 61be6d660093edde709ed638c7e1c458bd88c941
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Wed Feb 15 15:17:43 2006 -0800

    [PATCH] mmconfig: add kernel parameter documentation
    
    Mention the "pci=nommconf" option in kernel-parameters.txt.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8adb494a6df6b2be8e50a8dafd5bab231df3505
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 15 15:17:42 2006 -0800

    [PATCH] swsusp: nuke noisy message
    
    I get about 88 squillion of these when suspending an old ad450nx server.
    
    Cc: Pavel Roskin <proski@gnu.org>
    Cc: "Rafael J. Wysocki" <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d1db4ec86c7b1bf5b44d2ed3bf84a4bb53c33b1c
Author: Daniel Yeisley <dan.yeisley@unisys.com>
Date:   Wed Feb 15 15:17:41 2006 -0800

    [PATCH] x86_64: early initialization of cpu_to_node
    
    The early initialization of cpu_to_node code as it is now only updates the
    cpu_to_node array, and does not update cpu_pda()->nodemember.  This will
    cause numa_node_id() to return 0 on systems where CPU 0 is not on Node 0.
    This leads to a kernel panic in slab.c.
    
    I've tested the patch below on a 16 processor x86_64 ES7000-600 server, and
    no longer see the panic I saw with the original 2.6.16-rc3.
    
    Signed-off-by: Dan Yeisley <dan.yeisley@unisys.com>
    Acked-by: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2ee9dbfad14ba8e34a589d552ddc67300a26bec
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Feb 15 15:17:40 2006 -0800

    [PATCH] hrtimer: fix multiple macro argument expansion
    
    For two macros the arguments were expanded twice, change them to inline
    functions to avoid it.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f6164f3092832e0d9b12eed52e09a76bf39c64a
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Wed Feb 15 15:17:39 2006 -0800

    [PATCH] add asm-generic/mman.h
    
    Make new MADV_REMOVE, MADV_DONTFORK, MADV_DOFORK consistent across all
    arches.  The idea is to make it possible to use them portably even before
    distros include them in libc headers.
    
    Move common flags to asm-generic/mman.h
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Cc: Roland Dreier <rolandd@cisco.com>
    Cc: Badari Pulavarty <pbadari@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06fed33849c13af637c4d09e9ba27828fac9edd5
Author: Paul Jackson <pj@sgi.com>
Date:   Wed Feb 15 15:17:38 2006 -0800

    [PATCH] cpuset: oops in exit on null cpuset fix
    
    Fix a latent bug in cpuset_exit() handling.  If a task tried to allocate
    memory after calling cpuset_exit(), it oops'd in
    cpuset_update_task_memory_state() on a NULL cpuset pointer.
    
    So set the exiting tasks cpuset to the root cpuset instead of to NULL.
    
    A distro kernel hit this with an added kernel package that had just such a
    hook (allocating memory) in the exit code path.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 651c29a17f7ea0204dacbc2a5042d57b1c9e2e37
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 15 15:17:37 2006 -0800

    [PATCH] ide: touch softlockup detector during pio
    
    We're getting some softlockup false positives during heavy PIO operations.  So
    poke the lockup detector.
    
    Cc: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36cbbe5eb9857730768aa5f54ad94d69e0b2133d
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Wed Feb 15 15:17:35 2006 -0800

    [PATCH] kbuild: revert "fix make -jN with multiple targets with O=..."
    
    Commit 296e0855b0f9a4ec9be17106ac541745a55b2ce1:
    
        "kbuild: fix make -jN with multiple targets with O=..."
    
    causes a ~95% increase in build time for the kernel.  Before: 4m21s
    after: 8m1.403s.  Can we revert this until another approach is found?
    
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f672004ab1a8094bec1785b39ac683ab9eebebc
Author: Christian Trefzer <ctrefzer@gmx.de>
Date:   Wed Feb 15 15:17:34 2006 -0800

    [PATCH] neofb: avoid resetting display config on unblank (v2)
    
    There were two mistakes in the register-read-on-(un)blank approach.
    
    - First, without proper register (un)locking the value read back will always
      be zero, and this is what I missed entirely until just now.  Due to this,
      the logic could not be verified at all and I tried some bogus checks which
      are completely stupid.
    
    - Second, the LCD status bit will always be set to zero when the backlight
      has been turned off.  Reading the value back during unblank will disable the
      LCD unconditionally, regardless of the state it is supposed to be in, since
      we set it to zero beforehand.
    
    So this is what we do now:
    
    - create a new variable in struct neofb_par, and use that to determine
      whether to read back registers (initialized to true)
    
    - before actually blanking the screen, read back the register to sense any
      possible change made through Fn key combo
    
    - use proper neoUnlock() / neoLock() to actually read something
    
    - every call to neofb_blank() determines if we read back next time: blanking
      disables readback, unblanking (FB_BLANK_UNBLANK) enables it
    
    This should give us a nice and clean state machine.  Has been thoroughly
    tested on a Dell Latitude CPiA / NM220 Chip docked to a C/Dock2 with attached
    CRT in all possible combinations of LCD/CRT on/off.  I changed the config via
    Fn key, let the console blank, unblanked by keypress - works flawlessly.
    
    Signed-off-by: Christian Trefzer <ctrefzer@gmx.de>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c6de05884b9fcc7ef621e2ab198ba93d85f46aa
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Feb 15 15:25:18 2006 -0800

    [NETFILTER]: nf_conntrack: Fix TCP/UDP HW checksum handling for IPv6 packet
    
    If skb->ip_summed is CHECKSUM_HW here, skb->csum includes checksum
    of actual IPv6 header and extension headers. Then such excess
    checksum must be subtruct when nf_conntrack calculates TCP/UDP checksum
    with pseudo IPv6 header. Spotted by Ben Skeggs.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 763ecff1879b3877f57f20fc9e79599aef59359f
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Feb 15 15:24:15 2006 -0800

    [NETFILTER]: nf_conntrack: attach conntrack to locally generated ICMPv6 error
    
    Locally generated ICMPv6 errors should be associated with the conntrack
    of the original packet. Since the conntrack entry may not be in the hash
    tables (for the first packet), it must be manually attached.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 08857fa745ab6ce46601960d2774490e1cef2cff
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Feb 15 15:23:28 2006 -0800

    [NETFILTER]: nf_conntrack: attach conntrack to TCP RST generated by ip6t_REJECT
    
    TCP RSTs generated by the REJECT target should be associated with the
    conntrack of the original TCP packet. Since the conntrack entry is
    usually not is the hash tables, it must be manually attached.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7d3cdc6b554137a7a0534ce38b155a63a3117f27
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Feb 15 15:22:21 2006 -0800

    [NETFILTER]: nf_conntrack: move registration of __nf_ct_attach
    
    Move registration of __nf_ct_attach to nf_conntrack_core to make it usable
    for IPv6 connection tracking as well.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit deac0ccdb4da16b68539d75edecf26162de05150
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Feb 15 15:21:31 2006 -0800

    [NETFILTER]: x_tables: fix dependencies of conntrack related modules
    
    NF_CONNTRACK_MARK is bool and depends on NF_CONNTRACK which is
    tristate.  If a variable depends on NF_CONNTRACK_MARK and doesn't take
    care about NF_CONNTRACK, it can be y even if NF_CONNTRACK isn't y.
    NF_CT_ACCT have same issue, too.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9c92d3486434e7310cb288587953e2dae4a79701
Author: Patrick McHardy <kaber@trash.net>
Date:   Wed Feb 15 15:18:19 2006 -0800

    [NETFILTER]: Don't invoke okfn in CONFIG_NETFILTER=n variant of nf_hook()
    
    nf_hook() is supposed to call the netfilter hook and return control of the
    packet back to the caller in case it may pass, the okfn is only used for
    queueing.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 72166c35f0e15e5081e51304de48e73f8fdf5498
Merge: b05de01... a6b14fa...
Author: Tony Luck <tony.luck@intel.com>
Date:   Wed Feb 15 15:17:57 2006 -0800

    Pull fix-cpu-possible-map into release branch

commit b05de01ae1c76b7d61da21bbcc26345bf7a9052f
Author: Horms <horms@verge.net.au>
Date:   Wed Feb 15 17:23:09 2006 +0900

    [IA64] support panic_on_oops sysctl
    
    Trivial port of this feature from i386
    As it stands, panic_on_oops but does nothing on ia64
    
    Signed-Off-By: Horms <horms@verge.net.au>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 48d5cad87c3a4998d0bda16ccfb5c60dfe4de5fb
Author: Patrick McHardy <kaber@trash.net>
Date:   Wed Feb 15 15:10:22 2006 -0800

    [XFRM]: Fix SNAT-related crash in xfrm4_output_finish
    
    When a packet matching an IPsec policy is SNATed so it doesn't match any
    policy anymore it looses its xfrm bundle, which makes xfrm4_output_finish
    crash because of a NULL pointer dereference.
    
    This patch directs these packets to the original output path instead. Since
    the packets have already passed the POST_ROUTING hook, but need to start at
    the beginning of the original output path which includes another
    POST_ROUTING invocation, a flag is added to the IPCB to indicate that the
    packet was rerouted and doesn't need to pass the POST_ROUTING hook again.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit defbb2c929cbe89dc92239b303cd33d3c85e9a83
Author: John Hawkes <hawkes@sgi.com>
Date:   Tue Feb 14 10:40:17 2006 -0800

    [IA64] ia64: simplify and fix udelay()
    
    The original ia64 udelay() was simple, but flawed for platforms without
    synchronized ITCs:  a preemption and migration to another CPU during the
    while-loop likely resulted in too-early termination or very, very
    lengthy looping.
    
    The first fix (now in 2.6.15) broke the delay loop into smaller,
    non-preemptible chunks, reenabling preemption between the chunks.  This
    fix is flawed in that the total udelay is computed to be the sum of just
    the non-premptible while-loop pieces, i.e., not counting the time spent
    in the interim preemptible periods.  If an interrupt or a migration
    occurs during one of these interim periods, then that time is invisible
    and only serves to lengthen the effective udelay().
    
    This new fix backs out the current flawed fix and returns to a simple
    udelay(), fully preemptible and interruptible.  It implements two simple
    alternative udelay() routines:  one a default generic version that uses
    ia64_get_itc(), and the other an sn-specific version that uses that
    platform's RTC.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 4c2cd96696ae0896ce4bcf725b9f0eaffafeb640
Author: Dean Nelson <dcn@sgi.com>
Date:   Wed Feb 15 08:02:21 2006 -0600

    [IA64-SGI] enforce proper ordering of callouts by XPC
    
    Fix XPC so that it does not deliver any messages until the connected
    callout has returned, as well as, prevent the disconnected callout to
    occur before the disconnecting callout has returned.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit c2a4969ba14e852bf4ee92c7db3b0cf82405a0c9
Author: Dean Roe <roe@sgi.com>
Date:   Tue Feb 14 15:01:23 2006 -0600

    [IA64-SGI] fix the size of __sn_cnodeid_to_nasid
    
    The __sn_cnodeid_to_nasid array was incorrectly sized at MAX_NUMNODES.
    On a large system, this array could overflow.  The following patch
    corrects this by defining it to MAX_COMPACT_NODES.
    
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9c65cb9be62ac4993a5b392304b82e4f04f010fd
Author: Mark Maule <maule@sgi.com>
Date:   Tue Feb 14 10:23:37 2006 -0600

    [IA64-SGI] export sn_pcidev_info_get
    
    Export sn_pcidev_info_get.
    
    Signed-off-by Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 26d10915de3030a55253dba3b2b145402cdf6429
Author: Jes Sorensen <jes@sgi.com>
Date:   Mon Feb 13 05:35:01 2006 -0500

    [IA64-SGI] remove compile time warning
    
    This one falls into the "present for Andrew Morton" category to address
    his wishlist for a compiler warning free build ;-)
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d3454344b3507042e5d561d0cfed19e99cf2fc88
Author: Jes Sorensen <jes@sgi.com>
Date:   Mon Feb 13 05:32:09 2006 -0500

    [IA64] remove obsolete corporate address
    
    Remove obsolete SGI address
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8ed9b2c7a804335004e4bd3b4c6989c5b6bc243f
Author: Jes Sorensen <jes@sgi.com>
Date:   Mon Feb 13 05:29:57 2006 -0500

    [IA64-SGI] sn2 minor fixes and cleanups
    
    General SN2 code cleanup:
     - Do not initialize global variables to zero
     - Use kzalloc instead of kmalloc+memset
     - Check kmalloc return values
     - Do not obfuscate spin lock calls
     - Remove some unused code
     - Various formatting cleanups
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 50d8e59038703c4da5acaed9afaa37ae416d3153
Author: Andreas Schwab <schwab@suse.de>
Date:   Sun Feb 12 17:01:35 2006 +0100

    [IA64] Remove duplicate EXPORT_SYMBOLs
    
    Remove symbol exports from ia64_ksyms.c that are already exported in
    lib/string.c.
    
    Signed-off-by: Andreas Schwab <schwab@suse.de>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 5ecfbae093f0c37311e89b29bfc0c9d586eace87
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Wed Feb 15 22:50:10 2006 +0300

    [PATCH] fix zap_thread's ptrace related problems
    
    1. The tracee can go from ptrace_stop() to do_signal_stop()
       after __ptrace_unlink(p).
    
    2. It is unsafe to __ptrace_unlink(p) while p->parent may wait
       for tasklist_lock in ptrace_detach().
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dadac81b1b86196fcc48fb87620403c4a7174f06
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Wed Feb 15 22:13:26 2006 +0300

    [PATCH] fix kill_proc_info() vs fork() theoretical race
    
    copy_process:
    
    	attach_pid(p, PIDTYPE_PID, p->pid);
    	attach_pid(p, PIDTYPE_TGID, p->tgid);
    
    What if kill_proc_info(p->pid) happens in between?
    
    copy_process() holds current->sighand.siglock, so we are safe
    in CLONE_THREAD case, because current->sighand == p->sighand.
    
    Otherwise, p->sighand is unlocked, the new process is already
    visible to the find_task_by_pid(), but have a copy of parent's
    'struct pid' in ->pids[PIDTYPE_TGID].
    
    This means that __group_complete_signal() may hang while doing
    
    	do ... while (next_thread() != p)
    
    We can solve this problem if we reverse these 2 attach_pid()s:
    
    	attach_pid() does wmb()
    
    	group_send_sig_info() calls spin_lock(), which
    	provides a read barrier. // Yes ?
    
    I don't think we can hit this race in practice, but still.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f17da699431ec48540beabc55c54d4b5e66c8e7
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Wed Feb 15 22:13:24 2006 +0300

    [PATCH] fix kill_proc_info() vs CLONE_THREAD race
    
    There is a window after copy_process() unlocks ->sighand.siglock
    and before it adds the new thread to the thread list.
    
    In that window __group_complete_signal(SIGKILL) will not see the
    new thread yet, so this thread will start running while the whole
    thread group was supposed to exit.
    
    I beleive we have another good reason to place attach_pid(PID/TGID)
    under ->sighand.siglock. We can do the same for
    
    	release_task()->__unhash_process()
    
    	de_thread()->switch_exec_pids()
    
    After that we don't need tasklist_lock to iterate over the thread
    list, and we can simplify things, see for example do_sigaction()
    or sys_times().
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7775aa7690c26b3c5606090a43533a7a7429eb91
Merge: 93544cc... 78872cc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 15 08:49:23 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit ba09cf2bcf9b74d852dcb5ea957ac6af2bc0e057
Author: Herbert Poetzl <herbert@13thfloor.at>
Date:   Wed Feb 15 10:13:02 2006 +0000

    [ARM] remove duplicate #includes
    
    Signed-off-by: Herbert Poetzl <herbert@13thfloor.at>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dc7bf130b8552a218e2f3ea0b58268e469f335da
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 15 09:59:47 2006 +0000

    [SERIAL] Fix typo in comment
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a5f1e4edb3cdd90733893b8aec38fac5553db60a
Author: Arthur Othieno <apgo@patchbomb.org>
Date:   Wed Feb 15 09:52:46 2006 +0000

    [SERIAL] Documentation/jsm.txt is a no show.
    
    In kernel bugzilla #5176 (http://bugzilla.kernel.org/show_bug.cgi?id=5176)
    Harry R\374ter <h.rueter@gmx.de> points out Documentation/jsm.txt is missing.
    
    No one at Digi seems to care, so just remove the stale reference.
    
    Signed-off-by: Arthur Othieno <apgo@patchbomb.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 78872ccb68335b14f0d1ac7338ecfcbf1cba1df4
Author: Adrian Drzewiecki <z@drze.net>
Date:   Wed Feb 15 01:47:48 2006 -0800

    [BRIDGE]: Fix deadlock in br_stp_disable_bridge
    
    Looks like somebody forgot to use the _bh spin_lock variant. We ran into a
    deadlock where br->hello_timer expired while br_stp_disable_br() walked
    br->port_list.
    
    Signed-off-by: Adrian Drzewiecki <z@drze.net>
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ee68cea2c26b7a8222f9020f54d22c6067011e8b
Author: Patrick McHardy <kaber@trash.net>
Date:   Wed Feb 15 01:34:23 2006 -0800

    [NETFILTER]: Fix xfrm lookup after SNAT
    
    To find out if a packet needs to be handled by IPsec after SNAT, packets
    are currently rerouted in POST_ROUTING and a new xfrm lookup is done. This
    breaks SNAT of non-unicast packets to non-local addresses because the
    packet is routed as incoming packet and no neighbour entry is bound to the
    dst_entry. In general, it seems to be a bad idea to replace the dst_entry
    after the packet was already sent to the output routine because its state
    might not match what's expected.
    
    This patch changes the xfrm lookup in POST_ROUTING to re-use the original
    dst_entry without routing the packet again. This means no policy routing
    can be used for transport mode transforms (which keep the original route)
    when packets are SNATed to match the policy, but it looks like the best
    we can do for now.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 02860ab6cd2c71dbe42fa70a65a97823c213635b
Author: Arthur Othieno <apgo@patchbomb.org>
Date:   Wed Feb 15 00:49:48 2006 -0500

    Input: kill remnants of 98kbd{,-io} and 98spkr
    
    98kbd{,-io} and 98spkr all went out with PC98 subarch.  Remove stale Makefile
    entries that remained.
    
    Signed-off-by: Arthur Othieno <apgo@patchbomb.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit d93f70b2d758e79ee4ac9d6d982e3f532453911f
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:   Wed Feb 15 00:49:35 2006 -0500

    Input: ads7846 - assorted updates
    
    This updates the ads7846 touchscreen driver:
      - to allow faster clocking (this driver doesn't push sample rates);
      - bugfixes the conversion of spi_transfer to lists;
      - some dma-unsafe command buffers are fixed.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit a90f7e98b7df3309ebc0e389076990456db20989
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Feb 15 00:49:22 2006 -0500

    Input: ads7846 - convert to to dynamic input_dev allocation
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit b8044c74bcd64bd1a9d2e8cec58fdcd40f16f5a4
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Feb 15 00:49:09 2006 -0500

    Input: trackpoint - enable devices connected to external port
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 50f6dde0ad05ee4ee8450feb731b15b716115c4d
Author: Meelis Roos <mroos@linux.ee>
Date:   Wed Feb 15 00:48:58 2006 -0500

    Input: logips2pp - add new signature (99)
    
    Add Logitech mouse type 99 (Premium Optical Wheel Mouse, model M-BT58,
    plain 3 buttons + wheel) to cure the following message: logips2pp: Detected
    unknown logitech mouse model 99
    
    Signed-off-by: Meelis Roos <mroos@linux.ee>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit a09d31ff762a3671f2ae41b3bca50a100c5e4da6
Author: Alessandro Zummo <alessandro.zummo@towertech.it>
Date:   Wed Feb 15 00:48:40 2006 -0500

    Input: ixp4xx-beeper - fix compile error
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 93544cc6486bea12e127ed58ca33477bb6ceafe6
Author: Steve French <smfrench@austin.rr.com>
Date:   Tue Feb 14 22:30:52 2006 -0600

    [PATCH] CIFS: fix cifs_user_read oops when null SMB response on forcedirectio mount
    
    This patch fixes an oops reported by Adrian Bunk in cifs_user_read when a null
    read response is returned on a forcedirectio mount.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10ee39fe3ff618d274e1cd0f6abbc2917b736bfd
Author: Christian Trefzer <ctrefzer@gmx.de>
Date:   Tue Feb 14 13:53:26 2006 -0800

    [PATCH] neofb: avoid resetting display config on unblank
    
    Fix issues with the NeoMagic framebuffer driver.
    
    It nicely complements my previous fix already in linus' tree.  The only
    thing missing now is that the external CRT will not be activated at neofb
    init when external-only is selected, either by register read or
    module/kernel parameter.
    
    Testing was done on a Dell Latitude CPi-A/NM2200 chip.
    
    Previous behaviour:
    - before booting linux, set the preferred display config X via FN+F8
    
    - boot linux, neofb stores the register values in a private
      variable
    
    - change the display config to Y via keystroke
    
    - leave the machine in peace until display is blanked
    
    - touching any key will result in display config X being restored
    
    - booting up, the BIOS will acknowledge config Y, though...
    
    Current behaviour:
    At the time of unblanking, config Y is honoured because we now read back
    register contents instead of just overwriting them with outdated values.
    
    Signed-off by: Christian Trefzer <ctrefzer@gmx.de>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2fbf1ace5cfefdd192f29fd4a027422f567c62d
Author: Thomas Meyer <thomas@m3y3r.de>
Date:   Tue Feb 14 13:53:21 2006 -0800

    [PATCH] x86: gitignore some autogenerated files for i386
    
    Add some more gitignore files for i386 architecture.  This files are
    created during the build process of a i386 kernel.
    
    Signed-off-by: Thomas Meyer <thomas@m3y3r.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 581141cb4b10ebd865dcb7b80f5e712e2def5408
Author: Albert D. Cahalan <acahalan@cs.uml.edu>
Date:   Tue Feb 14 13:53:20 2006 -0800

    [PATCH] x86: document sysenter path
    
    This path isn't obvious.  It looks as if the kernel will be taking three
    args from the user stack, but it only takes one from there.
    
    Signed-off-by: Albert Cahalan <acahalan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28baebae73c3ea8b75c7cae225a7db817ab825a9
Author: David Howells <dhowells@redhat.com>
Date:   Tue Feb 14 13:53:20 2006 -0800

    [PATCH] FRV: Use virtual interrupt disablement
    
    Make the FRV arch use virtual interrupt disablement because accesses to the
    processor status register (PSR) are relatively slow and because we will
    soon have the need to deal with multiple interrupt controls at the same
    time (separate h/w and inter-core interrupts).
    
    The way this is done is to dedicate one of the four integer condition code
    registers (ICC2) to maintaining a virtual interrupt disablement state
    whilst inside the kernel.  This uses the ICC2.Z flag (Zero) to indicate
    whether the interrupts are virtually disabled and the ICC2.C flag (Carry)
    to indicate whether the interrupts are physically disabled.
    
    ICC2.Z is set to indicate interrupts are virtually disabled.  ICC2.C is set
    to indicate interrupts are physically enabled.  Under normal running
    conditions Z==0 and C==1.
    
    Disabling interrupts with local_irq_disable() doesn't then actually
    physically disable interrupts - it merely sets ICC2.Z to 1.  Should an
    interrupt then happen, the exception prologue will note ICC2.Z is set and
    branch out of line using one instruction (an unlikely BEQ).  Here it will
    physically disable interrupts and clear ICC2.C.
    
    When it comes time to enable interrupts (local_irq_enable()), this simply
    clears the ICC2.Z flag and invokes a trap #2 if both Z and C flags are
    clear (the HI integer condition).  This can be done with the TIHI
    conditional trap instruction.
    
    The trap then physically reenables interrupts and sets ICC2.C again.  Upon
    returning the interrupt will be taken as interrupts will then be enabled.
    Note that whilst processing the trap, the whole exceptions system is
    disabled, and so an interrupt can't happen till it returns.
    
    If no pending interrupt had happened, ICC2.C would still be set, the HI
    condition would not be fulfilled, and no trap will happen.
    
    Saving interrupts (local_irq_save) is simply a matter of pulling the ICC2.Z
    flag out of the CCR register, shifting it down and masking it off.  This
    gives a result of 0 if interrupts were enabled and 1 if they weren't.
    
    Restoring interrupts (local_irq_restore) is then a matter of taking the
    saved value mentioned previously and XOR'ing it against 1.  If it was one,
    the result will be zero, and if it was zero the result will be non-zero.
    This result is then used to affect the ICC2.Z flag directly (it is a
    condition code flag after all).  An XOR instruction does not affect the
    Carry flag, and so that bit of state is unchanged.  The two flags can then
    be sampled to see if they're both zero using the trap (TIHI) as for the
    unconditional reenablement (local_irq_enable).
    
    This patch also:
    
     (1) Modifies the debugging stub (break.S) to handle single-stepping crossing
         into the trap #2 handler and into virtually disabled interrupts.
    
     (2) Removes superseded fixup pointers from the second instructions in the trap
         tables (there's no a separate fixup table for this).
    
     (3) Declares the trap #3 vector for use in .org directives in the trap table.
    
     (4) Moves irq_enter() and irq_exit() in do_IRQ() to avoid problems with
         virtual interrupt handling, and removes the duplicate code that has now
         been folded into irq_exit() (softirq and preemption handling).
    
     (5) Tells the compiler in the arch Makefile that ICC2 is now reserved.
    
     (6) Documents the in-kernel ABI, including the virtual interrupts.
    
     (7) Renames the old irq management functions to different names.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68f624fc8b9fa50de9cc0ebd612ef7b7b9fa32d0
Author: David Howells <dhowells@redhat.com>
Date:   Tue Feb 14 13:53:18 2006 -0800

    [PATCH] FRV: Miscellaneous fixes
    
    Make various alterations and fixes to the FRV arch:
    
     (1) Resyncs the FRV system call collection with the i386 arch.
    
     (2) Discards __iounmap() as it's not used.
    
     (3) Fixes the use of the SWAP/SWAPI instruction to get the arguments the right
         way around in atomic.h, and also to get the asm constraints correct.
    
     (4) Moves copy_to/from_user_page() to asm/cacheflush.h to be consistent with
         other archs.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06027bdd278a32a84b273e41db68a5db8ffd2bb6
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Feb 14 13:53:15 2006 -0800

    [PATCH] hrtimer: round up relative start time on low-res arches
    
    CONFIG_TIME_LOW_RES is a temporary way for architectures to signal that
    they simply return xtime in do_gettimeoffset().  In this corner-case we
    want to round up by resolution when starting a relative timer, to avoid
    short timeouts.  This will go away with the GTOD framework.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e35a6619e7be59aa38249346327c89207663bb37
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Tue Feb 14 13:53:14 2006 -0800

    [PATCH] s390: fix __delay implementation
    
    Fix __delay implementation.  Called with an argument "1" or "0" it would
    loop nearly forever (since (1/2)-1 = 0xffffffff).
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a1342f77304da8dc698e0ecf09925438764d80f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Feb 14 13:53:10 2006 -0800

    [PATCH] fix a typo in the CPU_H8300H dependencies
    
    Jean-Luc Leger <reiga@dspnet.fr.eu.org> found this obvious typo.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Yoshinori Sato <ysato@users.sourceforge.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6077cb80cde4506720f9165eba99ee07438513f
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Tue Feb 14 13:53:10 2006 -0800

    [PATCH] sched: revert "filter affine wakeups"
    
    Revert commit d7102e95b7b9c00277562c29aad421d2d521c5f6:
    
        [PATCH] sched: filter affine wakeups
    
    Apparently caused more than 10% performance regression for aim7 benchmark.
    The setup in use is 16-cpu HP rx8620, 64Gb of memory and 12 MSA1000s with 144
    disks.  Each disk is 72Gb with a single ext3 filesystem (courtesy of HP, who
    supplied benchmark results).
    
    The problem is, for aim7, the wake-up pattern is random, but it still needs
    load balancing action in the wake-up path to achieve best performance.  With
    the above commit, lack of load balancing hurts that workload.
    
    However, for workloads like database transaction processing, the requirement
    is exactly opposite.  In the wake up path, best performance is achieved with
    absolutely zero load balancing.  We simply wake up the process on the CPU that
    it was previously run.  Worst performance is obtained when we do load
    balancing at wake up.
    
    There isn't an easy way to auto detect the workload characteristics.  Ingo's
    earlier patch that detects idle CPU and decide whether to load balance or not
    doesn't perform with aim7 either since all CPUs are busy (it causes even
    bigger perf.  regression).
    
    Revert commit d7102e95b7b9c00277562c29aad421d2d521c5f6, which causes more
    than 10% performance regression with aim7.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f822566165dd46ff5de9bf895cfa6c51f53bb0c4
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Feb 14 13:53:08 2006 -0800

    [PATCH] madvise MADV_DONTFORK/MADV_DOFORK
    
    Currently, copy-on-write may change the physical address of a page even if the
    user requested that the page is pinned in memory (either by mlock or by
    get_user_pages).  This happens if the process forks meanwhile, and the parent
    writes to that page.  As a result, the page is orphaned: in case of
    get_user_pages, the application will never see any data hardware DMA's into
    this page after the COW.  In case of mlock'd memory, the parent is not getting
    the realtime/security benefits of mlock.
    
    In particular, this affects the Infiniband modules which do DMA from and into
    user pages all the time.
    
    This patch adds madvise options to control whether memory range is inherited
    across fork.  Useful e.g.  for when hardware is doing DMA from/into these
    pages.  Could also be useful to an application wanting to speed up its forks
    by cutting large areas out of consideration.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8861da31e3b3e3df7b05e7b157230de3d486e53b
Author: Jim Keniston <jkenisto@us.ibm.com>
Date:   Tue Feb 14 13:53:06 2006 -0800

    [PATCH] kprobes: Update Documentation/kprobes.txt
    
    Update Documentation/kprobes.txt to reflect Kprobes enhancements and other
    recent developments.
    
    Acked-by: Ananth Mavinakayanahalli <mananth@in.ibm.com>
    Signed-off-by: Jim Keniston <jkenisto@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 61b9a26ae6d308ade964db122e0e89299586422c
Author: Karsten Keil <kkeil@suse.de>
Date:   Tue Feb 14 13:53:06 2006 -0800

    [PATCH] Fix NULL pointer dereference in isdn_tty_at_cout
    
    The changes in the tty related code introduced wrong parenthesis in a if
    condition in the isdn_tty_at_cout function.  This caused access to index -1
    in the dev->drv[] array.  This patch change it back to the correct
    condition from the previous versions.
    
    Signed-off-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b09fb34513225d87d511c7e8f29c0fd3cf860e0
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Feb 14 13:53:05 2006 -0800

    [PATCH] fix x86 topology export in sysfs for subarchitectures
    
    The correct way to export hyperthreading based functions is to predicate
    them on CONFIG_X86_HT.  Without this, the topology exporting patch breaks
    the build on all non-PC x86 subarchitectures.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ac5f9d1ce8492163dbde5d357dc5d03becf7e36
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Feb 14 13:53:04 2006 -0800

    [PATCH] NLM: Fix the NLM_GRANTED callback checks
    
    If 2 threads attached to the same process are blocking on different locks on
    different files (maybe even on different servers) but have the same lock
    arguments (i.e.  same offset+length - actually quite common, since most
    processes try to lock the entire file) then the first GRANTED call that wakes
    one up will also wake the other.
    
    Currently when the NLM_GRANTED callback comes in, lockd walks the list of
    blocked locks in search of a match to the lock that the NLM server has
    granted.  Although it checks the lock pid, start and end, it fails to check
    the filehandle and the server address.
    
    By checking the filehandle and server IP address, we ensure that this only
    happens if the locks truly are referencing the same file.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c8903f6373f9abecf060bad53ca36bc4ac037f2
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Tue Feb 14 13:53:03 2006 -0800

    [PATCH] jbd: revert checkpoint list changes
    
    This patch reverts commit f93ea411b73594f7d144855fd34278bcf34a9afc:
      [PATCH] jbd: split checkpoint lists
    
    This broke journal_flush() for OCFS2, which is its method of being sure
    that metadata is sent to disk for another node.
    
    And two related commits 8d3c7fce2d20ecc3264c8d8c91ae3beacdeaed1b and
    43c3e6f5abdf6acac9b90c86bf03f995bf7d3d92 with the subjects:
      [PATCH] jbd: log_do_checkpoint fix
      [PATCH] jbd: remove_transaction fix
    
    These seem to be incremental bugfixes on the original patch and as such are
    no longer needed.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Cc: Jan Kara <jack@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit be5efffb762fa4a7b9a7a45ebf34b13e3bf5a2d8
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Feb 14 13:53:02 2006 -0800

    [PATCH] HPET: handle multiple ACPI EXTENDED_IRQ resources
    
    When the _CRS for a single HPET contains multiple EXTENDED_IRQ resources,
    we overwrote hdp->hd_nirqs every time we found one.
    
    So the driver worked when all the IRQs were described in a single
    EXTENDED_IRQ resource, but failed when multiple resources were used.
    (Strictly speaking, I think the latter is actually more correct, but both
    styles have been used.)
    
    Someday we should remove all the ACPI stuff from hpet.c and use PNP driver
    registration instead.  But currently PNP_MAX_IRQ is 2, and HPETs often have
    more IRQs.  Hint, hint, Adam :-)
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Acked-by: Bob Picco <robert.picco@hp.com>
    Cc: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Len Brown <len.brown@intel.com>
    Cc: Adam Belay <ambx1@neo.rr.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit da965822abd18a17d7cffe1d511f48951c82dfb6
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Tue Feb 14 13:53:00 2006 -0800

    [PATCH] tty reference count fix
    
    Fix hole where tty structure can be released when reference count is non
    zero.  Existing code can sleep without tty_sem protection between deciding
    to release the tty structure (setting local variables tty_closing and
    otty_closing) and setting TTY_CLOSING to prevent further opens.  An open
    can occur during this interval causing release_dev() to free the tty
    structure while it is still referenced.
    
    This should fix bugzilla.kernel.org [Bug 6041] New: Unable to handle kernel
    paging request
    
    In Bug 6041, tty_open() oopes on accessing the tty structure it has
    successfully claimed.  Bug was on SMP machine with the same tty being
    opened and closed by multiple processes, and DEBUG_PAGEALLOC enabled.
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Cc: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16bf134840da3920ded1290973c56ec214636f12
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Feb 14 13:52:59 2006 -0800

    [PATCH] compound page: no access_process_vm check
    
    The PageCompound check before access_process_vm's set_page_dirty_lock is no
    longer necessary, so remove it.  But leave the PageCompound checks in
    bio_set_pages_dirty, dio_bio_complete and nfs_free_user_pages: at least some
    of those were introduced as a little optimization on hugetlb pages.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d98c7a09843621f1b145ca5ae8ed03ff04085edb
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Feb 14 13:52:59 2006 -0800

    [PATCH] compound page: default destructor
    
    Somehow I imagined that calling a NULL destructor would free a compound page
    rather than oopsing.  No, we must supply a default destructor, __free_pages_ok
    using the order noted by prep_compound_page.  hugetlb can still replace this
    as before with its own free_huge_page pointer.
    
    The case that needs this is not common: rarely does put_compound_page's
    put_page_testzero bring the count down to 0.  But if get_user_pages is applied
    to some part of a compound page, without immediate release (e.g.  AIO or
    Infiniband), then it's possible for its put_page to come after the containing
    vma has been unmapped and the driver done its free_pages.
    
    That's just the kind of case compound pages are supposed to be guarding
    against (but Nick points out, nor did PageReserved handle this right).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41d78ba55037468e6c86c53e3076d1a74841de39
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Feb 14 13:52:58 2006 -0800

    [PATCH] compound page: use page[1].lru
    
    If a compound page has its own put_page_testzero destructor (the only current
    example is free_huge_page), that is noted in page[1].mapping of the compound
    page.  But that's rather a poor place to keep it: functions which call
    set_page_dirty_lock after get_user_pages (e.g.  Infiniband's
    __ib_umem_release) ought to be checking first, otherwise set_page_dirty is
    liable to crash on what's not the address of a struct address_space.
    
    And now I'm about to make that worse: it turns out that every compound page
    needs a destructor, so we can no longer rely on hugetlb pages going their own
    special way, to avoid further problems of page->mapping reuse.  For example,
    not many people know that: on 50% of i386 -Os builds, the first tail page of a
    compound page purports to be PageAnon (when its destructor has an odd
    address), which surprises page_add_file_rmap.
    
    Keep the compound page destructor in page[1].lru.next instead.  And to free up
    the common pairing of mapping and index, also move compound page order from
    index to lru.prev.  Slab reuses page->lru too: but if we ever need slab to use
    compound pages, it can easily stack its use above this.
    
    (akpm: decoded version of the above: the tail pages of a compound page now
    have ->mapping==NULL, so there's no need for the set_page_dirty[_lock]()
    caller to check that they're not compund pages before doing the dirty).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7277232374680595cdbc774fd246b206f56db015
Author: Peter Osterlund <petero2@telia.com>
Date:   Tue Feb 14 13:52:56 2006 -0800

    [PATCH] pktcdvd: Reduce stack usage
    
    Reduce stack usage in the pkt_start_write() function.  Even though it's not
    currently a real problem, the pages and offsets arrays can be eliminated,
    which saves approximately 1000 bytes of stack space.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 948423e5ccc33bc257384ad4b339214c577bc926
Author: Peter Osterlund <petero2@telia.com>
Date:   Tue Feb 14 13:52:56 2006 -0800

    [PATCH] pktcdvd: Don't unlock the door if the disc is in use
    
    Unlocking the door when the disc is in use is obviously not good, because then
    it's possible to eject the disc at the wrong time and cause severe disc data
    corruption.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01fd9fda2ce462b44bafdac2fe6aacacf23531f2
Author: Peter Osterlund <petero2@telia.com>
Date:   Tue Feb 14 13:52:55 2006 -0800

    [PATCH] pktcdvd: Allow non-writable media to be mounted
    
    If opening for write fails, the open method should return -EROFS.  This makes
    "mount" try again with a read-only mount, instead of just giving up.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 61a34937982cace51853b5dc88f86380e31998c0
Author: Peter Osterlund <petero2@telia.com>
Date:   Tue Feb 14 13:52:54 2006 -0800

    [PATCH] pktcdvd: Don't spam the kernel log when nothing is wrong
    
    Change some messages that don't indicate an error so that they are only
    printed when debugging is enabled.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6b14fa6fdc01ab3519c2729624f808677539b59
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Tue Feb 14 15:01:12 2006 -0800

    [IA64] Count disabled cpus as potential hot-pluggable CPUs
    
    Have a facility to account for potentially hot-pluggable CPUs. ACPI doesnt
    give a determinstic method to find hot-pluggable CPUs. Hence we use 2 methods
    to assist.
    
    - BIOS can mark potentially hot-pluggable CPUs as disabled in the MADT tables.
    - User can specify the number of hot-pluggable CPUs via parameter
      additional_cpus=X
    
    The option is enabled only if ACPI_CONFIG_HOTPLUG_CPU=y which enables the
    physical hotplug option. Without which user can still use logical onlining
    and offlining of CPUs by enabling CONFIG_HOTPLUG_CPU=y
    
    Adds more bits to cpu_possible_map for potentially hot-pluggable cpus.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 69aa234b918c0d9bc4a20cd6d4453aaa3418f457
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Tue Feb 14 15:01:11 2006 -0800

    [IA64] Dont set NR_CPUS for cpu_possible_map when CPU hotplug is enabled.
    
    Do not set cpu_possible_map for NR_CPUS when ACPI_CONFIG_HOTPLUG_CPU is set.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f78cf0dc7b7b13d0550d1e02cf221b65969ff926
Merge: 4cbf876... 7d2babc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 14 13:49:37 2006 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/roland/infiniband

commit 4cbf8767902c578481ff3df366c77d24fe68fd26
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Tue Feb 14 22:40:45 2006 +0900

    [MIPS] Fix typo in _sys32_rt_sigreturn and _sysn32_rt_sigreturn.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9cf8ff96447f995d5ea18ec9f25dc8dae26501a2
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Feb 13 09:15:49 2006 +0000

    [MIPS] Fix CPU type bitmasks for MIPS III, IV and V.
    
    Signed-off-by: Maciej W. Rozycki <macro@linux-mips.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 387a154d0db113690ce85185a003e39e7c87009e
Author: Thomas Koeller <thomas.koeller@baslerweb.com>
Date:   Fri Feb 10 17:36:27 2006 +0100

    [MIPS] RM9000: Fix buggy I-cache workaround.
    
    Signed-off-by: Thomas Koeller  <thomas.koeller@baslerweb.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 74a96d943ac96ce607a841a74ff0f84eeb0c3343
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 10 16:03:47 2006 +0000

    [MIPS] MT: Propagate config7 into VPE.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fdc9bb16d3e16f674e52aa69306df5732d7f951b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 10 14:25:16 2006 +0000

    [MIPS] MT: Fix c0 back-to-back hazard.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fbb6b3a4ac0ccf12a97c98881d9d873d6dc26fe5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 10 14:13:08 2006 +0000

    [MIPS] Get rid of kludgery needed to keep stdargs of old compilers working.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3218357c94af92478ef39163163a81e654385320
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 10 01:31:24 2006 +0000

    [MIPS] More uaccess.h fixes with gcc >= 4.0.1.
    
    From Richard Sandiford <richard@codesourcery.com>:
    
    This patch caused a miscompilation of the restore_gp_regs() block
    in restore_sigcontext().  This was in a 32-bit kernel compiled with
    GCC CVS head.
    
    restore_gp_regs() copies 64-bit user fields into 32-bit variables,
    and in this combination, the new __get_user_asm_ll32() clobbers too
    many registers.  It says:
    
    /*
     * Get a long long 64 using 32 bit registers.
     */
    {									\
    	__asm__ __volatile__(						\
    	"1:	lw	%1, (%3)				\n"	\
    	"2:	lw	%D1, 4(%3)				\n"	\
    	"	move	%0, $0					\n"	\
    	"3:	.section	.fixup,\"ax\"			\n"	\
    	"4:	li	%0, %4					\n"	\
    	"	move	%1, $0					\n"	\
    	"	move	%D1, $0					\n"	\
    	"	j	3b					\n"	\
    	"	.previous					\n"	\
    	"	.section	__ex_table,\"a\"		\n"	\
    	"	" __UA_ADDR "	1b, 4b				\n"	\
    	"	" __UA_ADDR "	2b, 4b				\n"	\
    	"	.previous					\n"	\
    	: "=r" (__gu_err), "=&r" (val)					\
    	: "0" (0), "r" (addr), "i" (-EFAULT));				\
    }
    
    and this requires val (%1) to be a 64-bit value.  In the case I saw,
    gcc was using $3 for the 32-bit val, and wasn't expecting $4 to be
    clobbered.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 41700e73995d6c814932cb55e12525bd34be1ca5
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Fri Feb 10 00:39:06 2006 +0900

    [MIPS] Add protected_blast_icache_range, blast_icache_range, etc.
    
    Add blast_xxx_range(), protected_blast_xxx_range() etc. for common
    use.  They are built by __BUILD_BLAST_CACHE_RANGE().
    Use protected_cache_op() macro for various protected_ routines.
    Output code should be logically same.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 63077519899721120b61d663a68adced068a459d
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Feb 8 01:48:03 2006 +0900

    [MIPS] Rewrite get_wchan and its helper functions using kallsyms_lookup.
    
    Implement get_wchan() and frame_info_init() using kallsyms_lookup().
    This fixes problem with static sched/lock functions and mfinfo[]
    maintenance issue.  If CONFIG_KALLSYMS was disabled, get_wchan() just
    returns thread_saved_pc() value.
    
    Also unwind stackframe based on "addiu sp,-imm" analysis instead of
    frame pointer.  This fixes problem with functions compiled without
    -fomit-frame-pointer.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1bdfd0d9632f0254a4fc01d17c9933ae6107dec4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 9 12:26:35 2006 +0000

    [MIPS] Remove commented out function prom_build_cpu_map.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 359bbd42a5a205234d5943571fc7bf946967ee59
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 9 12:13:28 2006 +0000

    [MIPS] Fold non-__mips64 case into CONFIG_32BIT case.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a3c9dc38313d05e4254c100e86af205cf33e8cd3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 14 19:13:23 2006 +0000

    [MIPS] Update docs to reflect the latest status of the Alchemy IDE driver.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f32ec77b421ee15bf5a42082b60679e997c07993
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 28 13:10:54 2005 +0000

    [MIPS] RM200: Give RM200 it's own timex.h.
    
    So we can get rid of config.h and the #ifdef crapola in the generic
    timex.h.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5552c28f6937d2a2b873d06c6d09b96204722dd0
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Feb 14 17:50:54 2006 +0000

    [PATCH] Fix locking error in esp
    
    Noted by Al Viro.
    
    Also remove unused tmp_buf
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 65110b2168950a19cc78b5027ed18cb811fbdae8
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Feb 14 10:48:46 2006 -0600

    [SCSI] fix wrong context bugs in SCSI
    
    There's a bug in releasing scsi_device where the release function
    actually frees the block queue.  However, the block queue release
    calls flush_work(), which requires process context (the scsi_device
    structure may release from irq context).  Update the release function
    to invoke via the execute_in_process_context() API.
    
    Also clean up the scsi_target structure releasing via this API.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit faead26d7a06605add627f29aee73ba654ce11f9
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Feb 14 10:42:07 2006 -0600

    [PATCH] add scsi_execute_in_process_context() API
    
    We have several points in the SCSI stack (primarily for our device
    functions) where we need to guarantee process context, but (given the
    place where the last reference was released) we cannot guarantee this.
    
    This API gets around the issue by executing the function directly if
    the caller has process context, but scheduling a workqueue to execute
    in process context if the caller doesn't have it.  Unfortunately, it
    requires memory allocation in interrupt context, but it's better than
    what we have previously.  The true solution will require a bit of
    re-engineering, so isn't appropriate for 2.6.16.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 303794400992b907b7cac0d91788603636c7e0fe
Author: Gerald Britton <gbritton@alum.mit.edu>
Date:   Tue Feb 14 10:19:04 2006 -0500

    [PATCH] x86: fix oprofile kernel callgraph regression
    
    Fix x86 oprofile regression introduced by:
      commit c34d1b4d165c67b966bca4aba026443d7ff161eb
      [PATCH] mm: kill check_user_page_readable
    
    That commit reorganized tests for the userspace stack walking moving all
    those tests into dump_backtrace(), however, dump_backtrace() was used for
    both userspace and kernel stalk walking.  The result is typically no
    recorded callgraph information for kernel samples.
    
    Revive the original function as dump_kernel_backtrace() and rename the
    other to dump_user_backtrace() to avoid future confusion.
    
    Signed-off-by: Gerald Britton <gbritton@alum.mit.edu>
    Apology-from: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b739db79a434aec89027a109d85de305e6bdeb93
Merge: 1853996... 41d9c98...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 14 08:22:57 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/i2c-2.6

commit 18539966bc1d663eb232877bb3e9e7dca67e89e6
Merge: 108dff7... 16f05be...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 14 08:21:57 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/usb-2.6

commit 41d9c98fe76298cebc5907bcebfb2db28017a277
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Feb 8 20:38:29 2006 +0100

    [PATCH] i2c: Drop outdated probe/remove code in i2c-isa
    
    Probe and remove methods are now defined at bus level. No more need to
    redefine them at driver level in i2c-isa.
    
    This lets us get rid of these annoying messages:
    Driver 'it87-isa' needs updating - please use bus_type methods
    
    Thanks to Nicolas Mailhot for reporting the problem and testing the fix.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit be79c383254cd3eb50953d8c0a7cacdbf6db31c0
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Feb 7 17:53:32 2006 +0100

    [PATCH] it87: Fix oops on removal
    
    Fix an oops on it87 module removal when no supported hardware was
    found.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a40f0b0f2466483fad94e62177272d6a5711e50a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Feb 5 23:17:34 2006 +0100

    [PATCH] w83627hf: Document the reset module parameter
    
    Document the reset module parameter which was recently added to the
    w83627hf driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c7f5d7edd8b3fa4204389efc4c9081cc90a811d2
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Feb 5 23:13:48 2006 +0100

    [PATCH] w83781d: Use real-time status registers
    
    Use the real-time status registers of the Winbond W83782D, W83783S and
    W83627HF chips, instead of the interrupt status registers. Interrupts
    cannot be trusted at least for voltage inputs, as they are two-times
    triggers (as opposed to comparator mode, which we want.) The w83627hf
    driver was fixed in a similar way some times ago.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e3efa5a7392e07471b5d0ef7e7cd7ab862f70284
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Feb 5 23:11:16 2006 +0100

    [PATCH] vt8231: Fix sysfs temperature interface
    
    The VT8231 low temperature limits are actually hysteresis temperatures
    to the high limits.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Roger Lucas <roger@planbit.co.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 16f05be7be0bf121491d83bd97337fe179b3b323
Author: Phil Dibowitz <phil@ipom.com>
Date:   Mon Feb 13 15:59:42 2006 -0800

    [PATCH] USB: unusual-devs bugfix
    
    The following patch looks good to me. It adds an unusual_devs entry as
    well as fixing an ordering bug. Please apply.
    
    From: Bohdan Linda <bohdan.linda@gmail.com>
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 982db2a127b29c9e1f5896d2ba691e84446cc858
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Feb 13 10:16:04 2006 -0500

    [PATCH] USB: unusual_devs.h entry: iAUDIO M5
    
    Another unusual_devs.h entry (as652).
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d614a4b0d2613d83f7bf0978e213ba29aebc44f
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Feb 13 10:15:22 2006 -0500

    [PATCH] USB: unusual_devs.h entry: TrekStor i.Beat
    
    A new unusual_devs.h entry (as651).
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ba3e93ad3c6e511f68c1b3e46954feff6cdd5a62
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 30 10:19:43 2006 -0500

    [PATCH] usb-storage: unusual_devs entry
    
    Here is a new entry for unusual_devs.h (as630).
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a2149bce2535047371a1309f032f0320b05db791
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Feb 2 09:52:45 2006 -0500

    [PATCH] usb-storage: new unusual_devs entry
    
    This patch (as631) for unusual_devs.h fixes bugzilla entry 5913.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a0c53f1dca10acc93462339cbd0bf24b10d60a13
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Feb 6 12:15:15 2006 -0800

    [PATCH] USB: sl811_cs needs platform_device conversion too
    
    The switchover to "platform_driver" from "device_driver" missed
    one rather essential usage, which broke the sl811_cs driver ...
    this resolves the omission.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c6c27721a42b991965bb792d5c196b8331d008d5
Author: Christian Lindner <christian.lindner@gmx.net>
Date:   Wed Feb 1 14:10:52 2006 +0100

    [PATCH] USB: PL2303: Leadtek 9531 GPS-Mouse
    
    The patch adds the USB ID (0413:2101) for the Leadtek GPS-Mouse 9531 to
    the driver pl2303.
    
    Signed-off-by: Christian Lindner <christian.lindner@gmx.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 343a65cadb3a6a102f08513d9c64eb7e317478f0
Author: Michael Hund <mhund@ld-didactic.de>
Date:   Thu Feb 2 09:37:02 2006 +0100

    [PATCH] USB: change ldusb's experimental state
    
    Signed-off-by: Michael Hund <mhund@ld-didactic.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ba3e66e94b9fb8c2a370a90729e068314845549d
Author: Michael Hund <mhund@ld-didactic.de>
Date:   Thu Feb 2 09:36:43 2006 +0100

    [PATCH] USB: add new device ids to ldusb
    
    Signed-off-by: Michael Hund <mhund@ld-didactic.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a38408cd8d6bc0e5d16e609d4b1fdf9ba2e099ce
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Feb 9 16:35:31 2006 -0500

    [PATCH] USB: fix up the usb early handoff logic for EHCI
    
    Disable some dubious "early" USB handoff code that allegedly works around bugs
    on some systems (we don't know which ones) but rudely breaks some others.
    
    Also make the kernel warnings reporting BIOS handoff problems be more useful,
    reporting the register whose value displays the trouble.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 108dff7d2b721759b5e025ab18024967c1294792
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Mon Feb 13 22:44:22 2006 -0500

    [PATCH] sys_newfstatat -> sys_fstatat64
    
    parisc defines ARCH_WANT_STAT64, so we want to use fstatat64. It does not
    appear that it needs to be ENTRY_COMP, because struct stat64 is the same
    on both 32-bit and 64-bit (unlike on other platforms which did define a
    compat_sys_fstatat64.)
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a110d514a582553e7439e92d92fb062d80b3e21d
Merge: 934a359... 28b2425...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 13 19:40:19 2006 -0800

    Merge branch 'master' of master.kernel.org:/pub/scm/linux/kernel/git/kyle/parisc-2.6

commit 934a3595b30c986bab52bc9c08d12c8962c88c8a
Merge: b4d9eda... 7d5e350...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 13 19:10:43 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/cpufreq

commit b4d9eda028e8becbb5057b554e63eea12e496a88
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Feb 13 16:06:10 2006 -0800

    [NET]: Revert skb_copy_datagram_iovec() recursion elimination.
    
    Revert the following changeset:
    
    bc8dfcb93970ad7139c976356bfc99d7e251deaf
    
    Recursive SKB frag lists are really possible and disallowing
    them breaks things.
    
    Noticed by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 00de651d14baabc5c1d2f32c49d9a984d8891c8e
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Feb 13 16:01:27 2006 -0800

    [IPSEC]: Fix strange IPsec freeze.
    
    Problem discovered and initial patch by Olaf Kirch:
    
    	there's a problem with IPsec that has been bugging some of our users
    	for the last couple of kernel revs. Every now and then, IPsec will
    	freeze the machine completely. This is with openswan user land,
    	and with kernels up to and including 2.6.16-rc2.
    
    	I managed to debug this a little, and what happens is that we end
    	up looping in xfrm_lookup, and never get out. With a bit of debug
    	printks added, I can this happening:
    
    		ip_route_output_flow calls xfrm_lookup
    
    		xfrm_find_bundle returns NULL (apparently we're in the
    			middle of negotiating a new SA or something)
    
    		We therefore call xfrm_tmpl_resolve. This returns EAGAIN
    			We go to sleep, waiting for a policy update.
    			Then we loop back to the top
    
    		Apparently, the dst_orig that was passed into xfrm_lookup
    			has been dropped from the routing table (obsolete=2)
    			This leads to the endless loop, because we now create
    			a new bundle, check the new bundle and find it's stale
    			(stale_bundle -> xfrm_bundle_ok -> dst_check() return 0)
    
    	People have been testing with the patch below, which seems to fix the
    	problem partially. They still see connection hangs however (things
    	only clear up when they start a new ping or new ssh). So the patch
    	is obvsiouly not sufficient, and something else seems to go wrong.
    
    	I'm grateful for any hints you may have...
    
    I suggest that we simply bail out always.  If the dst decides to die
    on us later on, the packet will be dropped anyway.  So there is no
    great urgency to retry here.  Once we have the proper resolution
    queueing, we can then do the retry again.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Acked-by: Olaf Kirch <okir@suse.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6d3e85ecf22a5e3610df47b9c3fb2fc32cfd35bf
Author: Nicolas DICHTEL <nicolas.dichtel@6wind.com>
Date:   Mon Feb 13 15:56:13 2006 -0800

    [IPV6] Don't store dst_entry for RAW socket
    
    Signed-off-by: Nicolas DICHTEL <nicolas.dichtel@6wind.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 72fb630dad170084026bda6728b8d8f21ed48ff1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Feb 13 15:53:41 2006 -0800

    [APPLETALK]: warning fix
    
    drivers/net/appletalk/cops.c: In function `cops_load':
    drivers/net/appletalk/cops.c:539: warning: assignment discards qualifiers from pointer target type
    drivers/net/appletalk/cops.c:547: warning: assignment discards qualifiers from pointer target type
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e200bd8065e4db6297cd8db071a9188cf9aa6b56
Author: Jamal Hadi Salim <hadi@cyberus.ca>
Date:   Mon Feb 13 15:51:24 2006 -0800

    [NETLINK] genetlink: Fix bugs spotted by Andrew Morton.
    
    - panic() doesn't return.
    
    - Don't forget to unlock on genl_register_family() error path
    
    - genl_rcv_msg() is called via pointer so there's no point in declaring it
      `inline'.
    
    Notes:
    
    genl_ctrl_event() ignores the genlmsg_multicast() return value.
    
    lots of things ignore the genl_ctrl_event() return value.
    
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 178a3259f2508e786fb1bd6538365a167cee35c1
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Feb 13 15:43:58 2006 -0800

    [BRIDGE]: Better fix for netfilter missing symbol has_bridge_parent
    
    Horms patch was the best of the three fixes. Dave, already applied
    Harald's version, so this patch converts that to the better one.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a6c1cd572642478528165ac44db4d2daae125a21
Author: Harald Welte <laforge@netfilter.org>
Date:   Mon Feb 13 15:42:48 2006 -0800

    [NETFILTER] Fix Kconfig menu level for x_tables
    
    The new x_tables related Kconfig options appear at the wrong menu level
    without this patch.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 15c38c6ecd772ae4cc497955f916f40e803e7528
Merge: 99e382a... 9225806...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Feb 13 15:40:55 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/holtmann/bluetooth-2.6

commit 99e382afd297d91ab150ae46c28c4585f925818c
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 13 15:38:42 2006 -0800

    [P8023]: Fix tainting of kernel.
    
    Missing license tag.
    I've assumed this is GPL.  (It could also use a MODULE_AUTHOR)
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 77decfc716d460b3f7037bb19bd4eb12cd0dc996
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 13 15:36:21 2006 -0800

    [IPV4] ICMP: Invert default for invalid icmp msgs sysctl
    
    isic can trigger these msgs to be spewed at a very high rate.
    There's already a sysctl to turn them off. Given these messages
    aren't useful for most people, this patch disables them by
    default.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bf3883c12fece9189ab4f7bb6e2690451db1366e
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 13 15:34:58 2006 -0800

    [ATM]: Ratelimit atmsvc failure messages
    
    This seems to be trivial to trigger.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7a11c4d0635d9f6995736390b8c3346fe6f63d57
Author: Joe Perches <joe@perches.com>
Date:   Mon Feb 13 15:34:11 2006 -0800

    [IRDA]: Ratelimit messages.
    
    From: Joe Perches <joe@perches.com>
    
    Based upon a patch by Dave Jones.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7d2babc4874825027848db04d11784070da4456d
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Feb 13 12:19:44 2006 -0800

    IB/mthca: bump driver version and release date
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 75c0141ca2fdae7c332d8f17412fbe0939dd005f
Author: Dave Jones <davej@redhat.com>
Date:   Mon Feb 13 12:46:58 2006 -0500

    [PATCH] Remove "RV370 5B60 [Radeon X300 (PCIE)]" from DRI list
    
    I get a machine check exception, triple fault, or NMI watchdog lockup
    when DRI gets enabled on this card.
    
    (And Mauro Tassinari <mtassinari@cmanet.it> reports hung kernels too in
    http://lkml.org/lkml/2006/1/26/97)
    
    [ Adrian Bunk also states that this is the only RV350 entry for an RV370
      in our lists, which implies that it's just buggy ]
    
    Cc: Adrian Bunk <bunk@stusta.de>
    Cc: Dave Jones <davej@redhat.com>
    Cc: Mauro Tassinari <mtassinari@cmanet.it>
    Cc: Dave Airlie <airlied@linux.ie>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90947ef26fa689a3252aa8282a01f60648e70fdb
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Mon Feb 13 11:12:36 2006 -0500

    [PATCH] reiserfs: fix potential (unlikely) oops in reiserfs_get_acl
    
    This fixes a potential oops if there is an error reported by
    posix_acl_from_disk().  This is mostly theoretical due to the use of
    magics and checksums in xattrs, but is still possible.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 326a625748535c4cdb1c632b1dcb07030989a393
Author: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
Date:   Mon Feb 13 18:07:30 2006 +0900

    [PATCH] MIPS 32bit machines need fstatat64 support.
    
    As noted by Jan Dittmer <jdi@l4x.org>
    
    Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9225806386e398eeba46958a7befa017bda73f58
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Feb 13 11:40:07 2006 +0100

    [Bluetooth] Fix firmware loading problem of BT3C driver
    
    Before the PCMCIA subsystem was fully integrated into the device and
    driver model, the BT3C driver had to workaround this when loading the
    firmware. This workaround is broken and makes the driver oops when
    loading the firmware. This patch removes this workaround and uses now
    the provided device structure from the PCMCIA subsystem.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 7b005bd34c895ebeefd1c62f90a329730b88946b
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Feb 13 11:40:03 2006 +0100

    [Bluetooth] Fix NULL pointer dereferences of the HCI socket
    
    This patch fixes the two NULL pointer dereferences found by the sfuzz
    tool from Ilja van Sprundel. The first one was a call of getsockname()
    for an unbound socket and the second was calling accept() while this
    operation isn't implemented for the HCI socket interface.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 56f3a40a5e7586043260669cc794e56fa58339e1
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Feb 13 11:39:57 2006 +0100

    [Bluetooth] Reduce L2CAP MTU for RFCOMM connections
    
    This patch reduces the default L2CAP MTU for all RFCOMM connections
    from 1024 to 1013 to improve the interoperability with some broken
    RFCOMM implementations. To make this more flexible the L2CAP MTU
    becomes also a module parameter and so it can changed at runtime.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 40ad7a6afc53217ad95b5ae2221e42d7655e057b
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sun Feb 12 23:30:11 2006 -0800

    [SPARC]: sys_newfstatat --> sys_fstatat64
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cf5e40221bc509e13e22dc83c77c0c115eab531f
Author: Dave Jones <davej@redhat.com>
Date:   Sun Feb 12 21:05:32 2006 -0500

    [AGPGART] Improve the error message shown when we detect a ServerWorks CNB20HE
    
    This chipset is unsupported, and likely to remain that way.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit e9bb4c9929a63b23dcc637fae312b36b038bdc61
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 12 16:27:25 2006 -0800

    Linux v2.6.16-rc3

commit 0d541064e8f58858e11cd34d81b6e83617f6eb4a
Author: Andi Kleen <ak@suse.de>
Date:   Sun Feb 12 14:34:59 2006 -0800

    [PATCH] x86_64: GART DMA merging fix
    
    Don't touch the non DMA members in the sg list in dma_map_sg in the IOMMU
    
    Some drivers (in particular ST) ran into problems because they reused the sg
    lists after passing them to pci_map_sg().  The merging procedure in the K8
    GART IOMMU corrupted the state.  This patch changes it to only touch the dma*
    entries during merging, but not the other fields.  Approach suggested by Dave
    Miller.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a65d17c9d27a85782cfe1bbc36c747ffa1f81814
Author: John Blackwood <john.blackwood@ccur.com>
Date:   Sun Feb 12 14:34:58 2006 -0800

    [PATCH] arch/x86_64/kernel/traps.c PTRACE_SINGLESTEP oops
    
    We found a problem with x86_64 kernels with preemption enabled, where
    having multiple tasks doing ptrace singlesteps around the same time will
    cause the system to 'oops'.  The problem seems that a task can get
    preempted out of the do_debug() processing while it is running on the
    DEBUG_STACK stack.  If another task on that same cpu then enters do_debug()
    and uses the same per-cpu DEBUG_STACK stack, the previous preempted tasks's
    stack contents can be corrupted, and the system will oops when the
    preempted task is context switched back in again.
    
    The typical oops looks like the following:
    
      Unable to handle kernel paging request at ffffffffffffffae RIP: <ffffffff805452a1>{thread_return+34}
      PGD 103027 PUD 102429067 PMD 0
      Oops: 0002 [1] PREEMPT SMP
      CPU 0
      Modules linked in:
      Pid: 3786, comm: ssdd Not tainted 2.6.15.2 #1
      RIP: 0010:[<ffffffff805452a1>] <ffffffff805452a1>{thread_return+34}
      RSP: 0018:ffffffff80824058  EFLAGS: 000136c2
      RAX: ffff81017e12cea0 RBX: 0000000000000000 RCX: 00000000c0000100
      RDX: 0000000000000000 RSI: ffff8100f7856e20 RDI: ffff81017e12cea0
      RBP: 0000000000000046 R08: ffff8100f68a6000 R09: 0000000000000000
      R10: 0000000000000000 R11: ffff81017e12cea0 R12: ffff81000c2d53e8
      R13: ffff81017f5b3be8 R14: ffff81000c0036e0 R15: 000001056cbfc899
      FS:  00002aaaaaad9b00(0000) GS:ffffffff80883800(0000) knlGS:0000000000000000
      CS:  0010 DS: 0000 ES: 0000 CR0: 000000008005003b
      CR2: ffffffffffffffae CR3: 00000000f6fcf000 CR4: 00000000000006e0
      Process ssdd (pid: 3786, threadinfo ffff8100f68a6000, task ffff8100f7856e20)
      Stack: ffffffff808240d8 ffffffff8012a84a ffff8100055f6c00 0000000000000020
             0000000000000001 ffff81000c0036e0 ffffffff808240b8 0000000000000000
             0000000000000000 0000000000000000
      Call Trace: <#DB>
    	<ffffffff8012a84a>{try_to_wake_up+985}
    	<ffffffff8012c0d3>{kick_process+87}
            <ffffffff8013b262>{signal_wake_up+48}
    	<ffffffff8013b5ce>{specific_send_sig_info+179}
            <ffffffff80546abc>{_spin_unlock_irqrestore+27}
    	<ffffffff8013b67c>{force_sig_info+159}
            <ffffffff801103a0>{do_debug+289} <ffffffff80110278>{sync_regs+103}
            <ffffffff8010ed9a>{paranoid_userspace+35}
      Unable to handle kernel paging request at 00007fffffb7d000 RIP: <ffffffff8010f2e4>{show_trace+465}
      PGD f6f25067 PUD f6fcc067 PMD f6957067 PTE 0
      Oops: 0000 [2] PREEMPT SMP
    
    This patch disables preemptions for the task upon entry to do_debug(), before
    interrupts are reenabled, and then disables preemption before exiting
    do_debug(), after disabling interrupts.  I've noticed that the task can be
    preempted either at the end of an interrupt, or on the call to
    force_sig_info() on the spin_unlock_irqrestore() processing.  It might be
    better to attempt to code a fix in entry.S around the code that calls
    do_debug().
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f6da52aeff1fd7272ff5082552a39c050565b57
Author: Jesse Allen <the3dfxdude@gmail.com>
Date:   Sun Feb 12 14:34:56 2006 -0800

    [PATCH] orinoco: support smc2532w
    
    The orinoco wireless driver can support the SMC 2532W-B PC Card, so add the
    id for it.
    
    Signed-off-by: Jesse Allen <the3dfxdude@gmail.com>
    Cc: Pavel Roskin <proski@gnu.org>
    Cc: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89edc3d2b429136a0e25f40275fd82dc58f147fd
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Sun Feb 12 14:34:55 2006 -0800

    [PATCH] reiserfs: disable automatic enabling of reiserfs inode attributes
    
    Unfortunately, the reiserfs_attrs_cleared bit in the superblock flag can
    lie.  File systems have been observed with the bit set, yet still contain
    garbage in the stat data field, causing unpredictable results.
    
    This patch backs out the enable-by-default behavior.
    
    It eliminates the changes from: d50a5cd860ce721dbeac6a4f3c6e42abcde68cd8,
    and ef5e5414e7a83eb9b4295bbaba5464410b11e030.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c791925da0e6108cda15e3c2c7bfaebcd9ab9cf
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Feb 12 14:34:53 2006 -0800

    [PATCH] netfilter: fix build error due to missing has_bridge_parent macro
    
    net/bridge/br_netfilter.c: In function `br_nf_post_routing':
    net/bridge/br_netfilter.c:808: warning: implicit declaration of function `has_bridge_parent'
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Cc: Harald Welte <laforge@netfilter.org>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d524c5e200486d55942fcd25b0b6e181f843f837
Merge: 19bf9cb... a7122f9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 12 10:26:57 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/wim/linux-2.6-watchdog

commit 19bf9cbf6b313ae79a0c7278ccaa9c72c86931bd
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sun Feb 12 12:35:03 2006 +0100

    [PATCH] s390: fstatat64 support
    
    Add fstatat64 support to s390 in order to follow changes with
    commit cff2b760096d1e6feaa31948e7af4abbefe47822 .
    Also fixes compilation for 31 bit.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2230eac17486e2ee07091d54d898eb40bcd0fdd
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Sun Feb 12 09:28:19 2006 -0700

    [SCSI] sym2: Mask off opcode from RBC
    
    pm->sg.size is set from the Residual Byte Count register.  However,
    the upper byte of the RBC is the opcode of the instruction that was
    executing, so we need to mask it off.  This fixes some spurious rejects
    of IGNORE WIDE RESIDUE messages.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 61c41823c50302ca6cd455c48a1395f944c61f8f
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Sat Feb 11 01:43:55 2006 +0100

    [SCSI] zfcp: fix: avoid race between fc_remote_port_add and scsi_add_device
    
    Flush workqueue of a scsi host after a remote port for that host
    is registered at the fc transport class. Otherwise immediate
    registration of a scsi device on that host is racy.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ed829ad607a9c334cea490d3a8c0f874153fb42d
Author: Maxim Shchetynin <maxim@de.ibm.com>
Date:   Sat Feb 11 01:42:58 2006 +0100

    [SCSI] zfcp: fix logging during device reset
    
    Avoid access to old fsf_requests if device reset is logged.
    
    Signed-off-by: Maxim Shchetynin <maxim@de.ibm.com>
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2f8f3ed5fc566700cf45d422f4cf1624bd123d93
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Sat Feb 11 01:41:50 2006 +0100

    [SCSI] zfcp: fix adapter erp when link is unplugged
    
    Remove endless polling for replug of the local link. Just wait for
    link up notification.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c8024eb549f0c701e6d1c46c32e997f06f05d76d
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Sat Feb 11 01:40:11 2006 +0100

    [SCSI] zfcp: get rid of physical_wwpn and physical_s_id
    
    Remove all remainders of obsolete zfcp adapter attributes physical_wwpn and
    physical_s_id.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3542adcb354fea4fca792d36b91cb44d0da147e5
Author: Ju, Seokmann <Seokmann.Ju@lsil.com>
Date:   Thu Feb 9 12:32:59 2006 -0700

    [SCSI] megaraid_legacy: kobject_register failure
    
    Attached patch fixes problem that cause kobject_register failure
    during loading.  Kobject_register would fail when there are more than
    1 module with same module name.  This patch will change module name of
    megaraid_legacy from 'megaraid' to 'megaraid_legacy'.
    
    Signed-Off-by: Seokmann Ju <seokmann.ju@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4733804c9f62fbc17ba69e8654a5fdf465f5bc41
Author: Brian King <brking@us.ibm.com>
Date:   Wed Feb 8 20:57:42 2006 -0600

    [SCSI] ipr: Fix adapter initialization failure
    
    Since scsi core is always sending scatterlists now, remove
    some code which was written with the bad assumption that
    a small transfer would not be sent down in a scatterlist.
    Without this fix, the ipr driver ends up sending garbage
    data to the adapter following a reset, causing it to
    fail the reset and take the adapter offline.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a7122f916978a6cd58b765949cb315aabcddf151
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Jan 9 22:07:22 2006 +0100

    [WATCHDOG] pcwd.c - update module version info
    
    Update the module version defines.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit af3b38d99d7d52340cf59a06ff90d90e0fa25b6d
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Jan 9 22:03:41 2006 +0100

    [WATCHDOG] pcwd.c show card info patch
    
    Put all code for showing the card's boot info in
    one sub-routine.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 85875211acc94ecb76fe04fbebc6aca12b6da60d
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Jan 9 21:59:39 2006 +0100

    [WATCHDOG] pcwd.c move get_support to pcwd_check_temperature_support
    
    Rename get_support function to pcwd_check_temperature_support
    so that it is clearer what the function does.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 8f0235dccc3f7bffc32abcef2aec3d1b15c61927
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Jan 9 21:56:09 2006 +0100

    [WATCHDOG] pcwd.c Control Status #2 patch
    
    Add Control Status #2 bits (with defines)
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit a2be8786006ec0d21dcb1d322fc480b85ea82c66
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Jan 9 21:53:33 2006 +0100

    [WATCHDOG] pcwd.c private data struct patch
    
    more private data of the card to one struct.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit f1c3a0567aa5086e755e58385740f9ece911c06e
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Dec 10 14:36:24 2005 +0100

    [WATCHDOG] pcwd.c card_found-- fix.
    
    When doing a __devexit from a card we should also
    decrement the cards_found counter.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit fd41fa616f21efc36eb80696475ceb33ea047a6a
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Dec 10 14:22:37 2005 +0100

    [WATCHDOG] pcwd.c add comments + tabs
    
    add extra comments for the include files
    changes spaces by tabs where it is appropriate.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 3a69e5791379a7c7d23c531a7679428300bb5072
Author: Ian Campbell <icampbell@arcom.com>
Date:   Mon Nov 7 10:21:24 2005 +0000

    [WATCHDOG] sa1100_wdt.c sparse clean (2)
    
    The following makes drivers/char/watchdog/sa1100_wdt.c sparse clean.
    (similar to the other watchdog drivers)
    
    Signed-off-by: Ian Campbell <icampbell@arcom.com>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit bc6d7fdf460ec5292d66bb551dbfa49ca682bebf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Feb 11 17:56:08 2006 -0800

    [PATCH] fbdev: video_setup() warning fix
    
    drivers/video/fbmem.c:1567: warning: 'video_setup' defined but not used
    
    Acked-by: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc7fc0601b3eb2254f080492f3fd69e319ed32d0
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Feb 11 17:56:07 2006 -0800

    [PATCH] nvidiafb: Add support for Geforce4 MX 4000
    
    Add support for Geforce4 MX 4000 (0x185)
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 891e5e5edaf13216f9f4c2710aebd066b1d98583
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Feb 11 17:56:05 2006 -0800

    [PATCH] drivers/video/Kconfig: remove unused BUS_I2C option
    
    The BUS_I2C option is neither available (since there is no VISWS option in
    the kernel) nor does it have any effect - so why not remove it?
    
    Based on a report by Jean-Luc Leger <reiga@dspnet.fr.eu.org>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d30883942cfe8a1e3f88f8b7f4c292aeba3db5a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Feb 11 17:56:05 2006 -0800

    [PATCH] tipar fixes
    
    - tipar_open(): fix unsigned comparison
    
    - tipar_open(): don't permit NULL pardevice (probably unneeded given the
      above fix).
    
    - tipar_init_module(): handle the situation where parport_register_driver()
      failed to register any devices (parport_register_driver() drops the ->attach
      return value on the floor).
    
      This probably makes fixes #1 and #2 unneeded.
    
    - tipar_init_module(): fix various error-path resource leaks.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ef1bea9e2a5a72d2c3362522e0a09099406732ff
Author: Eric Paris <eparis@redhat.com>
Date:   Sat Feb 11 17:56:04 2006 -0800

    [PATCH] s390: remove one set of brackets in __constant_test_bit()
    
    Right now in __constant_test_bit for the s390 there is an extra set of ()
    surrounding the calculation.  This patch simply removes one set of () that is
    surrounding the whole clause.
    
    Signed-off-by: Eric Paris <eparis@redhat.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0defa3c19e7792001df09d6fa5ab461d3599ff6d
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:56:03 2006 -0800

    [PATCH] s390: add #ifdef __KERNEL__ to asm-s390/setup.h
    
    Based on a patch from Maximilian Attems <maks@sternwelten.at> .  Nothing in
    asm-s390/setup.h is of interest for user space.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e7684277f6882a23cfb734cb7450c3a469e6e8b1
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:56:02 2006 -0800

    [PATCH] s390: add support for unshare system call
    
    Add support for unshare system call.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a386fba2516b5404864647906219ced57bf2f2b7
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:56:01 2006 -0800

    [PATCH] s390: fix non smp build of kexec
    
    Add missing smp_cpu_not_running define to avoid build warnings in the non smp
    case.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5238da45f345898a8bfcd14e53b0431fcee36a04
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:56:01 2006 -0800

    [PATCH] s390: update maintainers file
    
    Update URL for s390 and add maintainers for s390 networking and zfcp driver.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9733e2407ad2237867cb13c04e7d619397fa3090
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:56:00 2006 -0800

    [PATCH] s390: earlier initialization of cpu_possible_map
    
    Initiliazing of cpu_possible_map was done in smp_prepare_cpus which is way too
    late.  Therefore assign a static value to cpu_possible_map, since we don't
    have access to max_cpus in setup_arch.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 25fab9ebac445d57b656f5faabac5a195bed2f82
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Sat Feb 11 17:55:59 2006 -0800

    [PATCH] s390: fix sclp memory corruption in tty pages list
    
    When the sclp interface takes very long to serve a request, the sclp core
    driver will report a failed request to the sclp tty driver even though the
    request is still being processed by the sclp interface.  Eventually the sclp
    interface completes the request and updates some fields in the request buffer
    which leads to a corrupted tty pages list.  The next time function
    sclp_tty_write_room is called, the corrupted list will be traversed, resulting
    in an oops.
    
    To avoid this remove the busy retry limit and increase retry intervals.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6f3601a7275216c48c2635f46b388d970901bb9
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Feb 11 17:55:58 2006 -0800

    [PATCH] s390: update default configuration
    
    Switch on CONFIG_DEBUG_FS again.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c48d865c50e8626372a52094385fb1f5a2d2a7fd
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Sat Feb 11 17:55:57 2006 -0800

    [PATCH] s390: fix locking in __chp_add() and s390_subchannel_remove_chpid()
    
    Fix locking in __chp_add() and s390_subchannel_remove_chpid(): Need to
    disable/enable because they are always called from a thread (and not
    directly from a machine check...)
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0cdf1935cf328730fa068e0f39a22e6149555aa
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Feb 11 17:55:56 2006 -0800

    [PATCH] x86: print out early faults via early_printk()
    
    Lost a few hours debugging an early-bootup fault within printk itself,
    which manifested itself as a hard to debug early hang.
    
    This patch makes it much easier by printing out early faults via
    early_printk(), which function is a lot simpler than a full printk, and
    hence more likely to succeed in emergencies.  (We do not recover from early
    faults anyway, so there's no loss from not having these messages in the
    normal printk buffer.)
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2903fb1694dcb08a3c1d9d823cfae7ba30e66cd3
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Feb 11 17:55:55 2006 -0800

    [PATCH] vmscan: skip reclaim_mapped determination if we do not swap
    
    This puts the variables and the way to get to reclaim_mapped in one block.
    And allows zone_reclaim or other things to skip the determination (maybe
    this whole block of code does not belong into refill_inactive_zone()?)
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 072eaa5d9cc3e63f567ffd9ad87b36194fdd8010
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Feb 11 17:55:54 2006 -0800

    [PATCH] vmscan: remove duplicate increment of reclaim_in_progress
    
    shrink_zone() already increments reclaim_in_progress.  No need to do it in
    balance_pgdat.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80e4342601abfafacb5f20571e40b56d73d10819
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Feb 11 17:55:53 2006 -0800

    [PATCH] zone reclaim: do not check references to a page during zone reclaim
    
    shrink_list() and refill_inactive() check all ptes pointing to a page for
    reference bits in order to decide if the page should be put on the active
    list.  This is not necessary for zone_reclaim since we are only interested
    in removing unmapped pages.  Skip the checks in both functions.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 643a654540579b0dcc7a206a4a7475276a41aff0
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Feb 11 17:55:52 2006 -0800

    [PATCH] select: fix returned timeval
    
    With David Woodhouse <dwmw2@infradead.org>
    
    select() presently has a habit of increasing the value of the user's
    `timeout' argument on return.
    
    We were writing back a timeout larger than the original.  We _deliberately_
    round up, since we know we must wait at _least_ as long as the caller asks
    us to.
    
    The patch adds a couple of helper functions for magnitude comparison of
    timespecs and of timevals, and uses them to prevent the various poll and
    select functions from returning a timeout which is larger than the one which
    was passed in.
    
    The patch also fixes a bug in compat_sys_pselect7(): it was adding the new
    timeout value to the old one and was returning that.  It should just return
    the new timeout value.
    
    (We have various handy timespec/timeval-to-from-nsec conversion functions in
    time.h.  But this code open-codes it all).
    
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Ulrich Drepper <drepper@redhat.com>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: george anzinger <george@mvista.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33042a9ff4d126ba944b9dc3076665a2029e0a34
Author: Chris McDermott <lcm@us.ibm.com>
Date:   Sat Feb 11 17:55:50 2006 -0800

    [PATCH] x86-64: Fix HPET timer on x460
    
    [description from AK]
    
    The IBM Summit 3 chipset doesn't implement the HPET timer replacement
    option.  Since the current Linux code relies on it use a mixed mode with
    both PIT for the interrupt and HPET counters for the time keeping.  That
    was already implemented, but didn't work properly because it was still
    using the last interrupt offset in HPET.  This resulted in x460 not
    booting.  Fix this up by using the free running HPET counter.
    
    Shouldn't affect any other machine because they either use full HPET mode
    or no HPET at all.
    
    TBD needs a similar 32bit fix.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Cc: Pallipadi, Venkatesh" <venkatesh.pallipadi@intel.com>
    Cc: Bob Picco <bob.picco@hp.com>
    Cc: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e00d82d07fb112446586d225763d3572e64b7abf
Author: Matt Waddel <Matt.Waddel@freescale.com>
Date:   Sat Feb 11 17:55:48 2006 -0800

    [PATCH] Add wording to m68k .S files to help clarify license info
    
    Acked-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Matt Waddel <Matt.Waddel@freescale.com>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cff2b760096d1e6feaa31948e7af4abbefe47822
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Sat Feb 11 17:55:47 2006 -0800

    [PATCH] fstatat64 support
    
    The *at patches introduced fstatat and, due to inusfficient research, I
    used the newfstat functions generally as the guideline.  The result is that
    on 32-bit platforms we don't have all the information needed to implement
    fstatat64.
    
    This patch modifies the code to pass up 64-bit information if
    __ARCH_WANT_STAT64 is defined.  I renamed the syscall entry point to make
    this clear.  Other archs will continue to use the existing code.  On x86-64
    the compat code is implemented using a new sys32_ function.  this is what
    is done for the other stat syscalls as well.
    
    This patch might break some other archs (those which define
    __ARCH_WANT_STAT64 and which already wired up the syscall).  Yet others
    might need changes to accomodate the compatibility mode.  I really don't
    want to do that work because all this stat handling is a mess (more so in
    glibc, but the kernel is also affected).  It should be done by the arch
    maintainers.  I'll provide some stand-alone test shortly.  Those who are
    eager could compile glibc and run 'make check' (no installation needed).
    
    The patch below has been tested on x86 and x86-64.
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20b83382d1c5d4d1a73fc5671261db5239d1dbb3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sat Feb 11 12:22:12 2006 -0800

    IPoIB: Yet another fix for send-only joins
    
    Even after the last fix, it's still possible for a send-only join to
    start before the join for the broadcast group has finished.  This
    could cause us to create a multicast group using attributes from the
    broadcast group that haven't been initialized yet, so we would use
    garbage for the Q_Key, etc.  Fix this by waiting until the broadcast
    group's attached flag is set before starting send-only joins.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit f295c79b6766b25fe8c1aad88211c54d1caa7e0b
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Feb 10 18:02:44 2006 -0800

    IB/mthca: Don't print debugging info until we have all values
    
    When debugging is enabled, the mthca_QUERY_DEV_LIM() firmware command
    function prints out some of the device limits that it queries.
    However the debugging prints happen before all of the fields are
    extracted from the firmware response, so some of the values that get
    printed are uninitialized junk.  Move the prints to the end of the
    function to fix this.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 25bf368b3d98668c5d5f38e2201d8bca16e52680
Merge: 0825c5d... fd401ae...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 10 14:53:51 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 0825c5d0f717816916f0e5ef9d89be51b3c52786
Merge: d6c662d... e198168...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 10 14:53:25 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit d6c662d4f13801fe5ce24e8bbdea321e2572d7e5
Merge: 21b4da7... 00adbf6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 10 14:52:31 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit e19816808346cc1619733532a267a11dce8f8a12
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Feb 10 22:40:51 2006 +0000

    [ARM] 3326/1: H1940 - Control latches
    
    Patch from Ben Dooks
    
    Define the bits for the two board control latches
    that control various items on the H1940 iPAQ.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Arnaud Patard <arnaud.patard@rtp-net.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fd401aee6273e869e2711de498e28f5208184797
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Feb 10 21:50:43 2006 +0000

    [SERIAL] Remove incorrect code from ioc4 serial driver
    
    Serial drivers in general should not write uart_info->flags - they're
    private to serial_core.  Serial drivers have no need to fiddle with
    tty->alt_speed, nor manipulate TTY_IO_ERROR in tty->flags.  Fix the
    ioc4 serial driver for both these points by simply removing the
    offending code.
    
    Acked-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 21b4da78c941f292f6daf87abb562d6285216e51
Author: Dave Jones <davej@redhat.com>
Date:   Fri Feb 10 16:27:11 2006 -0500

    [PATCH] Fix s390 build failure.
    
    arch/s390/kernel/compat_signal.c:199: error: conflicting types for 'do_sigaction'
    include/linux/sched.h:1115: error: previous declaration of 'do_sigaction' was here
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1311c24fad3b2acad5c6545d2107c226774f02e8
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 10 11:56:30 2006 +0100

    [AGPGART] help text updates
    
    This patch contains help text updates including the following:
    - XFree86 * -> X
    - there is no need for repeating part of the help text of the AGP
      option and having "If unsure, say Y/N." in the chip specific
      options.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 418aade459f03318defd18ef0b11981a63bd81b0
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Feb 10 01:51:15 2006 -0800

    [PATCH] Updates for page migration
    
    This adds some additional comments in order to help others figure out how
    exactly the code works.  And fix a variable name.
    
    Also swap_page does need to ignore all reference bits when unmapping a
    page.  Otherwise we may have to repeatedly unmap a frequently touched page.
    So change the try_to_unmap parameter to 1.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8977d929e49021d9a6e031310aab01fa72f849c2
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Fri Feb 10 01:51:14 2006 -0800

    [PATCH] tty buffering stall fix
    
    Prevent stalled processing of received data when a driver allocates tty
    buffer space but does not immediately follow the allocation with more data
    and a call to schedule receive tty processing.  (example: hvc_console) This
    bug was introduced by the first locking patch for the new tty buffering.
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0188f47482efdbd2e005103bb4f0224a835dfad
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Fri Feb 10 01:51:13 2006 -0800

    [PATCH] slab: Avoid deadlock at kmem_cache_create/kmem_cache_destroy
    
    Prevents deadlock situation between
    kmem_cache_create()/kmem_cache_destory(), and kmem_cache_create() /cpu
    hotplug.  The locking order probably got moved over time.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e36709d8cea48a4d341294ce2b46678a2e77159
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Fri Feb 10 01:51:12 2006 -0800

    [PATCH] shmdt cannot detach not-alined shm segment cleanly.
    
    sys_shmdt() can manage shm segments which are covered by multiple vmas.  (This
    can happen when a user uses mprotect() after shmat().)
    
    This works well if shm is aligned to PAGE_SIZE, but if not, the last
    segment cannot be detached.  It is because a comparison in sys_shmdt()
    
    	(vma->vm_end - addr) < size
    		addr == return address of shmat()
    		size == shmsize, argments to shmget()
    
    size should be aligned to PAGE_SIZE before being compared with vma->vm_end,
    which is aligned.
    
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c22db9412736204b25aeba19d18e5ea922f7d632
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Feb 10 01:51:11 2006 -0800

    [PATCH] prevent recursive panic from softlockup watchdog
    
    When panic_timeout is zero, suppress triggering a nested panic due to soft
    lockup detection.
    
    Signed-off-by: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a8ef1cb774e5438d292365626f9b96616283706
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 10 01:51:08 2006 -0800

    [PATCH] x86: don't initialise cpu_possible_map to all ones
    
    Initialising cpu_possible_map to all-ones with CONFIG_HOTPLUG_CPU means that
    
    a) All for_each_cpu() loops will iterate across all NR_CPUS CPUs, rather
       than over possible ones.  That can be quite expensive.
    
    b) Soon we'll be allocating per-cpu areas only for possible CPUs.  So with
       CPU_MASK_ALL, we'll be wasting memory.
    
    I also switched voyager over to not use CPU_MASK_ALL in the non-CPU-hotplug
    case.  Should be OK..
    
    I note that parisc is also using CPU_MASK_ALL.  Suggest that it stop doing
    that.
    
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Cc: Kyle McMartin <kyle@mcmartin.ca>
    Cc: Paul Jackson <pj@sgi.com>
    Cc: Ashok Raj <ashok.raj@intel.com>
    Cc: Zwane Mwaikambo <zwane@linuxpower.ca>
    Cc: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 705672935f8a9e661264e34cd8c409e8cddcc7db
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Fri Feb 10 01:51:07 2006 -0800

    [PATCH] Fix building external modules on ppc32
    
    We are setting up sources for building external modules like this:
    
      /usr/src/linux-obj> # create a .config file
      /usr/src/linux-obj> make -C /usr/src/linux O=$PWD oldconfig
      /usr/src/linux-obj> make -C /usr/src/linux O=$PWD prepare
      /usr/src/linux-obj> make -C /usr/src/linux O=$PWD scripts
      /usr/src/linux-obj> make -C /usr/src/linux O=$PWD clean
    
    After that, external modules can be built with:
    
      /usr/src/module> make -C /usr/src/linux-obj M=$PWD
    
    This fails for ppc32 because the `make clean' removes the
    arch/powerpc/include directory.  This should be done in archmrproper
    instead of in archclean.
    
    Signed-off-by: Andreas Gruenbacher <agruen@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 02df360bf38ca2acb78ddee9fd28262e9474153c
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 10 01:51:06 2006 -0800

    [PATCH] remove bogus comment from init/main.c
    
    Remove bogus comment from init function which could lead to the assumption
    that cpu_possible_map is setup in smp_prepare_cpus().
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c15e852a524d55ab768cf48c97f5c684f876af2
Author: Haren Myneni <haren@us.ibm.com>
Date:   Fri Feb 10 01:51:05 2006 -0800

    [PATCH] kexec: fix in free initrd when overlapped with crashkernel region
    
    It is possible that the reserved crashkernel region can be overlapped with
    initrd since the bootloader sets the initrd location.  When the initrd
    region is freed, the second kernel memory will not be contiguous.  The
    Kexec_load can cause an oops since there is no contiguous memory to write
    the second kernel or this memory could be used in the first kernel itself
    and may not be part of the dump.  For example, on powerpc, the initrd is
    located at 36MB and the crashkernel starts at 32MB.  The kexec_load caused
    panic since writing into non-allocated memory (after 36MB).  We could see
    the similar issue even on other archs.
    
    One possibility is to move the initrd outside of crashkernel region.  But,
    the initrd region will be freed anyway before the system is up.  This patch
    fixes this issue and frees only regions that are not part of crashkernel
    memory in case overlaps.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Acked-by: "Eric W. Biederman" <ebiederm@xmission.com>
    Cc: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit afcd024183d8a6eae7e489ce50b2485c5ae4f662
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Fri Feb 10 01:51:03 2006 -0800

    [PATCH] wrong firmware location in IPW2100 Kconfig entry
    
    Firmware should go into /lib/firmware, not /etc/firmware.
    
    Found by Alejandro Bonilla.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a2000572ad511f5f43091ed7bd2cc3b913104a1e
Author: Nick Piggin <npiggin@suse.de>
Date:   Fri Feb 10 01:51:02 2006 -0800

    [PATCH] sched: remove smpnice
    
    I don't think the code is quite ready, which is why I asked for Peter's
    additions to also be merged before I acked it (although it turned out that
    it still isn't quite ready with his additions either).
    
    Basically I have had similar observations to Suresh in that it does not
    play nicely with the rest of the balancing infrastructure (and raised
    similar concerns in my review).
    
    The samples (group of 4) I got for "maximum recorded imbalance" on a 2x2
    SMP+HT Xeon are as follows:
    
                | Following boot | hackbench 20        | hackbench 40
     -----------+----------------+---------------------+---------------------
     2.6.16-rc2 | 30,37,100,112  | 5600,5530,6020,6090 | 6390,7090,8760,8470
     +nosmpnice |  3, 2,  4,  2  |   28, 150, 294, 132 |  348, 348, 294, 347
    
    Hackbench raw performance is down around 15% with smpnice (but that in
    itself isn't a huge deal because it is just a benchmark).  However, the
    samples show that the imbalance passed into move_tasks is increased by
    about a factor of 10-30.  I think this would also go some way to explaining
    latency blips turning up in the balancing code (though I haven't actually
    measured that).
    
    We'll probably have to revert this in the SUSE kernel.
    
    Cc: "Suresh Siddha" <suresh.b.siddha@intel.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Peter Williams <pwil3058@bigpond.net.au>
    Cc: "Martin J. Bligh" <mbligh@aracnet.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b0955a6edb9b058ca1314ca210a92ee166c4d9a
Merge: 5bc159e... bab1dee...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 10 08:09:41 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 00adbf62bd16f6527e046b422349a54d783a3d86
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Mon Jan 16 10:53:22 2006 -0600

    [PATCH] powerpc: Add CONFIG_DEFAULT_UIMAGE for embedded boards
    
    Embedded boards that u-boot require a kernel image in the uImage format.
    This allows a given board to specify it wants a uImage built by default.
    
    This also fixes a warning at config time, as this symbol is referred
    to in arch/powerpc/platforms/83xx/Kconfig.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ad71f123a9e9b809f6c829db1222ce0423a1153c
Author: Becky Bruce <bgill@freescale.com>
Date:   Tue Feb 7 13:44:08 2006 -0600

    [PATCH] powerpc: Add FSL USB node to documentation
    
    Updated the documentation to include the definition of the USB device
    node format for Freescale SOC devices.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b37ce281d729181b9862c4e3e112f9b5eea74ac9
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:59:11 2006 -0800

    [PATCH] powerpc: unshare system call registration
    
    Registers system call for the powerpc architecture.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8568daa49063fd84b52b9e22b4e2422417b4d483
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Feb 10 16:02:20 2006 +1100

    ppc: Use the system call table from arch/powerpc/kernel/systbl.S
    
    With this, new system calls only have to be wired up in one place
    for ARCH=ppc and ARCH=powerpc, rather than 2.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bab1deea308afcf9200837d6ac20aefe92972efb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 9 17:10:12 2006 -0800

    [BRIDGE]: fix error handling for add interface to bridge
    
    Refactor how the bridge code interacts with kobject system.
    It should still use kobjects even if not using sysfs.
    Fix the error unwind handling in br_add_if.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5dce971acf2ae20c80d5e9d1f6bbf17376870911
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 9 17:09:38 2006 -0800

    [BRIDGE]: netfilter handle RCU during removal
    
    Bridge netfilter code needs to handle the case where device is
    removed from bridge while packet in process. In these cases the
    bridge_parent can become null while processing.
    
    This should fix: http://bugzilla.kernel.org/show_bug.cgi?id=5803
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b3f1be4b5412e34647764457bec901e06b03e624
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 9 17:08:52 2006 -0800

    [BRIDGE]: fix for RCU and deadlock on device removal
    
    Change Bridge receive path to correctly handle RCU removal of device
    from bridge.  Also fixes deadlock between carrier_check and del_nbp.
    This replaces the previous deleted flag fix.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5bc159e6cb7ca8d173195919ee935885c129011e
Merge: ad91e6f... 65b7872...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 9 17:08:09 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 6fcf9412de64056238a6295f21db7aa9c37a532e
Author: John Heffner <jheffner@psc.edu>
Date:   Thu Feb 9 17:06:57 2006 -0800

    [TCP]: rcvbuf lock when tcp_moderate_rcvbuf enabled
    
    The rcvbuf lock should probably be honored here.
    
    Signed-off-by: John Heffner <jheffner@psc.edu>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 80ba250e59ced808a8c9b79560938bbe4509c0a7
Author: David Binderman <dcb314@hotmail.com>
Date:   Thu Feb 9 16:59:48 2006 -0800

    [IRDA]: out of range array access
    
    This patch fixes an out of range array access in irnet_irda.c.
    
    Author: David Binderman <dcb314@hotmail.com>
    Signed-off-by: Samuel Ortiz <samuel.ortiz@nokia.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d93077fb0e7cb9d4f4094a649501d840c55fdc8b
Author: Samuel Ortiz <samuel.ortiz@nokia.com>
Date:   Thu Feb 9 16:58:46 2006 -0800

    [IRDA]: Set proper IrLAP device address length
    
    This patch set IrDA's addr_len properly, i.e to 4 bytes, the size of the
    IrLAP device address.
    
    Signed-off-by: Samuel Ortiz <samuel.ortiz@nokia.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 28633514afd68afa77ed2fa34fa53626837bf2d5
Author: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
Date:   Thu Feb 9 16:40:58 2006 -0800

    [NETLINK]: illegal use of pid in rtnetlink
    
    When a netlink message is not related to a netlink socket,
    it is issued by kernel socket with pid 0. Netlink "pid" has nothing
    to do with current->pid. I called it incorrectly, if it was named "port",
    the confusion would be avoided.
    
    Signed-off-by: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a70ea994a0d83fd0151a070be72b87d014ef0a7e
Author: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
Date:   Thu Feb 9 16:40:11 2006 -0800

    [NETLINK]: Fix a severe bug
    
    netlink overrun was broken while improvement of netlink.
    Destination socket is used in the place where it was meant to be source socket,
    so that now overrun is never sent to user netlink sockets, when it should be,
    and it even can be set on kernel socket, which results in complete deadlock
    of rtnetlink.
    
    Suggested fix is to restore status quo passing source socket as additional
    argument to netlink_attachskb().
    
    A little explanation: overrun is set on a socket, when it failed
    to receive some message and sender of this messages does not or even
    have no way to handle this error. This happens in two cases:
    1. when kernel sends something. Kernel never retransmits and cannot
       wait for buffer space.
    2. when user sends a broadcast and the message was not delivered
       to some recipients.
    
    Signed-off-by: Alexey Kuznetsov <kuznet@ms2.inr.ac.ru>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ad91e6fa0d331e419e4692d146cdc04e594a5bea
Merge: b481b4e... 642fe30...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 9 16:19:06 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit b481b4ecf5205f8e73e8f618085dbe3e070e9e31
Merge: 9ac95f2... 9caafa6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 9 16:18:19 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 9ac95f2f90e022c16d293d7978faddf7e779a1a9
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Thu Feb 9 22:41:50 2006 +0300

    [PATCH] do_sigaction: cleanup ->sa_mask manipulation
    
    Clear unblockable signals beforehand.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c70d3d703ad94727dab2a3664aeee33d71e00715
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Thu Feb 9 22:41:41 2006 +0300

    [PATCH] sys_signal: initialize ->sa_mask
    
    Pointed out by Linus Torvalds.
    
    sys_signal() forgets to initialize ->sa_mask.
    
    ( I suspect arch/ia64/ia32/ia32_signal.c:sys32_signal()
      also needs this fix )
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 642fe301c3fbfe5e328a7a597c4dca41790edbbb
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Thu Feb 9 15:09:15 2006 -0800

    [SPARC64]: Fix sys_newfstatat syscall table entry for 64-bit.
    
    The sparc64 64 bit syscall table seems to be broken as it has
    compat_sys_newfstatat in its syscall table instead of sys_newfstatat.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 65b78722ce2a2dc76108b467f79b2c5b4864af82
Merge: a947464... 9621a4e...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Feb 9 14:43:58 2006 -0800

    Pull new-syscalls into release branch

commit a94746461765dae41fb82e4dac027d14af4d80d8
Author: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>
Date:   Thu Feb 9 14:42:55 2006 -0800

    [IA64] mca_drv: Add minstate validation
    
    MCA driver can cause panic if kernel gets a state info with no minstate.
    This patch adds minstate validation before handling it.
    
    Signed-off-by: Hidetoshi Seto <seto.hidetoshi@jp.fujitsu.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1ff0be1534839dabec85f6d16dc36734f4e158bf
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Feb 9 14:41:41 2006 -0800

    [IA64] sys32_signal() forgets to initialize ->sa_mask
    
    Pointed out by Oleg Nesterov <oleg@tv-sign.ru>, who in turn
    got the hint from Linus.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b6bb761897d3b0225fa9d61fc4782b02bab9a6e1
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Thu Feb 9 14:14:52 2006 -0800

    [IA64-SGI] Small cleanup for misuse of list_for_each to list_for_each_safe.
    
    Patch was suggested by Kenneth W. Chen here
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8b34ff427d6f3b0a1207829350b9db16376f88c5
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Thu Feb 9 14:12:24 2006 -0800

    [IA64-SGI] Hotplug driver related fix in the SN ia64 code.
    
    Remove an erroneous kfree, and unlink the pcidev_info struct from the
    pcidev_info list prior to free'ing the pcidev_info struct.
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b514d3192736563dee3f4ba4b659558b3cadc7f7
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Thu Feb 9 16:47:58 2006 +0000

    [ARM] 3314/1: S3C2400 - adds s3c2400.h
    
    Patch from Lucas Correia Villa Real
    
    This patch adds s3c2400.h, fixing the build for the 2410/2440
    platforms.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 15508d22d00277a1f2a1022dce38f2772c810d32
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 9 08:00:14 2006 -0800

    Revert "[PATCH] kconfig: detect if -lintl is needed when linking conf,mconf"
    
    This reverts commit 5e375bc7d586e0df971734a5a5f1f080ffd89b68.
    
    Kyle McMartin steps on his soap-box:
    
      "Sigh.  Can everyone please stop assuming gcc can output to /dev/null?
       On several platforms, ld tries to lseek in the output file, and fails
       if it can't."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9caafa6c8686e319cf4d5f3757b3972c6c522b7c
Merge: 51e9f2f... cac0e8e...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Feb 9 04:29:00 2006 -0500

    Merge branch 'upstream-fixes'

commit cac0e8e8bb2e7a086643bdd00c41d900a79bb4fa
Merge: ddef9bb... 0bdd340...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Feb 9 00:58:59 2006 -0500

    Merge branch 'master'

commit 28b2425ac76b0f043f2efd34521f2a3c7ec8ccc5
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Wed Feb 8 23:33:15 2006 -0500

    [PARISC] Stub out pselect6/ppoll until TIF_RESTORE_SIGMASK is done
    
    Swap out pselect6/ppoll for ni_syscall for now. We also have to switch
    the macro to ENTRY_SAME since compat_sys_ni_syscall does not exist.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 7ec14e49b72da20d7212c707f226271525aee4ae
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Mon Feb 6 10:10:15 2006 -0700

    [PARISC] Convert sba_iommu.c to use seq_file
    
    Use seq_file interface for proc output in sba_iommu. Also
    clean up the bus root assignment, and give the proc files
    a more logical name. Tested on my J6000.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit f823bcae2b9f194cfc164b8cbb87d71695dec563
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Sun Feb 5 20:37:53 2006 -0700

    [PARISC] Convert ccio-dma.c to use seq_file
    
    Gut ccio-dma.c of the ugly proc append and snprintf cruft and
    just use seq_printf instead. Tested on a K-class.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 0bdd340c092b0936f78a54bdbd3927463ed4fca3
Merge: 9908104... f478af9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 17:06:51 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 9908104935325bd6beba67d637b6f5396d47075c
Author: Kristian Slavov <kristian.slavov@nomadiclab.com>
Date:   Wed Feb 8 16:10:53 2006 -0800

    [IPV6]: Address autoconfiguration does not work after device down/up cycle
    
    If you set network interface down and up again, the IPv6 address
    autoconfiguration does not work. 'ip addr' shows that the link-local
    address is in tentative state. We don't even react to periodical router
    advertisements.
    
    During NETDEV_DOWN we clear IF_READY, and we don't set it back in
    NETDEV_UP. While starting to perform DAD on the link-local address, we
    notice that the device is not in IF_READY, and we abort autoconfiguration
    process (which would eventually send router solicitations).
    
    Acked-by: Juha-Matti Tapio <jmtapio@verkkotelakka.net>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4b88f09364e94b05b66fb1441131e8460495a2f8
Author: Andi Kleen <ak@suse.de>
Date:   Thu Feb 9 00:35:50 2006 +0100

    [PATCH] x86-64: Add sys_unshare
    
    Add unshare syscall for x86-64
    
    ppoll/pselect are not ready yet, but add reservations.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9621a4ef8a29d11118f44def053931bcafb0dfc2
Author: Janak Desai <janak@us.ibm.com>
Date:   Wed Feb 8 15:43:38 2006 -0800

    [IA64] unshare system call registration for ia64
    
    Registers system call for the ia64 architecture.
    
    Reserves space for ppoll and pselect, and adds unshare at system
    call number 1296.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ca76a2f3a5202ec1618cb7e76aa8a573235e469f
Merge: 17be03f... be92cbb...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 15:22:00 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 17be03f0a1f42ccfccb38f7d0a94c0f0169634a6
Merge: cce0cac... 85d1494...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 15:21:22 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit cce0cac125623f9b68f25dd1350f6d616220a8dd
Merge: f564c5f... 18f49ea...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 15:20:40 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm
    
    Manual conflict merge of arch/arm/Kconfig

commit be92cbb99654f02a49edbeda84f17e8d61727518
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Wed Feb 8 22:23:05 2006 +0000

    [MMC] Remove extra character in AU1XXX MMC Kconfig entry
    
    An obvious vi fat finger on my part.
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 18f49ea207fbcf37f81395037f0dc1cacb2aac3c
Author: Tony Lindgren <tony@atomide.com>
Date:   Wed Feb 8 22:06:47 2006 +0000

    [ARM] 3278/1: OMAP: 3/3 Fix low-level io init for omap2 boards
    
    Patch from Tony Lindgren
    
    This patch fixes the low-level IO init for omap2 boards.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 87bd63f64790eb01a963e05fc5e9fbf366c9de6e
Author: Tony Lindgren <tony@atomide.com>
Date:   Wed Feb 8 22:06:46 2006 +0000

    [ARM] 3280/1: OMAP: 2/3 Fix low-level io init for omap1 boards
    
    Patch from Tony Lindgren
    
    This patch fixes the low-level IO init for omap1 boards.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 53d9cc7395c8dbe8d7fd6f9acd6578b236d14a0f
Author: Tony Lindgren <tony@atomide.com>
Date:   Wed Feb 8 22:06:45 2006 +0000

    [ARM] 3279/1: OMAP: 1/3 Fix low-level io init
    
    Patch from Tony Lindgren
    
    This patch adds the missing cache flushes to common low-level
    init that are needed to access the IO region. These flushes
    are normally done at the end of devicemaps_init(), but we
    need to detect the OMAP core type early.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 083d06edfda28fdee41ac46dc57ad4949927acd9
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Feb 8 22:03:31 2006 +0000

    [ARM] 3299/1: S3C24XX - fix irq range on adc device
    
    Patch from Ben Dooks
    
    Change the IRQ resource range for the ADC device
    to be two distinct IRQs
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 85d1494e5ff8e20a52ce514584ffda4f0265025e
Author: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
Date:   Wed Feb 8 21:46:24 2006 +0000

    [SERIAL] 8250_pci: add new PCI serial card support
    
    This patch adds new PCI serial card support.
    
    Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7369a8b39ce4be117b0f12bda4e34a1d1789dfe3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 8 21:43:03 2006 +0000

    [SERIAL] ip22zilog: Whitespace cleanup.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 76a55431cc7237f018c7c667860d60e2b6427bf1
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Wed Feb 8 21:40:13 2006 +0000

    [SERIAL] PPC32 CPM_UART: update to utilize the new TTY flip API
    
    This replaces old direct usage of tty->flip stuff with relative flip API
    calls.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit deb37bb7a94c052140d1461a09b877a00e7e2476
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Wed Feb 8 21:36:28 2006 +0000

    [SERIAL] Fix compile error in 8250_au1x00.c
    
    The DB1550 actually doesn't have a UART2.  Remove it from the list.
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f5968b37b3ad35b682b574b578843a0361218aff
Author: Kumar Gala <galak@kernel.crashing.org>
Date:   Wed Feb 8 21:34:35 2006 +0000

    [SERIAL] 8250 serial console update uart_8250_port ier
    
    On some embedded PowerPC (MPC834x) systems an extra byte would some
    times be required to flush data out of the fifo.
    serial8250_console_write() was updating the IER in hardware without
    also updating the copy in uart_8250_port. This causes issues functions
    like serial8250_start_tx() and __stop_tx() to misbehave.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5cba742935ee7aee6f70d35da83e6398408418f7
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Wed Feb 8 21:31:54 2006 +0000

    [ARM] 3283/1: S3C2400 - defines the number of serial ports
    
    Patch from Lucas Correia Villa Real
    
    This patch defines the number of serial ports on the S3C2400.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f557f5e51db47887eab170084bbcf9685b48fa06
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Wed Feb 8 21:19:39 2006 +0000

    [ARM] 3313/1: Use OSC4 instead of OSC1 for CLCD
    
    Patch from Catalin Marinas
    
    Because of a type, OSC1 was used for setting the display clock instead of
    OSC4. This patch fixes it.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 365bf8ac6f5b3d3187cb39444fa87a5b38683ff4
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 8 21:19:38 2006 +0000

    [ARM] 3311/1: clean up include/asm-arm/mutex.h
    
    Patch from Nicolas Pitre
    
    Since:
    
    	if (unlikely(__res || __ex_flag))
    
    produces worse code on ARM than:
    
    	if (unlikely(__res | __ex_flag))
    
    I therefore made it more explicit:
    
    	__res |= __ex_flag;
    	if (unlikely(__res != 0))
    
    so it is not seen as a typo again.
    
    Also made everything static inline rather than macros for better readability
    (both produce the same code after all).
    
    And finally added missing \t from multi-line assembly code.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5964eae835c3b98c69d338950651f7f414f96477
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 8 21:19:37 2006 +0000

    [ARM] 3310/1: add a comment about the possible __kuser_cmpxchg transient false
     negative
    
    Patch from Nicolas Pitre
    
    The pre ARMv5 implementation can be aborted if an exception occurs in
    the middle of it.  Because of that, the ARMv6 implementation doesn't
    re-attempt the operation on a failed strex either.  Let's make this
    transient nature of such a false positive more explicit in the
    definition.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 49bca4c2815feafd5f999bf43baf87e0dd8d1d08
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 8 21:19:37 2006 +0000

    [ARM] 3309/1: disable the pre-ARMv5 NPTL kernel helper in the non MMU case
    
    Patch from Nicolas Pitre
    
    The cmpxchg emulation on pre-ARMv5 relies on user code executed from a
    kernel address.  If the operation cannot complete atomically, it is
    aborted from the usr_entry macro by clearing the Z flag.  This clearing
    of the Z flag is done whenever the user pc is above TASK_SIZE.
    
    However this "pc >= TASK_SIZE" test cannot work in the non MMU case.
    Worse: the current code will corrupt the Z flag on every entry to the
    kernel.
    
    Let's disable it in the non MMU case for now.  Using NPTL on non MMU
    targets needs to be worked out anyway.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 99595d0237926b5aba1fe4c844a011a1ba1ee1f8
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 8 21:19:36 2006 +0000

    [ARM] 3308/1: old ABI compat: struct sockaddr_un
    
    Patch from Nicolas Pitre
    
    struct sockaddr_un loses its padding with EABI.  Since the size of the
    structure is used as a validation test in unix_mkname(), we need to
    change the length argument to 110 whenever it is 112.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a73a3ff127df1b35d6771f7d3ce36373def8398f
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Feb 8 21:09:55 2006 +0000

    [ARM] Experimental config options should have (EXPERIMENTAL)
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 61c484d41f0e5fb44f9a32cd3352734a04aae3ef
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 8 21:09:08 2006 +0000

    [ARM] 3307/1: old ABI compat: mark it experimental
    
    Patch from Nicolas Pitre
    
    Although OABI_COMPAT works fine in most cases, it is still experimental
    and could be for ever since it is nearly impossible to handle
    everything, e.g. ioctls.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 29fe3cf384e69cec98b638cae6ad5811705a0f3f
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Feb 8 21:09:07 2006 +0000

    [ARM] 3306/1: S3C24XX - update defconfig
    
    Patch from Ben Dooks
    
    Bring s3c2410 defconfig up to date
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f6c8965ab8de61e26875d48c9e00a018c44d74f7
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Wed Feb 8 21:09:07 2006 +0000

    [ARM] 3305/1: Minor typographical and spelling fixes in Konfig
    
    Patch from Martin Michlmayr
    
    Minor typographical and spelling fixes in Konfig
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    
    ---
    
     Kconfig |    8 ++++----
     1 file changed, 4 insertions(+), 4 deletions(-)
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f999b8bdec299bb20be21482640208c3574b16fa
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Wed Feb 8 21:09:05 2006 +0000

    [ARM] 3304/1: Add help descriptions to ARCH config items that don't have one
    
    Patch from Martin Michlmayr
    
    Add help descriptions to ARCH config items that don't have one.
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    
    ---
    
     Kconfig               |   32 ++++++++++++++++++++++++++++++--
     mach-clps711x/Kconfig |    2 ++
     2 files changed, 32 insertions(+), 2 deletions(-)
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2a513ce79958d47b72a11c76ec291c8c1169214c
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Feb 8 21:09:05 2006 +0000

    [ARM] 3303/1: S3C24XX - add clock enable usage counting
    
    Patch from Ben Dooks
    
    Move to using an enable count for the shared clocks
    and protect the clock system using a mutex instead
    of just disabling IRQs during the clock update.
    
    Since there is little more code in the path for
    non-shared clocks, the enable and disable calls
    use the same code for each.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f8e5b28413a8bf0b421dd116b30ab2d3befec629
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Feb 8 21:09:04 2006 +0000

    [ARM] 3302/1: make pci=firmware the default for ixp2000
    
    Patch from Lennert Buytenhek
    
    Most ixp2000 boards don't actually work if pci=firmware isn't used, so
    the defconfig isn't really the right place to specify this.  Instead of
    specifying it in the defconfigs, make the relevant board code take care
    of setting pci=firmware.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a6b3300609b277989644ed4cc2f9d7c4b623f904
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Feb 8 21:09:03 2006 +0000

    [ARM] 3301/1: remove unnecessary clock default from ixdp2801 defconfig
    
    Patch from Lennert Buytenhek
    
    The ixdp2x01_clock is already 50MHz by default, so no need to
    override it with 50MHz in the ixdp2801 defconfig as is done now,
    which is confusing as well.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1b3940130415d9b338ad4e13d4b82498baef21fe
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Feb 8 21:09:02 2006 +0000

    [ARM] 3300/1: make ixdp2x01 co-exist with other ixp2000 machine types
    
    Patch from Lennert Buytenhek
    
    The ixdp2x01 pci init call doesn't check whether it's really running
    on an ixdp2x01, making it impossible to compile one kernel that works
    on both the ixdp2x01 and another ixp2000 board.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f478af9dc58c01880832a321c3eea7703772c420
Author: Jes Sorensen <jes@sgi.com>
Date:   Wed Feb 8 10:19:28 2006 -0500

    [IA64] prevent sn2 specific code to be run in generic kernels
    
    Prevent SN2 specific code to be executed on non SN2 platforms when
    running a generic kernel.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f564c5fe29d3fa9adc6d839714521b0554c62598
Merge: 423ab71... b887d3f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 09:58:27 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit b887d3f2c63543dce1a0825e41be3a8d3ebef78d
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Feb 9 00:57:44 2006 +0900

    [MIPS] Add 'const' to readb and friends
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    ---

commit be6e518b625a90e84d26371f722474e239c01e4c
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Feb 8 23:39:49 2006 +0900

    [MIPS] Sparse: Add __user tags to syscall.c
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    ---

commit 72bf891421e261262c4e614c051a68093baddd21
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 8 13:38:50 2006 +0000

    [MIPS] Wire up new syscalls.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    ---

commit 40ac5d479b7deb98f6ccc4a7a29ee62dba7a798f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 8 13:38:18 2006 +0000

    [MIPS] Make do_signal return void.
    
    It's return value is ignored everywhere.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    ---

commit 7b3e2fc847c8325a7b35185fa1fc2f1729ed9c5b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 8 12:58:41 2006 +0000

    [MIPS] Add support for TIF_RESTORE_SIGMASK.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    ---

commit 423ab71a8bd2345f87724abe320092a3a516b0bb
Merge: b7ed1de... 63f716b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 08:06:09 2006 -0800

    Merge branch 'for-linus2' of git://git.kernel.org/pub/scm/linux/kernel/git/viro/bird

commit b7ed1de0ae4edb3fd2c53fa3dd7e6f104beb6d00
Merge: 328c2a8... 01840f9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 07:58:18 2006 -0800

    Merge branch 'for-linus' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 328c2a8a39e1ba43a6e54e43fc752f7035779561
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Wed Feb 8 11:55:06 2006 +0300

    [PATCH] alpha: set cpu_possible_map much earlier
    
    All the percpu data structure walkers want cpu_possible_map to be
    initialized early, but alpha instead populated "hwrpb_cpu_present_mask"
    early in setup_smp(), and then initialized cpu_possible_map only much
    later.
    
    Thanks go to Heiko Carstens and Dipankar Sarma for noticing.
    
    This fixes it and we can get rid of hwrpb_cpu_present_mask entirely.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9934a7939e1cdce62ece9ef7d25ebb3c55547fac
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Feb 8 10:11:56 2006 +0100

    [PATCH] SLOB=y && SMP=y fix
    
    fix CONFIG_SLOB=y (when CONFIG_SMP=y): get rid of the 'align' parameter
    from its __alloc_percpu() implementation. Boot-tested on x86.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30e9656cc340035e102fea46e1908689494b042d
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Feb 8 01:01:31 2006 -0800

    [PATCH] block: implement elv_insert and use it (fix ordcolor flipping bug)
    
    q->ordcolor must only be flipped on initial queueing of a hardbarrier
    request.
    
    Constructing ordered sequence and requeueing used to pass through
    __elv_add_request() which flips q->ordcolor when it sees a barrier
    request.
    
    This patch separates out elv_insert() from __elv_add_request() and uses
    elv_insert() when constructing ordered sequence and requeueing.
    elv_insert() inserts the given request at the specified position and
    does nothing else.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5ea0a9fca5612808839dd4bcc41c46fc02451f9
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 8 07:51:17 2006 -0800

    ppc: fix up trivial Kconfig config selection
    
    Quoth BenH:
      "Ok, looks like I forgot to update the Kconfig for the new i2c driver,
       it should select I2C_POWERMAC instead.  Do you want a new patch or
       can you just fix it there ?"
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01840f9c9d7ae366311302077ace6bc39169399b
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Feb 3 08:37:08 2006 +0100

    [PATCH] blk: Fix SG_IO ioctl failure retry looping
    
    When issuing an SG_IO ioctl through sd that resulted in an unrecoverable
    error, a nearly infinite retry loop was discovered. This is due to the
    fact that the block layer SG_IO code is not setting up rq->retries. This
    patch also fixes up the sg_scsi_ioctl path.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 63f716b9419420defb3e550a1e5f526c11b2ed2d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Thu Dec 29 11:45:52 2005 -0500

    [PATCH] sh: lvalues abuse in arch/sh/boards/renesas/rts7751r2d/io.c
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 6881761e63ac95fda3073443781ea928682fa600
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Feb 3 20:15:52 2006 -0500

    [PATCH] m32r_sio iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 90f46a5845596f0bf99f3a07dd4c7775dcbb40c4
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:45:37 2006 -0500

    [PATCH] mark HISAX_AMD7930 as broken
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit bf82a44949339c9af7bd61bb58847774e42e531e
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:42:28 2006 -0500

    [PATCH] type-safe min() in prism54
    
    we do min() on u8 and small integer constant; cast the latter to u8.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit ac171c46667c1cb2ee9e22312291df6ed78e1b6e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Feb 8 16:42:51 2006 +1100

    [PATCH] powerpc: Thermal control for dual core G5s
    
    This patch adds a windfarm module, windfarm_pm112, for the dual core G5s
    (both 2 and 4 core models), keeping the machine from getting into
    vacuum-cleaner mode ;) For proper credits, the patch was initially
    written by Paul Mackerras, and slightly reworked by me to add overtemp
    handling among others. The patch also removes the sysfs attributes from
    windfarm_pm81 and windfarm_pm91 and instead adds code to the windfarm
    core to automagically expose attributes for sensor & controls.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97fa5a664e69f2fcdd2120e7f4765f8c1df56282
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Feb 3 20:11:52 2006 -0500

    [PATCH] s390 __get_user() bogus warnings removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 8ef9cf318152d864d6694b19e655cbefa1e85256
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:07:15 2006 -0500

    [PATCH] synclink_gt is PCI-only
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit e795638bb9e81bae80bbe88b74c8ee0d1b1d8d3c
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:29:34 2006 -0500

    [PATCH] __user annotations in powerpc thread_info
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 6fa2ffe901c77cdd8db9616db66894e96c12143d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:28:02 2006 -0500

    [PATCH] fix iomem annotations in dart_iommu
    
    it's int __iomem *, not int * __iomem...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 793af244090ccb5f99091c5a999ce97e4d017834
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:55:59 2006 -0500

    [PATCH] s390 misc __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 6b2b4e5a26fe3795b1c6711cee0eae057844491d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:33:33 2006 -0500

    [PATCH] compat_ioctl __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit d656101009d76000b8fc0998a33d592100334d52
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:59:06 2006 -0500

    [PATCH] sn3 iomem annotations and fixes
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 29e646df7829e41a6b0db32fd50ae6376640cd13
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:28:09 2006 -0500

    [PATCH] powerpc signal __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 5b1a43d7df65689b4c3b5a1c5c8158f1d4f74fbd
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:24:20 2006 -0500

    [PATCH] drivers/media/video __user annotations and fixes
    
    * compat_alloc_user_space() returns __user pointer
    * copying between two userland areas is copy_in_user(), not copy_from_user()
    * dereferencing userland pointers is bad
    * so's get_user() from local variables
    
    ... plus usual __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit de125bf395df34892862d76580ce3a153e80f151
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:18:43 2006 -0500

    [PATCH] powermac pci iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 24954a1418298058399581d6fcc4d46e928e1bf5
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:16:15 2006 -0500

    [PATCH] s390x compat __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 290f10ae4230ef06b71e57673101b7e70c1b29a6
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Dec 7 23:12:54 2005 -0500

    [PATCH] mips: namespace pollution - mem_... -> __mem_... in io.h
    
    A pile of internal functions use only inside mips io.h has names starting
    with mem_... and clashing with names in drivers; renamed to __mem_....
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 034d2f5af1b97664381c00b827b274c95e22c397
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Dec 19 16:27:59 2005 -0500

    [PATCH] arm: fix dependencies for MTD_XIP
    
    MTD_XIP depends on having working asm/mtd-xip.h; it's not just per-architecture
    (arm-only, as current Kconfig would have it), but actually per-subarch as
    well.  Introduced a new symbol (ARCH_MTD_XIP) set by arch Kconfig; MTD_XIP
    depends on it.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 746f956beb534ddf73da4346de81f2941c8573f8
Merge: 367636e... 0fc9b55...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 20:34:29 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 367636e8a9ef250d5b255f9d299e1c27cb3d7ea3
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Feb 8 15:04:18 2006 +1100

    [PATCH] powerpc: Fix sound driver use of i2c
    
    The PowerMac sound drivers used to rely on a "bug" of the i2c-keywest
    driver that implemented I2C_SMBUS_BLOCK_DATA incorrectly, that is it did
    what I2C_SMBUS_I2C_BLOCK_DATA should have done. The new i2c-powermac
    driver that replaces keywest has this bug fixed, thus the sound drivers
    must be fixed too.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe69102188cde0700cddd8d4cda0b77d68284884
Merge: f30ac31... 7d4d615...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 20:32:13 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 0fc9b55606662c4763a4f37add889cfd6a66247a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Feb 7 18:12:34 2006 -0800

    [SPARC64]: Update defconfig.
    
    Do not enable CONFIG_LOCALVERSION_AUTO by default.
    When doing kernel development it just leaves a ton
    of crap around.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1b9a4289017c8ab77b063a968c9df7e5a193e495
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Feb 7 18:11:24 2006 -0800

    [SPARC]: Wire up sys_unshare().
    
    Also, the Solaris syscall table is sized differrently,
    and does not go beyond entry 255, so trim off the excess
    entries.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f30ac319f1b91878cdc57a50930f15c36e0e103a
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:53:21 2006 -0500

    [PATCH] umount_tree() decrements mount count on wrong dentry
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 8854eddbdb3e45b8d381ecff2937a942d0cb2067
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 4 01:44:17 2006 -0500

    [PATCH] nfsroot port= parameter fix [backport of 2.4 fix]
    
    Direct backport of 2.4 fix that didn't get propagated to 2.6; original
    comment follows:
    <quote>
       When I specify the NFS port for nfsroot (e.g.,
       nfsroot=<dir>,port=2049), the
       kernel uses the wrong port. In my case it tries to use 264 (0x108)
       instead
       of 2049 (0x801).
    
       This patch adds the missing htons().
    
       Eric
    </quote>
    
    Patch got applied in 2.4.21-pre6.  Author: Eric Lammerts (<eric@lammerts.org>,
    AFAICS).
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit cc59853b4a9973126e15e0e6bdddf0627d4b99c4
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Feb 3 20:28:01 2006 -0500

    [PATCH] arch/x86_64/pci/mmconfig.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit e80e28b6b67ecc25fa89c9129a5f70de6389b2a6
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Feb 3 20:10:03 2006 -0500

    [PATCH] net/ipv6/mcast.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit bee14e1f8ae2d5fd3f324e0c8562f791537160b2
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:33:44 2006 -0500

    [PATCH] __user annotations of video_spu_palette
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit dd42b1518666132c21e7348c4b599c501f0021a1
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:30:33 2006 -0500

    [PATCH] amd64 time.c __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 1d0bd717c86949e97a11855482b4a118029c10a9
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:25:14 2006 -0500

    [PATCH] bogus extern in low_i2c.c
    
    extern in function definition is an odd thing..
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit d04e4e115bd9df2b748cb30abd610f3c0eb1e303
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 07:23:24 2006 -0500

    [PATCH] eeh_driver NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 2d20eaf9426598ef156b941bcfa44e867452b770
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:31:40 2006 -0500

    [PATCH] sg gfp_t annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit e5fb81bd895041230dfaeb8f8f498b85b4705988
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:30:45 2006 -0500

    [PATCH] scsi_transport_iscsi gfp_t annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit aaedd944d4dd25fdfafb10db65544e98eb66857d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:29:14 2006 -0500

    [PATCH] cmm NULL noise removal, __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 6d57348d7d65ba6f2f42a24b0c7527e0f7470a84
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:10:08 2006 -0500

    [PATCH] drivers/edac/i82875p_edac.c __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit be7ee9b2f5ef11448f79c2ff7f47eb21b7c008b4
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:06:16 2006 -0500

    [PATCH] fix __user annotations in drivers/base/memory.c
    
    sysfs store doesn't deal with userland pointers
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 73a09e626b9717851d3f7fd0230e401492ee326b
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:04:15 2006 -0500

    [PATCH] drivers/char/watchdog/sbc_epx_c3.c __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit dad08dfc48529e3f907c2680f8b34f1fe2d75880
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 06:02:50 2006 -0500

    [PATCH] dvb NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 4bb8089c86b95b4f6bbd839cb83ca4556b06a031
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:57:32 2006 -0500

    [PATCH] kernel/sys.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 53f087febfd12e74ba9f1082e71e9a45adc039ad
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:56:41 2006 -0500

    [PATCH] timer.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 76edc6051e02186fe664ab880447e2d1f96fd884
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:54:35 2006 -0500

    [PATCH] ipv4 NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit e110ab94ebc714de57f75f0c7c576dde8cf80944
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Feb 1 05:26:09 2006 -0500

    [PATCH] fix __user annotations in fs/select.c
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 3023b438c4b6103d520690cfa8b790bdd3868dc2
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Jan 30 01:40:35 2006 -0500

    [PATCH] missing include in ser_a2232
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit c350885854c231810c06aa166b46eab039e80d97
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sat Jan 28 22:17:11 2006 -0500

    [PATCH] fallout from ptrace consolidation patch: cris/arch-v10
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 7be7cbf684b372abaa8d6723eabedfa6ad79ee43
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 06:01:14 2005 -0500

    [PATCH] drivers/scsi/mac53c94.c __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 3ba9d91208a71947b69d52e3ca2142306457d816
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 22:34:20 2006 -0500

    [PATCH] ppc: last_task_.... is defined only on non-SMP
    
    ... so it should be exported only on non-SMP.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 304cd3efe6f2aefdb568d201aba55d1400915ca2
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 19:40:48 2006 -0500

    [PATCH] restore power-off on sparc32
    
    Damn you, Eric
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 83ec98be051b277635bc7379b863b25f6dbe54ce
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 18:40:16 2006 -0500

    [PATCH] fix breakage in ocp.c
    
    it's ocp_device_...., not ocp_driver_....
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit b6298c22c5e9f698812e2520003ee178aad50c10
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 19:35:54 2006 -0500

    [PATCH] missing includes in drivers/net/mv643xx_eth.c
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 4fb7d9827e89cc0a4ad2fde32ffa08f77cc0b7fe
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Dec 21 13:24:46 2005 -0500

    [PATCH] drive_info removal outside of arch/i386
    
    drive_info is used only by hd.c and that happens under #ifdef __i386__.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 164006da316a22eaaa9fbe36f835a01606436c66
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Nov 30 23:47:05 2005 -0500

    [PATCH] bogus asm/delay.h includes
    
    asm/delay.h is non-portable; linux/delay.h should be used in generic code.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 1b8623545b42c03eb92e51b28c84acf4b8ba00a3
Author: Al Viro <viro@www.linux.org.uk>
Date:   Thu Dec 15 01:07:03 2005 -0500

    [PATCH] remove bogus asm/bug.h includes.
    
    A bunch of asm/bug.h includes are both not needed (since it will get
    pulled anyway) and bogus (since they are done too early).  Removed.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>

commit 7bcb974ef6a0ae903888272c92c66ea779388c01
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Feb 7 16:39:26 2006 -0800

    IPoIB: Fix another send-only join race
    
    Further, there's an additional issue that I saw in testing:
    ipoib_mcast_send may get called when priv->broadcast is NULL (e.g. if
    the device was downed and then upped internally because of a port
    event).
    
    If this happends and the send-only join request gets completed before
    priv->broadcast is set, we get an oops.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 479a079663bd4c5f3d2714643b1b8c406aaba3e0
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Feb 7 16:37:08 2006 -0800

    IPoIB: Don't start send-only joins while multicast thread is stopped
    
    Fix the following race scenario:
      - Device is up.
      - Port event or set mcast list triggers ipoib_mcast_stop_thread,
        this cancels the query and waits on mcast "done" completion.
      - Completion is called and "done" is set.
      - Meanwhile, ipoib_mcast_send arrives and starts a new query,
        re-initializing "done".
    
    Fix this by adding a "multicast started" bit and checking it before
    starting a send-only join.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 92118c739df879497b8cc5a2eb3a9dc255f01b20
Merge: b4669d66... 276e0c7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 16:29:55 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/driver-2.6

commit b4669d66fb1488fd9cebe0b8da447cfeb86109ba
Merge: b43d4dd... c5e3fbf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 16:29:27 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/i2c-2.6

commit b43d4ddaec2b33fd6eaf0bed970c86ab08a52aaf
Merge: 8e63e66... 9bd6f13...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 16:28:26 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/rc-fixes-xfs-2.6

commit 8e63e66b4cd066fe6c2d962460e286c2a61d3fe8
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 8 09:19:17 2006 +1000

    [PATCH] m68knommu: use tty_schedule_flip() in 68328serial.c
    
    Use the new tty_schedule_flip() instead of the original direct
    schedule_work of the flip buffer.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e39485636b6db2def114f38104fe132af73ff0f5
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 8 09:19:17 2006 +1000

    [PATCH] m68knommu: use tty_schedule_flip() in 68360serial.c
    
    Use the new tty_schedule_flip() instead of the original direct
    schedule_work of the flip buffer.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 230afb065bfe05887dd83a0fbb149dc2bff7d63e
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 8 09:19:17 2006 +1000

    [PATCH] m68knommu: hardirq.h needs definition of NR_IRQS
    
    Need to include the local asm/irq.h to get the NR_IRQS definition.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10c1f71caa7801fde7dcb103eda90117c6c9bb04
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 8 09:19:17 2006 +1000

    [PATCH] m68knommu: need pm_power_off in m68knommu
    
    Need place holders for the power management power off and idle functions.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9cdffb14ae8a95335ba4e9add1f1086c4d65372
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Feb 8 09:19:17 2006 +1000

    [PATCH] m68knommu: compile fixes for mcfserial.c
    
    Re-organize the default CONSOLE baud rate define setting so that
    it is only set once.
    
    Use the new tty_schedule_flip() instead of the original direct
    schedule_work of the flip buffer.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2da436e00f9a5fdd0fb6b31e4b2b2ba82e8f5ab8
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:59:03 2006 -0800

    [PATCH] unshare system call -v5: system call registration for i386
    
    Registers system call for the i386 architecture.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a016f3389c06606dd80e687942ff3c71d41823c4
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:59:02 2006 -0800

    [PATCH] unshare system call -v5: unshare files
    
    If the file descriptor structure is being shared, allocate a new one and copy
    information from the current, shared, structure.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0a7ec308f1be5957b20a1a535d21f683dfd83f0
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:59:01 2006 -0800

    [PATCH] unshare system call -v5: unshare vm
    
    If vm structure is being shared, allocate a new one and copy information from
    the current, shared, structure.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 741a295130606143edbf9fc740f633dbc1e6225f
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:59:00 2006 -0800

    [PATCH] unshare system call -v5: unshare namespace
    
    If the namespace structure is being shared, allocate a new one and copy
    information from the current, shared, structure.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99d1419d96d7df9cfa56bc977810be831bd5ef64
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:58:59 2006 -0800

    [PATCH] unshare system call -v5: unshare filesystem info
    
    If filesystem structure is being shared, allocate a new one and copy
    information from the current, shared, structure.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf2e340f4249b781b3d2beb41e891d08581f0e10
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:58:58 2006 -0800

    [PATCH] unshare system call -v5: system call handler function
    
    sys_unshare system call handler function accepts the same flags as clone
    system call, checks constraints on each of the flags and invokes corresponding
    unshare functions to disassociate respective process context if it was being
    shared with another task.
    
    Here is the link to a program for testing unshare system call.
    
    http://prdownloads.sourceforge.net/audit/unshare_test.c?download
    
    Please note that because of a problem in rmdir associated with bind mounts and
    clone with CLONE_NEWNS, the test fails while trying to remove temporary test
    directory.  You can remove that temporary directory by doing rmdir, twice,
    from the command line.  The first will fail with EBUSY, but the second will
    succeed.  I have reported the problem to Ram Pai and Al Viro with a small
    program which reproduces the problem.  Al told us yesterday that he will be
    looking at the problem soon.  I have tried multiple rmdirs from the
    unshare_test program itself, but for some reason that is not working.  Doing
    two rmdirs from command line does seem to remove the directory.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d4c3e7a8c65892c7d6a748fdbb4499e988880db
Author: JANAK DESAI <janak@us.ibm.com>
Date:   Tue Feb 7 12:58:56 2006 -0800

    [PATCH] unshare system call -v5: Documentation file
    
    Documents the new feature, why it is needed, it's cost, design,
    implementation, and test plan.
    
    Signed-off-by: Janak Desai <janak@us.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Paul Mackerras <paulus@samba.org>
    Acked-by: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0a602963485a2f109ae1521c0c55507304c63ed
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Feb 7 12:58:54 2006 -0800

    [PATCH] Fix spinlock debugging delays to not time out too early
    
    The spinlock-debug wait-loop was using loops_per_jiffy to detect too long
    spinlock waits - but on fast CPUs this led to a way too fast timeout and false
    messages.
    
    The fix is to include a __delay(1) call in the loop, to correctly approximate
    the intended delay timeout of 1 second.  The code assumes that every
    architecture implements __delay(1) to last around 1/(loops_per_jiffy*HZ)
    seconds.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8519fb30e438f8088b71a94a7d5a660a814d3872
Author: Nick Piggin <npiggin@suse.de>
Date:   Tue Feb 7 12:58:52 2006 -0800

    [PATCH] mm: compound release fix
    
    Compound pages on SMP systems can now often be freed from pagetables via
    the release_pages path.  This uses put_page_testzero which does not handle
    compound pages at all.  Releasing constituent pages from process mappings
    decrements their count to a large negative number and leaks the reference
    at the head page - net result is a memory leak.
    
    The problem was hidden because the debug check in put_page_testzero itself
    actually did take compound pages into consideration.
    
    Fix the bug and the debug check.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99f6d61bda82d09b2d94414d413d39f66a0b7da2
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Tue Feb 7 12:58:51 2006 -0800

    [PATCH] selinux: require AUDIT
    
    Make SELinux depend on AUDIT as it requires the basic audit support to log
    permission denials at all.  Note that AUDITSYSCALL remains optional for
    SELinux, although it can be useful in providing further information upon
    denials.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46cd2f32baf181b74b16cceb123bab6fe1f61f85
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Tue Feb 7 12:58:50 2006 -0800

    [PATCH] Fix build failure in recent pm_prepare_* changes.
    
    Fix compilation problem in PM headers.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b4fe29e00a5ab4e778bb24be86d836a25570bc9
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 7 12:58:48 2006 -0800

    [PATCH] More informative message on umount failure
    
    We had a user trigger this message on a box that had a lot of different
    mounts, all with different options.  It might help narrow down wtf happened
    if we print out which device failed.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1fcbf053e55e961112f237dc690129f0858156f1
Author: Kyle McMartin <kyle@mcmartin.ca>
Date:   Tue Feb 7 12:58:47 2006 -0800

    [PATCH] sys_hpux: fix strlen_user() race
    
    Userspace can alter the string after the kernel has run strlen_user().
    
    Also: the strlen_user() return value includes the \0, so fix that.
    
    Also: handle EFAULT from strlen_user().
    
    It's unlikely anyone is using this code.  Very, very unlikely.  If I
    remember correctly, CONFIG_HPUX turns this code on, but one would actually
    need CONFIG_BINFMT_SOM to load a binary that could cause a problem, and
    BINFMT_SOM has had an #error in it for quite some time.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b5173119ff10c5538e92a7957a50887ae170b8da
Author: Robert Love <rml@novell.com>
Date:   Tue Feb 7 12:58:45 2006 -0800

    [PATCH] inotify: fix one-shot support
    
    Fix one-shot support in inotify.  We currently drop the IN_ONESHOT flag
    during watch addition.  Fix is to not do that.
    
    Signed-off-by: Robert Love <rml@novell.com>
    Cc: John McCutchan <ttb@tentacle.dhs.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e08b756869eeb08ace17ad64c2a8cb97b18e856
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Feb 7 12:58:45 2006 -0800

    [PATCH] module: strlen_user() race fix
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48b8c10056d22ecc070bbfcbbfc8f84d13181178
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:44 2006 -0800

    [PATCH] uml: remove a dead file
    
    A previous patch removed a file from the build without removing it from the
    tree.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2216feb37f1df65a29fb1e5ed41d9f7ba657b2c
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:43 2006 -0800

    [PATCH] uml: initialize process FP registers properly
    
    We weren't making sure that we initialized the FP registers of new processes
    to sane values.
    
    This patch also moves some defines in the affected area closer to where they
    are used.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 43b00fdbb13bfc1b2f4a8e5b65315db6d9c479a3
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:42 2006 -0800

    [PATCH] uml: block SIGWINCH in ptrace tester child
    
    The process that UML uses to probe the host's ptrace capabilities can (rarely)
    receive a SIGWINCH, confusing the parent.  This fixes that by blocking
    SIGWINCH.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 14d9ead05ec925f299ae5cfe948c180c88ec842e
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:42 2006 -0800

    [PATCH] uml: balance list_add and list_del in the network driver
    
    The network driver added an interface to the "opened" list when it was
    configured, not when it was brought up, and removed it when it was taken down.
     A sequence of ifconfig up, ifconfig down, ...  caused it to be removed
    multiple times from the list without being added in between, resulting in a
    crash.  This patch moves the add to when the interface is brought up.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d2ddcfb1935c9c0e98c4295458b01f24e3274f9
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:41 2006 -0800

    [PATCH] uml: close TUN/TAP file descriptors
    
    When UML opens a TUN/TAP device, the file descriptor could be copied into
    later, long-lived threads, holding the device open even after the interface is
    taken down, preventing it from being brought up again.  This patch makes these
    descriptors close-on-exec so that they disappear from helper processes, and
    adds CLONE_FILES to a UML helper thread so that the descriptors are closed in
    the thread when they are closed elsewhere in UML.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fbd5577901388ff9306a05eb63648c30e4722134
Author: Jeff Dike <jdike@addtoit.com>
Date:   Tue Feb 7 12:58:40 2006 -0800

    [PATCH] uml: add debug switch for skas mode
    
    It doesn't do anything but emit a warning, but there's a user population
    that's used to adding 'debug' to the UML command line in order to gdb it.
    With skas0 mode, that's not necessary, but these users need some indication
    that 'debug' doesn't do what they want.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3bc8414b079ec372485c99ed1f33c6c42ca9d756
Author: Suzuki <suzuki@In.ibm.com>
Date:   Tue Feb 7 12:58:36 2006 -0800

    [PATCH] Fix do_path_lookup() to add the check for error in link_path_walk()
    
    Fix do_path_lookup() to avoid accessing invalid dentry or inode when the
    link_path_walk() has failed.  This should fix Bugme #5897.
    
    Signed-off-by: Suzuki K P <suzuki@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c00a76aea339b427b47ddc28de06dee0a652e801
Author: Steve Langasek <vorlon@debian.org>
Date:   Tue Feb 7 12:58:35 2006 -0800

    [PATCH] __cmpxchg() must really always be inlined on alpha
    
    With the latest 2.6.15 kernel builds for alpha on Debian, we ran into a
    problem with undefined references to __cmpxchg_called_with_bad_pointer() in
    a couple of kernel modules (xfs.ko and drm.ko; see
    http://bugs.debian.org/347556).
    
    It looks like people have been trying to out-clever each other wrt the
    definition of "inline" on this architecture :), with the result that
    __cmpxchg(), which must be inlined so the compiler can see its argument is
    const, is not guaranteed to be inlined.  Indeed, it was not being inlined
    when building with -Os.
    
    The attached patch fixes the issue by adding an
    __attribute__((always_inline)) explicitly to the definition of __cmpxchg()
    instead of relying on redefines of "inline" elsewhere to make this happen.
    
    Cc: Richard Henderson <rth@twiddle.net>
    Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2f8311d3168ed7d391ba5df5b80f4af0a3457d0
Author: Michael Richardson <mcr@sandelman.ottawa.on.ca>
Date:   Tue Feb 7 12:58:33 2006 -0800

    [PATCH] ide: cast arguments to pr_debug() properly
    
    This does not show up unless you #define DEBUG in the file, which most
    people wouldn't do.  On PPC405, at least, "sector_t" is unsigned long,
    which doesn't match %llx/%llu.  Since sector# may well be >32 bits, promote
    the value to match the format.
    
    Signed-off-by: Michael Richardson <mcr@xelerance.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cbd0d51a3318583fabf03bccc7a987e158482361
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Feb 7 12:58:32 2006 -0800

    [PATCH] knfsd: fix nfs4_open lock leak
    
    I just noticed that my patch "don't create on open that fails due to
    ERR_GRACE" (recently commited as fb553c0f17444e090db951b96df4d2d71b4f4b6b)
    had an obvious problem that causes a deadlock on reboot recovery.  Sending
    in this now since it seems like a clear 2.6.16 candidate.--b.
    
    We're returning with a lock held in some error cases.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0df420d8b6c718d9a5e37531c3a9a6804493e9f4
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Tue Feb 7 12:58:30 2006 -0800

    [PATCH] hugetlbpage: return VM_FAULT_OOM on oom
    
    Remove wrong and misleading comments.
    
    Return VM_FAULT_OOM if the hugetlbpage fault handler cannot allocate a
    page.  do_no_page will end up doing do_exit(SIGKILL).
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a2dfef6947139db9b886fce510c4d0c913beb5f0
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Feb 7 12:58:25 2006 -0800

    [PATCH] Hugepages need clear_user_highpage() not clear_highpage()
    
    When hugepages are newly allocated to a file in mm/hugetlb.c, we clear them
    with a call to clear_highpage() on each of the subpages.  We should be
    using clear_user_highpage(): on powerpc, at least, clear_highpage() doesn't
    correctly mark the page as icache dirty so if the page is executed shortly
    after it's possible to get strange results.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 488fc08d914f2b07b701c9b9c811437cc1c1c518
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Tue Feb 7 12:58:23 2006 -0800

    [PATCH] x86_64: Fix the node cpumask of a cpu going down
    
    Currently, x86_64 and ia64 arches do not clear the corresponding bits in
    the node's cpumask when a cpu goes down or cpu bring up is cancelled.  This
    is buggy since there are pieces of common code where the cpumask is checked
    in the cpu down code path to decide on things (like in the slab down path).
     PPC does the right thing, but x86_64 and ia64 don't (This was the reason
    Sonny hit upon a slab bug during cpu offline on ppc and could not reproduce
    on other arches).  This patch fixes it for x86_64.  I won't attempt ia64 as
    I cannot test it.
    
    Credit for spotting this should go to Alok.
    
    (akpm: this was applied, then reverted.  But it's OK now because we now use
    for_each_cpu() in the right places).
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7714d5985bb7101a90fb427dc29dc592cf1b960e
Author: Pavel Machek <pavel@ucw.cz>
Date:   Tue Feb 7 12:58:22 2006 -0800

    [PATCH] swsusp: kill unneeded/unbalanced bio_get
    
    - Remove unneeded bio_get() which would cause a bio leak
    
    - Writing doesn't dirty pages.  Reading dirties pages.
    
    - We should dirty the pages after the IO completion, not before
    
    (Busy-waiting for disk I/O completion isn't very polite.)
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: "Rafael J. Wysocki" <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2139bdd5b15a4cc450adb17da836f33c16477188
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Tue Feb 7 12:58:20 2006 -0800

    [PATCH] drivers/base/bus.c warning fixes
    
    drivers/base/bus.c:166: warning: `driver_attr_unbind' defined but not used
    drivers/base/bus.c:194: warning: `driver_attr_bind' defined but not used
    
    Looks like these two attributes and supporting functions want to be
    #ifdef HOTPLUG'd
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6e56a2a088935f3c1feee5ff5a06c67f2ec6002
Author: Tony Luck <tony.luck@intel.com>
Date:   Tue Feb 7 15:25:57 2006 -0800

    [IA64] Fix CONFIG_PRINTK_TIME
    
    There were two problems with enabling the PRINTK_TIME config
    option:
    1) The first calls to printk() occur before per-cpu data virtual
    address is pinned into the TLB, so sched_clock() can fault.
    2) sched_clock() is based on ar.itc, which may not be synchronized
    across cpus.
    
    Ken Chen started this patch, Tony Luck tinkered with it, and Jes
    Sorensen perfected it.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9d78f43d1fd3e028bfd37510ce847d0896f71f78
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Tue Feb 7 11:35:46 2006 +0800

    [IA64] Fix wrong use of memparse in efi.c
    
    The check of (end != cp) after memparse in efi.c looks wrong to me.
    The result is that we can't use mem= and max_addr= kernel parameter at
    the same time.
    
    The following patch removed the check just like other arches do.
    
    Signed-off-by: Zou Nan hai <nanhai.zou@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ecdd5dabd33d67066d476467e447cdcadab90550
Author: Zou Nan hai <nanhai.zou@intel.com>
Date:   Tue Feb 7 11:25:55 2006 +0800

    [IA64] Fix a possible buffer overflow in efi.c
    
    Make sure to save space for the trailing '\0'.
    
    Signed-off-by: Zou Nan hai <nanhai.zou@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ce4b50f2fc62267eeaf331c41bc11b92d9bc7865
Merge: d43da75... 34218e0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 10:13:39 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit d43da75fd6be4197c280903e1553eafcc39218e2
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Feb 7 15:00:01 2006 +0100

    [PATCH] cciss: softirq handler needs to save interrupt flags
    
    The softirq rq completion handler needs to save/restore interrupt flags
    appropriately.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8a82fd030c2e0ba4d4169cc4257ef174ff6f6b4
Merge: e1a8e6c... b38c739...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 10:10:09 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit e1a8e6c9b757c09249ab29fc6da12d9ab64567e1
Author: Andi Kleen <ak@suse.de>
Date:   Tue Feb 7 12:48:00 2006 +0100

    [PATCH] Fix bad apic fix on i386
    
    Fix wrong '!' in bad apic fix
    
    I forgot to remove the ! when moving the code from x86-64 to i386 x86-64
    tested !disable_apic, but of course for cpu_has_apic it shouldn't be
    negated.
    
    Credit goes to Jan Beulich for spotting it with eagle eyes.
    
    Cc: Jan Beulich <jbeulich@novell.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50753817a3043e0621e99f329514c0c7003563b2
Merge: eeb059e... 6967bd8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 10:04:04 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit eeb059e0a69369753b3e45426958f751f0b8fc89
Merge: c03296a... 8c7f75d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Feb 7 10:01:43 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sam/kbuild-bugfix

commit 0d4be1240b2668b6a3ffadb15eb660baf52f8377
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Feb 7 08:45:35 2006 -0800

    [PATCH] qla2xxx: Correct lun assignment during IOCB submission.
    
    4gb products require an IOCB's FCP-LUN to be formatted in
    wire-format prior to submission.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 247ec457ce108000987be517c83868f6361d9f76
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Feb 7 08:45:40 2006 -0800

    [PATCH] qla2xxx: Pass input-buffer length to Get-ID-List mailbox command.
    
    Recent ISP24xx firmwares require that mailbox register 8 be
    set to the maximum number of bytes to transfer during DMA
    copying of the list.  We safely set this value to zero
    (infinite), since the call is *only* made in FCAL
    topologies.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f7757a5f0fa94a0ce4d6ea55f440845bb3faf712
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Feb 7 08:45:30 2006 -0800

    [PATCH] qla2xxx: Remove bogus debug-code.
    
    Commit 854165f4245c4a3b4a8cc363ba2050033151e196
    inadvertently added some code meant only for testing -- the
    driver was ignoring the non-zero function numbers of a
    multi-port HBA.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 387f96b4d9391bf3ce6928fb9cd90c9c7df37291
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Feb 7 08:45:45 2006 -0800

    [PATCH] qla2xxx: Close window on race between rport removal and fcport transition.
    
    Fcport visibility is recognized during interrupt time, but,
    rport removal can only occur during a process
    (sleeping)-context.  Return a DID_IMM_RETRY status for
    commands submitted within this window to insure I/Os do not
    prematurely run-out of retries.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b38c73995f63fe205c0068cb0ce3131895244068
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 7 01:20:43 2006 +0000

    [MIPS] Clear ST0_RE on bootup.
    
    The reset state is undefined and some firmware doesn't clear this bit
    possibly resulting in crashes on entry into userland.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f09678af51caf93cbbb253b298be995e1145a577
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Sat Feb 4 15:11:14 2006 +0300

    [MIPS] TX49x7: Fix reporting of the CPU name and PCI clock
    
    I've noticed that PCI clock was incorrectly reported as 66 MHz while being
    mere 33 MHz on RBTX4937 board -- this was due to the different encoding of
    the PCI divisor field in CCFG register between TX4927 and TX4937 chips...
    
    Also, RBTX49x7 was printed out as a CPU name (e.g., "CPU is RBTX4937");
    and some debug printk() were duplicating each other...
    
    Signed-off-by: Konstantin Baydarov <kbaidarov@ru.mvista.com>
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c226f2601f55010936f0f3c77ae167a02339f566
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Fri Feb 3 01:34:01 2006 +0900

    [MIPS] TX49 MFC0 bug workaround
    
    If mfc0 $12 follows store and the mfc0 is last instruction of a
    page and fetching the next instruction causes TLB miss, the result
    of the mfc0 might wrongly contain EXL bit.
    
    ERT-TX49H2-027, ERT-TX49H3-012, ERT-TX49HL3-006, ERT-TX49H4-008
    
    Workaround: mask EXL bit of the result or place a nop before mfc0.  It
    doesn't harm to always clear those bits, so we change the code to do so.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dbee90b7f90df6398f0877cd38dfaa76addb0619
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 2 14:31:16 2006 +0000

    [MIPS] Fix linker script to work for non-4K page size.
    
    Very much to my surprise Fuxin Zhang reports this is all it takes to get
    the kernel to work for page sizes larger than 4kB.  This also paves the
    way for support for the R6000 and R8000 which don't support 4kB page size.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fcfd980c833bd5ca1df9ca877b3e968e4da05b24
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 1 17:54:30 2006 +0000

    [MIPS] Oprofile: Support for 34K UP kernels.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d1e30a6347630ca7eeee2f46f826f05bbe80bb25
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Feb 2 01:29:14 2006 +0900

    [MIPS] Fix dump_tlb.c warning and cleanup.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5665a0ac59a656b94cbf3c4642b32024a6c1cf75
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Feb 2 01:26:34 2006 +0900

    [MIPS] Fix minor sparse warnings
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1e32ceeca25ea30cabce137fac7e2f58fe8847db
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 1 15:29:21 2006 +0000

    [MIPS] MIPS R2 optimized endianess swapping.
    
    From Franck Bui-Huu <vagabon.xyz@gmail.com> with modifications by me.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7e5b24ac759176e55c8a535fff6533366168cbe9
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jan 31 17:07:53 2006 +0000

    [MIPS] Remove buggy inline version of memscan.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9bbf28a36cae08817ac3a3f98fde329b02c89f4a
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Feb 1 01:41:09 2006 +0900

    [MIPS] Sparse: Add some __user tags to signal functions.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5be0f654a9d14c0c5aa031a3396ea8b9f2162cb9
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jan 31 01:40:55 2006 +0000

    [MIPS] Shrink Qemu configuration to the bare minimum that is need and tested.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3d503753b40469b6a19dcc3511f6eb8c55f6d122
Author: Daniel Jacobowitz <dan@debian.org>
Date:   Thu Jan 20 19:59:54 2005 -0500

    [MIPS] Support /proc/kcore for MIPS
    
    I'm pretty sure that the CKSEG0 bits are wrong, but I did need to
    cover that region - because the SB-1 kernel links at 0xffffffff80100000
    or so, disassembly and printing static variables don't work unless the
    debugger can read that region.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e9feeb207e55373f718b33e0d6cb0c2f8b58f3c1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 30 17:48:27 2006 +0000

    [MIPS] IP22: Fix serial console detection
    
    From: Kaj-Michael Lang <milang@tal.org>
    
    In ip22-setup.c the checks for serial/graphics console logic does
    not check if ARCS console=g but the machine is using serial console, as
    it does if no keyboard is attached.
    
    This patch adds a check if ConsoleOut is serial. There might also be
    support for other graphics than Newport soon...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c5033d780310ddc5b679ed37ccefcdb87a30ef0c
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Mon Jan 2 21:59:49 2006 +0900

    [MIPS] ieee754[sd]p_neg workaround
    
    It looks glibc's pow() assumes an unary '-' operation for any number
    (including NaNs) always inverts its sign bit (though IEEE754 does not
    specify the sign bit for NaNs).  This patch make the kernel math-emu
    emulates real MIPS neg.[ds] instruction.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d4264f183967db9c2dae4275abb98eb1f79facb2
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sun Jan 29 02:27:51 2006 +0900

    [MIPS] Remove wrong __user tags.
    
    This fixes sparse warnings 'dereference of noderef expression'.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2caf190002770b53fdb263ed744802a1b5e81649
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 30 17:14:41 2006 +0000

    [MIPS] Cleanup fls implementation.
    
    fls was the only called of flz, so fold flz into fls, same for the
    __ilog2 call.  Delete the now unused flz function.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2e66fe24d6faa287088ff18051dd423a32b60502
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 30 16:48:26 2006 +0000

    [MIPS] local_irq_restore wasn't safe to be used in other macros mode.
    
    It always left the assembler in reorder mode possibly causing disaster.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 75bdb426a16e81adcbc4c3d7f946018cd47830d1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 30 04:07:39 2006 +0000

    [MIPS] Remove commented out code to add -mmad for Nevada.
    
    Adding -mmad is not usable since over half a decade in gcc and when
    fixed the proper -march option values should enable the use of the
    mad, madu and mul instructions of the R5500, RM5200, RM7000 and RM9000
    families.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 52378445da0253d5031590e5e9186ee448dc0b4a
Author: Peter Horton <pdh@colonel-panic.org>
Date:   Sun Jan 29 21:33:48 2006 +0000

    [MIPS] Fix Cobalt PCI cache line sizes
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c315a2b5fed42aea4dda98b5ced35d1d1a3a8349
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sun Jan 29 02:31:17 2006 +0900

    [MIPS] Sparse: Add _MIPS_SZINT and _MIPS_ISA to CHECKFLAGS to fix sparse warnings.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 76f072a46f179be371aa10a84c85db06a387713b
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sun Jan 29 02:30:55 2006 +0900

    [MIPS] Build blast_cache routines from template
    
    Build blast_xxx, blast_xxx_page, blast_xxx_page_indexed from template.
    Easier to maintaina and saves 300 lines.  Generated code should be
    unchanged.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3055acb07a248324c9338c0624d26a6fdd9c2bf6
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sun Jan 29 22:34:32 2006 +0900

    [MIPS] Sparse: Fix some compiler/sparse warnings in ptrace32.c
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b6f7880b6c6ccb9f51adecf706109e15ad911bcc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 29 21:01:42 2006 +0000

    [MIPS] Reformat to 80 columns.
    
    Patch courtesy of Emily Postnews ;-)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5ac71fd1cf9976f5269e1c3cb34bbf6c454427a4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 29 20:56:43 2006 +0000

    [MIPS] Sibyte: Make all setup functions __init.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 010b853b3aab980a55a8dd34ce18aa23e9f2347a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 29 18:42:08 2006 +0000

    [MIPS] Get rid of CONFIG_SB1_PASS_1_WORKAROUNDS #ifdef crapola.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 492fd5f2fdbc1bb7e1d517fd5e9b0cd9f3d0b623
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Thu Jan 26 04:36:25 2006 +0300

    [MIPS] Au1200: Make KGDB compile
    
    AMD Au1200 SOC just doesn't have UART3, so KGDB won't even compile for it
    as is, here's the fix to make KGDB use UART1.
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 80730555af2ef1932bd8b9943333e8837dddfacc
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Wed Jan 25 21:27:10 2006 +0300

    [MIPS] Au1xx0: really set KSEG0 to uncached on reboot
    
    Fix a really old buglet in AMD Au1xx0 restart code: instead of
    modifying the whole CP0 Config.K0 field to 010b (meaning KSEG0 uncached)
    before flushing the caches and resetting a board, it only sets bit 1 of that
    reg. which is effectively a NOP since Config.K0 == 011b as the kernel sets it
    up (which is also its default value for Au1xx0).
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6fe2a5681fff0cbeaf9a2d3778661be62a7f2f06
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Wed Jan 25 21:24:57 2006 +0300

    [MIPS] TX49x7: Fix timer register #define's
    
    Fix the #define's for TX4927/37 timer reg's to match the datasheets (those
    
    Signed-off-by: Konstantin Baydarov <kbaidarov@mvista.com>
    Signed-off-by: Sergei Shtylyov <sshtylyov@mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4feb8f8f4589d1cb1594e344c9672ec40f627ab4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 23 16:15:30 2006 +0000

    [MIPS] Bullet proof uaccess.h against 4.0.1 miss-compilation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c03bc121212ecb36120b118a94c1b91a2e07b7b2
Author: Mark Mason <mason@broadcom.com>
Date:   Tue Jan 17 12:06:32 2006 -0800

    [MIPS] SB1: Add oprofile support.
    
    Signed-off-by: Mark Mason <mason@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4c91cc57bc9cfd337804d70bc9bff6a012aa8b83
Author: Mark Mason <mason@broadcom.com>
Date:   Tue Jan 17 12:02:17 2006 -0800

    [MIPS] BCM1480: Cleanup debug code left behind in the PCI driver.
    
    Signed-off-by: Mark Mason <mason@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 80f834e6877ce57e19b9de8cea69f81453907586
Author: Mark Mason <mason@broadcom.com>
Date:   Tue Jan 17 11:55:52 2006 -0800

    [MIPS] BCM1125 PCI fixes
    
    Make BCM1125 targets to link again.
    
    Signed-off-by: Mark Mason <mason@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dd2f18fe5af54ea8928f175d3bff9401a0fb6b83
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jan 19 14:55:42 2006 +0000

    [MIPS] Nevada support for SGI O2.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c011db451bcce468a6f999949fbdbc2fec1167d2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jan 19 00:49:32 2006 +0000

    [MIPS] CPU definitions for Cobalt.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 11ed6d5bb01c5f347fd5c47e0005f06687c66f1f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 18 23:26:43 2006 +0000

    [MIPS] Rename include/asm-mips/cobalt to include/asm-mips/mach-cobalt.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fcdb27ad1d5c66611d3df6400a9b559186f266fe
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 18 17:37:07 2006 +0000

    [MIPS] Rename _machine_power_off to pm_power_off so the kernel builds again.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9414d3628abb646834965b6c23b8e9064729b110
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jan 17 21:14:01 2006 +0000

    [MIPS] Check function pointers are non-zero before calling.
    
    Several boards don't initialize the pointers, so let's play safe.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a3305a8835ed039363822523a3cac24e990083dc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 3 16:47:44 2006 +0000

    [MIPS] Revert "mips: add pm_power_off"
    
    pm_power_off duplicates the functionality of _machine_restart.
    
    This reverts b142159fa5ffbad73b6927fafa5440148030f3f1 commit.

commit a84c96e202c286c1d56fed4a81bd850017aa2c64
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 15 18:11:28 2006 +0000

    [MIPS] RTLX compile fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 71baa1a599c04ab56ebf5fdb8d03abd0d601462f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 15 18:10:39 2006 +0000

    [MIPS] Get rid of unnecessary prototypes.  Fixes and optimizations for HZ > 100.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 05faa7b758e4f23b66c5a776a338f2348cbbc4af
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 11 18:23:00 2006 +0000

    [MIPS] Fix C version of ssnop to use the right opcode.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4f0638ba9e3825d21d41e98d04faa6b74a05c624
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jan 9 20:09:36 2006 +0000

    [MIPS] Remove stray .set mips3 resulting in 64-bit instruction in 32-bit kernels.
    
    Only the NMI handler was affected so this is a low impact bug.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7d4d61544a12333600bdb9b018a149868418692e
Author: Nathan Lynch <ntl@pobox.com>
Date:   Mon Feb 6 22:44:23 2006 -0600

    [PATCH] powerpc: avoid timer interrupt replay effect when onlining cpu
    
    When a cpu is hotplug-onlined, if we don't set per_cpu(last_jiffy) to
    something sane, timer_interrupt will execute its while loop for every
    tick missed since the cpu was last online (or since the system was
    booted, if we're adding a new cpu).  This can cause weird hangs, ssh
    sessions dropping, and we can even go xmon if we take a global IPI at
    the wrong time.
    
    Signed-off-by: Nathan Lynch <ntl@pobox.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4dc43256931db60d02d76bacf3cf03b5d79aa33a
Author: Michael Neuling <mikey@neuling.org>
Date:   Tue Feb 7 10:58:21 2006 +1100

    [PATCH] powerpc: hypervisor check in pseries_kexec_cpu_down
    
    We call unregister_vpa but we don't check to see if the hypervisor
    supports this.
    
    Signed-off-by: Michael Neuling <mikey@neuling.org>
    Acked-by: Anton Blanchard <anton@samba.org>
    --
     arch/powerpc/platforms/pseries/setup.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7d4b95ae8e946e5754122220644c865ec3735428
Author: Becky Bruce <bgill@freescale.com>
Date:   Mon Feb 6 14:26:31 2006 -0600

    [PATCH] documentation/powerpc: add bus-frequency property to SOC node
    
    Updated SOC node definition in documentation to include bus-frequency
    property. Also extended mdio example to match specification.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Kumar Gala <galak@gate.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f9b4045d6bbb109d066d127549b2beb38fd9bfc4
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Feb 7 13:26:14 2006 +1100

    [PATCH] powerpc: Don't use toc in decrementer_iSeries_masked
    
    Since 404849bbd2bfd62e05b36f4753f6e1af6050a824 we've been using
    LOAD_REG_ADDRBASE, which uses the toc pointer, in decrementer_iSeries_masked.
    
    This can explode if we take the decrementer interrupt while we're in a module,
    because the toc pointer in r2 will be the module's toc pointer.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 09f5dc44aeff9f792a807a7dca64c1791d98d8c8
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Feb 6 13:24:53 2006 +1100

    [PATCH] powerpc: Cleanup, consolidating icache dirtying logic
    
    The code to mark a page as icache dirty (so that it will later be
    icache-dcache flushed when we try to execute from it) is duplicated in
    three places: flush_dcache_page() does this marking and nothing else,
    but clear_user_page() and copy_user_page() duplicate it, since those
    functions make the page icache dirty themselves.
    
    This patch makes those other functions call flush_dcache_page()
    instead, so the logic's all in one place.  This will make life less
    confusing if we ever need to tweak the details of the the lazy icache
    flush mechanism.
    
     arch/powerpc/mm/mem.c |   14 ++------------
     1 file changed, 2 insertions(+), 12 deletions(-)
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 95eff20feb679a2223a6da1e7f272fe9aa99591e
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sat Feb 4 20:35:59 2006 +0100

    [PATCH] Don't check pointer for NULL before passing it to kfree [arch/powerpc/kernel/rtas_flash.c]
    
    Checking a pointer for NULL before passing it to kfree is pointless, kfree
    does its own NULL checking of input.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4009d980224389c33dce1565e0ac9f673354c43f
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 4 13:33:46 2006 +0100

    [PATCH] powerpc: fix compile warning in udbg_init_maple_realmode
    
    arch/powerpc/kernel/udbg_16550.c: In function `udbg_init_maple_realmode':
    arch/powerpc/kernel/udbg_16550.c:162: warning: assignment from incompatible pointer type
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d60dcd9450cf1c4d6482f7cd9c73366c07931bf6
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 4 12:55:41 2006 +0100

    [PATCH] powerpc: add refcounting to setup_peg2 and of_get_pci_address
    
    setup_peg2 must do some refcounting.
    of_get_pci_address may need to drop the node
    
    	Pegasos l2cr : L2 cache was not active, activating
    	PCI bus 0 controlled by pci at 80000000
    	Badness in kref_get at /home/olaf/kernel/olh/ppc64/linux-2.6.16-rc2-olh/lib/kref.c:32
    	Call Trace:
    	[C037BD00] [C0007934] show_stack+0x5c/0x184 (unreliable)
    	[C037BD30] [C000E068] program_check_exception+0x184/0x584
    	[C037BD90] [C000F5F0] ret_from_except_full+0x0/0x4c
    	--- Exception: 700 at kref_get+0xc/0x24
    	    LR = of_node_get+0x24/0x3c
    	[C037BE50] [C004FD94] __pte_alloc_kernel+0x64/0x80 (unreliable)
    	[C037BE70] [C000CA18] of_get_parent+0x34/0x58
    	[C037BE90] [C0009B18] of_get_address+0x24/0x174
    	[C037BED0] [C000A108] of_address_to_resource+0x24/0x68
    	[C037BF00] [C038B128] chrp_find_bridges+0x114/0x470
    	[C037BF90] [C038AE48] chrp_setup_arch+0x1fc/0x32c
    	[C037BFB0] [C03849B0] setup_arch+0x144/0x188
    	[C037BFD0] [C037C45C] start_kernel+0x34/0x1a8
    	[C037BFF0] [000037A0] 0x37a0
    	Badness in kref_get at /home/olaf/kernel/olh/ppc64/linux-2.6.16-rc2-olh/lib/kref.c:32
    	Call Trace:
    	[C037BC90] [C0007934] show_stack+0x5c/0x184 (unreliable)
    	[C037BCC0] [C000E068] program_check_exception+0x184/0x584
    	[C037BD20] [C000F5F0] ret_from_except_full+0x0/0x4c
    	--- Exception: 700 at kref_get+0xc/0x24
    	    LR = of_node_get+0x24/0x3c
    	[C037BDE0] [00000000] 0x0 (unreliable)
    	[C037BE00] [C000CA18] of_get_parent+0x34/0x58
    	[C037BE20] [C0009CE8] of_translate_address+0x2c/0x2fc
    	[C037BEA0] [C0009FE8] __of_address_to_resource+0x30/0xc4
    	[C037BED0] [C000A130] of_address_to_resource+0x4c/0x68
    	[C037BF00] [C038B128] chrp_find_bridges+0x114/0x470
    	[C037BF90] [C038AE48] chrp_setup_arch+0x1fc/0x32c
    	[C037BFB0] [C03849B0] setup_arch+0x144/0x188
    	[C037BFD0] [C037C45C] start_kernel+0x34/0x1a8
    	[C037BFF0] [000037A0] 0x37a0
    	PCI bus 0 controlled by pci at c0000000
    	Top of RAM: 0x10000000, Total RAM: 0x10000000
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 090db7c86d5df0161135793063e75bc1abddaa6f
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 4 12:44:56 2006 +0100

    [PATCH] powerpc: remove pointer/integer confusion in of_find_node_by_name
    
    remove pointer/integer confusion
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 03478804920a53405dfff73a0b23e9dcbbbee1c1
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 4 11:05:33 2006 +0100

    [PATCH] powerpc: restore clock speed in /proc/cpuinfo
    
    Use generic_calibrate_decr to restore missing clock: speed in /proc/cpuinfo
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d8a8188ded1251afc6a2ec8a668b0bdf038b64a1
Author: Olaf Hering <olh@suse.de>
Date:   Sat Feb 4 10:34:56 2006 +0100

    [PATCH] powerpc: remove pointer/integer confusion in generic_calibrate_decr
    
    remove pointer/integer confusion
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b68239ee746760bd99a68692f4c97a28f08a5d01
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Feb 3 19:05:47 2006 +1100

    [PATCH] powerpc: Don't overwrite flat device tree with kdump kernel
    
    It's possible for prom_init to allocate the flat device tree inside the
    kdump crash kernel region. If this happens, when we load the kdump kernel we
    overwrite the flattened device tree, which is bad.
    
    We could make prom_init try and avoid allocating inside the crash kernel
    region, but then we run into issues if the crash kernel region uses all the
    space inside the RMO. The easiest solution is to move the flat device tree
    once we're running in the kernel.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b4fd884a037c791a39f2f03da719e251af176a97
Author: Dave Boutcher <boutcher@cs.umn.edu>
Date:   Fri Feb 3 01:18:36 2006 -0600

    [PATCH] powerpc: remove useless call to touch_softlockup_watchdog
    
    It turns out that we can't stop the watchdog from
    triggering here.  If we touch the timer (which just uses the current jiffie
    value) before we enable interrupts, it does nothing because jiffies
    are not mass-updated until after we enable interrupts.  If we touch the
    timer after we enable interrupts, its too late because the softlockup
    watchdog will already have triggered.  The touch_softlockup_watchdog
    call removed below does nothing.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 82a4df74628a3bf0ac762be198b45e02a7c5879f
Author: Dave Boutcher <boutcher@cs.umn.edu>
Date:   Fri Feb 3 01:18:39 2006 -0600

    [PATCH] powerpc: prod all processors after ibm,suspend-me
    
    We need to prod everyone here since this is the only CPU that is
    guaranteed to be running after the ibm,suspend-me RTAS call returns.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c4cb8ecca66e3f136f66b5b30ec189530290a9b9
Author: Dave Boutcher <boutcher@cs.umn.edu>
Date:   Fri Feb 3 01:18:46 2006 -0600

    [PATCH] powerpc: return correct rtas status from ibm,suspend-me
    
    Correctly return the status from the RTAS call.  rtas_call expects
    to return the status as a return value.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 31a7f67e587aa0745a132ae68efa7f15dac677f9
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Jan 31 17:17:47 2006 +1100

    [PATCH] powerpc: Fix !SMP build of rtas.c
    
    arch/powerpc/kernel/rtas.c is getting hvcall.h via spinlock.h, but when we're
    building for UP we don't include spinlock.h.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a958a2648602aaa8f98aeb3c1c914f1b8096bfdc
Author: Jake Moilanen <moilanen@austin.ibm.com>
Date:   Mon Jan 30 21:51:54 2006 -0600

    [PATCH] powerpc: IOMMU SG paranoia
    
    This addresses two items, which are unlikely to be hit if we
    trust drivers.
    
    The first is moving a memory barrier below where the vmerged SG count
    is passed back, but before the list is set to end.  If those
    instructions were reordered, there could be an issue in iommu_unmap_sg().
    
    The second is making sure we terminate the list on the failure case of
    iommu_map_sg().  If a driver does not look at the failure return code,
    it could pass a ill-formed SG list to iommu_unmap_sg().
    
    Signed-off-by: Jake Moilanen <moilanen@austin.ibm.com>
    Acked-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cdc3ee8f2061bafe7593bab0096a0e711408b0f9
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 25 21:48:48 2006 +1300

    [PATCH] powerpc: Refuse to boot a kdump kernel via OF
    
    You can't boot a kdump kernel via OF, not reliably anyway, the kernel being at
    32 MB conflicts with the zImage wrapper etc. and it blows up.
    
    It's trivial to check in prom_init though, and this is early enough that we can
    actually drop back to OF where a reset-all will get you going again, which is
    kinda nice. I think this should go in for 2.6.16.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8c20fafa8548917fdbbd95588494498dd901b375
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 25 21:31:26 2006 +1300

    [PATCH] powerpc: Make sure we don't create empty lmb regions
    
    To prevent problems later in boot, make sure we don't create zero-size lmb
    regions.
    
    I've checked all the callers, and at the moment no one should ever hit this.
    All callers use a constant size, or they check the computed size before they
    call us.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fa93895329b87112cb1fd784db969e60b5b46af6
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 25 21:31:25 2006 +1300

    [PATCH] powerpc: Don't allocate zero bytes in finish_device_tree()
    
    In prom.c we run finish_node() on allnodes twice. The first time we just
    calculate how much memory we'll need, the second time we do the actual work.
    
    If the calculation stage determines that we need 0 bytes, then we should skip
    the lmb allocation. Although an alloc of zero will work, it has been seen to
    lead to a BUG_ON() in reserve_bootmem() on at least one machine.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3ea4807de7b2c5c903380ba2c2e7150bee942f42
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Jan 23 13:57:06 2006 -0200

    [PATCH] powerpc/8xx: last two 8MB D-TLB entries are incorrectly set
    
    The last two 8MB TLB entries are being incorrectly set by initial_mmu on 8xx.
    
    The first entry is written with the same virtual/physical address, which
    renders it invalid:
    
    BDI>rms 792 0x00001e00
    BDI>rms 824 1
    BDI>rds 824
    SPR  824 : 0xc08000c0  -1065353024
    BDI>rds 825
    SPR  825 : 0xc0800de0  -1065349664
    BDI>rds 826
    SPR  826 : 0x00000000            0
    
    And the second entry, in addition, does not have its TLB index set
    correctly.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aee9f26542cc27a37d593f1790b84cd57801a7c7
Author: Geoff Levand <geoffrey.levand@am.sony.com>
Date:   Mon Jan 23 17:37:11 2006 -0800

    [PATCH] powerpc: Fix spufs initialization sequence.
    
    This is a small fix to get the spufs init sequence right.
    
    init_spu_base() in spu_base.c should be called (via
    module_init(init_spu_base)) before spufs_init() (via
    module_init(spufs_init)) in spufs/inode.c gets called.
    
    Signed-off-by: Masato Noguchi <Masato.Noguchi@jp.sony.com>
    Signed-off-by: Geoff Levand <geoffrey.levand@am.sony.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 34218e06688341bd05a41425b745c7812d118de0
Merge: dece696... 6726448...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Tue Feb 7 08:11:31 2006 -0200

    Merge branch 'work-fixes'

commit dece696076936434eb49e43eb2d59ca35cb94376
Merge: fc3fba6... c03296a...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Tue Feb 7 08:11:05 2006 -0200

    Merge branch 'origin'

commit 67264484fac91db58fee9eb3bf1e3aaeaa3e7169
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Feb 7 04:01:19 2006 +0100

    V4L/DVB (3325): Disabled debug on by default in tvp5150
    
    disabled debug on by default in tvp5150
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9bd6f13dfd1dfb2e8f20df50581ebe7344ba97bd
Author: Nathan Scott <nathans@sgi.com>
Date:   Tue Feb 7 20:27:44 2006 +1100

    [XFS] Fix missing inode atime update from the utime syscall.
    
    SGI-PV: 949214
    SGI-Modid: xfs-linux-melb:xfs-kern:25136a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 9fddaca2293d768eb21ea115e5eedec7f1c13c1c
Author: David Chinner <dgc@sgi.com>
Date:   Tue Feb 7 20:27:24 2006 +1100

    [XFS] Account for the page we just wrote when we detect congestion during
    the clustering of extra pages in a buffered write.
    
    SGI-PV: 949210
    SGI-Modid: xfs-linux-melb:xfs-kern:25130a
    
    Signed-off-by: David Chinner <dgc@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit ed2099293627a1f6220c711b265528128f8ad50e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Feb 7 06:49:15 2006 -0200

    V4L/DVB (3318e): DVB: remove the at76c651/tda80xx frontends
    
    The at76c651 and tda80xx frontends are currently completely unused, IOW
    their only effect is making the kernel larger for people accitentially
    enabling them.
    
    The current in-kernel drivers differ from the drivers at cvs.tuxbox.org,
    and re-adding them when parts of the dbox2 project get merged should be
    trivial.
    
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 62b2c00addf2e7d441c4f29e2dd804110b9d9475
Author: Dave Jones <davej@redhat.com>
Date:   Tue Feb 7 06:49:15 2006 -0200

    V4L/DVB (3318c): fix saa7146 kobject register failure
    
    Whoops.
    
    kobject_register failed for hexium HV-PCI6/Orion (-13)
    [<c01d3eb6>] kobject_register+0x31/0x47
    [<c023a996>] bus_add_driver+0x4a/0xfd
    [<c01de3c1>] __pci_register_driver+0x82/0xa4
    [<d083400a>] hexium_init_module+0xa/0x47 [hexium_orion]
    [<c013bdae>] sys_init_module+0x167b/0x1822
    [<c01633f7>] do_sync_read+0xb8/0xf3
    [<c0133fa3>] autoremove_wake_function+0x0/0x2d
    [<c0145390>] audit_syscall_entry+0x118/0x13f
    [<c0106ae2>] do_syscall_trace+0x104/0x14a
    [<c0103d21>] syscall_call+0x7/0xb
    
    slashes in kobject names aren't allowed.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit be8a82d181147b9a6033ca9df870ca9fa0b0c515
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Tue Feb 7 06:49:14 2006 -0200

    V4L/DVB (3318a): Makes Some symbols static.
    
    Some symbols at cx88-alsa were global. Making those static.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9366865fdd9fd4fb9e7a81ce3678cc253c89ab9d
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Tue Feb 7 06:49:12 2006 -0200

    V4L/DVB (3313): FIX: Check if FW was downloaded or not + new firmware file
    
    - When a firmware was downloaded dvb_usb_device_init returns NULL for the
      dvb_usb_device, then nothing should be done with that pointer and device,
      because it will re-enumerate.
    - A new firmware should be used with digitv devices.
    - It should make "slave"-devices work and others, too.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit eba841ed1d00e13144c1063b304c1537b774a747
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Tue Feb 7 06:49:12 2006 -0200

    V4L/DVB (3312): FIX: Multiple usage of VP7045-based devices
    
    Reassigning function pointers in a static led to infinite loops when using
    multiple VP7045-based device at the same time on one system. Using kmalloc'd
    copies for reassignments is better.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 63631366dc3e159d1209838fb074d5df4edac76a
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Tue Feb 7 06:49:12 2006 -0200

    V4L/DVB (3310): Use MT352 parallel transport function for all Bluebird FusionHDTV DVB-T boxes.
    
    Use the parallel transport function of the MT352 demodulator in
    TH7579 and LGZ201 -based FusionHDTV Bluebird usb boxes.
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 4055d392aa0256462758b40cedb9eb7d564de93a
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Tue Feb 7 06:49:11 2006 -0200

    V4L/DVB (3308): Use parallel transport for FusionHDTV Dual Digital USB
    
    Use the parallel transport function of the MT352 in USB demodulator of the
    Dual Digital board.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9ead9bd1079b4b7ba45589f6495e79ec50237aed
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Tue Feb 7 06:49:11 2006 -0200

    V4L/DVB (3307): Support for Galaxis DVB-S rev1.3
    
    support for Galaxis DVB-S rev1.3 (subsystem 13c2:0004)
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9f38724a6f9a436ce25cb0dfceea4a615ee44fb6
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Feb 7 06:49:11 2006 -0200

    V4L/DVB (3306): Fixed i2c return value, conversion mdelay to msleep
    
    fixed i2c return value, conversion mdelay to msleep
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 0dfd812d4b2afc797310943b451608d347854e76
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Feb 7 06:45:34 2006 -0200

    V4L/DVB (3300): Add standard for South Korean NTSC-M using A2 audio.
    
    South Korea uses NTSC-M but with A2 audio instead of BTSC. Several audio
    chips need this information in order to set the correct audio processing
    registers.
    
    Acked-by: Mauro Carvalho Chehab <mauro_chehab@yahoo.com.br>
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit a77a922fcc56fe44fd8f65c041a52ff48474fafe
Author: Marco Manenti <marco_manenti@colman.it>
Date:   Tue Feb 7 06:45:33 2006 -0200

    V4L/DVB (3297): Add IR support to KWorld DVB-T (cx22702-based)
    
    add IR support to KWorld DVB-T (cx22702-based)
    
    Signed-off-by: Marco Manenti <marco_manenti@colman.it>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 815a3caf36def2297ba49a2e3d485c432e21ddec
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Feb 7 06:38:45 2006 -0200

    V4L/DVB (3294): Fix [Bug 5895] to correct snd_87x autodetect
    
    With DVB drivers enabled snd_87x (ALSA) don't detect.
    
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ac2523014234004413c252e1aa9c12774b7a502d
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Feb 7 06:25:42 2006 -0200

    V4L/DVB (3281): Added signal detection support to tvp5150
    
    - added signal detection support to tvp5150
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 1b0bb68d30b27b067fc654a0668d02c5bfc653a2
Author: Marcin Rudowski <mar_rud@poczta.onet.pl>
Date:   Mon Feb 6 09:15:14 2006 -0200

    V4L/DVB (3266): Fix NICAM buzz on analog sound
    
    Apparently, having the number of lines fixed at 4 reduces (or even kills)
    the buzz found in NICAM stereo with analog sound.
    
    Signed-off-by: Marcin Rudowski <mar_rud@poczta.onet.pl>
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 36377a19a00202153c72b9496ec0609c9aad0ec9
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Tue Feb 7 06:25:47 2006 -0200

    V4L/DVB (3299): Kconfig: DVB_USB_CXUSB depends on DVB_LGDT330X and DVB_MT352
    
    - rename DVB_USB_CXUSB one-liner description to:
      Conexant USB2.0 hybrid reference design support.
    - with the addition of bluebird support to dvb-usb-cxusb,
      it now depends on lgdt330x and mt352 modules.
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 6967bd81d883ed325fd58840ee02a8da60458e6b
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Fri Feb 3 01:45:21 2006 -0800

    [PATCH] Kbuild menu - hide empty NETDEVICES menu when NET is disabled
    
    Make the whole netdevices menu depend on NET, rather than having an empty
    submenu when networking is disabled.
    
    Indeed, almost the whole body of the menu was surrounded by if NETDEVICES,
    and what was outside depended on NETCONSOLE which is inside the menu.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 99bb25793e4bb8e9b633ea001dd7312b5967385a
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 01:45:20 2006 -0800

    [PATCH] uli526x warning fix
    
    drivers/net/tulip/uli526x.c: In function `__check_mode':
    drivers/net/tulip/uli526x.c:1693: warning: return from incompatible pointer type
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3cfc15103aa56c2c7ee6dd312c24a8d1697bade1
Merge: cc8c6e3... 371e8bc...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Feb 7 02:05:17 2006 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit cc8c6e379ca30a18cb18553abeb15fe19120bf7b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:   Wed Feb 1 15:18:03 2006 -0600

    [PATCH] gianfar: Fix sparse warnings
    
    Fixed sparse warnings mainly due to lack of __iomem.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3e710bfa6d92e777050f19a52b4fbbb7eeffb3a0
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 00:54:41 2006 -0800

    [PATCH] dscc4: fix dscc4_init_dummy_skb check
    
    It returns a pointer.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3418db7cfacffcf120996b10a785b7315bf0df82
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Wed Feb 1 00:54:34 2006 -0800

    [PATCH] bonding: Sparse warnings fix
    
    drivers/net/bonding/bond_sysfs.c:263:27: warning: Using plain integer as NULL pointer
    drivers/net/bonding/bond_sysfs.c:998:26: warning: Using plain integer as NULL pointer
    drivers/net/bonding/bond_sysfs.c:1126:26: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a0de3adf8f4e5618c5bd62db08ed293042c8e454
Author: Jay Vosburgh <fubar@us.ibm.com>
Date:   Mon Jan 30 15:40:59 2006 -0800

    [PATCH] bonding: allow bond to use TSO if slaves support it
    
    Add NETIF_F_TSO (NETIF_F_UFO) to BOND_INTERSECT_FEATURES so that it can
    be used by a bonding device iff all its slave devices support TSO (UFO).
    
    Signed-off-by: Arthur Kepner <akepner@sgi.com>
    Signed-off-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fa8d3549b591b6da943bad2928f994de07eaecef
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:38:01 2006 -0800

    [PATCH] sky2: version 0.15 update
    
    Increase version, and get rid of out-dated comment.
    Speed setting has worked for quite a while.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4d52b48b43d0d1d5959fa722ee0046e3542e5e1b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:38:00 2006 -0800

    [PATCH] sky2: support msi interrupt (revised)
    
    This hardware supports Message Signaled interrupts.
    When setting up, use software interrupt to check for bad hardware.
    
    Signed-off-by: Stephen Hemminger <shemminger @osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit db992c970dcfbbf24e6a681e66d22ddda62452c4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:59 2006 -0800

    [PATCH] sky2: add irq to entropy pool
    
    The sky2 interrupt can be used to add entropy.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f9a66c7f5fa2262656a1a38ae9b57a2a89980f36
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:58 2006 -0800

    [PATCH] sky2: clear irq race
    
    Move the interrupt clear to before processing, this avoids a
    possible races with status delaying.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a8ab1ec0c3ef4ce2033abe3441d032fe1490a71a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:57 2006 -0800

    [PATCH] sky2: set mac address fix
    
    Using the sky2 driver with bonding can result in oopses related to
    reinitializing the PHY when the MAC address is changed (which bonding
    is wont to do).  This patch changes sky2_set_mac_address to take less
    drastic measures.
    
    This is analagous to the skge patch here:
    
    	http://lkml.org/lkml/2005/9/29/399
    
    which fixed the issue here:
    
    	http://bugzilla.kernel.org/show_bug.cgi?id=5271
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d28d4870279c5d184804b6ac1775b130972ffecd
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:56 2006 -0800

    [PATCH] sky2: ethtool rx_coalesce settings fix
    
    This fixes setting rx_coalesce_usecs_irq via ethtool in sky2.
    The write was directed to the wrong register.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Carl-Daniel Hailfinger <c-d.hailfinger.devel.2006@gmx.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2d42d21f11c20b94ea0222637e20e2630845afe4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:55 2006 -0800

    [PATCH] sky2: pci config space checking
    
    There were bugs in mmconfig access to PCI space, up to and
    include 2.6.16-rc1. These prevented the sky2 driver from being
    able to clear PCI express errors.
    
    This patch makes the driver check (during probe), for errors
    in PCI config access and fail.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 08c06d8a9063c81f6a21c9f275aa1ee49d4bf380
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 30 11:37:54 2006 -0800

    [PATCH] sky2: power management fix
    
    Fix suspend/resume for sky2. The status ring was getting reallocated
    and a bunch of other mistakes. Also, check return from power_state
    on resume.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d561514f616504c0962f22d51d165f7b6e1bae1b
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 29 20:33:52 2006 +0100

    [PATCH] sis900: remove cfgpmcsr I/O space register define
    
    sis900 defines 'cfgpmcsr' as an I/O space register, but CFGPMCSR is
    in fact a config space register, and there is no register at offset
    0x44 in I/O space, so delete the enum.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 471ef051bc3b980e2f38cbe9112eac7bfe4d6633
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Feb 7 01:50:45 2006 -0500

    e100: remove init_hw call to fix panic
    
    e100 seems to have had a long standing bug where e100_init_hw was being
    called when it should not have been.  This caused a panic due to recent
    changes that rely on correct set up in the driver, and more robust error
    paths.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e2f5a3c1bec1cf3e7c76c080fd7f21476f05008a
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Feb 7 13:55:30 2006 +1100

    powerpc/64: Fix bug in setting floating-point exception mode
    
    When loading up the FPU, we were using a 'ld' (load doubleword)
    instruction to get the FP exception mode from the thread_struct,
    but it's only an int field.  This changes the ld to lwz (load
    word and zero-extend).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c03296a868ae7c91aa2d8b372184763b18f16d7a
Merge: e3f749c... 913e4a7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Feb 6 15:46:39 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 6cb6524d90b6e5497e79a1474bdb2f26755d1c02
Merge: 837e959... 410c054...
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Feb 7 10:43:36 2006 +1100

    Merge ../linux-2.6

commit 276e0c75f1e9a8b34b7b19e8fe188be958d420dd
Author: Vincent Hanquez <vincent@snarc.org>
Date:   Wed Jan 25 14:49:13 2006 +0100

    [PATCH] debugfs: trivial comment fix
    
    Fix trivial type mixup in the debugfs function comments.
    
    Signed-off-by: Vincent Hanquez <vincent@snarc.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d87499ed1a3ba0f6dbcff8d91c96ef132c115d08
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Jan 25 10:21:32 2006 +1100

    [PATCH] Fix uevent buffer overflow in input layer
    
    The buffer used for kobject uevent is too small for some of the events generated
    by the input layer. Bump it to 2k.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9c1da3cb46316e40bac766ce45556dc4fd8df3ca
Author: David Brownell <david-b@pacbell.net>
Date:   Sat Jan 21 13:21:43 2006 -0800

    [PATCH] SPI: spi_butterfly, restore lost deltas
    
    This resolves some minor version skew glitches that accumulated for the AVR
    Butterfly adapter driver, which caused among other things the existence of
    a duplicate Kconfig entry.  Most of it boils down to comment updates, but in
    one case it removes some now-superfluous code that would be better if not
    copied into other controller-level drivers.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 022f7b07bf2b384ece7fbd7edb90e54cd78db252
Author: Pavel Machek <pavel@suse.cz>
Date:   Sun Jan 22 22:38:52 2006 +0100

    [PATCH] Fix Userspace interface breakage in power/state
    
    Prevent passing invalid values down to the drivers.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 68f5f996347dc2724a0dd511683643a2b6912380
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 20 14:08:59 2006 -0800

    [PATCH] IB: fix up major/minor sysfs interface for IB core
    
    Current IB code doesn't work with userspace programs that listen only to
    the kernel event netlink socket as it is trying to create its own dev
    interface.  This small patch fixes this problem, and removes some
    unneeded code as the driver core handles this logic for you
    automatically.
    
    Acked-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0650fd5824e07570f0c43980b81bb23ae917f1d7
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 20 14:08:59 2006 -0800

    [PATCH] DRM: fix up classdev interface for drm core
    
    Current drm code doesn't work with userspace programs that listen only
    to the kernel event netlink socket as it is trying to create its own dev
    interface.  Turns out lots of code can just be deleted as the driver
    core can do all of this work automatically for you.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f67d115fe48f494d4b7f4f2024217fe52578915f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 19 17:30:17 2006 +0100

    [PATCH] drivers/base/: proper prototypes
    
    This patch contains the following changes:
    - move prototypes to base.h
    - sys.c should #include "base.h" for getting the prototype of it's
      global function system_bus_init()
    
    Note that hidden in this patch there's a bugfix:
    
    Caller and callee disagreed regarding the return type of
    sysdev_shutdown().
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e485981e52b476c1b6a00873c2f8b75b3168718f
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Sat Jan 14 20:01:02 2006 +0000

    [PATCH] Fix compiler warning in driver core for CONFIG_HOTPLUG=N
    
    FYI, while running a build test, I found:
    
    drivers/base/bus.c:166: warning: `driver_attr_unbind' defined but not used
    drivers/base/bus.c:194: warning: `driver_attr_bind' defined but not used
    
    Looks like these two attributes and supporting functions want to be
    #ifdef HOTPLUG'd
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b365b3daf2a9e2a8b002ea9fef877af1c71513fd
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Thu Jan 12 20:02:00 2006 -0500

    [PATCH] kobject: don't oops on null kobject.name
    
    kobject_get_path() will oops if one of the component names is
    NULL.  Fix that by returning NULL instead of oopsing.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c171fef5c8566cf5f57877e7832fa696ecdf5228
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 20 14:08:59 2006 -0800

    [PATCH] kobject_add() must have a valid name in order to succeed.
    
    So we might as well check to verify this, and let the user know that
    something is wrong if they didn't do it correctly, instead of oopsing
    later on in kobject_get_name() or somewhere else.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c5e3fbf22ccba0879b174fab7ec0e322b1266c2c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Jan 18 22:39:48 2006 +0100

    [PATCH] hwmon: Fix reboot on it87 driver load
    
    Only scan I2C address 0x2d. This is the default address and no IT87xxF
    chip was ever seen on I2C at a different address. These chips are
    better accessed through their ISA interface anyway.
    
    This fixes bug #5889, although it doesn't address the whole class
    of problems. We'd need the ability to blacklist arbitrary I2C addresses
    on systems known to contain I2C devices which behave badly when probed.
    
    Plan the I2C interface for removal as well. If nobody complains within
    a year, it will confirm my impression that the I2C interface isn't
    actually needed by anyone.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e53004e20a58e9d28347e02adccb37a33e0d771a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 23:26:14 2006 +0100

    [PATCH] hwmon: New f71805f driver
    
    This is my f71805f hardware monitoring driver ported from lm_sensors
    to Linux 2.6. This new driver differs from the other hardware monitoring
    drivers in that it is implemented as a platform driver. This might not
    be optimal yet (we would probably need a generic infrastructure and bus
    type for Super-I/O logical devices) but it is certainly much better than
    the i2c-isa solution.
    
    Note that this driver requires lm_sensors CVS. I hope to get it
    released as 2.10.0 soon.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5db3d3da93fb93875c719239892ac526cfd2d584
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 23:32:57 2006 +0100

    [PATCH] hwmon: Add f71805f documentation
    
    Add some documentation for the new f71805f driver. This is almost the
    same help that was present in lm_sensors, with a few minor layout fixes.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7e3d7db52469f6bcfbfd2d3d00dd17da573facd9
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Mon Jan 9 23:19:51 2006 +0100

    [PATCH] i2c: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]). Some trailing
    whitespaces are also removed.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8104a9a9c9ad8c849d931c46ef6841b23d1fc729
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Mon Jan 9 23:09:57 2006 +0100

    [PATCH] i2c: Use module_param in i2c-algo-sibyte
    
    this patch changes MODULE_PARM usage
    to module_param in i2c-algo-sibyte.c
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0d0ab7fe4c009c40dc485731f9ad98e1d336ddae
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 23:07:05 2006 +0100

    [PATCH] hwmon: Inline w83792d register access functions
    
    Inline w83792d_{read,write}_value for better performance.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Yuan Mu <Ymu@winbond.com.tw>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 806ba6409061ae49421319e3745026014abc49c2
Author: Rudolf Marek <r.marek@sh.cvut.cz>
Date:   Mon Jan 9 22:46:14 2006 +0100

    [PATCH] i2c: Rename i2c-sis96x documentation file
    
    This patch just renames the documentation file to correct file name.
    i2c-sis69x -> i2c-sis96x.
    
    Signed-off-by: Rudolf Marek <r.marek@sh.cvut.cz>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 413b64515079a4063776d81067f69cc41bdb34ad
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 22:43:08 2006 +0100

    [PATCH] hwmon: Fix negative temperature readings in lm77 driver
    
    Fix negative temperature readings in lm77 driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Michael Renzmann <mrenzmann@otaku42.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 21bbd691827e3610ef975a88863859381ac8d8e0
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 15:19:18 2006 +1100

    [PATCH] I2C: Resurrect i2c_smbus_write_i2c_block_data.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>

commit 8254fc4afcc81e69428c453cc216aa612c80e98b
Author: Jason Gaston <jason.d.gaston@intel.com>
Date:   Mon Jan 9 10:58:08 2006 -0800

    [PATCH] i2c-i801: I2C patch for Intel ICH8
    
    This patch adds the Intel ICH8 DID to the i2c-i801.c and Kconfig files for I2C
    support.
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9ed2ad8648eb974ee670045d41b5a51b763e3aa1
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Tue Jan 31 14:26:25 2006 -0800

    [IA64] add syscall entry for *at()
    
    Wire up the ia64 syscalls for *at() functions.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 913e4a75572354995b330f57082d9a86250cd75f
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Feb 3 14:47:15 2006 -0600

    [IA64-SGI] Shub2 BTE address fix
    
    After converting the cpu physical address to shub2 physical
    addressing, the address was run through TO_PHYS() which
    clobbered a high node offset bit causing the BTE to fail
    on shub2 nodes with large memory.  This fix corrects
    that problem.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 27ee6e0592c7d624836835dd8d2f0f74e9d289f6
Merge: 7c6c663... 103ec09...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Feb 6 09:23:51 2006 -0800

    Pull sn-recursive-flags-for-select-builds into release branch

commit fc3fba60f5d292a3b875e2498577fc35bd68b9da
Merge: b2faf59... e3f749c...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Feb 6 14:35:35 2006 -0200

    Merge branch 'origin'

commit b2faf597d93bdf5e2d12d93ea0815935a73f749e
Merge: 638e174... 410c054...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Feb 6 10:43:13 2006 -0200

    Merge branch 'origin'

commit e3f749c4af69c4344d89f11e2293e3790eb4eaca
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Feb 5 20:23:33 2006 -0800

    [PPP]: Fixed hardware RX checksum handling
    
    When we pull the PPP protocol off the skb, we forgot to update the
    hardware RX checksum.  This may lead to messages such as
    
    	dsl0: hw csum failure.
    
    Similarly, we need to clear the hardware checksum flag when we use
    the existing packet to store the decompressed result.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 62288f105b3cad0b8643526d2a41b5503d0a1476
Author: adam radford <aradford@gmail.com>
Date:   Sun Feb 5 14:51:43 2006 -0800

    [SCSI] 3ware 9000 driver >4GB memory fix
    
    The attached patch fixes a bug in the 3ware 9000 series driver:
    
    - Fix use_sg == 0 mapping on systems with 4GB or higher.
    
      This fixes REPORT_LUNS (0xa0) failing with 3ware 9000 controllers on systems
      with lots of ram, mentioned in bugzilla # 6009:
    
          http://bugzilla.kernel.org/show_bug.cgi?id=6009
    
    Signed-off-by: Adam Radford <linuxraid@amcc.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 410c05427a69f53851637ccb85c2212131409fbd
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Sun Feb 5 14:16:08 2006 -0800

    [PATCH] USB: Fix GPL markings on usb core functions.
    
    I thought we had fixed up all non-gpl USB drivers, and was wrong to do
    this.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64419d93a5906600af5817ad0cae3c6ecf7fb389
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Feb 5 21:43:57 2006 +0000

    NTFS: We have struct kmem_cache now so use it instead of the typedef.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 7a21ef6fe902ac0ad53b45af6851ae5ec3a64299
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 5 11:26:38 2006 -0800

    mm/slab.c (non-NUMA): Fix compile warning and clean up code
    
    The non-NUMA case would do an unmatched "free_alien_cache()" on an alien
    pointer that had never been allocated.
    
    It might not matter from a code generation standpoint (since in the
    non-NUMA case, the code doesn't actually _do_ anything), but it not only
    results in a compiler warning, it's really really ugly too.
    
    Fix the compiler warning by just having a matching dummy allocation.
    That also avoids an unnecessary #ifdef in the code.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c265c46bbb8c53db0bd084261ab2996c6d74aebf
Merge: 98bd0c0... 7f7ff6b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 5 11:10:54 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 98bd0c07b60e029cf53eb76c027c27548dd66e9b
Merge: 5e375bc... 7918d21...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 5 11:10:29 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 5e375bc7d586e0df971734a5a5f1f080ffd89b68
Author: Robb, Sam <sam.robb@timesys.com>
Date:   Sat Feb 4 23:28:06 2006 -0800

    [PATCH] kconfig: detect if -lintl is needed when linking conf,mconf
    
    On a system where libintl.h is present, but the NLS functionality is
    supplied by a separate library instead of the system C library, an attempt
    to "make config" or "make menuconfig" will fail with link errors, ex:
    
      scripts/kconfig/mconf.o:mconf.c:(.text+0xf63): undefined reference to
        `_libintl_gettext'
    
    This patch attempts to correct the problem by detecting whether or not NLS
    support requires linking with libintl.
    
    Signed-off-by: Samuel J Robb <sam.robb@timesys.com>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4be68a783d25b4dab0ef4077a4c6b13161a2d6e4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Feb 4 23:28:05 2006 -0800

    [PATCH] i386: HIGHMEM64G must depend on X86_CMPXCHG64
    
    Due to the usage of set_64bit in include/asm-i386/pgtable-3level.h,
    HIGHMEM64G must depend on X86_CMPXCHG64.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 911b0ad25d167fede6aadc05065b414ec7ab5086
Author: Takashi Iwai <tiwai@suse.de>
Date:   Sat Feb 4 23:28:05 2006 -0800

    [PATCH] Fix "value computed is not used" compile warnings with gcc-4.1
    
    Fix gcc4.1 compile warnings "value computed is not used" with
    set_current_state() and set_task_state() on i386/SMP and x86-64.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b53e8f68e07fb8f3ba9ab1812c9c186c09a50c16
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Sat Feb 4 23:28:04 2006 -0800

    [PATCH] i386: print kernel version in register dumps
    
    Show first field of kernel version in register dumps like x86_64 does.
    
    Changes output from e.g.:
    	(2.6.16-rc1)
    to:
    	(2.6.16-rc1 #12)
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe38d8553ccb5237bf0eddda9e94fbca7288551c
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Sat Feb 4 23:28:03 2006 -0800

    [PATCH] i386 cpu hotplug: don't access freed memory
    
    i386 CPU init code accesses freed init memory when booting a newly-started
    processor after CPU hotplug.  The cpu_devs array is searched to find the
    vendor and it contains pointers to freed data.
    
    Fix that by:
    
            1. Zeroing entries for freed vendor data after bootup.
            2. Changing Transmeta, NSC and UMC to all __init[data].
            3. Printing a warning (once only) and setting this_cpu
               to a safe default when the vendor is not found.
    
    This does not change behavior for AMD systems.  They were broken already
    but no error was reported.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 170aa3d02614ae621d54af10555e2f48977ae8de
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Sat Feb 4 23:28:02 2006 -0800

    [PATCH] namei.c: unlock missing in error case
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f55eab822b93864ef4eef3bd7eadac2a727c914b
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Feb 4 23:28:01 2006 -0800

    [PATCH] VFS: Ensure LOOKUP_CONTINUE flag is preserved by link_path_walk()
    
    When walking a path, the LOOKUP_CONTINUE flag is used by some filesystems
    (for instance NFS) in order to determine whether or not it is looking up
    the last component of the path.  It this is the case, it may have to look
    at the intent information in order to perform various tasks such as atomic
    open.
    
    A problem currently occurs when link_path_walk() hits a symlink.  In this
    case LOOKUP_CONTINUE may be cleared prematurely when we hit the end of the
    path passed by __vfs_follow_link() (i.e.  the end of the symlink path)
    rather than when we hit the end of the path passed by the user.
    
    The solution is to have link_path_walk() clear LOOKUP_CONTINUE if and only
    if that flag was unset when we entered the function.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4484ebf12bdb0ebcdc6e8951243cbab3d7f6f4c1
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sat Feb 4 23:27:59 2006 -0800

    [PATCH] NUMA slab locking fixes: fix cpu down and up locking
    
    This fixes locking and bugs in cpu_down and cpu_up paths of the NUMA slab
    allocator.  Sonny Rao <sonny@burdell.org> reported problems sometime back on
    POWER5 boxes, when the last cpu on the nodes were being offlined.  We could
    not reproduce the same on x86_64 because the cpumask (node_to_cpumask) was not
    being updated on cpu down.  Since that issue is now fixed, we can reproduce
    Sonny's problems on x86_64 NUMA, and here is the fix.
    
    The problem earlier was on CPU_DOWN, if it was the last cpu on the node to go
    down, the array_caches (shared, alien) and the kmem_list3 of the node were
    being freed (kfree) with the kmem_list3 lock held.  If the l3 or the
    array_caches were to come from the same cache being cleared, we hit on
    badness.
    
    This patch cleans up the locking in cpu_up and cpu_down path.  We cannot
    really free l3 on cpu down because, there is no node offlining yet and even
    though a cpu is not yet up, node local memory can be allocated for it.  So l3s
    are usually allocated at keme_cache_create and destroyed at
    kmem_cache_destroy.  Hence, we don't need cachep->spinlock protection to get
    to the cachep->nodelist[nodeid] either.
    
    Patch survived onlining and offlining on a 4 core 2 node Tyan box with a 4
    dbench process running all the time.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca3b9b91735316f0ec7f01976f85842e0bfe5c6e
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sat Feb 4 23:27:58 2006 -0800

    [PATCH] NUMA slab locking fixes: irq disabling from cahep->spinlock to l3 lock
    
    Earlier, we had to disable on chip interrupts while taking the
    cachep->spinlock because, at cache_grow, on every addition of a slab to a slab
    cache, we incremented colour_next which was protected by the cachep->spinlock,
    and cache_grow could occur at interrupt context.  Since, now we protect the
    per-node colour_next with the node's list_lock, we do not need to disable on
    chip interrupts while taking the per-cache spinlock, but we just need to
    disable interrupts when taking the per-node kmem_list3 list_lock.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e1217cf96b54d3b2d0162930608159e73507fbf
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sat Feb 4 23:27:56 2006 -0800

    [PATCH] NUMA slab locking fixes: move color_next to l3
    
    colour_next is used as an index to add a colouring offset to a new slab in the
    cache (colour_off * colour_next).  Now with the NUMA aware slab allocator, it
    makes sense to colour slabs added on the same node sequentially with
    colour_next.
    
    This patch moves the colouring index "colour_next" per-node by placing it on
    kmem_list3 rather than kmem_cache.
    
    This also helps simplify locking for CPU up and down paths.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64b4a954b03a1153fb8ae38d6ffbd991e01a1e80
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Feb 4 23:27:55 2006 -0800

    [PATCH] hugetlb: add comment explaining reasons for Bus Errors
    
    I just spent some time researching a Bus Error.  Turns out that the huge
    page fault handler can return VM_FAULT_SIGBUS for various conditions where
    no huge page is available.
    
    Add a note explaining the reasoning in the source.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe1dcbc4f311c2e6c23b33c0fa8572461618ab3e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Feb 4 23:27:54 2006 -0800

    [PATCH] jbd: fix transaction batching
    
    Ben points out that:
    
      When writing files out using O_SYNC, jbd's 1 jiffy delay results in a
      significant drop in throughput as the disk sits idle.  The patch below
      results in a 4-5x performance improvement (from 6.5MB/s to ~24-30MB/s on my
      IDE test box) when writing out files using O_SYNC.
    
    So optimise the batching code by omitting it entirely if the process which is
    doing a sync write is the same as the one which did the most recent sync
    write.  If that's true, we're unlikely to get any other processes joining the
    transaction.
    
    (Has been in -mm for ages - it took me a long time to get on to performance
    testing it)
    
    Numbers, on write-cache-disabled IDE:
    
    /usr/bin/time -p synctest -n 10 -uf -t 1 -p 1 dir-name
    
    Unpatched:
    	40 seconds
    Patched:
    	35 seconds
    Batching disabled:
    	35 seconds
    
    This is the problematic single-process-doing-fsync case.  With multiple
    fsyncing processes the numbers are AFACIT unaltered by the patch.
    
    Aside: performance testing and instrumentation shows that the transaction
    batching almost doesn't help (testing with synctest -n 1 -uf -t 100 -p 10
    dir-name on non-writeback-caching IDE).  This is because by the time one
    process is running a synchronous commit, a bunch of other processes already
    have a transaction handle open, so they're all going to batch into the same
    transaction anyway.
    
    The batching seems to offer maybe 5-10% speedup with this workload, but I'm
    pretty sure it was more important than that when it was first developed 4-odd
    years ago...
    
    Cc: "Stephen C. Tweedie" <sct@redhat.com>
    Cc: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc5e483da61eb5ab8d24b4a919fb512e5886d02c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Feb 4 23:27:51 2006 -0800

    [PATCH] reiserfs_get_acl() build fix
    
    With CONFIG_REISERFS_FS_XATTR=y, CONFIG_REISERFS_FS_POSIX_ACL=n:
    
    fs/reiserfs/xattr.c: In function `reiserfs_check_acl':
    fs/reiserfs/xattr.c:1330: called object is not a function
    
    Cc: Chris Mason <mason@suse.com>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 165a2c1d514892ae917cdf80be9e5269015c1034
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Feb 4 23:27:51 2006 -0800

    [PATCH] x86: fix stack trace facility level
    
    dump_stack() on page allocation failure presently has an irritating habit
    of shouting just "====" at everyone: please stop it.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2b507fda390b8ae90deba9b8cdc3fe727482193
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Sat Feb 4 23:27:50 2006 -0800

    [PATCH] selinux: require SECURITY_NETWORK
    
    Make SELinux depend on SECURITY_NETWORK (which depends on SECURITY), as it
    requires the socket hooks for proper operation even in the local case.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c0d5d262aa4c5e93f9f5de298cf25d6d8b558c4
Author: Dave Jones <davej@redhat.com>
Date:   Sat Feb 4 23:27:49 2006 -0800

    [PATCH] missing license tag in intermodule
    
    It may suck something awful, but it shouldn't taint the kernel.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c55ac9bbca22ee134408f83de5f2bda3b1b2a53
Author: Phillip Susi <psusi@cfl.rr.com>
Date:   Sat Feb 4 23:27:48 2006 -0800

    [PATCH] pktcdvd: Allow larger packets
    
    The pktcdvd driver uses a compile time macro constant to define the maximum
    supported packet length.  I changed this from 32 sectors to 128 sectors
    because that allows over 100 MB of additional usable space on a 700 MB cdrw,
    and increases throughput.
    
    Note that you need a modified cdrwtool program that can format a CDRW disc
    with larger packets to benefit from this change.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1bc89bc9991e994f2b3c60d9ad2fdb5ad9b10fc
Author: Peter Osterlund <petero2@telia.com>
Date:   Sat Feb 4 23:27:47 2006 -0800

    [PATCH] pktcdvd: Don't waste kernel memory
    
    Allocate memory for read-gathering at open time, when it is known just how
    much memory is needed.  This avoids wasting kernel memory when the real packet
    size is smaller than the maximum packet size supported by the driver.  This is
    always the case when using DVD discs.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b566ccefd7814e4fa403de81aea299bdc11ceed5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Feb 4 23:27:45 2006 -0800

    [PATCH] Let CDROM_PKTCDVD_WCACHE depend on EXPERIMENTAL
    
    Unless the help text is outdated, this seems to be logical.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 11edefd8c828961686a2ea0093da0e19b3f5a3bf
Author: Peter Osterlund <petero2@telia.com>
Date:   Sat Feb 4 23:27:45 2006 -0800

    [PATCH] pktcdvd: remove version string
    
    The version information is not useful for a driver that is maintained in
    Linus' kernel tree.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a460ad62260def15c42130de253d6cfc32528a2f
Author: Phillip Susi <psusi@cfl.rr.com>
Date:   Sat Feb 4 23:27:44 2006 -0800

    [PATCH] pktcdvd: Fix overflow for discs with large packets
    
    The pktcdvd driver was using an 8 bit field to store the packet length
    obtained from the disc track info.  This causes it to overflow packet length
    values of 128KB or more.  I changed the field to 32 bits to fix this.
    
    The pktcdvd driver defaulted to its maximum allowed packet length when it
    detected a 0 in the track info field.  I changed this to fail the operation
    and refuse to access the media.  This seems more sane than attempting to
    access it with a value that almost certainly will not work.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd576c9523fbf23e94fb7dbe05d2ae1cf96864e4
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Sat Feb 4 23:27:42 2006 -0800

    [PATCH] sched: only print migration_cost once per boot
    
    migration_cost prints after every CPU hotplug event.  Make it print only
    once at boot.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 62cfe7efc4e6ba44b0903c53f09d37de59160afa
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Sat Feb 4 23:27:42 2006 -0800

    [PATCH] MAINTAINERS/CREDITS: Update SELinux contact info
    
    Update my contact info.  Please apply.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7128ec2a747d7a5f3c764c37bef17081ccc2374c
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sat Feb 4 23:27:40 2006 -0800

    [PATCH] fuse: fix request_end() vs fuse_reset_request() race
    
    The last fix for this function in fact opened up a much more often
    triggering race.
    
    It was uncommented tricky code, that was buggy.  Add comment, make it less
    tricky and fix bug.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e22bec266cd6f540da2a61db216914c3473135cc
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Sat Feb 4 23:27:39 2006 -0800

    [PATCH] Fix i2o_scsi oops on abort
    
    Fix http://bugzilla.kernel.org/show_bug.cgi?id=5923
    
    When a scsi command failed, an oops would result.
    
    Back-to-back SMART queries would make the Seagate drives unhappy.  The
    second SMART query would timeout, and the command would be aborted.
    
    Acked-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Cc: Kenny Simpson <theonetruekenny@yahoo.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 238e7db9357bfe1ce3d6f7ac1e60e595e9d46b7b
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Feb 4 23:27:38 2006 -0800

    [PATCH] block: request_queue->ordcolor must not be flipped on SOFTBARRIER
    
    q->ordcolor must not be flipped on SOFTBARRIER.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a7a67af8bb02106f0fb01dd9d237332f874be9a
Author: Jens Axboe <axboe@suse.de>
Date:   Sat Feb 4 23:27:38 2006 -0800

    [PATCH] fix ordering on requeued request drainage
    
    Previously, if a fs request which was being drained failed and got
    requeued, blk_do_ordered() didn't allow it to be reissued, which causes
    queue stall.  This patch makes blk_do_ordered() use the sequence of each
    request to determine whether a request can be issued or not.  This fixes
    the bug and simplifies code.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88a2a4ac6b671a4b0dd5d2d762418904c05f4104
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sat Feb 4 23:27:36 2006 -0800

    [PATCH] percpu data: only iterate over possible CPUs
    
    percpu_data blindly allocates bootmem memory to store NR_CPUS instances of
    cpudata, instead of allocating memory only for possible cpus.
    
    As a preparation for changing that, we need to convert various 0 -> NR_CPUS
    loops to use for_each_cpu().
    
    (The above only applies to users of asm-generic/percpu.h.  powerpc has gone it
    alone and is presently only allocating memory for present CPUs, so it's
    currently corrupting memory).
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Jens Axboe <axboe@suse.de>
    Cc: Anton Blanchard <anton@samba.org>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40cdc840dc337cb17d81bcf028b40834e78c1038
Author: Jenx Axboe <axboe@suse.de>
Date:   Sun Feb 5 16:36:23 2006 +0100

    [SCSI] gdth: don't map zero-length requests
    
    Don't map zero-length requests in gdth, zome architectures don't like
    that in their dma mapping routines.
    
    [ I'm pretty sure Jens posted this before, but for some reason it got
      forgotten  --hch ]
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cef5076987dd545ac74f4efcf1c962be8eac34b0
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Feb 5 10:51:57 2006 -0800

    Revert "[PATCH] x86_64: Fix the node cpumask of a cpu going down"
    
    This reverts commit 10f4dc8b27ac42f930ac55adb8c521264dc997f8.
    
    Quoth Andi Kleen:
      "Kiran decided that it makes the problem worse than it was before.
       Fixing it fully requires more work which is too much for 2.6.16.  So
       please revert that commit for now."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 620739025b94fe472c845ce013bff62716d3c576
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Feb 5 11:11:20 2006 +0000

    [SERIAL] Remove unnecessary serial.h include
    
    imx.c does not use anything from serial.h, so remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 59a675b22026e29e7f281d7b832de67dd8559b83
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Feb 5 10:52:29 2006 +0000

    [SERIAL] uart_port flags member should use UPF_*
    
    Convert usage of ASYNC_* to UPF_*.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9b4a1617772d6d5ab5eeda0cd95302fae119e359
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Feb 5 10:48:10 2006 +0000

    [SERIAL] uart_port iotype member should use UPIO_*
    
    Convert usage of SERIAL_IO_* to UPIO_*.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7f7ff6bf0279ccb3d56f2b07c4cc88327c932a80
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sat Feb 4 02:49:23 2006 -0800

    [SPARC64]: Update defconfig.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3794689dba4288f2ab6ec74657a07c41031ac376
Author: David S. Miller <davem@davemloft.net>
Date:   Sat Feb 4 02:49:03 2006 -0800

    [SPARC64]: Add .gitignore file for sparc64 boot images.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7918d212df31fb7ddfb317c5a8dccdcec647d754
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:19:46 2006 -0800

    [NETFILTER]: Fix check whether dst_entry needs to be released after NAT
    
    After DNAT the original dst_entry needs to be released if present
    so the packet doesn't skip input routing with its new address. The
    current check for DNAT in ip_nat_in is reversed and checks for SNAT.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0047c65a60fa3b6607b55e058ea6a89f39cb3f28
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:19:09 2006 -0800

    [NETFILTER]: Prepare {ipt,ip6t}_policy match for x_tables unification
    
    The IPv4 and IPv6 version of the policy match are identical besides address
    comparison and the data structure used for userspace communication. Unify
    the data structures to break compatiblity now (before it is released), so
    we can port it to x_tables in 2.6.17.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 878c41ce5747e1b417bdd92a694c33dc4bd6ec02
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:17:55 2006 -0800

    [NETFILTER]: Fix ip6t_policy address matching
    
    Fix two bugs in ip6t_policy address matching:
    - misorder arguments to ip6_masked_addrcmp, mask must be the second argument
    - inversion incorrectly applied to the entire expression instead of just
      the address comparison
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e55f1bc5dcb60a47764f6eabd1501d2cb98fb2c4
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:17:26 2006 -0800

    [NETFILTER]: Check policy length in policy match strict mode
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ee4bb818ae35f68d1f848eae0a7b150a38eb4168
Author: Kirill Korotaev <dev@openvz.org>
Date:   Sat Feb 4 02:16:56 2006 -0800

    [NETFILTER]: Fix possible overflow in netfilters do_replace()
    
    netfilter's do_replace() can overflow on addition within SMP_ALIGN()
    and/or on multiplication by NR_CPUS, resulting in a buffer overflow on
    the copy_from_user().  In practice, the overflow on addition is
    triggerable on all systems, whereas the multiplication one might require
    much physical memory to be present due to the check above.  Either is
    sufficient to overwrite arbitrary amounts of kernel memory.
    
    I really hate adding the same check to all 4 versions of do_replace(),
    but the code is duplicate...
    
    Found by Solar Designer during security audit of OpenVZ.org
    
    Signed-Off-By: Kirill Korotaev <dev@openvz.org>
    Signed-Off-By: Solar Designer <solar@openwall.com>
    Signed-off-by: Patrck McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit df4e9574a36748c3a4d9b03ffca6b42321a797a9
Author: Samir Bellabes <sbellabes@mandriva.com>
Date:   Sat Feb 4 02:16:06 2006 -0800

    [NETFILTER]: nf_conntrack: fix incorrect memset() size in FTP helper
    
    This memset() is executing with a bad size. According to Yasuyuki Kozakai,
    this memset() can be deleted, as 'ftp' is declared in global area.
    
    Signed-off-by: Samir Bellabes <sbellabes@mandriva.com>
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 19ea7302df2eb4f2ad7f29af814d8cf55fc8b9c9
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Sat Feb 4 02:15:36 2006 -0800

    [NETFILTER]: iptables: fix typos in ipt_connbytes.h
    
    Fix some typos that make iptables userspace compilation fail.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6f169300787ddb07326cc0338434a162dbab8539
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:14:51 2006 -0800

    [NETFILTER]: Fix missing src port initialization in tftp expectation mask
    
    Reported by David Ahern <dahern@avaya.com>, netfilter bugzilla #426.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a706124d0a4d9daaf6b705d01de3aff18deecea8
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:14:24 2006 -0800

    [NETFILTER]: nfnetlink_queue: fix packet marking over netlink
    
    The packet marked is the netlink skb, not the queued skb.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ad2ad0f96546d6d56b2665bcc863c33ae57c49c4
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Feb 4 02:13:57 2006 -0800

    [NETFILTER]: Fix undersized skb allocation in ipt_ULOG/ebt_ulog/nfnetlink_log
    
    The skb allocated is always of size nlbufsize, even if that is smaller than
    the size needed for the current packet.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c2db292438c20c3f13db6e5563e0ce5b449bedac
Author: Holger Eitzenberger <heitzenberger@astaro.com>
Date:   Sat Feb 4 02:13:14 2006 -0800

    [NETFILTER]: ULOG/nfnetlink_log: Use better default value for 'nlbufsiz'
    
    Performance tests showed that ULOG may fail on heavy loaded systems
    because of failed order-N allocations (N >= 1).
    
    The default value of 4096 is not optimal in the sense that it actually
    allocates _two_ contigous physical pages.  Reasoning: ULOG uses
    alloc_skb(), which adds another ~300 bytes for skb_shared_info.
    
    This patch sets the default value to NLMSG_GOODSIZE and adds some
    documentation at the top.
    
    Signed-off-by: Holger Eitzenberger <heitzenberger@astaro.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ddc8d029ac6813827849801bce2d8c8813070db6
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Sat Feb 4 02:12:14 2006 -0800

    [NETFILTER]: nf_conntrack: check address family when finding protocol module
    
    __nf_conntrack_{l3}proto_find() doesn't check the passed protocol family,
    then it's possible to touch out of the array which has only AF_MAX items.
    
    Spotted by Pablo Neira Ayuso.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 34f9a2e4deb760ddcb94cd0cd4f9ce18070d53d9
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Sat Feb 4 02:11:41 2006 -0800

    [NETFILTER]: ctnetlink: add MODULE_ALIAS for expectation subsystem
    
    Add load-on-demand support for expectation request. eg. conntrack -L expect
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b633ad5fbf9e534142208700c58a530a4091eaab
Author: Marcus Sundberg <marcus@ingate.com>
Date:   Sat Feb 4 02:11:09 2006 -0800

    [NETFILTER]: ctnetlink: Fix subsystem used for expectation events
    
    The ctnetlink expectation events should use the NFNL_SUBSYS_CTNETLINK_EXP
    subsystem, not NFNL_SUBSYS_CTNETLINK.
    
    Signed-off-by: Marcus Sundberg <marcus@ingate.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fa60cf7f64a00c16e95717e8dccdb128877e342a
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Feb 4 02:09:34 2006 -0800

    [ICMP]: Fix extra dst release when ip_options_echo fails
    
    When two ip_route_output_key lookups in icmp_send were combined I
    forgot to change the error path for ip_options_echo to not drop the
    dst reference since it now sits before the dst lookup.  To fix it we
    simply jump past the ip_rt_put call.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5b7b644ca9a12396a46fad825a973fb8bed17102
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Fri Feb 3 21:51:59 2006 +0100

    [PATCH] x86_64: IOMMU printk cleanup
    
    This patch contains a printk reorder to remove the current problem of
    displaying "PCI-DMA: Disabling IOMMU." and then "PCI-DMA: using GART
    IOMMU" 20 lines later in dmesg.
    
    It also constains a printk reorder in swiotlb to state swiotlb
    enablement prior to describing the location of the bounce buffers, and a
    printk reorder to state gart enablement prior to describing the
    aperature.
    
    Also constains a whitespace cleanup in arch/x86_64/kernel/setup.c
    
    Tested (along with patch 2/2) on dual opteron with gart enabled,
    iommu=soft, and iommu=off.
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 14c3f8558717adb192c364f58b0d63dfc850ecca
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:56 2006 +0100

    [PATCH] x86_64: Let impossible CPUs point to reference per cpu data
    
    Hack for 2.6.16. In 2.6.17 all code that uses NR_CPUs should
    be audited and changed to only touch possible CPUs.
    
    Don't mark the reference per cpu data init data (so it stays
    around after boot) and point all impossible CPUs to it. This way
    they reference some valid - although shared memory. Usually
    this is only initialization like INIT_LIST_HEADs and there
    won't be races because these CPUs never run. Still somewhat hackish.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3777a95903953c55f2309a89679b73c19ae5535b
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:53 2006 +0100

    [PATCH] i386/x86-64: Don't ack the APIC for bad interrupts when the APIC is not enabled
    
    It's bad juju to touch the APIC when it hasn't been enabled.
    I also moved ack_bad_irq for x86-64 out of line following i386.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f66ae48de27bc9506cff0f2991d74901a0c2f8d
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Fri Feb 3 21:51:50 2006 +0100

    [PATCH] x86_64: Dont record local apic ids when they are disabled in MADT
    
    Some broken BIOS's had processors disabled, but
    same apic id as a valid processor. This causes
    acpi_processor_start() to think this disabled
    cpu is ok, and croak. So we dont record bad
    apicid's anymore.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5930
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d646bce4c77af72f5a293a96fbf14174c9f2a9c2
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Feb 3 21:51:47 2006 +0100

    [PATCH] x86_64: minor odering correction to dump_pagetable()
    
    Checking of the validity of pointers should be consistently done before
    dereferencing the pointer.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91522a964b295e7bccb173218cc00adadfc77bbf
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Feb 3 21:51:44 2006 +0100

    [PATCH] x86_64: small fix for CFI annotations
    
    Conditionalize two unwind directives to match other similarly
    conditional code.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Cc: Jim Houston <jim.houston@ccur.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c3749c41f5eee0da36bbf92b2793338b4d8574f
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:41 2006 +0100

    [PATCH] x86_64: Calibrate APIC timer using PM timer
    
    On some broken motherboards (at least one NForce3 based AMD64 laptop)
    the PIT timer runs at a incorrect frequency.  This patch adds a new
    option "apicpmtimer" that allows to use the APIC timer and calibrate it
    using the PMTimer.  It requires the earlier patch that allows to run the
    main timer from the APIC.
    
    Specifying apicpmtimer implies apicmaintimer.
    
    The option defaults to off for now.
    
    I tested it on a few systems and the resulting APIC timer frequencies
    were usually a bit off, but always <1%, which should be tolerable.
    
    TBD figure out heuristic to enable this automatically on the affected
    systems TBD perhaps do it on all NForce3s or using DMI?
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 099f318b8d97490e58c595eb1b6d3415da5ccc03
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:38 2006 +0100

    [PATCH] x86_64: Don't allow kprobes on __switch_to
    
    kprobes cannot deal with the funny calling conventions when it
    runs on a different stack when it returns. If someone wants
    to instrument context switch they can add a probe to schedule()
    instead.
    
    Cc: jkenisto@us.ibm.com, prasanna@in.ibm.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16acc0cd8f1aac63ddf5228c5bc29cf7d31627f4
Author: Zach Brown <zach.brown@oracle.com>
Date:   Fri Feb 3 21:51:35 2006 +0100

    [PATCH] x86_64: align per-cpu section to configured cache bytes
    
    Align the start of the per-cpu section to the configured number of bytes in a
    cache line.  This stops a BUG_ON() from triggering in load_module() when
    DEFINE_PER_CPU() is used in a module and the section isn't cacheline-aligned.
    Rusty also found this and sent a patch in a while ago
    (http://lkml.org/lkml/2004/10/19/17), I don't know what came of that.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1002a48e1af5ff8d02bfe79536e6fce3a0ec369
Author: Kevin VanMaren <kvanmaren@lnxi.com>
Date:   Fri Feb 3 21:51:32 2006 +0100

    [PATCH] x86_64: When allocation of merged SG lists fails in the IOMMU don't merge
    
    [ AK: I redid Kevin's fix to be simpler, but the idea and original
      analysis of the problem is from Kevin]
    
    This avoid allocation failures on some SATA systems like Nvidia CK8
    when the IOMMU gets fragmented. Modern SATA devices have quite large queues
    (128 entries) and the FS with ext2/3 is good enough now that it often
    passes whole 128 page sg lists down to the driver. These require
    512K of continuous free space in the IOMMU aperture to map when merged.
    When the IOMMU is fragmented this could lead to spurious IO errors
    due to failing mappings.
    
    Short term fix is to just try to map the SG list again unmerged
    page by page - this way fragmentation doesn't matter anymore.
    The code for that was already there, but it just wasn't enabled for the
    merge case.
    
    According to Kevin at least the Nvidia device doesn't seem to benefit
    from merging much anyways, so the only slowdown is from trying
    to do an unnecessary merge attempt.
    
    Kevin plans to implement better fragmentation avoidance in the future,
    but that wouldn't be 2.6.16 material.
    
    TBD: should add some statistic counters to count how often that really
    happens.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1de6bf33bc4601d856c286ad5c7d515468e24bbb
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:29 2006 +0100

    [PATCH] x86_64: Fix zero mcfg entry workaround on x86-64
    
    I broke this earlier when moving the patch from i386 to x86-64.
    Need to return the virtual address here, not the physical address.
    This fixes some boot time crashes on x86-64.
    
    Cc: gregkh@suse.de
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d22fe808449cd3b5bacd5c0d447e3675f9ab7619
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:26 2006 +0100

    [PATCH] x86_64: Do more checking in the SRAT header code
    
     - Check if the processor/memory affinity entries are long enough
       according to the ACPI 3.0 spec.
     - Ignore memory affinity entries that define a zero length region.
    
    All based on BIOS issues found in the field @)
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ded56895c11a656408b6ff21086ae04a6a7cda0
Author: Ashok Raj <Ashok.Raj@intel.com>
Date:   Fri Feb 3 21:51:23 2006 +0100

    [PATCH] x86_64: data/functions wrongly marked as __init with cpu hotplug.
    
    attached patch is 2 more cases i found via running the reference_init.pl
    script. These were easy to spot just knowing the file names. There is
    one another about init/main.c that i cant exactly zero in. (partly
    because i dont know how to interpret the data thats spewed out of the tool).
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 396bd50fed9c91f7aa1ac66f4b2880ca58c332ff
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Fri Feb 3 21:51:20 2006 +0100

    [PATCH] x86_64: mark two routines as __cpuinit
    
    SIgned-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9391a3f9c7f17bdd82adf9a98905450642cc8970
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:17 2006 +0100

    [PATCH] x86_64: Clear more state when ignoring empty node in SRAT parsing
    
    Might fix boot failures on systems with empty PXMs in SRAT
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00ac59adfca8f2f339beb0b67054e786c275553e
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Fri Feb 3 21:51:14 2006 +0100

    [PATCH] x86_64: Fix memory policy build without CONFIG_HUGETLBFS
    
    > mm/mempolicy.c: In function `huge_zonelist':
    > mm/mempolicy.c:1045: error: `HPAGE_SHIFT' undeclared (first use in this function)
    > mm/mempolicy.c:1045: error: (Each undeclared identifier is reported only once
    > mm/mempolicy.c:1045: error: for each function it appears in.)
    > make[1]: *** [mm/mempolicy.o] Error 1
    
    Need to wrap huge_zonelist function with CONFIG_HUGETLBFS.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e8c34edfd7ae97d0e3391f34d9d26a0167912bf
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:11 2006 +0100

    [PATCH] x86_64: Remove rogue default y in EDAC Kconfig
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7115125057cf72dcc0b9ded1e12128e1abfa8586
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:08 2006 +0100

    [PATCH] x86_64: Remove CONFIG_INIT_DEBUG
    
    It has been enabled by default for some time now and is cheap enough
    so it doesn't matter anyways.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10f4dc8b27ac42f930ac55adb8c521264dc997f8
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Fri Feb 3 21:51:05 2006 +0100

    [PATCH] x86_64: Fix the node cpumask of a cpu going down
    
    Currently, x86_64 and ia64 arches do not clear the corresponding bits
    in the node's cpumask when a cpu goes down or cpu bring up is cancelled.
    This is buggy since there are pieces of common code where the cpumask is
    checked in the cpu down code path to decide on things (like in  the slab
    down path).  PPC does the right thing, but x86_64 and ia64 don't (This
    was the reason Sonny hit upon a slab bug during cpu offline on ppc and
    could not reproduce on other arches).  This patch fixes it for x86_64.
    I won't attempt ia64 as I cannot test it.
    
    Credit for spotting this should go to Alok.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7bcd3f34e262bbebffa954d80eab3a84f053da31
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:51:02 2006 +0100

    [PATCH] x86_64: Undo the earlier changes to remove unrolled copy/memset functions
    
    They cause quite bad performance regressions on Netburst
    This is temporary until we can get new optimized functions
    for these CPUs.
    
    This undoes changes that were done in 2.6.15 and in 2.6.16-rc1,
    essentially bringing the code back to 2.6.14 level. Only change
    is I renamed the X86_FEATURE_K8_C flag to X86_FEATURE_REP_GOOD
    and fixed the check for the flag and also fixed some comments.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6bca52b544489b626c7d0db801df6b4aa3d5adb5
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:59 2006 +0100

    [PATCH] x86_64: Fix swiotlb dma_alloc_coherent fallback
    
    This avoids BUG_ONs in the low level allocator when an illegal
    GFP mask is added.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0dd2ea9af8f0eca43cf6200baa182b3aba307049
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Fri Feb 3 21:50:56 2006 +0100

    [PATCH] x86_64: [PATCH] timer resume
    
    At resume time, TSC's value or something similar might be changed a lot
    against suspend time. This could make system gets a very big lost ticks.
    See http://bugzilla.kernel.org/show_bug.cgi?id=5825
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f3814cd2fb5ea4d53a7fa5b0635d68fa4036c1b
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:53 2006 +0100

    [PATCH] x86_64: Automatically enable apicmaintimer on ATI boards
    
    They all have problems with IRQ 0 routing, so just use the APIC on them.
    
    Can be overwritten with "noapicmaintimer"
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 73dea47faeb96d54a984b9d7f4de564816966354
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:50 2006 +0100

    [PATCH] x86_64: Allow to run main time keeping from the local APIC interrupt
    
    Another piece from the no-idle-tick patch.
    
    This can be enabled with the "apicmaintimer" option.
    
    This is mainly useful when the PIT/HPET interrupt is unreliable.
    Note there are some systems that are known to stop the APIC
    timer in C3. For those it will never work, but this case
    should be automatically detected.
    
    It also only works with PM timer right now. When HPET is used
    the way the main timer handler computes the delay doesn't work.
    
    It should be a bit more efficient because there is one less
    regular interrupt to process on the boot processor.
    
    Requires earlier bugfix from Venkatesh
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76b461c21468f41837283b7888d55f1c0671f719
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Fri Feb 3 21:50:47 2006 +0100

    [PATCH] x86_64: Only switch to IPI broadcast timer on Intel when C3 is supported
    
    Bug in apic timer removal on C3 patch. We should switch to IPI from APIC timer
    only when C3 state is valid.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 226d780909f71bebfa4dfffa21493244aa22dfdc
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:44 2006 +0100

    [PATCH] x86_64: Define pmtmr_ioport to 0 when PM_TIMER is not available
    
    Avoids some ifdef mess later.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eddb6fb9a54cdc8c7c37e056a2b4bbbc8a128a36
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:41 2006 +0100

    [PATCH] x86_64: Disallow kprobes on NMI handlers
    
    A kprobe executes IRET early and that could cause NMI recursion
    and stack corruption.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f01942536d8c686a3f6b3b38f1257caa2fb763e
Author: Andi Kleen <ak@suse.de>
Date:   Fri Feb 3 21:50:38 2006 +0100

    [PATCH] x86_64: Update defconfig
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9876f0b67c3f0b04ee2167602df54e7ae139ad7
Author: Sumant Patro <sumantp@lsil.com>
Date:   Fri Feb 3 15:34:35 2006 -0800

    [SCSI] megaraid_sas: support for 1078 type controller added
    
    This patch adds support for 1078 type controller (device id : 0x60).
    
    Signed-off-by: Sumant Patro <Sumant.Patro@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 122da30223c06cee181044af6d32e88b256d10df
Author: Joshua Giles <joshua_giles@dell.com>
Date:   Fri Feb 3 15:34:17 2006 -0800

    [SCSI] megaraid_sas: register 16 byte CDB capability
    
    This patch properly registers the 16 byte command length capability of
    the megaraid_sas controlled hardware with the scsi midlayer.  All
    megaraid_sas hardware supports 16 byte CDB's.
    
    Signed-off-by: Joshua Giles <joshua_giles@dell.com>
    Signed-off-by: Sumant Patro <Sumant.Patro@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ea5a7a82f9d2d8a81f8fa541c34a12b43d390f61
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:20:01 2006 -0700

    [SCSI] fusion - mptctl -adding asyn event notification support
    
    Adding aen support.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 946cbf040adb9db05bb895a4b629537fd2d03b0e
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:50 2006 -0700

    [SCSI] fusion - mptctl -firmware download fix
    
    Fix's firmware download ioctl to work with SAS.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 592f9c2fc9725b922ba8c4b1d67318ea4a301b59
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:47 2006 -0700

    [SCSI] fusion - mptctl - backplane istwi fix
    
    Moving the toolbox call from mptbase.c, over to
    mptctl.c, and using the mptctl infastructure to issue
    the call.  The existing code is hanging on certain HP platforms
    when this ioctl is issued, and this patch fix's that.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5f07e2499d629045f7f8a60a5b442792f08732cb
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:44 2006 -0700

    [SCSI] fusion - mptctl -sense width fix
    
    Bug fix for correctly setting sense width
    for the MPTCOMMAND ioctl.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5b5ef4f617f1706a23b0433d89a9c02ceb0980a5
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:40 2006 -0700

    [SCSI] fusion - mptctl - Event Log Fix
    
    Use the hard coded value MPTCTL_EVENT_LOG_SIZE to fix
    bug where in certain cases, the ioc->eventLogSize was
    initialized.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 86a7dcaae9c67a344e51190734b98684072d181c
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:37 2006 -0700

    [SCSI] fusion - mtctl - change to wait_event_timeout
    
    Change from using wait_event_interruptible_timeout to
    wait_event_timeout.  Also delete white space and duplicate
    line of code.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9cc1cfbc67d77164f5b612fcf833460eca4d81e9
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:33 2006 -0700

    [SCSI] fusion - mptctl - adding support for bus_type=SAS
    
    Add bus_type recognization in ioctl path for SAS.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 096f7a2a094af3007937d6fd21560e28dca0994d
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Feb 2 17:19:30 2006 -0700

    [SCSI] fusion - mptctl - MPTCOMMAND - adding function types.
    
    This adds support for new function types in
    the existing MPTCOMMAND ioctl.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b5b81016538cf84a10c80438b7aa750dd375ba93
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:14 2006 -0600

    [SCSI] iscsi update: rm unused sessions list
    
    rm unused sessions list.
    
    This patch is last becuase I was not sure if this patchset was
    going to be applied over the kmalloc2kzalloc one by JesS. If it
    is then this patch will not apply and can be dropped for now. I will
    resend later when things setttle down.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 28e5554df63085be3b8bd2aee6ddbc479f0d136e
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:11 2006 -0600

    [SCSI] iscsi update: use gfp_t
    
    Use gfp_t. I accidentally removed this in our last update.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b36ae07cb7757bd3eabd13c79844083dccac2f77
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:09 2006 -0600

    [SCSI] iscsi update: fix mgmt pool err path release
    
    >From ogerlitz@voltaire.com:
    
    mgmtpool shoild be frees in immdata_alloc_fail label.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 351f739e68e97a0316136a5bda145b952d99a989
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:06 2006 -0600

    [SCSI] iscsi update: set correct state at creation time
    
    >From erezz@voltaire.com:
    
    We are still in ISCSI_STATE_FREE state at create time. The addition
    of the first connection puts us in ISCSI_STATE_LOGGED_IN.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1fd459e367657f595ddf192b9a46298e18d4fc13
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:03 2006 -0600

    [SCSI] iscsi update: rm conn lock
    
    >From erezz@voltaire.com:
    
    rm conn->lock since it is not used anymore. The dataqueue is protected
    by the session lock and xmitmutex.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ee7f8e405342722e42c15fe8e841a679f8951eea
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:07:01 2006 -0600

    [SCSI] iscsi update: set deamon pid earlier
    
    >From michaelc@cs.wisc.edu:
    
    If the transport lookup fails we set the daemon pid too late.
    This can cause us deadlock since the netlink code will think we
    meant to call back into our iscsi_if_rx function.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 142e301fc818de9b116706835cd9fc864e73f203
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:06:58 2006 -0600

    [SCSI] iscsi update: setup pool before using
    
    >From andmike@us.ibm.com:
    
     Ensure that pool data is setup prior to calling mempool_create as it will
     call the the alloc function during create.
    
    Signed-off-by: Mike Anderson <andmike@us.ibm.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5b940adf5b341b12dbb94e7cbdb416b35f52017b
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:06:56 2006 -0600

    [SCSI] iscsi update: pass correct skb to skb_trim
    
    >From da-x@monatomic.org:
    
    Wrong skb is passed to skb_trim in iscsi_if_get_stats.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7b7232f3fb5ecd7c30cb52df368070cc5f5ca614
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Feb 1 21:06:49 2006 -0600

    [SCSI] iscsi update: cleanup iscsi class interface
    
    From:
    michaelc@cs.wisc.edu
    fujita.tomonori@lab.ntt.co.jp
    da-x@monatomic.org
    
    and err path fixup from:
    ogerlitz@voltaire.com
    
    This patch cleans up that interface by having the lld and class
    pass a iscsi_cls_session or iscsi_cls_conn between each other when
    the function is used by HW and SW iscsi llds. This way the lld
    does not have to remember if it has to send a handle or pointer
    and a handle or pointer to connection, session or host.
    
    This also has the class verify the session handle that gets passed from
    userspace instead of using the pointer passed into the kernel directly.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bb08f92ebd75704e07d69bb9d8ee234d1a500b98
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Feb 1 09:30:44 2006 -0800

    [SCSI] aacraid: use no_uld_attach flag
    
    Received From Mark Salyzyn.
    
    In order to support user tools accessing the array components (SMART,
    Mode Page information, Cache page adjustments, WWN determination,
    Firmware updates etc), we take advantage of the no_uld_attach flag and
    deprecate the code that filters Inquiries to block the requests to array
    components. The quirk prevents the sd layer from attaching to the
    components.
    
    We also took the opportunity to balance the queue depths based on the
    total adapter queue depth to the array devices to reduce the chances of
    starvation.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bfb35aa85057da4336af56a7f26e08031f4e3468
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Feb 1 09:30:55 2006 -0800

    [SCSI] aacraid: Update global function names
    
    Received from Mark Salyzyn,
    
    Reduce the possibility of namespace collision.  Prefix with aac_.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d8a571135aad527e5984c8094b7977c6914f2550
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Feb 1 09:30:31 2006 -0800

    [SCSI] aacraid: reduce device probe warnings
    
    Received from Mark Salyzyn.
    
    This patch sets up some device quirks surrounding arrays to inform the
    scsi layer that various mode pages are not supported. This reduces the
    severity of the complaints that show up in the logs as the array devices
    are enumerated.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 854165f4245c4a3b4a8cc363ba2050033151e196
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:05:17 2006 -0800

    [SCSI] qla2xxx: Add support to retrieve/update HBA option-rom.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1b3f63659bd353ae460c35f5793a9fd46cc95014
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:05:12 2006 -0800

    [SCSI] qla2xxx: Return correct data-len during NVRAM retrieval.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f6df144cca19cc60dda6dcce65d236b70cc46494
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:05:07 2006 -0800

    [SCSI] qla2xxx: Add beacon support via class-device attribute.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 392e2f651c8a83484116a407a9f121e534c22b5a
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:05:02 2006 -0800

    [SCSI] qla2xxx: Add host-statistics FC transport attributes.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8d067623adf119081b7a2683cdc6ee90eb8a70b2
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:04:56 2006 -0800

    [SCSI] qla2xxx: Add host port-type FC transport attribute.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 04414013bbda644b65537e73f1dacb2821b36811
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Jan 31 16:04:51 2006 -0800

    [SCSI] qla2xxx: Add port-speed FC transport attribute.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 53ea68ecea11bcbb3451c2758ce181bd97b569a9
Author: Stephen Smalley <sds@epoch.ncsc.mil>
Date:   Fri Feb 3 08:21:12 2006 -0500

    [PATCH] SELinux: fix size-128 slab leak
    
    Remove private inode tests from security_inode_alloc and security_inode_free,
    as we otherwise end up leaking inode security structures for private inodes.
    
    Signed-off-by:  Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by:  Linus Torvalds <torvalds@osdl.org>

commit 89a2fa5f2139be35e214bcf86a8291d6a1da75f2
Merge: 27266a1... 68ee3eb...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 18:17:47 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/kyle/parisc-2.6

commit 27266a18dc56611e2f2ec4e8aced0fe221e9b4b8
Merge: f3e39e6... 9a8ffcc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 15:51:48 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit f3e39e67b9b6ad6a51d13be902e8341f13b93531
Merge: 1a56f54... e922517...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 15:51:13 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 1a56f54c351d8d2e276aefc4f4094037c178d6c7
Merge: d1ffa56... 2c4c6b2...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 15:50:35 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit d1ffa5669cd834f901141756e63195f48c1bfbf9
Merge: d6c8f6a... 6eff579...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 15:21:40 2006 -0800

    Merge branch 'upstream-linus' of git://oss.oracle.com/home/sourcebo/git/ocfs2

commit 2c4c6b27028b38204de8ade505f925d53d234422
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Feb 3 23:03:21 2006 +0000

    [ARM] Remove ARCH_CAMELOT from at91 defconfigs
    
    ARCH_CAMELOT (excalibur) got removed; remove it from the AT91 defconfigs
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8cf3f04f45694db0699f608c0e3fb550c607cc88
Author: Ralph Campbell <ralphc@pathscale.com>
Date:   Fri Feb 3 14:28:48 2006 -0800

    IB/mad: Handle DR SMPs with a LID routed part
    
    Fix handling of directed route SMPs with a beginning or ending LID
    routed part.
    
    Signed-off-by: Ralph Campbell <ralphc@pathscale.com>
    Signed-off-by: Hal Rosenstock <halr@voltaire.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 9a8ffccf3d282ee749210232465f61e1c48b7a86
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Feb 3 22:05:42 2006 +0000

    [SERIAL] 8250: limit range of runtime ports
    
    Prevent SERIAL_8250_RUNTIME_UARTS being larger than SERIAL_8250_NR_UARTS.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6eff5790d57a5c9c01489c95946881808a4b2a2c
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Wed Jan 18 10:31:47 2006 -0800

    [PATCH] ocfs2: don't wait on recovery when locking journal
    
    The mount path had incorrectly asked the locking code to wait for recovery
    completion, which deadlocks things because recovery waits for mount to
    complete first.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 1a1974fd4533afdb73873cdacb942d9a79ff7c9b
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Fri Jan 27 10:32:24 2006 +0100

    [PATCH] BUG_ON() Conversion in fs/configfs/
    
    this changes if() BUG(); constructs to BUG_ON() which is
    cleaner, contains unlikely() and can better optimized away.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 3d0f89bb169482d26d5aa4e82e763077e7e9bc4d
Author: Joel Becker <joel.becker@oracle.com>
Date:   Wed Jan 25 13:31:07 2006 -0800

    configfs: Add permission and ownership to configfs objects.
    
    configfs always made item and attribute ownership root.root and
    permissions based on a umask of 022.  Add ->setattr() to allow
    chown(2)/chmod(2), and persist the changes for the lifetime of the
    items and attributes.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 62ca3d2603571dc2b1b4c1368e19d44b599062e2
Author: Joel Becker <joel.becker@oracle.com>
Date:   Fri Jan 27 11:04:12 2006 -0800

    configfs: Clean up MAINTAINERS entry
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 215c7f9fa11d3fc6ccd2df242d259c721ec7ae6a
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Wed Feb 1 16:42:10 2006 -0800

    [PATCH] ocfs2: fix compile warnings
    
    Fix a couple of compile warnings found when compiling on a ppc64 build box.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit ebdec83ba46c123fe3bfdcaacf62d0dfe8fe4187
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Fri Jan 27 10:32:52 2006 +0100

    [PATCH] BUG_ON() Conversion in fs/ocfs2/
    
    this changes if() BUG(); constructs to BUG_ON() which is
    cleaner, contains unlikely() and can better optimized away.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit b4c7f538508adcde7a0a5162faec0b2ab19b90bd
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 14 20:55:10 2006 +0100

    [PATCH] fs/ocfs2/dlm/dlmrecovery.c must #include <linux/delay.h>
    
    fs/ocfs2/dlm/dlmrecovery.c does now use msleep(), and does therefore
    need to #include <linux/delay.h> for getting the prototype of this
    function.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit c74ec2f77a7763a4a56c6cb13ecab961e1bbb456
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 13 21:54:23 2006 -0800

    [PATCH] ocfs2: Semaphore to mutex conversion.
    
    Semaphore to mutex conversion.
    
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit e2faea4ce340f199c1957986c4c3dc2de76f5746
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Thu Jan 12 14:24:55 2006 -0800

    [PATCH] ocfs2/dlm: fixes
    
    * fix a hang which can occur during shutdown migration
    * do not allow nodes to join during recovery
    * when restarting lock mastery, do not ignore nodes which come up
    * more than one node could become recovery master, fix this
    * sleep to allow some time for heartbeat state to catch up to network
    * extra debug info for bad recovery state problems
    * make DLM_RECO_NODE_DATA_DONE a valid state for non-master recovery nodes
    * prune all locks from dead nodes on $RECOVERY lock resources
    * do NOT automatically add new nodes to mle nodemaps until they have properly
      joined the domain
    * make sure dlm_pick_recovery_master only exits when all nodes have synced
    * properly handle dlmunlock errors in dlm_pick_recovery_master
    * do not propagate network errors in dlm_send_begin_reco_message
    * dead nodes were not being put in the recovery map sometimes, fix this
    * dlmunlock was failing to clear the unlock actions on DLM_DENIED
    
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 0d419a6a95ee158675aa184c6c3e476b22d02145
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Wed Jan 11 16:55:00 2006 -0500

    [OCFS2] Documentation Fix
    
      Update ocfs2.txt to add "cluster aware lockf" under missing features.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 251b6eccbeff4f0f8a3509769b327705e899f5dd
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Tue Jan 10 15:41:43 2006 -0800

    [OCFS2] Make ip_io_sem a mutex
    
    ip_io_sem is now ip_io_mutex.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit aee93ac4b7ad461255939248d0d51566cff77e05
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Mon Jan 9 12:36:40 2006 -0500

    [PATCH] ocfs2/dlm: fix compilation on ia64
    
     Including <asm/signal.h> results in compilation failure on ia64 due to
     not including <linux/compiler.h>
    
     Including <linux/signal.h> corrects the problem.
    
     Please apply.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 0c6c98fb187524935a93fdd4f9a7193e7b110782
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 7 20:07:02 2006 +0100

    [PATCH] OCFS2: __init / __exit problem
    
    Functions called by __init funtions mustn't be __exit.
    
    Reported by Jan-Benedict Glaw <jbglaw@lug-owl.de>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 8c5a950c9693aa24828d16dd7bc38bced3f37d48
Author: Joel Becker <joel.becker@oracle.com>
Date:   Fri Jan 6 13:46:31 2006 -0800

    o Remove confusing Kconfig text for CONFIGFS_FS.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit d6c8f6aaa1d7f68c1e6471ab0839d9047cdd159f
Merge: d540c74... 0dec456...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Feb 3 08:33:06 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit d540c7428d297ab041e6cac72b9045e7b8f93f2b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 3 03:05:00 2006 -0800

    [PATCH] IDE: always enable CONFIG_PDC202XX_FORCE
    
    Remove the CONFIG_PDC202XX_FORCE=n case.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ea244b4b545ecb323d042a0df5c080edefcd1fc
Author: Loren M. Lang <lorenl@alzatex.com>
Date:   Fri Feb 3 03:04:59 2006 -0800

    [PATCH] RocketPoint 1520 [hpt366] fails clock stabilization
    
    I just purchased a HighPoint Rocket 1520 SATA controller.  There seems to
    be no libata driver (yet), but there is an ide driver, hpt366.  When the
    driver gets loaded, it causes a kernel NULL pointer dereference in
    pci_bus_clock_list.  It seems to be because the driver is waiting for clock
    stabilization in init_hpt37x() which never comes.  The driver just
    continues on with the pci drvdata set to NULL, instead of a valid clock
    entry.  The following patch prevents the NULL dereference from happening,
    but instead exit with an error.
    
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c866b5103ad65de04a2a211f8db56820179cb53
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Feb 3 03:04:58 2006 -0800

    [PATCH] ide: set latency when resetting it821x out of firmware mode
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7ad836c4442e1d146b11cf359432aa68c7ed95d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Feb 3 03:04:57 2006 -0800

    [PATCH] ide-disk: Restore missing space in log message
    
    Restore a missing space in a log message, which was accidentally
    removed by a previous change: 3e087b575496b8aa445192f58e7d996b1cdfa121
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Tejun Heo <htejun@gmail.com>
    Cc: Jens Axboe <axboe@suse.de>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7ff7d41fec06c518caa82a818a70610a29d0e75
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 3 03:04:56 2006 -0800

    [PATCH] drivers/ide/ide-io.c: make __ide_end_request() static
    
    Since there's no longer any external user, we can make __ide_end_request()
    static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6842f8c8dac7c06cbf0aac87824f1ff337be31cb
Author: Ingo Molnar <mingo@elte.hu>
Date:   Fri Feb 3 03:04:55 2006 -0800

    [PATCH] solve false-positive soft lockup messages during IDE init
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Cc: Rogio Brito <rbrito@ime.usp.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9810933701a09f9c4dd0ad963d5ec2efb7df07b7
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Fri Feb 3 03:04:55 2006 -0800

    [PATCH] stop CompactFlash devices being marked as removable
    
    This patch stops CompactFlash devices being marked as removable.  They are
    not removable (as defined by Linux) as the media and device are
    inseparable.  When a card is removed, the whole device is removed from the
    system and never sits in a media-less state.
    
    This stops some nasty udev device creation/destruction loops.
    
    Further, once this change is made, there is no need for ide to can be
    removed from ide_drive_t.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b6ce2497f091620dd4c172fc11d867a9b072dc5
Author: Andreas Mohr <andi@rhlx01.fht-esslingen.de>
Date:   Fri Feb 3 03:04:54 2006 -0800

    [PATCH] ide Kconfig fixes
    
    CONFIG_BLK_DEV_IDECS docu mentions everything and the kitchen sink, yet
    fails to list the most important/widespread (IMHO) device: Compact Flash
    PCMCIA adapters.
    
    This incomplete description recently caused me to deselect the ide_cs
    module, causing great pain soon thereafter when I realized why I had
    actually enabled it some years ago.
    
    Updates:
    - make sure to mention Compact Flash adapters
    - fix some random typos in ide Kconfig
    
    Signed-off-by: Andreas Mohr <andi@lisas.de>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d57d39c81271a0808eabcf7bdc409312b5262b69
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Feb 3 03:04:53 2006 -0800

    [PATCH] ia64: drop arch-specific IDE MAX_HWIFS definition
    
    There's no reason MAX_HWIFS needs to be ia64-specific, so set MAX_HWIFS
    from CONFIG_IDE_MAX_HWIFS.
    
    This reduces the default from 10 to 4, but I don't think that's a problem.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Cc: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7bed9ec44cb282425f56033e5fb5448086cd758
Author: Jason Gaston <jason.d.gaston@intel.com>
Date:   Fri Feb 3 03:04:52 2006 -0800

    [PATCH] piix: add Intel ICH8M device IDs
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Acked-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12fc1d7b4b08a80776de3073439a09f54ce31f8f
Author: Jayachandran C <c.jayachandran@gmail.com>
Date:   Fri Feb 3 03:04:51 2006 -0800

    [PATCH] IPMI: fix issues reported by Coverity in ipmi_msghandler.c
    
    While looking to the report by Coverity in ipmi, I came across the
    following issue:
    
    The IPMI message handler relies on two defines which are the same -one in
    include/linux/ipmi.h
    #define IPMI_NUM_CHANNELS 0x10
    and one in drivers/char/ipmi/ipmi_msghandler.
    #define IPMI_MAX_CHANNELS       16
    These are used interchangeably in ipmi_msghandler.c, but since the array
    addr->channels[] is of size IPMI_MAX_CHANNELS, I have made a patch that
    uses IPMI_MAX_CHANNELS for all the checks for the array index.
    
    NOTE: You could probably remove the line that defines IPMI_NUM_CHANNELS
    from ipmi.h, or move IPMI_MAX_CHANNELS to ipmi.h
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Cc: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db9a369ec172c8251dbc6f7bf6bf13f6c5b6e7f5
Author: Jayachandran C <c.jayachandran@gmail.com>
Date:   Fri Feb 3 03:04:50 2006 -0800

    [PATCH] UDF: Fix issues reported by Coverity in namei.c
    
    This patch fixes an issue in fs/udf/namei.c reported by Coverity:
    
    Error reported(1776)
    CID: 1776
    Checker: UNUSED_VALUE (help)
    File: fs/udf/namei.c
    Function: udf_lookup
    Description: Pointer returned from "udf_find_entry" is never used
    
    Patch description:
       remove unused variable  fi.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99603966f5b44693901ea68cef2c1c21ce6a49c3
Author: KAMBAROV, ZAUR <kambarov@berkeley.edu>
Date:   Fri Feb 3 03:04:49 2006 -0800

    [PATCH] coverity: udf/balloc.c null deref fix
    
    It's doing
    
    	if (obh)
    		<stuff>
    	else
    		dereference obh
    
    So presumably `obh' is never null in there.
    
    This defect was found automatically by Coverity Prevent, a static analysis
    tool.
    
    Signed-off-by: Zaur Kambarov <zkambarov@coverity.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7656f328f68b351a8bb71ad465cedc8d0a039f9e
Author: Vincent Hanquez <vincent@snarc.org>
Date:   Fri Feb 3 03:04:48 2006 -0800

    [PATCH] debugfs: hard link count wrong
    
    Fix incorrect nlink of root inode for filesystems that use
    simple_fill_super().
    
    Signed-off-by: Vincent Hanquez <vincent@snarc.org>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ddca2488a2a69421924485bbcec39b512b580d0e
Author: Karsten Keil <kkeil@suse.de>
Date:   Fri Feb 3 03:04:48 2006 -0800

    [PATCH] i4l: warning fixes
    
    drivers/isdn/hisax/hscx_irq.c: In function `hscx_interrupt':
    drivers/isdn/hisax/hscx_irq.c:201: warning: comparison is always 1 due to width of bit-field
    
    It's due to
    
    	(PACKET_NOACK != bcs->tx_skb->pkt_type)
    
    pkt_type is only three bit wide.
    
    I think this should fix it for the moment, pkt_type 7 is not used yet and
    this is only used internal in hisax.
    
    Signed-off-by: Karsten keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit def9391c561c60e9d0aab58abca5404acef1de4b
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:04:47 2006 -0800

    [PATCH] ip2main.c warning fixes
    
    With Eric's "i386: Add a temporary to make put_user more type safe" patch we
    get a pile of warnings out of ip2m1in.c:
    
    drivers/char/ip2main.c: In function `ip2_ipl_ioctl':
    drivers/char/ip2main.c:2910: warning: assignment makes integer from pointer without a cast
    drivers/char/ip2main.c:2911: warning: assignment makes integer from pointer without a cast
    drivers/char/ip2main.c:2912: warning: assignment makes integer from pointer without a cast
    etc.
    
    This ioctl is copying the kernel virtual address of a large number of
    functions out to userspace.  Heaven knows why.
    
    Rather than fixing the warnings, I think we'll just nuke that code.
    
    The patch also fixes a couple of `defined but not used' warnings.
    
    Cc: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d94074f0804143eac6bce72dc04447c0040e7d8
Author: Davi Arnaut <davi.arnaut@gmail.com>
Date:   Fri Feb 3 03:04:46 2006 -0800

    [PATCH] Fix keyctl usage of strnlen_user()
    
    In the small window between strnlen_user() and copy_from_user() userspace
    could alter the terminating `\0' character.
    
    Signed-off-by: Davi Arnaut <davi.arnaut@gmail.com>
    Cc: David Howells <dhowells@redhat.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 353368dffb56b066cbe00264581a56caf0241b29
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Fri Feb 3 03:04:45 2006 -0800

    [PATCH] edac_mc: Remove include of version.h
    
    By including version.h edac_mc was rebuilding on every incremental build.
    Which defeats the point of incremental builds.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b641407a1447759ac8159180e90ed2e4387a0b6
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Fri Feb 3 03:04:44 2006 -0800

    [PATCH] fat: Fix truncate() write ordering
    
    The truncate() should write the file size before writing the new EOF entry.
    This patch fixes it.
    
    This bug was pointed out by Machida Hiroyuki.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e60e5c50aa5389db86e96fc52d02bc7db3d23f4a
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Fri Feb 3 03:04:43 2006 -0800

    [PATCH] Trivial optimization of ll_rw_block()
    
    The ll_rw_block() needs to get ref-count only if it submits a buffer().  This
    patch avoids the needless get/put of ref-count.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b00226d4d3aa7969d84e16f857ea100465d9c98
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Fri Feb 3 03:04:42 2006 -0800

    [PATCH] fat: Replace an own implementation with ll_rw_block(SWRITE,)
    
    This patch replaces an own implementation with LL_RW_BLOCK(SWRITE,) which was
    newly added.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 514a01b880d28a3029d9e35de72ad8d2f95b31d0
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:04:41 2006 -0800

    [PATCH] uninline __sigqueue_free()
    
    Five callsites.  I dunno how all this crap got back in there :(
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 808249ceba49cdb3054c0aa5b75a61862d6cab94
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Fri Feb 3 03:04:41 2006 -0800

    [PATCH] new tty buffering locking fix
    
    Change locking in the new tty buffering facility from using tty->read_lock,
    which is currently ignored by drivers and thus ineffective.  New locking
    uses a new tty buffering specific lock enforced centrally in the tty
    buffering code.
    
    Two drivers (esp and cyclades) are updated to use the tty buffering
    functions instead of accessing tty buffering internals directly.  This is
    required for the new locking to work.
    
    Minor checks for NULL buffers added to
    tty_prepare_flip_string/tty_prepare_flip_string_flags
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 546cfdf47f2ea2438b01f8626a60b87f9d8d1e53
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Feb 3 03:04:40 2006 -0800

    [PATCH] ipmi: mem_{in,out}[bwl] => intf_mem_{in,out}[bwl]
    
    On mips:
    
    drivers/char/ipmi/ipmi_si_intf.c:1274: error: conflicting types for 'mem_inb'
    include/asm/io.h:436: error: previous definition of 'mem_inb' was here
    
    Don't look at line 436 unless you really know what you're doing.
    
    Move those static functions out of more or less generic namespace.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c5d81a58106fa333467beab5f11dafab07b3e66
Author: Fernando Luis Vazquez Cao <fernando@intellilink.co.jp>
Date:   Fri Feb 3 03:04:39 2006 -0800

    [PATCH] Compilation of kexec/kdump broken
    
    The compilation of kexec/kdump seems to be broken for x86_64.  Remove the
    dependency of kexec on CONFIG_IA32_EMULATION.
    
    Signed-off-by: Fernando Vazquez <fernando@intellilink.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb3b9cf122eb097ed9fe8ae50e1b0dbba9bbe447
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Fri Feb 3 03:04:38 2006 -0800

    [PATCH] Fix comment to synchronize_sched()
    
    Fix to broken comment to synchronize_rcu() noted by Keith Owens.  Also add
    sentence noting that synchronize_sched() and synchronize_rcu() are not
    necessarily identical.
    
    Signed-off-by: Paul E. McKenney <paulmck@us.ibm.com>
    Cc: Keith Owens <kaos@sgi.com>
    Cc: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d9c0531c91755a90b646b27bb722d59ee3eb46d
Author: Herbert Poetzl <herbert@13thfloor.at>
Date:   Fri Feb 3 03:04:37 2006 -0800

    [PATCH] quota: fix error code for ext2_new_inode()
    
    The quota check in ext2_new_inode() returns ENOSPC where it should return
    EDQUOT instead.
    
    Signed-off-by: Herbert Poetzl <herbert@13thfloor.at>
    Acked-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69dcc99199fe29b0a29471a3488d39d9d33b25fc
Author: Yanmin Zhang <yanmin.zhang@intel.com>
Date:   Fri Feb 3 03:04:36 2006 -0800

    [PATCH] Export cpu topology in sysfs
    
    The patch implements cpu topology exportation by sysfs.
    
    Items (attributes) are similar to /proc/cpuinfo.
    
    1) /sys/devices/system/cpu/cpuX/topology/physical_package_id:
    	represent the physical package id of  cpu X;
    2) /sys/devices/system/cpu/cpuX/topology/core_id:
    	represent the cpu core id to cpu X;
    3) /sys/devices/system/cpu/cpuX/topology/thread_siblings:
    	represent the thread siblings to cpu X in the same core;
    4) /sys/devices/system/cpu/cpuX/topology/core_siblings:
    	represent the thread siblings to cpu X in the same physical package;
    
    To implement it in an architecture-neutral way, a new source file,
    driver/base/topology.c, is to export the 5 attributes.
    
    If one architecture wants to support this feature, it just needs to
    implement 4 defines, typically in file include/asm-XXX/topology.h.
    The 4 defines are:
    #define topology_physical_package_id(cpu)
    #define topology_core_id(cpu)
    #define topology_thread_siblings(cpu)
    #define topology_core_siblings(cpu)
    
    The type of **_id is int.
    The type of siblings is cpumask_t.
    
    To be consistent on all architectures, the 4 attributes should have
    deafult values if their values are unavailable. Below is the rule.
    
    1) physical_package_id: If cpu has no physical package id, -1 is the
    default value.
    
    2) core_id: If cpu doesn't support multi-core, its core id is 0.
    
    3) thread_siblings: Just include itself, if the cpu doesn't support
    HT/multi-thread.
    
    4) core_siblings: Just include itself, if the cpu doesn't support
    multi-core and HT/Multi-thread.
    
    So be careful when declaring the 4 defines in include/asm-XXX/topology.h.
    
    If an attribute isn't defined on an architecture, it won't be exported.
    
    Thank Nathan, Greg, Andi, Paul and Venki.
    
    The patch provides defines for i386/x86_64/ia64.
    
    Signed-off-by: Yanmin Zhang <yanmin.zhang@intel.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66ac5a294db70aa377c0d7bbdb0c4e3ef2349b7b
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Feb 3 03:04:35 2006 -0800

    [PATCH] ixj: fix writing silence check
    
    j->write_buffer_rp is a pointer.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0c00257d63463fa9d692e632fae037d6c0e67b0
Author: Peter Williams <pwil3058@bigpond.net.au>
Date:   Fri Feb 3 03:04:33 2006 -0800

    [PATCH] lib: Fix bug in int_sqrt() for 64 bit longs
    
    The implementation of int_sqrt() assumes that longs have 32 bits.  On
    systems that have 64 bit longs this will result in gross errors when the
    argument to the function is greater than 2^32 - 1 on such systems.  I doubt
    whether any such use is currently made of int_sqrt() but the attached patch
    fixes the problem anyway.
    
    Signed-off-by: Peter Williams <pwil3058@bigpond.com.au>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6bf8d889ed453f709dedacabdcf5db47470fdae9
Author: Herbert Poetzl <herbert@13thfloor.at>
Date:   Fri Feb 3 03:04:32 2006 -0800

    [PATCH] quota: remove unused sync_dquots_dev()
    
    The already removed sync_dquots_dev(dev,type) is still defined in the
    no-quota case.
    
    Signed-off-by: Herbert Poetzl <herbert@13thfloor.at>
    Acked-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1374ae8b9a3789695962a0f3fd4c6eb7aff881bc
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 3 03:04:31 2006 -0800

    [PATCH] drivers/serial/jsm/: cleanups
    
    - jsm_driver.c: remove the now unused jsm_rawreadok module_param
    - jsm_tty.c: remove a now unused variable
    
    Is there any problem with removing the now useless jsm_rawreadok
    module_param?
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: V. Ananda Krishnan <mansarov@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a577ce34f703c885f807e2abc77dff02c7857af
Author: V. Ananda Krishnan <mansarov@us.ibm.com>
Date:   Fri Feb 3 03:04:30 2006 -0800

    [PATCH] jsm: update for tty buffering revamp
    
    Signed-off-by: V. Ananda Krishnan <mansarov@us.ibm.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7d95c8f27d9be65bf160f1edaf653d33dfceb58c
Author: dean gaudet <dean@arctic.org>
Date:   Fri Feb 3 03:04:30 2006 -0800

    [PATCH] fcntl F_SETFL and read-only IS_APPEND files
    
    There is code in setfl() which attempts to preserve the O_APPEND flag on
    IS_APPEND files...  however IS_APPEND files could also be opened O_RDONLY
    and in that case setfl() should not require O_APPEND...
    
    coreutils 5.93 tail -f attempts to set O_NONBLOCK even on regular files...
    unfortunately if you try this on an append-only log file the result is
    this:
    
    fcntl64(3, F_GETFL)                     = 0x8000 (flags O_RDONLY|O_LARGEFILE)
    fcntl64(3, F_SETFL, O_RDONLY|O_NONBLOCK|O_LARGEFILE) = -1 EPERM (Operation not permitted)
    
    I offer up the patch below as one way of fixing the problem...  i've tested
    it fixes the problem with tail -f but haven't really tested beyond that.
    
    (I also reported the coreutils bug upstream... it shouldn't fail imho...
    <https://savannah.gnu.org/bugs/index.php?func=detailitem&item_id=15473>)
    
    Signed-off-by: dean gaudet <dean@arctic.org>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Acked-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b3e09e19932835fb77c63aaf3b1af6117e78871
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Feb 3 03:04:29 2006 -0800

    [PATCH] I2O: fix and workaround for Motorola/Freescale controller
    
    - This controller violates the I2O spec for the I/O registers.  The patch
      contains a workaround which moves the registers to the proper location.
      (originally author: Matthew Starzewski)
    
    - If a message frame is beyond the mapped address range a error is
      returned.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15d8ec7d08fbb7876e292b42bc92da8d82df7ea9
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Feb 3 03:04:28 2006 -0800

    [PATCH] I2O: don't disable PCI device if it is enabled before probing
    
    If PCI device is enabled before probing, it will not be disabled at exit.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35dc8161d0a6fa5e654bcb3d6240acc9ecb0a259
Author: Jeff Moyer <jmoyer@redhat.com>
Date:   Fri Feb 3 03:04:27 2006 -0800

    [PATCH] fix O_DIRECT read of last block in a sparse file
    
    Currently, if you open a file O_DIRECT, truncate it to a size that is not a
    multiple of the disk block size, and then try to read the last block in the
    file, the read will return 0.  The problem is in do_direct_IO, here:
    
            /* Handle holes */
            if (!buffer_mapped(map_bh)) {
                    char *kaddr;
    
    		...
    
                    if (dio->block_in_file >=
                            i_size_read(dio->inode)>>blkbits) {
                            /* We hit eof */
                            page_cache_release(page);
                            goto out;
                    }
    
    We shift off any remaining bytes in the final block of the I/O, resulting
    in a 0-sized read.  I've attached a patch that fixes this.  I'm not happy
    about how ugly the math is getting, so suggestions are more than welcome.
    
    I've tested this with a simple program that performs the steps outlined for
    reproducing the problem above.  Without the patch, we get a 0-sized result
    from read.  With the patch, we get the correct return value from the short
    read.
    
    Signed-off-by: Jeff Moyer <jmoyer@redhat.com>
    Cc: Badari Pulavarty <pbadari@us.ibm.com>
    Cc: Suparna Bhattacharya <suparna@in.ibm.com>
    Cc: Mingming Cao <cmm@us.ibm.com>
    Cc: Joel Becker <Joel.Becker@oracle.com>
    Cc: "Chen, Kenneth W" <kenneth.w.chen@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 835417967c10b6dfaffdffddba59196196e5d431
Author: Carsten Otte <cotte@de.ibm.com>
Date:   Fri Feb 3 03:04:25 2006 -0800

    [PATCH] ext2: print xip mount option in ext2_show_options
    
    In case we have CONFIG_FS_XIP, ext2_show_options shows "xip" if
    EXT2_MOUNT_XIP mount flag is set.
    
    Signed-off-by: Carsten Otte <cotte@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a18546110ed6bec483d55bfffccb2487dfbd77af
Author: Andreas Schwab <schwab@suse.de>
Date:   Fri Feb 3 03:04:24 2006 -0800

    [PATCH] disable per cpu intr in /proc/stat
    
    Don't compute and display the per-irq sums on ia64 either, too much
    overhead for mostly useless figures.
    
    Cc: Olaf Hering <olh@suse.de>
    Acked-by: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d38b049fe8df77c8e9dc48d0fd84555739fbb1a
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Feb 3 03:04:24 2006 -0800

    [PATCH] edac: use C99 initializers (sparse warnings)
    
    drivers/edac/e752x_edac.c:1042:7: warning: obsolete struct initializer, use C99 syntax
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe85a998ca64a067e58ca9240ec54a95994d78ee
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Feb 3 03:04:23 2006 -0800

    [PATCH] cpuset: fix sparse warning
    
    kernel/cpuset.c:644:38: warning: non-ANSI function declaration of function 'cpuset_update_task_memory_state'
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Acked-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 778116920e89b91b19d2b488a0d6fe63cf43379c
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Fri Feb 3 03:04:22 2006 -0800

    [PATCH] parport: remove dead address in MAINTAINERS
    
    Remove dead address for David Campbell in MAINTAINERS.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ef3b49cc24963a11125971b8deaa8b46209d113
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Fri Feb 3 03:04:21 2006 -0800

    [PATCH] parport: fix documentation
    
    Fix documentation to actually match the code.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88fc3897e3219e63ae6e2d180a6c87d033ef9f3b
Author: George Anzinger <george@wildturkeyranch.net>
Date:   Fri Feb 3 03:04:20 2006 -0800

    [PATCH] Normalize timespec for negative values in ns_to_timespec
    
    - In case of a negative nsec value the result of the division must be
      normalized.
    
    - Remove inline from an exported function.
    
    Signed-off-by: George Anzinger <george@wildturkeyranch.net>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 034b91a3b66cf9d2983ac45f73162395c0936c36
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Fri Feb 3 03:04:20 2006 -0800

    [PATCH] v9fs: fix corner cases when flushing request
    
    When v9fs_mux_rpc sends a 9P message, it may be put in the queue of unsent
    request.  If the user process receives a signal, v9fs_mux_rpc sets the
    request error to ERREQFLUSH and assigns NULL to request's send message.  If
    the message was still in the unsent queue, v9fs_write_work would produce an
    oops while processing it.
    
    The patch makes sure that requests that are being flushed are moved to the
    pending requests queue safely.
    
    If a request is being flushed, don't remove it from the list of pending
    requests even if it receives a reply before the flush is acknoledged.  The
    request will be removed during from the Rflush handler (v9fs_mux_flush_cb).
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05818a004a84951fd383694f3b35d89eb49fa308
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Fri Feb 3 03:04:18 2006 -0800

    [PATCH] v9fs: v9fs_put_str fix
    
    v9fs_put_str used to store pointer to the source string, instead of the
    cbuf copy.  This patch corrects it.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93c615feffbcea4f09ecee154f46062f6041776e
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Fri Feb 3 03:04:17 2006 -0800

    [PATCH] v9fs: symlink support fixes
    
    Two symlink fixes, v9fs_readlink didn't copy the last character of the
    symlink name, v9fs_vfs_follow_link incorrectly called strlen of newly
    allocated buffer instead of PATH_MAX.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e75f744289f0a1c38b669e39a489af460640881
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Fri Feb 3 03:04:16 2006 -0800

    [PATCH] parport: add parallel port support for SGI O2
    
    Add support for the built-in parallel port on SGI O2 (a.k.a.  IP32).
    Define a new configuration option: PARPORT_IP32.  The module is named
    parport_ip32.
    
    Hardware support for SPP, EPP and ECP modes along with DMA support when
    available are currently implemented.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd3bfeb58aeddb660dc600ded2fa9243e0c2d12b
Author: Felix Oxley <lkml@oxley.org>
Date:   Fri Feb 3 03:04:15 2006 -0800

    [PATCH] fs/jffs/intrep.c: 255 is unsigned char
    
    Signed-off-by: Felix Oxley <lkml@oxley.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abffa7da99b78caaf81a2f519bf9cbd1e8dcbc1d
Author: Domen Puncer <domen@coderock.org>
Date:   Fri Feb 3 03:04:14 2006 -0800

    [PATCH] drivers/isdn/sc/ioctl.c: copy_from_user() size fix
    
    A few lines above the patch we have:
    
    	char *srec;
    	srec = kmalloc(SCIOC_SRECSIZE, GFP_KERNEL);
    
    sizeof pointer is probably not meant here.
    
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74adb52797a7cde217a8ceeaf254a5441a42a72c
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Fri Feb 3 03:04:13 2006 -0800

    [PATCH] umem: check pci_set_dma_mask return value correctly
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfa08592ca0440d793ecc8dfc6277dd2aa4b8dda
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Fri Feb 3 03:04:13 2006 -0800

    [PATCH] Fix two ext[23] uninitialized warnings
    
    There is a code path that passed size to ext2_xattr_set
    (ext3_xattr_set_handle) before initializing it.  The callees don't use the
    value in that case, but gcc cannot tell.  Always initialize size to get rid
    of the warnings.
    
    Signed-off-by: Andreas Gruenbacher <agruen@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d923a0603b5909a6758cfaec503955775cb7ab1
Author: Andreas Schwab <schwab@suse.de>
Date:   Fri Feb 3 03:04:12 2006 -0800

    [PATCH] ufs: fix char vs. __s8 clash in ufs
    
    Fix this warning:
    
    fs/ufs/super.c: In function ufs_fill_super:
    fs/ufs/super.c:858: warning: case label value exceeds maximum value for type
    
    which happens because __s8 != char.  These macros are used for struct
    ufs_super_block.fs_clean which is declared as __s8.
    
    Signed-off-by: Andreas Schwab <schwab@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90cbc45b1d8a81e661a981ddd69f95d6915f1574
Author: Dave Jones <davej@redhat.com>
Date:   Fri Feb 3 03:04:11 2006 -0800

    [PATCH] EDAC config cleanup
    
    The AMD76x chipsets aren't used in 64-bit, so don't offer the driver to the
    user.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Acked-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 23332c2e9da16b717f18fd95bc90211a663aa6ee
Author: Tong Li <tong.n.li@intel.com>
Date:   Fri Feb 3 03:04:09 2006 -0800

    [PATCH] OProfile: fixed x86_64 incorrect kernel call graphs
    
    Fix the problem in kernel 2.6.15.1 (and early versions) that OProfile on
    x86_64 does not correctly collect the stack traces for kernel functions.
    
    The original code in valid_kernel_stack() in arch/i386/oprofile/backtrace.c
    assumes that the frame pointer (headaddr) should be greater than stack
    (i.e., regs).
    
    This assumption is wrong for x86_64 because NMIs in x86_64 use a seperate
    stack different from the kernel stack.  Therefore, the variable stack now
    points to some location on the NMI stack, which turns out to be at a higher
    address than the frame pointer (headaddr) on the kernel stack.  The correct
    comparison here should be between headaddr and regs->rsp for x86_64.
    
    Signed-off-by: Tong Li <tong.n.li@intel.com>
    Cc: John Levon <levon@movementarian.org>
    Cc: Philippe Elie <phil.el@wanadoo.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8145916996b91d42b8bb4b0fcd508af295222c7c
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Feb 3 03:04:08 2006 -0800

    [PATCH] Fix some ucLinux breakage from the tty updates
    
    Breakage reported by Adrian Bunk
    
    Untested (no hardware)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84542838a3829f34630c589c1eb570656c455a1c
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Feb 3 03:04:07 2006 -0800

    [PATCH] rio cleanups
    
    INKERNEL is always defined
    HOST is never defined
    therefore RTA is also never defined
    
    Strip the relevant garbage out of the headers on this basis.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47ba87e0b1269698801310bfd1716b0538282405
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Feb 3 03:04:06 2006 -0800

    [PATCH] make "struct d_cookie" depend on CONFIG_PROFILING
    
    Shrinks "struct dentry" from 128 bytes to 124 on x86, allowing 31 objects
    per slab instead of 30.
    
    Cc: John Levon <levon@movementarian.org>
    Cc: Philippe Elie <phil.el@wanadoo.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09114eb8c53d2d3b2ff9523e011cb68b2e245dce
Author: Evgeniy Dushistov <dushistov@mail.ru>
Date:   Fri Feb 3 03:04:06 2006 -0800

    [PATCH] ufs: fix hang during `rm'
    
    This fixes the code like this:
    
    	bh = sb_find_get_block (sb, tmp + j);
    	if ((bh && DATA_BUFFER_USED(bh)) || tmp != fs32_to_cpu(sb, *p)) {
    		retry = 1;
    		brelse (bh);
    		goto next1;
    	}
    	bforget (bh);
    
    sb_find_get_block() ordinarily returns a buffer_head with b_count>=2, and
    this code assume that in case if "b_count>1" buffer is used, so this caused
    infinite loop.
    
    (akpm: that is-the-buffer-busy code is incomprehensible.  Good riddance.  Use
    of block_truncate_page() seems sane).
    
    Signed-off-by: Evgeniy Dushistov <dushistov@mail.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e295cfcb2907ae4c5df57f5d4ada1ce6f3ae4657
Author: Evgeniy Dushistov <dushistov@mail.ru>
Date:   Fri Feb 3 03:04:04 2006 -0800

    [PATCH] ufs: fix oops with `ufs1' type
    
    "rm" command, on file system with "ufs1" type cause system hang up.  This
    is, in fact, not so bad as it seems to be, because of after that in "kernel
    control path" there are 3-4 places which may cause "oops".
    
    So the first patch fix oopses, and the second patch fix "kernel hang up".
    
    "oops" appears because of reading of group's summary info partly wrong, and
    access to not first group's summary info cause "oops".
    
    Signed-off-by: Evgeniy Dushistov <dushistov@mail.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19dfe31c29e0ebb88cf1cd2211da3e2ff2a26d52
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:04:04 2006 -0800

    [PATCH] sx.c printk warning fixes
    
    drivers/char/sx.c: In function `sx_set_real_termios':
    drivers/char/sx.c:934: warning: long unsigned int format, different type arg (arg 2)
    drivers/char/sx.c:961: warning: long unsigned int format, different type arg (arg 2)
    drivers/char/sx.c:976: warning: long unsigned int format, different type arg (arg 2)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c17e1eb05977283bc7ad94d16ace3a0d586921a
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:04:03 2006 -0800

    [PATCH] quota_v2: printk warning fixes
    
    fs/quota_v2.c: In function `v2_check_quota_file':
    fs/quota_v2.c:39: warning: int format, different type arg (arg 2)
    fs/quota_v2.c:39: warning: int format, different type arg (arg 3)
    
    Cc: Jan Kara <jack@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4f64e9ded28bcdb2cb57438bd1721579f8b28c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:04:02 2006 -0800

    [PATCH] parport_serial: printk warning fix
    
    drivers/parport/parport_serial.c: In function `parport_register':
    drivers/parport/parport_serial.c:334: warning: unsigned int format, different type arg (arg 3)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d35c602870ece3166cff3d25fbc687a7f707acf3
Author: Vitaly Fertman <vitaly@namesys.com>
Date:   Fri Feb 3 03:04:01 2006 -0800

    [PATCH] someone broke reiserfs V3 mount options, this fixes it
    
    Signed-off-by: Hans Reiser <reiser@namesys.com>
    Signed-off-by: Vitaly Fertman <vitaly@namesys.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3636641bb2c7a806c1099ca092ec8cd180063f9b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 3 03:04:00 2006 -0800

    [PATCH] don't allow users to set CONFIG_BROKEN=y
    
    Do not allow people to create configurations with CONFIG_BROKEN=y.
    
    The sole reason for CONFIG_BROKEN=y would be if you are working on fixing a
    broken driver, but in this case editing the Kconfig file is trivial.
    
    Never ever should a user enable CONFIG_BROKEN.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 145046d31ecf9f4f1ba80c8d21225158f6d1738c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Feb 3 03:03:59 2006 -0800

    [PATCH] parport: fix printk format warning
    
    Fix printk format warning:
    drivers/parport/probe.c:205: warning: format '%d' expects type 'int', but argument 3 has type 'size_t'
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de6c642ca9566ed358e1cde5fa0e25f7788a5566
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Feb 3 03:03:58 2006 -0800

    [PATCH] SBC EPX does not check/claim I/O ports it uses (2nd Edition)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5423980245c56fd968840b6d36bbddc2719084e4
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Feb 3 03:03:58 2006 -0800

    [PATCH] sx.c warning fixes
    
    drivers/char/sx.c: In function `sx_set_real_termios':
    drivers/char/sx.c:934: warning: int format, long unsigned int arg (arg 2)
    drivers/char/sx.c:961: warning: unsigned int format, tcflag_t arg (arg 2)
    drivers/char/sx.c:976: warning: unsigned int format, tcflag_t arg (arg 2)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d1d0340da3fc7d1a8d9198e74e97d2db6c3f86f
Author: Steffen Klassert <klassert@mathematik.tu-chemnitz.de>
Date:   Fri Feb 3 03:03:57 2006 -0800

    [PATCH] 3c59x: collision statistic fix
    
    Count the total number of packets with collisions during transmission in
    vp->stats.collisions.
    
    Signed-off-by: Steffen Klassert <klassert@mathematik.tu-chemnitz.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 490d6ab170c94a7a59870f528d765131b8963e79
Author: Zach Brown <zach.brown@oracle.com>
Date:   Fri Feb 3 03:03:56 2006 -0800

    [PATCH] list.h: don't evaluate macro args multiple times
    
    I noticed that list.h init functions were evaluating macro arguments
    multiple times and thought it might be nice to protect the unsuspecting
    caller.  Converting the macros to inline functions seems to reduce code
    size, too.  A i386 defconfig build with gcc 3.3.3 from fc4:
    
       text    data     bss     dec     hex filename
    3573148  565664  188828 4327640  4208d8 vmlinux.before
    3572177  565664  188828 4326669  42050d vmlinux
    
    add/remove: 0/0 grow/shrink: 11/144 up/down: 88/-1016 (-928)
    
    There was no difference in checkstack output.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bcc68b8616bcac47dbfc414398e382b3b10faf4c
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Feb 3 03:03:54 2006 -0800

    [PATCH] include/asm-*/bitops.h: fix more "~0UL >> size" typos
    
    "[PATCH] m68knommu: fix find_next_zero_bit in bitops.h" fixed a typo in
    m68knommu implementation of find_next_zero_bit().
    
    grep(1) shows that cris, frv, h8300, v850 are also affected.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Mikael Starvik <starvik@axis.com>
    Cc: David Howells <dhowells@redhat.com>
    Cc: Yoshinori Sato <ysato@users.sourceforge.jp>
    Cc: Miles Bader <uclinux-v850@lsi.nec.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54e8ce463a7e21dbe9dad57723ed47653ee5db15
Author: Keith Owens <kaos@sgi.com>
Date:   Fri Feb 3 03:03:53 2006 -0800

    [PATCH] Tell kallsyms_lookup_name() to ignore type U entries
    
    When one module exports a function symbol and another module uses that
    symbol then kallsyms shows the symbol twice.  Once from the consumer with a
    type of 'U' and once from the provider with a type of 't' or 'T'.  On most
    architectures, both entries have the same address so it does not matter
    which one is returned by kallsyms_lookup_name().  But on architectures with
    function descriptors, the 'U' entry points to the descriptor, not to the
    code body, which is not what we want.
    
    IA64 # grep -w qla2x00_remove_one /proc/kallsyms
    a000000208c25ef8 U qla2x00_remove_one   [qla2300]   <= descriptor
    a000000208bf44c0 t qla2x00_remove_one   [qla2xxx]   <= function body
    
    Tell kallsyms_lookup_name() to ignore type U entries in modules.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 501fe31df4bb94999fbe9bb42f05527df5525683
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Fri Feb 3 03:03:52 2006 -0800

    [PATCH] s390: fix to_channelpath macro
    
    Fix broken to_channelpath macro (fortunately worked in all current cases...).
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd2d2bf657ef1f376def6f8281202f20800fee7d
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 3 03:03:52 2006 -0800

    [PATCH] s390: fix compat syscall wrapper
    
    Patch 9ad11ab48b1ad618bf47076e9e579f267f5306c2 changes the type of the first
    argument of some compat syscalls from int to unsigned int.  Add these changes
    to the s390 compat wrapper as well.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ff290a0c0dec40eb6f80efbb0ac88f518bbb2a7
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Fri Feb 3 03:03:51 2006 -0800

    [PATCH] s390: compile fix: missing defines in asm-s390/io.h
    
    Compile fix: add missing __raw_read* and __raw_write* defines to
    include/asm-s390/io.h.
    These are mandatory since patch c27a0d75b33c030965cc97d3d7f571107a673fb4
    was merged.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d7bfd14e593455a0801c62db86f82912c52c3a1
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Fri Feb 3 03:03:50 2006 -0800

    [PATCH] s390: timer interface visibility
    
    Avoid visibility of kernel internal interface to user space.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12c3a54848a6eba2b38cd92ba5925433d223332b
Author: Stefan Weinhuber <wein@de.ibm.com>
Date:   Fri Feb 3 03:03:49 2006 -0800

    [PATCH] s390: dasd extended error reporting module
    
    The DASD extended error reporting is a facility that allows to get detailed
    information about certain problems in the DASD I/O.  This information can be
    used to implement fail-over applications that can recover these problems.
    
    Signed-off-by: Stefan Weinhuber <wein@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d237bf49261ed812a17f7123fea9b80ef673ca0f
Author: Thibaut VARENE <T-Bone@parisc-linux.org>
Date:   Fri Feb 3 03:03:48 2006 -0800

    [PATCH] ide: restore support for AEC6280M cards in aec62xx.c
    
    This patch adds missing initialization sequence, necessary to get the
    "Macintosh" version of AEC6280 cards to work in Linux.  Without this patch,
    the driver hangs for several minutes trying to initialize the card and the
    kernel is left in an unstable state.  This patch has been tested fine on
    ppc and i386.
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 75b84e94aa9fa74bda9a393b55ef6778b90eb1a8
Author: Martin Michlmayr <tbm@cyrius.com>
Date:   Fri Feb 3 03:03:47 2006 -0800

    [PATCH] Fix compilation errors in maps/dc21285.c
    
      CC      drivers/mtd/maps/dc21285.o
    drivers/mtd/maps/dc21285.c: In function `dc21285_copy_to_32':
    drivers/mtd/maps/dc21285.c:113: error: invalid lvalue in increment
    drivers/mtd/maps/dc21285.c: In function `dc21285_copy_to_16':
    drivers/mtd/maps/dc21285.c:124: error: invalid lvalue in increment
    drivers/mtd/maps/dc21285.c: In function `dc21285_copy_to_8':
    drivers/mtd/maps/dc21285.c:134: error: invalid lvalue in increment
    make[3]: *** [drivers/mtd/maps/dc21285.o] Error 1
    
    Signed-off-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f434baf4c6ae4a392b7c34843825af0894c89db2
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Fri Feb 3 03:03:46 2006 -0800

    [PATCH] fix generic_fls64()
    
    Noticed by Rune Torgersen.
    
    Fix generic_fls64().  tcp_cubic is using fls64().
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9ab8b68e2abb1eff7ac0f8d118a8765130b967d
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Fri Feb 3 03:03:45 2006 -0800

    [PATCH] Documentation: Updated PCI Error Recovery
    
    This patch is a cleanup/restructuring/clarification of the PCI error
    handling doc.  It should look rather professional at this point.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0c1633bdb844ec5b4ac15c97ab8927d80550c42
Author: Dave Jones <davej@redhat.com>
Date:   Fri Feb 3 03:03:44 2006 -0800

    [PATCH] Fix build failure in recent pm_prepare_* changes.
    
    kernel/power/power.h:49: error: static declaration of 'pm_prepare_console' follows non-static declaration
    include/linux/suspend.h:46: error: previous declaration of 'pm_prepare_console' was here
    kernel/power/power.h:50: error: static declaration of 'pm_restore_console' follows non-static declaration
    include/linux/suspend.h:47: error: previous declaration of 'pm_restore_console' was here
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 278ff9537030bbb292b33504f5e1f6e0126793eb
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Fri Feb 3 03:03:43 2006 -0800

    [PATCH] Kprobes: Fix deadlock in function-return probes
    
    When two function-return probes are inserted on kfree()[1] and the second
    on say, sys_link()[2], and later [2] is unregistered, we have a deadlock as
    kfree is called with the kretprobe_lock held and the function-return probe
    on kfree will also try to grab the same lock.
    
    However, we can move the kfree() during unregistration to outside the
    spinlock as we are sure that no instances from the free list will be used
    after synchronized_sched() returns during the unregistration process.
    Thanks to Masami Hiramatsu for spotting this.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e65cefe87beda627c0bfba39b387ee4bffedc93c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Feb 3 03:03:42 2006 -0800

    [PATCH] kernel/kprobes.c: fix a warning #ifndef ARCH_SUPPORTS_KRETPROBES
    
    kernel/kprobes.c:353: warning: 'pre_handler_kretprobe' defined but not used
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Acked-by: "Keshavamurthy, Anil S" <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8ed75463b969f72fd724ba0c01107fa443522321
Author: Neil Brown <neilb@suse.de>
Date:   Fri Feb 3 03:03:41 2006 -0800

    [PATCH] md: Make sure rdev->size gets set for version-1 superblocks
    
    Sometimes it doesn't so make the code more like the version-0 code which
    works.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29fc7e3e70a05e9eea28afb6707a39c1a53e2f66
Author: Neil Brown <neilb@suse.de>
Date:   Fri Feb 3 03:03:41 2006 -0800

    [PATCH] md: Assorted little md fixes
    
    - version-1 superblock
      + The default_bitmap_offset is in sectors, not bytes.
      + the 'size' field in the superblock is in sectors, not KB
    - raid0_run should return a negative number on error, not '1'
    - raid10_read_balance should not return a valid 'disk' number if
         ->rdev turned out to be NULL
    - kmem_cache_destroy doesn't like being passed a NULL.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 284ae7cab0f7335c9e0aa8992b28415ef1a54c7c
Author: Neil Brown <neilb@suse.de>
Date:   Fri Feb 3 03:03:40 2006 -0800

    [PATCH] md: Handle overflow of mdu_array_info_t->size better
    
    mdu_array_info_t->size is 'int', which isn't big enough for the size (in KB of
    each component in) some arrays.
    
    So rather than a random overflow, set size to -1 when it cannot be set
    correctly.
    
    To update aspect on an array, userspace will sometimes:
      get_array_info
      change one field
      set_array_info
    
    in this case, we don't want the '-1' in 'size' to change to size, or look like
    a size change at all.  So test for that in update_array_info.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab11f89929b785daaa428801bd8b7e65241d7913
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Fri Feb 3 03:03:38 2006 -0800

    [PATCH] Clean up Documentation/driver-model/overview.txt
    
    Edits to the driver-model documentation for grammar, clarity and content.
    
    These docs haven't been updated in years, and some of the technical content
    and discussion has become stale; this patch updates these.  In addition,
    some of the language is awkward.  Fix this.
    
    (I'm trying to cleanup the other files in this directory also,
    patches for these will come a bit later).
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: Patrick Mochel <mochel@digitalimplant.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1989e20cc1e7491232795f9dac9b745e4329dfd8
Author: Michal Ostrowski <mostrows@watson.ibm.com>
Date:   Fri Feb 3 03:03:37 2006 -0800

    [PATCH] Fix RocketPort driver
    
    Call "ld->receive_buf" using the start of the character and flag buffers,
    rather than the ends.
    
    Signed-off-by: Michal Ostrowski <mostrows@watson.ibm.com>
    Acked-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 826eeb53a6f264842200d3311d69107d2eb25f5e
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 2 22:03:08 2006 -0800

    Linux v2.6.16-rc2

commit 0dec456d1fe73e0539625f0973ee8ef8fb805943
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 2 20:40:09 2006 -0800

    [NET]: Add CONFIG_NETDEBUG to suppress bad packet messages.
    
    If you are on a hostile network, or are running protocol tests, you can
    easily get the logged swamped by messages about bad UDP and ICMP packets.
    This turns those messages off unless a config option is enabled.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Acked-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 33052057e3e2db7f37fc78aa3f25c98f7e989fae
Merge: 00b464d... 1113a7e...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Feb 2 21:51:52 2006 -0500

    Merge branch 'master' of git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 6e2be3ea4fab4d1c02e369719311e8d7ae6cc7c1
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Feb 2 17:29:59 2006 -0800

    [TG3]: Update driver version and release date.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7faa006f94fda56a587242b2a22fa19abf840222
Author: Michael Chan <mchan@broadcom.com>
Date:   Thu Feb 2 17:29:28 2006 -0800

    [TG3]: Flush tg3_reset_task()
    
    Make sure tg3_reset_task() is flushed in the close and suspend paths
    as noted by Jeff Garzik.
    
    In the close path, calling flush_scheduled_work() may cause deadlock
    if linkwatch_event() is on the workqueue. linkwatch_event() will try
    to get the rtnl_lock() which is already held by tg3_close(). So
    instead, we set a flag in tg3_reset_task() and tg3_close() polls
    the flag until it is cleared.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3f330317ab4973178423aba750d6d0ca5ce0024a
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Feb 2 17:15:41 2006 -0800

    [TEXTSEARCH]: Fix broken good shift array calculation in Boyer-Moore
    
    The current logic does not calculate correctly the good shift array:
    Let x be the pattern that is being searched. Let y be the block of data.
    The good shift array aligns the segment:
    
    x[i+1 ... m-1] = y[i+j+1 ... j+m-1]
    
    with its rightmost occurrence in x that fulfils x[i] neq y[i+j].
    
    In previous version, the good shift array for the pattern ANPANMAN is:
    [1, 8, 3, 8, 8, 8, 8, 8]
    and should be:
    [1, 8, 3, 6, 6, 6, 6, 6]
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f00c401b9b5f0a90e2eb05705f5988fbda0b082b
Author: Horms <horms@verge.net.au>
Date:   Thu Feb 2 17:03:18 2006 -0800

    [IPV4]: Remove suprious use of goto out: in icmp_reply
    
    This seems to be an artifact of the follwoing commit in February '02.
    
    e7e173af42dbf37b1d946f9ee00219cb3b2bea6a
    
    In a nutshell, goto out and return actually do the same thing,
    and both are called in this function. This patch removes out.
    
    Signed-Off-By: Horms <horms@verge.net.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 95f7daf1c058dc6afbc2d33b6a65ce1bae132dc8
Author: Horms <horms@verge.net.au>
Date:   Thu Feb 2 17:02:25 2006 -0800

    [IPV4]: Document icmp_errors_use_inbound_ifaddr sysctl
    
    Taken largely from the commit of the patch that added this feature:
    
    1c2fb7f93cb20621772bf304f3dba0849942e5db
    
    I'm not sure about the ordering of the options in sysctl.txt,
    so I took a wild guess about where it fits.
    
    Signed-Off-By: Horms <horms@verge.net.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6f4b6ec1cffcbb12cc47244381496d59b6a5a790
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Feb 2 17:01:13 2006 -0800

    [IPV6]: Fix illegal dst locking in softirq context.
    
    On Tue, Jan 31, 2006 at 10:24:32PM +0100, Ingo Molnar wrote:
    >
    >  [<c04de9e8>] _write_lock+0x8/0x10
    >  [<c0499015>] inet6_destroy_sock+0x25/0x100
    >  [<c04b8672>] tcp_v6_destroy_sock+0x12/0x20
    >  [<c046bbda>] inet_csk_destroy_sock+0x4a/0x150
    >  [<c047625c>] tcp_rcv_state_process+0xd4c/0xdd0
    >  [<c047d8e9>] tcp_v4_do_rcv+0xa9/0x340
    >  [<c047eabb>] tcp_v4_rcv+0x8eb/0x9d0
    
    OK this is definitely broken.  We should never touch the dst lock in
    softirq context.  Since inet6_destroy_sock may be called from that
    context due to the asynchronous nature of sockets, we can't take the
    lock there.
    
    In fact this sk_dst_reset is totally redundant since all IPv6 sockets
    use inet_sock_destruct as their socket destructor which always cleans
    up the dst anyway.  So the solution is to simply remove the call.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f8addb3215bf58154f189017d934dfc06b62c75e
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Feb 2 16:59:16 2006 -0800

    [IPV4] multipath_wrandom: Fix softirq-unsafe spin lock usage
    
    The spin locks in multipath_wrandom may be obtained from either process
    context or softirq context depending on whether the packet is locally
    or remotely generated.  Therefore we need to disable BH processing when
    taking these locks.
    
    This bug was found by Ingo's lock validator.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 27852c26baab8b95fc9a2b3e8a18770ecd553f10
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Thu Feb 2 16:57:31 2006 -0800

    [SCTP]: Fix 'fast retransmit' to send a TSN only once.
    
    SCTP used to "fast retransmit" a TSN every time we hit the number
    of missing reports for the TSN.  However the Implementers Guide
    specifies that we should only "fast retransmit" a given TSN once.
    Subsequent retransmits should be timeouts only. Also change the
    number of missing reports to 3 as per the latest IG(similar to TCP).
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4641e7a334adf6856300a98e7296dfc886c446af
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Feb 2 16:55:45 2006 -0800

    [IPV6]: Don't hold extra ref count in ipv6_ifa_notify
    
    Currently the logic in ipv6_ifa_notify is to hold an extra reference
    count for addrconf dst's that get added to the routing table.  Thus,
    when addrconf dst entries are taken out of the routing table, we need
    to drop that dst.  However, addrconf dst entries may be removed from
    the routing table by means other than __ipv6_ifa_notify.
    
    So we're faced with the choice of either fixing up all places where
    addrconf dst entries are removed, or dropping the extra reference count
    altogether.
    
    I chose the latter because the ifp itself always holds a dst reference
    count of 1 while it's alive.  This is dropped just before we kfree the
    ifp object.  Therefore we know that in __ipv6_ifa_notify we will always
    hold that count.
    
    This bug was found by Eric W. Biederman.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 42c5e15f18d63c1ecf79d52bdaf4ea31cd22416d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Feb 2 16:53:26 2006 -0800

    [NET] snap: needs hardware checksum fix
    
    The SNAP code pops off it's 5 byte header, but doesn't adjust
    the checksum. This would cause problems when using device that
    does IP over SNAP and hardware receive checksums.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1113a7e92e483074c6235da59460759e33b9b144
Author: Stefan Bader <shbader@de.ibm.com>
Date:   Thu Feb 2 14:28:07 2006 -0800

    [PATCH] device-mapper log bitset: fix big endian find_next_zero_bit
    
    This is a fix to the device-mapper-log-bitset-fix-endian patch that
    switched to ext2_* versions of the set and clear bit functions.  The
    find_next_zero_bit function also has to be the ext2 one.  Otherwise the
    mirror target tries to recover non-existent regions beyond the end of
    device.
    
    Signed-off-by: Stefan Bader <shbader@de.ibm.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35849c75d7750a254119c1a4b88c90156919df2a
Author: Neil Brown <neilb@suse.de>
Date:   Thu Feb 2 14:28:06 2006 -0800

    [PATCH] md: Add sysfs access to raid6 stripe cache size
    
    .. just as we already have for raid5.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 978f946bb628ef228e13aadf4d4255b8727c4fc3
Author: Neil Brown <neilb@suse.de>
Date:   Thu Feb 2 14:28:05 2006 -0800

    [PATCH] md: Don't remove bitmap from md array when switching to read-only
    
    While a read-only array doesn't not really need a bitmap, we should
    not remove the bitmap when switching an array to read-only because
     a/ There is no code to re-add the bitmap which switching to read-write,
     b/ There is insufficient locking - the bitmap could be accessed while it is
        being removed.
    
    Cc: Reuben Farrelly <reuben-lkml@reub.net>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0ca340cd20b350eab8288974e9a6077900846e8
Author: Neil Brown <neilb@suse.de>
Date:   Thu Feb 2 14:28:04 2006 -0800

    [PATCH] md: Make sure array geometry changes persist with version-1 superblocks
    
    super_1_sync only updates fields in the superblock that might have changed.
    
    'raid_disks' and 'size' could have changed, but this information doesn't get
    updated....  until this patch.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d89332b776fc11bac0073209e44ec8f39831e4e
Author: Neil Brown <neilb@suse.de>
Date:   Thu Feb 2 14:28:03 2006 -0800

    [PATCH] md: Fix device-size updates in md
    
    As 'array_size' is a 'sector_t', it may overflow inappropriately when shifted
    10 bits.  So We should cast it to a loff_t first.
    
    There are two places with this problem, but the second (in update_raid_disks)
    isn't needed so just remove it:
      The only personality that handles ->reshape currently is raid1,
      and it doesn't change the size of the array.
      When added for raid5/6, reshape again won't change the size of the array,
      at least not straight away.
      This code might be need for reshaping 'linear' but linear->shape,
      if implemented, should probably do the i_size_write itself.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7d5e350fab47f1273bc8b52d5f133ed6e4baeb7f
Author: Dave Jones <davej@redhat.com>
Date:   Thu Feb 2 17:03:42 2006 -0500

    [CPUFREQ] Whitespace/CodingStyle cleanups
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit a85f7bd310dbc9010309bfe70b6b02432a11ef59
Author: Thomas Renninger <trenn@suse.de>
Date:   Wed Feb 1 11:36:04 2006 +0100

    [CPUFREQ] Check whether driver init did not initialize current freq
    
    Check whether driver init did not initialize current freq
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 9d2725bb815d915fc6c8531097d9e71b579a8763
Author: Thomas Renninger <trenn@suse.de>
Date:   Wed Feb 1 11:38:37 2006 +0100

    [CPUFREQ] Check for not initialized freq on cpufreq changes
    
    Test for old_freq equals 0 to insure not to divide by 0:
    ______________________________________________
    
    Check for not initialized freq on cpufreq changes
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 7c6c66362941df847957766ad133ff5fde67579c
Author: Robin Holt <holt@sgi.com>
Date:   Thu Feb 2 12:30:21 2006 -0600

    [IA64-SGI] Fix XPC code which sleeps with spin_lock_irqsave().
    
    During some testing, we got a warning about trying to allocate
    memory while holding a lock.  This fixes that problem.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Acked-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9a52bbed905fa41ca10f4db2e845b588f0fdfbef
Author: Jes Sorensen <jes@sgi.com>
Date:   Thu Feb 2 05:50:05 2006 -0500

    [IA64-SGI] include/asm-ia64/sn/intr.h more sn2 housekeeping
    
    House keeping - eliminate unneeded parenthesis in macro defines.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 2fcc3db0ccee9b47df7a4f732e6624f4f643c035
Author: Jes Sorensen <jes@sgi.com>
Date:   Thu Feb 2 05:15:51 2006 -0500

    [IA64-SGI] sn2 housekeeping
    
    Maintenance patch:
     - Add missing __init calls
     - Do not zero initialize global variables
     - No need to typecast function call returns to void
     - Some formatting
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 41db6112a5558bd09c8ec5b0e61566db11f0d86d
Merge: a587869... 466575f...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Feb 2 13:30:59 2006 -0800

    Pull sgi-drivers-makefile-cleanup into release branch

commit a58786917ce23c2a26c3e099c3cdba32a35eeceb
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Mon Jan 30 16:32:31 2006 -0700

    [IA64] avoid broken SAL_CACHE_FLUSH implementations
    
    If SAL_CACHE_FLUSH drops interrupts, complain about it and fall back to
    using PAL_CACHE_FLUSH instead.
    
    This is to work around a defect in HP rx5670 firmware: when an interrupt
    occurs during SAL_CACHE_FLUSH, SAL drops the interrupt but leaves it marked
    "in-service", which leaves the interrupt (and others of equal or lower
    priority) masked.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit af14aca90e0cdfccd71f9947c45b6ea2cf321dcb
Author: Kyle McMartin <kyle@mcmartin.ca>
Date:   Sat Jan 28 00:02:52 2006 -0500

    [IA64] Remove stale comment from ia64/Kconfig
    
    Somehow I doubt this comment is meant to be here anymore... It's
    been floating after the L1_CACHE_SHIFT entry since before Linux
    moved to bitkeeper.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a80dcc0b9660b01a2cc1c0faa8f6095970f38730
Author: Mark Maule <maule@sgi.com>
Date:   Fri Jan 27 13:59:07 2006 -0600

    [IA64-SGI] disable msi for all altix pci devices
    
    Temporary patch to make pci_enable_msi() fail gracefully on altix.  Will be
    removed after 2.6.16 releases and the msi abstraction patches start flowing.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 689388bbf8c5c1966b6a67fa427299f90cf83b99
Author: Mark Maule <maule@sgi.com>
Date:   Fri Jan 27 11:55:34 2006 -0600

    [IA64-SGI] fix smp_affinity redirection when using CONFIG_PCI_MSI
    
    Redirecting interrupts using smp_affinity on altix does not work on kernels
    built with CONFIG_PCI_MSI.  The problem is that move_irq() turns into a noop
    if MSI is built in.  This patch calls move_native_irq() instead of move_irq()
    to get around that.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f8efa27662532ad5adb2790bfc3f4c78e019cfad
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Thu Jan 26 18:24:59 2006 -0800

    [IA64] remove staled comments in asm/system.h
    
    With the recent optimization made to wrap_mmu_context function,
    we don't hold tasklist_lock anymore when wrapping context id.
    The comments in asm/system.h must fall through the crack earlier.
    Remove staled comments.
    
    I believe it is still beneficial to unlock the runqueue lock
    across context switch. So leave __ARCH_WANT_UNLOCKED_CTXSW on.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ddef9bb367b19383df627e388cb4c01c86ddba6c
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Feb 2 16:17:06 2006 -0500

    [libata sata_mv] do not enable PCI MSI by default
    
    Several bug reports have come in, noting that disabling CONFIG_PCI_MSI
    has fixed their problems with this driver.  This may be generic system
    issues, but there is also the probability of unimplemented hardware
    errata workarounds.  Until this ream of bug reports is sorted out, we
    can get them going in non-MSI interrupt mode.
    
    As such, this change adds an 'msi' module option, which defaults to off.

commit df080e7c94c8f4b8334614159fa079aaeece5670
Merge: 0271fc2... 61a34a0...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Feb 2 13:16:29 2006 -0800

    Pull update-tlbflush-sn into release branch

commit 9c0f4755bd5a117595761c95b93c29e8d9ca07b5
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Feb 2 20:53:39 2006 +0000

    [SERIAL] initialize spinlock for port failed to setup console
    
    It seems serial_core intend to initialize port->lock just once for each
    ports.  This is done in uart_set_options() for console, and in
    uart_add_one_port() for other ports.  But there is a case the port->lock is
    not initialized by serial_core.  If the setup function for the console was
    failed, it will not call uart_set_options() but the port is marked as
    console (uart_console(port) returns 1).  It can happen if console was PCI
    port which can not detected at the time of register_console.
    
    This patch is to initialize port->lock for such console port.  With this
    change, most of spin_lock_init() (some of them are labeled "Temporary
    fix.") in low-level serial drivers can be omitted.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3ec9c59449744dcc390d593a017d30671546fd9e
Author: Andrey Panin <pazke@donpac.ru>
Date:   Thu Feb 2 20:15:09 2006 +0000

    [SERIAL] SIIG 8-port serial boards support
    
    This patch adds support for SIIG 8-port boards. These boards have 4 ports in
    separate bars and another 4 ports in the single bar. Because of this strange
    port arrangement these cards need special setup function. Fortunately no other
    SIIG cards have more than 4 port, so this setup function could be used for them
    too.
    
    Signed-off-by: Andrey Panin <pazke@donpac.ru>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cf41f8ac386e8d62122e7e394b4c6b3e3ab30ede
Merge: 0271fc2... 30e2fb1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Feb 2 07:49:43 2006 -0800

    Merge branch 'drm-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/airlied/drm-2.6

commit e92251762d02a46177d4105d1744041e3f8bc465
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Feb 2 12:23:12 2006 +0000

    [MMC] Add MMC command type flags
    
    Some hosts need to know the command type, so pass it via a set of
    flags in cmd->flags.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0271fc2db6260dd46f196191e24281af2fddb879
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Thu Feb 2 00:00:46 2006 -0800

    [PATCH] Fix sgiioc4 DMA timeout problem with 64KiB s/g elements.
    
    Problem caused by the fact that the code used to only pick the low 16
    bits of the bytecount.  That may be how some controllers act on it (byte
    count of 0 means 0x10000), but not for this particular hardware.
    
    Signed-off-by: Jeremy Higdon <jeremy@sgi.com>
    Acked-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30e2fb188194908e48d3f27a53ccea6740eb1e98
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Feb 2 19:37:46 2006 +1100

    sem2mutex: drivers/char/drm/
    
    From: Arjan van de Ven <arjan@infradead.org>
    
    Semaphore to mutex conversion.
    
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit ce60fe02fbe737cbce09e2ba5a2ef1efd20eff73
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Feb 2 19:21:38 2006 +1100

    drm: drivers/char/drm/: make some functions static
    
    From: Adrian Bunk <bunk@stusta.de>
    
    This patch makes some needlessly global functions static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b4103333d7904310d34de18d85e51e3d74f00a3b
Merge: 59ed2f5... 1494a92...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 1 22:08:23 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/perex/alsa

commit 59ed2f59e4ea6a32f9591e378da7935f713a7000
Merge: 9ad11ab... b8e4d89...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 1 22:06:15 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/lenb/linux-acpi-2.6

commit 9ad11ab48b1ad618bf47076e9e579f267f5306c2
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Feb 2 16:11:51 2006 +1100

    [PATCH] compat: fix compat_sys_openat and friends
    
    Most of the 64 bit architectures will zero extend the first argument to
    compat_sys_{openat,newfstatat,futimesat} which will fail if the 32 bit
    syscall was passed AT_FDCWD (which is a small negative number).  Declare
    the first argument to be an unsigned int which will force the correct
    sign extension when the internal functions are called in each case.
    
    Also, do some small white space cleanups in fs/compat.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Acked-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8aeba3c62a64e0f6527d1a0388b1a6a7060158ba
Merge: 61ee9cd... e6da74e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Feb 1 20:15:57 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6

commit 61ee9cd5f2e76859222c1d64394ae633f9080163
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Wed Feb 1 18:21:09 2006 -0600

    [PATCH] PowerPC/PCI Hotplug build break
    
    Build break: Building PCI hotplug on PowerPC results in
    a build break, due to failure to export symbols.
    
    Reported today by Dave Jones <davej@redhat.com>:
    drivers/pci/hotplug/rpaphp.ko needs unknown symbol pcibios_add_pci_devices
    
    This patch fixes same problem in drivers/pci tree
    Previous patch fixes the break in the arch/powerpc tree.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9bdfa0ecb3304e8b7e74862b1f4b03b6feaaeef
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Wed Feb 1 18:19:06 2006 -0600

    [PATCH] PowerPC/PCI Hotplug build break
    
    Build break: Building PCI hotplug on PowerPC results in
    a build break, due to failure to export symbols.
    
    Reported today by Dave Jones <davej@redhat.com>:
    drivers/pci/hotplug/rpaphp.ko needs unknown symbol pcibios_add_pci_devices
    
    This patch fixes the break in the arch/powerpc tree.
    Next patch fixes same problem in drivers/pci tree
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83f755f5a66a5393c3ae8925719fde0c740ac04e
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Wed Feb 1 21:24:24 2006 +0000

    [ARM] 3286/2: S3C2400 - adds to the table of supported CPUs
    
    Patch from Lucas Correia Villa Real
    
    Oops, sorry for the typo on name_s3c2400, a new patch is attached.
    About GSTATUS1, S3C2400 doesn't have that register, so it's not
    safe to use that memory address to identify its CPU.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0ca5bc3de715f6e031d44ffecdd2d127891eccf5
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Wed Feb 1 21:24:23 2006 +0000

    [ARM] 3284/1: S3C2400 - adds support to GPIO
    
    Patch from Lucas Correia Villa Real
    
    This patch adds support to GPIO on the S3C2400, which is going to
    be used by the GP32 machine and the SMDK2400 development board.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7610dfa3723e87705964b29db9775620d96bf618
Author: Russ Dill <Russ.Dill@gmail.com>
Date:   Wed Feb 1 21:07:28 2006 +0000

    [ARM] 3295/1: Fix oprofile init return value
    
    Patch from Russ Dill
    
    The oprofile init code was broken in commit c6b9da. The new logic will
    always return -ENODEV. This fixes oprofile_arch_init to return 0 on
    success, and return the return value of spec->init() if applicable.
    
    Signed-off-by: Russ Dill <Russ.Dill@gmail.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 371e8bc2af11b0571982390932bc07b5ffed9aba
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Tue Jan 31 01:04:33 2006 +0100

    8139too: fix a TX timeout watchdog thread against NAPI softirq race
    
    Ingo's stealth lock validator detected that both thread acquire
    dev->xmit_lock and tp->rx_lock in reverse order.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 8351538db6613f40089789ec90e1b58304eb7ffd
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Jan 30 01:23:56 2006 +0100

    dscc4: fix dscc4_init_dummy_skb check
    
    It returns a pointer.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit e6da74e1f20ea7822e52a9e4fbd3d25bd907e471
Merge: 1877c9e... 3c3b809...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Feb 1 12:16:53 2006 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 18afea04f1dfc5d52fd2579cd17adc3956acd4ad
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 1 19:26:01 2006 +0000

    [ARM] 3294/1: don't invalidate individual BTB entries on ARMv6
    
    Patch from Nicolas Pitre
    
    Doing so adds a much larger cost to the loop than the cost implied by
    simply invalidating the whole BTB at once.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8a052e0bc25ff52f17b3dff150846ca9eb969162
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Feb 1 19:26:01 2006 +0000

    [ARM] 3293/1: don't invalidate the whole I-cache with xscale_coherent_user_range
    
    Patch from Nicolas Pitre
    
    The mini I-cache issue is valid only for kernel space since debuggers
    would not fly if they used user space addresses for their stubs.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 62500d1f8eadff078cca462dc4df035a29180383
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Wed Feb 1 19:26:00 2006 +0000

    [ARM] 3292/1: Fix memory corruption in asm-arm/checksum.h: ip_fast_csum()
    
    Patch from Richard Purdie
    
    ip_fast_csum() accesses memory via a pointer (iph) within an
    asm function. To prevent memory corruption when the function is
    inlined, it needs "memory" on the clobber list.
    
    This fixes ip checksum errors reported by a Zaurus user.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit afe5df208e6ecd09b7d1acf36eb2cf945842bee5
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Wed Feb 1 19:25:59 2006 +0000

    [ARM] 3291/1: PXA27x: Correct get_clk_frequency_khz turbo flag handling
    
    Patch from Richard Purdie
    
    The turbo flag is in bit 0 of the CLKCFG register, not bit 1.
    This patch corrects this so get_clk_frequency_khz returns a correct
    value.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f27f218cdfb12c9d2b285ec4a0bce588b5c531d3
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Wed Feb 1 19:25:58 2006 +0000

    [ARM] 3290/1: Fix the FIFO size detection
    
    Patch from Catalin Marinas
    
    AACI reports TX FIFO full after the first write to it if the AC97 is not
    enabled. This patch enables the AC97 probing before the check for the TX
    FIFO size. The patch also adds a warning if the TX FIFO size is not
    multiple of 16.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 00b464debf0038b1628996065f0be564ccfbfd86
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:49:28 2006 -0500

    SUNRPC: Remove obsolete rpcauth #defines
    
     RPCAUTH_CRED_LOCKED, and RPC_AUTH_PROC_CREDS are unused. Kill them.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 1935245655996ca4d14e687c3a100d2e2bbdc78d
Author: Dirk Mueller <dmueller@suse.com>
Date:   Wed Feb 1 12:19:47 2006 -0500

    NFSv3: fix sync_retry in direct i/o NFS
    
     Only do a sync_retry if the memcmp failed.
    
     Signed-off-by: Dirk Mueller <dmueller@suse.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit fba3bad488a2eec2d76c067edb7a5ff92ef42431
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:19:27 2006 -0500

    SUNRPC: Move upcall out of auth->au_ops->crcreate()
    
     This fixes a bug whereby if two processes try to look up the same auth_gss
     credential, they may end up creating two creds, and triggering two upcalls
     because the upcall is performed before the credential is added to the
     credcache.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit adb12f63e0f837078c6832fa2c90649ddeaab54f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:19:13 2006 -0500

    SUNRPC: Remove the deprecated function lookup_hash() from rpc_pipefs code
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 9842ef3557abf5ec2fd92bfa6e29ce0e271b3f6e
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:18:44 2006 -0500

    SUNRPC: rpc_timeout_upcall_queue should not sleep
    
     The function rpc_timeout_upcall_queue runs from a workqueue, and hence
     sleeping is not recommended. Convert the protection of the upcall queue
     from being mutex-based to being spinlock-based.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 8a3177604b729ec3b80e43790ee978863ac7551b
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:18:36 2006 -0500

    SUNRPC: Fix a lock recursion in the auth_gss downcall
    
     When we look up a new cred in the auth_gss downcall so that we can stuff
     the credcache, we do not want that lookup to queue up an upcall in order
     to initialise it. To do an upcall here not only redundant, but since we
     are already holding the inode->i_mutex, it will trigger a lock recursion.
    
     This patch allows rpcauth cache searches to indicate that they can cope
     with uninitialised credentials.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit aaaa99423b4b1f9cfd33ea5643d9274c25f62491
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:18:25 2006 -0500

    NLM: Ensure that nlmclnt_cancel_callback() doesn't loop forever
    
     If the server returns NLM_LCK_DENIED_NOLOCKS, we currently retry the
     entire NLM_CANCEL request. This may end up looping forever unless the
     server changes its mind (why would it do that, though?).
    
     Ensure that we limit the number of retries (to 3).
    
     See bug# 5957 in bugzilla.kernel.org.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 16fb24252a8170799e7adf14d8fc31b817fcaf53
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Wed Feb 1 12:18:22 2006 -0500

    NLM: Fix arguments to NLM_CANCEL call
    
     The OpenGroup docs state that the arguments "block", "exclusive" and
     "alock" must exactly match the arguments for the lock call that we are
     trying to cancel.
     Currently, "block" is always set to false, which is wrong.
    
     See bug# 5956 on bugzilla.kernel.org.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 3c3b809e256c417847f1a96b2f9d9f66c7fcb02c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:06:58 2006 -0800

    [PATCH] kernel-doc: clean up the script (whitespace)
    
    Remove lots of trailing whitespace.  Nothing else.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d28bee0c0a9c6abddf1d14c69f188400e994eb5a
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:06:57 2006 -0800

    [PATCH] Doc/kernel-doc: add more usage info
    
    - Add info that structs, unions, enums, and typedefs are supported.
    
    - Add doc about "private:" and "public:" tags for struct fields.
    
    - Fix some typos.
    
    - Remove some trailing whitespace.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7045f37b17ffa6e85435ca980122b46a74caa7e4
Author: Martin Waitz <tali@admingilde.org>
Date:   Wed Feb 1 03:06:57 2006 -0800

    [PATCH] DocBook: fix some kernel-doc comments in fs and block
    
    Update some parameter descriptions to actually match the code.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99acf0442111cc452ac1b93868dde8f6ff37a989
Author: Martin Waitz <tali@admingilde.org>
Date:   Wed Feb 1 03:06:56 2006 -0800

    [PATCH] DocBook: fix some kernel-doc comments in net/sunrpc
    
    Fix the syntax of some kernel-doc comments
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9598f91f2216ba51fef472a7fc3074a0c8429a96
Author: Martin Waitz <tali@admingilde.org>
Date:   Wed Feb 1 03:06:55 2006 -0800

    [PATCH] DocBook: allow even longer return types
    
    kernel-doc errored out because it could not understand the new __copy_to_user
    definition.  Now we allow return types with four words.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00d340b94f6df17d5dc478521e4ee1cfb30c53ac
Author: Manuel Lauss <mano@roarinelk.homelinux.net>
Date:   Wed Feb 1 03:06:54 2006 -0800

    [PATCH] i810fb: Do not probe the third i2c bus by default
    
    Some time before 2.6.15, a third DDC channel was added to i810fb.  On
    systems where these ddc pins are not connected, the probe takes about 10
    seconds.
    
    Add a boot/module option for i810fb to explicitly probe for the 3rd ddc bus
    if needed.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06c6f90032e39d33d02ab20f32e3f3cd87f58d28
Author: Andriy Skulysh <askulysh@image.kiev.ua>
Date:   Wed Feb 1 03:06:53 2006 -0800

    [PATCH] video: hp680 backlight driver
    
    This adds support for the hp680 backlight, as found in the hp6xx series of
    sh devices.
    
    Signed-off-by: Andriy Skulysh <askulysh@image.kiev.ua>
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Acked-by: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9477e260b7ca3b6076b91eae15739383c508f3e2
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Wed Feb 1 03:06:52 2006 -0800

    [PATCH] fbcon: Fix screen artifacts when moving cursor
    
    When moving the cursor by writing to /dev/vcs*, the old cursor image is not
    erased.  Fix by hiding the cursor first before moving the cursor to the new
    position.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fa385bef256077f3b820b241e8f3755ef3905b74
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Wed Feb 1 03:06:51 2006 -0800

    [PATCH] reiserfs: reiserfs: check for files > 2GB on 3.5.x disks
    
    When a filesystem has been converted from 3.5.x to 3.6.x, we need an extra
    check during file write to make sure we are not trying to make a 3.5.x file
    > 2GB.
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ae1ea447d21c4fecf5df8d0e1022461274fb4e8
Author: Chris Mason <mason@suse.com>
Date:   Wed Feb 1 03:06:50 2006 -0800

    [PATCH] reiserfs: reiserfs fix journal accounting in journal_transaction_should_end
    
    reiserfs: journal_transaction_should_end should increase the count of
    blocks allocated so the transaction subsystem can keep new writers from
    creating a transaction that is too large.
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3d4492f81dd7b486f1be0616a1ce7f73760f406e
Author: Chris Mason <mason@suse.com>
Date:   Wed Feb 1 03:06:49 2006 -0800

    [PATCH] reiserfs: reiserfs write_ordered_buffers should not oops on dirty non-uptodate bh
    
    write_ordered_buffers should handle dirty non-uptodate buffers without a
    BUG()
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0e851cf30f1a9bd2e2a7624e9810378d6a2b072
Author: Chris Mason <mason@suse.com>
Date:   Wed Feb 1 03:06:49 2006 -0800

    [PATCH] reiserfs: reiserfs hang and performance fix for data=journal mode
    
    In data=journal mode, reiserfs writepage needs to make sure not to trigger
    transactions while being run under PF_MEMALLOC.  This patch makes sure to
    redirty the page instead of forcing a transaction start in this case.
    
    Also, calling filemap_fdata* in order to trigger io on the block device can
    cause lock inversions on the page lock.  Instead, do simple batching from
    flush_commit_list.
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc5cd582e9c934ddaf6f310179488932cd154794
Author: Chris Mason <mason@suse.com>
Date:   Wed Feb 1 03:06:48 2006 -0800

    [PATCH] reiserfs: zero b_private when allocating buffer heads
    
    The b_private field in buffer heads needs to be zero filled when the
    buffers are allocated.  Thanks to Nathan Scott for finding this.  It was
    causing problems on systems with both XFS and reiserfs.
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d62b1b87a7d1c3a21dddabed4251763090be3182
Author: Chris Mason <mason@suse.com>
Date:   Wed Feb 1 03:06:47 2006 -0800

    [PATCH] resierfs: fix reiserfs_invalidatepage race against data=ordered
    
    After a transaction has closed but before it has finished commit, there is
    a window where data=ordered mode requires invalidatepage to pin pages
    instead of freeing them.  This patch fixes a race between the
    invalidatepage checks and data=ordered writeback, and it also adds a check
    to the reiserfs write_ordered_buffers routines to write any anonymous
    buffers that were dirtied after its first writeback loop.
    
    That bug works like this:
    
    proc1: transaction closes and a new one starts
    proc1: write_ordered_buffers starts processing data=ordered list
    proc1: buffer A is cleaned and written
    proc2: buffer A is dirtied by another process
    proc2: File is truncated to zero, page A goes through invalidatepage
    proc2: reiserfs_invalidatepage sees dirty buffer A with reiserfs
           journal head, pins it
    proc1: write_ordered_buffers frees the journal head on buffer A
    
    At this point, buffer A stays dirty forever
    
    Signed-off-by: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ec191574b9c3cb7bfb95e4f803b63f7c8dc52690
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 1 03:06:46 2006 -0800

    [PATCH] reiserfs: use generic_permission
    
    Use the generic_permission code with a proper wrapper and callback instead
    of having a local copy.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Cc: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c87d0c07ea198db1ce451421904edd60b7d385ee
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Feb 1 03:06:45 2006 -0800

    [PATCH] reiserfs: remove reiserfs_permission_locked
    
    This function is completely unused since the xattr permission checking
    changes.  Remove it and fold __reiserfs_permission into
    reiserfs_permission.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Cc: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5dd259f78ba0fd0c7bfc5c52179dbbff3eb48aa
Author: Diego Calleja <diegocg@gmail.com>
Date:   Wed Feb 1 03:06:44 2006 -0800

    [PATCH] reiserfs: missing kmalloc failure check
    
    According to http://bugzilla.kernel.org/show_bug.cgi?id=5778
    fs/reiserfs/file.c is missing this check.
    
    Signed-off-by: Diego Calleja <diegocg@gmail.com>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Cc: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c777cc4be1390862d053cbc002246e87572147b
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:06:43 2006 -0800

    [PATCH] reiserfs: use __GFP_NOFAIL instead of yield and retry loop for allocation
    
    This patch replaces yield and retry loop with __GFP_NOFAIL in
    alloc_journal_list().
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d739b42b82773206297db1fc0d96ef895a5d9688
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:06:43 2006 -0800

    [PATCH] reiserfs: remove kmalloc wrapper
    
    Remove kmalloc() wrapper from fs/reiserfs/.  Please note that a reiserfs
    /proc entry format is changed because kmalloc statistics is removed.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d19720a909b4443f78cbb03f4f090180e143ad9d
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Wed Feb 1 03:06:42 2006 -0800

    [PATCH] RCU documentation fixes (January 2006 update)
    
    Updates to in-tree RCU documentation based on comments over the past few
    months.
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53d8be5c144ece5d48745810b14248968e73eaf2
Author: Pat Gefre <pfg@sgi.com>
Date:   Wed Feb 1 03:06:41 2006 -0800

    [PATCH] Altix ioc3: correct export call
    
    Use EXPORT_SYMBOL_GPL in ioc3 shim layer.
    
    Signed-off-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 172411f10c25bbd81b19f67566af6a7f549f46a9
Author: Davi Arnaut <davi.arnaut@gmail.com>
Date:   Wed Feb 1 03:06:40 2006 -0800

    [PATCH] ebcdic do_kdsk_ioctl off-by-one
    
    Add a missing return check from strnlen_user and fixes a off-by-one when
    terminating the string with zero.
    
    Signed-off-by: Davi Arnaut <davi.arnaut@gmail.com>
    Cc: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46d0d2c811c8e9dd5cffdc3a5c03d988eb5a2996
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Wed Feb 1 03:06:40 2006 -0800

    [PATCH] s390: Add missing memory constraint to stcrw()
    
    Add missing memory constraint to stcrw() inline assembly.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b1969fa46d95efcdb0b84c540eca10db99665148
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Wed Feb 1 03:06:39 2006 -0800

    [PATCH] s390: Fix modalias for ccw devices
    
    Fix modalias for ccw devices: cu_type should be in capitals as well.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54dfe5dd9abc547f63060d132dad2c024a47de1e
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Wed Feb 1 03:06:38 2006 -0800

    [PATCH] s390: Add support for new syscalls/TIF_RESTORE_SIGMASK
    
    Add support for the new *at, pselect6 and ppoll system calls.  This includes
    adding required support for TIF_RESTORE_SIGMASK.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1ab865c146ef5151828f0693f1b983891cf40ff1
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Wed Feb 1 03:06:37 2006 -0800

    [PATCH] s390: New default configuration
    
    New default configuration.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2ba444d1d871d3f6cd3bc5e7d8e19c48c8c02a4
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Wed Feb 1 03:06:37 2006 -0800

    [PATCH] s390: dasd wait for clear i/o interrupt
    
    The sleep_on function clears a running cqr without waiting for the related
    interrupt.  This can lead to a panic at the time the interrupt is processed
    because the related memory might already be freed.  Wait for clear-interrupt
    and de-queue cqr prior to return.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 57467195d1581e354998d5cc35dfd7a12d6e0a24
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Wed Feb 1 03:06:36 2006 -0800

    [PATCH] s390: dasd open counter
    
    The open_count is increased for every opener, that includes the blkdev_get in
    dasd_scan_partitions.  This tampers the open_count in BIODASDINFO.  Hide the
    internal open from user-space.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 600b5d163d7434332539cac7be00f649cbbfedcc
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Wed Feb 1 03:06:35 2006 -0800

    [PATCH] s390: ccw_device_probe_console return value
    
    The return code of ccw_device_probe_console() is not properly handled.  It
    should only return a valid ccw device pointer or a error value converted by
    ERR_PTR.  Fix the console driver code to check with IS_ERR instead against
    NULL.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3633b0475eb269dcb85923b23b321505f06b9488
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Wed Feb 1 03:06:34 2006 -0800

    [PATCH] s390: hangcheck timer support
    
    Remove useless s390 define from hangcheck-timer, remove wrong definition of a
    TOD second and other s390 ifdefs.  Use monotonic_clock instead.
    
    Add hangcheck-timer option, copied from drivers/char/Kconfig.  This is ugly
    but unless we have a big Kconfig cleanup we cannot include
    drivers/char/Kconfig...
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32f65f274602b43e8f48314e9769f254da1d8323
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Wed Feb 1 03:06:33 2006 -0800

    [PATCH] s390: monotonic_clock interface
    
    Add monotonic_clock interface, used by the hangcheck-timer.  On s390 this is
    the same as sched_clock().
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9dbafa5368c2b7467bd2ce034b56c54908ceb39e
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Wed Feb 1 03:06:32 2006 -0800

    [PATCH] s390: overflow in sched_clock
    
    The least significant bit of the TOD clock value returned by get_clock
    is the 4096th part of a microsecond. To get to nanoseconds the value
    needs to be divided by 4096 and multiplied with 1000.
    
    The current method multiplies first and then shifts the value to make the
    result as precise as possible.  The disadvantage is that the multiplication
    with 1000 will overflow shortly after 52 days.  sched_clock is used by the
    scheduler for time stamp deltas, if an overflow occurs between two time stamps
    the scheduler will get confused.
    
    With the patch the problem occurs only after approx.  one year, so the chance
    to run into this overflow is extremly low.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e018ba1fceee5bd306e31f6e3a60934d5f143ac5
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Wed Feb 1 03:06:31 2006 -0800

    [PATCH] s390: Remove CVS generated information
    
    - Remove all CVS generated information like e.g. revision IDs from
      drivers/s390 and include/asm-s390 (none present in arch/s390).
    
    - Add newline at end of arch/s390/lib/Makefile to avoid diff message.
    
    Acked-by: Andreas Herrmann <aherrman@de.ibm.com>
    Acked-by: Frank Pavlic <pavlic@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ceba75f121004335616befd2045c8a6b75b2bc4
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:30 2006 -0800

    [PATCH] xtensa: add asm/futex.h
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Chris Zankel <chris@zankel.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 72e5525765ee01d72a9b92fab78ecea883ae7fdd
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:29 2006 -0800

    [PATCH] uml: avoid "CONFIG_NR_CPUS undeclared" bogus error messages
    
          Olaf Hering <olh@suse.de>
    
    Olaf reported UML doesn't build for him with a clear analisys of what happened
    - we're using NR_CPUS in files linked against glibc headers.  Seems like it
    defines CONFIG_SMP but not CONFIG_NR_CPUS, so we get CONFIG_NR_CPUS
    undeclared.
    
    The fix is to move the declaration away from that header file and move it in
    asm-um headers, and to add that header where needed.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42947cb98fd16bff21e0000a974ff6bd1e620cd4
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:29 2006 -0800

    [PATCH] uml: some harmless sparse warning fixes
    
    Fix some simple sparse warnings - a lot more staticness and a misplaced
    __user.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4cd7ed94428babb0cdbf08cc14c257e223186079
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:28 2006 -0800

    [PATCH] uml: skas0-hold-own-ldt fixups for x86-64
    
    In a recent fixup i386 code was copied raw to x86_64 subarch to make it
    compile again.
    
    Here there are some little fixups and resyncs needed for it (mainly for
    cleanliness sake) - I did an audit and found the rest of the code to be safe.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5cf888631af95c8022d659d77fb595e0c3ac778
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:27 2006 -0800

    [PATCH] uml: TT - SYSCALL_DEBUG - fix buglet introduced in cleanup
    
    Fixes a bug introduced in commit e32dacb9f481fd6decb41adb28e720c923d34f54 -
    index is initialized based on syscall before syscall is calculated.
    
    I'm bothering with this mainly because it gives a correct warning when the
    config option is enabled, even if the code is for a almost unused debugging
    option.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3dfd95b378953f6cf0bd58fc990c05ef5a0ea1a6
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:26 2006 -0800

    [PATCH] uml: fix "apples/bananas" typo
    
    Fix stupid typo.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 854e981cc69bb93b49bdd052c8bc1dc744509f04
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:25 2006 -0800

    [PATCH] uml: fix hugest stack users
    
    The C99 initialization, with GCC's bad handling, for 6K wide structs (which
    _aren't_ on the stack), is causing GCC to use 12K for these silly procs with 3
    vars.  Workaround this.
    
    Note that .name = { '\0' } translates to memset(->name, 0, '->name' size) - I verified
    this with GCC's docs and a testprogram.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98105d47d3d62eb68d06d85dd448699678d725fc
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:25 2006 -0800

    [PATCH] uml: comments about libc-conflict guards
    
    While fixing myself the mktime conflict (which someone already merged), I also
    improved a few comments.  Merge them up.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c19585b0d2f6817dd9af607650d3f6cae2fd8bc
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Feb 1 03:06:24 2006 -0800

    [PATCH] uml: typo fixup
    
    Trivial innocent cosmetical fixup.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db805812084ab03fbf6aac95c5f7ef2f50e3bd9a
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Feb 1 03:06:23 2006 -0800

    [PATCH] uml: fix some typos
    
    Fix a couple of typos.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c6b7a1edcb31306f904b5b11354bf0d198136e15
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Feb 1 03:06:22 2006 -0800

    [PATCH] uml: add a build dependency
    
    kern_constants.h now depends on arch/um/include to make sure it exists
    before we try to create symlinks in it.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d8c206b2eeb244d6ab57d5a339e707fef2305aa7
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:22 2006 -0800

    [PATCH] arm26: select BLK_DEV_FD only on A5K
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2fa63c4d0d89a3add74bf37f7768a79c1d39cb7a
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:21 2006 -0800

    [PATCH] arm26: add __kernel_old_dev_t for nfsd
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 407c57b86237fc2512654fa2f2ceedda92684472
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:20 2006 -0800

    [PATCH] arm26: drop first arg of prepare_arch_switch, finish_arch_switch
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae7a49666af427da745e69a39fcfdd3a8b4ab3e8
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:20 2006 -0800

    [PATCH] arm26: drop local task_running copy
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 896f361bd291f34e0ef439c249b79d7c51ed3f9a
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:19 2006 -0800

    [PATCH] arm26: fixup asm statement in kernel/fiq.c
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a16ef86c87f4b029f55fa41979134d73d1375398
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:18 2006 -0800

    [PATCH] arm26: fixup get_signal_to_deliver call
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41a60ef0698394ee320813816baf221bcb533797
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:17 2006 -0800

    [PATCH] arm26: select system type via "choice"
    
    Choosing ARCH_ARC and ARCH_A5K together causes redefining and errors
    here and there.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0679b75e5fb653fbf6691293e7fc45520abae1d7
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:17 2006 -0800

    [PATCH] arm26: remove irq_exit() from hardirq.h
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19f03f75873aebb2fb7fb592b6223b9a38bb7ad3
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:16 2006 -0800

    [PATCH] arm26: fix warnings about NR_IRQS being not defined
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1320ae31b40df06fd7deec94b5369a11b0ec25c
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:14 2006 -0800

    [PATCH] arm26: fix find_first_zero_bit related warnings
    
    include/linux/nodemask.h: In function `__first_unset_node':
    include/linux/nodemask.h:254: warning: passing arg 1 of `_find_first_zero_bit_le' discards qualifiers from pointer target type
    fs/minix/bitmap.c: In function `minix_new_block':
    fs/minix/bitmap.c:89: warning: passing arg 1 of `_find_first_zero_bit_le' from incompatible pointer type
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5e3d98c5666c2533e67fb35dc5ad5de47db8aae
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Wed Feb 1 03:06:13 2006 -0800

    [PATCH] alpha show_interrups() trashes argument
    
    This is a bug found by cpminer.  The show_interrupts function reuses i as a
    for loop counter, and therefore trashes its contents, which are needed
    later.
    
    (akpm: rename local `i' to `irq', use for_each_inline_cpu())
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Cc: Richard Henderson <rth@twiddle.net>
    Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a5e7339908d7d718ebc4149b77eee06291bdb95
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Wed Feb 1 03:06:12 2006 -0800

    [PATCH] alpha: Fix getxpid on alpha so it works for threads
    
    While looking in the code I discovered that alpha has fallen behind because
    it doesn't use sys_getppid.  The problem is that it doesn't follow the task
    struct to the task_group_leader.
    
    Acked-by: Richard Henderson <rth@twiddle.net>
    Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 975b3d3d5b983eb60706d35f0d24cd19f6badabf
Author: Mark Lord <lkml@rtr.ca>
Date:   Wed Feb 1 03:06:11 2006 -0800

    [PATCH] VMSPLIT config options
    
    Enable selection of different user/kernel VM splits for i386, including an
    optimized mode for 1GB physical RAM, which gives the kernel a direct (non
    HIGHMEM) mapping to the entire 1GB rather than just the first 896MB.
    
    There is a similarly a similarly optimized mode for machines with exactly 2GB
    of physical RAM.
    
    This can speed up the kernel by avoiding having to create/destroy temporary
    HIGHMEM mappings, and by not having to include HIGHMEM support at all on such
    machines.  The flip side is that there's less virtual addressing left for
    userspace in these alternatives, and some binary-only kernel modules may
    misbehave unless rebuilt with the same VMSPLIT option as the main kernel
    image.
    
    Original idea/patch from Jens Axboe, modified based on suggestions from Linus
    et al.
    
    Signed-off-by: Mark Lord <mlord@pobox.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4940fb441275d654cff7d0f7708f91bd8435a85a
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:06:09 2006 -0800

    [PATCH] arch/sh64/kernel/time.c: add module.h
    
    It uses EXPORT_SYMBOL.
    
    arch/sh64/kernel/time.c:254: warning: type defaults to `int' in declaration of `EXPORT_SYMBOL'
    arch/sh64/kernel/time.c:254: warning: parameter names (without types) in function declaration
    arch/sh64/kernel/time.c:254: warning: data definition has no type or storage class
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87f55e67dc1be000fa76009532906b168a80b3dd
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:09 2006 -0800

    [PATCH] sh/sh64: Fix bogus TIOCGICOUNT definitions
    
    As reported by Russell King, sh and sh64 currently have bogus definitions for
    TIOCGICOUNT, particularly referencing a kernel only structure.  Switch to
    using a sensible ioctl value.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a3310bbd3add738c2b40bb4e4dc966cdea9d6a04
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:08 2006 -0800

    [PATCH] sh: machine_halt()/machine_power_off() cleanups
    
    machine_halt() managed to trigger the soft lockup detection due to not
    disabling interrupts before going to sleep, so correct that.
    
    machine_power_off() should be using pm_power_off, which lets us drop the
    board-specific hacks from here.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c80a1f888f548c090feaac3ad63b2d1f607a2c5
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:07 2006 -0800

    [PATCH] sh: Add missing timers directory rule to build
    
    This should have been part of the timer framework support that was merged
    earlier, but looks to have been accidentally omitted.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7a76e4b4e212ec0829f3a7243064511d62cb6da
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:06 2006 -0800

    [PATCH] sh: sh-sci clock framework updates
    
    A couple of updates for the sh-sci serial driver:
    
    	- Update for clock framework on sh.
    	- Fix a compile error introduced by some h8300 changes.
    	- Add SH7770/SH7780 subtype support.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37cc7943788c841b03a48c00751dfac0ad9f5b12
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:05 2006 -0800

    [PATCH] sh: convert voyagergx to platform device, drop sh-bus
    
    Trivial patch updating the voyagergx cchip code to reference a platform device
    instead, now that the dma mask is taken care of.  Given this, there's no
    longer any reason to drag around the SH-bus code, so kill that off entirely.
    
    Signed-off-by: Manuel Lauss <mano@roarinelk.homelinux.net>
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d27e08191379b7a3302a33a6efdb8bdfd319c95
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:04 2006 -0800

    [PATCH] sh: drop maskpos from make_ipr_irq(), remove duplicate irq definitions
    
    Clean up some of the subtype IRQ definitions for IPR IRQ, and consolidate the
    make_ipr_irq() definitions by dropping maskpos.  SH-4A was the only thing
    interested in the maskpos, and this should be handled through INTC2 rather
    than IPR.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50373c1b7ee9cdd9b8ccaa1b58d13ad43f879908
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:03 2006 -0800

    [PATCH] sh: unknown mach-type updates
    
    Trivial cleanup of the unknown machine type for some of the recent machvec
    changes.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de02797aa744c96a90f47be7bc081ce2f74b17fd
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:02 2006 -0800

    [PATCH] sh: Cleanup struct sh_cpuinfo for clock framework changes
    
    Now that the clock framework changes have been integrated, the manual clock
    accounting that was done in sh_cpuinfo can be dropped.
    
    Also correct a bug with running past the end of the CPU flags when there's a
    mismatch between the added flags and printed ones.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 091904ae5fc6f018680f83d71301ceac4f39d77f
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:01 2006 -0800

    [PATCH] sh: Move TRA/EXPEVT/INTEVT definitions for reuse
    
    Currently entry.S is home to these definitions, so we move them somewhere more
    sensible.  IPR IRQ handling depends on being to read from INTEVT.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 134ed1420eb5a3dd9827aa185dd37fe2dd0ab4d5
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:06:01 2006 -0800

    [PATCH] sh: Make peripheral clock frequency setting mandatory
    
    Pretty much every subtype does this now anyways, and as we depend on it in a
    few places being set to something sensible quite early on, it's better for a
    new subtype to simply set a sensible default.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 740172947b315fa97f8d29b0b9809b1ea1201642
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Wed Feb 1 03:05:59 2006 -0800

    [PATCH] sh: SH4-202 microdev updates
    
    A few trivial updates for the microdev board support code:
    
    	- Update for __IO_PREFIX changes.
    	- Consolidate headers into a single microdev.h.
    	- Update the microdev_defconfig.
    	- Add init values for the S1D13806 used by s1d13xxxfb.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4a41cdf9788f14bb120ad06d9ce17ca05fd72f03
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Wed Feb 1 03:05:58 2006 -0800

    [PATCH] powerpc: Fix sigmask handling in sys_sigsuspend.
    
    Better save the sigmask instead of throwing it away so it can be restored.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e61997881e0402aedbfad8696e369568a0583f14
Author: Olaf Hering <olh@suse.de>
Date:   Wed Feb 1 03:05:58 2006 -0800

    [PATCH] MODALIAS= for macio
    
    Prodive a MODALIAS= enviroment variable for devices on the mac-io bus.
    Change the buffer length counter to not waste memory by advancing the
    pointer for the next string too far.  Tested on an ibook1 with modular
    pmac_zilog.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39931e41becd6abeb2014747369d8b6392f5dbac
Author: Albert Herranz <albert_herranz@yahoo.es>
Date:   Wed Feb 1 03:05:57 2006 -0800

    [PATCH] powerpc: fix for kexec ppc32
    
    - kexec.h is included from assembly code, thus C code must be properly
      protected.
    
    - (embedded) ppc32 systems use machine_kexec_simple whose declaration
      vanished during a recent powerpc merge change.
    
    Signed-off-by: Albert Herranz <albert_herranz@yahoo.es>
    Cc: <fastboot@osdl.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ac49d22138348198f729f07371ffb11991368e6
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Wed Feb 1 03:05:56 2006 -0800

    [PATCH] selinux: remove security struct magic number fields and tests
    
    Remove the SELinux security structure magic number fields and tests, along
    with some unnecessary tests for NULL security pointers.  These fields and
    tests are leftovers from the early attempts to support SELinux as a
    loadable module during LSM development.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 26d2a4be6a56eec575dac651f6606756a971f0fb
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Wed Feb 1 03:05:55 2006 -0800

    [PATCH] selinux: change file_alloc_security to use GFP_KERNEL
    
    This patch changes the SELinux file_alloc_security function to use
    GFP_KERNEL rather than GFP_ATOMIC; the use of GFP_ATOMIC appears to be a
    remnant of when this function was being called with the files_lock spinlock
    held, and is no longer necessary.  Please apply.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db4c9641def55d36a6f9df79deb8a949292313ca
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Wed Feb 1 03:05:54 2006 -0800

    [PATCH] selinux: fix and cleanup mprotect checks
    
    Fix the SELinux mprotect checks on executable mappings so that they are not
    re-applied when the mapping is already executable as well as cleaning up
    the code.  This avoids a situation where e.g.  an application is prevented
    from removing PROT_WRITE on an already executable mapping previously
    authorized via execmem permission due to an execmod denial.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee13d785eac1fbe7e79ecca77bf7e902734a0b30
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:05:53 2006 -0800

    [PATCH] slab: fix sparse warning
    
    mm/slab.c:1522:13: error: incompatible types for operation (&)
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a70773ddb96b74c7afe5a5bc859ba45e3d02899e
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:05:52 2006 -0800

    [PATCH] mm/slab: add kernel-doc for one function
    
    Fix kernel-doc for calculate_slab_order().
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fd6b1413082c303613fc137aca9a004740cacf0
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:52 2006 -0800

    [PATCH] slab: fix kzalloc and kstrdup caller report for CONFIG_DEBUG_SLAB
    
    Fix kzalloc() and kstrdup() caller report for CONFIG_DEBUG_SLAB.  We must
    pass the caller to __cache_alloc() instead of directly doing
    __builtin_return_address(0) there; otherwise kzalloc() and kstrdup() are
    reported as the allocation site instead of the real one.
    
    Thanks to Valdis Kletnieks for reporting the problem and Steven Rostedt for
    the original idea.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b958f7d9f35bfb61625f201cd92a3fc39504af7a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:05:51 2006 -0800

    [PATCH] dump_stack() in oom handler
    
    Sometimes it's nice to know who's calling.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 343e0d7a93951e35065fdb5e3dd61aece0ec6b3c
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:50 2006 -0800

    [PATCH] slab: replace kmem_cache_t with struct kmem_cache
    
    Replace uses of kmem_cache_t with proper struct kmem_cache in mm/slab.c.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a2dba4b4912b493070cbc170629fdbf440b01d7
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:49 2006 -0800

    [PATCH] slab: rename ac_data to cpu_cache_get
    
    Rename the ac_data() function to more descriptive cpu_cache_get().
    
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ed5eb2211204224799b2821656bbbfde26ef200
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:49 2006 -0800

    [PATCH] slab: extract virt_to_{cache|slab}
    
    Introduce virt_to_cache() and virt_to_slab() functions to reduce duplicate
    code and introduce a proper abstraction should we want to support other kind
    of mapping for address to slab and cache (eg.  for vmalloc() or I/O memory).
    
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5295a74cc0bcf1291686eb734ccb06baa3d55c1a
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:48 2006 -0800

    [PATCH] slab: reduce inlining
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    Reduce the amount of inline functions in slab to the functions that
    are used in the hot path:
    
      - no inline for debug functions
      - no __always_inline, inline is already __always_inline
      - remove inline from a few numa support functions.
    
    Before:
    
       text    data     bss     dec     hex filename
      13588     752      48   14388    3834 mm/slab.o (defconfig)
      16671    2492      48   19211    4b0b mm/slab.o (numa)
    
    After:
    
       text    data     bss     dec     hex filename
      13366     752      48   14166    3756 mm/slab.o (defconfig)
      16230    2492      48   18770    4952 mm/slab.o (numa)
    
    Signed-off-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78d382d77c84229d031431931bf6490d5da6ab86
Author: Matthew Dobson <colpatch@us.ibm.com>
Date:   Wed Feb 1 03:05:47 2006 -0800

    [PATCH] slab: extract slab_{put|get}_obj
    
    Create two helper functions slab_get_obj() and slab_put_obj() to replace
    duplicated code in mm/slab.c
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12dd36faec5d3bd96da84fa8f76efecc632930ab
Author: Matthew Dobson <colpatch@us.ibm.com>
Date:   Wed Feb 1 03:05:46 2006 -0800

    [PATCH] slab: extract slab_destroy_objs()
    
    Create a helper function, slab_destroy_objs() which called from
    slab_destroy().  This makes slab_destroy() smaller and more readable, and
    moves ifdefs outside the function body.
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fbaccacff1f17c65ae0972085368a7ec75be6062
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Wed Feb 1 03:05:45 2006 -0800

    [PATCH] slab: cache_estimate cleanup
    
    Clean up cache_estimate() in mm/slab.c and improves the algorithm from O(n) to
    O(1).  We first calculate the maximum number of objects a slab can hold after
    struct slab and kmem_bufctl_t for each object has been given enough space.
    After that, to respect alignment rules, we decrease the number of objects if
    necessary.  As required padding is at most align-1 and memory of obj_size is
    at least align, it is always enough to decrease number of objects by one.
    
    The optimization was originally made by Balbir Singh with more improvements
    from Steven Rostedt.  Manfred Spraul provider further modifications: no loop
    at all for the off-slab case and added comments to explain the background.
    
    Acked-by: Balbir Singh <bsingharora@gmail.com>
    Signed-off-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ec8a847bb8ae2ba6395cfb7cb4bfdc78ada82ed
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Wed Feb 1 03:05:44 2006 -0800

    [PATCH] slab: have index_of bug at compile time
    
    I noticed the code for index_of is a creative way of finding the cache
    index using the compiler to optimize to a single hard coded number.  But
    I couldn't help noticing that it uses two methods to let you know that
    someone used it wrong.  One is at compile time (the correct way), and
    the other is at run time (not good).
    
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18f820f655ce93b1e4d9b48fc6fcafc64157c6bc
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:43 2006 -0800

    [PATCH] slab: minor cleanup to kmem_cache_alloc_node
    
    Clean up kmem_cache_alloc_node a bit.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3dafccf22751429e69b6266636cf3acf45b48075
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Wed Feb 1 03:05:42 2006 -0800

    [PATCH] slab: distinguish between object and buffer size
    
    An object cache has two different object lengths:
    
      - the amount of memory available for the user (object size)
      - the amount of memory allocated internally (buffer size)
    
    This patch does some renames to make the code reflect that better.
    
    Signed-off-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e965f9630c651fa4249039fd4b80c9392d07a856
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Feb 1 03:05:41 2006 -0800

    [PATCH] Direct Migration V9: Avoid writeback / page_migrate() method
    
    Migrate a page with buffers without requiring writeback
    
    This introduces a new address space operation migratepage() that may be used
    by a filesystem to implement its own version of page migration.
    
    A version is provided that migrates buffers attached to pages.  Some
    filesystems (ext2, ext3, xfs) are modified to utilize this feature.
    
    The swapper address space operation are modified so that a regular
    migrate_page() will occur for anonymous pages without writeback (migrate_pages
    forces every anonymous page to have a swap entry).
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e2ab150d1b3b286a4c864c60a549b2601777b63
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Feb 1 03:05:40 2006 -0800

    [PATCH] Direct Migration V9: upgrade MPOL_MF_MOVE and sys_migrate_pages()
    
    Modify policy layer to support direct page migration
    
    - Add migrate_pages_to() allowing the migration of a list of pages to a a
      specified node or to vma with a specific allocation policy in sets of
      MIGRATE_CHUNK_SIZE pages
    
    - Modify do_migrate_pages() to do a staged move of pages from the source
      nodes to the target nodes.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a3351e525e4768c29aa5d22ef59b5b38e0361e53
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Feb 1 03:05:39 2006 -0800

    [PATCH] Direct Migration V9: remove_from_swap() to remove swap ptes
    
    Add remove_from_swap
    
    remove_from_swap() allows the restoration of the pte entries that existed
    before page migration occurred for anonymous pages by walking the reverse
    maps.  This reduces swap use and establishes regular pte's without the need
    for page faults.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a48d07afdf18212de22b959715b16793c5a6e57a
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Feb 1 03:05:38 2006 -0800

    [PATCH] Direct Migration V9: migrate_pages() extension
    
    Add direct migration support with fall back to swap.
    
    Direct migration support on top of the swap based page migration facility.
    
    This allows the direct migration of anonymous pages and the migration of file
    backed pages by dropping the associated buffers (requires writeout).
    
    Fall back to swap out if necessary.
    
    The patch is based on lots of patches from the hotplug project but the code
    was restructured, documented and simplified as much as possible.
    
    Note that an additional patch that defines the migrate_page() method for
    filesystems is necessary in order to avoid writeback for anonymous and file
    backed pages.
    
    Signed-off-by: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b16664e44c54525be89dc07ad15a13b4eeec5634
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Feb 1 03:05:36 2006 -0800

    [PATCH] Direct Migration V9: PageSwapCache checks
    
    Check for PageSwapCache after looking up and locking a swap page.
    
    The page migration code may change a swap pte to point to a different page
    under lock_page().
    
    If that happens then the vm must retry the lookup operation in the swap space
    to find the correct page number.  There are a couple of locations in the VM
    where a lock_page() is done on a swap page.  In these locations we need to
    check afterwards if the page was migrated.  If the page was migrated then the
    old page that was looked up before was freed and no longer has the
    PageSwapCache bit set.
    
    Signed-off-by: Hirokazu Takahashi <taka@valinux.co.jp>
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Christoph Lameter <clameter@@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a16e3f4b0c408b9e50297d2ec27e295d490267a
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:35 2006 -0800

    [PATCH] Reclaim slab during zone reclaim
    
    If large amounts of zone memory are used by empty slabs then zone_reclaim
    becomes uneffective.  This patch shakes the slab a bit.
    
    The problem with this patch is that the slab reclaim is not containable to a
    zone.  Thus slab reclaim may affect the whole system and be extremely slow.
    This also means that we cannot determine how many pages were freed in this
    zone.  Thus we need to go off node for at least one allocation.
    
    The functionality is disabled by default.
    
    We could modify the shrinkers to take a zone parameter but that would be quite
    invasive.  Better ideas are welcome.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b2ffb7896ad46067f5b9ebf7de1891d74a4cdef
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:34 2006 -0800

    [PATCH] Zone reclaim: Allow modification of zone reclaim behavior
    
    In some situations one may want zone_reclaim to behave differently.  For
    example a process writing large amounts of memory will spew unto other nodes
    to cache the writes if many pages in a zone become dirty.  This may impact the
    performance of processes running on other nodes.
    
    Allowing writes during reclaim puts a stop to that behavior and throttles the
    process by restricting the pages to the local zone.
    
    Similarly one may want to contain processes to local memory by enabling
    regular swap behavior during zone_reclaim.  Off node memory allocation can
    then be controlled through memory policies and cpusets.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a11ff06d7d12be5d1bbcf592fff649b45ac2388
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:33 2006 -0800

    [PATCH] zone_reclaim: configurable off node allocation period.
    
    Currently the zone_reclaim code has a fixed window of 30 seconds of off node
    allocations should a local zone have no unused pagecache pages left.  Reclaim
    will be attempted again after this timeout period to avoid repeated useless
    scans for memory.  This is also useful to established sufficiently large off
    node allocation chunks to relieve the local node.
    
    It may be beneficial to adjust that time period for some special situations.
    For example if memory use was exceeding node capacity one may want to give up
    for longer periods of time.  If memory spikes intermittendly then one may want
    to shorten the time period to reduce the number of off node allocations.
    
    This patch allows just that....
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a92f71263af9d0ab77c260f709c0c079656221aa
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:32 2006 -0800

    [PATCH] zone_reclaim: partial scans instead of full scan
    
    Instead of scanning all the pages in a zone, imitate real swap and scan
    only a portion of the pages and gradually scan more if we do not free up
    enough pages.  This avoids a zone suddenly loosing all unused pagecache
    pages (we may after all access some of these again so they deserve another
    chance) but it still frees up large chunks of memory if a zone only
    contains unused pagecache pages.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa3f18b3391ac305baa01faead3fdf9147daf54b
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:32 2006 -0800

    [PATCH] zone_reclaim: do not unmap file backed pages
    
    zone_reclaim should leave that to the real swapper.  We are only interested
    in evicting unmapped pages.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e6a510a74145585f4111d60d1b5fd450d795dd8
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Feb 1 03:05:31 2006 -0800

    [PATCH] mm: hugepage accounting fix
    
    2.6.15's hugepage faulting introduced huge_pages_needed accounting into
    hugetlbfs: to count how many pages are already in cache, for spot check on
    how far a new mapping may be allowed to extend the file.  But it's muddled:
    each hugepage found covers HPAGE_SIZE, not PAGE_SIZE.  Once pages were
    already in cache, it would overshoot, wrap its hugepages count backwards,
    and so fail a harmless repeat mapping with -ENOMEM.  Fixes the problem
    found by Don Dupuis.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-By: Adam Litke <agl@us.ibm.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9884fd8df195fe48d4e1be2279b419be96127cae
Author: Benjamin LaHaise <bcrl@linux.intel.com>
Date:   Wed Feb 1 03:05:30 2006 -0800

    [PATCH] Use 32 bit division in slab_put_obj()
    
    Improve the performance of slab_put_obj().  Without the cast, gcc considers
    ptrdiff_t a 64 bit signed integer and ends up emitting code to use a full
    signed 128 bit divide on EM64T, which is substantially slower than a 32 bit
    unsigned divide.
    
    I noticed this when looking at the profile of a case where the slab balance
    is just on edge and thrashes back and forth freeing a block.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c84db23c6e587d3ab00a41c51fedf758e1f6ecd4
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:29 2006 -0800

    [PATCH] zone_reclaim: minor fixes
    
    - If we only reclaim nr_pages then its okay to stay on node.
      Switch from > to >= for the comparison.
    
    - vm_table[] entry for zone_reclaim_mode is a bit screwed up.
    
    - Add empty lines around shrink_zone to show that this is the
      central function to be called.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 52a8363eae3872af15880292ff4e06d0fab36986
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:28 2006 -0800

    [PATCH] mm: improve function of sc->may_writepage
    
    Make sc->may_writepage control the writeout behavior of shrink_list.
    
    Remove the laptop_mode trick from shrink_list and instead set may_writepage
    in try_to_free_pages properly.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce2ea89ba101d976907128441ba3aca72a8804b9
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Wed Feb 1 03:05:27 2006 -0800

    [PATCH] GFP_ZONETYPES: calculate from GFP_ZONEMASK
    
    GFP_ZONETYPES calculate from GFP_ZONEMASK
    
    GFP_ZONETYPES's value is directly related to the value of GFP_ZONEMASK.  It
    takes one of two forms depending whether the top bit of GFP_ZONEMASK is a
    'loner'.  Supply both forms, enabling the loner.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79046ae07ae21245520ca0aab985ee6678a879f8
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Wed Feb 1 03:05:26 2006 -0800

    [PATCH] GFP_ZONETYPES: add commentry on how to calculate
    
    GFP_ZONETYPES define using GFP_ZONEMASK and add commentry
    
    Add commentry explaining the optimisation that we can apply to GFP_ZONETYPES
    when the leftmost bit is a 'loaner', it can only be set in isolation.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42c722d4cb4022e56ff200f3f5a58c0dfd7edac6
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:26 2006 -0800

    [PATCH] zone_reclaim: reclaim on memory only node support
    
    Zone reclaim is usually only run on the local node.  Headless nodes do not
    have any local processors.  This patch checks for headless nodes and
    performs zone reclaim on them.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8928862398fef04a137e5673ac5fa9e797960c87
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Feb 1 03:05:25 2006 -0800

    [PATCH] Optimize off-node performance of zone reclaim
    
    Ensure that the performance of off node pages stays the same as before.
    Off node pagefault tests showed an 18% drop in performance without this
    patch.
    
    - Increase the timeout to 30 seconds to reduce the overhead.
    
    - Move all code possible out of the off node hot path for zone reclaim
      (Sorry Andrew, the struct initialization had to be sacrificed).
      The read_page_state() bit us there.
    
    - Check first for the timeout before any other checks.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 537421be79b94bcf620467f50dd9e38b739c2a00
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:05:24 2006 -0800

    [PATCH] Mark CONFIG_UFS_FS_WRITE as BROKEN
    
    OpenBSD doesn't see "." correctly in directories created by Linux.  Copying
    files over several KB will buy you infinite loop in __getblk_slow().
    Copying files smaller than 1 KB seems to be OK.  Sometimes files will be
    filled with zeros.  Sometimes incorrectly copied file will reappear after
    next file with truncated size.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c125a1838a95604eb35b60259a8d678dc193f7e4
Author: David Gibson <dwg@au1.ibm.com>
Date:   Wed Feb 1 03:05:22 2006 -0800

    [PATCH] powerpc: Add flattened device tree documentation
    
    The flattened device tree is the only supported way of booting ARCH=powerpc
    kernels on non Open Firmware machines.  The documentation for the flattened
    tree format and contents has been discussed on mailing lists and lately has
    been living in the dtc git tree.  Really, it ought to go in the kernel's
    Documentation directory for maximum visibility.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7b8988ff50d99c99746f65f420364e91362c065
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Wed Feb 1 03:05:21 2006 -0800

    [PATCH] swsusp: do not change log level during suspend/resume
    
    Prevent the kernel from setting the log level to 10 unconditionally during
    suspend/resume which was needed in the past for debugging, but generally is
    undesirable.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8183ebb45324ef99f98a175623d67cdcec4466f
Author: Dave Jones <davej@redhat.com>
Date:   Wed Feb 1 03:05:21 2006 -0800

    [PATCH] fix saa7146 kobject register failure
    
    Whoops.
    
    kobject_register failed for hexium HV-PCI6/Orion (-13)
    [<c01d3eb6>] kobject_register+0x31/0x47
    [<c023a996>] bus_add_driver+0x4a/0xfd
    [<c01de3c1>] __pci_register_driver+0x82/0xa4
    [<d083400a>] hexium_init_module+0xa/0x47 [hexium_orion]
    [<c013bdae>] sys_init_module+0x167b/0x1822
    [<c01633f7>] do_sync_read+0xb8/0xf3
    [<c0133fa3>] autoremove_wake_function+0x0/0x2d
    [<c0145390>] audit_syscall_entry+0x118/0x13f
    [<c0106ae2>] do_syscall_trace+0x104/0x14a
    [<c0103d21>] syscall_call+0x7/0xb
    
    slashes in kobject names aren't allowed.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Cc: Mauro Carvalho Chehab <mchehab@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb3c190e8d43fcbf1210effb05dc660cb3ccf817
Author: V. Ananda Krishnan <mansarov@us.ibm.com>
Date:   Wed Feb 1 03:05:20 2006 -0800

    [PATCH] jsm: fix for high baud rates problem
    
          Scott Kilau <Scott_Kilau@digi.com>
    
    Digi serial port console doesn't work when baud rates are set higher than
    38400.  So the lookup table and code in jsm_neo.c has been modified and
    tested.  Please let me have the feed-back.
    
    Signed-off-by: V.Ananda Krishnan <mansarov@us.ibm.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bfaa1deeb982c985d8e0435e835baeaae63b57fd
Author: john stultz <johnstul@us.ibm.com>
Date:   Wed Feb 1 03:05:19 2006 -0800

    [PATCH] disable lost tick compensation before TSCs are synced
    
    Avoid lost tick compensation early in boot before the TSCs are
    synchronized.  Currently timekeeping is enabled before the TSCs are
    synchronized, thus when the TSCs are synched (reset to zero), it appears
    that a number of lost ticks have occurred.  This can cause premature expiry
    of timers and in extreme cases can cause the soft lockup detection to fire.
    
    This resolves issues reported by Andy Whitcroft as well as bug #5366
    reported by Tim Mann.
    
    Signed-off-by: John Stultz <johnstul@us.ibm.com>
    Acked-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f7016d917faef8f1e016b4a7bd7f594694480b6
Author: Jack Steiner <steiner@sgi.com>
Date:   Wed Feb 1 03:05:18 2006 -0800

    [PATCH] sys_sched_getaffinity() & hotplug
    
    Change sched_getaffinity() so that it returns a bitmap that indicates the
    legally schedulable cpus that a task is allowed to run on.
    
    Without this patch, if CONFIG_HOTPLUG_CPU is enabled, sched_getaffinity()
    unconditionally returns (at least on IA64) a mask with NR_CPUS bits set.
    This conveys no useful infornmation except for a kernel compile option.
    
    This fixes a breakage we obseved running recent kernels. We have MPI jobs
    that use sched_getaffinity() to determine where to place their threads.
    Placing them on non-existant cpus is problematic :-)
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Nathan Lynch <ntl@pobox.com>
    Cc: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f07496144c270f10d0ad06b70b9c9387d5527fd
Author: Bryan O'Sullivan <bos@pathscale.com>
Date:   Wed Feb 1 03:05:17 2006 -0800

    [PATCH] Add faster __iowrite32_copy routine for x86_64
    
    This assembly version is measurably faster than the generic version in
    lib/iomap_copy.c.
    
    Signed-off-by: Bryan O'Sullivan <bos@pathscale.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c27a0d75b33c030965cc97d3d7f571107a673fb4
Author: Bryan O'Sullivan <bos@pathscale.com>
Date:   Wed Feb 1 03:05:16 2006 -0800

    [PATCH] Introduce __iowrite32_copy
    
    This arch-independent routine copies data to a memory-mapped I/O region,
    using 32-bit accesses.  The naming is double-underscored to make it clear
    that it does not guarantee write ordering, nor does it perform a memory
    barrier afterwards; the kernel doc also explicitly states this.  This style
    of access is required by some devices.
    
    This change also introduces include/linux/io.h, at Andrew's suggestion.  It
    only has one occupant at the moment, but is a logical destination for
    oft-replicated contents of include/asm-*/{io,iomap}.h to migrate to.
    
    Signed-off-by: Bryan O'Sullivan <bos@pathscale.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7589f28d7dd4586b4e90ac3b2a180409669053a
Author: Bryan O'Sullivan <bos@pathscale.com>
Date:   Wed Feb 1 03:05:15 2006 -0800

    [PATCH] Define BITS_PER_BYTE
    
    This can make the intent behind some arithmetic expressions clearer.
    
    Signed-off-by: Bryan O'Sullivan <bos@pathscale.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 493f01d1d0699ddafc30067d33fcc18d0b95b624
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Feb 1 03:05:14 2006 -0800

    [PATCH] kernel/posix-timers.c: remove do_posix_clock_notimer_create()
    
    This function is neither used nor has any real contents.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 952bbc87f01f552ef091a62ea2a721b5b2670e74
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed Feb 1 03:05:13 2006 -0800

    [PATCH] hrtimers: set correct initial expiry time for relative SIGEV_NONE timers
    
    The expiry time for relative timers with SIGEV_NONE set was never
    updated to the correct value.
    
    Pointed out by George Anzinger.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66188fae3bf7f8dd951e2291d2a81888ed1b65de
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed Feb 1 03:05:13 2006 -0800

    [PATCH] hrtimers: add back lost credit lines
    
    At some point we added credits to people who actively helped to bring
    k/hr-timers along.  This was lost in the big code revamp.  Add it back.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7978672c4d9a1e6a6081de3a9d9ba5e5b24904a0
Author: George Anzinger <george@wildturkeyranch.net>
Date:   Wed Feb 1 03:05:11 2006 -0800

    [PATCH] hrtimers: cleanups and simplifications
    
    Clean up the interface to hrtimers by changing the init code to pass the mode
    as well as the clock.  This allow the init code to select the correct base and
    eliminates extra timer re-init code in posix-timers.  We also simplify the
    restart interface nanosleep use.
    
    Signed-off-by: George Anzinger <george@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff60a5dc4fa584d47022d2533bc5c53b80096fb5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:05:10 2006 -0800

    [PATCH] hrtimers: fix posix-timer requeue race
    
    From: Steven Rostedtrostedt@goodmis.org <rostedt@goodmis.org>
    
    CPU0 expires a posix-timer and runs the callback function.  The signal is
    queued.
    
    After releasing the posix-timer lock and before returning to hrtimer_run_queue
    CPU0 gets interrupted.  CPU1 delivers the queued signal and rearms the timer.
    CPU0 comes back to hrtimer_run_queue and sets the timer state to expired.
    
    The next modification of the timer can result in an oops, because the state
    information is wrong.
    
    Keep track of state = RUNNING and check if the state has been in the return
    path of hrtimer_run_queue.  In case the state has been changed, ignore a
    restart request and do not touch the state variable.
    
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a16a1c095a2392d49fafea22f3a508e268ef7167
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed Feb 1 03:05:09 2006 -0800

    [PATCH] hrtimers: fix oldvalue return in setitimer
    
    This resolves bugzilla bug#5617.  The oldvalue of the timer was read after the
    timer was cancelled, so the remaining time was always zero.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b6557fbca805217588a412f391a65ceafcf1a1af
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed Feb 1 03:05:09 2006 -0800

    [PATCH] hrtimers: fix possible use of NULL pointer in posix-timers
    
    Fixup the conversion of posix-timers to hrtimers.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc1978d404befacd272d0321ef749cc3192e488b
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Wed Feb 1 03:05:08 2006 -0800

    [PATCH] hrtimers: fixup itimer conversion
    
    The itimer conversion removed the locking which protects the timer and
    variables in the shared signal structure.  Steven Rostedt found the problem in
    the latest -rt patches.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 853609b61ef88b414ffd1613741aa59894334320
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Wed Feb 1 03:05:07 2006 -0800

    [PATCH] swsusp: use bytes as image size units
    
    Make swsusp use bytes as the image size units, which is needed for future
    compatibility.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8730eabd45e47e392f230ab8720c4b8537901fc
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Feb 1 03:05:06 2006 -0800

    [PATCH] uml: compilation fix when MODE_SKAS disabled
    
      CC      arch/um/sys-i386/ldt.o
    arch/um/sys-i386/ldt.c:19:21: proc_mm.h: No such file or directory
    make[1]: *** [arch/um/sys-i386/ldt.o] Error 1
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d0098b6e2055e4afb2ceadf11c4b9f43b671ccc
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:05:05 2006 -0800

    [PATCH] mips: gdb-stub.c: fix parse error before ; token
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 295b117ef334bcc3c9596117cb0aa640054e35fc
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Wed Feb 1 03:05:04 2006 -0800

    [PATCH] tpm: tpm_bios remove unused variable
    
    Remove event_data_size since it was pointed out in tpm_bios-indexing-
    fix.patch that is was ugly and it wasn't actually being used.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10296cb0b2b0b0eb312f81032216504a64ee675a
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Wed Feb 1 03:05:04 2006 -0800

    [PATCH] tpm: tpm_bios fix sparse warnings
    
    Fixing the sparse warnings on the acpi_os_map_memory calls pointed out by
    Randy.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7bcee5b86a8d9f8a0f2c1848fd9abd675e09e969
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Wed Feb 1 03:05:03 2006 -0800

    [PATCH] tpm: tpm-bios: fix module license issue
    
    Attempting to insert the tpm modules fails because the tpm_bios file is
    missing a license statement.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1c40f7d4f0a9d5242f19b02b00e3e5a8ee218a20
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:05:02 2006 -0800

    [PATCH] tpm_bios indexing fix
    
    It generates warnings:
    
    drivers/char/tpm/tpm_bios.c: In function `get_event_name':
    drivers/char/tpm/tpm_bios.c:223: warning: cast from pointer to integer of different size
    drivers/char/tpm/tpm_bios.c:223: warning: cast from pointer to integer of different size
    drivers/char/tpm/tpm_bios.c:223: warning: cast from pointer to integer of different size
    drivers/char/tpm/tpm_bios.c:224: warning: cast from pointer to integer of different size
    drivers/char/tpm/tpm_bios.c:224: warning: cast from pointer to integer of different size
    drivers/char/tpm/tpm_bios.c:224: warning: cast from pointer to integer of different size
    
    and I'm not sure what the code is doing there, but it seems wrong.  We're
    using the address of the buffer rather than the contents of it.
    
    The patch adds more nasty typecasting, but I think the whole arrangement could
    be done in a more typesafe manner.
    
    Cc: Kylene Jo Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca4a031f6b43edb8745ebc0a1b7307c24719dae4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:05:01 2006 -0800

    [PATCH] tpm_bios: securityfs error checking fix
    
    These functions return ERR_PTR()s on error, not NULL.
    
    Spotted by Randy.
    
    Cc: Serge Hallyn <serue@us.ibm.com>
    Cc: Kylene Jo Hall <kjhall@us.ibm.com>
    Cc: "Randy Dunlap" <rdunlap@xenotime.net>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed5a92700d3ce2646cb7763792a5f7ad1bade7e8
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:05:00 2006 -0800

    [PATCH] tpm_bios: needs more securityfs_ functions
    
    tpm_bios.c needs securityfs_xyz() functions.
    
    Does include/linux/security.h need stubs for these, or should
    char/tpm/Makefile just be modified to say:
    
    ifdef CONFIG_ACPI
    ifdef CONFIG_SECURITY
    	obj-$(CONFIG_TCG_TPM) += tpm_bios.o
    endif
    endif
    
    drivers/char/tpm/tpm_bios.c:494: warning: implicit declaration of function 'securityfs_create_dir'
    drivers/char/tpm/tpm_bios.c:494: warning: assignment makes pointer from integer without a cast
    drivers/char/tpm/tpm_bios.c:499: warning: implicit declaration of function 'securityfs_create_file'
    drivers/char/tpm/tpm_bios.c:501: warning: assignment makes pointer from integer without a cast
    drivers/char/tpm/tpm_bios.c:508: warning: assignment makes pointer from integer without a cast
    drivers/char/tpm/tpm_bios.c:523: warning: implicit declaration of function 'securityfs_remove'
    *** Warning: "securityfs_create_file" [drivers/char/tpm/tpm_bios.ko] undefined!
    *** Warning: "securityfs_create_dir" [drivers/char/tpm/tpm_bios.ko] undefined!
    *** Warning: "securityfs_remove" [drivers/char/tpm/tpm_bios.ko] undefined!
    
    There are also some gcc and sparse warnings that could be fixed.
    (see http://www.xenotime.net/linux/doc/build-tpm.out)
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Cc: Serge Hallyn <serue@us.ibm.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: Kylene Jo Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ee26aa04d4dbd5e006b2f184d6028c71384681f
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Feb 1 03:04:59 2006 -0800

    [PATCH] tpm_infineon: fix printk format warning
    
    drivers/char/tpm/tpm_infineon.c:443: warning: format '%04x' expects type 'unsigned int', but argument 4 has type 'long unsigned int'
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94f91def998efe3b79780f3b39b6c87d390dbe4c
Author: Rocky Craig <rocky.craig@hp.com>
Date:   Wed Feb 1 03:04:58 2006 -0800

    [PATCH] IPMI: remove invalid acpi register spacing check
    
    At the 2.6.12 timeframe ipmi_si_intf.c was patched to provide default
    register spacings in try_init_acpi() if the register spacing was set to
    zero, similar to code in other routines.
    
    Unfortunately, another patch was simultaneously added that exits early from
    try_init_acpi() if the register spacings are set to zero, circumventing the
    new defaults.  This patch removes the early exit code and some incorrect
    comments that aren't present in other common code snippets.
    
    Signed-off-by: Rocky Craig <rocky.craig@hp.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 386093ef9a6c88576d8b418bf1c8616d5e410a20
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:04:57 2006 -0800

    [PATCH] ipw2200: fix ->eeprom[EEPROM_VERSION] check
    
    priv->eeprom is a pointer.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Yi Zhu <yi.zhu@intel.com>
    Cc: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce5f8d70ba6e3d7ffcaff86b2cf91a42c27f77af
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:04:56 2006 -0800

    [PATCH] alpha: dma-mapping.h: add "struct scatterlist;"
    
    On alpha-jensen:
    
      CC      drivers/base/platform.o
    In file included from include/linux/dma-mapping.h:24,
                     from drivers/base/platform.c:16:
    include/asm/dma-mapping.h:36: warning: "struct scatterlist" declared inside parameter list
    include/asm/dma-mapping.h:36: warning: its scope is only this definition or declaration, which is probably not what you want
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3ee247ebce93a526f482d6bc714ce796fa85a81a
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Wed Feb 1 03:04:55 2006 -0800

    [PATCH] dm: dm-table warning fix
    
    drivers/md/dm-table.c:500: warning: comparison of distinct pointer types lacks a cast
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4aac0a63fe8d418a2b74e43708f59380ba379a3b
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Wed Feb 1 03:04:55 2006 -0800

    [PATCH] device-mapper snapshot: barriers not supported
    
    The snapshot and origin targets are incapable of handling barriers and need to
    indicate this.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3eaf840e0b0046f56602c524c7ba58a82f5526c5
Author: Jun'ichi "Nick" Nomura <j-nomura@ce.jp.nec.com>
Date:   Wed Feb 1 03:04:53 2006 -0800

    [PATCH] device-mapper disk statistics: timing
    
    Record I/O timing statistics
    
    The start time is added to struct dm_io, an existing structure allocated
    privately internally within dm and attached to each incoming bio.
    
    We export disk_round_stats() from block/ll_rw_blk.c instead of creating a
    private clone.
    
    Signed-off-by: Jun'ichi "Nick" Nomura <j-nomura@ce.jp.nec.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12f03a49cf0ab5e8511911142d28699499a572c4
Author: Kevin Corry <kevcorry@us.ibm.com>
Date:   Wed Feb 1 03:04:52 2006 -0800

    [PATCH] device-mapper statistics: basic
    
    Record basic I/O statistics for mapped devices.
    
    Signed-off-by: Kevin Corry <kevcorry@us.ibm.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dab6a42915554f70220e5a2ff55c59c749582c7b
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Wed Feb 1 03:04:52 2006 -0800

    [PATCH] device-mapper ioctl: reduce PF_MEMALLOC usage
    
    Reduce substantially the amount of code using PF_MEMALLOC, as envisaged in the
    original FIXME.
    
    If you're using lvm2, for this patch to work correctly you should update to
    lvm2 version 2.02.01 or later and device-mapper version 1.02.02 or later.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a4fc4717fc55a3bcd3cfdafa285b7af164b83051
Author: Patrick Caulfield <pcaulfie@redhat.com>
Date:   Wed Feb 1 03:04:51 2006 -0800

    [PATCH] device-mapper log bitset: fix endian
    
    Clean up the code responsible for the on-disk mirror logs by using the
    set_le_bit test_le_bit functions of ext2.  That makes the BE machines keep the
    bitmap internally in LE order - it does mean you can't use any other type of
    operations on the bitmap words but that looks to be OK in this instance.  The
    efficiency tradeoff is very minimal as you would expect for something that
    ext2 uses.
    
    This allows us to remove bits_to_core(), bits_to_disk() and log->disk_bits.
    
    Also increment the mirror log disk version transparently to avoid sharing with
    older kernels that suffered from the 64-bit BE bug.
    
    Signed-off-by: Patrick Caulfield <pcaulfie@redhat.com>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa14edeb994f8f7e223d02ad14780bf2fa719f6d
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Wed Feb 1 03:04:50 2006 -0800

    [PATCH] device-mapper snapshot: load metadata on creation
    
    Move snapshot metadata loading to happen when the table is created instead of
    when the device is resumed.  Writes to the origin device don't trigger
    exceptions until each snapshot table becomes active when resume() is called on
    each snapshot.
    
    If you're using lvm2, for this patch to work properly you should update to
    lvm2 version 2.02.01 or later and device-mapper version 1.02.02 or later.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cb82a6cdf994d6656ad0a25ed28395af3416a27c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:04:49 2006 -0800

    [PATCH] compat_sys_pselect7() fix
    
    fs/compat.c: In function `compat_sys_pselect7':
    fs/compat.c:1820: warning: passing arg 5 of `compat_core_sys_select' from incompatible pointer type
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ff0c007b2854b9ca4dca3a104ee3e4c146c02d6
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:04:48 2006 -0800

    [PATCH] lp486e: remove SLOW_DOWN_IO
    
    It's not used. Fix the following on alpha-eb66 as a side effect:
    
    In file included from drivers/net/lp486e.c:75:
    include/asm/io.h:20:1: warning: "SLOW_DOWN_IO" redefined
    drivers/net/lp486e.c:59:1: warning: this is the location of the previous definition
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70e51015768439a5c305a42fdaa0abe5cc109bcf
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Feb 1 03:04:48 2006 -0800

    [PATCH] tsunami_flash: fix "parse error before ';' token"
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc0fa84a01d328a1ad70076b90f08281c4c79f92
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Wed Feb 1 03:04:47 2006 -0800

    [PATCH] powerpc: enable irq's for platform functions.
    
    Make the platform function interrupt functions actually work.  Calls
    irq_enable() for the first in the list, and irq_disable() for the last.
    
    Added *func to struct irq_client so the the user can pass just that to
    pmf_unregister_irq_client().
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b62735d9c6212de6fd1b5e96b41d978939fb0dd2
Author: Mikael Pettersson <mikpe@csd.uu.se>
Date:   Wed Feb 1 03:04:45 2006 -0800

    [PATCH] ide-scsi: fix for IDE probe/remove ops changes
    
    Kernel 2.6.16-rc1 broke the ide-scsi driver: ide-scsi loads but fails to
    find any devices to bind to.  It also triggers a message "Driver 'ide-scsi'
    needs updating - please use bus_type methods" from the driver core.
    
    The IDE core in 2.6.16-rc1 changed the location of an IDE driver's
    ->probe()/->remove()/->shutdown() methods: they are now in the ide_driver_t
    struct not in the gen_driver sub-struct.  drivers/ide/ was updated for this
    change but ide-scsi.c wasn't.  Hence the breakage.
    
    This patch repairs ide-scsi and also eliminates the driver core warning.
    
    Signed-off-by: Mikael Pettersson <mikpe@csd.uu.se>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Acked-by: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6292d9aaf3047f1abd970bc64ab6d952eda258ac
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Wed Feb 1 03:04:44 2006 -0800

    [PATCH] __cpuinit functions wrongly marked __meminit
    
    __meminit has overzelously been modified and crept its way into marking
    cpuup callbacks as __meminit.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88356e908521a84b2220c9e8850d1a356a851aa9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Feb 1 03:04:43 2006 -0800

    [PATCH] sound/ppc/pmac.c typo
    
    In 2.6.16-rc1 there is a small typo introduced by the 'Remove device_node
    addrs/n_addr' changes which prevents my Powerbook G4 sound from working:
    
    	Advanced Linux Sound Architecture Driver Version 1.0.11rc2 (Wed Jan 04 08:57:20 2006 UTC).
    	snd: can't request rsrc  0 (Sound Control: 0x80000000:80004fff)
    	ALSA device list:
    	   No soundcards found.
    
    The patch below fixes it.  Of course, the patch fixing the i2c issues
    ('i2c_smbus_write_i2c_block_data' patch) needs to be applied to in order
    for the sound to completly work.
    
    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9cd684551124e71630ab96d238747051463f5b56
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Wed Feb 1 03:04:40 2006 -0800

    [PATCH] fuse: fix async read for legacy filesystems
    
    While asynchronous reads mean a performance improvement in most cases, if
    the filesystem assumed that reads are synchronous, then async reads may
    degrade performance (filesystem may receive reads out of order, which can
    confuse it's own readahead logic).
    
    With sshfs a 1.5 to 4 times slowdown can be measured.
    
    There's also a need for userspace filesystems to know whether asynchronous
    reads are supported by the kernel or not.
    
    To achive these, negotiate in the INIT request whether async reads will be
    used and the maximum readahead value.  Update interface version to 7.6
    
    If userspace uses a version earlier than 7.6, then disable async reads, and
    set maximum readahead value to the maximum read size, as done in previous
    versions.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit caf736085f2f0d22a992a855d9caae14973f7ea4
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:04:39 2006 -0800

    [PATCH] smbfs readdir vs signal fix
    
    An old patch designed to fix http://bugme.osdl.org/show_bug.cgi?id=4497,
    "getdents gives empty/random result upon signal".
    
    If smbfs's readdir() is interupted by a signal, smb_readdir() failed to
    noticed that and proceeded to treat the unread-into page as valid directory
    contents.  Fix that up by handling the -ERESTARTSYS.
    
    Thanks to Stian Skjelstad for reporting and testing.
    
    Cc: Stian Skjelstad <stian@nixia.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 389d1ea50849f84c3a9f8640fcb66827746b4ab4
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Feb 1 03:04:35 2006 -0800

    [PATCH] CONFIG_DOUBLEFAULT Kconfig fix
    
    Move CONFIG_DOUBLEFAULT from the main Kconfig menu (!) into its proper
    place: the "Processor Type and features" submenu.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3fb803a990cd17546bd89c38e0e29a891f71ce7d
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Wed Feb 1 03:04:34 2006 -0800

    [PATCH] knfsd: Restore recently broken ACL functionality to NFS server
    
    A recent patch to
       Allow run-time selection of NFS versions to export
    
    meant that NO nfsacl service versions were exported.  This patch restored
    that functionality.
    
    Signed-off-by: Andreas Gruenbacher <agruen@suse.de>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a2ca64496cc1c9aeab1076e06d092b3ec74a43d
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Wed Feb 1 03:04:33 2006 -0800

    [PATCH] prototypes for *at functions & typo fix
    
    Here's the follow-up patch which introduces the prototypes for the new
    syscalls.  There was also a typo in one of the new symbols.
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 577bca9eff94193a06e426f8dbf6b3152247a209
Author: Olaf Hering <olh@suse.de>
Date:   Wed Feb 1 03:04:33 2006 -0800

    [PATCH] CONFIG_ISA does not make sense for CONFIG_PPC_PSERIES
    
    Older pSeries systems with serial ports dont get any console output after
    recent changes.  CONFIG_ISA does not make sense for CONFIG_PPC_PSERIES
    because it enables lots of old drivers.  Instead, remove the dependency on
    CONFIG_ISA from the serial port discovery code.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3833a70585fd4b0f64e275ba0cc3f5e5038253fd
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 1 03:04:32 2006 -0800

    [PATCH] x86_64: compat_sys_futimesat fix
    
    We need to use the compat function here.
    
    Pointer out by Heiko Carstens <heiko.carstens@de.ibm.com>
    
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1494a92f4c2b1d5abdaa1f823dd19f797bb137de
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 31 10:58:46 2006 +0100

    [ALSA] hda-codec - Fix typos in alc882 model table
    
    Modules: HDA Codec driver
    
    Fixed typos in alc882 model table.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bae2bdb334c1ca5f4721e4fab1ca947f44455117
Author: Arnaud Patard <apatard@mandriva.com>
Date:   Fri Jan 27 12:05:02 2006 +0100

    [ALSA] patch_realtek.c: Add new model
    
    Modules: HDA Codec driver
    
    This little patch add the model for the motherboard K8N51 from Gigabyte
    to the known models of ALC boards.
    
    Signed-off-by: Arnaud Patard <apatard@mandriva.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 44275f18ec22a31980469567052e932d1023971f
Author: Giuliano Pochini <pochini@shiny.it>
Date:   Fri Jan 27 12:02:05 2006 +0100

    [ALSA] fix typos in writing-an-alsa-driver
    
    Modules: Documentation
    
    Fixed typos in writing-an-alsa-driver document.
    
    Signed-off-by: Giuliano Pochini <pochini@shiny.it>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 869264c45a6a77d73ec6caa543616a10a9dfd951
Author: Matt Porter <mporter@embeddedalley.com>
Date:   Wed Jan 25 19:20:50 2006 +0100

    [ALSA] hda: sigmatel fixes
    
    Modules: HDA Codec driver
    
    * Fix init sequence so manually retaskable jacks don't get added to
      the line_out list.
    * Update intel mobo config defaults to specify surround outputs
      as line outs rather than speakers.
    
    Signed-off-by: Matt Porter <mporter@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 1d79716ab07710465fa9fc1ae7328cc6095d2526
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Wed Jan 25 14:30:44 2006 +0100

    [ALSA] Fix adding second dma channel
    
    Modules: OPL3SA2 driver,GUS Classic driver
    
    dma2 is a global array. sprintf below suggests there was a typo.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 89ac9c256495cbdbe130be5ed192c8911c89ed87
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 24 10:36:57 2006 +0100

    [ALSA] intel8x0 - Add MCP51 PCI ID
    
    Modules: Documentation,Intel8x0 driver
    
    Added MCP51 PCI ID to intel8x0 driver.
    Also, updated the supported chips in documentation.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fd56f2db9385a651d31fe86eb4cc6cacbb0c5a63
Author: Jonathan Woithe <jwoithe@physics.adelaide.edu.au>
Date:   Tue Jan 24 10:35:46 2006 +0100

    [ALSA] hda-codec - Fix init verb of ALC260
    
    Modules: HDA Codec driver
    
    Fixed the wrong widget id for line-2 selector in the init verb
    of ALC260.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ad0651f97a3f8c5982921cb57fbedc877279e03d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 24 10:34:34 2006 +0100

    [ALSA] hda-codec - Fix max_channels computation for STAC92xx codecs
    
    Modules: HDA Codec driver
    
    Fix max_channels computation for STAC92xx codecs in the case only
    HP pin without line-out pins is detected in the default pin config.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 802c00f2f3700423df06a1149c23cd60dd59159c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 23 15:31:11 2006 +0100

    [ALSA] via82xx - Add dxs entry for P4M800/VIA8237R
    
    Modules: VIA82xx driver
    
    Added the dxs entry for P4M800/VIA8237R,
    reported by OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3cc08dc6ea677ed4e843120aa070e145b6781a4b
Author: Matt Porter <mporter@embeddedalley.com>
Date:   Mon Jan 23 15:27:49 2006 +0100

    [ALSA] hda-codec - add sigmatel 927x codec support
    
    Modules: HDA Codec driver
    
    Adds support for the SigmaTel STAC927x HDA codec family.
    
    Signed-off-by: Matt Porter <mporter@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d62c40e04cfcec3cef8093bd79d72fe86c8f2195
Author: Matt Porter <mporter@embeddedalley.com>
Date:   Mon Jan 23 15:26:27 2006 +0100

    [ALSA] hda-codec - add D975XBK support to sigmatel patch
    
    Modules: HDA Codec driver
    
    Add SigmaTel HDA support for the Intel D975XBK motherboard.
    
    Signed-off-by: Matt Porter <mporter@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e061bf1aa3af8a3f2ae7e1b5f8a110eae7936615
Author: Sasha Khapyorsky <sashak@alsa-project.org>
Date:   Mon Jan 23 15:24:16 2006 +0100

    [ALSA] hda-codec - support for Agere's HDA soft modem
    
    Modules: HDA Codec driver
    
    This adds support for Agere's variant of Si3054/5 based HDA modem.
    
    Signed-off-by: Sasha Khapyorsky <sashak@alsa-project.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 50f794c8dcfd0e63f3034d7cfd41e563f35741aa
Author: Lukasz Stemach <stelmacl@ee.pw.edu.pl>
Date:   Mon Jan 23 15:22:13 2006 +0100

    [ALSA] cs4236 - Add PnP ids for Netfinity 3000
    
    Modules: CS4236+ driver
    
    PnP ids for Netfinity 3000 builtin soundcard.
    
    This one works for me.
    
    This patch was submitted through kernel Bugzilla #4214.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 68b8bc05213567cfc58d8bdb8917b36c314ba7fd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 23 15:21:28 2006 +0100

    [ALSA] serial-uart16550 - Fix a compile warning
    
    Modules: Generic drivers
    
    Fix a gcc-4.1 compile warning regarding uninitialized variables.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 91134859702e66e5946383f66e6eb50ba4325458
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 23 15:21:05 2006 +0100

    [ALSA] opti93x - Fix a compile warning
    
    Modules: Opti9xx drivers
    
    Fix a gcc-4.1 compile warning regarding uninitialized variables.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fe25ad8a84c798a82591e5ed14519c001500fa61
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 23 15:20:38 2006 +0100

    [ALSA] wavefront - Fix a compile warning
    
    Modules: Wavefront drivers
    
    Fix a gcc-4.1 compile warning regarding uninitialized variables.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 51c2bbfcdb10162b294f31e2b1c7106639caaec2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 23 15:20:03 2006 +0100

    [ALSA] via82xx - Add dxs entry for a FSC board
    
    Modules: VIA82xx driver
    
    Add dxs entry for a FSC board.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 847b9d01474f710e7a018186917d05e59e258309
Merge: d1d051b... a6df590...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Wed Feb 1 13:08:56 2006 +0100

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit a6df590dd8b7644c8e298e3b13442bcd6ceeb739
Merge: 2f4c541... fd9cfdd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 21:37:33 2006 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 2f4c5416b36a5601d57f09e87a514a171390d5e0
Merge: d20e633... 9220a2d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 21:22:45 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit d20e6336ea4250e51081e4b2924b9ef4dfa45909
Merge: fa3c791... 6dea934...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 21:18:17 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/dtor/input

commit fa3c791d85aa9a363dd72dd834b73b79252ef44e
Merge: bd3f8f2... fad3aa1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 19:30:48 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit bd3f8f2b12bcf4ea25c89b84adeaafad232662c8
Author: Chris Wright <chrisw@sous-sol.org>
Date:   Tue Jan 31 19:10:23 2006 -0800

    [PATCH] Make sure to always check upper bits of tv_nsec in timespec_valid.
    
    Signed-off-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 078a9b0388619c6c4c347458c6861833b911313b
Merge: e1762ec... 206cc83...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 19:26:25 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/bnx2-2.6

commit e1762ec6d72b71c4476018af3c153cd362a5e94e
Merge: ef59c4e... 0cbd782...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 19:24:43 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit ef59c4e935feb966900a8321e75f74d7df2a2f16
Merge: 69396dc... 3103039...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 18:13:32 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/pci-2.6

commit 3103039cc2a8dc6ababc29afac5c3cadbfa69af9
Author: Andi Kleen <ak@suse.de>
Date:   Fri Jan 27 02:03:50 2006 +0100

    [PATCH] PCI: handle bogus MCFG entries
    
    Handle more bogus MCFG entries
    
    Some Asus P4 boards seem to have broken MCFG tables with
    only a single entry for busses 0-0.  Special case these
    and assume they mean all busses can be accessed.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 877be3f0304de16a77f11b2b47f1291b800d5479
Author: Arthur Othieno <apgo@patchbomb.org>
Date:   Wed Jan 18 21:12:57 2006 -0500

    [PATCH] PCI: cyblafb: remove pci_module_init() return, really.
    
    Richard Knutsson <ricknu-0@student.ltu.se> did the original pci_module_init()
    cleanups:
    
        http://marc.theaimsgroup.com/?l=linux-kernel&m=113330872125068&w=2
        http://marc.theaimsgroup.com/?l=linux-kernel&m=113330888507321&w=2
    
    Greg, on it's way upstream, pci_module_init() return sneaked back in for
    cyblafb?
    
        http://marc.theaimsgroup.com/?l=linux-pci&m=113652969209562&w=2
        http://marc.theaimsgroup.com/?l=linux-pci&m=113683930220421&w=2
    
    Remove for good.
    
    Signed-off-by: Arthur Othieno <apgo@patchbomb.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8737d6a90cd8b085c2ea9cb4c7443c87f86c3429
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:35:23 2006 -0600

    [PATCH] powerpc/PCI hotplug: shuffle error checking to better location.
    
    Error checking is scattered through various layers of the dlpar code,
    leading to a somewhat opaque code structure. This patch consolidates
    error checking in one routine, simplifying the code a tad. There's
    also some whitespace cleanup here too.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b64a71ab5c9098a79ccb463af968933483458a0f
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:32:58 2006 -0600

    [PATCH] powerpc/PCI hotplug: minor cleanup forward decls
    
    Minor cleanup. Move structure initializer to bottom of file,
    this allows elimination of eyeball-strain-inducing forward
    declarations.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f6afbad82c6b7bab0198442592b110341fb419ba
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:31:01 2006 -0600

    [PATCH] powerpc/PCI hotplug: cleanup: add prefix
    
    Minor cleanup. Add the prefix rpaphp_* to several generic-sounding routines.
    Remove rpaphp_remove_slot(), which is a one-liner.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e06b80b78db96ca272db4ec0b26ce1092a1a9704
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:28:22 2006 -0600

    [PATCH] powerpc/PCI hotplug: merge rpaphp_enable_pci_slot()
    
    Remove general baroqueness.  The function rpaphp_enable_pci_slot()
    has a fairly simple logic structure, once all of the debug printk's
    are removed. Its called from only one place, and that place also
    has a very simple structure once he printk's are removed.  Merge
    the two together.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8fe64399cccf8dddcc4e5eaff270a12064f6fe9f
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:26:27 2006 -0600

    [PATCH] powerpc/PCI hotplug: de-convolute rpaphp_unconfig_pci_adap
    
    Remove general baroqueness.  The function rpaphp_unconfig_pci_adapter()
    is really just three lines of code, once all the dbg printks are removed.
    And its called in only one place. So replace the call by the thre lines.
    Also, provide proper semaphore locking in the affected function
    disable_slot()
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8a85a70db8c65fd1703b4597f72fe6ee25642234
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:24:27 2006 -0600

    [PATCH] powerpc/PCI hotplug: remove remove_bus_device()
    
    The function rpaphp_eeh_remove_bus_device() is a dupe of
    eeh_remove_bus_device(). Remove it.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7fec77e4793f307b30846a3d4015d329ffc0b685
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:22:07 2006 -0600

    [PATCH] powerpc/PCI hotplug: merge config_pci_adapter
    
    Remove general baroqueness.  The function rpaphp_config_pci_adapter()
    is really just one line of code, once all the dbg printks are removed.
    And its called in only one place. So replace the call by the one line.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit eca845c71816669dace4bf1954d9ab276abb0002
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:20:26 2006 -0600

    [PATCH] powerpc/PCI hotplug: remove rpaphp_fixup_new_pci_devices()
    
    The function rpaphp_fixup_new_pci_devices() has been migrated to
    pcibios_fixup_new_pci_devices() in
    arch/powerpc/platforms/pseries/pci_dlpar.c
    This patch removes the old version.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 01657868be1c21b2b8b0e683ea24bdcc2331d522
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 18:18:26 2006 -0600

    [PATCH] powerpc/PCI hotplug: remove rpaphp_find_bus()
    
    The function rpaphp_find_pci_bus() has been migrated to
    pcibios_find_pci_bus() in arch/powerpc/platforms/pseries/pci_dlpar.c
    This patch removes the old version.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 53044f357448693f218cc4f053affe92ed414f9d
Author: Keck, David <david.keck@amd.com>
Date:   Mon Jan 16 15:22:36 2006 -0600

    [PATCH] PCI Hotplug: shpchp: AMD POGO errata fix
    
    This patch fixes the AMD POGO errata on the hotplug controller where the
    platform will lock up or reboot if PERR/SERR generation is enabled and a
    slot is sent an enable command.  This fix disables PERR/SERR generation
    before a slot is sent the enable command by first saving related
    registers, turning off SERR/PERR generation, enabling the slot, then
    restoring the registers.
    
    Signed-off-by: David Keck <david.keck@amd.com>
    Cc: Kristen Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3c0c6441883be7676b795939e268b90d6acab360
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Jan 12 14:36:25 2006 -0600

    [PATCH] PCI Hotplug: PCI panic on dlpar add (add pci slot to running partition)
    
    Removing and then adding a PCI slot to a running partition results in
    a kernel panic. The current code attempts to add iospace for an entire
    root bus, which is inappropriate, and silently fails.  When a pci device
    tries to use the iospace, a page fault is taken, as the iospace had not
    been mapped, and of course the page fault cannot be resolved.
    
    This only occurs for PCI adapters using pio, which may be why it hadn't
    been seen earlier (this seems to have been broken for a while).
    This patch has survived testing of dozens of slot add and removes.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dd8c49966854a5245f3ed4769c9114e7afd819ef
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Tue Jan 10 15:15:47 2006 -0600

    [PATCH] PCI Hotplug/powerpc: module build break
    
    The RPAPHP hoplug driver will not build as a module, because it calls
    on pci_claim_resource(), which is not exported. This exports the symbol.
    Problem reported by Olaf Hering <olh@suse.de>
    
    A grep indicates that building drivers/parisc/lba_pci.c
    would have trouble building as a module for the same reason.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2181c971952ec2af56cd9cc68453f7ad5a0a38d6
Author: Grant Coady <gcoady@gmail.com>
Date:   Sun Jan 15 16:21:27 2006 +1100

    [PATCH] PCI: pci_ids: remove duplicates gathered during merge period
    
    pci_ids.h: remove duplicates.  Compile tested allmodconfig.
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8cea8e9303d45556cb606cc8d9e41f889ff600c0
Author: Mark Rustad <MRustad@mac.com>
Date:   Thu Jan 5 22:47:29 2006 -0800

    [PATCH] PCI: restore 2 missing pci ids
    
    Somewhere between 2.6.14 and 2.6.15-rc3, some PCI ids were apparently
    removed.  The ecc.c module, which is not a part of the kernel.org tree, but
    included in some distributions, fails to compile.
    
    Signed-off-by: Mark Rustad <mrustad@mac.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 654143ee3a73b2793350b039a135d9cd3101147b
Author: Pavel Machek <pavel@ucw.cz>
Date:   Mon Jan 9 16:16:00 2006 +0100

    [PATCH] PCI Hotplug: fix up Kconfig help text
    
    Remove reference to pcihpfs that no longer exists.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>

commit 072888fa60af86c3159f9f3ed4e34364861bab3a
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Jan 8 20:11:59 2006 +0100

    [PATCH] PCI Hotplug: fix up coding style issues
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8169b5d2384a0acd9ea3bb86bf5988cd7d62d03a
Author: Grant Grundler <iod00d@hp.com>
Date:   Tue Jan 3 18:51:46 2006 -0800

    [PATCH] PCI: make it easier to see that set_msi_affinity() is used
    
    I missed this usage in drivers/pci/msi.h:
    
    #ifdef CONFIG_SMP
    #define set_msi_irq_affinity    set_msi_affinity
    #else
    #define set_msi_irq_affinity    NULL
    #endif
    
    set_msi_affinity() is declared and exclusively used in msi.c.
    Here's a better way so (hopefully) history doesn't repeat itself.
    
    Signed-off-by: Grant Grundler <iod00d@hp.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f8d65713332cf6306889a3036142a17e01e3447e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 03:25:37 2006 +0100

    [PATCH] PCI: drivers/pci/pci.c: #if 0 pci_find_ext_capability()
    
    This patch #if 0's the unused global function pci_find_ext_capability().
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b6ebb2659065b6e03605e7f0c69449bda382261a
Author: Jason Gaston <jason.d.gaston@intel.com>
Date:   Mon Jan 9 10:53:45 2006 -0800

    [PATCH] PCI: irq and pci_ids: patch for Intel ICH8
    
    This patch adds the Intel ICH8 DID's to the irq.c and pci_ids.h files.
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 051d9897731abfac62c4d1a2efcef83a89bd4482
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Sat Dec 3 02:34:12 2005 +0100

    [PATCH] pci: Schedule removal of pci_module_init
    
    Scheduled the removal of pci_module_init.
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b4b2c0411e25c8bd001c683be52a2a5996ea689a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 29 20:07:25 2005 +0100

    [PATCH] PCI: schedule PCI_LEGACY_PROC for removal
    
    PCI_LEGACY_PROC is deprecated since 2.5.53 in favor of lspci(8).
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0cbd782507c502428c8ab3e91bee3940c19ac4d4
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 31 17:53:37 2006 -0800

    [DCCP] ipv6: dccp_v6_send_response() has a DST leak too.
    
    It was copy&pasted from tcp_v6_send_synack() which has
    a DST leak recently fixed by Eric W. Biederman.
    
    So dccp_v6_send_response() needs the same fix too.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 78b910429e2c037533d2a7bd9e95b4f94f905ef8
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Tue Jan 31 17:51:44 2006 -0800

    [IPV6] tcp_v6_send_synack: release the destination
    
    This patch fix dst reference counting in tcp_v6_send_synack
    
    Analysis:
    Currently tcp_v6_send_synack is never called with a dst entry
    so dst always comes in as NULL.
    
    ip6_dst_lookup calls ip6_route_output which calls dst_hold
    before it returns the dst entry.   Neither xfrm_lookup
    nor tcp_make_synack consume the dst entry so we still have
    a dst_entry with a bumped refrence count at the end of
    this function.
    
    Therefore we need to call dst_release just before we return
    just like tcp_v4_send_synack does.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f9d9516db71eb3a8547948cdddc139eb1c1b9aee
Author: Sam Ravnborg <sam@ravnborg.org>
Date:   Tue Jan 31 17:47:02 2006 -0800

    [NET]: Do not export inet_bind_bucket_create twice.
    
    inet_bind_bucket_create was exported twice.  Keep the export in the
    file where inet_bind_bucket_create is defined.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3f4cfc2d11c9e29709e6f0f3add54039614d847a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 31 17:44:07 2006 -0800

    [BRIDGE]: Fix device delete race.
    
    This is a simpler fix for the two races in bridge device removal.
    The Xen race of delif and notify is managed now by a new deleted flag.
    No need for barriers or other locking because of rtnl mutex.
    
    The del_timer_sync()'s are unnecessary, because br_stp_disable_port
    delete's the timers, and they will finish running before RCU callback.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5d39a795bfa217b5f7637028c83ab5cb291f37bf
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Jan 31 17:35:35 2006 -0800

    [IPV4]: Always set fl.proto in ip_route_newports
    
    ip_route_newports uses the struct flowi from the struct rtable returned
    by ip_route_connect for the new route lookup and just replaces the port
    numbers if they have changed. If an IPsec policy exists which doesn't match
    port 0 the struct flowi won't have the proto field set and no xfrm lookup
    is done for the changed ports.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 69396dcfa3c50a6b8d2caaccf5d1496ecd5594be
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 20 14:38:49 2006 -0800

    [PATCH] USB: gadget zero and dma-coherent buffers
    
    This makes sure that the correct length is reported when freeing
    a dma-coherent buffer; some platforms complain if that's wrong.
    It also makes two parameters readonly in sysfs, as they're not
    safe to change while tests are running.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c02c4bb2058587d3c012ec08268fd93fdc654ae7
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Jan 20 14:44:12 2006 -0800

    [PATCH] USB: USB authentication states
    
    Another hook needed for wireless USB:  there are states associated with the
    device authentication protocol.  Wireless devices must authenticate using
    the host system's keystore.
    
    Note that wired connections could also use this authentication protocol, if
    for no other reason than to support the most secure "simple" key exchange
    protocols for wireless devices.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 877260bd2618d1a6e6acf63100bd9d009b7c2856
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 19 23:59:12 2006 -0800

    [PATCH] USB: yealink printk warning fix
    
    drivers/usb/input/yealink.c: In function `usb_probe':
    drivers/usb/input/yealink.c:910: warning: int format, different type arg (arg 4)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6d453b9e3007da2c6cd8b71883505c381f0e0004
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Jan 17 15:39:25 2006 -0800

    [PATCH] USB: libusual: fix warning on 64bit boxes
    
    We cast an int to a void * which not unreasonably makes gcc suspicious.
    We don't actually care what type "type" is so use unsigned long so it
    matches pointer length on all platforms.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Acked-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d68dfcf3a1c2c4a74e6f08362ade5b97637147d
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Thu Jan 19 00:06:07 2006 +0300

    [PATCH] USB: arm26: fix compilation of drivers/usb/core/message.c
    
    drivers/usb/core/message.c:395: error: invalid use of undefined type `struct scatterlist'
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 05090fc969be0bd1e01c3798b17fe7947fad0efa
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Thu Jan 5 22:50:39 2006 -0800

    [PATCH] USB: Au1xx0: replace casual readl() with au_readl() in the drivers
    
    au_readl() does needed byteswapping, etc.
    
    Cc: Takashi Iwai <tiwai@suse.de>
    Cc: Jaroslav Kysela <perex@perex.cz>
    Acked-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit de289fdf6f6c51b21c94283ffa219d31e583f327
Author: Olaf Hering <olh@suse.de>
Date:   Fri Jan 6 12:45:28 2006 +0100

    [PATCH] USB: remove extra newline in hid_init_reports
    
    The warn() macro in include/linux/usb.h adds a newline.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 532a3de17038ea3bf75814778a6c4a25d01eab74
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 03:28:52 2006 +0100

    [PATCH] USB: drivers/usb/media/ov511.c: remove hooks for the decomp module
    
    - the decomp module is not intended for inclusion into the kernel
    - people using the decomp module from upstream will usually simply use
      the complete upstream 2.xx driver
    
    Therefore, there seems to be no good reason spending some bytes of
    kernel memory for hooks for this module.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mark McClelland <mark@ovcam.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7f2c01ab8ad50c74d174acdd814ddb53383bee93
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 00:43:39 2006 +0100

    [PATCH] USB: drivers/usb/media/w9968cf.c: remove hooks for the vpp module
    
    - the w9968cf-vpp module is not intended for inclusion into the kernel
    - the upstream w9968cf package shipping the w9968cf-vpp module suggests
      to simply replace the w9968cf module shipped with the kernel
    
    Therefore, there seems to be no good reason spending some bytes of
    kernel memory for hooks for the w9968cf-vpp module.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Luca Risolia <luca.risolia@studio.unibo.it>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bf8b2b5345145d41d39035b80f36c8e17342d833
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Dec 25 19:27:18 2005 -0800

    [PATCH] USB EHCI: fix gfp_t sparse warning
    
    Fix sparse warning:
    drivers/usb/host/ehci-hcd.c:719:35: warning: incorrect type in argument 3 (different base types)
    drivers/usb/host/ehci-hcd.c:719:35:    expected unsigned int [unsigned] mem_flags
    drivers/usb/host/ehci-hcd.c:719:35:    got restricted unsigned int [usertype] mem_flags
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 52ea1619d5103f80ec0472a3eb653a04c15326f2
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Wed Jan 4 18:10:44 2006 +0100

    [PATCH] USB: Remove LINUX_VERSION_CODE check in pwc/pwc-ctrl.c
    
    this patch removes compatibility with 2.4 kernel, which makes
    the code much easier to read.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 979063692726fa40863345fb1b62daf2f795ddc0
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Jan 3 10:30:31 2006 -0500

    [PATCH] USB: gadgetfs: set "zero" flag for short control-IN response
    
    This patch (as622) makes gadgetfs set the "zero" flag for control-IN
    responses, when the length of the response is shorter than the length of
    the request.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Acked-by: David Brownell <david-b@pacbell.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0be930c546ad056cad5780ee9424a28cf979cb42
Author: Olav Kongas <ok@artecdesign.ee>
Date:   Tue Dec 27 16:04:02 2005 +0200

    [PATCH] USB: isp116x-hcd: replace mdelay() by msleep()
    
    Replace mdelay() by msleep() in bus_suspend(); the rest of the system will
    gain 7ms. The related code is reorganized to minimize the number of
    locking/unlocking calls.
    
    The last hunk of the patch is the formatting change by Lindent.
    
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e9aa795aaed0b861aaa5a8075748c9c34e2620ee
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jan 23 17:17:21 2006 -0500

    [PATCH] USB: add might_sleep() to usb_unlink_urb() to warn developers
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 682d4c803f646d2ce09fde9ed7e99015598c3298
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Jan 18 23:55:08 2006 -0800

    [PATCH] USB: net2280 warning fix
    
    For some reason alpha doesn't include <linux/dma-mapping.h> where other
    architectures do; this makes net2280 include it explicitly.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 595b14cbccb2f9122bccfa6b55f2d9a380e9adeb
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Jan 18 17:36:58 2006 -0500

    [PATCH] USB: remove some left over devfs droppings hanging around in the usb drivers
    
    As there is no more usb devfs support, these bits would just confuse
    people.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 630aa3cfd5f0bae9547fe7dff175d7323d60140d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Jan 23 17:17:21 2006 -0500

    [PATCH] USB: UHCI: No FSBR until device is configured
    
    Some USB devices don't enumerate well with FSBR turned on.  This patch
    keeps devices on the low-speed part of the schedule (which doesn't use
    FSBR) until they have been fully configured.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0c7346229c48fa899a1837d9200894701ea81dac
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Jan 22 10:32:49 2006 -0800

    [PATCH] USB: EHCI, another full speed iso fix
    
    This patch adds a reinitializion for the uf variable that got modified
    by the preceding start-split bandwidth check.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dc41baf8181884770d77ce0cfc8ae9617cb8b02c
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Jan 26 07:44:31 2006 +0100

    [PATCH] USB HID: add blacklist entry for HP keyboard
    
    My earlier experiment (adding a clear-halt for the interrupt-in
    endpoint)  failed.  It turns out that it does cause problems for other
    devices.  And it wasn't needed anyway; a simple blacklist entry was
    enough to get my HP keyboard working.
    
    This patch (as643) removes the clear-halt call and adds the blacklist
    entry.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 885e77430d2adddfab3f2ca65e4d3e9f5d489c50
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 17 15:37:22 2006 -0800

    [PATCH] USB: add new auerswald device ids
    
    Add device support for a couple more Auerswald TK-devices.
    
    Via Thomas Jackle <dj-tj@gmx.de>, typed in from
    http://bugzilla.kernel.org/show_bug.cgi?id=5908.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fdf290fd6d6a17b40055359263ed6003e87cb89b
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Wed Jan 18 07:39:27 2006 +0100

    [PATCH] UEAGLE : cmv name bug (was cosmetic)
    
    this patch correct a possible bug with cmv_name being static. If there
    is 2 modems and the driver is scheduled when filling cmv_name this could
    result with garbage in cmv_name. We allocate cmv_name on the stack but
    with a small size in order to avoid that.
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e40abaf6336ef3756277bab70db47a47da4aa325
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Wed Jan 18 07:38:37 2006 +0100

    [PATCH] UEAGLE : cosmetic
    
    this patch is purely cosmetic. There is :
    - indentation cleaning
    - unneeded cast removing
    - comments cleaning
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3c9666cc18be1fc11698fc0181e124b44889cf37
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Wed Jan 18 07:38:19 2006 +0100

    [PATCH] UEAGLE : add iso support
    
    This patch adds the support for isochronous pipe.
    
    A new module parameter is added to select iso mode.  It is set to iso by
    default because bulk mode doesn't work well at high speed rate (>3 Mbps
    for upload).
    
    We use UDSL_IGNORE_EILSEQ flags because ADI firmware doesn't reply to
    ISO IN when it has nothing to send [1].
    
    [1]
    from cypress datasheet :
    
    The ISOSEND0 Bit (bit 7 in the USBPAIR Register) is used when the EZ-USB
    FX chip receives an isochronous IN token while the IN FIFO is empty. If
    ISOSEND0=0 (the default value), the USB core does not respond to the IN
    token. If ISOSEND0=1, the USB core sends a zero-length data packet in
    response to the IN token. The action to take depends on the overall
    system design. The ISOSEND0 Bit applies to all of the isochronous IN
    endpoints, IN-8 through IN-15.
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ab3c81ff639fbee4ab32af84c809d283b773084a
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 13 15:52:55 2006 +0100

    [PATCH] USBATM: semaphore to mutex conversion
    
    This is the usbatm part of the Arjan, Jes and Ingo
    mass semaphore to mutex conversion, reworked to apply on top
    of the patches I just sent to you.  This time, with correct
    attribution and signed-off lines.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a3673d3cd1cdeec6b503ffa418ca2d5aeff82fd7
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 11:12:58 2006 +0100

    [PATCH] USBATM: -EILSEQ workaround
    
    Don't throttle on -EILSEQ urb status if requested by a minidriver.
    It seems the ueagle modems are buggy, giving -EILSEQ when they
    have no data to send.  The ueagle change will be sent separately
    by the ueagle guys.  Patch by Matthieu Castet.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9b0e54addf3ea8488c7b57166fb38feeb8ea28fd
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 11:08:05 2006 +0100

    [PATCH] USBATM: bump version numbers
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e3fb2f641f421662ebda48763f2f03cb9bd29e82
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 11:06:46 2006 +0100

    [PATCH] USBATM: handle urbs containing partial cells
    
    The receive logic has always assumed that urbs contain an integral
    number of ATM cells, which is a bit naughty, though it never caused
    any problems with bulk transfers.  Isochronous urbs spank us soundly
    for this.  Fixed thanks to this patch, mostly by Stanislaw Gruszka.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 80aae7a17afd21f7ba900dd566fb23a2444021f8
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 10:59:23 2006 +0100

    [PATCH] USBATM: allow isochronous transfer
    
    While the usbatm core has had some support for using isoc urbs
    for some time, there was no way for users to turn it on.  While
    use of isoc transfer should still be considered experimental, it
    now works well enough to let users turn it on.  Minidrivers signal
    to the core that they want to use isoc transfer by setting the new
    UDSL_USE_ISOC flag.  The speedtch minidriver gets a new module
    parameter enable_isoc (defaults to false), plus some logic that
    checks for the existence of an isoc receive endpoint (not all
    speedtouch modems have one).
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6f7494759870ec6fbb066f7202c5585fe36fbe82
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 10:52:38 2006 +0100

    [PATCH] USBATM: measure buffer size in bytes; force valid sizes
    
    Change the module parameters rcv_buf_size and snd_buf_size to
    specify buffer sizes in bytes rather than ATM cells.  Since
    there is some danger that users may not notice this change,
    the parameters are renamed to rcv_buf_bytes etc.  The transmit
    buffer needs to be a multiple of the ATM cell size in length,
    while the receive buffer should be a multiple of the endpoint
    maxpacket size (this wasn't enforced before, which causes trouble
    with isochronous transfers), so enforce these restrictions.  Now
    that the usbatm probe method inspects the endpoint maxpacket size,
    minidriver bind routines need to set the correct alternate setting
    for the interface in their bind routine.  This is the reason for
    the speedtch changes.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 227d77611b31df5d9afa572b984f73640f54d490
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 10:13:19 2006 +0100

    [PATCH] USBATM: use dev_kfree_skb_any rather than dev_kfree_skb
    
    In one spot (usbatm_cancel_send) we were calling dev_kfree_skb with irqs
    disabled.  This mistake is just too easy to make, so systematically use
    dev_kfree_skb_any rather than dev_kfree_skb.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 72ef8ab43f5a82e9e2dea247702bf433d6509f87
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 10:07:08 2006 +0100

    [PATCH] USBATM: return correct error code when out of memory
    
    We weren't always returning -ENOMEM.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0e42a627ec3d8defa0c43cff94b8f2080a070716
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 10:05:15 2006 +0100

    [PATCH] USBATM: shutdown open connections when disconnected
    
    This patch causes vcc_release_async to be applied to any open
    vcc's when the modem is disconnected.  This signals a socket
    shutdown, letting the socket user know that the game is up.
    I wrote this patch because of reports that pppd would keep
    connections open forever when the modem is disconnected.
    This patch does not fix that problem, but it's a step in the
    right direction.  It doesn't help because the pppoatm module
    doesn't yet monitor state changes on the ATM socket, so simply
    never realises that the ATM connection has gone down (meaning
    it doesn't tell the ppp layer).  But at least there is a socket
    state change now.  Unfortunately this patch may create problems
    for those rare users like me who use routed IP or some other
    non-ppp connection method that goes via the ATM ARP daemon: the
    daemon is buggy, and with this patch will crash when the modem
    is disconnected.  Users with a buggy atmarpd can simply restart
    it after disconnecting the modem.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 233c08e0ff303e659a9003d49b15608f59f08a64
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 09:48:36 2006 +0100

    [PATCH] USBATM: xusbatm rewrite
    
    The xusbatm driver is for otherwise unsupported modems.
    All it does is grab hold of a user-specified set of
    interfaces - the generic usbatm core methods (hopefully)
    do the rest.  As Aurelio Arroyo discovered when he tried
    to use xusbatm (big mistake!), the interface grabbing logic
    was completely borked.  Here is a rewrite that works.
    
    Signed-off-by:	Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9a734efec36c991a74610c6c81d28d4222e1c02b
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 09:38:22 2006 +0100

    [PATCH] USBATM: kzalloc conversion
    
    Convert kmalloc + memset to kzalloc.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0dfcd3e4444e88285ee7c199d0cbda21551d8c5d
Author: Duncan Sands <baldrick@free.fr>
Date:   Fri Jan 13 09:36:20 2006 +0100

    [PATCH] USBATM: remove .owner
    
    Remove the unused .owner field in struct usbatm_driver.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 35644b0cce0ab8735944dcbfceb19e9e65da9a3d
Author: Duncan Sands <baldrick@free.fr>
Date:   Tue Jan 17 11:16:13 2006 +0100

    [PATCH] USBATM: add flags field
    
    Have minidrivers and the core signal special requirements
    using a flags field in struct usbatm_data.  For the moment
    this is only used to replace the need_heavy_init bind
    parameter, but there'll be new flags in later patches.
    
    Signed-off-by: Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0ec3c7e856319b600311750d784262caa8ed94b9
Author: Duncan Sands <baldrick@free.fr>
Date:   Tue Jan 17 11:15:13 2006 +0100

    [PATCH] USBATM: trivial modifications
    
    Formatting, changes to variable names, comments, log level changes,
    printk rate limiting.
    
    Signed-off-by:	Duncan Sands <baldrick@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7ce08c93e388922e25a96a7d9895784182e4c72c
Author: Luca Risolia <luca.risolia@studio.unibo.it>
Date:   Wed Jan 11 02:06:59 2006 +0000

    [PATCH] USB: Add ET61X[12]51 Video4Linux2 driver
    
    This patch adds a Video4Linux2 driver giving support
    to ET61X151 and ET61X251 PC Camera Controllers made by
    Etoms Electronics.
    
    Signed-off-by: Luca Risolia <luca.risolia@studio.unibo.it>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cd6fcc555fe278263880abdb93352ab205099db9
Author: Luca Risolia <luca.risolia@studio.unibo.it>
Date:   Fri Jan 13 17:19:43 2006 +0000

    [PATCH] USB: SN9C10x driver updates
    
    SN9C10x driver updates:
    
    - Use kzalloc() instead of kmalloc()
    - Move some macro definitions from sn9c102.h to sn9c102_core.c
    - Use vfree() and vmalloc_32() instead of rvfree() and rvmalloc()
    - Fix mmap() sys call
    - Documentation updates
    
    Signed-off-by: Luca Risolia <luca.risolia@studio.unibo.it>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e988fc8a56bb3f76624dd7b0fb13ae3eaccefa59
Author: Craig Shelley <craig@microtron.org.uk>
Date:   Fri Jan 20 00:06:19 2006 +0000

    [PATCH] USB: cp2101 Add new device IDs
    
    The attached patch adds four new device IDs for the CP2101 driver.
    Also 3 tab characters have been removed from device ID table.
    
    Signed-off-by: Craig Shelley <craig@microtron.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6cceb05f8df6e28ab90f44bdeba50d33928cdee5
Author: Denis MONTERRAT <denis.monterrat@sagem.com>
Date:   Thu Jan 19 14:52:38 2006 +0100

    [PATCH] USB: add new pl2303 device ids
    
    Signed-off-by: FALIPOU F Developer <fred.falipou@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 838b42814c640ddcc378ba29cd31ffd64fb36bc5
Author: Martin Gingras <martin.gingras@gmail.com>
Date:   Mon Jan 9 12:35:41 2006 -0500

    [PATCH] USB: pl2303: Added support for CA-42 clone cable
    
    Added support for CA-42 clone cable (www.ca-42.com)
    
    Signed-off-by: Martin Gingras <martin.gingras@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a001100d8e4bf8ad98663d3ec1b91e4161267937
Author: Juergen Schindele <schindele@nentec.de>
Date:   Mon Jan 9 08:51:48 2006 +0100

    [PATCH] USB: touchkitusb.c (eGalax driver) fix
    
    This patch corrects the URB initialisation for transfers
    like this is done in other drivers too.
    Without this patch no data was transmitted on a PXA270 OHCI
    platform. May apply to others too.
    
    Signed-off-by: Juergen Schindele <schindele@nentec.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5732ce8424527ec271e8fa43709948852aa3fc0a
Author: David Hollis <dhollis@davehollis.com>
Date:   Thu Jan 5 14:39:49 2006 -0500

    [PATCH] USB: asix - Add device IDs for 0G0 Cable Ethernet
    
    Add device IDs for the 0G0 Cable Ethernet device as reported by
    Charles Lepple <clepple@gmail.com>.
    
    Signed-off-by: David Hollis <dhollis@davehollis.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a966f3e7512084f916049579067f532908ba3a49
Author: Luca Risolia <luca.risolia@studio.unibo.it>
Date:   Thu Jan 5 18:14:04 2006 +0000

    [PATCH] USB: SN9C10x driver updates and bugfixes
    
    SN9C10x driver updates and bugfixes.
    
    Changes: + new, - removed, * cleanup, @ bugfix:
    
    @ fix poll()
    @ Remove bad get_ctrl()'s
    * Reduce ioctl stack usage
    * Remove final ";" from some macro definitions
    * Better support for SN9C103
    + Add sn9c102_write_regs()
    + Add 0x0c45/0x602d to the list of SN9C10x based devices
    + Add support for OV7630 image sensors
    + Provide support for the built-in microphone interface of the SN9C103
    + Documentation updates
    + Add 0x0c45/0x602e to the list of SN9C10x based devices
    
    Signed-off-by: Luca Risolia <luca.risolia@studio.unibo.it>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ec7dc8d254985dc4a31858c2c7c7029290e223dd
Author: Alexandre Duret-Lutz <adl@gnu.org>
Date:   Mon Dec 26 23:04:24 2005 -0800

    [PATCH] USB: usb-storage support for SONY DSC-T5 still camera
    
    I've been offered a nice Sony DSC-T5 digital camera, with a USB connection.
    Unfortunately it is not recognized by Linux 2.6.14.4's usb-storage.
    
    With the following change I'm able to mount and read my pictures:
    
    Signed-off-by: Phil Dibowitz <phil@ipom.com>

commit 86067eead5a6c6fa413ef5cb59f7129f5ed80292
Author: Oliver Neukum <oliver@neukum.org>
Date:   Sun Jan 8 12:39:13 2006 +0100

    [PATCH] USB: fix oops in acm disconnect
    
    this fixes an oops with disconnection in acm.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8e695cdbffe66f5d3142a363f47053be9f83a90d
Author: Oliver Neukum <neukum@fachschaft.cup.uni-muenchen.de>
Date:   Sat Jan 7 21:35:20 2006 +0100

    [PATCH] USB: cleanup of usblp
    
    this fixes
    -potential hang by disconnecting through usbfs
    -kzalloc
    -general cleanup
    -micro optimisation in interrupt handlers
    
    It compiles and I am printing.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit abb02fdf83f981f2511b3772db6e106845c70ad9
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Fri Dec 30 19:06:53 2005 -0800

    [PATCH] USB: usb-storage: Add support for Rio Karma
    
    This patch from Bob Copeland adds support for the Rio Karma portable
    digital audio player to the usb-storage driver.  The only thing needed to
    support this device is a one-time (per plugin) init command which is sent
    to the device.
    
    Signed-off-by: Bob Copeland <me@bobcopeland.com>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8e2ce4f92a0f34e8c3316ec58fd6eb6aa282448e
Author: Henk <Henk.Vergonet@gmail.com>
Date:   Fri Dec 30 19:41:11 2005 +0100

    [PATCH] drivers/usb/input/yealink.c: Cleanup device matching code
    
    This should fix things mentioned below:
    
    	"I was curious why my firewall was loading a 'phone driver'.
    	It turns out that the probing in the yealink driver is
    	a little too assuming..
    
    	static struct usb_device_id usb_table [] = {
    	    { USB_INTERFACE_INFO(USB_CLASS_HID, 0, 0) },
    	    { }
    	};
    
    	So it picked up my UPS, and loaded the driver.
    	Whilst no harm came, because it later checks the vendor/product IDs,
    	this driver should probably be rewritten to only probe
    	for the device IDs it actually knows about.
    
    	Dave"
    
    Signed-off-by: Henk Vergonet <henk.vergonet@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 09c280a24650ff74e713742e94120fdf7765cda8
Author: Rui Santos <rsantos@grupopie.com>
Date:   Mon Jan 9 13:12:40 2006 +0000

    [PATCH] USB: ftdi: Two new ATIK based USB astronomical CCD cameras
    
    Documentation: Specify grayscale specification on ATIK-ATK16
       and ATIK-ATK16HR comments.
    New: Add ProductID and VendorID for devices ATIK-ATK16C and
       ATIK-ATK16HRC. These devices are also USB Astronomical CCD
       cameras that work through an FTDI 245BM chip, share the
       same base hardware but, it has a colour CCD chip instead
       of a grayscale one.
    
    Signed-off-by: Rui Santos <rsantos@grupopie.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ce40d290c111c3d418ef444f82c349de134a0a74
Author: Wouter Paesen <wouter@kangaroot.net>
Date:   Tue Jan 3 14:30:31 2006 +0100

    [PATCH] USB: ftdi_sio: new PID for PCDJ DAC2
    
    The attached patch adds a new PID for the ftdi_sio driver.  It will
    enable support for PC-DJ's DAC-2 controller module
    (more information on http://www.pcdjhardware.com/DAC2.asp)
    
    Signed-off-by: Wouter Paesen <wouter@kangaroot.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a94b52ac84828e193d18c96c1334c9997b524a35
Author: Ian Abbott <abbotti@mev.co.uk>
Date:   Mon Jan 9 17:11:40 2006 +0000

    [PATCH] USB: ftdi_sio: new IDs for Westrex devices
    
    This patch adds two new devices to the ftdi_sio driver's device ID
    table.  The device IDs were supplied by Cory Lee to support two POS
    printers made by Westrex International (Model 777 and Model 8900F).
    
    Signed-off-by: Ian Abbott <abbotti@mev.co.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 641adaaee18aacc4f4ba77850c2257373f1736d1
Author: Louis Nyffenegger <louis.nyffenegger@gmail.com>
Date:   Thu Jan 5 17:20:37 2006 +0100

    [PATCH] USB: new id for ftdi_sio.c and ftdi_sio.h
    
    this patch includes the Vendor Id for a optic fiber to USB device named
    TTUSB from thought Technology. It's just add the vendor Id to
    ftdi_sio.h and add the Vendor ID and model Id to table_combined.
    
    Signed-off-by: Louis Nyffenegger <louis.nyffenegger@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2c2e4a2e07f4c16486dd2ac859eb9c558b1c9935
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Thu Jan 5 00:26:30 2006 -0800

    [PATCH] USB: ub 05 Bulk reset
    
    For crying out loud, they have devices which do not like port resets.
    So, do what usb-storage does and try both bulk and port resets.
    We start with a port reset (which usb-storage does at the end of transport),
    then do a Bulk reset, then a port reset again. This seems to work for me.
    
    The code is getting dirtier and dirtier here, but I swear that I'll
    do something about it (see those two new XXX). Honest.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b31f821c6dee6f3ecfca6b2583a6552538fb91bf
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Thu Jan 5 00:14:02 2006 -0800

    [PATCH] USB: ub 04 Loss of timer and a hang
    
    If SCSI commands are submitted while other commands are still processed,
    the dispatch loop turns, and we stop the work_timer. Then, if URB fails
    to complete, ub hangs until the device is unplugged.
    
    This does not happen often, becase we only allow one SCSI command per
    block device, but does happen (on multi-LUN devices, for example).
    
    The fix is to stop timer only when we actually going to change the state.
    
    The nicest code would be to have the timer stopped in URB callback, but
    this is impossible, because it can be called from inside a timer, through
    the urb_unlink. Then we get BUG in timer.c:cascade(). So, we do it a
    little dirtier.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 65b4fe553bf43018c06740f3d1f6caf42cf95924
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Wed Dec 28 14:22:17 2005 -0800

    [PATCH] USB: ub 03 Oops with CFQ
    
    The blk_cleanup_queue does not necesserily destroy the queue. When we
    destroy the corresponding ub_dev, it may leave the queue spinlock pointer
    dangling.
    
    This patch moves spinlocks from ub_dev to static memory. The locking
    scheme is not changed. These spinlocks are still separate from the ub_lock.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b6daf7f50836c8ed12d8b0ec0113e415f04e8530
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 24 17:42:24 2006 -0800

    [PATCH] USB: fix ehci early handoff issues warning
    
    Cc: David Brownell <david-b@pacbell.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 401feafa621ba98ecaeed5db1a53ab878943c225
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Jan 24 07:15:30 2006 -0800

    [PATCH] USB: fix EHCI early handoff issues
    
    This moves the previously widely-used ehci-pci.c BIOS handoff
    code into the pci-quirks.c file, replacing the less widely used
    "early handoff" version that seems to cause problems lately.
    
    One notable change:  the "early handoff" version always enabled
    an SMI IRQ ... and did so even if the pre-Linux code said it was
    not using EHCI (and not expecting EHCI SMIs).  Looks like a goof
    in a workaround for some unknown BIOS version.
    
    This merged version only forcibly enables those IRQs when pre-Linux
    code says it's using EHCI.  And now it always forces them off "just
    in case".
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fad3aa1e8e2e4123a19b926fefd91ec63dd56497
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Feb 1 12:14:52 2006 +1100

    [XFS] Fix regression in xfs_buf_rele dealing with non-hashed buffers, as
    occur during log replay.  Novell bug 145204, Fedora bug 177848.
    
    SGI-PV: 948860
    SGI-Modid: xfs-linux-melb:xfs-kern:25064a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 3a69c7dc6f3d58aeb9ce5051fc7060d55e05c003
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Feb 1 12:14:34 2006 +1100

    [XFS] Interim solution for attribute insertion failure during file
    creation due to ENOSPC. The current solution removes the inode when the
    attribute insertion fails. Long term solution would be to make the inode
    creation and attribute insertion atomic.
    
    SGI-PV: 947610
    SGI-Modid: xfs-linux-melb:xfs-kern:205193a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7fb76aa07facce5cb9c8d26a0de09001a31eed0c
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 31 17:09:20 2006 -0800

    [SUNGEM]: Unbreak Sun GEM chips.
    
    Revert: 40727198bfb2ce5842a6e8c7f89cf8a40ff7bf14
    
    These PHY changes hang the sungem driver on startup with Sun chips on
    sparc64.  Hopefully we can redo these changes in a way that doesn't
    break non-Apple systems.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3fa97c9db4f6f93f41f7a40d08872dbfd8dc907e
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 31 16:34:26 2006 -0800

    [PATCH] "Fix uidhash_lock <-> RXU deadlock" fix
    
    I get storms of warnings from local_bh_enable().  Better-tested patches,
    please.
    
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8c475be7bf9b79e6417c08d7a921b2e8cb04258
Merge: 10379a2... 6fe8f47...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 16:21:44 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/x86

commit 10379a25fee8ddc8698d2f6c54ccedd4664c2941
Merge: 63b3ced... 3b0e8ea...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 16:20:55 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/agpgart

commit e4472cb3706ceea42797ae1dc79d624026986694
Author: Dave Jones <davej@redhat.com>
Date:   Tue Jan 31 15:53:55 2006 -0800

    [CPUFREQ] cpufreq_notify_transition cleanup.
    
    Introduce caching of cpufreq_cpu_data[freqs->cpu], which allows us to
    make the function a lot more readable, and as a nice side-effect, it
    now fits in < 80 column displays again.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 63b3ced0f80ae1c437620d3f7d6ff2bcf0745b0a
Merge: 28e0cf2... f9e6192...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 15:22:29 2006 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 28e0cf22c1221650b4bfba48808d966160c42320
Merge: 9aef3b7... c067286...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 15:09:20 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/cpufreq

commit 9aef3b7c208b216b54a2e6614c6287ca8a09cf6f
Merge: e0ae235... 61d67f2...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 14:14:02 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit e0ae23550ffd3bfe319fa66879779be1a9a4a155
Merge: dd1c185... a5b3c86...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 13:12:41 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit dd1c1853e2742f4938b271dbe0cee735e2ffa3d9
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 13:11:41 2006 -0800

    Fix ipv4/igmp.c compile with gcc-4 and IP_MULTICAST
    
    Modern versions of gcc do not like case statements at the end of a block
    statement: you need at least an empty statement.  Using just a "break;"
    is preferred for visual style.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 638e174688f58200d0deb7435093435e7d737b09
Merge: 8d58d77... d195ea4...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Tue Jan 31 18:49:28 2006 -0200

    Merge branch 'origin'

commit a5b3c86e4bfb5689d68932105d3fdd1477c9c281
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Tue Jan 31 13:17:55 2006 -0500

    [SCSI] ServeRAID: prevent seeing DADSI devices
    
    A critical thing the ServeRAID driver MUST do is hide the physical DASDI
    devices from the OS. It does this by intercepting the INQUIRY commands.
    
    In recent 2.6.15 testing, I discovered this to be failing.
    
    The cause was the driver assuming that the INQUIRY response data was in a
    simple single buffer, when it was actually a 1 element scatter gather list.
    
    This patch makes ips always look at the correct data when examining an
    INQUIRY response.
    
    Signed-off-by: Jack Hammer <jack_hammer@adaptec.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2254c86db124a37057116ad20a8de7b8483b6f44
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Tue Jan 17 17:06:29 2006 -0700

    [SCSI] fusion: add message sanity check
    
    This adds a sanity check in the interrupt routine
    insures incoming message frames are a valid
    message frames.
    
    The code for setting 0xdeadbeaf in the freed message
    frames, apparently was already submitted by Christoph
    in previous patch submission.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a69ac3248513ff0fbbdd8f316136036b3b8067a9
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Tue Jan 17 17:06:26 2006 -0700

    [SCSI] fusion: unloading the driver - only set asyn narrow for configured devices
    
    This patch inhibits sending spi negotiation parameters
    for non-configured devices from the slave_destroy function.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 335a94124470dd5be6c42378d1b7f7af9a80919e
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Tue Jan 17 17:06:23 2006 -0700

    [SCSI] fusion: unloading the driver results in panic - fix
    
    The ioc->alt_ioc->alt_ioc pointer is not getting cleared
    during driver unload time.   This dangling pointer
    can result in panic in certain circumstances, such
    as error recovery, or firmware download in flashless
    environments. This only impacts dual functions controllers,
    such as 1030. Please apply.
    
    This patch also includes a small cosmetic name change
    for mpt_spi_log_info.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 23f236ed2748fca0bcba304f4f9e3eacda51e91c
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 30 19:00:43 2006 +0100

    [SCSI] mptsas: don't complain on bogus slave_alloc calls
    
    When people use the userspace scanning facilities on SAS hardware the
    LLDD gets bogus slave_alloc calls.  Just fail those gracefully instead
    of printing a warning in mptsas and another one in the midlayer.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9f63bb73eb52df43f46ce2284759709fc40f4f52
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:26 2006 -0700

    [SCSI] fusion: add task managment response code info
    
    Adding verbose message returned from firmware
    when a task mangment request fails.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4ddce14e753fd4fe7445fa046a3aee155c2e48f4
Author: Christoph Hellwig <hch@infradead.org>
Date:   Tue Jan 17 13:44:29 2006 +0000

    [SCSI] fusion: add MSI support
    
    On Mon, Jan 16, 2006 at 06:53:24PM -0700, Moore, Eric wrote:
    > Adding MSI support, and command line for enabling
    > it.  By default, the command line option has MSI disabled.
    
    mpt_msi_enable is initialized to 0 implicitly, no need to do that.  Also
    replace if (mpt_msi_enable == 1) tests with just if (mpt_msi_enable).
    
    Updated patch below:
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7e55147fe3203b72e80186c45df9bf0fd6cd97c9
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:21 2006 -0700

    [SCSI] fusion: overrun tape fix
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ece50914d5ce5c238e07d644e58701c173c48b7d
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:19 2006 -0700

    [SCSI] fusion: add verbose messages for RAID actions
    
    A customer request to send raid asyn actions
    from firmware to the event syslog.  This shows
    when raid volumes go degraded, or complete resync,
    or volumes created/deleted, etc.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 928496ac317cff0eaf70aef2d5039a2f66966247
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:16 2006 -0700

    [SCSI] fusion: increase reply frame size from 0x40 to 0x50 bytes
    
    Increasing the reply frame size by 16 bytes, to
    be in sync with the other fusion drivers.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d66c7a0f46ce53f1252e03fe372e39dc2dfff1ea
Author: Christoph Hellwig <hch@infradead.org>
Date:   Tue Jan 17 13:43:14 2006 +0000

    [SCSI] fusion: setting timeouts in eh threads appropiatley for fc/sas/spi
    
    On Mon, Jan 16, 2006 at 06:53:13PM -0700, Moore, Eric wrote:
    > The task managment request timeout in the eh threads was set
    > for U320 timing, which is between 2-5 seconds.
    > This is too small for FC and SAS.
    > According to the firmware engineers, Fibre needs to be 40 seconds
    > and SAS needs to be 10 seconds.
    
    The timeout selection should probably be done in a little helper instead
    of duplicated in a few places.  Updated patch below.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 432b4c8b443af1b60cef7fcf90e8179cd8924f0a
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:11 2006 -0700

    [SCSI] fusion: mptsas, increase discovery timout to 300 seconds
    
    Increase the port enable timeout only for SAS from 30 to 300 seconds.
    A customer request for the handling large topologies.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d8e925dc8850c01e36e6b2acb08ed0fbdc38b9f1
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Mon Jan 16 18:53:06 2006 -0700

    [SCSI] fusion: spi bus reset when driver loads
    
    This patch is for spi.  This issues bus reset when driver
    loads. Handling cases when initator has negotiated for packetized,
    and target negotiated for non-packetized; effectly this bus reset
    is getting both target and initiator on the same sheet of music.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eb221849540b7f4165c58b6c79d98b97ac902fdb
Author: Hannes Reinecke <hare@suse.de>
Date:   Mon Jan 30 16:10:31 2006 +0100

    [SCSI] aic79xx: Fix timer handling
    
    Fix the timer handling in aic79xx to use the SCSI-ML provided handling
    instead of implementing our own.
    It also fixes a deadlock in the command recovery code.
    
    Signed-off-by: Hannes Reinecke <hare@suse.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d60256b1b3ceb79cb06a5dd5e259b23bd27d4c61
Author: Hannes Reinecke <hare@suse.de>
Date:   Tue Jan 24 10:45:35 2006 +0100

    [SCSI] aic7xxx: update documentation
    
    This patch updates the documentation for aic7xxx and aic79xx with fixes
    from the adaptec driver.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3fb086126462c2de06dddaec58981d8827be100d
Author: Hannes Reinecke <hare@suse.de>
Date:   Tue Jan 24 10:44:38 2006 +0100

    [SCSI] aic79xx: SLOWCRC fix
    
    This patch introduces the SLOWCRC handling for certain buggy chipsets.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 53467e636b7beb350c307cc88323aae4676577f2
Author: Hannes Reinecke <hare@suse.de>
Date:   Tue Jan 24 10:43:26 2006 +0100

    [SCSI] aic79xx: sequencer fixes
    
    This patch updates the aic79xx sequencer with latest fixes from adaptec.
    The sequencer code now corresponds with adaptec version 2.0.15.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2628ed2b1aa3fd115bb8e14925e180e9ecd07055
Author: Hannes Reinecke <hare@suse.de>
Date:   Tue Jan 24 10:41:45 2006 +0100

    [SCSI] aic7xxx: Update aicasm
    
    This patchset updates aicasm code with the latest fixes from adaptec.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 663e1aa12f9fc338fccee09f98d9f5bf68517f72
Author: James Bottomley <jejb@titanic.(none)>
Date:   Sun Jan 29 12:10:24 2006 -0600

    [SCSI] fusion: fix compile
    
    The prior fusion patches moved an invocation of a function,
    mptscsih_TMHandler(), static to mptscsih.c into mptsas.c
    
    Make the function unstatic, move the header to mptscsih.h and export it.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fda4c2c8d0c9e22e3b9eeb6d75706d876af988f8
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Wed Jan 25 18:05:21 2006 -0700

    [SCSI] fusion: bump version
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3bc7bf1d1294642f87c4f7df04c048dafa38ad51
Author: Michael Reed <mdr@sgi.com>
Date:   Wed Jan 25 18:05:18 2006 -0700

    [SCSI] fusion: FC rport code fixes
    
    This fix's problems with recent fc submission regarding
    i/o being redirected to the wrong target.
    
    Signed-off-by: Michael Reed <mdr@sgi.com>
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 79de278e86121cd4473c276409f834aee87f3195
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Wed Jan 25 18:05:15 2006 -0700

    [SCSI] fusion: move sas persistent event handling over to the mptsas module
    
    This moves code intented for SAS from
    the generic mptscsih module over to the
    mptsas module.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7d3eecf7b2195c64d26f7e7d105d00e5a6dd702e
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Wed Jan 25 18:05:12 2006 -0700

    [SCSI] fusion: target reset when drive is being removed
    
    The issuing of the target reset
    used in device hot removal case so the
    firmware queue is flushed out off outstanding
    commands.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c73787eecdbe4691d4e3f989052db8b552e1ac34
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Jan 26 16:20:06 2006 -0700

    [SCSI] fusion: add support for raid hot add/del support
    
    RAID event support.
    
    This will hot add and remove raid volumes
    when managment application creates and
    deletes the volumes.  The driver is basically
    responding to firmware asyn events, and reporting
    the changes to the above layers.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d99ca4180fe44ae7f409fc73f1a09f270b8d458a
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Thu Jan 26 16:20:02 2006 -0700

    [SCSI] scsi_transport_sas.c: display port identifier
    
    This patch displays the port identifier on
    the folder attribute; located in the middle digit.
    
    /sys/class/sas_rphy/rphy-%x:%x:%x
    
    The port identifier is basically the unique identifier
    for each sas domain.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d195ea4b1456192abe780fd773778cbe9f6d77ea
Merge: bb4bc81... df7559d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 11:31:54 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit bb4bc81a234c66e8d8a4475110fa2d7988a34671
Merge: adac166... 14e54cc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 11:31:02 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit adac1665234dd966990af846eccd20b7f4923279
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Jan 25 19:50:12 2006 +0100

    [PATCH] rcu_torture_lock deadlock fix
    
    rcu_torture_lock is used in a softirq-unsafe manner, but it is also
    taken by rcu_torture_cb(), which may execute in softirq-context,
    resulting in potential deadlocks.
    
    The fix is to acquire rcu_torture_lock in a softirq-safe manner.  With
    this fix applied, the rcu-torture code passes validation.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6bc2666ed6696c40ef055e88ffef0b7657437a4
Author: Ingo Molnar <mingo@elte.hu>
Date:   Thu Jan 26 01:42:11 2006 +0100

    [PATCH] fix deadlock in drivers/pci/msi.c
    
    The lock validator caught another one: drivers/pci/msi.c is accessing
    &irq_desc[i].lock with interrupts enabled (!).
    
    The fix is to disable interrupts properly.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4021cb279a532728c3208a16b9b09b0ca8016850
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Jan 25 15:23:07 2006 +0100

    [PATCH] fix uidhash_lock <-> RCU deadlock
    
    RCU task-struct freeing can call free_uid(), which is taking
    uidhash_lock - while other users of uidhash_lock are softirq-unsafe.
    
    The fix is to always take the uidhash_spinlock in a softirq-safe manner.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5bee775137c56ed993f1b3c9d66c268b3525d7d
Merge: 0827f2b... fddfdea...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 11:22:40 2006 -0800

    Merge branch 'for-linus' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 0827f2b698735aee7cfb2990d393a82f6e1690eb
Merge: 70b4d63... c6f0d75...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 10:29:35 2006 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 70b4d63e98fd93fb9742708a54f872cba24e0fea
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 30 20:24:38 2006 +0100

    [PATCH] Fix boot-time slowdown for measure_migration_cost
    
    This reduces the amount of time the migration cost calculations cost
    during bootup. Based on numbers by Tony Luck <tony.luck@intel.com>.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 7fcdf327bedfe9cc418af49429d0fc0e48d98de9
Merge: f7dd16b... 2c74088...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 10:21:13 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit f7dd16bf3a2e7e29670051a2488d4be1895e408d
Merge: 951069e... 22f01da...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 10:20:49 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 951069e311a2a931bf7c9d838db860f90bf14c45
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 31 10:16:55 2006 -0800

    Don't try to "validate" a non-existing timeval.
    
    settime() with a NULL timeval is silly but legal.
    
    Noticed by Dave Jones <davej@redhat.com>
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 726ecdcf688314aa8d4a4841f5f126c2cb4ecbf5
Author: Andy Gospodarek <andy@greyhouse.net>
Date:   Tue Jan 31 19:16:52 2006 +0100

    r8169: fix forced-mode link settings
    
    Allow the r8169 driver to set devices to be full-duplex only when
    auto-negotiate is disabled.
    
    Signed-off-by: Andy Gospodarek <andy@greyhouse.net>
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit c6f0d75a2defe8c7d8bf9f78de891cedc46b4b3e
Author: Daniel Drake <dsd@gentoo.org>
Date:   Sat Jan 21 19:35:34 2006 +0000

    [PATCH] Clarify help text of SKGE/SK98LIN/SKY2
    
    Some users have commented that it is unclear which driver they should be
    using for their Marvell/SysKonnect network adapter, and which ones
    are/aren't interchangable.
    
    This patch attempts to reduce the confusion.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0febb720fe77153f54b68fe7a3d7114f4c6711d8
Merge: b0b020d... ae7ec20...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Jan 31 11:50:11 2006 -0500

    Merge branch 'upstream-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit fddfdeafa8396f85c666bfc5e1e920eb535514cf
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 31 15:24:34 2006 +0100

    [BLOCK] A few kerneldoc fixups
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit b8e4d89357fc434618a59c1047cac72641191805
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Jan 27 16:43:00 2006 -0500

    [ACPI] ACPICA 20060127
    
    Implemented support in the Resource Manager to allow
    unresolved namestring references within resource package
    objects for the _PRT method. This support is in addition
    to the previously implemented unresolved reference
    support within the AML parser. If the interpreter slack
    mode is enabled (true on Linux unless acpi=strict),
    these unresolved references will be passed through
    to the caller as a NULL package entry.
    http://bugzilla.kernel.org/show_bug.cgi?id=5741
    
    Implemented and deployed new macros and functions for
    error and warning messages across the subsystem. These
    macros are simpler and generate less code than their
    predecessors. The new macros ACPI_ERROR, ACPI_EXCEPTION,
    ACPI_WARNING, and ACPI_INFO replace the ACPI_REPORT_*
    macros.
    
    Implemented the acpi_cpu_flags type to simplify host OS
    integration of the Acquire/Release Lock OSL interfaces.
    Suggested by Steven Rostedt and Andrew Morton.
    
    Fixed a problem where Alias ASL operators are sometimes
    not correctly resolved. causing AE_AML_INTERNAL
    http://bugzilla.kernel.org/show_bug.cgi?id=5189
    http://bugzilla.kernel.org/show_bug.cgi?id=5674
    
    Fixed several problems with the implementation of the
    ConcatenateResTemplate ASL operator. As per the ACPI
    specification, zero length buffers are now treated as a
    single EndTag. One-length buffers always cause a fatal
    exception. Non-zero length buffers that do not end with
    a full 2-byte EndTag cause a fatal exception.
    
    Fixed a possible structure overwrite in the
    AcpiGetObjectInfo external interface. (With assistance
    from Thomas Renninger)
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 6dea93477c3377cf4199fd37cc3fb11071987ae4
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Tue Jan 31 01:31:13 2006 -0500

    Input: hiddev - fix off-by-one for num_values in uref_multi requests
    
    Found this when working with a HAPP UGCI device. It has a usage with 7
    indexes. I could read them all one at a time, but using a multiref it
    would only allow me to read the first 6. The patch below fixed it.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 97d4ebfe7946bc9b89791c932a15c990a24aa94d
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Jan 31 01:31:07 2006 -0500

    Input: iforce - fix detection of USB devices
    
    Recent conversion to wait_event_interruptible_timeout() caused
    USB detection routine erroneously report timeouts for perfectly
    working devices.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 2c74088e4104a2a82bd773f79ae0344c22eceb8c
Author: Baruch Even <baruch@ev-en.org>
Date:   Mon Jan 30 20:54:39 2006 -0800

    [TCP] H-TCP: Fix accounting
    
    This fixes the accounting in H-TCP, the ccount variable is also
    adjusted a few lines above this one.
    
    This line was not supposed to be there and wasn't there in the patches
    originally submitted, the four patches submitted were merged to one
    and in that merge the bug was introduced.
    
    Signed-Off-By: Baruch Even <baruch@ev-en.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c5d90e000437a463440c1fe039011a02583a9ee5
Author: Dave Jones <davej@redhat.com>
Date:   Mon Jan 30 20:27:17 2006 -0800

    [IPV4] igmp: remove pointless printk
    
    This is easily triggerable by sending bogus packets,
    allowing a malicious user to flood remote logs.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 22f01da398069e823e79f1209518f0913e05fc47
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Jan 30 16:46:24 2006 -0800

    [SPARC]: Fix compile failures in math-emu.
    
    Kill debugging default switch cases in do_one_mathemu().
    That case is handled properly already and gcc hates
    the empty statement that results when the debug code is
    disabled.
    
    Pointed out by kaffe.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fd9cfdd11be3b37b5c919b64b43990f14a1587bd
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Jan 30 16:45:11 2006 -0800

    IB/mthca: Semaphore to mutex conversions
    
    Convert semaphores to mutexes in mthca.  Leave firmware command
    interface poll_sem and event_sem as semaphores.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit e3aa31c517cb6fd0a3d8b23e6a7e71a6aafc2393
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Jan 30 16:22:29 2006 -0800

    IB/mthca: Don't cancel commands on a signal
    
    We have run into the following problem: if a task receives a signal
    while in the process of e.g. destroying a resource (which could be
    because the relevant file was closed) mthca could bail out from trying
    to take a command interface semaphore without performing the
    appropriate command to tell hardware that the resource is being
    destroyed.
    
    As a result we see messages like
     ib_mthca 0000:04:00.0: HW2SW_CQ failed (-4)
    
    In this case, hardware could access the resource after the memory has
    been freed, possibly causing memory corruption.
    
    A simple solution is to replace down_interruptible() by down() in
    command interface activation.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    [ It's also not safe to bail out on multicast table operations, since
      they may be invoked on the cleanup path too.  So use down() for
      mcg_table.sem too. ]
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit e2c2fc2c8f3750e1f7ffbb3ac2b885a49416110c
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Mon Jan 30 16:00:40 2006 -0800

    [SCTP]: heartbeats exceed maximum retransmssion limit
    
    The number of HEARTBEAT chunks that an association may transmit is
    limited by Association.Max.Retrans count; however, the code allows
    us to send one extra heartbeat.
    
    This patch limits the number of heartbeats to the maximum count.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 81845c21dc1ec7ce2bf12845dbc01e4880f9ea9a
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Mon Jan 30 15:59:54 2006 -0800

    [SCTP]: correct the number of INIT retransmissions
    
    We currently count the initial INIT/COOKIE_ECHO chunk toward the
    retransmit count and thus sends a total of sctp_max_retrans_init chunks.
    The correct behavior is to retransmit the chunk sctp_max_retrans_init in
    addition to sending the original.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8e9e5f4f5eb1d44ddabfd1ddea4ca4e4244a9ffb
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 30 15:21:21 2006 -0800

    IB/srp: Semaphore to mutex conversion
    
    Convert srp_host->target_mutex from a semaphore to a mutex.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit cbd2981a97cb628431a987a8abd1731c74bcc32e
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Jan 30 15:20:35 2006 -0800

    IB/mthca: Relax UAR size check
    
    There are some cards around that have UAR (user access region) size
    different from 8 MB.  Relax our sanity check to make sure that the PCI
    BAR is big enough to access the UAR size reported by the device
    firmware instead.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ae7ec20582de0867abda66ad06d468ce12b231f2
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 30 19:23:17 2006 +0100

    [PATCH] PCMCIA=m, HOSTAP_CS=y is not a legal configuration
    
    CONFIG_PCMCIA=m, CONFIG_HOSTAP_CS=y doesn't compile.
    
    Reported by "Gabriel C." <crazy@pimpmylinux.org>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 1a1fedf4d3e27c920b8de92a429011fb11c89028
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Mon Jan 30 09:42:24 2006 -0600

    [PATCH] Typo corrections for ieee80211
    
    This patch, generated against 2.6.16-rc1-git4, corrects two typographical
    errors in ieee80211_rx.c and adds the facility name to a bare printk.
    
    Signed-Off-By: Larry Finger <Larry.Finger@lwfinger.net>
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 489f4458cd98592d0bc527d4a5ac1c1393aaf254
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Jan 24 16:37:41 2006 +0800

    [PATCH] ipw2200: Fix a variable referenced after kfree() bug
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 17ed081deed479702ee4896f6de40aa32ecd6644
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Jan 24 16:36:31 2006 +0800

    [PATCH] ipw2200: Fix sw_reset doesn't clear the static essid problem
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit f73cb83f1ace1a4bd3c57ae33f5c6c8bac9c0946
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Jan 24 16:36:22 2006 +0800

    [PATCH] ipw2200: Fix "iwspy ethx off" causes kernel panic
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit b6e4da72342cb075a2742c79e693c8edc1d55389
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Jan 24 13:49:32 2006 +0800

    [PATCH] ipw2100: Fix setting txpower failed problem
    
    The ipw2100 driver misunderstood the parameter of txpower.
    Tx Power off means turn off the radio, but the driver interpret it as
    "can't set txpower". So when getting the txpower, it sets disabled=1 to
    the iwconifg tool in managed mode. And the tool will display "Tx Power off"
    when disabled=1.
    
    Now, in managed mode, iwconfig will not show "TX Power" if the radio is not
    switched off. It will only display "Tx Power off" only if the radio is killed.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 3c5eca542d19cd50e9a028dc32897cd698dcc33e
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Tue Jan 24 13:49:26 2006 +0800

    [PATCH] ipw2100: Fix a gcc compile warning
    
    drivers/net/wireless/ipw2100.c:2236: warning: `ipw2100_match_buf' defined
    but not used
    
    Cc: Yi Zhu <yi.zhu@intel.com>
    Cc: James Ketrenos <jketreno@linux.intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 48bdc8ec4aa2ca04e339bf5c3a47677d8dd00bb6
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 30 16:09:35 2006 +0100

    [LIBATA] Blacklist certain Maxtor firmware revisions for FUA support
    
    It looks like they are either discarding or corrupting data when the FUA
    command is used, bad.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit cddfc12e2513a4229bad0d05fde2d40a75c3e197
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Jan 30 01:31:09 2006 -0800

    [SPARC64]: Kill compat_sys_clock_settime sign extension stub.
    
    It's wrong and totally unneeded.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 68ee3eb8295c9c164071fcbd367c419121bd55f8
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Sun Jan 29 20:25:49 2006 -0700

    [PARISC] New syscalls (inotify, *at, pselect6/ppoll, migrate_pages)
    
    Wire up some new syscalls that have been merged upstream,
      o inotify
      o openat et al
      o pselect6/ppoll
      o migrate_pages
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 275c6ce25d679a4c0981a9a259e60e732a123cc6
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:52:39 2006 -0500

    Input: a3d - convert to dynamic input_dev allocation
    
    Also set .owner in driver structure so we'll have a link between
    module and driver in sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 4d462b9e2372f9f5a885f8b7e1597fe7412347fd
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:52:26 2006 -0500

    Input: tmdc - handle errors from input_register_device()
    
    Also set .owner in driver structure so we'll have a link between
    module and driver in sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit ab52cd66ae4c3e097811b6c370de7fc057959419
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:52:18 2006 -0500

    Input: turbografx - handle errors from input_register_device()
    
    Also tgfx_remove shouldn't be marked __exit as it is also called from
    __init code.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 77fc46ca5b331df3fc0ffef24012ba0d51d601b3
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:52:11 2006 -0500

    Input: gamecon - handle errors from input_register_device()
    
    Also gc_remove shouldn't be marked __exit as it is also called from
    __init code.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit c7fd018d75cae2b0c1cf03003b38f4c76e3df826
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:52:04 2006 -0500

    Input: gamecon - fix crash when accessing device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 07cf779c0098fd0007d2348e1cf948cc07bfe096
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:51:56 2006 -0500

    Input: sidewinder - handle errors from input_register_device()
    
    Also set .owner in driver structure so we'll have a link between
    module and driver in sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 847fd5fbf70e82baf042556968f885066489b164
Author: Zinx Verituse <zinx@bluecherry.net>
Date:   Sun Jan 29 21:51:51 2006 -0500

    Input: sidewinder - fix an oops
    
    Dynalloc conversion strikes again...
    
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 2e9d675ed24bcefd0d99b531a9d7faf794b762c8
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:51:36 2006 -0500

    Input: db9 - handle errors from input_register_device()
    
    Also db9_remove shouldn't be marked __exit as it is also called from
    __init code.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 84c61896bd756a440c54be07b6e97ad230f31a16
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:51:31 2006 -0500

    Input: db9 - fix possible crash with Saturn gamepads
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 0399addd71565b27eae27821fa04dad44f8644fe
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:51:21 2006 -0500

    Input: grip - handle errors from input_register_device()
    
    Also set .owner in driver structure so we'll have a link between
    module and driver in sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 3575c3410071dc778d2d9c6002493a5dce73ec0b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:51:16 2006 -0500

    Input: grip - fix crash when accessing device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit ffc6b529e8c46c73827008c7406f43482d71beed
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 29 21:51:07 2006 -0500

    Input: make needlessly global code static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 74570d413cbb5cede06a0183a91d3006f134bf6b
Author: Kimball Murray <kimball.murray@stratus.com>
Date:   Sun Jan 29 21:50:59 2006 -0500

    Input: mousedev - fix memory leak
    
    Apparently, "while true; do cat </dev/null >/dev/input/mice; done" causes
    an OOM in a short amount of time. Funny that nobody noticed, it actually
    is very easy to trigger just by switching between VT1 and VT7...
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 5ae08f80ec5b2b08dd2f76a166140dd156fb31a1
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Sun Jan 29 21:50:52 2006 -0500

    Input: iforce - do not return ENOMEM upon successful allocation
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit a3f3f3176686ada02d9eb5e4a6d7dff1ee13396c
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 29 21:50:46 2006 -0500

    Input: psmouse - set name for Genius mice
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 01387959022def72f95f4bc1341aa69e32a06b30
Author: Alessandro Zummo <alessandro.zummo@towertech.it>
Date:   Sun Jan 29 21:50:40 2006 -0500

    Input: add ixp4xx beeper driver
    
    This is a driver for beeper found in LinkSys NSLU2 boxes. It should work
    on any ixp4xx based platform.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit a2ba82cd7de281721a875a73a5a5894882760fab
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Jan 27 23:59:36 2006 -0700

    [PARISC] Simplify DISCONTIGMEM in Kconfig
    
    parisc was previously displaying both the mm/Kconfig memory model
    menu, and its own prompt. Remove prompt and have CONFIG_64BIT toggle
    between DISCONTIGMEM and FLATMEM. Also remove the EXPERIMENTAL from
    discontigmem support... It's been running fine for months (years?)
    now.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9220a2d0daa1e6782f02d47303340d7b5ca62ac0
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Jan 29 12:40:57 2006 -0500

    [libata ahci] add another JMicron pci id

commit 1341c939222f4d1cc8d9eb2b794f26f089fe0a61
Author: Sumant Patro <sumantp@lsil.com>
Date:   Wed Jan 25 12:02:40 2006 -0800

    [SCSI] megaraid_sas: new template defined to represent each type of controllers
    
    This patch defines a new template to represent each type of
    controllers (identified by the processor used). The template has
    members that is set with appropriate values during driver
    initialisation. This change is done to support new controllers with
    minimal change to existing code. In future, for a new controller
    support, a template will be declared and its members initialised
    appropriately.
    
    Signed-off-by: Sumant Patro <Sumant.Patro@lsil.com>
    
    Rejections fixed and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cb59aa6a7ca1ae40fd436c45dff568a83f3fab2f
Author: Sumant Patro <sumantp@lsil.com>
Date:   Wed Jan 25 11:53:25 2006 -0800

    [SCSI] megaraid_sas: cleanup queue command path
    
    This patch (originally submitted by Christoph Hellwig) removes code
    duplication in megasas_build_cmd.  It also defines
    MEGASAS_IOC_FIRMWARE32 to allow 64 bit compiled applications to work.
    
    Signed-off-by: Sumant Patro <Sumant.Patro@lsil.com>
    
    Rejections fixed and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bd12097c7415c13aff53aed473eec92acd15712a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Jan 29 02:47:03 2006 -0500

    [libata ahci] Isolate Intel-ism, add JMicron JMB360 support
    
    Isolate some PCI config register bitbanging to Intel hardware, as it
    should have been all along.
    
    Add support for JMicron JMB360.

commit 2371408c021f961b92fd2c42480cfddc9c6254f0
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Sun Jan 29 00:49:09 2006 +0100

    r8169: prevent excessive busy-waiting
    
    The MII registers read/write function blindly busy waits for an
    amount of 1000 us (1 ms), then up to 200 ms. These functions are
    called from irq disabled context. Depending on the clock management,
    it triggers lost ticks events. Since the value is way above the
    standard delay required for mii register access, it strangely looks
    like a bandaid against posted writes.
    
    Fixes http://bugzilla.kernel.org/show_bug.cgi?id=5947
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit b0b020d4783fbc4cc477e2ca678ac47c50d5bc3e
Merge: 6651a5c... 4a99ac3...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Jan 28 16:06:30 2006 -0500

    Merge branch 'upstream-fixes' of git://git.kernel.org/pub/scm/linux/kernel/git/linville/wireless-2.6

commit 14e54cc391e22bd564993583464577e4e34a2701
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Sat Jan 28 20:54:50 2006 +0000

    [ARM] 3289/1: Enable the LCD support for Integrator/CP
    
    Patch from Catalin Marinas
    
    The LCD displays were no longer working with Integrator/CP after some
    changes to the setup code. This patch re-enables them.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1877c9ea66a29563987f22d0a86c66f438a87ce2
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Jan 27 18:36:11 2006 -0800

    [CIFS] Remove compiler warning
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit eb9bdaa3f3b9d30d09bcad47037216aa39639b8e
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Jan 27 15:11:47 2006 -0800

    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 292dd876ee765c478b27c93cc51e93a558ed58bf
Merge: d4ec6c7... 9fdb62a...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 27 17:18:29 2006 -0500

    Pull release into acpica branch

commit 51e9f2ff83df6b1c81c5c44f4486c68ed87aa20e
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Jan 27 16:50:27 2006 -0500

    [libata sata_sil] implement 'slow_down' module parameter
    
    On occasion, a user will submit a patch that enables the "mod15write"
    quirk for their device.  Enabling this quirk has the effect of clamping
    all ATA commands to no more than 15 sectors.  The intended use of this
    quirk is to stop the controller from generating FIS's of unusual size
    ("but Wesley, what about the FOUS's?"), which in turn works around
    problems in a <list> of hard drives.
    
    One side effect of this quirk is greatly decreased performance.  Users
    often enable the mod15write quirk to fix various system, power, chip,
    and/or driver problems.  For a few rare problematic cases, enabling this
    has cured lockups or data corruption.
    
    Rather than add bogus listings to the mod15write quirk list (I get a
    patch every month doing such), we add a 'slow_down' module parameter.
    This allows users to employ a performance sledgehammer in the hopes
    of curing a problem.  It defaults to off (0), of course.

commit 4a99ac3a9ee7e1b90ebc3ddbb44db75eef5c41e6
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Jan 19 16:21:19 2006 +0800

    [PATCH] ieee80211: Fix A band min and max channel definitions
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 55cd94aa1df8e575ab3236641d29d63ecdde5012
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Jan 19 16:20:59 2006 +0800

    [PATCH] ieee80211: Fix iwlist scan can only show about 20 APs
    
    Limit the amount of output given to iwlist scan.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit b6daa25d653f23252b340cbd7d2153d0b338e44c
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Jan 19 16:20:42 2006 +0800

    [PATCH] ieee80211: Fix problem with not decrypting broadcast packets
    
    The code for pulling the key to use for decrypt was correctly using
    the host_mc_decrypt flag.  The code that actually decrypted,
    however, was based on host_decrypt.  This patch changes this
    behavior.
    
    Signed-off-by: Etay Bogner <etay.bogner@gmail.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 4f95af5bb546a9e7f46ed10f5e0dbe1e42a77884
Author: Valdis Kletnieks <valdis.kletnieks@vt.edu>
Date:   Thu Jan 19 02:07:47 2006 -0500

    [PATCH] orinoco_cs: tweak Vcc debugging messages
    
    The current orinoco_cs.c can issue the exact same error message for
    2 different tests that can fail.  Alter them so we can tell which
    one of the two failed.
    
    Signed-off-by: Valdis Kletnieks <valdis.kletnieks@vt.edu>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit c0672860199ac009af7cf198a134ee7a4c3a9bb3
Author: Thomas Renninger <trenn@suse.de>
Date:   Fri Jan 27 16:15:26 2006 +0100

    [CPUFREQ] Get rid of userspace policy struct, make userspace gov _PPC safe.
    
    Userspace governor need not to hold it's own cpufreq_policy,
    better make use of the global core policy.
    Also fixes a bug in case of frequency changes via _PPC.
    Old min/max values have wrongly been passed to __cpufreq_driver_target()
    (kind of buffered) and when max freq was available again, only the old
    max(normally lowest freq) was still active.
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Dave Jones <davej@redhat.com>
    
     cpufreq_userspace.c |   53 +++++++++++++++++++++++++++-------------------------
     1 files changed, 28 insertions(+), 25 deletions(-)

commit 8d58d773b745950ac912e028b3c81f4902fbf91d
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Fri Jan 27 16:32:02 2006 -0200

    V4L/DVB (3453a): Alters MAINTAINERS file to point to newer v4l-dvb email
    
    - V4L/DVB Maintainers list changed. This patch alters the email to the
      new address.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>
    Acked-By: Johannes Stezenbach <js@linuxtv.org>

commit 6651a5c3839517685c601e44979f19de8b6249c3
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Fri Jan 27 01:05:51 2006 -0700

    [PATCH] mv643xx_eth: Fix for building as a module
    
    Enable mv643xx_eth driver to work when built as a module on
    mv64x60-based embedded systems.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b4de9051a98543f121d8dfbf32dd9d5999fb3896
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Fri Jan 27 01:04:43 2006 -0700

    [PATCH] mv643xx_eth: Whitespace cleanup
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 12ad74f88f6a2276901d416f7533f0a115ba6a15
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Fri Jan 27 01:03:38 2006 -0700

    [PATCH] mv643xx_eth: Update dev->last_rx on packet receive
    
    Update dev->last_rx on packet receive
    
    This fix corrects errors seen during configuration of the bonding driver.
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c7cd9014e6ea620bf9e1b52a22fadd7618b53276
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Fri Jan 27 01:02:05 2006 -0700

    [PATCH] mv643xx_eth: Fix spinlock recursion bug
    
    This patch eliminates a spinlock recursion bug introduced recently.
    Since eth_port_send() is always called with the lock held, we simply
    remove the locking inside the function itself.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6fe8f479d02e47c80f816b2b9f5d3996ebfe6af6
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 26 22:40:40 2006 -0800

    [X86] Add new Intel cache descriptors.
    
    From http://www.intel.com/design/xeon/applnots/24161830.pdf
    
    16MB of 16-way assoc 64 byte per cacheline L3 cache anyone? Yum.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit efd51b5c6798d103e3aa683464aebb2019b62119
Author: Ananda Raju <Ananda.Raju@neterion.com>
Date:   Thu Jan 19 14:11:54 2006 -0500

    [PATCH] s2io: scatter-gather fix
    
    	There is a problem with fragmented skb in s2io driver version 2.0.9.4
    	available in 2.6.16-rc1 kernel. The adapter will fail to transmit if
    	any scatter-gather skb arrives.  This patch provides fix for the above
    	described problem.
    
    Signed-off-by: Ananda Raju <ananda.raju@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c35ca399e09828f3f6b40c0007a95a6582d90347
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 20 21:13:17 2006 -0800

    [PATCH] b44: fix laptop carrier detect
    
    On my laptop, the b44 device is created and the carrier state defaults
    to ON when created by alloc_etherdev. This means tools like NetworkManager
    see the carrier as On and try and bring the device up.  The correct thing
    to do is mark the carrier as Off when device is created.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6f9d47220eb2d1b17a0a3ecaf1b564ff95b8393d
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Fri Jan 20 23:32:56 2006 +0300

    [PATCH] acenic: fix checking of read_eeprom_byte() return values
    
    tmp in ace_init is u32 thus rendering read_eeprom_byte() return values
    checks useless.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6a986ce45d45b099ddf676c340267765e76db91e
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Fri Jan 20 23:30:01 2006 +0300

    [PATCH] bonding: fix ->get_settings error checking
    
    Since get_settings() returns a signed int and it gets checked
    for < 0 to catch an error, res should be a signed int too.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 61a34a024fcd61ef7207405b2e4cef2c073b220c
Author: Jack Steiner <steiner@sgi.com>
Date:   Thu Jan 26 15:03:41 2006 -0800

    [IA64-SGI] Update TLB flushing code for SN platform
    
    This patch finishes support for SHUB2 (the new chipset). Most of the
    changes are performance related. A few changes are workarounds for
    "interesting" chipset features.
    
    Some temporary debugging code has also been deleted.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d4ec6c7cc9a15a7a529719bc3b84f46812f9842e
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 26 17:23:38 2006 -0500

    [ACPI] remove "Resource isn't an IRQ" warning
    
    In the case where a (broken) BIOS gives  us a blank _CRS for
    a PCI Interrupt Link Device, the acpi_walk_resources()
    will not terminate, but will then give the callback
    the resource end tag.  Ignore the end tag.
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 61d67f2e07d96d20d86135792ca591c491939c27
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Wed Jan 25 18:51:14 2006 -0500

    [IA64-SGI] Add PROM feature set for device flush list
    
    Introduce PRF_DEVICE_FLUSH_LIST flag for older PROMs.
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 466575f4e975db1207c5e1a7be34aeaec6ddba1e
Author: Jes Sorensen <jes@sgi.com>
Date:   Thu Jan 19 04:54:00 2006 -0500

    [PATCH] drivers/sn/ must be entered for CONFIG_SGI_IOC3
    
    Actually I think this is more appropriate so we don't end up with 17
    cases that add drivers/sn to the build lib.
    Include drivers/sn when CONFIG_IA64_SGI_SN2 or CONFIG_IA64_GENERIC
    is enabled.
    
    Acked-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 103ec0910d6b9401b7f72ba3ac71fed88306d2d0
Author: Keith Owens <kaos@sgi.com>
Date:   Wed Jan 18 15:38:14 2006 +1100

    [IA64-SGI] Recursive flags do not work for selective builds
    
    arch/ia64/sn/Makefile sets CPPFLAGS, expecting that setting to
    propogate to all the subdirectories.  For a normal build with its
    recursive descent it does work, but doing a selective build like
    'make arch/ia64/sn/kernel/io_init.i' does not do a recursive descent,
    it goes directly to arch/ia64/sn/kernel/Makefile so the flags do not
    get set.
    
    To support selective builds, set the flags in all the subordinate Makefiles.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit bb1d1073a10fdc8547e3eb821ee2488260094b39
Author: Brian King <brking@us.ibm.com>
Date:   Mon Jan 23 15:03:22 2006 -0600

    [SCSI] Prevent scsi_execute_async from guessing cdb length
    
    When the scsi_execute_async interface was added it ended up reducing
    the flexibility of userspace to send arbitrary scsi commands through
    sg using SG_IO. The SG_IO interface allows userspace to specify the
    CDB length. This is now ignored in scsi_execute_async and it is
    guessed using the COMMAND_SIZE macro, which is not always correct,
    particularly for vendor specific commands. This patch adds a cmd_len
    parameter to the scsi_execute_async interface to allow the caller
    to specify the length of the CDB.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0961dd0d217d072df736d964f47c2b6600931e19
Author: Thomas Renninger <trenn@suse.de>
Date:   Thu Jan 26 18:46:33 2006 +0100

    [CPUFREQ] _PPC frequency change issues
    
    BIOS might change frequency behind our back when BIOS changes allowed
    frequencies via _PPC.  In this case cpufreq core got out of sync.
    Ask driver for current freq and notify governors about a change
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit c70ca00f77eb1bb69c5a2d029b3a911bc88eac1b
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Wed Jan 18 23:45:39 2006 -0800

    [CPUFREQ] p4-clockmod: Workaround for CPU's with N60 errata
    
    Ignore clock frequencies below 2Ghz for CPU's detected with N60 errata bug.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 7efb83002bc20c5c72151d51468593834b510d71
Author: George G. Davis <davis_g@mvista.com>
Date:   Thu Jan 26 15:21:28 2006 +0000

    [ARM] 3269/1: Add ARMv6 MT_NONSHARED_DEVICE mem_types[] index
    
    Patch from George G. Davis
    
    This Freescale Semiconductor, Inc. contributed patch adds mem_types[]
    support for ARMv6 non-shared device memory region attributes. This
    implementation provides support for only first level section mapped
    non-shared devices. Second level non-shared device mappings are not
    yet supported.
    
    Signed-off-by: George G. Davis <gdavis@mvista.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0367a8d37af6028b64127ac70922717575b81113
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Thu Jan 26 15:20:50 2006 +0000

    [ARM] 3266/1: S3C2400 - adds macro S3C24XX
    
    Patch from Lucas Correia Villa Real
    
    This patch defines S3C2400 memory map and adds a S3C24XX macro for
    common resources between S3C2400, S3C2410 and S3C2440 cpus.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c43e6f027de1092678980e9e2494a6f9b051b93f
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Jan 26 14:12:06 2006 +0000

    [ARM] amba-clcd: Allow RGB555 and RGB565 with 16bpp
    
    Some folk want to use RGB555 rather tahn RGB565 with amba-clcd.
    Allow amba-clcd to accept either pixel format.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 15084a4a63bc300c18b28a8a9afac870c552abce
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Tue Jan 24 14:43:41 2006 -0500

    [SCSI] ips soft lockup during reset/initialization
    
    Resetting the adapter causes the ServeRAID driver to exceed
    the max time allowed by the softlock watchdog. Resetting the
    hardware can easily require 30 or more seconds. To avoid the
    
        "BUG: soft lockup detected on CPU#0!"
    
    result, this patch replaces the mdelay() calls in the
    initialization/reset routines with msleep().
    
    Signed-off-by: Jack Hammer <jack_hammer@adaptec.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 77427f514f88143bfef41ba8c1e624bc45f42297
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 20 14:53:25 2006 -0800

    [SCSI] qla2xxx: Drop legacy 'bypass lun scan for tape device' code.
    
    Internal lun discovery has been removed since fc_transport
    integration.  Short-circuiting for tape-devices in
    qla2x00_update_fcport() could inadvertently result in a
    blocked rport timing-out and its targets being reaped.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 052c40c83b4ca37be226112049b60097cb9961e1
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 20 14:53:19 2006 -0800

    [SCSI] qla2xxx: Correct issue where the rport's upcall was not being made after relogin.
    
    A target can LOGO an initiator at any time (i.e. during I/O,
    due to a controller hicup, or as a simple authentication
    mechanism after an initial CDB command), when this occurs,
    the driver attempts to relogin (PLOGI) to the device via the
    DPC thread.  Add code to make the appropriate upcall to the
    FC transport layer (fc_remote_port_add()) upon successful
    completion of the PLOGI.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d97994dc1fddcbb8212b745d9c9c9ce96262155c
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 20 14:53:13 2006 -0800

    [SCSI] qla2xxx: Correct synchronization issues during rport addition/deletion.
    
    The driver can typically detect port-loss during an
    interrupt context (i.e. via interrogation of a status IOCB's
    completion status [CS_PORT_LOGGED_OUT].  Due to the calling
    requirements of the fc_rport APIs, the driver would defer
    removal of the device to the default workqueue.  If the
    work-item was preceded by an event which caused the port to
    obtain visibility (relogin successful, target re-logged into
    the topology), deferred removal could inadvertently drop the
    rport.  The code also no longer defers removal via the
    default workqueue, instead opting for use of the driver's
    own DPC thread.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1d12d98d284665c37b75b9538916b5fbb8fcde37
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:   Fri Jan 20 01:05:00 2006 +0100

    [SCSI] dc395x: "fix" virt_addr calculation on AUTO_REQSENSE
    
    The patch below "fixes" calculation of the virt_addr for the AUTO_REQSENSE
    case. I put "fixes" in quotes because the real fix would be to completely
    remove it, but that's beyond the scope of this patch.
    
    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2b541f8f77fd339e4c5c5cbe8549b52445012704
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 19 13:34:44 2006 -0600

    [SCSI] ibmvscsi: handle re-enable firmware message
    
    New versions of the Power5 firmware can send a "re-enable" message to
    the virtual scsi adapter.  This fix makes us handle the message
    correctly.  Without it, the driver goes catatonic and the system crashes
    unpleasantly.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2dbb04c65561122cc53b22dbea9aa59f9609215b
Author: Jes Sorensen <jes@sgi.com>
Date:   Mon Jan 16 11:49:29 2006 -0500

    [SCSI] qla1280: remove < 2.6.0 support
    
    Remove support for kernels older than 2.6.0.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a54dfd2ce03446a180e5fb7c30e8a5307f276567
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Thu Jan 26 04:37:19 2006 -0200

    V4L/DVB (3442): Allow tristate build for cx88-vp3054-i2c
    
    
    - allow tristate build for cx88-vp3054-i2c
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 805f123d5026ed1e4c01c3ed4f7c23ca663ac727
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Tue Jan 24 13:15:06 2006 -0800

    V4L/DVB (3439a): media video stradis memory fix
    
    memset clears once set structure, there is actually no need for memset,
    because configure function do it for us.  Next, vfree(NULL) is legal, so
    avoid useless labels.
    
    Thanks Dave Jones for reporting this.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 339363c4c6fe01043c51e7d6e9fbeb8feee00841
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Jan 26 08:32:14 2006 +1100

    drm: Fixes sparse warnings in via_dmablit.c
    
    Fixes the following sparse warnings:
    
     drivers/char/drm/via_dmablit.c:111:35: warning: Using plain integer as NULL pointer
     drivers/char/drm/via_dmablit.c:584:23: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit dfcd77d16b5745fbfea7d5636f15fc80cc05fef8
Author: Tetsuo Takata <takatan.linux@gmail.com>
Date:   Wed Jan 25 11:12:40 2006 +0100

    [SCSI] Remove host template ordered_flush variable
    
    After the recent overhaul of the block layer the variable
    "ordered_flush" is no longer used.
    
    Signed-off-by: Tetsuo Takata <takatatt@intellilink.co.jp>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit de227f5f32775d86e5c780a7cffdd2e08574f7fb
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 15:31:43 2006 +1100

    drm: i915 patches from Tungsten Graphics
    
    Fix CMDBUFFER path, add heap destroy and flesh out sarea for rotation
    (Tungsten Graphics)
    
    From: Alan Hourihane <alanh@tungstengraphics.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 17cbbafe8e82bde4258e407ce043b61f4f9a350f
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Jan 24 20:26:48 2006 -0800

    [CIFS] Make cifs default wsize match what we actually want to send (52K
    typically - header + 13 pages).
    
    Forgetting to set wsize on the mount command costs more than 10% on large
    write (can be much more) so this makes a saner default.  We still shrink
    this default smaller if server can not support it.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 507d256bae9eef7acd5049af6e3f67c24904a1e4
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 14:58:58 2006 +1100

    drm: ati_pcigart: simplify page_count manipulations
    
    From: Nick Piggin <npiggin@suse.de>
    
    Allocate a compound page for the user mapping instead of tweaking the page
    refcounts.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit f1e5c03d34c39394781ae13543cd3355976e4812
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 14:54:15 2006 +1100

    drm: use NULL instead of 0
    From: Randy Dunlap <rdunlap@xenotime.net>
    
    Use NULL instead of 0 (sparse warnings):
    
    drivers/char/drm/ati_pcigart.c:64:10: warning: Using plain integer as NULL
    pointer
    drivers/char/drm/ati_pcigart.c:130:21: warning: Using plain integer as NULL
    pointer
    drivers/char/drm/ati_pcigart.c:171:14: warning: Using plain integer as NULL
    pointer
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 2fed3bd7436e8988980989493c16b4983be1a800
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 14:52:43 2006 +1100

    drm: add X600 PCI IDs
    
    From: Brice Goglin <Brice.Goglin@ens-lyon.org>
    
    Now that Xorg 6.9/7.0 has been released, DRI is supported on more Radeon
    cards without ATI proprietary drivers.  I got my X300 to work without
    problem.  But, another Radeon X600 required to add its PCI ids to the
    Radeon driver.  Patch is attached.
    
    I can't be sure about the "CHIP_RV350", I copied it from the X300 entry
    (from http://dri.freedesktop.org/wiki/ATIRadeon, X600 is a rv380 chip while
    X300 is a rv370).  But, at least it works now.
    
    Signed-off-by: Brice Goglin <Brice.Goglin@ens-lyon.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 5457f38e01ae2d296ff49db42254679018f13fa9
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 14:34:33 2006 +1100

    drm: add i945GM PCI ID
    
    From: Charles F. Johnson <charles.f.johnson@intel.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit d59cc22f7ce48bf5454f12eec8603bff81c34cdb
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 25 14:31:45 2006 +1100

    drm: Fix sparce warning in radeon driver
    
    From: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
    
    drivers/char/drm/radeon_cp.c:1643:31: warning: Using plain integer as NULL
    pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 139366a093d1ce2749b1b4247947ceb9b78caa2a
Author: Jes Sorensen <jes@sgi.com>
Date:   Tue Jan 24 04:23:16 2006 -0500

    [IA64-SGI] XPC remove unnecessary GFP_DMA flag
    
    Remove the GFP_DMA flag from XPC kmalloc() calls.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Acked-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9fdb62af92c741addbea15545f214a6e89460865
Merge: 3ee68c4... 876c184... 729b4d4... cf82478... dacd9b8... 63c94b6... 35f652b... 1a38416... 4a90c7e... aea19aa... 757b186... c4bb6f5...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Jan 24 17:52:48 2006 -0500

    [ACPI] merge 3549 4320 4485 4588 4980 5483 5651 acpica asus fops pnpacpi branches into release
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit e5ee7dda96476e09ee63af464ea17ddad1dc489d
Author: Greg Edwards <edwardsg@sgi.com>
Date:   Wed Jan 18 10:21:59 2006 -0600

    [IA64] sn2 maintainer update (Jes Sorensen)
    
    We lured Jes to the dark side, and he's going to take over as the sn2
    maintainer.  His experience and thoroughness will serve him well here.
    
    Signed-off-by: Greg Edwards <edwardsg@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit fd8b206d1621ad526e7b00dc26322f546b2a57fb
Author: Dean Roe <roe@sgi.com>
Date:   Tue Jan 24 14:49:43 2006 -0800

    [IA64-SGI] add sn_feature_sets bit
    
    SGI's prom has added a new feature which avoids an Altix-specific
    MCA that can occur with excessive use of ia64_pal_cache_flush.  This
    patch adds the #define to the sn_feature_sets.h to reflect that bit
    is taken.
    
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 79c83bd15af3b06079a9205db9c64c92ca1bd868
Author: Jack Steiner <steiner@sgi.com>
Date:   Tue Jan 24 16:32:11 2006 -0600

    [IA64] Scaling fix for simultaneous unaligned accesses
    
    Eliminate a hot shared cacheline that occurs if multiple cpus are
    taking unaligned exceptions.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit dc64161343015162a3fabfcd20b9b84409af67d5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 24 14:30:56 2006 -0800

    [IA64-SGI] sn_dma_alloc_coherent should use gfp flags
    
    Takashi helped us track down a bad page state bug we thought was coming
    from alsa.  It turns out we weren't paying attention to the gfp flags
    that were passed in to sn_dma_alloc_coherent().
    
    From: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Edwards <edwardsg@sgi.com>
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Jes Sorensen <jes@sgi.com>

commit 7add2a439868d636910fb6a216b12c7392778956
Author: David L Stevens <dlstevens@us.ibm.com>
Date:   Tue Jan 24 13:06:39 2006 -0800

    [IPV6] MLDv2: fix change records when transitioning to/from inactive
    
    The following patch fixes these problems in MLDv2:
    
    1) Add/remove "delete" records for sending change reports when
            addition of a filter results in that filter transitioning to/from
            inactive. [same as recent IPv4 IGMPv3 fix]
    2) Remove 2 redundant "group_type" checks (can't be IPV6_ADDR_ANY
            within that loop, so checks are always true)
    3) change an is_in() "return 0" to "return type == MLD2_MODE_IS_INCLUDE".
            It should always be "0" to get here, but it improves code locality
            to not assume it, and if some race allowed otherwise, doing
            the check would return the correct result.
    
    Signed-off-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 151bb0ffe51514979abf54063bb5c1dd49365137
Author: Jerome Borsboom <j.borsboom@erasmusmc.nl>
Date:   Tue Jan 24 12:57:19 2006 -0800

    [AF_KEY]: no message type set
    
    When returning a message to userspace in reply to a SADB_FLUSH or
    SADB_X_SPDFLUSH message, the type was not set for the returned PFKEY
    message. The patch below corrects this problem.
    
    Signed-off-by: Jerome Borsboom <j.borsboom@erasmusmc.nl>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cabcac0b296cd9683bc168d60839729b720dc2b7
Author: Thomas Graf <tgraf@suug.ch>
Date:   Tue Jan 24 12:46:33 2006 -0800

    [BONDING]: Remove CAP_NET_ADMIN requirement for INFOQUERY ioctl
    
    This information is already available via /proc/net/bonding/*
    therefore it doesn't make sense to require CAP_NET_ADMIN
    privileges.
    
    Original patch by Laurent Deniel <laurent.deniel@free.fr>
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2a792058c3aaf5fb806e09a456e25b9f4f748dd1
Author: Keith Owens <kaos@sgi.com>
Date:   Tue Jan 24 12:31:26 2006 +1100

    [IA64] Set the correct default OS status in the MCA handler
    
    sos->os_status is set to a default value of IA64_MCA_COLD_BOOT for an
    MCA, but then is incorrectly overwritten with IA64_MCA_SAME_CONTEXT (0).
    This makes SAL think that all MCAs have been recovered.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 60481b12b8816d431308c3d974e341ab8c8c0bcf
Author: Tetsuo Takata <takatan.linux@gmail.com>
Date:   Tue Jan 24 10:34:36 2006 +0100

    [BLOCK] ll_rw_blk: fix setting of ->ordered on init
    
    This makes XFS barrier mounts succeed on my SCSI system.
    
    Signed-off-by: Tetsuo Takata <takatatt@intellilink.co.jp>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 248d5ca5ed5feb7f1a68d213c0ff89c604a97179
Author: Nate Diller <nate.diller@gmail.com>
Date:   Tue Jan 24 10:09:14 2006 +0100

    [BLOCK] elevator: allow default scheduler to potentially be modular
    
    Jens has decided that allowing the default scheduler to be a module is
    a bug, and should not be allowed under kconfig.  However, I find that
    scenario useful for debugging, and wish for the kernel to be able to
    handle this situation without OOPSing, if I enable such an option in
    the .config directly.  This patch dynamically checks for the presence
    of the compiled-in default, and falls back to no-op, emitting a
    suitable error message, when the default is not available
    
    Tested for a range of boot options on 2.6.16-rc1-mm2.
    
    Signed-off-by: Nate Diller <nate.diller@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 5f00397644e01adfbebafb5d0ebc01eba522709d
Author: Nate Diller <nate.diller@gmail.com>
Date:   Tue Jan 24 10:07:58 2006 +0100

    [BLOCK] elevator: default choice selection
    
    My previous default iosched patch did a poor job dealing with the
    'elevator=' boot-time option.  The old behavior falls back to the
    compiled-in default if the requested one is not registered at boot
    time.  This patch dynamically evaluates which default
    to use, and emits a suitable error message when the requested scheduler
    is not available.  It also does the 'as' -> 'anticipatory' conversion
    before elevator registration, which along with a modified registration
    function, allows it to correctly indicate which default scheduler is
    in use.
    
    Tested for a range of boot options on 2.6.16-rc1-mm2.
    
    Signed-off-by: Nate Diller <nate.diller@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 53e86061b5bd4aece9bbb6b00b30720200596ecb
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 17 11:09:27 2006 +0100

    [BLOCK] ll_rw_blk: use preempt-disabling disk_stat_add() in completion
    
    It can legally be called with interrupts/preemption enabled.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 2cb2e147a6d20bffd1d6b7a79be7301560f751c3
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 17 09:04:32 2006 +0100

    [BLOCK] ll_rw_blk: make max_sectors and max_hw_sectors unsigned ints
    
    IDE lba48 can support full 64k request size, which overflows the
    max_hw_sectors variable.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit d3ed309a718bc6f79dc485a6d18731990daeee5e
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Jan 23 21:03:56 2006 -0800

    [SPARC64]: Implement __raw_read_trylock()
    
    generic__raw_read_trylock() just does a raw_read_lock() so that
    isn't very useful.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8798b3fb714477f5c88dde102c149d2b3e1d8def
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Jan 23 16:32:45 2006 -0800

    [NET]: Fix skb fclone error path handling.
    
    On the error path if we allocated an fclone then we will free it in
    the wrong pool.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 40727198bfb2ce5842a6e8c7f89cf8a40ff7bf14
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Jan 23 16:30:04 2006 -0800

    [SUNGEM]: Make PM of PHYs more reliable (#2)
    
    On my latest laptop, I've had occasional PHY dead on wakeup from
    sleep... the PHY would be totally unresponsive even to toggling the hard
    reset line until the machine is powered down... Looking closely at the
    code, I found some possible issues in the way we setup the MDIO lines
    during suspend along with slight divergences from what Darwin does when
    resetting it that may explain the problem. That patch change these and
    the problem appear to be gone for me at least... I also fixed an mdelay
    -> msleep while I was at it to the pmac feature code that is called
    when toggling the PHY reset line since sungem doesn't call it in an
    atomic context anymore.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8ae55f0489d9a3446fcdaf4ffedda249234b8572
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Mon Jan 23 16:28:02 2006 -0800

    [NET]: Fix some whitespace issues in af_packet.c
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2966b66c25f81ad2b3298b651614c6a3be1a977f
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Mon Jan 23 16:26:16 2006 -0800

    [NET]: more whitespace issues in net/core/filter.c
    
    This fixes some whitespace issues in net/core/filter.c
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 206cc83ccdc29e4a73786e9093f9eeec25868441
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:14:05 2006 -0800

    [BNX2]: Update version and copyright year
    
    Update version to 1.4.31 and add 2006 copyright.
    
    Skip the last digit when reporting the firmware version.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bc5a0690e917206b423c7b565c997b06675fb572
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:13:22 2006 -0800

    [BNX2]: Add PHY loopback test
    
    Enhance the ethtool loopback test with PHY loopback test.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 972ec0d4ba67bf0ec7f00cd93fbac47452f80d25
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:12:43 2006 -0800

    [BNX2]: Use netdev_priv()
    
    Replace dev->priv with netdev_priv(dev)
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1122db717ab5443ca9043fc0d23c1e862cfb3a61
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:11:42 2006 -0800

    [BNX2]: Fix nvram sizing
    
    Add code to correctly determine nvram size.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1269a8a64a37c8a06af672f4cff4fed16a478734
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:11:03 2006 -0800

    [BNX2]: Workaround hw interrupt bug
    
    Add workaround for a hardware interrupt issue. When using INTA,
    unmasking of the interrupt and the tag update should be done
    separately to avoid some spurious interrupts,
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ade2bfe7d1f0ea804d2e63209cc6318ad8bf17ae
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:09:51 2006 -0800

    [BNX2]: Fix UDP checksum verification
    
    Fix TCP/UDP checksum verification. Use status bits in the buffer
    descriptor instead of the checksum value to verify rx checksum.
    Using the checksum value will be incorrect if the UDP packet has
    zero in the UDP checksum field.
    
    Firmware update required for this fix.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dda1e390bf9e2889a3abc48590a015b307637753
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:08:14 2006 -0800

    [BNX2]: Misc. fixes
    
    Some misc. fixes for WoL, 5708 B1, and a typo '=' instead of '=='.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b090ae2b59f3db57732340c6af3beceec8d6c148
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:07:10 2006 -0800

    [BNX2]: Improve handshake with firmware
    
    Improve handshake with bootcode with the following changes:
    
    1. Increase timeout to 100msec and use msleep instead of udelay.
    
    2. Add more error checking for timeouts and errors.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e29054f92d7d575631691865c1b95bee5bc974cc
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Jan 23 16:06:06 2006 -0800

    [BNX2]: Fix VLAN on ASF
    
    Always set up the device to strip incoming VLAN tags when ASF is
    enabled. ASF firmware will not parse packets correctly if VLAN tags
    are not stripped.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4c8af5254e741983e141e10002e01abba87f8419
Merge: 0820e15... 3ee68c4...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jan 23 12:51:00 2006 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 0820e15a35b3cf37caadf550ddb7c75a7a77afd0
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jan 23 12:50:04 2006 -0800

    [CIFS] Do not zero non-existent iovec in SendReceive response processing.
    
    Could cause memory leak in some readpaths depending on what junk followed it in the stack.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 65f17ee28ef497f437ee82700dde2908ec7f6271
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Mon Jan 23 10:02:35 2006 -0200

    V4L/DVB (3434): changed comment in tuner-core.c
    
    - changed comment in tuner-core.c
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 608268b2d3e593897b4480311c8c633d9fd1dddf
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Jan 23 10:01:59 2006 -0200

    V4L/DVB (3433): Fix printk type warning
    
    - Fix printk type warning:
    drivers/media/dvb/b2c2/flexcop-pci.c:164: warning:
    format '%08x' expects type 'unsigned int', but argument 4 has type 'dma_addr_t'
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 3875818f832f568b1755d8a0ba20166cae5cd414
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 23 09:59:19 2006 -0200

    V4L/DVB (3431): fixed spelling error, exectuted --> executed.
    
    - fixed spelling error, exectuted --> executed.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit c73e4486bca4108cdc2dcc080306af4d7d75c1db
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Mon Jan 23 09:58:32 2006 -0200

    V4L/DVB (3429): Missing break statement on tuner-core
    
    - default_tuner_init was called twice due to a missing break statement.
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Acked-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit a22a68653d46caba4b6d22c111beba794ab5bae0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 23 09:58:17 2006 -0200

    V4L/DVB (3428): drivers/media/dvb/ possible cleanups
    
    - Make needlessly global code static
    - #if 0 the following unused global functions:
    - b2c2/flexcop-dma.c: flexcop_dma_control_packet_irq()
    - b2c2/flexcop-dma.c: flexcop_dma_config_packet_count()
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 20c40878e40581d847adc93d2b23411b5c3028fc
Author: Mike Isely <isely@pobox.com>
Date:   Mon Jan 23 09:54:33 2006 -0200

    V4L/DVB (3418): Cause tda9887 to use I2C_DRIVERID_TDA9887
    
    - The tda9887 has an I2C id reserved for it, but it hasn't been using
    it.  Probably an oversight.  Fixed with this patch.
    
    Signed-off-by: Mike Isely <isely@pobox.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit aad99f39bd6e2cd45d19d12fd5af9e5577186553
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 23 09:54:12 2006 -0200

    V4L/DVB (3417): make VP-3054 Secondary I2C Bus Support a Kconfig option.
    
    - make VP-3054 Secondary I2C Bus Support a Kconfig option.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 1bacb9f3aa327202ef779a1a073d5162148bf4d7
Author: Ian Pickworth <ian@pickworth.me.uk>
Date:   Mon Jan 23 09:53:35 2006 -0200

    V4L/DVB (3416): Recognise Hauppauge card #34519
    
    - Recognise Hauppauge card #34519
    
    Signed-off-by: Ian Pickworth <ian@pickworth.me.uk>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f69b5d9b7ba26af63807f57a00d86c9a124bdca8
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 23 09:52:57 2006 -0200

    V4L/DVB (3414): rename dvb_pll_tbmv30111in to dvb_pll_samsung_tbmv
    
    - rename dvb_pll_tbmv30111in to dvb_pll_samsung_tbmv
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 46365f3c15c93706df2cc19fa1a38902d8b29e85
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 23 09:52:39 2006 -0200

    V4L/DVB (3413): Kill nxt2002 in favor of the nxt200x module
    
    - Kill nxt2002 module in favor of nxt200x.
    - Repair broken nxt2002 support in the nxt200x module.
    - Make the flexcop driver use nxt200x instead of the nxt2002 module for the
      Air2PC 2nd generation PCI card.
    - Remove the nxt2002 module from cvs and kernel build.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit de7e8d78fca428c205ec1f81c0083570ec479c4e
Author: Peter Missel <peter.missel@onlinehome.de>
Date:   Mon Jan 23 09:51:17 2006 -0200

    V4L/DVB (3409): Mark Typhoon cards as Lifeview OEM's
    
    - Mark Typhoon cards as OEM of Lifeview.
    
    Signed-off-by: Peter Missel <peter.missel@onlinehome.de>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit bd7db9790038c25e1726c93e2e88667f1d58c108
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Jan 23 09:48:34 2006 -0200

    V4L/DVB (3405): Fixes tvp5150a/am1 detection.
    
    - Tvp5150 type were determined by a secondary register instead of
      using ROM code.
    - tvp5150am1 have ROM=4.0, while tvp5150a have ROM=3.33 (decimal).
      All other ROM versions are reported as unknown tvp5150.
    - Except for reporting, current code doesn't enable any special feature
      for tvp5150am1 or tvp5150a. Code should work for both models (but were
      tested only for tvp5150am1).
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit e94785c9a1da97495129dfa18f5db27870adc115
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 23 09:48:02 2006 -0200

    VIDEO_CX88_ALSA must select SND_PCM
    
    - VIDEO_CX88_ALSA must select SND_PCM
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 2ecdd76e9bac4c0d2e934ab153793afafadaaa62
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 23 09:47:40 2006 -0200

    V4L/DVB (3403): Add probe check for the tda9840.
    
    - Add probe check for the tda9840 to prevent misdetection of a Micronas
      dpl3518a as a tda9840.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9a610033977886d5d62e8b86a16956f30bdd30bd
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Jan 17 03:50:23 2006 -0200

    V4L/DVB (3392): Add PCI ID for DigitalNow DVB-T Dual, rebranded DViCO FusionHDTV DVB-T Dual.
    
    - Add PCI ID for DigitalNow DVB-T Dual,
    rebranded DViCO FusionHDTV DVB-T Dual.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 5a880279dc89cb9771dabc0d19b7f4341b8c7983
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Jan 23 17:06:19 2006 -0200

    V4L/DVB (3406): Added credits for em28xx-video.c
    
    - Added credits for sn9c102 kernel module and his author as
    some parts of em28xx-video were based.
    
    Acked-by: Luca Risolia <luca.risolia@studio.unibo.it>
    Acked-by: Markus Rechberger <mrechberger@gmail.com>
    Acked-by: Ludovico Cavedon <cavedon@sssup.it>
    Acked-by: Sascha Sommer <saschasommer@freenet.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit df7559d3440ff759ff6e1371ff722bb3a73a3639
Author: Timothy Charles McGrath <tmhikaru@gmail.com>
Date:   Mon Jan 23 09:50:09 2006 +0000

    [SERIAL] 8250 Documentation fix
    
    This fixes the documentation error for 'SERIAL_8250' in
    drivers/serial/Kconfig
    
    Signed-off-by: Timothy Charles McGrath <tmHikaru@gmail.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f671c45df23005692daa200aba768c642fb14ef2
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Sun Jan 15 14:10:29 2006 -0500

    [PARISC] Arch-specific compat signals
    
    Add enough arch-specific compat signals code to enable parisc64
    to compile and boot out of the mainline tree. There are likely still
    many dragons here, but this is a start to squashing the last
    big difference between the mainline tree and the parisc-linux tree.
    The remaining bugs can be squashed as they come up.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 16541c8745e28f62b3dcb6cb354b73c9c01ea178
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Sat Jan 21 21:55:06 2006 -0700

    [PARISC] Clean up printk in superio.c
    
    Clean up some of the messages printed by the superio driver
    by defining a prefix instead of duplicating it in every message.
    Also some small coding style cleanups.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 81a3de3efd61c2483a303cf0b6227525d2f28df7
Author: Helge Deller <deller@parisc-linux.org>
Date:   Sun Jan 15 12:11:50 2006 -0700

    [PARISC] Use DEBUG_KERNEL to catch used-after-free __init data
    
    Use CONFIG_DEBUG_KERNEL to catch kernel code which tries to access
    __init data after it is freed. When CONFIG_DEBUG_KERNEL is not set
    this also cleans up a WARN_ON at boot time. Also remove some dead
    code from mm/init.c
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 1bcdd8548286743e1d6b3d53c96a90c6da975620
Author: Helge Deller <deller@parisc-linux.org>
Date:   Fri Jan 13 13:21:06 2006 -0700

    [PARISC] Add CONFIG_DEBUG_RODATA to protect read-only data
    
    Add the parisc version of the "mark rodata section read only" patches.
    Based on code from and Signed-off-by Arjan van de Ven
    <arjan@infradead.org>, Ingo Molnar <mingo@elte.hu>, Andi Kleen <ak@muc.de>,
    Andrew Morton <akpm@osdl.org>, Linus Torvalds <torvalds@osdl.org>.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit a2bb214dcd1db862fdb6421e21f1cff0c3535162
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 17 11:43:48 2006 -0700

    [PARISC] Remove {,un}lock_kernel from perf ioctl
    
    Remove the lock_kernel/unlock_kernel pair in the ioctl method. It
    plainly wasn't protecting anything.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 85509c00073d4bdd1f4b7796180a15198f2e62da
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Tue Jan 17 22:33:32 2006 -0700

    [PARISC] Add chassis_power_off routine
    
    Define a chassis_power_off routine that machines which have a way
    to turn off the power supply can hook into. Formerly they were
    using pm_power_off, which is now being used by generic code. Make
    lasi.c use chassis_power_off instead of pm_power_off.
    
    Note, all machines need to call machine_power_off so that the
    switch can power off the machine, though halt -p may not necessarily
    be able to work properly on the machine.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 526110f8c8d2326413e2de5496d196ee9d4856ad
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Jan 13 22:05:21 2006 -0700

    [PARISC] Remove obsolete _hlt cruft
    
    Remove a bunch of obsolete code from process.c, these routines were
    likely imported from the i386 version of process.c when the port
    started. The routines are only used in floppy.c, which I seriously
    doubt will ever work on parisc, due to architectural assumptions.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9073315bbc3e2149d8ffcc4b86932ca6497c94ce
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Jan 13 22:05:21 2006 -0700

    [PARISC] Move pm_power_off export to process.c
    
    Move the EXPORT_SYMBOL() of pm_power_off from parisc_ksyms.c to the
    location of its definition in process.c
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 2e13b31e5b0ff0b1f1e3359ebf8ca46c356e9391
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Tue Jan 17 08:33:01 2006 -0700

    [PARISC] atomic64 support
    
    Implement atomic64_t so atomic_long_t works on parisc. Also
    clean up some of the coding style in atomic.h, and make sure
    ATOMIC_INIT is cast properly.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 96629c0b111dbb31d14338a55b7f650e9c490284
Author: Helge Deller <deller@parisc-linux.org>
Date:   Sun Jan 15 11:52:22 2006 -0700

    [PARISC] Clean up compiler warning in pci.c
    
    Avoid compiler warning for unused variables on 32bit kernels by
    conditionalizing the local variables on CONFIG_64BIT. PCI_HOST_ADDR()
    only uses the hba argument on 64bit compiles.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 10992092a8a6e445199f30e56789322851479019
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Jan 13 22:05:21 2006 -0700

    [PARISC] Use F_EXTEND() for COMMAND_GLOBAL
    
    Instead of wrapping the define of COMMAND_GLOBAL in #ifdef __LP64__
    use the F_EXTEND() macro defined in asm/io.h, which is the preferred
    way of extending mmio space addresses for either 32 or 64 bit machines.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 370361f884c032216ece841ac5328393b136f0bb
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Wed Jan 11 15:11:30 2006 -0700

    [PARISC] Fix floating point invalid exception trap handler
    
    Fix our trap handler to issue the correct floating point exception
    for both types of invalid trap.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit c475eea2929a7f0dac21d20e10562a491fcf7c45
Author: Helge Deller <deller@parisc-linux.org>
Date:   Sun Jan 15 12:11:50 2006 -0700

    [PARISC] Drop unused do_check_pgt_cache()
    
    Drop the unused do_check_pgt_cache routine from mm/init.c and its
    prototype in asm/pgalloc.h
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit c742842223269eb8eb4b86ac05ad07e6e156526b
Author: Thibaut VARENE <varenet@parisc-linux.org>
Date:   Wed Jan 11 13:59:53 2006 -0700

    [PARISC] pdc_stable version 0.22
    
    pdc_stable v0.22, changes since v0.10:
    
      o renamed root subsystem from 'pdc' to 'stable'
      o split 'info' into several files, one per PDC field
      o implemented 'autoboot' and 'autosearch' write calls to toggle
        these flags
      o grant read permission to all users on "safe" files
      o more code cleanup (removed duplicate code)
      o avoid bad stable storage clobbering by write locking critical sections
      o print consistent data as well
      o SMP cleanups
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 2c9aadabf454fb07b8f7533096e22bf005dd08df
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Thu Jan 19 23:38:03 2006 -0700

    [PARISC] Remove unnecessary extern declarations from asm/pci.h
    
    Remove two unnecessary extern declarations from asm/pci.h.
    They collide with what gcc4.0 assumed was static (and should be static).
    Found by Joel Soete.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit cb6fc18e9ca615f03d18e60c49855b434ca2e51e
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 17 12:40:40 2006 -0700

    [PARISC] Use kzalloc and other janitor-style cleanups
    
    Helge,
      o Convert a bunch of kmalloc/memset uses to kzalloc.
      o pci.c: Add some __read_mostly annotations.
      o pci.c: Move constant pci_post_reset_delay to asm/pci.h
      o grfioctl.h: Add A4450A to comment of CRT_ID_VISUALIZE_EG.
      o Add some consts to perf.c/perf_images.h
    
    Matthew,
      o sticore.c: Add some consts to suppress compile warnings.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit a1c744439591b1d4350f0926615d501e7cfbb708
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 17 11:05:35 2006 -0700

    [PARISC] Update b180_defconfig
    
    Update b180_defconfig to be more usable on other similar machines.
    Enabling Lasi 82596, Harmony, Mux console, CCIO, HPPB, etc., means
    this config is suitable for not only BXXX machines, but also CXXX
    and JXXX class machines.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4415863773eb0eeceba7318238ec0f63b0b5847a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sun Jan 22 12:12:01 2006 -0800

    [SPARC]: Increase NR_SYSCALLS to 299
    
    To let new syscalls through.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d1d051b28e9d3c3bed0bd15a2b49df3d04f7768f
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Fri Jan 20 09:29:27 2006 +0100

    [ALSA] check return code in pnp_register_card_driver()
    
    Signed-off-by: Adam Belay <ambx1@neo.rr.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ec80859ed292a55334df68fc2492f1303cf3a0ac
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Jan 22 09:28:15 2006 +0100

    [ALSA] cs4232/cs4236 - moved CS423X_DRIVER define outside CONFIG_PNP
    
    Modules: CS4236+ driver
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 168a95f170070ddda1ba7505c2ce9ae8b50f21f6
Author: Stelian Pop <stelian@popies.net>
Date:   Fri Jan 20 14:44:41 2006 +0100

    [ALSA] sound/ppc/pmac.c typo
    
    Modules: PPC PMAC driver
    
    In 2.6.16-rc1 there is a small typo introduced by the
    'Remove device_node addrs/n_addr' changes
    which prevents my Powerbook G4 sound from working:
    
    	Advanced Linux Sound Architecture Driver Version 1.0.11rc2
    	(Wed Jan 04 08:57:20 2006 UTC).
    	snd: can't request rsrc  0 (Sound Control: 0x80000000:80004fff)
    	ALSA device list:
    	   No soundcards found.
    
    The patch below fixes it. Of course, the patch fixing the i2c issues
    ('i2c_smbus_write_i2c_block_data' patch) needs to be applied to in
    order for the sound to completly work.
    
    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 20cd22620ad3a8a57a942fa1f301d47a1e15d67e
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 20 14:07:47 2006 +0100

    [ALSA] pcxhr - Fix printk warning
    
    Modules: Digigram PCXHR driver
    
    sound/pci/pcxhr/pcxhr.c: In function 'pcxhr_update_r_buffer':
    sound/pci/pcxhr/pcxhr.c:460: warning: unsigned int format, different type arg (arg 7)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e2eba3e7d911b26525c17f0b7e2bc45aad8e2629
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 20 14:07:13 2006 +0100

    [ALSA] hdsp - Fix printk warnings
    
    Modules: RME9652 driver
    
    sound/pci/rme9652/hdspm.c: In function 'snd_hdspm_preallocate_memory':
    sound/pci/rme9652/hdspm.c:3327: warning: int format, different type arg (arg 4)
    sound/pci/rme9652/hdspm.c:3331: warning: int format, different type arg (arg 4)
    sound/pci/rme9652/hdspm.c: In function 'snd_hdspm_create':
    sound/pci/rme9652/hdspm.c:3513: warning: int format, different type arg (arg 4)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 80faf041cd731bde220523166f016377e1765acd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Jan 20 14:03:39 2006 +0100

    [ALSA] sb16 - Fix duplicated PnP entry
    
    Modules: SB16/AWE driver
    
    Fix the duplicated PnP entry between sb16 and sbawe drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 62af9905a1f809094f5209ae15d2ce69599a8123
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Jan 20 14:03:06 2006 +0100

    [ALSA] opl3sa2 - Fix conflict of driver name on sysfs
    
    Modules: OPL3SA2 driver
    
    Fix the conflict of driver name 'opl3sa2' on sysfs with OSS driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2f25b7feab257bae406f1edb44438a347a1cc727
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 17 18:31:42 2006 +0100

    [ALSA] Fix a typo in snd_assert()
    
    Modules: CS46xx driver
    
    Reported by <dcb314@hotmail.com> in
    http://bugzilla.kernel.org/show_bug.cgi?id=5903
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7113d680d4824dfd4db43bc9880cdc98bcc309b9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 16 13:55:48 2006 +0100

    [ALSA] au88x0 - Fix a compile warning
    
    Modules: au88x0 driver
    
    Fixed an uninitialized variable.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cacd3347ce5b5ee4fce90c2627d80bf0ac15dec0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 16 13:00:50 2006 +0100

    [ALSA] via82xx - Add dxs_support entry for EpoX 9HEAI
    
    Modules: VIA82xx driver
    
    Added the dxs_support entry for EpoX 9HEAI.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 0fd1708a199bf55ebf21d611225866955babc1ba
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Jan 13 18:46:21 2006 +0100

    [ALSA] hda-codec - Fix capture on Sigmatel STAC92xx codecs
    
    Modules: HDA Codec driver
    
    Added the missing 'Capture Switch' control for Sigmatel STAC92xx codecs.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c9fe51c492fbb0de789a16828749595dc1985610
Author: Chris Ball <cjb@mrao.cam.ac.uk>
Date:   Fri Jan 13 13:26:42 2006 +0100

    [ALSA] intel8x0: Add quirk for Optiplex GX270
    
    Modules: Intel8x0 driver
    
    This patch adds a quirk entry for the Dell Optiplex GX270, on which
    the volume is set by the headphone control, not the master control.
    
    Signed-off-by: Chris Ball <cjb@mrao.cam.ac.uk>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ec6c8c3b2588261669c1b101338ab4fe43b1b9c0
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Fri Jan 13 13:17:43 2006 +0100

    [ALSA] ali5451: Add PCI_DEVICE and #defines in snd_ali_ids
    
    Modules: ALI5451 driver
    
    This patch uses #defines for the Vendor ID and Device ID and uses the
    new PCI_DEVICE macro.
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e3183ec9cd98db7800d078768b1c9edc2fd0425f
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Fri Jan 13 13:14:53 2006 +0100

    [ALSA] Prevent ALSA trident driver from grabbing pcnet32 hardware
    
    Modules: Trident driver
    
    Some pcnet32 hardware erroneously has the Vendor ID for Trident.  The
    pcnet32 driver looks for the PCI ethernet class before grabbing the
    hardware, but the current trident driver does not check against the
    PCI audio class.  This allows the trident driver to claim the pcnet32
    hardware.  This patch prevents that.
    
    Per Jiri Slaby's request, I changed the trident driver to use
    PCI_DEVICE macro and PCI ID #defines.
    
    This patch is untested on Trident 4DWAVE_DX hardware, but has been
    tested on pcnet32 hardware.
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 33159378254b67d0080a8d63197e95654b672cf7
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Fri Jan 13 08:11:22 2006 +0100

    [ALSA] usb-audio: fix non-48k sample rates with SB Audigy 2 ZS
    
    Modules: USB generic driver
    
    On the Audigy 2 ZS, disable all sample rate that are not a multiple of
    48 kHz because the others work only with the digital output which is
    not yet supported.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit fc80a2027afc31e8447a0691ea1279166ce5d69f
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Fri Jan 13 07:41:45 2006 +0100

    [ALSA] ymfpci: fix SPDIF sample rate information
    
    Modules: YMFPCI driver
    
    Set the (read only) sample rate field in the IEC958 mixer controls to
    48 kHz (instead of 44.1 kHz) because that is the rate actually
    supported by the hardware.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit da79e44df4fff22c7f815687ea210b2324b3507c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Jan 12 11:45:51 2006 +0100

    [ALSA] ac97 - Fix CLFE channel setting of ALC850
    
    Modules: AC97 Codec
    
    Fix CLFE channel setting of ALC850 (ALSA bug#1731).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 363fa1d615d93fe047659c16ff3277d78302b2eb
Author: Rene Rebe <rene@exactcode.de>
Date:   Thu Jan 12 11:42:47 2006 +0100

    [ALSA] AMD cs5536 ID for cs5535audio
    
    Modules: CS5535 driver
    
    Added AMD CS5536 to the cs5535audio driver.
    
    Signed-off-by: Rene Rebe <rene@exactcode.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4b2849283461a64c6d8cc6c7e72c62d7b4d91b43
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Thu Jan 12 08:17:49 2006 +0100

    [ALSA] usb-audio: don't use empty packets at start of playback
    
    Modules: USB generic driver
    
    Some widespread USB interface chips with adaptive iso endpoints hang
    after receiving a series of empty packets when they expect data (ALSA
    bug#1585).  To avoid this, we have to send packets containing silence
    (zero samples) instead.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 54c63cfc153c6909a5d5dbe6072e8704b091f30e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Jan 12 07:56:40 2006 +0100

    [ALSA] bt87x - fix detection of unknown card
    
    Modules: BT87x driver
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 128a46a55da81e563116e99e08e295fda41a145b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Jan 11 18:15:43 2006 +0100

    [ALSA] ac97 - Suppress jack sense controls for Thinkpads
    
    Modules: AC97 Codec
    
    Added a blacklist to suppress to create jack sense controls.
    These controls must be always off on some devices (e.g. Thinkpad).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b14e77e613a104c78ab455c0109b566dab430de6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Jan 11 18:10:50 2006 +0100

    [ALSA] hda-codec - Add model entry for Sony VAIO
    
    Modules: HDA Codec driver
    
    Added an ALC260 model entry (basic) for Sony VAIO.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8937fd88558d5a741d6ed29d5f8c327646a4f1db
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 10 11:14:49 2006 +0100

    [ALSA] pcxhr - Fix the sample rate changes
    
    Modules: Digigram PCXHR driver
    
    Fix the hardware set up when the sample rate is changed multiple times.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d2981393615f9a7adb8223a2ab1e0d7423d5c9dd
Author: Jason Gaston <Jason.d.gaston@intel.com>
Date:   Tue Jan 10 11:07:37 2006 +0100

    [ALSA] hda-intel - patch for Intel ICH8
    
    Modules: HDA Intel driver
    
    This patch adds the Intel ICH8 HD Audio DID to the hda_intel.c audio driver.
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit be3cd57aa65c366e479d6a21a5d49a08117b5d77
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Mon Jan 9 21:20:56 2006 +0100

    [ALSA] snd-ca0106: Fixed ALSA bug#1600
    
    Modules: CA0106 driver
    
    Description:
    Shuttle XPC SD11G5 which has an onboard Creative Labs
    Sound Blaster Live! 24-bit EAX
    high-definition 7.1 audio processor'.
    Fixes ALSA bug#1600
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit d99e98891ccde745c6c25b7a11a139123e74db4c
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 16:44:46 2006 +0100

    [ALSA] Remove BKL from sound/core/info.c
    
    Modules: ALSA Core
    
    Remove BKL from sound/core/info.c
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d0bd41e289768ff851066f1e952ae4c802c4dca7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Jan 9 12:36:53 2006 +0100

    [ALSA] via82xx - Add dxs_support entry
    
    Modules: VIA82xx driver
    
    Added a dxs_support entry for Jetway K8M8MS.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7eae36fbd5ea9db3d3fe0d671199121be782a5b3
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Jan 5 18:40:56 2006 +0100

    [ALSA] emu10k1 - Fix the confliction of 'Front' control
    
    Modules: EMU10K1/EMU10K2 driver
    
    Fix the confliction of 'Front' controls on models with STAC9758 codec.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6421776a6f8b8503a88e07b205162842d3f7d702
Author: Martin Drab <drab@kepler.fjfi.cvut.cz>
Date:   Thu Jan 5 18:33:56 2006 +0100

    [ALSA] bt87x - Fix the unability of snd-bt87x to recognize AVerMedia Studio
    
    Modules: BT87x driver
    
    The patch siply adds the PCI IDs of AVerMedia Studio No. 103, 203,
    and possibly even other versions with the same PCI IDs to the snd-bt87x
    driver and sets its default sampling rate to 48 kHz.
    
    Signed-off-by: Martin Drab <drab@kepler.fjfi.cvut.cz>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4d7d7596287588a953f450a3f18c5d4587f763d0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Jan 4 16:00:48 2006 +0100

    [ALSA] emu10k1 - Fix silence problems after suspend
    
    Modules: EMU10K1/EMU10K2 driver
    
    Fix silence problems on some boards after suspend/resume (bug#1674).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 59b1b34f47e6c8ac8f00660db2cd34216819b400
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Jan 4 15:06:44 2006 +0100

    [ALSA] Fix compilation without CONFIG_PNP
    
    Fix compilation of some ISA drivers without CONFIG_PNP.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d82ed2ffc2839413c20b41a271a4d8db12b0683c
Author: Ulrich Mueller <ulm@kph.uni-mainz.de>
Date:   Wed Jan 4 12:21:11 2006 +0100

    [ALSA] intel8x0 - Fix duplicate ac97_quirks entry
    
    Modules: Intel8x0 driver
    
    in recent -mm kernels additional quirks for ac97 hardware in HP laptops
    have been added.  However, now the list in intel8x0.c contains a duplicate,
    since the HP nx6110 and nc6120 have identical subdevice ids.
    
    This was introduced in -mm1 by the following patch:
    add-new-quirk-for-devices-with-mute-leds-and-separate-headphone-volume.patch
    
    Since the HP nx6110 and nc6120 are almost identical, both entries
    should really be combined, as in the following patch. I have checked
    that AC97_TUNE_HP_MUTE_LED is the right thing to do.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6c1080c1ea0ecdd541dac25e6550449390935db6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Jan 4 12:15:07 2006 +0100

    [ALSA] via82xx - Add dxs_support for ASUS mobo
    
    Modules: VIA82xx driver
    
    Add a dxs_support entry for ASUS mobo.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ce33941f027bc1853ceb43d04d6204f45181703d
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 10 20:47:49 2006 -0500

    [PARISC] Make flush_tlb_all_local take a void *
    
    Make flush_tlb_all_local take a void * so it doesn't have to be cast
    when using on_each_cpu().  This becomes a problem when on_each_cpu
    is a macro.
    
    Also remove the prototype of flush_tlb_all_local from .c files.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 0077d45e46fe2af3aaee5813c99268afcd0e7c0e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 23:03:28 2006 +0000

    [SERIAL] Make uart_port flags a bitwise type
    
    Same reasoning as commit 747c8a55946ed037bf7d62454c3c599c02af2262
    but this time we're making uart_port flags a bitwise type - not
    all of these flags correspond with the old ASYNC_ flags, so there
    is the possibility for bugs if the wrong ASYNC_* constants are
    used.  Always use UPF_* constants for uart_port->flags.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 27ae7a7435634820e7f7e2b922d8119f79cfc6e4
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 22:54:06 2006 +0000

    [SERIAL] Fix UPF_ flag usage with uart_info->flags
    
    The previous change found a bug in the serial SAK handling - because
    we were looking for UPF_SAK set in uart_info->flags, we would never
    raise a SAK condition.  UPF_SAK is in uart_port->flags.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 747c8a55946ed037bf7d62454c3c599c02af2262
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 22:50:36 2006 +0000

    [SERIAL] Make uart_info flags a bitwise type
    
    The potential for confusing the flags is fairly high.  Make
    uart_info's flags a bitwise type so sparse can check that the
    right flag definitions are used with the right structure.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ba899dbc036d24ab6b45faf64e3648a268721cc9
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 22:45:50 2006 +0000

    [SERIAL] Make port->ops constant
    
    No one should write to the port->ops structure, so make it constant.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f9e61929e5e1dacc2afefbde6abc3e6571ca2887
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Sat Jan 21 14:02:59 2006 -0800

    IB/mthca: Use correct GID in MADs sent on port 2
    
    mthca_create_ah() includes the port number in the GID index. The reverse
    needs to be done in mthca_read_ah().
    
    Noted by Hal Rosenstock.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ca740803856f23dbc5b1872039291231bc131ecb
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 20:06:14 2006 +0000

    [SERIAL] Remove UPF_AUTOPROBE and UPF_BOOT_ONLYMCA
    
    The functionality UPF_BOOT_ONLYMCA provided has been replaced by
    the 8250_mca module, which only registers MCA ports if MCA is
    present.
    
    UPF_AUTOPROBE has no functional effect - in fact, it's never
    tested.  Only ibmasm set the flag.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ce8337cb7dc327c3ae3684ba0ee5d7cbde1fd296
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 21 19:28:15 2006 +0000

    [SERIAL] Don't use ASYNC_ constants with the uart_port structure
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f91a3715db2bb44fcf08cec642e68f919b70f7f4
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Sat Jan 21 14:59:12 2006 +0000

    [SERIAL] 8250 serial console fixes
    
    This patch resolves most of the problems with an SMP serial console race
    with output via the tty path. At the end of the serial console print we
    force enable the tx int in case we clobbered the tx interrupt status
    racing between the console and tty output. That way the extra tx
    interrupt causes the transmit path to restart not hang.
    
    It also makes the serial console printk use the FIFO. This is neccessary
    because some remote management devices fake serial console with FIFO and
    are confused into sending one packet per character over ethernet when we
    stall rather than filling the FIFO.
    
    In order to preserve existing reliability semantics the function waits
    for the serial queue to completely empty before returning.
    
    Both of these problems were identified by a Red Hat partner.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8c7f75d3257fe466b34abf290c8b177c106c3769
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Jan 21 12:07:56 2006 +0100

    kbuild: fix build with O=..
    
    .kernelrelease was saved in same directory as kernel source also
    with make O=...
    Make sure we kick in the normal logic to shift to the output directory
    when we build .kernelrelease after executing *config.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    ---

commit aa6ba2faec346a3f59bf4130060108e6433ad907
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 19 19:03:15 2006 +0000

    cris: asm-offsets related build failure
    
    fallout from "kbuild: cris use generic asm-offsets.h support" - symlink
    target was wrong
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 3835f82183eab8b67ddda6b32c127859a546c82d
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Jan 21 12:03:09 2006 +0100

    kconfig: fix /dev/null breakage
    
    While running "make menuconfig" and "make mrproper"
    some people experienced that /dev/null suddenly changed
    permissions or suddenly became a regular file.
    The main reason was that /dev/null was used as output
    to gcc in the check-lxdialog.sh script and gcc did
    some strange things with the output file; in this
    case /dev/null when it errorred out.
    
    Following patch implements a suggestion
    from Bryan O'Sullivan <bos@serpentine.com> to
    use gcc -print-file-name=libxxx.so.
    
    Also the Makefile is adjusted to not resolve value of
    HOST_EXTRACFLAGS and HOST_LOADLIBES until they are actually used.
    This prevents us from calling gcc when running make *clean/mrproper
    
    Thanks to Eyal Lebedinsky <eyal@eyal.emu.id.au> and
    Jean Delvare <khali@linux-fr.org> for the first error reports.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>
    ---

commit 20a2c88f5039b8b17f0aa3fbc2ac3e9257961123
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Jan 20 20:52:50 2006 +0000

    [ARM] Fix ioremap.c vfree type warning
    
    arch/arm/mm/ioremap.c:145: warning: passing argument 1 of 'vfree' makes pointer from integer without a cast
    
    resulted from commit id 9d4ae7276ae26c5bfba6207cf05340af1931d8d4
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6fbfc9688448aac064edbaccb5d30ecd565a9105
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Fri Jan 20 11:57:07 2006 -0800

    [NETFILTER]: Unbreak x-tables on x86.
    
    x86 defines __alignof__(long long) as 8 yet it gives 4
    for a struct containing a long long, ho hum... so my
    simplified form doesn't work everywhere.
    
    So use Harald Welte's original patch, which should work
    on all platforms.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3ee68c4af3fd7228c1be63254b9f884614f9ebb2
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Fri Jan 20 01:49:15 2006 -0800

    [SPARC64]: Use compat_sys_futimesat in 32-bit syscall table.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4a90c7e86202f46fa9af011bdbcdf36e355d1721
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Jan 13 16:22:00 2006 -0500

    [ACPI] ACPICA 20060113
    
    Added 2006 copyright.
    
    At SuSE's suggestion, enabled all error messages
    without enabling function tracing, ie with CONFIG_ACPI_DEBUG=n
    
    Replaced all instances of the ACPI_DEBUG_PRINT macro invoked at
    the ACPI_DB_ERROR and ACPI_DB_WARN debug levels with
    the ACPI_REPORT_ERROR and ACPI_REPORT_WARNING macros,
    respectively. This preserves all error and warning messages
    in the non-debug version of the ACPICA code (this has been
    referred to as the "debug lite" option.) Over 200 cases
    were converted to create a total of over 380 error/warning
    messages across the ACPICA code. This increases the code
    and data size of the default non-debug version by about 13K.
    Added ACPI_NO_ERROR_MESSAGES flag to enable deleting all messages.
    The size of the debug version remains about the same.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 18a4144028f056b77d6576d4eb284246e9c7ea97
Merge: 02829f7... 4f2d768...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 19 22:19:26 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 3c5c363826e435cf4d54d917202567e5b57cae5f
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 20 01:17:42 2006 -0500

    [ACPI] delete message "**** SET: Misaligned resource pointer:"
    
    This check, added in ACPICA 20051021, was overly paranoid.
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 02829f73774fa1f6c0a28f4018caaa7c94399c4a
Merge: 4979929... 2d7d5f0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 19 22:17:38 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 497992917edf03994088ec8757b8262e1d9f568a
Merge: 7e732bf... 386d1d5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 19 22:16:58 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 0af5853bccd263161df80c259d61fc71211c5ac3
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 20 01:11:37 2006 -0500

    [ACPI] better fix for pnpacpi regression resulting from ACPICA 20051117
    
    Rather than tweaking acpi_walk_resource() again not return end tags,
    modify the pnpacpi code to ignore them.
    
    The pnpacpi resource type switch statements now include all known
    types in the order that they're defined -- so it is easy to see
    what is not implemented.  The code will squawk only if it sees
    a truly undefined type.
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 7e732bfc5570b8f9bb5f155cf36e94b2e7d6bf6a
Author: David S. Miller <davem@davemloft.net>
Date:   Thu Jan 19 16:40:42 2006 -0800

    [PATCH] Fix regression added by ppoll/pselect code.
    
    The compat layer timeout handling changes in:
    
    9f72949f679df06021c9e43886c9191494fdb007
    
    are busted.  This is most easily seen with an X application
    that uses sub-second select/poll timeout such as emacs.  You
    hit a key and it takes a second or so before the app responds.
    
    The two ROUND_UP() calls upon entry are using {tv,ts}_sec where it
    should instead be using {tv_usec,ts_nsec}, which perfectly explains
    the observed incorrect behavior.
    
    Another bug shot down with git bisect.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 837e9594fc3cb9a06bddd7ecf66151334a2e13d2
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 14 16:18:45 2006 +0100

    [PATCH] sem2mutex: drivers/macintosh/windfarm_core.c
    
    semaphore to mutex conversion.
    
    the conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    build and boot tested.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4f2d7680cb1ac5c5a70f3ba2447d5aa5c0a1643a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Jan 19 16:58:37 2006 -0800

    [NETFILTER] x_tables: Make XT_ALIGN align as strictly as necessary.
    
    Or else we break on ppc32 and other 32-bit platforms.
    
    Based upon a patch from Harald Welte.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cf9e50a920be24b734fb91f19b8844f8509cb981
Merge: 0f36b01... a7d1f1b...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Jan 19 16:53:02 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sridhar/lksctp-2.6

commit cdc9cc1d740ffc3d8d8207fbf5df9bf05fcc9955
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 20 01:25:37 2006 +0100

    [CPUFREQ] X86_GX_SUSPMOD must depend on PCI
    
    This patch fixes the following compile error:
    
    ...
      CC      arch/i386/kernel/cpu/cpufreq/gx-suspmod.o
    arch/i386/kernel/cpu/cpufreq/gx-suspmod.c: In function 'gx_detect_chipset':
    arch/i386/kernel/cpu/cpufreq/gx-suspmod.c:193: error: implicit declaration of function 'pci_match_id'
    arch/i386/kernel/cpu/cpufreq/gx-suspmod.c:193: warning: comparison between pointer and integer
    make[3]: *** [arch/i386/kernel/cpu/cpufreq/gx-suspmod.o] Error 1
    
    <--  snip  -->
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 3b0e8eadc511eaceba6d6b8d0743359a34ee23c6
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Thu Jan 19 14:08:40 2006 +0000

    [AGPGART] 945GM support for agpgart
    
    Here's a very small diff for 945GM support for agpgart.
    
    Patch against 2.6.15.
    
    From: Alan Hourihane <alanh@fairlite.demon.co.uk>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 386d1d50c8eef254653b1015fde06622ef38ba76
Author: John Hawkes <hawkes@sgi.com>
Date:   Wed Jan 18 23:46:53 2006 -0800

    [IA64] eliminate softlockup warning
    
    Fix an unnecessary softlockup watchdog warning in the ia64
    uncached_build_memmap() that occurs occasionally at 256p and always at
    512p.  The problem occurs at boot time.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 60f1c4443c4d391d8dfbe709f13296067b6c8021
Author: Jes Sorensen <jes@sgi.com>
Date:   Wed Jan 18 23:46:52 2006 -0800

    [IA64] sem2mutex: arch/ia64/kernel/perfmon.c
    
    Migrate perfmon from using an old semaphore to a completion handler.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 92ff2ecd0deddc4c5fb2140d5861d0ddd50e9e57
Author: Jes Sorensen <jes@sgi.com>
Date:   Wed Jan 18 23:46:51 2006 -0800

    [IA64] sem2mutex: arch/ia64/ia32/sys_ia32.c
    
    Migrate arch/ia64/ia32/sys_ia32 to using a mutex for mmap protection.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 944d79559d154c12becde0dab327016cf438f46c
Merge: d087e4b... 0f36b01...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Thu Jan 19 16:39:33 2006 +0000

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit fa1b4f91d6374663cfb3c6fbe3d78fd03954a862
Author: Al Viro <viro@www.linux.org.uk>
Date:   Thu Jan 19 12:57:01 2006 +0000

    [ARM] safer handling of syscall table padding
    
    ARM entry-common.S needs to know syscall table size; in itself that would
    not be a problem, but there's an additional constraint - some of the
    instructions using it want a constant that would be a multiple of 4.
    So we have to pad syscall table with sys_ni_syscall and that's where
    the trouble begins.  .rept pseudo-op wants a constant expression for
    number of repetitions and subtraction of two labels (before and after
    syscall table) doesn't always get simplified to constant early enough
    for .rept.  If labels end up in different frags, we lose.  And while
    the frag size is large enough (slightly below 4Kb), the syscall table
    is about 1/3 of that.  We used to get away with that, but the recent
    changes had been enough to trigger the breakage.
    
    Proper fix is simple: have a macro (CALL(x)) to populate the table
    instead of using explicit .long x and the first time we include calls.S
    have it defined to .equ NR_syscalls,NR_syscalls+1.  Then we can find
    the proper amount of padding on the first inclusion simply by looking
    at NR_syscalls at that time.  And that will be constant, no matter what.
    
    Moreover, the same trick kills the need of having an estimate of padded
    NR_syscalls - it will be calculated for free at the same time.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ea49772598563447b70042ab8e087b2c4d599778
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Jan 19 12:32:54 2006 +0000

    [ARM] Remove CONFIG_BROKEN=y from defconfigs
    
    Remove CONFIG_BROKEN=y from the ARM defconfigs, and update with
    the appropriate changes.  This results in only some unselected
    configuration symbols being removed - hence no material effect
    on the configuration.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f43aaba191bfbe20a1f55ec05f43813ce381cd53
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Jan 19 12:26:57 2006 +0000

    [ARM] Convert request_irq+set_irq_type to request_irq with SA_TRIGGER
    
    There's no need to have request_irq followed by set_irq_type.
    Just use request_irq with the appropriate SA_TRIGGER flags.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2d7d5f05111a9d913131a2764d8b20157f8f758d
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Jan 19 02:42:49 2006 -0800

    [SPARC]: Add support for *at(), ppoll, and pselect syscalls.
    
    This also includes by necessity _TIF_RESTORE_SIGMASK support,
    which actually resulted in a lot of cleanups.
    
    The sparc signal handling code is quite a mess and I should
    clean it up some day.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f7111ceb5266750db2a1d193b98fb6a3d9b5a56a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 18 21:57:37 2006 -0800

    [SPARC]: sparc32 needs PROMDEV_{I,O}RSC defines too.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0f36b018b2e314d45af86449f1a97facb1fbe300
Merge: 648bf4f... 47c886b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 18 19:37:57 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6

commit 648bf4fb21f5ce993403901ed82399abaa150b63
Author: mark gross <mgross@linux.intel.com>
Date:   Sun Jan 15 17:37:30 2006 -0800

    [PATCH] tlclk driver update
    
    some driver clean ups, and a re-posting of changes that are needed
    
    to match the updated TPS.
    
    Signed-off-by: Mark Gross <mark.gross@intel.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit da9bb1d27b21cb24cbb6a2efb5d3c464d357a01e
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 18 17:44:13 2006 -0800

    [PATCH] EDAC: core EDAC support code
    
    This is a subset of the bluesmoke project core code, stripped of the NMI work
    which isn't ready to merge and some of the "interesting" proc functionality
    that needs reworking or just has no place in kernel.  It requires no core
    kernel changes except the added scrub functions already posted.
    
    The goal is to merge further functionality only after the core code is
    accepted and proven in the base kernel, and only at the point the upstream
    extras are really ready to merge.
    
    From: doug thompson <norsk5@xmission.com>
    
      This converts EDAC to sysfs and is the final chunk neccessary before EDAC
      has a stable user space API and can be considered for submission into the
      base kernel.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: doug thompson <norsk5@xmission.com>
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f768af73fea4c70f9046388a7ff648ad11f028e
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 18 17:44:12 2006 -0800

    [PATCH] EDAC: drivers for Radisys 82600
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d88a10e566d46bffc214c974e5cf5abe38d8da8
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 18 17:44:10 2006 -0800

    [PATCH] EDAC: drivers for Intel i82860, i82875
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 806c35f5057a64d3061ee4e2b1023bf6f6d328e2
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 18 17:44:08 2006 -0800

    [PATCH] EDAC: drivers for AMD 76x and Intel E750x, E752x
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 715b49ef2de6fcead0776d9349071670282faf65
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 18 17:44:07 2006 -0800

    [PATCH] EDAC: atomic scrub operations
    
    EDAC requires a way to scrub memory if an ECC error is found and the chipset
    does not do the work automatically.  That means rewriting memory locations
    atomically with respect to all CPUs _and_ bus masters.  That means we can't
    use atomic_add(foo, 0) as it gets optimised for non-SMP
    
    This adds a function to include/asm-foo/atomic.h for the platforms currently
    supported which implements a scrub of a mapped block.
    
    It also adjusts a few other files include order where atomic.h is included
    before types.h as this now causes an error as atomic_scrub uses u32.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3213e913b0d6baeb28aa1affbdd4bfa7efedc35f
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 18 17:44:06 2006 -0800

    [PATCH] Add pselect/ppoll system calls on i386
    
    Add the sys_pselect6() and sys_poll() calls to the i386 syscall table.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f72949f679df06021c9e43886c9191494fdb007
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 18 17:44:05 2006 -0800

    [PATCH] Add pselect/ppoll system call implementation
    
    The following implementation of ppoll() and pselect() system calls
    depends on the architecture providing a TIF_RESTORE_SIGMASK flag in the
    thread_info.
    
    These system calls have to change the signal mask during their
    operation, and signal handlers must be invoked using the new, temporary
    signal mask. The old signal mask must be restored either upon successful
    exit from the system call, or upon returning from the invoked signal
    handler if the system call is interrupted. We can't simply restore the
    original signal mask and return to userspace, since the restored signal
    mask may actually block the signal which interrupted the system call.
    
    The TIF_RESTORE_SIGMASK flag deals with this by causing the syscall exit
    path to trap into do_signal() just as TIF_SIGPENDING does, and by
    causing do_signal() to use the saved signal mask instead of the current
    signal mask when setting up the stack frame for the signal handler -- or
    by causing do_signal() to simply restore the saved signal mask in the
    case where there is no handler to be invoked.
    
    The first patch implements the sys_pselect() and sys_ppoll() system
    calls, which are present only if TIF_RESTORE_SIGMASK is defined. That
    #ifdef should go away in time when all architectures have implemented
    it. The second patch implements TIF_RESTORE_SIGMASK for the PowerPC
    kernel (in the -mm tree), and the third patch then removes the
    arch-specific implementations of sys_rt_sigsuspend() and replaces them
    with generic versions using the same trick.
    
    The fourth and fifth patches, provided by David Howells, implement
    TIF_RESTORE_SIGMASK for FR-V and i386 respectively, and the sixth patch
    adds the syscalls to the i386 syscall table.
    
    This patch:
    
    Add the pselect() and ppoll() system calls, providing core routines usable by
    the original select() and poll() system calls and also the new calls (with
    their semantics w.r.t timeouts).
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36a7878a224c18aa4a5e098dc93d19cf5601462b
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:44:03 2006 -0800

    [PATCH] uml: use generic sys_rt_sigsuspend
    
    Use the generic sys_rt_sigsuspend.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2fc10620e741153329e2f1cbcde76e526f501410
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:44:02 2006 -0800

    [PATCH] uml: add TIF_RESTORE_SIGMASK support
    
    Add support for TIF_RESTORE_SIGMASK.  I copy the i386 handling of the flag.
    sys_sigsuspend is also changed to follow i386.
    Also a bit of cleanup -
       turn an if into a switch
       get rid of a couple more emacs formatting comments
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f27201da5c8f118cfe266f51447bdd108d5f081d
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 18 17:44:01 2006 -0800

    [PATCH] TIF_RESTORE_SIGMASK support for arch/powerpc
    
    Implement the TIF_RESTORE_SIGMASK flag in the new arch/powerpc kernel, for
    both 32-bit and 64-bit system call paths.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 283828f3c19ceb3a64a8544d42cc189003e8b0fe
Author: David Howells <dhowells@redhat.com>
Date:   Wed Jan 18 17:44:00 2006 -0800

    [PATCH] Handle TIF_RESTORE_SIGMASK for i386
    
    Handle TIF_RESTORE_SIGMASK as added by David Woodhouse's patch entitled:
    
            [PATCH] 2/3 Add TIF_RESTORE_SIGMASK support for arch/powerpc
            [PATCH] 3/3 Generic sys_rt_sigsuspend
    
    It does the following:
    
     (1) Declares TIF_RESTORE_SIGMASK for i386.
    
     (2) Invokes it over to do_signal() when TIF_RESTORE_SIGMASK is set.
    
     (3) Makes do_signal() support TIF_RESTORE_SIGMASK, using the signal mask saved
         in current->saved_sigmask.
    
     (4) Discards sys_rt_sigsuspend() from the arch, using the generic one instead.
    
     (5) Makes sys_sigsuspend() save the signal mask and set TIF_RESTORE_SIGMASK
         rather than attempting to fudge the return registers.
    
     (6) Makes sys_sigsuspend() return -ERESTARTNOHAND rather than looping
         intrinsically.
    
     (7) Makes setup_frame(), setup_rt_frame() and handle_signal() return 0 or
         -EFAULT rather than true/false to be consistent with the rest of the
         kernel.
    
    Due to the fact do_signal() is then only called from one place:
    
     (8) Makes do_signal() no longer have a return value is it was just being
         ignored; force_sig() takes care of this.
    
     (9) Discards the old sigmask argument to do_signal() as it's no longer
         necessary.
    
    (10) Makes do_signal() static.
    
    (11) Marks the second argument to do_notify_resume() as unused. The unused
         argument should remain in the middle as the arguments are passed in as
         registers, and the ordering is specific in entry.S
    
    Given the way do_signal() is now no longer called from sys_{,rt_}sigsuspend(),
    they no longer need access to the exception frame, and so can just take
    arguments normally.
    
    This patch depends on sys_rt_sigsuspend patch.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a411aee96ea7fe6fe065df65bf29ea755bcdb554
Author: David Howells <dhowells@redhat.com>
Date:   Wed Jan 18 17:43:59 2006 -0800

    [PATCH] Handle TIF_RESTORE_SIGMASK for FRV
    
    Handle TIF_RESTORE_SIGMASK as added by David Woodhouse's patch entitled:
    
            [PATCH] 2/3 Add TIF_RESTORE_SIGMASK support for arch/powerpc
            [PATCH] 3/3 Generic sys_rt_sigsuspend
    
    It does the following:
    
     (1) Declares TIF_RESTORE_SIGMASK for FRV.
    
     (2) Invokes it over to do_signal() when TIF_RESTORE_SIGMASK is set.
    
     (3) Makes do_signal() support TIF_RESTORE_SIGMASK, using the signal mask saved
         in current->saved_sigmask.
    
     (4) Discards sys_rt_sigsuspend() from the arch, using the generic one instead.
    
     (5) Makes sys_sigsuspend() save the signal mask and set TIF_RESTORE_SIGMASK
         rather than attempting to fudge the return registers.
    
     (6) Makes sys_sigsuspend() return -ERESTARTNOHAND rather than looping
         intrinsically.
    
     (7) Makes setup_frame(), setup_rt_frame() and handle_signal() return 0 or
         -EFAULT rather than true/false to be consistent with the rest of the
          kernel.
    
    Due to the fact do_signal() is then only called from one place:
    
     (8) Make do_signal() no longer have a return value is it was just being
         ignored; force_sig() takes care of this.
    
     (9) Discards the old sigmask argument to do_signal() as it's no longer
         necessary.
    
    This patch depends on the FRV signalling patches as well as the
    sys_rt_sigsuspend patch.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 150256d8aadb3a337c31efa9e175cbd25bf06b06
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 18 17:43:57 2006 -0800

    [PATCH] Generic sys_rt_sigsuspend()
    
    The TIF_RESTORE_SIGMASK flag allows us to have a generic implementation of
    sys_rt_sigsuspend() instead of duplicating it for each architecture.  This
    provides such an implementation and makes arch/powerpc use it.
    
    It also tidies up the ppc32 sys_sigsuspend() to use TIF_RESTORE_SIGMASK.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a60fc5190a31d98508ea6a76f74217f4104e74b7
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Wed Jan 18 17:43:56 2006 -0800

    [PATCH] vfs: *at functions: x86_64
    
    Wire up the x86_64 syscalls.
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f085507231e8003c66ed12e38c73b76e938ee95
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Wed Jan 18 17:43:55 2006 -0800

    [PATCH] vfs: *at functions: i386
    
    Wire up the x86 syscalls
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5590ff0d5528b60153c0b4e7b771472b5a95e297
Author: Ulrich Drepper <drepper@redhat.com>
Date:   Wed Jan 18 17:43:53 2006 -0800

    [PATCH] vfs: *at functions: core
    
    Here is a series of patches which introduce in total 13 new system calls
    which take a file descriptor/filename pair instead of a single file
    name.  These functions, openat etc, have been discussed on numerous
    occasions.  They are needed to implement race-free filesystem traversal,
    they are necessary to implement a virtual per-thread current working
    directory (think multi-threaded backup software), etc.
    
    We have in glibc today implementations of the interfaces which use the
    /proc/self/fd magic.  But this code is rather expensive.  Here are some
    results (similar to what Jim Meyering posted before).
    
    The test creates a deep directory hierarchy on a tmpfs filesystem.  Then
    rm -fr is used to remove all directories.  Without syscall support I get
    this:
    
    real    0m31.921s
    user    0m0.688s
    sys     0m31.234s
    
    With syscall support the results are much better:
    
    real    0m20.699s
    user    0m0.536s
    sys     0m20.149s
    
    The interfaces are for obvious reasons currently not much used.  But they'll
    be used.  coreutils (and Jeff's posixutils) are already using them.
    Furthermore, code like ftw/fts in libc (maybe even glob) will also start using
    them.  I expect a patch to make follow soon.  Every program which is walking
    the filesystem tree will benefit.
    
    Signed-off-by: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2f99018eb7b29954747a2dd78e9fc0c36a60f0f
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Jan 18 17:43:52 2006 -0800

    [PATCH] exportfs: add find_acceptable_alias helper
    
    find_exported_dentry contains two duplicate loops to find an alias that the
    acceptable callback likes.  Split this out to a new helper and switch from
    list_for_each to list_for_each_entry to make it more readable.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 846f2fcd77850ef8f0aab46df9cadd5c35a5fef0
Author: David Shaw <dshaw@jabberwocky.com>
Date:   Wed Jan 18 17:43:51 2006 -0800

    [PATCH] knfsd: Provide missing NFSv2 part of patch for checking vfs_getattr.
    
    A recent patch which checked the return status of vfs_getattr in nfsd,
    completely missed the nfsproc.c (NFSv2) part.  Here is it.
    
    This patch moved the call to vfs_getattr from the xdr encoding (at which point
    it is too late to return an error) to the call handling.  This means several
    calls to vfs_getattr are needed in nfsproc.c.  Many are encapsulated in
    nfsd_return_attrs and nfsd_return_dirop.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 45bd3b3dffaa9fb1706fe001bf66276d0997a850
Author: Neil Brown <neilb@suse.de>
Date:   Wed Jan 18 17:43:50 2006 -0800

    [PATCH] knfsd: Fix some more errno/nfserr confusion in vfs.c
    
    nfsd_sync* return an errno, which usually needs to be converted to an errno,
    sometimes immediately, sometimes a little later.
    
    Also, nfsd_setattr returns an nfserr which SHOULDN'T be converted from
    an errno (because it isn't one).
    
    Also some tidyups of the form:
      err = XX
      err = nfserrno(err)
    and
      err = XX
      if (err)
          err = nfserrno(err)
    become
      err = nfserrno(XX)
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fcd53303de8dbbed863f6471ca92eb96a1faa28
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 17:43:48 2006 -0800

    [PATCH] nfsd4_lock() returns bogus values to clients
    
    missing nfserrno() in default case of a switch by return value of
    posix_lock_file(); as the result we send negative host-endian to clients that
    expect positive network-endian, preferably mentioned in RFC...  BTW, that case
    is not impossible - posix_lock_file() can return -ENOLCK and we do not handle
    that one explicitly.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de1ae286f863c46b7c8f9bed97df17d7f5ea510c
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 17:43:47 2006 -0800

    [PATCH] NFSERR_SERVERFAULT returned host-endian
    
    ->rp_status is network-endian and nobody byteswaps it before sending to
    client; putting NFSERR_SERVERFAULT instead of nfserr_serverfault in there is
    not nice...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9246585a117f182d26a5a5c15872c3e8fcf44dd6
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 17:43:46 2006 -0800

    [PATCH] nfsd4_truncate() bogus return value
    
    -EINVAL (in host order, no less) is not a good thing to return to client.
    
    nfsd4_truncate() returns it in one case and its callers expect nfs_....  from
    it.  AFAICS, it should be nfserr_inval
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d75f2b9f5da71667aba7e97a962c49f1e17aa4ca
Author: Al Viro <viro@www.linux.org.uk>
Date:   Wed Jan 18 17:43:44 2006 -0800

    [PATCH] nfsd/vfs.c: endianness fixes
    
    Several failure exits return -E<something> instead of nfserr_<something> and
    vice versa.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5274881992b8a632620f69346401da66e480a23b
Author: Fred Isaman <iisaman@citi.umich.edu>
Date:   Wed Jan 18 17:43:43 2006 -0800

    [PATCH] nfsd4: clean up settattr code
    
    Clean up some unnecessary special-casing in the setattr code..
    
    Signed-off-by: Fred Isaman <iisaman@citi.umich.edu>
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 34081efc12aaaa12f20e5b59f3cb98ba6e27fb34
Author: Fred Isaman <iisaman@citi.umich.edu>
Date:   Wed Jan 18 17:43:40 2006 -0800

    [PATCH] nfsd4: Fix bug in rdattr_error return
    
    Fix bug in rdattr_error return which causes correct error code to be
    overwritten by nfserr_toosmall.
    
    Signed-off-by: Fred Isaman <iisaman@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c26d08f02f829a833d393c3f1b196538a9ec2c4
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:38 2006 -0800

    [PATCH] nfsd4: fix open_downgrade
    
    Bad bookkeeping of the share reservations when handling open upgrades was
    causing open downgrade to fail.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb553c0f17444e090db951b96df4d2d71b4f4b6b
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:36 2006 -0800

    [PATCH] nfsd4: don't create on open that fails due to ERR_GRACE
    
    In an earlier patch (commit b648330a1d741d5df8a5076b2a0a2519c69c8f41) I noted
    that a too-early grace-period check was preventing us from bumping the
    sequence id on open.  Unfortunately in that patch I stupidly moved the
    grace-period check back too far, so now an open for create can succesfully
    create the file while still returning ERR_GRACE.
    
    The correct place for that check is after we've set the open_owner and handled
    any replays, but before we actually start mucking with the filesystem.
    
    Thanks to Avishay Traeger for reporting the bug.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f442aa299bb47046db4077d9c122a1b539311ce
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:34 2006 -0800

    [PATCH] nfsd4: simplify process-open1 logic
    
    nfsd4_process_open1 is very highly nested; flatten it out a bit.
    
    Also, the preceding comment, which just outlines the logic, seems redundant.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 375c5547cbf39423078535affac66c8afdc8fafb
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:33 2006 -0800

    [PATCH] nfsd4: nfs4state.c miscellaneous goto removals
    
    Remove some goto's that made the logic here a little more tortuous than
    necessary.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae8b625313db4dd4b060962c2a02f3a2837ca61b
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:32 2006 -0800

    [PATCH] nfsd4: no replays on unconfirmed owners
    
    We shouldn't check for replays until after checking whether the open owner is
    confirmed.  Clients are allowed to reuse openowners without bumping the seqid.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a525825df15221a95d4c1f5a291d9fde77ef10bc
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:30 2006 -0800

    [PATCH] nfsd4: handle replays of failed open reclaims
    
    We need to make sure open reclaims are marked confirmed immediately so that we
    can handle replays even if they fail (e.g.  with a seqid-incrementing error).
    (See 8.1.8.)
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2642ab05b855d2d3b850ddf90dbb02b1b9358ac
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:29 2006 -0800

    [PATCH] nfsd4: recovery lookup dir check
    
    Make sure we get a directory when we look up the recovery directory.
    
    Thanks to Christoph Hellwig for the bug report.
    
    Based on feedback from Christoph and others, we may remove the need for this
    lookup and just pass in a file descriptor from userspace instead, and/or
    completely move the directory handling to userspace.  For now we're just
    fixing the obvious bugs.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d22749b62f3e12de26b86a200f9a5bf7afe3590e
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:27 2006 -0800

    [PATCH] nfsd4: fix open of recovery directory
    
    We should be opening this directory RDONLY, not RDWR.
    
    Thanks to Christoph Hellwig for the bug report.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fb8b49e2955cc473929c5994b8389111daed59d
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:26 2006 -0800

    [PATCH] svcrpc: gss: svc context creation error handling
    
    Allow mechanisms to return more varied errors on the context creation
    downcall.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91a4762e0ab0880fa00e8f0b7a052e4929d867a6
Author: Kevin Coffman <kwc@citi.umich.edu>
Date:   Wed Jan 18 17:43:25 2006 -0800

    [PATCH] svcrpc: gss: server context init failure handling
    
    We require the server's gssd to create a completed context before asking the
    kernel to send a final context init reply.  However, gssd could be buggy, or
    under some bizarre circumstances we might purge the context from our cache
    before we get the chance to use it here.
    
    Handle this case by returning GSS_S_NO_CONTEXT to the client.
    
    Also move the relevant code here to a separate function rather than nesting
    excessively.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 822f1005ae1f3a4a8b136f38a6933d3f719f4c4a
Author: Andy Adamson <andros@citi.umich.edu>
Date:   Wed Jan 18 17:43:24 2006 -0800

    [PATCH] svcrpc: gss: handle the GSS_S_CONTINUE
    
    Kerberos context initiation is handled in a single round trip, but other
    mechanisms (including spkm3) may require more, so we need to handle the
    GSS_S_CONTINUE case in svcauth_gss_accept.  Send a null verifier.
    
    Signed-off-by: Andy Adamson <andros@citi.umich.edu>
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd44527707f2697fd2959e8bdb321ae588d150e2
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:23 2006 -0800

    [PATCH] nfsd4: operation debugging
    
    Simple, useful debugging printk: print the number of each op as we process it.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 796dadfd02eda1e3e6e42ecc8379d8b1c1523ddf
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:22 2006 -0800

    [PATCH] nfsd4: fix check_for_locks
    
    Fix some bad logic.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04ef59548470b81829e8593c1b39776ce0534d68
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:21 2006 -0800

    [PATCH] nfsd4: remove release_state_owner()
    
    It's confusing having both release_stateowner() and release_state_owner().
    
    And as it turns out, release_state_owner() is short and only called from one
    place; so just remove it.
    
    Also note the confirmed check is superfluous there--preprocess_seqid_op
    already check this.
    
    And remove a redundant comment and a superfluous line assignment while we're
    at it.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a65588adc4401622b204caa897123e16a4a0318
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:19 2006 -0800

    [PATCH] nfsd4: rename lk_stateowner
    
    One of the things that's confusing about nfsd4_lock is that the lk_stateowner
    field could be set to either of two different lockowners: the open owner or
    the lock owner.  Rename to lk_replay_owner and add a comment to make it clear
    that it's used for whichever stateowner has its sequence id bumped for replay
    detection.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a280510852959c0d51b1d625e90c0491c238368
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:18 2006 -0800

    [PATCH] nfsd4: fix nfsd4_lock cleanup on failure
    
    release_state_owner also puts the lock owner on the close_lru.  There's no
    need for that, though; replays of the failed lock would be handled by the
    openowner not the lockowner.
    
    Also consolidate the cleanup a bit, fixing leaks that can happen if errors
    occur between the time a new lock owner is allocated and the lock is done.
    
    Remove a comment and dprintk that look a little redundant.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6f6ef2f1d7329111fcad7db48fb7adba5062d0a
Author: Andy Adamson <andros@citi.umich.edu>
Date:   Wed Jan 18 17:43:17 2006 -0800

    [PATCH] nfsd4: misc lock fixes
    
    Logic fixes for LOCK and UNLOCK.
    
    - Move the permission check on the current file handle outside of
      nfs4_lock_state()
    
    - remove the file manager fl_release_private calls; fl_ops is not set.
    
    Signed-off-by: Andy Adamson <andros@citi.umich.edu>
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1918e341383ab787d6c5b17200f4ed901b10c777
Author: J. Bruce Fields <bfields@citi.umich.edu>
Date:   Wed Jan 18 17:43:16 2006 -0800

    [PATCH] svcrpc: save and restore the daddr field when request deferred
    
    The server code currently keeps track of the destination address on every
    request so that it can reply using the same address.  However we forget to do
    that in the case of a deferred request.  Remedy this oversight.  >From folks
    at PolyServe.
    
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e8f05934d540aeb45c1cc3cc3a0e811bd61866b
Author: Neil Brown <neilb@suse.de>
Date:   Wed Jan 18 17:43:14 2006 -0800

    [PATCH] nfsd: remove inline from a couple of large NFS functions
    
    These are both called from two places close together.  I could rearrange that
    code so there is only one call site, but just removing the 'inline' is
    probably best.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f193fbab2e4710f629e7c1859d4908646b47b126
Author: YAMAMOTO Takashi <yamamoto@valinux.co.jp>
Date:   Wed Jan 18 17:43:13 2006 -0800

    [PATCH] nfsd: check error status from nfsd_sync_dir
    
    Change nfsd_sync_dir to return an error if ->sync fails, and pass that error
    up through the stack.  This involves a number of rearrangements of error
    paths, and care to distinguish between Linux -errno numbers and NFSERR
    numbers.
    
    In the 'create' routines, we continue with the 'setattr' even if a previous
    sync_dir failed.
    
    This patch is quite different from Takashi's in a few ways, but there is still
    a strong lineage.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b192832daae6d141063c49ae1ded6f7dddee50e
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Jan 18 17:43:12 2006 -0800

    [PATCH] hfs: set type/creator for symlinks
    
    Set the correct type and creator for symlinks.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af8c85bb6d4e5352551277edd8448c4dfb2328ab
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Jan 18 17:43:10 2006 -0800

    [PATCH] hfs: set correct create date for links
    
    HFS+ also requires the correct creation date so recent version of OS X
    recognize it as link.
    Improve link handling:
    - if something is wrong with the link, ignore the link attribute and treat
      it as regular file (this also fixes a missing unlock during lookup).
    - check for incorrect link counts during unlink.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a4cad95c9338077487226e22d4e01bc9edebf21
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Jan 18 17:43:09 2006 -0800

    [PATCH] hfs: set correct ctime
    
    Read the correct ctime from disk (it was written but never read for some
    reason).  Read also creation date, which is used in the next patch.  (Problem
    found by Olivier Castan <olivier.castan@certa.ssi.gouv.fr>)
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2179d372d9f8b5fc5c189c89bc6a565a42151b23
Author: David Elliott <elliott@stcnet.com>
Date:   Wed Jan 18 17:43:08 2006 -0800

    [PATCH] hfs: add HFSX support
    
    Add support for HFSX, which allows for case-sensitive filenames.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7cf3cc3036cb7b1147350bf7c3f1ab98c160eb7b
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Jan 18 17:43:07 2006 -0800

    [PATCH] hfs: cleanup HFS prints
    
    Add the log level and a "hfs: " prefix to all kernel prints.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 634725a92938b0f282b17cec0b007dca77adebd2
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Wed Jan 18 17:43:05 2006 -0800

    [PATCH] hfs: cleanup HFS+ prints
    
    Add the log level and a "hfs: " prefix to all kernel prints.  (HFS and HFS+
    will use the same prefix, as they share some code and could be merged at some
    point.)
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5131cf154ad1c6e584efa58d17a469d0b80f49bd
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 18 17:43:04 2006 -0800

    [PATCH] add missing syscall declarations
    
    All standard system calls should be declared in include/linux/syscalls.h.
    
    Add some of the new additions that were previously missed.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c21761f168894b356626c847fe13be39605d76b4
Author: Jason Baron <jbaron@redhat.com>
Date:   Wed Jan 18 17:43:03 2006 -0800

    [PATCH] fix sched_setscheduler semantics
    
    Currently, a negative policy argument passed into the
    'sys_sched_setscheduler()' system call, will return with success.  However,
    the manpage for 'sys_sched_setscheduler' says:
    
    EINVAL The scheduling policy is not one of the recognized policies, or the
                  parameter p does not make sense for the policy.
    
    Signed-off-by: Jason Baron <jbaron@redhat.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 147b31cf09ee493aa71c87c0dd2eef74b6b2aeba
Author: Eric Van Hensbergen <ericvh@hera.kernel.org>
Date:   Wed Jan 18 17:43:02 2006 -0800

    [PATCH] v9fs: add readpage support
    
    v9fs mmap support was originally removed from v9fs at Al Viro's request,
    but recently there have been requests from folks who want readpage
    functionality (primarily to enable execution of files mounted via 9P).
    This patch adds readpage support (but not writepage which contained most of
    the objectionable code).  It passes fsx-linux (and other regressions) so it
    should be relatively safe.
    
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a374a48ffbd7d1ffd40d1d30d2751df159a1aca7
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:43:01 2006 -0800

    [PATCH] uml ubd code: fix a bit of whitespace
    
    Correct a bit of whitespace problems while working here.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4833aff757b747b51b878a13f3a6e2b1a2abb619
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:43:00 2006 -0800

    [PATCH] uml: allow again to move backing file and to override saved location
    
    When the user specifies both a COW file and its backing file, if the previous
    backing file is not found, currently UML tries again to use it and fails.
    
    This can be corrected by changing same_backing_files() return value in that
    case, so that the caller will try to change the COW file to point to the new
    location, as already done in other cases.
    
    Additionally, given the change in the meaning of the func, change its name,
    invert its return value, so all values are inverted except when
    stat(from_cow,&buf2) fails.  And add some comments and two minor bugfixes -
    remove a fd leak (return err rather than goto out) and a repeated check.
    
    Tested well.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce2d2aedcc3ca582fed90f44970e8b3e4f006a7d
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:59 2006 -0800

    [PATCH] uml: arch Kconfig menu cleanups
    
    *) mark as "EXPERIMENTAL" various items that either aren't very stable or
       that are actively crashing the setup of users which don't really need them
       (i.e.  HIGHMEM and 3-level pagetables on x86 - nobody needs either,
       everybody reports "I'm using it and getting trouble").
    
    *) move net/Kconfig near to the rest of network configurations, and
       drivers/block/Kconfig near "Block layer" submenu.
    
    *) it's useless and doesn't work well to force NETDEVICES on and to disable
       the prompt like it's done.  Better remove the attempt, and change that to a
       simple "default y if UML".
    
    *) drop the warning about "report problems about HPPFS" - it's redundant
       anyway, as that's the usual procedure, and HPPFS users are especially
       technical (i.e.  they know reporting bugs is _good_).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b63162939cd797c8269964ce856ed1f2fec5f70e
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:58 2006 -0800

    [PATCH] uml: avoid malloc to sleep in atomic sections
    
    Ugly trick to help make malloc not sleeping - we can't do anything else.  But
    this is not yet optimal, since spinlock don't trigger in_atomic() when
    preemption is disabled.
    
    Also, even if ugly, this was already used in one place, and was even more
    bogus.  Fix it.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b6a2b13778873bd9edd0b4a7d24a7bd730369021
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:57 2006 -0800

    [PATCH] uml: sigio code - reduce spinlock hold time
    
    In a previous patch I shifted an allocation to being atomic.
    
    In this patch, a better but more intrusive solution is implemented, i.e.  hold
    the lock only when really needing it, especially not over pipe operations, nor
    over the culprit allocation.
    
    Additionally, while at it, add a missing kfree in the failure path, and make
    sure that if we fail in forking, write_sigio_pid is -1 and not, say, -ENOMEM.
    
    And fix whitespace, at least for things I was touching anyway.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 71c8d4c3aad3132765d30b05dce98bb8a9508f02
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:56 2006 -0800

    [PATCH] uml: fix spinlock recursion and sleep-inside-spinlock in error path
    
    In this error path, when the interface has had a problem, we call dev_close(),
    which is disallowed for two reasons:
    
    *) takes again the UML internal spinlock, inside the ->stop method of this
       device
    *) can be called in process context only, while we're in interrupt context.
    
    I've also thought that calling dev_close() may be a wrong policy to follow,
    but it's not up to me to decide that.
    
    However, we may end up with multiple dev_close() queued on the same device.
    But the initial test for (dev->flags & IFF_UP) makes this harmless, though -
    and dev_close() is supposed to care about races with itself.  So there's no
    harm in delaying the shutdown, IMHO.
    
    Something to mark the interface as "going to shutdown" would be appreciated,
    but dev_deactivate has the same problems as dev_close(), so we can't use it
    either.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e56a78855a4f72fc658bfd21d08939dd6e09fa4c
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:55 2006 -0800

    [PATCH] uml: networking - clear transport-specific structure
    
    Pre-clear transport-specific private structure before passing it down.
    
    In fact, I just got a slab corruption and kernel panic on exit because kfree()
    was called on a pointer which probably was never allocated, BUT hadn't been
    set to NULL by the driver.
    
    As the code is full of such errors, I've decided for now to go the safe way
    (we're talking about drivers), and to do the simple thing.  I'm also starting
    to fix drivers, and already sent a patch for the daemon transport.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c42791b6ec5453cd7910eac7bfdd88f27173f81c
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:53 2006 -0800

    [PATCH] uml: make daemon transport behave properly
    
    Avoid uninitialized data in the daemon_data structure.  I used this transport
    before doing proper setup before-hand, and I got some very nice SLAB
    corruption due to freeing crap pointers.  So just make sure to clear
    everything when appropriate.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b948068b84b9759cdf0965abf3074dcb9230e98
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Wed Jan 18 17:42:52 2006 -0800

    [PATCH] uml: remove leftover from patch revertal
    
    I added this line to share this file with UML, but now it's no longer
    shared so remove this useless leftover.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 097fdf06c63741e6ac1a4e01c2255861dd0a1c49
Author: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
Date:   Wed Jan 18 17:42:51 2006 -0800

    [PATCH] uml: TT mode softint fixes
    
    Some fixes to make softints work in tt mode.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c83d4635ee8c8fe16046ff6cabcff708be16df75
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:42:50 2006 -0800

    [PATCH] uml: use setjmp/longjmp instead of sigsetjmp/siglongjmp
    
    Now that we are doing soft interrupts, there's no point in using sigsetjmp and
    siglongjmp.  Using setjmp and longjmp saves a sigprocmask on every jump.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d7173baf286c8b720f97f119ec92be43076ebde
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:42:49 2006 -0800

    [PATCH] uml: implement soft interrupts
    
    This patch implements soft interrupts.  Interrupt enabling and disabling no
    longer map to sigprocmask.  Rather, a flag is set indicating whether
    interrupts may be handled.  If a signal comes in and interrupts are marked as
    OK, then it is handled normally.  If interrupts are marked as off, then the
    signal handler simply returns after noting that a signal needs handling.  When
    interrupts are enabled later on, this pending signals flag is checked, and the
    IRQ handlers are called at that point.
    
    The point of this is to reduce the cost of local_irq_save et al, since they
    are very much more common than the signals that they are enabling and
    disabling.  Soft interrupts produce a speed-up of ~25% on a kernel build.
    
    Subtleties -
    
        UML uses sigsetjmp/siglongjmp to switch contexts.  sigsetjmp has been
        wrapped in a save_flags-like macro which remembers the interrupt state at
        setjmp time, and restores it when it is longjmp-ed back to.
    
        The enable_signals function has to loop because the IRQ handler
        disables interrupts before returning.  enable_signals has to return with
        signals enabled, and signals may come in between the disabling and the
        return to enable_signals.  So, it loops for as long as there are pending
        signals, ensuring that signals are enabled when it finally returns, and
        that there are no pending signals that need to be dealt with.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09ee011eb322c2072ec184a88763c250a5485d8b
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:42:48 2006 -0800

    [PATCH] uml: eliminate some globals
    
    Stop using global variables to hold the file descriptor and offset used to map
    the skas0 stubs.  Instead, calculate them using the page physical addresses.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abaf69773d8dda98b917d94c07757f6520da7bec
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Wed Jan 18 17:42:46 2006 -0800

    [PATCH] uml: move libc-dependent skas process handling
    
    The serial UML OS-abstraction layer patch (um/kernel/skas dir).
    
    This moves all systemcalls from skas/process.c file under os-Linux dir and
    join skas/process.c and skas/process_kern.c files.
    
    Signed-off-by: Gennady Sharapov <gennady.v.sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f45d9fc9d80678c2ee22c578e503055207c46fd0
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Wed Jan 18 17:42:45 2006 -0800

    [PATCH] uml: move libc-dependent skas memory mapping code
    
    The serial UML OS-abstraction layer patch (um/kernel/skas dir).
    
    This moves all systemcalls from skas/mem_user.c file under os-Linux dir and
    join skas/mem_user.c and skas/mem.c files.
    
    Signed-off-by: Gennady Sharapov <gennady.v.sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4abfbf4034b419736de5797a3860ab0bcf5c5c8d
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Wed Jan 18 17:42:44 2006 -0800

    [PATCH] uml: move headers to arch/um/include
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves skas headers to arch/um/include.
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c332a251302873cf8301c2aad27737b6df70255
Author: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
Date:   Wed Jan 18 17:42:43 2006 -0800

    [PATCH] uml: change interface to boot_timer_handler
    
    Current implementation of boot_timer_handler isn't usable for s390.  So I
    changed its name to do_boot_timer_handler, taking (struct sigcontext *)sc as
    argument.  do_boot_timer_handler is called from new boot_timer_handler() in
    arch/um/os-Linux/signal.c, which uses the same mechanisms as other signal
    handler to find out sigcontext pointer.
    
    Signed-off-by: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cff65c4f0ea6662124bbb7bf3806e5df1c6d735d
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Wed Jan 18 17:42:42 2006 -0800

    [PATCH] uml: move libc-dependent time code
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from time.c file under os-Linux dir and joins
    time.c and tine_kernel.c files
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4fef0c10fa174b57a10854b8b4b2b90d155706e0
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Wed Jan 18 17:42:41 2006 -0800

    [PATCH] uml: move libc-dependent utility procedures
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from user_util.c file under os-Linux dir
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12919aa6e015dd85170fc3b1a3e10a5dfd116c72
Author: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
Date:   Wed Jan 18 17:42:39 2006 -0800

    [PATCH] uml: move LDT creation
    
    s390 doesn't have a LDT.  So MM_COPY_SEGMENTS will not be supported on s390.
    
    The only user of MM_COPY_SEGMENTS is new_mm(), but that's no longer useful, as
    arch/sys-i386/ldt.c defines init_new_ldt(), which is called immediately after
    new_mm().  So we should copy host's LDT in init_new_ldt(), if /proc/mm is
    available, to have this subarch specific call in subarch code.
    
    Signed-off-by: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea1eae75eb596e0628dc5e01d32c78b1f6b257fb
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 18 17:42:38 2006 -0800

    [PATCH] uml: add __raw_writel definition
    
    Add implementations of the write* and __raw_write* functions.  __raw_writel is
    needed by lib/iocopy.c, which shouldn't be used in UML, but which is
    unconditionally linked in anyway.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86c562a9d6683063e071692fe14e0a18e64ee1be
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Jan 18 17:42:37 2006 -0800

    [PATCH] mm: optimize numa policy handling in slab allocator
    
    Move the interrupt check from slab_node into ___cache_alloc and adds an
    "unlikely()" to avoid pipeline stalls on some architectures.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc85da15d42b0efc792b0f5eab774dc5dbc1ceec
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Jan 18 17:42:36 2006 -0800

    [PATCH] NUMA policies in the slab allocator V2
    
    This patch fixes a regression in 2.6.14 against 2.6.13 that causes an
    imbalance in memory allocation during bootup.
    
    The slab allocator in 2.6.13 is not numa aware and simply calls
    alloc_pages().  This means that memory policies may control the behavior of
    alloc_pages().  During bootup the memory policy is set to MPOL_INTERLEAVE
    resulting in the spreading out of allocations during bootup over all
    available nodes.  The slab allocator in 2.6.13 has only a single list of
    slab pages.  As a result the per cpu slab cache and the spinlock controlled
    page lists may contain slab entries from off node memory.  The slab
    allocator in 2.6.13 makes no effort to discern the locality of an entry on
    its lists.
    
    The NUMA aware slab allocator in 2.6.14 controls locality of the slab pages
    explicitly by calling alloc_pages_node().  The NUMA slab allocator manages
    slab entries by having lists of available slab pages for each node.  The
    per cpu slab cache can only contain slab entries associated with the node
    local to the processor.  This guarantees that the default allocation mode
    of the slab allocator always assigns local memory if available.
    
    Setting MPOL_INTERLEAVE as a default policy during bootup has no effect
    anymore.  In 2.6.14 all node unspecific slab allocations are performed on
    the boot processor.  This means that most of key data structures are
    allocated on one node.  Most processors will have to refer to these
    structures making the boot node a potential bottleneck.  This may reduce
    performance and cause unnecessary memory pressure on the boot node.
    
    This patch implements NUMA policies in the slab layer.  There is the need
    of explicit application of NUMA memory policies by the slab allcator itself
    since the NUMA slab allocator does no longer let the page_allocator control
    locality.
    
    The check for policies is made directly at the beginning of __cache_alloc
    using current->mempolicy.  The memory policy is already frequently checked
    by the page allocator (alloc_page_vma() and alloc_page_current()).  So it
    is highly likely that the cacheline is present.  For MPOL_INTERLEAVE
    kmalloc() will spread out each request to one node after another so that an
    equal distribution of allocations can be obtained during bootup.
    
    It is not possible to push the policy check to lower layers of the NUMA
    slab allocator since the per cpu caches are now only containing slab
    entries from the current node.  If the policy says that the local node is
    not to be preferred or forbidden then there is no point in checking the
    slab cache or local list of slab pages.  The allocation better be directed
    immediately to the lists containing slab entries for the allowed set of
    nodes.
    
    This way of applying policy also fixes another strange behavior in 2.6.13.
    alloc_pages() is controlled by the memory allocation policy of the current
    process.  It could therefore be that one process is running with
    MPOL_INTERLEAVE and would f.e.  obtain a new page following that policy
    since no slab entries are in the lists anymore.  A page can typically be
    used for multiple slab entries but lets say that the current process is
    only using one.  The other entries are then added to the slab lists.  These
    are now non local entries in the slab lists despite of the possible
    availability of local pages that would provide faster access and increase
    the performance of the application.
    
    Another process without MPOL_INTERLEAVE may now run and expect a local slab
    entry from kmalloc().  However, there are still these free slab entries
    from the off node page obtained from the other process via MPOL_INTERLEAVE
    in the cache.  The process will then get an off node slab entry although
    other slab entries may be available that are local to that process.  This
    means that the policy if one process may contaminate the locality of the
    slab caches for other processes.
    
    This patch in effect insures that a per process policy is followed for the
    allocation of slab entries and that there cannot be a memory policy
    influence from one process to another.  A process with default policy will
    always get a local slab entry if one is available.  And the process using
    memory policies will get its memory arranged as requested.  Off-node slab
    allocation will require the use of spinlocks and will make the use of per
    cpu caches not possible.  A process using memory policies to redirect
    allocations offnode will have to cope with additional lock overhead in
    addition to the latency added by the need to access a remote slab entry.
    
    Changes V1->V2
    - Remove #ifdef CONFIG_NUMA by moving forward declaration into
      prior #ifdef CONFIG_NUMA section.
    
    - Give the function determining the node number to use a saner
      name.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc0abb1451c64c79ac80665d5ba74450ce274e4d
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Jan 18 17:42:33 2006 -0800

    [PATCH] sem2mutex: mm/slab.c
    
    Convert mm/swapfile.c's swapon_sem to swapon_mutex.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1743660b911bfb849b1fb33830522254561b9f9b
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Jan 18 17:42:32 2006 -0800

    [PATCH] Zone reclaim: proc override
    
    proc support for zone reclaim
    
    This patch creates a proc entry /proc/sys/vm/zone_reclaim_mode that may be
    used to override the automatic determination of the zone reclaim made on
    bootup.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9eeff2395e3cfd05c9b2e6074ff943a34b0c5c21
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Jan 18 17:42:31 2006 -0800

    [PATCH] Zone reclaim: Reclaim logic
    
    Some bits for zone reclaim exists in 2.6.15 but they are not usable.  This
    patch fixes them up, removes unused code and makes zone reclaim usable.
    
    Zone reclaim allows the reclaiming of pages from a zone if the number of
    free pages falls below the watermarks even if other zones still have enough
    pages available.  Zone reclaim is of particular importance for NUMA
    machines.  It can be more beneficial to reclaim a page than taking the
    performance penalties that come with allocating a page on a remote zone.
    
    Zone reclaim is enabled if the maximum distance to another node is higher
    than RECLAIM_DISTANCE, which may be defined by an arch.  By default
    RECLAIM_DISTANCE is 20.  20 is the distance to another node in the same
    component (enclosure or motherboard) on IA64.  The meaning of the NUMA
    distance information seems to vary by arch.
    
    If zone reclaim is not successful then no further reclaim attempts will
    occur for a certain time period (ZONE_RECLAIM_INTERVAL).
    
    This patch was discussed before. See
    
    http://marc.theaimsgroup.com/?l=linux-kernel&m=113519961504207&w=2
    http://marc.theaimsgroup.com/?l=linux-kernel&m=113408418232531&w=2
    http://marc.theaimsgroup.com/?l=linux-kernel&m=113389027420032&w=2
    http://marc.theaimsgroup.com/?l=linux-kernel&m=113380938612205&w=2
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f1fd1067ece574ab56e4a70878b9a5a1ed4c3c42
Author: Christoph Lameter <clameter@sgi.com>
Date:   Wed Jan 18 17:42:30 2006 -0800

    [PATCH] Zone reclaim: resurrect may_swap
    
    Zone reclaim has a huge impact on NUMA performance (f.e.  our maximum
    throughput with XFS is raised from 4GB to 6GB/sec / page cache contamination
    of numa nodes destroys locality if one just does a large copy operation which
    results in performance dropping for good until reboot).
    
    This patch:
    
    Resurrect may_swap in struct scan_control
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc3012896337c83a056c496d7cfb0072e1591181
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Jan 18 17:42:29 2006 -0800

    [PATCH] Simplify migrate_page_add
    
    Simplify migrate_page_add after feedback from Hugh.  This also allows us to
    drop one parameter from migrate_page_add.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 053837fce7aa79025ed57656855df09f80175527
Author: Nick Piggin <npiggin@suse.de>
Date:   Wed Jan 18 17:42:27 2006 -0800

    [PATCH] mm: migration page refcounting fix
    
    Migration code currently does not take a reference to target page
    properly, so between unlocking the pte and trying to take a new
    reference to the page with isolate_lru_page, anything could happen to
    it.
    
    Fix this by holding the pte lock until we get a chance to elevate the
    refcount.
    
    Other small cleanups while we're here.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e236a166b2bc437769a9b8b5d19186a3761bde48
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 18 17:42:26 2006 -0800

    [PATCH] mm: dirty_exceeded speedup
    
    Ravikiran reports that this variable is bouncing all around nodes on NUMA
    machines, causing measurable performance problems.  Fix that up by only
    writing to it when it actually changed.
    
    And put it in a new cacheline to prevent it sharing with other things (this
    happened).
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2aeacd48ca2418fbac985a58d2200c263444d65
Author: Jon Mason <jdmason@us.ibm.com>
Date:   Wed Jan 18 17:42:25 2006 -0800

    [PATCH] Prevent trident driver from grabbing pcnet32 hardware
    
    Some pcnet32 hardware erroneously has the Vendor ID for Trident.  The
    pcnet32 driver looks for the PCI ethernet class before grabbing the
    hardware, but the current trident driver does not check against the PCI
    audio class.  This allows the trident driver to claim the pcnet32 hardware.
     This patch prevents that.
    
    This revised version of the OSS Trident patch includes PCI_DEVICE Macro
    usage.
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Muli Ben-Yehuda <mulix@mulix.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35fbd397f0ce2addd5ab889bf0bcd95f45837e3e
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Wed Jan 18 17:42:24 2006 -0800

    [PATCH] synclink_gt fix size of register value storage
    
    Fix incorrect variable size used to hold register value.  This bug might
    wipe out a portion of the TCR value when setting the interface options.
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8d338c8dbc4461a6de1171c2332b8ed547f8f3b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 18 17:42:22 2006 -0800

    [PATCH] scsi_transport_spi build fix
    
    On alpha:
    
    In file included from drivers/scsi/sym53c8xx_2/sym_glue.h:59,
                     from drivers/scsi/sym53c8xx_2/sym_fw.c:40:
    include/scsi/scsi_transport_spi.h:57: error: field `dv_mutex' has incomplete type
    
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab26a20bb0ca0cafb3190972c982f9bfb819040f
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 18 17:42:21 2006 -0800

    [PATCH] x86_64: Fix MCE exception stack for boot CPU
    
    Fix a typo/mis-merge in one of the previous patches.
    
    Signed-off-by: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 43c3e6f5abdf6acac9b90c86bf03f995bf7d3d92
Author: Jan Kara <jack@suse.cz>
Date:   Wed Jan 18 17:42:20 2006 -0800

    [PATCH] jbd: remove_transaction fix
    
    We have to check that also the second checkpoint list is non-empty before
    dropping the transaction.
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d3c7fce2d20ecc3264c8d8c91ae3beacdeaed1b
Author: Jan Kara <jack@suse.cz>
Date:   Wed Jan 18 17:42:19 2006 -0800

    [PATCH] jbd: log_do_checkpoint fix
    
    While checkpointing we have to check that our transaction still is in the
    checkpoint list *and* (not or) that it's not just a different transaction
    with the same address.
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2149bcabc5f6fd635935d57480044ba4c11bc020
Merge: 2333f21... d9004eb...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 18 15:19:40 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 2333f2120759bb2a3edcc0d32b2f310048ee610d
Merge: 097916e... 37b797b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 18 15:18:53 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 097916ecafd3bbedbde3ba068522093bf72319b3
Merge: 3da3856... 29f8f63...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 18 15:08:16 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 3da38566dfd4b2402b280cb52ffc7c56f1a95b9c
Merge: 7c4d336... 959a85a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 18 15:08:02 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 959a85ada599fd5bab7fab8251795c3a58af28d4
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 18 14:58:05 2006 -0800

    [SPARC64]: Fix build with CONFIG_COMPAT disabled.
    
    Based upon a report and preliminary patch from Jim Gifford.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 37b797b270a81248f839629ddeb382a35c7b0d30
Merge: 1e74c89... 30ff720...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 18 22:56:29 2006 +0000

    Merge master.kernel.org:/pub/scm/linux/kernel/git/tmlind/linux-omap-upstream

commit c126cf80d450a4d0aac3de7162d4c14b5c971b24
Author: Eddie C. Dost <ecd@brainaid.de>
Date:   Wed Jan 18 14:54:31 2006 -0800

    [SPARC64]: Serial Console for E250 Patch
    
    From: Eddie C. Dost <ecd@brainaid.de>
    
    I have the following patch for serial console over the RSC
    (remote system controller) on my E250 machine. It basically adds
    support for input-device=rsc and output-device=rsc from OBP, and
    allows 115200,8,n,1,- serial mode setting.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 29f8f63272bd286549d1c7f75ad22686191d35d8
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Jan 18 14:52:48 2006 -0800

    [MAINTAINERS]: add entry for wireless networking
    
    Add an entry to MAINTAINERS for wireless networking, just so people
    know whom to bless with patches.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5ca3117b07ebb0e7dcd5e7a1219277cc4478266
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Jan 18 14:52:18 2006 -0800

    [MAINTAINERS]: correct location for net-2.6.git
    
    Correct location info for net-2.6 git tree.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1e74c891252941ac195bb47978f079c592271a3f
Author: David Vrabel <dvrabel@arcom.com>
Date:   Wed Jan 18 22:46:43 2006 +0000

    [ARM] 3281/1: ixp4xx: export ixp4xx_exp_bus_size for modules
    
    Patch from David Vrabel
    
    Export ixp4xx_exp_bus_size so modules can use the IXP4XX_EXP_BUS_BASE(n) macro.
    
    Also, fix a printk format warning.
    
    Signed-off-by: David Vrabel <dvrabel@arcom.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 265d5e48dd1fd4c53f2b454e1e82b7713ddca37e
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Jan 18 22:38:51 2006 +0000

    [ARM] 3272/1: fix kernel decompressor crash
    
    Patch from Nicolas Pitre
    
    Commit f4619025a51747a3788fd1bb6bdc46e368a889a7 broke the kernel
    decompressor (at least on PXA).  Here's the fix.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5e0974459df9acd6cd0952c98a58816ad820ae66
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Jan 18 22:38:49 2006 +0000

    [ARM] 3271/1: ARM EABI: fix calling of cmpxchg syscall emulation
    
    Patch from Nicolas Pitre
    
    This is kernel provided user space code.
    
    Since a syscall is used, it has to be updated to work with EABI.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fcca538b83f2984095f15f0f90f6c7686e3a32d4
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Jan 18 22:38:47 2006 +0000

    [ARM] 3270/1: ARM EABI: fix sigreturn and rt_sigreturn
    
    Patch from Nicolas Pitre
    
    The signal return path consists of user code provided by the kernel.
    Since a syscall is used, it has to be updated to work with EABI.
    
    Noticed by Daniel Jacobowitz.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1230b4046b9da77ccb83ef2eaffc54dc4a96093a
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Wed Jan 18 22:38:46 2006 +0000

    [ARM] 3268/1: AT91RM9200 serial update for 2.6.15-git12
    
    Patch from Andrew Victor
    
    This patch fixes two small issues with 2.6.15-git12.
    
    1) Corrected major/minor numbers for ttyAT devices in the KConfig help.
       (Patch from Karl Olsen)
    
    2) tty->flip.count has been removed.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 68477d11769ce8c6830523f08637894c43885c7e
Author: David Vrabel <dvrabel@arcom.com>
Date:   Wed Jan 18 22:38:44 2006 +0000

    [ARM] 3267/1: PXA27x SSP controller register defines
    
    Patch from David Vrabel
    
    PXA27x SSP controller has a few different registers, including SCR (serial clock rate) in SSCR0.
    
    Signed-off-by: David Vrabel <dvrabel@arcom.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 27a7b0415f6e5c0ffdfb1ba42b9b96ddfbb78b8f
Merge: ad12583... 4323add...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 18 14:23:54 2006 -0800

    Merge git://tipc.cslab.ericsson.net/pub/git/tipc

commit ad12583f46bcb6ce93ccd99fa063c0d701146b2e
Author: David L Stevens <dlstevens@us.ibm.com>
Date:   Wed Jan 18 14:20:56 2006 -0800

    [IPV4]: Fix multiple bugs in IGMPv3
    
    1) fix "mld_marksources()" to
            a) send nothing when all queried sources are excluded
            b) send full exclude report when source queried sources are
                    not excluded
            c) don't schedule a timer when there's nothing to report
    
    2) fix "add_grec()" to send empty-source records when it should
            The original check doesn't account for a non-empty source
            list with all sources inactive; the new code keeps that
            short-circuit case, and also generates the group header
            with an empty list if needed.
    
    3) fix mca_crcount decrement to be after add_grec(), which needs
            its original value
    
    4) add/remove delete records and prevent current advertisements
            when an exclude-mode filter moves from "active" to "inactive"
            or vice versa based on new filter additions.
    
            Items 1-3 are just IPv4 versions of the IPv6 bugs found
    by Yan Zheng and fixed earlier. Item #4 is a related bug that
    affects exclude-mode change records only (but not queries) and
    also occurs in IPv6 (IPv6 version coming soon).
    
    Signed-off-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 47c886b3123a335f0622136e021e7691d60d742c
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Jan 18 14:20:39 2006 -0800

    [CIFS] Fix oops in cifs_readpages caused by not checking buf_type in an
    error path of new cifs_readpages code.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7ac5459ec0f074022818af35c589b9e2b406d7c3
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 18 14:19:10 2006 -0800

    [PKTGEN]: Respect hard_header_len of device.
    
    Don't assume 16.
    
    Found by Ben Greear.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e048a374d0d7beb9cf3529eac71ddd79699c8669
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 18 14:06:59 2006 -0800

    [IRDA]: maintainer status
    
    Jean says he really doesn't have time to much IRDA any more.
    The following would help motivate someone who has more time.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fa4f0774d7c6cccb4d1fda76b91dd8eddcb2dd6a
Author: Nick Piggin <npiggin@suse.de>
Date:   Wed Jan 18 14:05:16 2006 -0800

    [CASSINI]: dont touch page_count
    
    Remove page refcount manipulations from cassini driver by using
    another field in struct page. Needed for lockless pagecache.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f3876c1bc7a23d4712c824f2ef5ec7d138259594
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 18 13:40:54 2006 -0800

    [CPUFREQ] Don't free held mutex in cpufreq_add_dev()
    
    Make the cpufreq code play nicely with the mutex debugging code: don't free a
    held mutex.
    
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 83933af4720b282f6f6a0b6c05a2a47b4cf08819
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Sat Jan 14 16:01:49 2006 +0100

    [CPUFREQ] convert remaining cpufreq semaphore to a mutex
    
    This one fell through the automation at first because it initializes the
    semaphore to locked, but that's easily remedied
    
    Signed-off-by:  Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Dave Jones <davej@redhat.com>
    
     drivers/cpufreq/cpufreq.c |   37 +++++++++++++++++++------------------
     include/linux/cpufreq.h   |    3 ++-
     2 files changed, 21 insertions(+), 19 deletions(-)

commit 3fc54d37ab64733448faf0185e19a80f070eb9e3
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 13 15:54:22 2006 -0800

    [CPUFREQ] Convert drivers/cpufreq semaphores to mutexes.
    
    Semaphore to mutex conversion.
    
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit c07a8475ddcadb55b11379c35c9586971a9cedbf
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 18 13:41:36 2006 -0800

    [SPARC64]: Update defconfig.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7c4d33675f81fa38f85eeabbbf3e7b8687c15cc3
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:45 2006 -0800

    [PATCH] e1000: fix compile warning
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 86c3d59ff54c31f07d0f0483dd3f668107c8cf85
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:43 2006 -0800

    [PATCH] e1000: fix receive breakage
    
    in attempting to not send the "prefetch" patch, we broke the receive code,
    this patch fixes that issue.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 73629bbc84a7d4026ad08edbfefc642eec60f246
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:41 2006 -0800

    [PATCH] e1000: Added driver comments
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 96838a40f02950f4ff501f62a7e59ac4d508e8b7
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:39 2006 -0800

    [PATCH] e1000: Fix whitespace
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6150f038158ad8ad4b74d6b76a67e2f68fd1d8e2
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:37 2006 -0800

    [PATCH] e1000: Added functions declarations
    
    Added e1000_mc_addr_list_update
    Added e1000_read_reg_io
    Added e1000_enable_pciex_master
    
    These are not static functions, that is why we have them declared in the header.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2f82665fe51b65921e64d5ceb3a6db98f72c4d61
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:34 2006 -0800

    [PATCH] e1000: Added functions to save and restore config
    
    These functions help restore the driver to active configuration when coming out of resume for power management.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b92ff8ee5763ee0b408f3cf2360f58dd7ea9c5da
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:32 2006 -0800

    [PATCH] e1000: Added RX buffer enhancements
    
    Align the prefetches to a dword to help speed them up.
    Recycle skb's and early replenish.
    Force memory writes to complete before fetching more descriptors.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 35ec56bb78fda9c88cd1ad30e048ce5b4398d33f
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Wed Jan 18 13:01:30 2006 -0800

    [PATCH] e1000: Added disable packet split capability
    
    Adds the ability to disability packet split at compile time and use the legacy receive path on PCI express hardware.  Made this a CONFIG option and modified the Kconfig, to reflect the new option.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d9004eb466d03b7900ed432fecec6819012b4ed3
Author: Alon Bar-Lev <alon.barlev@gmail.com>
Date:   Wed Jan 18 11:47:33 2006 +0000

    [SERIAL] Add 8250 support for Decision Computer International Co. PCCOM2
    
    There is a new device which is look like:
    
    	Serial controller: Decision Computer International Co. PCCOM2 (rev 02) (prog-if 02 [16550])
    	0700: 6666:0004 (rev 02) (prog-if 02)
    	Flags: medium devsel, IRQ 177
    	Memory at fe000000 (32-bit, non-prefetchable) [size=128]
    	I/O ports at e880 [size=128]
    	I/O ports at e400 [size=256]
    
    It has two 16550A, and is not listed in kernel, although the
    manufacturer clams that it is supported...
    
    I've created the following patch, it only add the new PCI id and the
    card to the repository, it seems to work.
    
    Signed-off-by: Alon Bar-Lev <alon.barlev@gmail.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bc965a7f43d3fc37584f9c16c6d7a84a911a9d9c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 18 09:54:29 2006 +0000

    [SERIAL] Fix serial8250 driver initialisation ordering
    
    Commit 7493a314cb83797ce612a577475aacaedc553fed changed the ordering
    of the registration of the platform device driver vs the 8250 drivers
    internal initialisation.  This led to the probe function being called
    before the driver had finished its internal initialisation, causing
    mayhem.  Revert the ordering change.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dbd2915ce87e811165da0717f8e159276ebb803e
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 17 21:58:01 2006 -0800

    [IPV4]: RT_CACHE_STAT_INC() warning fix
    
    BUG: using smp_processor_id() in preemptible [00000001] code: rpc.statd/2408
    
    And it _is_ a bug, but I guess we don't care enough to add preempt_disable().
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d65177c1ae7f085723154105c5dc8d9e16ae8265
Merge: d41f084... 15578ee...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Jan 17 19:49:59 2006 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7eb9b2f56c9812d03ac63031869bcc42151067b1
Merge: 728c776... d88992f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 17 19:48:07 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit 728c7763e7234cf8d34fa159660df736556563c9
Merge: d1138cf... a1bd9e6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 17 19:47:31 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit d1138cf035ad5a8dc0796b213bd078a2fb92eb7c
Merge: 15578ee... 77783a7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 17 19:46:46 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit d41f084a74de860fe879403fbbad13abdf7aea8e
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Jan 17 19:16:53 2006 -0800

    [CIFS] Remove compiler warning
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d88992f660936049f5f38d74ea5a86b5c1491a48
Author: David Chinner <dgc@sgi.com>
Date:   Wed Jan 18 13:38:12 2006 +1100

    [XFS] Fix a race in xfs_submit_ioend() where we can be completing I/O for
    a page while we are still submitting other buffers on the same page for
    I/O.
    
    SGI-PV: 948197
    SGI-Modid: xfs-linux-melb:xfs-kern:25004a
    
    Signed-off-by: David Chinner <dgc@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 15578eeb6cd4b74492f26e60624aa1a9a52ddd7b
Merge: 8f28afa... 3860288...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 17 17:32:22 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 8f28afac3494f573ac774030a1f840b7d6237da2
Merge: c6b3fea... 4f3f2f6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 17 17:19:53 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit c6b3feaf5774508ab5a955a81e45ffefa3b12eaa
Author: Bryan O'Sullivan <bos@serpentine.com>
Date:   Tue Jan 17 17:00:05 2006 -0800

    [PATCH] Fix sparse parse error in lppaca.h
    
    sparse can't parse a struct definition in include/asm-powerpc/lppaca.h,
    even though gcc can accept it.  The form looks like this:
    
            struct __attribute__((whatever)) foo { };
    
    An equivalent that both gcc and sparse can handle is
    
            struct foo { } __attribute__((whatever));
    
    This is the only definition of this type in the tree, and fixing it is
    easier than fixing sparse.
    
    Signed-off-by: Bryan O'Sullivan <bos@serpentine.com>
    [ Side note: fixing sparse wouldn't be hard, but the "attribute at the
      end" version is the canonical one, and the one that makes sense. So
      let's just fix the kernel instead. Luc Van Oostenryck already sent
      out a sparse patch to the sparse mailing list in case anybody cares.
                   -- Linus ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77783a78ded96a56e3a1a0c03bbe87c56896fe6e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Jan 5 16:26:05 2006 -0800

    [PATCH] skge: fix dma mask setup.
    
    There are a couple of problems in the DMA setup code for skge.
    * In the 64 bit case, it doesn't set the consistent mask.
    * In the 32 bit case, the error check is backwards!
    It likely will only be visible as a bug on 64 bit platforms.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a1bd9e68573239320d18823c73eb06d8e56cc9e2
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Jan 17 20:53:50 2006 +0000

    [PATCH] libata: Code for the IRQ mask flag
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    
    Somewhat cleaner in the resync as someone cleaned up the pio xfer users
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9d824d0710a9e780451533ae4c5cdc5c2ff9062e
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Jan 17 20:51:55 2006 +0000

    [PATCH] libata: Fix sector lock to apply to both drives not drive 0 twice
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8d238e012469a9a332c78d6a69a8a46ac4b1e9c2
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Jan 17 20:50:31 2006 +0000

    [PATCH] libata: Fix heuristic typos add LBA48PIO flag and support code, add IRQ flag for next diff
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 012b265f76ce5d497b182569dc77f2c68662bead
Author: Jason Gaston <jason.d.gaston@intel.com>
Date:   Tue Jan 17 12:28:48 2006 -0800

    [PATCH] Intel ICH8 SATA: add PCI device IDs
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 22d4d77183f0af8b3b643544a5ae64ec6105d88b
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Jan 17 17:53:56 2006 +0000

    [PATCH] Fix warning with b44.c on 64bit boxes
    
    sizeof() return is not an int, so use max_t to get the types right.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0570cc08194630bd78aef7c2c2b4f6a3f02c2bba
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:21 2006 -0800

    [PATCH] sky2: 0.13 version
    
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 302d12522a36790858ce93b69ebf2220f9e5173a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:20 2006 -0800

    [PATCH] sky2: more conservative transmit locking
    
    Be more careful about transmit locking, this solves a possible race
    between tx_complete and transmit, that would cause a tx timeout.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 28bd181a8e4abf1126de56f0934ba7c910276475
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:19 2006 -0800

    [PATCH] sky2: don't inline so much
    
    Don't need to inline quite so many routines, let the compiler
    decide
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6aad85d6730d47d4867f24eeda517766aa89f8d0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:18 2006 -0800

    [PATCH] sky2: use kzalloc
    
    Can use kzalloc here.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3be92a70237a1bd813e46d6683a55b508627013a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:17 2006 -0800

    [PATCH] sky2: ratelimit error messages
    
    Make sure and rate limit all the error messages that might occur. If a problem
    occurs then a few messages are enough.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a036119f977eeeae2089ddf5b4759de9ca5fbdb6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:16 2006 -0800

    [PATCH] sky2: optimize for 32 bit dma
    
    Small optimization, if dma addresses are 32 bits, then high
    bits are always zero.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.or>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit dc4d5ea2218b80eb8cd323082f09c506ba75fb6f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:15 2006 -0800

    [PATCH] sky2: don't bother clearing status ring elements
    
    Don't need to zero out the status ring entries after processing.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 762c2de2e61ef5f3c866d00861e6b1509cd8eacf
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:14 2006 -0800

    [PATCH] sky2: write barrier's
    
    Be more careful about memory barriers. The only place we really
    need them is before and after updating the chip's ring interface.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1c28f6ba600d05be2dc7ab0592e4d845f668a485
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:13 2006 -0800

    [PATCH] sky2: fix ram buffer for Yukon FE rev 2
    
    Fix problems with Yukon FE rev 2 chipset. Don't cut and paste bugs in from
    sk98lin driver. Change how the ram buffer is divided up, and make the math
    clearer. Also, set the thresholds where rx takes precedence. The threshold
    values are just guesses at this point, it might be worth tuning them later.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e0c94455ce2a0e5734eeb236fb49a4613e20e7b0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:12 2006 -0800

    [PATCH] sky2: version 0.12
    
    Version update.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d1f3d4ddddc3c86e25ce2a41dc129cbe10e24991
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:11 2006 -0800

    [PATCH] sky2: call pci_set_consistent_dma_mask
    
    Need to call pci_set_consistent_dma_mask in the case of 64 bit
    DMA.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 82788c7a47e50ee8d42e3be23afb23448d651c4c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 17 13:43:10 2006 -0800

    [PATCH] sky2: receive buffer alignment
    
    Need to make sure that sky2 receive buffers are 64 bit
    aligned. Also, don't need to start off with GFP_ATOMIC
    on initial setup.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0547993820378ef8140b0470b604737bf1fa6c85
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Jan 17 15:01:10 2006 -0800

    [PATCH] e100: e100 whitespace fixes
    
    e100: e100 whitespace fixes
    
    These are whitespace only fixes.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3435dbcec199740d3100e0a2f316e795286b5424
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Jan 17 15:01:08 2006 -0800

    [PATCH] e100: Handle the return values from pci_* functions
    
    e100: Handle the return values from pci_* functions
    
    This is to resolve warnings during compile time.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 24180333206519e6b0c4633eab81e773b4527cac
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Jan 17 15:01:06 2006 -0800

    [PATCH] e100: Fix TX hang and RMCP Ping issue (due to a microcode loading issue)
    
    e100: Fix TX hang and RMCP Ping issue (due to a microcode loading issue)
    
    Set the end of list bit to cause the hardware's transmit state machine to
    work correctly and not prevent management (BMC) traffic.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4f3f2f6f3e7ce68c533e7786114f05181772ff6f
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 17 15:55:58 2006 -0800

    [SOUND]: sparc/cs4231: Fix some typos which wrecked the build.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c7006638a50cbf16bb420fa91e5af2dd22d28621
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 17 15:53:11 2006 -0800

    [SPARC]: Fix sbusfb build.
    
    sbusfb_compat_ioctl() needs to return int, not long, as that
    is what the fb_ops->fb_compat_ioctl method prototype wants.
    
    Need to git rid of the "struct file *file" first argument to
    fbiogetputcmap() and fbiogscursor() to match calls done in
    sbusfb_compat_ioctl().
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4323add67792ced172d0d93b8b2e6187023115f1
Author: Per Liden <per.liden@ericsson.com>
Date:   Wed Jan 18 00:38:21 2006 +0100

    [TIPC] Avoid polluting the global namespace
    
    This patch adds a tipc_ prefix to all externally visible symbols.
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 1e63e681e06d438fdc542d40924a4f155d461bbd
Author: Per Liden <per.liden@ericsson.com>
Date:   Mon Jan 16 16:39:13 2006 +0100

    [TIPC] Group protocols with sub-options in Kconfig
    
    This is just a cosmetic change that moves the TIPC configuration
    entry next to the other protocols that also have sub-options.
    Makes the the networking options menu look a bit better.
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit c11ac3f236d73dd00c21ab4f06166606dea71ef3
Author: Per Liden <per.liden@ericsson.com>
Date:   Mon Jan 16 16:32:18 2006 +0100

    [TIPC] Add help text for TIPC configuration option
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 50f9bcddf8be147678c2d4ef8ac5279222d0ae3a
Author: Per Liden <per.liden@ericsson.com>
Date:   Mon Jan 16 12:42:35 2006 +0100

    [TIPC] Remove unused #includes
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 33a9c4da5ab16192ef1e961d4c4e45c18031cd67
Author: Per Liden <per.liden@ericsson.com>
Date:   Mon Jan 16 11:42:12 2006 +0100

    [TIPC] Move ethernet protocol id to linux/if_ether.h
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 7c2b2aaee45c365596a83bcf8758b1f222e0eca4
Author: Per Liden <per.liden@ericsson.com>
Date:   Sat Jan 14 12:42:21 2006 +0100

    [TIPC] Provide real email addresses in MAINTAINERS
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 16cb4b333c9e7a00ce3b1d74ec0c9b4c2e956910
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Fri Jan 13 22:22:22 2006 +0100

    [TIPC] Updated link priority macros
    
    Added macros for min/default/max link priority in tipc_config.h.
    Also renamed TIPC_NUM_LINK_PRI to TIPC_MEDIA_LINK_PRI since that
    is a more accurate description of what it is used for.
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>

commit 5f7c3ff6a2e227418d363069ff89cf9d7f01fbc1
Author: Jon Maloy <jon.maloy@ericsson.com>
Date:   Fri Jan 13 10:45:44 2006 +0000

    [TIPC] Minor changes to #includes
    
    Signed-off-by: Jon Maloy <jon.maloy@ericsson.com>

commit 1ae613883468eab2fb8a077aad9fdedfbfa73d1b
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Tue Jan 17 15:36:05 2006 -0800

    [SPARC]: change if() BUG(); to BUG_ON in iommu.c
    
    this patch changes if() BUG(); constructs
    in iommu.c to BUG_ON(); so it gets save
    to define BUG() and BUG_ON() to nullstatements.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 30ff720b40ba64b0e9c8974673b95970e68503ac
Author: Tony Lindgren <tony@atomide.com>
Date:   Tue Jan 17 15:33:51 2006 -0800

    ARM: OMAP: 4/4 Fix clock framework to use clk_enable/disable misc
    
    This patch fixes OMAP clock framework to use clk_enable/disable
    instead of clk_use/unuse as specified in include/linux/clk.h.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>

commit fde0fd49419177ddd69254b8d532edde9ce6a543
Author: Tony Lindgren <tony@atomide.com>
Date:   Tue Jan 17 15:31:18 2006 -0800

    ARM: OMAP: 3/4 Fix clock framework to use clk_enable/disable for omap2
    
    This patch fixes OMAP clock framework to use clk_enable/disable
    instead of clk_use/unuse as specified in include/linux/clk.h.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>

commit 10b55794134b279e2ce37713972e324c0dd507ab
Author: Tony Lindgren <tony@atomide.com>
Date:   Tue Jan 17 15:30:42 2006 -0800

    ARM: OMAP: 2/4 Fix clock framework to use clk_enable/disable for omap1
    
    This patch fixes OMAP clock framework to use clk_enable/disable
    instead of clk_use/unuse as specified in include/linux/clk.h.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>

commit f07adc591e6ff100773b93b643f58d9773df6e21
Author: Tony Lindgren <tony@atomide.com>
Date:   Tue Jan 17 15:27:09 2006 -0800

    ARM: OMAP: 1/4 Fix clock framework to use clk_enable/disable
    
    This patch fixes OMAP clock framework to use clk_enable/disable
    instead of clk_use/unuse as specified in include/linux/clk.h.
    
    Instances of clk_use/unuse are renamed to clk_enable/disable,
    and references clk_use/unuse are removed.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>

commit 9eb3394bf2037120881a8846bc67064f49325366
Author: Richard Mortimer <richm@oldelvet.org.uk>
Date:   Tue Jan 17 15:21:01 2006 -0800

    [SPARC64]: Eliminate race condition reading Hummingbird STICK register
    
    Ensure a consistent value is read from the STICK register by ensuring
    that both high and low are read without high changing due to a roll
    over of the low register.
    
    Various Debian/SPARC users (myself include) have noticed problems with
    Hummingbird based systems. The symptoms are that the system time is
    seen to jump forward 3 days, 6 hours, 11 minutes give or take a few
    seconds. In many cases the system then hangs some time afterwards.
    
    I've spotted a race condition in the code to read the STICK register.
    I could not work out why 3d, 6h, 11m is important but guess that it is
    due to the 2^32 jump of STICK (forwards on one read and then the next
    read will seem to be backwards) during a timer interrupt. I'm guessing
    that a change of -2^32 will get converted to a large unsigned
    increment after the arithmetic manipulation between STICK,
    nanoseconds, jiffies etc.
    
    I did a test where I modified __hbird_read_stick to artificially
    inject rollover faults forcefully every few seconds. With this I saw
    the clock jump over 6 times in 12 hours compared to once every month
    or so.
    
    Signed-off-by: Richard Mortimer <richm@oldelvet.org.uk>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3860288ee8298bf2784e9a0c37d26d3a82941e35
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Tue Jan 17 15:15:38 2006 -0800

    [NET]: Use is_zero_ether_addr() in net/core/netpoll.c
    
    This replaces a memcmp() with is_zero_ether_addr().
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 64af4c13622511257daba762b32d9d20f2d0c4b5
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 17 15:14:49 2006 -0800

    [CASSINI]: Fix printk warning.
    
    drivers/net/cassini.c:1930: warning: long unsigned int format, different type arg (arg 4)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4b16bfbf8f8013fefb49592d030ff87651ab48cb
Author: Zoltan Menyhart <Zoltan.Menyhart@bull.net>
Date:   Fri Jan 13 17:25:23 2006 +0100

    [IA64] Fix bug in ia64 specific down() function
    
    Chen, Kenneth W wrote:
    > The memory order semantics for include/asm-ia64/semaphore.h:down()
    > doesn't look right.  It is using atomic_dec_return, which eventually
    > translate into ia64_fetch_and_add() that uses release semantics.
    > Shouldn't it use acquire semantics?
    
    Use ia64_fetchadd() instead of atomic_dec_return()
    
    Acked-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8d08aed8d7714683b33666cc066e20f957dda01d
Author: Jack Steiner <steiner@sgi.com>
Date:   Tue Jan 17 15:42:46 2006 -0600

    [IA64] Zonelists for nodes without cpus
    
    If a node runs out of memory, ensure that memory on nodes w/o cpus is used
    before using memory on nodes with cpus.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d171e519da635a82ab759cbfd46617ac160c9ec0
Author: Jes Sorensen <jes@sgi.com>
Date:   Tue Jan 17 13:05:12 2006 -0500

    [IA64-SGI] sn_console.c minor cleanup
    
    Fix printk level and remove unnecessary CONFIG_SMP|CONFIG_PREEMPT tests
    as this is taken care through the spinlock macros anyway.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Pat Gefre <pfg@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f9e505a9a03df5acace6e758c8d12982635a1c64
Author: Jes Sorensen <jes@sgi.com>
Date:   Tue Jan 17 12:52:21 2006 -0500

    [IA64-SGI] sn2 mutex conversion
    
    Migrate sn2 code to use mutex and completion events rather than
    semaphores.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Acked-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f404e9a67ffdc0bb0302a5ad1f7eaf58e5a59109
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Tue Jan 17 13:04:57 2006 -0800

    [PKTGEN]: Replacing with (compare|is_zero)_ether_addr() and ETH_ALEN
    
    This replaces some tests with is_zero_ether_addr(), memcmp(one, two,
    6) with compare_ether_addr(one, two), and 6 with ETH_ALEN where
    appropriate.
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a8fc3d8decfd5601fb14a2163952f81fa6b971bb
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Tue Jan 17 13:03:54 2006 -0800

    [NET]: "signed long" -> "long"
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ab67a4d511188680beb8a0d82a90f55dbeb53d5c
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Jan 17 13:01:31 2006 -0800

    [EBTABLES]: Handle SCTP/DCCP in ebt_{ip,log}
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ae82af54d73becd66804d942cf39b049e625fa89
Author: Patrick McHardy <kaber@trash.net>
Date:   Tue Jan 17 13:01:06 2006 -0800

    [PKT_SCHED]: Handle SCTP/DCCP in sfq_hash
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b36f170b617a7cd147b694dabf504e856a50ee9d
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Jan 17 12:19:40 2006 -0800

    IPoIB: Lock accesses to multicast packet queues
    
    Avoid corrupting mcast->pkt_queue by serializing access with
    priv->tx_lock.  Also, update dropped packet statistics to count
    multicast packets removed from pkt_queue as dropped.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit a7d1f1b66c05ef4ebb58a34be7caad9af15546a4
Author: Tsutomu Fujii <t-fujii@nb.jp.nec.com>
Date:   Tue Jan 17 11:57:09 2006 -0800

    [SCTP]: Fix sctp_rcv_ootb() to handle the last chunk of a packet correctly.
    
    Signed-off-by: Tsutomu Fujii <t-fujii@nb.jp.nec.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit c4d2444e992c4eda1d7fc3287e93ba58295bf6b9
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Jan 17 11:56:26 2006 -0800

    [SCTP]: Fix couple of races between sctp_peeloff() and sctp_rcv().
    
    Validate and update the sk in sctp_rcv() to avoid the race where an
    assoc/ep could move to a different socket after we get the sk, but before
    the skb is added to the backlog.
    
    Also migrate the skb's in backlog queue to new sk when doing a peeloff.
    
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 313e7b4d2588539e388d31c1febd50503a0083fc
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Tue Jan 17 11:55:57 2006 -0800

    [SCTP]: Fix machine check/connection hang on IA64.
    
    sctp_unpack_cookie used an on-stack array called digest as a result/out
    parameter in the call to crypto_hmac. However, hmac code
    (crypto_hmac_final)
    assumes that the 'out' argument is in virtual memory (identity mapped
    region)
    and can use virt_to_page call on it.  This does not work with the on-stack
    declared digest.  The problems observed so far have been:
     a) incorrect hmac digest
     b) machine check and hardware reset.
    
    Solution is to define the digest in an identity mapped region by
    kmalloc'ing
    it.  We can do this once as part of the endpoint structure and re-use it
    when
    verifying the SCTP cookie.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 8116ffad4180b39d7a755345c1fde09da83930c0
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Tue Jan 17 11:55:17 2006 -0800

    [SCTP]: Fix bad sysctl formatting of SCTP timeout values on 64-bit m/cs.
    
    Change all the structure members that hold jiffies to be of type
    unsigned long.  This also corrects bad sysctl formating on 64 bit
    architectures.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 38b0e42aba928d9929a26ec23b850c36a31fca5f
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Tue Jan 17 11:54:06 2006 -0800

    [SCTP]: Fix sctp_assoc_seq_show() panics on big-endian systems.
    
    This patch corrects the panic by casting the argument to the
    pointer of correct size.  On big-endian systems we ended up loading
    only 32 bits of data because we are treating the pointer as an int*.
    By treating this pointer as loff_t*, we'll load the full 64 bits
    and then let regular integer demotion take place which will give us
    the correct value.
    
    Signed-off-by: Vlad Yaseivch <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 49392e5ecf608da6770fd8723b534a0fc851edc4
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Tue Jan 17 11:53:06 2006 -0800

    [SCTP]: sctp doesn't show all associations/endpoints in /proc
    
    When creating a very large number of associations (and endpoints),
    /proc/assocs and /proc/eps will not show all of them.  As a result
    netstat will not show all of the either.  This is particularly evident
    when creating 1000+ associations (or endpoints).  As an example with
    1500 tcp style associations over loopback, netstat showed 1420 on my
    system instead of 3000.
    
    The reason for this is that the seq_operations start method is invoked
    multiple times bacause of the amount of data that is provided.  The
    start method always increments the position parameter and since we use
    the position as the hash bucket id, we end up skipping hash buckets.
    
    This patch corrects this situation and get's rid of the silly hash-1
    decrement.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 9834a2bb4970547540222fcba04e0a37d04cb0a0
Author: Vlad Yasevich <vladislav.yasevich@hp.com>
Date:   Tue Jan 17 11:52:12 2006 -0800

    [SCTP]: Fix sctp_cookie alignment in the packet.
    
    On 64 bit architectures, sctp_cookie sent as part of INIT-ACK is not
    aligned on a 64 bit boundry and thus causes unaligned access exceptions.
    
    The layout of the cookie prameter is this:
    |<----- Parameter Header --------------------|<--- Cookie DATA --------
    -----------------------------------------------------------------------
    | param type (16 bits) | param len (16 bits) | sig [32 bytes] | cookie..
    -----------------------------------------------------------------------
    
    The cookie data portion contains 64 bit values on 64 bit architechtures
    (timeval) that fall on a 32 bit alignment boundry when used as part of
    the on-wire format, but align correctly when used in internal
    structures.  This patch explicitely pads the on-wire format so that
    it is properly aligned.
    
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 7a48f923b8b27bfaa5f7b2a449a6fe268724ddd5
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Tue Jan 17 11:51:28 2006 -0800

    [SCTP]: Fix potential race condition between sctp_close() and sctp_rcv().
    
    Do not release the reference to association/endpoint if an incoming skb is
    added to backlog. Instead release it after the chunk is processed in
    sctp_backlog_rcv().
    
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: Vlad Yasevich <vladislav.yasevich@hp.com>

commit ac354a899b91239aac4d5893fc4288bc400e82b4
Author: Mike Habeck <habeck@sgi.com>
Date:   Wed Jan 11 16:40:24 2006 -0600

    [IA64-SGI] pass segment# on SN_SAL_IOIF_SLOT_{DIS,EN}ABLE calls
    
    Bugfix... the altix SN_SAL_IOIF_SLOT_ENABLE & SN_SAL_IOIF_SLOT_DISABLE
    SAL calls need to pass the segment# down
    
    Signed-off-by: Mike Habeck <habeck@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 5f7f5b0c99c9c913b649d065a9773e6ed4ed8168
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Mon Jan 16 15:31:52 2006 -0500

    [IA64-SGI] Older PROM WAR for device flush code
    
    Work-around to temporarily support older PROMs with new flush device code.
    
    This code allows systems running older PROMs to continue to run on the new
    kernel base until a new official PROM is released.
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Acked-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0f47ae0b3ec35dc5f4723f2e0ad0f6f3f55e9bcd
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Jan 17 09:53:51 2006 -0800

    IB/sa_query: Flush scheduled work before unloading module
    
    sa_query schedules work on IB asynchronous events.  After
    unregistering the async event handler, make sure that this work has
    completed before releasing the IB device (and possibly allowing the
    sa_query module text to go away).
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit cc76e33ec98ee2acab2d10828d31588d1b10f274
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Jan 17 09:41:47 2006 -0800

    IB/uverbs: Flush scheduled work before unloading module
    
    uverbs might schedule work to clean up when a file is closed.  Make
    sure that this work runs before allowing module text to go away.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 47f7a0714b67b904a3a36e2f2d85904e8064219b
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Jan 17 09:22:05 2006 -0800

    IPoIB: Make sure path is fully initialized before using it
    
    The SA path record query completion can initialize path->pathrec.dlid
    before IPoIB's callback runs and initializes path->ah, so we must test
    ah rather than dlid.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 1bc4ccfff8675adc3d96f91245eb7e2dc0043ca9
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 9 17:18:14 2006 +0000

    [PATCH] libata: add a function to decide if we need iordy
    
    This ought to be simple but for PIO2 we have to poke around the drive
    data to get it 100% correct.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ffa29456cd316a5394cdd489de5af3bf87d3c485
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 9 17:14:40 2006 +0000

    [PATCH] libata: Pre UDMA EIDE PIO mode selection
    
    I misread the spec when doing the original. I've tested the corrected
    version with pre UDMA drives and it now picks the right modes. This is a
    specific bug fix rather than an update or new feature item.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5a46fe89a73dc984a2b9ef0fde9b9e58bd4ff98f
Author: Yusuf Iskenderoglu <enygma@dreadnought.hadiko.de>
Date:   Tue Jan 17 08:06:21 2006 -0500

    [libata] sata_promise: add pci id

commit 2610c733023850be2db9fef9c81f851a64bb9f67
Author: Javier Achirica <achirica@gmail.com>
Date:   Tue Jan 17 08:01:01 2006 -0500

    airo: Off-by-one channel fix

commit 88b52877fa1a8894600362a5c9addbab1fcf8b54
Author: Oliver Weihe <o.weihe@deltacomputer.de>
Date:   Tue Jan 17 07:58:42 2006 -0500

    [libata] sata_svw: add pci id

commit f285757cab254470a10f711cd3cbaf9d92f7aa06
Author: Jason Gaston <jason.d.gaston@intel.com>
Date:   Mon Jan 9 11:09:13 2006 -0800

    [PATCH] ahci: AHCI mode SATA patch for Intel ICH8
    
    This patch adds the Intel ICH8 DID's to the ahci.c file for AHCI mode
    SATA support.
    
    Signed-off-by: Jason Gaston <Jason.d.gaston@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 38bd3b2629702894ca3528358ffc447bbacc9442
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:37 2006 -0800

    [PATCH] e1000: Removed unused variables and initialized variables
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8241e35e0c6ae7531fe270de34608edfdc2ea483
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:34 2006 -0800

    [PATCH] e1000: Cleaned up code and removed hard coded numbers
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a292ca6efbc1f259ddfb9c902367f2588e0e8b0f
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:30 2006 -0800

    [PATCH] e1000: Added copy break code
    
    Improves small packet performance with large amounts of reassembly being done in the stack.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 240b1710f56b359685bc698e2a1473a2f3f2b8d7
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:28 2006 -0800

    [PATCH] e1000: Added variable to handle return values for pci_enable_* functions
    
    This was to fix compilation warnings.  Also added log messages when pci_enable_* functions return with an error.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fb3d47d4c4cd79eeddd0ee1b470e157840dccf21
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:25 2006 -0800

    [PATCH] e1000: Added PCIe bus information
    
    This is two patches, the first is adding additional bus information for the 8257{1|2|3} controllers.  The second patch was orginally a community patch to print bus type/speed/width, and enhanced by us.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a2917e22dcaa53e8ad2d8dc3bcfa55a4b04e6d0f
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:23 2006 -0800

    [PATCH] e1000: Added firmware version reporting for 8257{1|2|3} controllers
    
    The EEPROM image version is reported as a firmware version for these controllers.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b7ee49db8b4b21dad3284d5507e7ea2946031f6e
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:21 2006 -0800

    [PATCH] e1000: Added hardware support for PCI express, 82546GB, and 82571 Fiber
    
    Added 82571 fiber to WOL fix for dual port adapters.
    Added support for 82546GB (Quad Copper).
    Added PCIe typedef for x2, igp cable length 115, and extended TX CTRL registers.
    Added parity error detection and PCIe CTRL registers.
    Added EEPROM config registers.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 72d64a436724da72f876c85a73895a622da6a673
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:19 2006 -0800

    [PATCH] e1000: Added cleaned_count to RX buffer allocation
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1e613fd9d64aba9945ddb3b7f1107127ee8a9835
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:16 2006 -0800

    [PATCH] e1000: Added interrupt auto mask support
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e8da8be146e6043fb4b60a222be0014a0fb46d24
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:14 2006 -0800

    [PATCH] e1000: Fix Netpoll issue
    
    Fixed an issue netpoll would error out during communication, generating the following error:
    --netdump[14973]: Got toomany timeouts in handshaking, ...
    Even after a kernel panic, netpoll requires two way communication to successfully transfer the crash log to the remote server.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ce7393b93502f52e2ef7259e9e9bc3b1a1fd6799
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:12 2006 -0800

    [PATCH] e1000: Fixed frame size logic
    
    Simplified the logic used to assign the frame_size.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ff14701350eef6df9b7fc0ae118e1689e141a54c
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:10 2006 -0800

    [PATCH] e1000: Fix VLAN support
    
    Fixed VLAN support by switching control over to the firmware.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d74bbd3bbfd70470446e0d8153f91967d53c0798
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:07 2006 -0800

    [PATCH] e1000: Fix __pskb_pull_tail
    
    Fixed by moving code to correct location (for 82572 and 82571 controllers).
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0fadb0597d240d4ed279042cab632d567510a1a3
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:05 2006 -0800

    [PATCH] e1000: Fix collision distance
    
    Fixed the collision distance for 82543 controllers and newer.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 47028635d17c7b9c7ffc67499be5fed579bdfe72
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:03 2006 -0800

    [PATCH] e1000: Fix bit 22 (TXDCTL) for 82571 & 82572 controllers
    
    Removed duplicate code, TXDCTL and TXDCTL_COUNT_DESC are the same bit and there is no need to set it twice.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f5645110aa2ed2dcc3e0373821474506ed4dc512
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:51:01 2006 -0800

    [PATCH] e1000: Fix desc. clean up
    
    These were two separate community submitted patches.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 392137fa9b966cf03f020f9a9a2619099b996266
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:57 2006 -0800

    [PATCH] e1000: Fix TX timeout logic
    
    Fixed the TX timeout logic to use "end of packet" rather than "next to clean".  Updated message log.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 997f5cbdded3d8282dc56b741d332e51014ea64b
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:55 2006 -0800

    [PATCH] e1000: Fix Desc. Rings and Jumbo Frames
    
    This patch contains two fixes.  The first fix is to the tx and rx descriptor rings clean up process.  The second fix is to jumbo frames, which cleans up the code logic and removes most of the fifo related limitations on jumbo frames.  This is because the driver code now supports splitting a packet across multiple descriptors.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 66a2b0a30fcc37876d3639ea375a9d24649b53bf
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:53 2006 -0800

    [PATCH] e1000: Fix TX queue length based on link speed
    
    10/100 speeds seem to have some problems reporting false tx timeouts especially at half duplex.  Fixed by using a timeout factor to attempt to mitigate the false timeouts.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f11b7f8535fab0f9196a7387e93dca5deaa5fff2
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:51 2006 -0800

    [PATCH] e1000: Fix flow control water marks
    
    Fixed flow control water marks based on PBA size.
    Store flow control state in original_fc in addition to fc.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4d351858e41145fa236730b7749e3aed18edef43
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:48 2006 -0800

    [PATCH] e1000: Fix EEPROM read logic
    
    Fixed read_eeprom logic to test use_eerd instead of testing for 82573 controllers.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 526f99572e9f18f42c8da2c9adafbe64482c0737
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:46 2006 -0800

    [PATCH] e1000: Fix PHY reset when blocked
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 492731632cce0a7c8817376e1316f0af093830c4
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:44 2006 -0800

    [PATCH] e1000: Fix loopback logic
    
    Fixed the loopback logic to work for the PCI express adapters.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7bfa48162d4924e8cc7fb8eccc8c8f66cc111eb4
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:41 2006 -0800

    [PATCH] e1000: Fix mulitple queues
    
    Fixed stats when using multiple queues.
    When multiple queues are enabled, log a message in syslog.
    Fixed memory allocation for multiple queues.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f56799ea39a85a6f3760a134aa0e6d1c17eea369
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:39 2006 -0800

    [PATCH] e1000: Fix adapter structure and prepare for multique fix
    
    Fix adapter structure to handle multiple queues and prepping the driver for full multiple queue support, some changes are ifdef'd our unless you define CONFIG_E1000_MQ.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d8c2bd3d3aa49e18ffebb999979b976f04280284
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:37 2006 -0800

    [PATCH] e1000: Fix LED functionality for 82573
    
    Fixed adapter identification issue.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6b7660cd4df23ee92ddc0ba4b4ec31e3adee7bc9
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:35 2006 -0800

    [PATCH] Fix e1000 stats
    
    Updated the e1000_stats structure and removed mpx for rx_errors and rx_dropped.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7892f59c5ea86115450293441ca10654168e00da
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:32 2006 -0800

    [PATCH] e1000: Fix PHY config for 82573 controller
    
    Added a delay to allow PHY configuration to complete before accessing NVM.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b55ccb356167ed2d2d40b9dc0fe05bbe1a3d6f39
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:30 2006 -0800

    [PATCH] e1000: Fix ASF/AMT for 8257{1|2|3} controllers
    
    The 82573 controller required different logic than 82571|2 controllers.  Corrected the reset logic for 8257{1|2|3} controllers.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 571281972e2ca590ef160dcd6669b9f724b64283
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:28 2006 -0800

    [PATCH] e1000: Fix SoL/IDER link and loopback
    
    Fix so that if a SoL/IDER session is active, do not allow operations which require a PHY reset and instead log a message.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 545c67c0a3550545fe50d28c874b0664bc5dc882
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:25 2006 -0800

    [PATCH] e1000: General Fixes
    
    These fixes update the TX and RX ring structures.  Prepare driver for up-coming fixes.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9a3056da0d7fde1e19e806824c41857b239954ed
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:23 2006 -0800

    [PATCH] e1000: Fix TSO
    
    Fixed the TSO workaround for 82571/2 controllers.
    Fixed TSO issue where a non-tso packet in a linear SKB which followed a TSO packet would get written back prematurely.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4ee9c02007249cf9c66e368b5d433c6956e05586
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Thu Jan 12 16:50:18 2006 -0800

    [PATCH] e1000: Fix jumbo frame performance
    
    Partition PBA for Jumbo frames based on MTU size.
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7c5c220e254b2cdcf7083dcaf445820b899f7e8b
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 12 17:16:45 2006 -0500

    [PATCH] spidernet: fix missing include
    
    This is now required to avoid
    drivers/net/spider_net.c:844: error: 'IPPROTO_TCP' undeclared
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 11f1a52b87eaf830bd03d4e01d563437c30f7728
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 12 17:16:44 2006 -0500

    [PATCH] spidernet: performance optimizations
    
    Performance optimizations, changes in these areas:
      - RX and TX checksum offload
      - correct maximum MTU
      - don't use TX interrupts anymore, use a timer instead
      - remove some superfluous barriers
      - improve RX RAM full handling
    
    From: Utz Bacher <utz.bacher@de.ibm.com>
    Signed-off-by: Jens Osterkamp <jens.osterkamp@de.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8e0a613bf61ccaab376877d7c2ed50315b8ca6d7
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 12 17:16:43 2006 -0500

    [PATCH] spidernet: fix HW structures for 64 bit dma_addr_t
    
    The driver incorrectly used dma_addr_t to describe
    HW structures and consequently broke when that type
    was changed in 2.6.15-rc.
    
    This changed spidernet to use u32 for 32 bit HW defined
    structure elements.
    
    From: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 030d6753f8b6251927330431a7e5f0ac86bc6da9
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 12 17:16:42 2006 -0500

    [PATCH] spidernet: read firmware from the OF device tree
    
    request_firmware() is sometimes problematic, especially
    in initramfs, reading the firmware from Open Firmware
    is much preferrable.
    
    We still try to get the firmware from the file system
    first, in order to support old SLOF releases and to allow
    updates of the spidernet firmware without reflashing
    the system.
    
    From: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0d3ea1666f1894a874681fe33e2cb7fee41a0c73
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 12 17:16:41 2006 -0500

    [PATCH] spidernet: check if firmware was loaded correctly
    
    Uploading the device firmware may fail if wrong input data
    was provided by the user. This checks for the condition.
    
    From: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c2e5b352fcefb644959a0c8b1bb2e297f0d4ac3d
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 17:00:24 2006 -0700

    [PATCH] mv643xx_eth: Remove needless mask of extended intr register
    
    All interrupts controlled by the extended mask register are also
    masked by a bit in the main mask register, so there is no need to
    directly manipulate the extended mask register.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   81 ++++++++++++++++++----------------------------------------
     1 file changed, 26 insertions(+), 55 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ab4384a6588925607f734e195f49e34a80f31e84
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:59:21 2006 -0700

    [PATCH] mv643xx_eth: Merge open and stop helper functions
    
    Move code from helper functions mv643xx_eth_real_open and mv643xx_eth_real_stop
    as they are no longer needed.
    
    Signed-off-by Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |  109 +++++++++++++++++++++++-----------------------------------
     1 file changed, 45 insertions(+), 64 deletions(-)
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4476e0e4c7e6a2c22288391b853b6e071622f079
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:58:24 2006 -0700

    [PATCH] mv643xx_eth: Fix transmit skb accounting
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |    7 +++++--
     1 file changed, 5 insertions(+), 2 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 63890576a3bfd5c6aea86fb72236682480865bc0
Author: Wolfram Joost <pegasos@frokaschwei.de>
Date:   Mon Jan 16 16:57:41 2006 -0700

    [PATCH] mv643xx_eth: Request HW checksum generation only for IPv4
    
    This patch removes the NETIF_F_HW_CSUM flag to be able to use other protocols
    than IPv4. Hardware checksums for IPv4 should continue to work because
    NETIF_F_IP_CSUM is still set.  The sanity-check has been enhanced to check
    the used protocol and to not access skb->iph for non-ipv4-packets.
    
    Signed-off-by: Wolfram Joost <pegasos@frokaschwei.de>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   19 +++++++++++--------
     1 file changed, 11 insertions(+), 8 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8f5187035ad475c90ca865318daa09ba43bc3e68
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:56:30 2006 -0700

    [PATCH] mv643xx_eth: Hold spinlocks only where needed
    
    This driver has historically held a spin_lock during the entire open
    and stop functions and while receiving multiple packets.  This is
    unecessarily long and holds locks during calls that may sleep.
    This patch reduces the size of windows where locks are held.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |  172 ++++++++++++++++++++++++++++++----------------------------
     1 file changed, 91 insertions(+), 81 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit dd09b1de08b28ccfb130ca97d617dc3283165d22
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:53:15 2006 -0700

    [PATCH] mv643xx_eth: iounmap the correct SRAM buffer
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |    2 +-
     1 file changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f7ea333765438232ac346a2f23cfec3e2012758f
Author: Paul Janzen <pcj@linux.sez.to>
Date:   Mon Jan 16 16:52:13 2006 -0700

    [PATCH] mv643xx_eth: Fix handling of small, unaligned fragments
    
    Fix handling of small, unaligned fragments.
    It also solves a potential deadlock if skb_linearize() returns -ENOMEM.
    
    Signed-off-by: Paul Janzen <pcj@linux.sez.to>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   54 +++++++++++++++++++++++++++++++-----------------------
     1 file changed, 31 insertions(+), 23 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b44cd572623cb6a931a947d9108595517fd945f8
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:51:22 2006 -0700

    [PATCH] mv643xx_eth: Receive buffers require 8 byte alignment
    
    The Marvell mv643xx ethernet hardware requires that DMA buffers be
    aligned to 8-byte boundaries.  This patch satisfies this requirement.
    Buffers allocated by dev_alloc_skb() only have 4-byte alignment when
    slab debugging is enabled.
    
    Also, document that the 2-byte offset to align the IP packets on
    receive is a hardware feature and is not tied to NET_IP_ALIGN.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   12 +++++++++---
     1 file changed, 9 insertions(+), 3 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 16e0301831767ee1b8e5e022cc08e76f9f8a8938
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:50:02 2006 -0700

    [PATCH] mv643xx_eth: Add multicast support
    
    This code is adapted from code in a ppc-specific version of the driver.
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |  201 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
     1 file changed, 197 insertions(+), 4 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4eaa3cb35b22cccc53846ce2820e244b1fb04f0b
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Mon Jan 16 16:48:58 2006 -0700

    [PATCH] mv643xx_eth: Fix a NULL pointer dereference
    
    Fix a NULL pointer dereference.
    
    Fill in the buf_ptr and byte_cnt fields of pkt_info in
    eth_tx_return_desc().
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   51 +++++++++++++++++++++------------------------------
     1 file changed, 21 insertions(+), 30 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cb415d30048f0c1f80fd2f5340a982e8c9617d0d
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Mon Jan 16 16:48:02 2006 -0700

    [PATCH] mv643xx_eth: Fix dma_map/dma_unmap relations
    
    If you do a dma_map_single you must do dma_unmap_single and if you do
    a dma_map_page you must do a dma_unmap_page.
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |   51 +++++++++++++++++++++------------------------------
     1 file changed, 21 insertions(+), 30 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 78a5e534758349fd3effc90ce1152b55368f52ee
Author: Olaf Hering <olh@suse.de>
Date:   Mon Jan 16 16:47:00 2006 -0700

    [PATCH] mv643xx_eth: 2.6.16 needs ip.h and in.h
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    
     mv643xx_eth.c |    2 ++
     1 file changed, 2 insertions(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b60d6975e80ac69e4b797173857eeb5362e265a2
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Mon Jan 16 16:45:45 2006 -0700

    [PATCH] mv643xx_eth: Add Dale Farnsworth as a maintainer
    
     MAINTAINERS |    8 +++++---
     1 file changed, 5 insertions(+), 3 deletions(-)
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0f1c122ecfb046c8bac8d93cafc017d7b1aa21c9
Merge: 2664b25... 5fad5a2...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Jan 17 07:22:26 2006 -0500

    Merge branch 'upstream-jgarzik' of git://git.tuxdriver.com/git/wireless-2.6

commit 2f970d83576cf4938fd75551c465050f6a16c33c
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Tue Jan 17 02:54:36 2006 -0800

    [IPV4]: rt_cache_stat can be statically defined
    
    Using __get_cpu_var(obj) is slightly faster than per_cpu_ptr(obj,
    raw_smp_processor_id()).
    
    1) Smaller code and memory use
    For static and small objects, DEFINE_PER_CPU(type, object) is preferred over a
    alloc_percpu() : Better and smaller code to access them, and no extra memory
    (storing the pointer, and the percpu array of pointers)
    
    x86_64 code before patch
    
    mov    1237577(%rip),%rax        # ffffffff803e5990 <rt_cache_stat>
    not    %rax  # part of per_cpu machinery
    mov    %gs:0x3c,%edx # get cpu number
    movslq %edx,%rdx # extend 32 bits cpu number to 64 bits
    mov    (%rax,%rdx,8),%rax # get the pointer for this cpu
    incl   0x38(%rax)
    
    x86_64 code after patch
    
    mov    $per_cpu__rt_cache_stat,%rdx
    mov    %gs:0x48,%rax # get percpu data offset
    incl   0x38(%rax,%rdx,1)
    
    2) False sharing avoidance for SMP :
    For a small NR_CPUS, the array of per cpu pointers allocated in alloc_percpu()
    can be <= 32 bytes. This let slab code gives a part of a cache line. If the
    other part of this 64 bytes (or 128 bytes) cache line is used by a mostly
    written object, we can have false sharing and expensive per_cpu_ptr() operations.
    
    Size of rt_cache_stat is 64 bytes, so this patch is not a danger of a too big
    increase of bss (in UP mode) or static per_cpu data for SMP
    (PERCPU_ENOUGH_ROOM is currently 32768 bytes)
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8243126c5e29030bf1a3fb75187a513966dcba62
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 17 02:54:21 2006 -0800

    [NET]: Make second arg to skb_reserved() signed.
    
    Some subsystems, such as PPP, can send negative values
    here.  It just happened to work correctly on 32-bit with
    an unsigned value, but on 64-bit this explodes.
    
    Figured out by Paul Mackerras based upon several PPP crash
    reports.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f09484ff87f677056ce631aa3d8e486861501b51
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 17 02:42:02 2006 -0800

    [NETFILTER]: ip_conntrack_proto_gre.c needs linux/interrupt.h
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ec41c7dfd525468decb9da9281dbc9ed82d98c98
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Jan 17 02:40:55 2006 -0800

    [TG3]: Refine nvram locking
    
    Add nvram lock count so that calls to tg3_nvram_lock()/unlock() can
    be nested. Add error checking to all callers of tg3_nvram_lock()
    where appropriate. To prevent nvram lock failures after halting the
    firmware, it is also necessary to release firmware's nvram lock in
    tg3_halt_cpu().
    
    Update version to 3.48.
    
    Based on David Miller's initial patch.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f0daaa654af68c1651add9d21188d81c19672551
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Tue Jan 17 02:39:39 2006 -0800

    [NETFILTER] ip6tables: whitespace and indent cosmetic cleanup
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e0069caede8387c585060b7e2e87729e9efcebc6
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Tue Jan 17 02:39:19 2006 -0800

    [NETFILTER] ip6tables: remove unused definitions
    
    These definitions ware used for only internal use in kernel <= 2.6.13,
    which had not introduced the unified parser of IPv6 extension header yet.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6dd42af7904336c6f59a01f9fd3599ee650e78ed
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Tue Jan 17 02:38:56 2006 -0800

    [NETFILTER] Makefile cleanup
    
    These are replaced with x_tables matches and no longer exist.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ccc91324a1b44d345ab4f814eb2ff453c7e98f9e
Author: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
Date:   Tue Jan 17 02:26:34 2006 -0800

    [NETFILTER] ip[6]t_policy: Fix compilation warnings
    
    ip[6]t_policy argument conversion slipped when merging with x_tables
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e35bedf369b17120dbd7d554bee45407a3825267
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Tue Jan 17 02:25:52 2006 -0800

    [NET]: Fix whitespace issues in net/core/filter.c
    
    This fixes some whitespace issues in net/core/filter.c
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dd914b4082cfbe28849898a0a98757827829c813
Author: Amnon Aaronsohn <bla@cs.huji.ac.il>
Date:   Tue Jan 17 02:24:26 2006 -0800

    [PKT_SCHED] sch_prio: fix qdisc bands init
    
    Currently when PRIO is configured to use N bands, it lets the packets be
    directed to any of the bands 0..N-1. However, PRIO attaches a fifo qdisc
    only to the bands that appear in the priomap; the rest of the N bands
    remain with a noop qdisc attached. This patch changes PRIO's behavior so
    that it attaches a fifo qdisc to all of the N bands.
    
    Signed-off-by: Amnon Aaronsohn <bla@cs.huji.ac.il>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9343e79a7bb2d3268d68997163608b87d58d8098
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Tue Jan 17 02:10:53 2006 -0800

    [IPV6]: Preserve procfs IPV6 address output format
    
    Procfs always output IPV6 addresses without the colon
    characters, and we cannot change that.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2664b25051f7ab96b22b199aa2f5ef6a949a4296
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 23:44:47 2006 -0800

    Linux v2.6.16-rc1

commit fb60a9fee970a1159a006abddc33e9685f89a83e
Merge: f4caf16... b7bfcf7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 23:43:11 2006 -0800

    Merge branch 'for-linus' of git://brick.kernel.dk/data/git/linux-2.6-block

commit f4caf1606d3bbe3a790997e3dc5bb2779c6b7daf
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:27:38 2006 +0000

    [PATCH] Remove unused code from rioctrl.c (Last for this batch of work)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1384cee55d326e806158cea4b983ef2a9d26e035
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:25:42 2006 +0000

    [PATCH] Remove rio_table.c unused code
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 542ea6c37c2a77f7523c0703c326b8a9af2892bc
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:24:47 2006 +0000

    [PATCH] Remove unused code from rio_linux.c
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 283c9d546ed7506b03f0d9da4441145aa5f2f6f9
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:21:25 2006 +0000

    [PATCH] Remove unused CHECK code from riocmd.c
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b03de1f667a5c15d1e4d50318a27a67669f8980
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:19:52 2006 +0000

    [PATCH] Remove unused code from rioroute.h
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f099bfb7089735ad1760b3c6938069af10a88cc0
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:18:05 2006 +0000

    [PATCH] Remove unused code from rioboot.h
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c7306c02874bf4d22bc0b1dbea34282d0b9a3df1
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:14:25 2006 +0000

    [PATCH] Remove unused code from rioboot
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6176eeab0ef1750ce21790a6c6f61ba6c9ffc63
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:11:50 2006 +0000

    [PATCH] Remove #if 0 and other long dead code from rio_tty
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 925d70d64bfeccb669c0750943585944abb28b51
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:10:23 2006 +0000

    [PATCH] Remove long dead #if 0 code from rio_param
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09979236d6dc6a51c21131c4a8c0be7e1992a398
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:07:54 2006 +0000

    [PATCH] Remove old firmware headers from rio drivers
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3918276ce5e3f5473428f307194fef422c0b12b8
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:05:55 2006 +0000

    [PATCH] Remove rtahw.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 169da21f403adf6698ef9bbb759e27c1f496b2b5
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:03:49 2006 +0000

    [PATCH] Remove file riscos.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a09be029bbf8ceded3d9dd9715df70f1f8297b80
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:02:43 2006 +0000

    [PATCH] Remove file riowinif.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69da7f9a63679a8af67325c572a3bd1338c05df8
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 17:01:41 2006 +0000

    [PATCH] Remove riotime.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8618751503b66f1c2b1f8e715ffc006fa91c2400
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:59:40 2006 +0000

    [PATCH] Remove file riolocks.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d336ceb1e35e12ec26936be421da99eeff0a3de
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:58:38 2006 +0000

    [PATCH] Remove proto.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 735f88c62ec8df5a3ec730c1bbf47907d76b6f75
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:57:18 2006 +0000

    [PATCH] Remove poll.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 009c4cb8aa0a32548c5aaec5b7b49b307fb6bf6a
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:56:16 2006 +0000

    [PATCH] Remove mesg.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 125ca8fb5bbab8ff726bb538120b553f30cd136f
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:54:30 2006 +0000

    [PATCH] Remove mca.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67abbfe7deccf4a800fb246f9cecd6b7836ab150
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:53:38 2006 +0000

    [PATCH] Remove internal firmware building files from rio
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b52a90dbe654c89bb9a50c90462a69931701428f
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:52:36 2006 +0000

    [PATCH] Remove hosthw.h from rio (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85ae2f9cabbb029b0fce3fa8c641de7f0983e308
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:51:37 2006 +0000

    [PATCH] Remove formpkt.h from rio (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bed445d41e0ca4b09ffbb82274fb79fb444030e7
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:50:07 2006 +0000

    [PATCH] Remove enable.h from rio (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e67f76a6b1ab418b8232791d99ee728a395bd335
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:49:15 2006 +0000

    [PATCH] Remove enable.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d233681274013a554194ce8e2fe8945cd49979f
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:48:12 2006 +0000

    [PATCH] Remove debug.h from rio.h (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4198d8c3687418f245d7b351fd34702fb7fe0668
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:47:14 2006 +0000

    [PATCH] Remove data.h from rio driver (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98da212f0d22cb6ef7fee96e62572c763194c77b
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:46:17 2006 +0000

    [PATCH] Remove chan.h from rio driver (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8a9858aa2af3d14a37eafc6182d3b12923be41c
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:45:18 2006 +0000

    [PATCH] Remove cmd.h from rio driver (unused file)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f504fb59c7e356d00ac56933a4462a6ba74d0c1d
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 16 16:44:05 2006 +0000

    [PATCH] Remove brates.h from rio driver (unused file)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f4e2dc3ce46d279a311e5250ac3cbd394279c31
Author: Xose Vazquez Perez <xose.vazquez@gmail.com>
Date:   Sat Jan 14 19:56:28 2006 +0100

    [PATCH] README updated
    
    Replace old information with newer from kernel.org
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a462e9ff524f33da3e504fc71b8dd2b7584e4f28
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 15 23:32:53 2006 -0500

    [PATCH] Fix compile warning in bt8xx module
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea13dbc89caecd982500894d4238766a6bd3c8f4
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 16 10:59:41 2006 +0100

    [PATCH] kernel/hrtimer.c sparse warning fix
    
    fix the following sparse warning:
    
     kernel/hrtimer.c:665:34: warning: incorrect type in argument 2 (different address spaces)
     kernel/hrtimer.c:665:34:    expected void const *from
     kernel/hrtimer.c:665:34:    got struct timespec [noderef] *<noident><asn:1>
     kernel/hrtimer.c:664:2: warning: dereference of noderef expression
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d669af9d5afb5bdb629f78d024b35e507465f570
Merge: 2ddb55f... f87d09b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 23:20:01 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit 2ddb55f091a9c74a297d72b50f8310c0c8ed7d1d
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Tue Jan 17 07:03:47 2006 +0100

    [PATCH] x86_64: Fix VSMP build
    
    Patch fixes a build problem with CONFIG_X86_VSMP.  The vSMP bits probably
    
    gathered some fuzz on its way to mainline, and safe_halt() which was outside
    the #endif (CONFIG_X86_VSMP) somehow got inside the !CONFIG_X86_VSMP condition,
    hence being undefined and breaking CONFIG_X86_VSMP builds.  Patch takes
    safe_halt() and halt() macros out of the #endif
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c09b42404d29c8a9266f8186632330dc8474bf2e
Author: Matt Tolentino <metolent@cs.vt.edu>
Date:   Tue Jan 17 07:03:44 2006 +0100

    [PATCH] x86_64: add __meminit for memory hotplug
    
    Add __meminit to the __init lineup to ensure functions default
    to __init when memory hotplug is not enabled.  Replace __devinit
    with __meminit on functions that were changed when the memory
    hotplug code was introduced.
    
    Signed-off-by: Matt Tolentino <matthew.e.tolentino@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44df75e629106efcada087cead6c3f33ed6bcc60
Author: Matt Tolentino <metolent@cs.vt.edu>
Date:   Tue Jan 17 07:03:41 2006 +0100

    [PATCH] x86_64: add x86-64 support for memory hot-add
    
    Add x86-64 specific memory hot-add functions, Kconfig options,
    and runtime kernel page table update functions to make
    hot-add usable on x86-64 machines.  Also, fixup the nefarious
    conditional locking and exports pointed out by Andi.
    
    Tested on Intel and IBM x86-64 memory hot-add capable systems.
    
    Signed-off-by: Matt Tolentino <matthew.e.tolentino@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8817210d4d968e58f7d93db2eecd17b20dd03d40
Author: Andi Kleen <ak@suse.de>
Date:   Tue Jan 17 07:03:38 2006 +0100

    [PATCH] x86_64: Flexmap for 32bit and randomized mappings for 64bit
    
    Another try at this.
    
    For 32bit follow the 32bit implementation from Ingo -
    mappings are growing down from the end of stack now
    and vary randomly by 1GB.
    
    Randomized mappings for 64bit just vary the normal mmap break
    by 1TB. I didn't bother implementing full flex mmap for 64bit
    because it shouldn't be needed there.
    
    Cc: mingo@elte.hu
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 562795fe5770d0c7ee7fe269890e37d9fd475fdf
Author: Andi Kleen <ak@suse.de>
Date:   Tue Jan 17 07:03:35 2006 +0100

    [PATCH] x86_64: Remove elf32_map in 32bit ELF loader
    
    It's identical to the standard elf_map.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0cf5d1a34725f3eab39120204da4afa43874269
Author: Jan Beulich <jbeulich@novell.com>
Date:   Tue Jan 17 07:03:32 2006 +0100

    [PATCH] x86_64: eliminate empty_bad_{page,{pte,pmd}_table}
    
    ... as they are no longer needed. Since there were hard-coded numbers in the
    file, the patch also adds a mechanism to avoid these (otherwise potential
    future changes would again and again require adjusting these numbers).
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0addb142afa12a9bdf6cc53d3e86670c59c82d8f
Author: Andi Kleen <ak@suse.de>
Date:   Tue Jan 17 07:03:29 2006 +0100

    [PATCH] x86_64: Update defconfig
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17115e0388ece8d7141c0282c88e7dfc61953f92
Author: Neil Brown <neilb@suse.de>
Date:   Mon Jan 16 22:14:57 2006 -0800

    [PATCH] md: Clear clevel whenever level is set.
    
    The 'level' of an md array can be set as either a number of a string.  When
    one is set, the other must be marked 'undefined'.  This wasn't being done
    in one place: where new arrays are created.
    
    Result: if md1 is a raid1, it is stopped and a raid5 is created there, it
    might still appear to be a raid1.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c2645830e29c082217662e7486572e9637e9f1d
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Mon Jan 16 22:14:55 2006 -0800

    [PATCH] elevator=as back-compatibility
    
    As of 2.6.15 you need to use "anticipatory" instead of "as".  Fix that up
    so that `elevator=as' still works.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Cc: Jens Axboe <axboe@suse.de>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5aeebe01cb2ba1bca4cd9b8a6e77386bd7499dc2
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Jan 16 22:14:53 2006 -0800

    [PATCH] cs89x0: credit Dmitry Pervushin
    
    Credit Dmitry Pervushin for the PNX010X platform support.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 095da6cbb6a1c54c19b11190218eb0fbac666b6d
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:52 2006 -0800

    [PATCH] fuse: fix bitfield race
    
    Fix race in setting bitfields of fuse_conn.  Spotted by Andrew Morton.
    
    The two fields ->connected and ->mounted were always changed with the
    fuse_lock held.  But other bitfields in the same structure were changed
    without the lock.  In theory this could lead to losing the assignment of
    even the ones under lock.  The chosen solution is to change these two
    fields to be a full unsigned type.  The other bitfields aren't "important"
    enough to warrant the extra complexity of full locking or changing them to
    bitops.
    
    For all bitfields document why they are safe wrt. concurrent
    assignments.
    
    Also make the initialization of the 'num_waiting' atomic counter explicit.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bacac382fbf53f717ca7f83558e45cce44e67df9
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:47 2006 -0800

    [PATCH] fuse: update documentation for sysfs
    
    Add documentation for new attributes in sysfs.  Also describe the filesystem.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c1aa96a52e9594fb16296c0d76c2066773d62933
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:46 2006 -0800

    [PATCH] fuse: use asynchronous READ requests for readpages
    
    This patch changes fuse_readpages() to send READ requests asynchronously.
    
    This makes it possible for userspace filesystems to utilize the kernel
    readahead logic instead of having to implement their own (resulting in double
    caching).
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 361b1eb55ea84181505c7f0674ca1205da1127ab
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:45 2006 -0800

    [PATCH] fuse: READ request initialization
    
    Add a separate function for filling in the READ request.  This will make it
    possible to send asynchronous READ requests as well as synchronous ones.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b9a04693fa2d9e60933154e4c4aca83c219ef0a
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:44 2006 -0800

    [PATCH] fuse: move INIT handling to inode.c
    
    Now the INIT requests can be completely handled in inode.c and the
    fuse_send_init() function need not be global any more.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64c6d8ed4c55f0a99b1b81558851da80c8d58244
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:42 2006 -0800

    [PATCH] fuse: add asynchronous request support
    
    Add possibility for requests to run asynchronously and call an 'end' callback
    when finished.
    
    With this, the special handling of the INIT and RELEASE requests can be
    cleaned up too.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69a53bf267fa58b89aa659d121dfe38436562a30
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:41 2006 -0800

    [PATCH] fuse: add connection aborting
    
    Add ability to abort a filesystem connection.
    
    With the introduction of asynchronous reads, the ability to interrupt any
    request is not enough to dissolve deadlocks, since now waiting for the request
    completion (page unlocked) is independent of the actual request, so in a
    deadlock all threads will be uninterruptible.
    
    The solution is to make it possible to abort all requests, even those
    currently undergoing I/O to/from userspace.  The natural interface for this is
    'mount -f mountpoint', but that only works as long as the filesystem is
    attached.  So also add an 'abort' attribute to the sysfs view of the
    connection.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0cd5b88553acf0611474dbaf8e43770eed268060
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:38 2006 -0800

    [PATCH] fuse: add number of waiting requests attribute
    
    This patch adds the 'waiting' attribute which indicates how many filesystem
    requests are currently waiting to be completed.  A non-zero value without any
    filesystem activity indicates a hung or deadlocked filesystem.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f543f253f3aa721a24557d7df8259145bb01b734
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:35 2006 -0800

    [PATCH] fuse: make fuse connection a kobject
    
    Kobjectify fuse_conn, and make it visible under /sys/fs/fuse/connections.
    
    Lacking any natural naming, connections are numbered.
    
    This patch doesn't add any attributes, just the infrastructure.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ba7cbba100bdaca7316d71d6c6298e61191f8b2
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:34 2006 -0800

    [PATCH] fuse: extend semantics of connected flag
    
    The ->connected flag for a fuse_conn object previously only indicated whether
    the device file for this connection is currently open or not.
    
    Change it's meaning so that it indicates whether the connection is active or
    not: now either umount or device release will clear the flag.
    
    The separate ->mounted flag is still needed for handling background requests.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d77a1d5b611742c538364f041ff4610d27b14fe7
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:31 2006 -0800

    [PATCH] fuse: introduce list for requests under I/O
    
    Create a new list for requests in the process of being transfered to/from
    userspace.  This will be needed to be able to abort all requests even those
    currently under I/O
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83cfd4935124b165e942c317dc3e9ebb0a3e6a63
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:31 2006 -0800

    [PATCH] fuse: introduce unified request state
    
    The state of request was made up of 2 bitfields (->sent and ->finished) and of
    the fact that the request was on a list or not.
    
    Unify this into a single state field.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6383bdaa2ed2d461d9f4d369dfaa9d610fc972e3
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:29 2006 -0800

    [PATCH] fuse: miscellaneous cleanup
    
     - remove some unneeded assignments
    
     - use kzalloc instead of kmalloc + memset
    
     - simplify setting sb->s_fs_info
    
     - in fuse_send_init() use fuse_get_request() instead of
       do_get_request() helper
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bfc016d2e2fff71c6843257f0fd0b60876331ed
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:28 2006 -0800

    [PATCH] fuse: uninline some functions
    
    Inline keyword is unnecessary in most cases.  Clean them up.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3bebd94bbe4e59dfa23d85b0296a4ce8ebcc6c7
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:27 2006 -0800

    [PATCH] fuse: handle error INIT reply
    
    Handle the case when the INIT request is answered with an error.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f43b155a5a8a95b06bc0b4474fbb7311c7e9709a
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:26 2006 -0800

    [PATCH] fuse: fix request_end()
    
    This function used the request object after decrementing its reference count
    and releasing the lock.  This could in theory lead to all sorts of problems.
    
    Fix and simplify at the same time.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 222f1d69183f10d70a37de5785698fe0aa363c12
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:25 2006 -0800

    [PATCH] fuse: fuse_copy_finish() order fix
    
    fuse_copy_finish() must be called before request_end(), since the later might
    sleep, and no sleeping is allowed between fuse_copy_one() and
    fuse_copy_finish() because of kmap_atomic()/kunmap_atomic() used in them.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f87fd4c2a0c4f3baad28057360b36a59591ef751
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Jan 16 22:14:23 2006 -0800

    [PATCH] add /sys/fs
    
    This patch adds an empty /sys/fs, which filesystems can use.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0e6e1db4ac7acfe3e38bbef9eba59233ba7f6b9a
Author: Bob Copeland <me@bobcopeland.com>
Date:   Mon Jan 16 22:14:20 2006 -0800

    [PATCH] partitions: Read Rio Karma partition table
    
    The Rio Karma portable MP3 player has its own proprietary partition table.
    
    The partition layout is similar to a DOS boot sector but it begins at a
    different offset and uses a different magic number (0xAB56 instead of
    0xAA55).  Add support for it to enable mounting the device.
    
    Signed-off-by: Bob Copeland <me@bobcopeland.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cad8244840d1a148f638925758afd1cdf81fc839
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:19 2006 -0800

    [PATCH] sh: Move CPU subtype configuration to its own Kconfig
    
    Currently the CPU subtype options are cluttering up arch/sh/Kconfig somewhat.
    
    Given that, this moves all of that in to its own arch/sh/mm/Kconfig.  Things
    like cache configuration are also moved to this new location.
    
    This also adds support for strict CPU tuning on newer cores, which requires
    the addition of as-option.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa01666df35cd769c0957d4b3ae6ee99d680ab88
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:18 2006 -0800

    [PATCH] sh: Simple timer framework
    
    This builds on some of the clock framework code to support a simple system
    timer interface.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Cc: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36ddf31b689a8c11d424e43565d2aa440b77bbf4
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:17 2006 -0800

    [PATCH] sh: Simplistic clock framework
    
    This adds a relatively simplistic clock framework for sh.  The initial goal
    behind this is to clean up the arch/sh/kernel/time.c mess and to get the CPU
    subtype-specific frequency setting and calculation code moved somewhere more
    sensible.
    
    This only deals with the core clocks at the moment, though it's trivial for
    other drivers to define their own clocks as desired.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Cc: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b66c1a3919abb40f9bd8fb92a0d9fd77eb899c54
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:15 2006 -0800

    [PATCH] sh: I/O routine cleanups and ioremap() overhaul
    
    This introduces a few changes in the way that the I/O routines are defined on
    SH, specifically so that things like the iomap API properly wrap through the
    machvec for board-specific quirks.
    
    In addition to this, the old p3_ioremap() work is converted to a more generic
    __ioremap() that will map through the PMB if it's available, or fall back on
    page tables for everything else.
    
    An alpha-like IO_CONCAT is also added so we can start to clean up the
    board-specific io.h mess, which will be handled in board update patches..
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf3a00f88c926635932c91afd90b4a0907dfbe78
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:14 2006 -0800

    [PATCH] sh: IRQ handler updates
    
    This moves the various IRQ controller drivers into a new subdirectory, and
    also extends the INTC2 IRQ handler to also deal with SH7760 and SH7780
    interrupts, rather than just ST-40.
    
    The old CONFIG_SH_GENERIC has also been removed from the IRQ definitions, as
    new ports are expected to be based off of CONFIG_SH_UNKNOWN.  Since there are
    plenty of incompatible machvecs, CONFIG_SH_GENERIC doesn't make sense anymore.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d44190eae97ad4c9ce30f1084e1b0dabd646df5
Author: kogiidena <kogiidena@eggplant.ddo.jp>
Date:   Mon Jan 16 22:14:10 2006 -0800

    [PATCH] sh: kexec() support
    
    This adds kexec() support for SH.
    
    Signed-off-by: kogiidena <kogiidena@eggplant.ddo.jp>
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Cc: <fastboot@lists.osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d831770b154a057562236e8cf50905c8f1ae1b0
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:09 2006 -0800

    [PATCH] sh: DMA updates
    
    This extends the current SH DMA API somewhat to support a proper virtual
    channel abstraction, and also works to represent this through the driver model
    by giving each DMAC its own platform device.
    
    There's also a few other minor changes to support a few new CPU subtypes, and
    make TEI generation for the SH DMAC configurable.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0025835cf20e07056b8521b8c1d7d0bfe07e81f1
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Jan 16 22:14:08 2006 -0800

    [PATCH] sh: consolidate hp620/hp680/hp690 targets into hp6xx
    
    Most of the reasons for keeping these separate before was due to hp690
    discontig, and since we have a workaround for that now (abusing some shadow
    space so everything is magically contiguous), there's no reason to keep the
    targets separate.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ebdce726baf17eb66c5a1bf402ae6f161a082ed
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 16 22:14:06 2006 -0800

    [PATCH] fix up sbuslib for new fb_comapt_ioctl prototype
    
    After ages my fb ioctl prototype cleanup finally got in.  Unfortunately the
    patch are so old that the sbus compat_ioctl helper didn't exist back then,
    so it's not covered.  This patch should fix that issue.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f63776d0dccb6eb5f38beeac3eb9db735f7b5879
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Jan 16 22:14:05 2006 -0800

    [PATCH] arm26: s/task_threas_info/task_thread_info/
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b142159fa5ffbad73b6927fafa5440148030f3f1
Author: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
Date:   Mon Jan 16 22:14:01 2006 -0800

    [PATCH] mips: add pm_power_off
    
    Adds pm_power_off() to MIPS.
    
    Signed-off-by: Yoichi Yuasa <yoichi_yuasa@tripeaks.co.jp>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f56a31ad616b13414cf764f620f75f45dac26e6
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 16 22:14:00 2006 -0800

    [PATCH] drivers/char/esp.c spinlock fix
    
    There's incorrect spinlock usage in espserial_init(): autoconfig() uses
    info->lock before it's initialized.  The fix is to initialize the spinlock
    earlier.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd279197b1df6b46076991ca0e1f7faa8f3d8028
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 16 22:13:59 2006 -0800

    [PATCH] build kernel/intermodule.c only when required
    
    Build kernel/intermodule.c only when required.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3001aa826ea6a4de12b437188c2a095991d2d142
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 16 22:13:58 2006 -0800

    [PATCH] no longer mark MTD_OBSOLETE_CHIPS as BROKEN
    
    This patch removes the wrong dependency of MTD_OBSOLETE_CHIPS on BROKEN and
    marks the non-compiling MTD_AMDSTD and MTD_JEDEC drivers as BROKEN.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3868cca523e20a2600f6a9b1feebb69a6c8ccb68
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Jan 16 22:13:57 2006 -0800

    [PATCH] arm26: kernel/irq.c: fix compilation
    
    It's trying to "continue;" in "if" statement.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 511c3a2beefbb7d263063f2fef48615fba2d7255
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Jan 16 22:13:56 2006 -0800

    [PATCH] arm26: add L1_CACHE_SHIFT
    
    Fix reiserfs compilation as a side effect =)
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96419b7c4d996d9f12ca9f7189f316ed2938074a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 16 22:13:55 2006 -0800

    [PATCH] fix arm26 THREAD_SIZE
    
    arm26 currently has a 256 kB THREAD_SIZE (sic).
    
    Looking at the comment in the code, this seems to be based on a
    misunderstanding.
    
    The comment says:
    this needs attention (see kernel/fork.c which gets a nice div by zero if
    this is lower than 8*32768
    
    kernel/fork.c does:
      max_threads = mempages / (8 * THREAD_SIZE / PAGE_SIZE)
    
    Therefore, a division by 0 is impossible for all reasonable cases with
    THREAD_SIZE >= PAGE_SIZE.
    
    Since the minimum PAGE_SIZE Linux uses on the arm26 architecture is 16k,
    PAGE_SIZE should be sufficient for THREAD_SIZE.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Ian Molton <spyro@f2s.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6aa4c0ef388201745adadfc7855b8a871f0e6122
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 16 22:13:53 2006 -0800

    [PATCH] i386: remove gcc version check for CONFIG_REGPARM
    
    Since we do no longer support any gcc < 3.0, there's no need to check
    for it..
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1bc5cdf9f9550bd7e9e5d8400e95b164165b275
Merge: 8dca6f3... 8595387...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 20:56:49 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 168678233ca45af3f74fef60c4265fa5dd217e29
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 13 15:51:02 2006 -0800

    [AGPGART] Semaphore to Mutex conversion.
    
    Semaphore to mutex conversion.
    
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 5dda4986752b531d89d49c218682e42c63ef1d61
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 3 23:00:59 2006 -0800

    [AGPGART] Suspend/Resume support for ATI GART
    
    Add suspend/resume support for the ati-agp module
    
    Signed-off-by: Jaco Kroon <jaco@kroon.co.za>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 90be4b49b8b54505772a6a766ac0891ec92b4c2d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Jan 3 23:00:10 2006 -0800

    [AGPGART] Suspend/Resume support for AMD64 GART.
    
    This adds support for suspend/resume to the amd64-agp driver. Without
    it, X displays garbage after resume from swsusp.
    
    Signed-off-by: Michal Schmidt <xschmi00@stud.feec.vutbr.cz>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 496ebd386439fee838df6b9c7d1306c36e7f6952
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Fri Dec 23 16:18:54 2005 +0000

    [AGPGART] Loop cleanup
    
    The loop contains a command that is only used in the last iteration. I moved the command outside the loop.
    Compile-tested
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 8dca6f33f026dc8a7fc2710b78a7521e899bd611
Author: Jonathan Corbet <corbet@lwn.net>
Date:   Mon Jan 16 15:58:55 2006 -0700

    [PATCH] hrtimer comment tweak
    
    Fix a comment which missed an update cycle somewhere.
    
    Signed-off-by: Jonathan Corbet <corbet@lwn.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9bd5674c4aa3d430d61a578eaecd85104176f150
Merge: 1f35f43... 01ffe33...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 20:26:19 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit 1f35f432b9d116f5be4c428d71d39ed9b7d6ff50
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 17 00:23:49 2006 +0100

    [PATCH] Fix drivers/block/ps2esdi.c compile
    
    Looks like fallout from the geo stuff.

commit cd535057f946f8e803db7d485652904af0a2e5f5
Merge: f74e667... 506eecd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 20:23:21 2006 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/scjody/ieee1394

commit 859538763155814d217054eb6e3cdff71bdb4d89
Merge: 53493dc... 9179cb6...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Jan 16 20:02:24 2006 -0800

    Pull perfmon-montecito into release branch

commit 53493dcf6e9e27cc9379cbf8962642986927aea9
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Mon Jan 16 19:54:40 2006 -0800

    [IA64] Cleanup of arch/ia64/sn and include/asm-ia64/sn
    
    Replace uintX_t declarations with uX declarations.
    Replace intX_t declarations with sX declarations.
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 506eecde44d54e838c61c2af38630e8ebb16363e
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Mon Jan 16 19:21:57 2006 -0500

    Actually remove amdtp.[ch], cmp.[ch].
    
    The feature removal was done in 7301c8d3a05dc52d33598364da7c4eb6ab6357eb
    but these files were not removed for some reason.
    
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit f15ac5801fdc1b217c3b8b5dbc63a09371d2ee4d
Author: Xu, Anthony <anthony.xu@intel.com>
Date:   Mon Jan 9 10:36:35 2006 +0800

    [IA64] pal cache flush patch
    
    Because PAL spec has changed since 2002, you can goto
    http://developer.intel.com/design/itanium/manuals/iiasdmanual.htm to
    download new SDM, all PAL calls should be invoked with psr.ic=1, and
    it's caller's responsibility to handle possible tlb miss.
    Ia64_pal_cache_flush was written according to old spec, it is obsolete,
    and this patch has ia64_pal_cache_flush conform to new spec.
    
    Signed-off-by Anthony Xu <anthony.xu@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 7b9c8ba2d634a0467a8a36018a28624563f34f47
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Mon Jan 16 13:45:23 2006 +0900

    [IA64] Stop multiple pci_claim_resource() call for the same resource
    
    This patch fixes the bug that pci_claim_resource() is called multiple
    times for the same P2P bridge's resource structures if P2P bridges
    require their own PCI I/O resources.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 01ffe339e3a0ba5ecbeb2b3b5abac7b3ef90f374
Author: Nathan Scott <nathans@bruce>
Date:   Tue Jan 17 09:02:07 2006 +1100

    Make alloc_page_buffers() initialise buffer_heads using init_buffer(),
    like other routines here, to ensure buffers are correctly initialised
    with respect to b_private/b_end_io.  Fixes an odd interaction between
    XFS and reiserfs.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 5fad5a2e1f34b333a801b749c4e143c2ac3e8a4f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 14 03:09:34 2006 +0100

    [PATCH] hostap: don't #include C files in hostap_main.c
    
    This patch contains an attempt to properly build hostap.o without
    #include'ing C files.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 8aec938389d8409d5d036131c0d16c8b6748703f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 14 16:20:53 2006 +0100

    [PATCH] ipw2100: remove code for WIRELESS_EXT < 18
    
    WIRELESS_EXT < 18 will never be true in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit d6a13a24b76236ade7fd70081ba41a51e8215578
Author: Dan Williams <dcbw@redhat.com>
Date:   Thu Jan 12 15:00:58 2006 -0500

    [PATCH] drivers/net/wireless: correct reported ssid lengths
    
    ESSIDs can technically include NULL characters.  Drivers should not be
    adjusting the length of the ESSID before reporting it in their
    SIOCGIWESSID handlers.  Breaks stuff like wpa_supplicant.  Note that ipw
    drivers, which seem to currently be the "most correct", don't have this
    problem.
    
    Signed-off-by: Dan Williams <dcbw@redhat.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit a485cde662f5b6b2299ee01a7e9e2c11683f807b
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Dec 30 18:22:26 2005 -0500

    [PATCH] hostap: allow flashing firmware
    
    Host AP driver has code to support writing firmware to non-volatile
    memory, a.k.a. flash.  This code has been extensively tested when Host
    AP was a standalone driver.
    
    Add a configuration option to the kernel to allow enabling this
    functionality.  Improve the description of the RAM download option.
    Mention cards that require it.  Remove obsolete scary comment.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit d834a41c966c6a20368fadb59248740935e6fbae
Author: Olaf Kirch <okir@suse.de>
Date:   Mon Jan 9 17:00:37 2006 +0100

    [PATCH] ipw2200: do not sleep in ipw_request_direct_scan
    
    Drivers should not sleep for very long inside an ioctl -
    so return EAGAIN and let wpa_supplicant handle the problem.
    
    Signed-off-by: Olaf Kirch <okir@suse.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0b8d3256a0c1d75bbe8ef5b0de64843e3fc9f47b
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Thu Jan 12 22:17:43 2006 -0800

    [PATCH] iw_handler.h: SIOCSIWNAME -> SIOCSIWCOMMIT in comment
    
    The ioctl was renamed from SIOCSIWNAME to SIOCSIWCOMMIT.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit caa06b619f20f21c741e0d7457a0ef633d50ba70
Author: Graham Gower <graham.gower@gmail.com>
Date:   Mon Jan 16 16:41:37 2006 -0500

    [PATCH] prism54/islpci_eth.c: dev_kfree_skb used with interrupts disabled
    
    dev_kfree_skb should not be used with interrupts disabled.  Change to
    use dev_kfree_skb_irq instead.
    
    Signed-off-by: Graham Gower <graham.gower@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 2ae4117435b30c7f9c12c89bcb323ce48b08c16a
Author: Len Brown <len.brown@intel.com>
Date:   Mon Jan 16 15:22:45 2006 -0500

    Revert "[ACPI] fix pnpacpi regression resulting from ACPICA 20051117"
    
    This reverts ed349a8a0a780ed27e2a765f16cee54d9b63bfee commit.

commit 1681b8e1588f9119899e422181f728b197b1fe34
Author: Yasunori Goto <y-goto@jp.fujitsu.com>
Date:   Sat Jan 7 11:50:38 2006 +0900

    [IA64] Simple memory hot-add for ia64.
    
    First step to memory hotplug for ia64 (add only,
    all new memory is added to node 0, does not use
    ZONE_EASY_RECLAIM yet).
    
    Signed-off-by: Yasunori Goto <y-goto@jp.fujitsu.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f74e6670c4a788c9a0c52ab2036d8ac6be12f1d8
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 11:33:09 2006 -0800

    x86-64: fix initrd freeing
    
    The comparison of the initrd start address against "&_end" is
    unnecessary and incorrect.  Make it match the x86 code that just
    compares the passed-in arguments.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5580eceed2014135231acb3e6906accf97e10f3c
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:54 2006 +0100

    [PATCH] x86_64: Increase NR_IRQ_VECTORS to 32 * NR_CPUS
    
    This prevents running out of GSIs on large Unisys ES7000 machines.
    Follows i386
    
    Cc:  "Protasevich, Natalie" <Natalie.Protasevich@unisys.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee408c79420b6a437332d6977fe33ab72c36dc97
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:51 2006 +0100

    [PATCH] x86_64: Don't try to put kernel page tables beyond ZONE_DMA32.
    
    For not fully explained reasons it broke mem=... on several setups.
    
    Also minor cleanup.
    
    Cc: axboe@suse.de
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 142a64a650fa5786c2ecea3de5ae3d5a2de72312
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:48 2006 +0100

    [PATCH] x86_64: set do_not_nx as cpuinitdata
    
    'check_efer' uses 'do_not_nx'. Hotpluged CPU could wrongly disable NX.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b74357328eb325c12ea76f043524e7924a021e4
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Mon Jan 16 01:56:45 2006 +0100

    [PATCH] x86_64: lapic resume uses correct base address
    
    uses correct lapic base address. The set_fixmap appears useless.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e25db98d9ae542f95d139e316a6d490ceddd141e
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:42 2006 +0100

    [PATCH] x86_64: Only let user select PM timer support when EMBEDDED
    
    To avoid mistakes.
    
    I got a few reports where people got broken timing because they didn't
    have the PMTIMER fallback.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f8efbb96f4b2679dcbd2c115380a47bd2089dcd
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:39 2006 +0100

    [PATCH] x86_64: Allow nesting of int3 by default for kprobes
    
    This unbreaks recursive kprobes which didn't work anymore
    due to an earlier patch which converted the debug entry point
    to use an IST.
    
    This also allows nesting of the debug entry point too.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa41eb9915de74fc6935792973bac4bd777ce218
Author: Andi Kleen <ak@suse.de>
Date:   Mon Jan 16 01:56:36 2006 +0100

    [PATCH] x86_64: Mark powernow k8 init functions as __cpuinit
    
    cpufreq init can be called when a CPU is set online.
    Need to make powernow-k8's initialisation functions __cpuinit to
    prevents oopses when a CPU is off/onlined on a AMD system
    
    Cc: trenn@suse.de
    Cc: mark.langsdorf@amd.com
    Cc: davej@redhat.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d8d5a284e11e45953ad1f12a5bf1ebc18eefb75
Merge: 4a8e4a2... df9df03...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 16 11:19:04 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sam/kbuild

commit 9179cb65780def28770a895a4bc8fa60e903ab80
Author: Stephane Eranian <eranian@hpl.hp.com>
Date:   Tue Jan 10 03:10:43 2006 -0800

    [IA64] Perfmon for Montecito
    
    Add Montecito PMU description table for perfmon2
    
    Signed-off-by: Stephane Eranian <eranian@hpl.hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit df9df036d356078679a60135fba65f79cd6153d0
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Jan 16 12:46:07 2006 +0100

    kbuild: fix 'make all install_modules install'
    
    The command 'make all modules_install install' would fail
    in a virgin tree - pointing at a non-existing directory under
    /lib/modules/xxx
    
    KERNELRELEASE is part of MODLIB and we need to create .kernelrelease
    before we can properly evaluate KERNELRELEASE,
    Changing MODLIB to the recursively expanded flavor let it pick up
    the correct KERNELRELEASE value.
    
    Reported by: "Hemmann, Volker Armin" <volker.armin.hemmann@tu-clausthal.de>
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 2244cbd8a9185c197ec5ba5de175aec288697223
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Jan 16 12:12:12 2006 +0100

    kbuild: create .kernelrelease at *config step
    
    To enable 'make kernelrelease' earlier now create .kernelrelease when
    one of the *config targets are used.
    Also introduce KERNELVERSION - only user is kconfig.
    KERNELVERSION was needed to display kernel version in menuconfig -
    KERNELRELEASE is not valid until configuration has completed.
    kconfig files modified to use KERNELVERSION.
    Bug reported by: Rene Rebe <rene@exactcode.de>
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit f87d09be8c2c270b83c2ad80d06206a7306e2fa9
Merge: 4a8e4a2... 21e2379...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Mon Jan 16 08:39:30 2006 -0200

    Merge branch 'master' of ssh://master.kernel.org/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit b7bfcf7cbd58d2a64aa46f3b4bec921e346e604f
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 16 09:48:58 2006 +0100

    [BLOCK] elevator: if specified scheduler is not found, fall back to default
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 752a3b79630a290cbbe4731e7c61b75d4fbebc5c
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Mon Jan 16 09:47:37 2006 +0100

    [BLOCK] elevator: Make elevator=as work again for anticipatory
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 5a225791374dca35bba871a007c78a3d0b14b559
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Jan 16 09:45:58 2006 +0100

    barrier.txt got lost while the new barrier patchset was climbing up
    the ladder to the mainline.  Add it back.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 4a8e4a270b89030bdeb09d2f8cef7cfe9a50e54d
Merge: 3f02d07... 107a09c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Jan 15 22:18:04 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit 107a09c44b65d5e2a5313edfda91c498df3b3f2a
Author: Nathan Scott <nathans@bruce>
Date:   Mon Jan 16 16:28:07 2006 +1100

    [XFS] remove no-longer-needed IS_NOATIME macro, twas just a build workaround
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c2e81432201d99cc48ff6492567fe05204cc8d7e
Author: Nathan Scott <nathans@bruce>
Date:   Mon Jan 16 16:21:34 2006 +1100

    [XFS] mutex fallout - fix debug builds and remove no-longer-useful comment.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 54245702ab63a9a0b1ccf78bc37b57e778bb3bcc
Author: Nathan Scott <nathans@sgi.com>
Date:   Mon Jan 16 15:54:05 2006 +1100

    [XFS] Fix symlink creation too, with respect to initialising SELinux
    context.
    
    SGI-PV: 946762
    SGI-Modid: xfs-linux-melb:xfs-kern:24983a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 3f02d072d46bb409e8ca3cf16c0511f5c21adaf6
Merge: 0238cb4... fb453d4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Jan 15 16:43:29 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/bunk/trivial

commit 21e2379b9ef705fcb3ba3be738decd3397fc30b7
Merge: d04ae27... 366cc64...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Sun Jan 15 21:31:10 2006 -0200

    Merge branch 'work'

commit 366cc64b0d9ac922ac4f0f54e06c13ec95249928
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Sun Jan 15 21:04:27 2006 -0200

    V4L/DVB (3390): Added remote control support for pinnacle pctv
    
    - Added remote control support for pinnacle pctv
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 17c37efbb5163e5df118510c7b4243b7d3b32ce2
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Jan 15 19:04:04 2006 -0200

    V4L/DVB (3389): Samsung TBMV30111IN has 6 entries
    
    - Samsung TBMV30111IN has 6 entries
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit de03d21b908bd4c49f1fe7b0c4dc5876551cf819
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Jan 15 16:04:04 2006 -0200

    V4L/DVB (3388): tuner_params->tda988x is currently unused, so disable
    
    - Tuner_params->tda988x is unused right now, so let's disable it for 2.6.16
    - This is currently happening at the card level, but the plan
      is to move this configuration into the tuner_params configuration.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 01872c5d253298b9f360c7c9b9f33504b6ad5469
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Jan 15 15:47:02 2006 -0200

    V4L/DVB (3387): clean up some comments
    
    - clean up some comments
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 18adfe7ac0777c3cc364cccb6823aafe2a009aa3
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Jan 15 15:33:02 2006 -0200

    V4L/DVB (3386): fix some sound quality & distortion problems.
    
    - Fix some sound quality & distortion problems.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit cb8d1aa78e31d7f3511c0b3f25f5a61a4687235f
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Jan 15 15:09:23 2006 -0200

    V4L/DVB (3385): Return -EINVAL for unknown commands in msp3400 module.
    
    - Return -EINVAL for unknown commands.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 27487d44712aaa37710cc508d5bd6119f5e9f976
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Jan 15 15:04:52 2006 -0200

    V4L/DVB (3384): Separate tv & radio freqs, fix cb/freq transmit order for tuners that need this.
    
    - Moved MSP_SET_MATRIX to v4l2-common.h
    - Fix typos and integer overflows in tea5767.c
    - Split old freq field into a tv_freq and a radio_freq. Prevents
      that a radio tuner is initialized with a tv frequency or vice versa.
    - When switching to radio mode initialize the tuner with the last
      used radio frequency (this was already done for the TV mode).
      As a result of these changes the tuner module now remembers the
      last set radio and TV frequencies, which is what you would expect
      to happen.
    - Move out of range frequencies to the closest valid frequency as per
      v4l2 API spec.
    - Fix incorrect initial radio frequency (multiplier is 16000, not 16)
    - Add boundary check for out of range frequencies.
    - Use new flag to check if the order of the CB and freq. depends on
      the last set frequency. That is needed for some tuners or you can
      get static as a result. The flag is added for those tuners where I know
      that the datasheet indicates that this is necessary.
    - For this new check use the last set div value, not the last frequency
      as radio frequencies are always much higher due to the 16000 multiplier.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 8f0bb9c069fc487dadebe4cdd1e03f0df5ebf0e6
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Jan 15 12:46:18 2006 -0200

    V4L/DVB (3383): Move tda988x options into tuner_params struct.
    
    - Tda988x parameters should be defined per tuner_param_type,
    for each tuner_params array member.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit d04ae27bae42bcce1b3fa70ca2edf25d92b1cf39
Merge: f1dcced... e0ad848...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Sun Jan 15 21:01:27 2006 -0200

    Merge branch 'work'

commit f1dccedc8148026d9071c6805f7cb77374a9e56f
Merge: c943aa8... 0238cb4...
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Sun Jan 15 20:59:29 2006 -0200

    Merge ssh://master.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 0238cb4e7583c521bb3538060f98a73e65f61324
Merge: 3527761... ef0498a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Jan 15 13:33:09 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 3527761cb403fba72a37c4e6a1fad76eeedd990c
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Jan 15 21:21:14 2006 +0100

    [PATCH] MAINTAINERS: watchdog device drivers
    
    Add a MAINTAINER entry for the watchdog device drivers.
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit a073404272e8003816d9198f639b1bf11ff0a864
Author: Ian Campbell <icampbell@arcom.com>
Date:   Wed Nov 2 08:56:49 2005 +0000

    [WATCHDOG] sa1100_wdt.c sparse cleanups
    
    The following makes drivers/char/watchdog/sa1100_wdt.c sparse clean.
    
    Signed-off-by: Ian Campbell <icampbell@arcom.com>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 296e0855b0f9a4ec9be17106ac541745a55b2ce1
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Jan 15 20:02:31 2006 +0100

    kbuild: fix make -jN with multiple targets with O=...
    
    The way multiple targets was handled with make O=...
    broke because for each high-level target make spawned
    a parallel make resulting in a broken build.
    Reported by Keith Owens <kaos@ocs.com.au>
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 6b4977ce0fb9a989ba24fd6b757d07a566abc23d
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Sun Jan 15 12:10:55 2006 -0500

    [PATCH] Use atomic64_set for 64-bit case of atomic_long_set
    
    For some reason, the BITS_PER_LONG == 64 case of atomic_long_set
    was using atomic_set instead of atomic64_set. This does not jive
    with architectures which use an inline instead of a #define to
    implement their atomic_set() primitives.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69ff56c166629224e9fe914b8543021dc2f001f0
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 15 13:13:13 2006 +0100

    [PATCH] Fix zoran_card compilation warning
    
    Fix the following warning which was introduced in 2.6.15-git8 by
    commit 7408187d223f63d46a13b6a35b8f96b032c2f623:
    
      CC [M]  drivers/media/video/zoran_card.o
    drivers/media/video/zoran_card.c: In function `zr36057_init':
    drivers/media/video/zoran_card.c:1053: warning: assignment makes integer from pointer without a cast
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Ronald S. Bultje <rbultje@ronald.bitfreak.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc03da1ca1954f103ed57daf90611cefa57b07e0
Merge: caf5b04... e05b3b4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Jan 15 10:05:10 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit ef0498a7bfbb5773e7ba4235207054b81ad5120e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Jan 15 17:03:45 2006 +0000

    [ARM] Fix missing compiler.h include
    
    asm/mach/arch.h introduced a __deprecated, but didn't include compiler.h,
    causing:
    
    In file included from arch/arm/mach-at91rm9200/devices.c:13:
    include/asm/mach/arch.h:23: warning: no semicolon at end of struct or union
    include/asm/mach/arch.h:23: error: syntax error before 'phys_ram'
    include/asm/mach/arch.h:34: error: syntax error before ':' token
    include/asm/mach/arch.h:35: error: syntax error before ':' token
    include/asm/mach/arch.h:36: error: syntax error before ':' token
    include/asm/mach/arch.h:37: error: syntax error before ':' token
    include/asm/mach/arch.h:45: error: syntax error before '}' token
    
    Add the necessary include.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 60f33b80443a3e7e79e2a3ddc625ab6246a61d3d
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Jan 15 15:28:35 2006 +0100

    kconfig: get rid of stray a.o, support ncursesw
    
    scripts/kconfig/lxdialog/check-lxdialog.sh uses gcc to check for
    what libraries are present. Redirect output to /dev/null
    so we do not generate an a.out.
    Also included support for ncursesw - so if present prefer that
    instead of ncurses.
    The order is now (first is preferred):
    1) ncursesw
    2) ncurses
    3) curses
    
    The latter is to support SunOS.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit e0ad8486266c3415ab9c17f5c03c47edc7b93d7b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 15 06:45:20 2006 -0200

    V4L/DVB (3375): git dvb callbacks fix
    
    - Not sure what went wrong here, but SND_PCI_PM_CALLBACKS got deleted.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit e05b3b4adbaeea508bd1c195f1f2e22c8251176b
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Jan 15 22:05:47 2006 +1100

    powerpc/32: Restore previous version of 32-bit PCI code
    
    When I removed the powermac support from arch/ppc/kernel/pci.c,
    I overlooked the fact that that file is used in 32-bit ARCH=powerpc
    builds.  To prevent problems in future, restore the original version
    of that file as arch/powerpc/kernel/pci_32.c, and use that.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fabd23862ba34f217f154c225c59eb5267c4a5d1
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Sun Jan 15 08:12:14 2006 -0200

    V4L/DVB (3381): Fix compilation with Alpha
    
    - BOOT_SIZE name is also used at alpha and were breaking
    compiling with allyesconfig.
    - All BOOT_* renamed to AV7110_BOOT* to fix and keep names
    with the same style.
    Thanks to Andrew Morton for pointing this.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 1e4baed379a2bff3c728ea34602d3432fb047af8
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sun Jan 15 07:52:23 2006 -0200

    V4L/DVB (3380): Semaphore to mutex conversion on drivers/media
    
    - Semaphore to mutex conversion.
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 7d83e8431ae531e907f09c277ab4ab4620092518
Author: Panagiotis Christeas <p_christ@hol.gr>
Date:   Sun Jan 15 07:01:54 2006 -0200

    V4L/DVB (3378): Fix for lack of analog output on some cx88 boards
    
    - Workaround to fix a known regression at cx88-tvaudio.c
    - provide a module parameter workaround to always enable
    analog output.
    
    Signed-off-by: Panagiotis Christeas <p_christ@hol.gr>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit a9cff90ed9a23e9f73963fe73b71ef7e5de3e822
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 15 06:56:15 2006 -0200

    V4L/DVB (3377): make some code static
    
    - This patch makes some needlessly global code static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 15192b1d53506f739b36d37543c42619ac290ebc
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Sun Jan 15 06:50:01 2006 -0200

    V4L/DVB (3376): cx88 Kconfig fixes for cx88-alsa
    
    - Cx88 alsa is experimental.
    - Removed need of PCM OSS for an ALSA module.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 0f79c3637a871c6ebcf8b8c1762725152d5a18d7
Author: Hartmut Hackmann <hartmut.hackmann@t-online.de>
Date:   Sat Jan 14 21:26:44 2006 -0200

    V4L/DVB (3371): Turn frame locked sound on, basic support for FM radio with TDA8275(a)
    
    - Enabled audio PLL. This is mandatory for NICAM sound
    - modify FM IF frequency to 5.5MHz for SAA7133/35 if tuner is tda8290
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 436eddd035c0ff807f4c64551a5a6edc7fb299d0
Author: Tyler Trafford <tatrafford@comcast.net>
Date:   Fri Jan 13 14:38:18 2006 -0200

    V4L/DVB (3365): i2c ids for upd64031a saa717x upd64083 wm8739
    
    - Add i2c ids for drivers: upd64031a saa717x upd64083 wm8739
    
    Signed-off-by: Tyler Trafford <tatrafford@comcast.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 820a8ce7931d18338e5c089725ec083518da1644
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Jan 15 17:33:52 2006 +1100

    powerpc: Make ARCH=powerpc the default for 32-bit ppc
    
    This makes ARCH=powerpc the default on 32-bit powerpc machines,
    where uname -m returns ppc, as well as on 64-bit powerpc machines.
    Most people who would be likely to build their own kernels on
    32-bit powerpc machines would be using powermacs or CHRP machines,
    both of which are supported with ARCH=powerpc now.  Embedded ppc
    developers whose ports haven't been moved over to arch/powerpc
    yet will have to explicitly set ARCH=ppc now.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a7fdd90bc43e3e9cb08bc1b13650024d419b89e5
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Jan 15 17:30:44 2006 +1100

    [PATCH] ppc: Remove powermac support from ARCH=ppc
    
    This makes it possible to build kernels for PReP and/or CHRP
    with ARCH=ppc by removing the (non-building) powermac support.
    It's now also possible to select PReP and CHRP independently.
    Powermac users should now build with ARCH=powerpc instead of
    ARCH=ppc.  (This does mean that it is no longer possible to
    build a 32-bit kernel for a G5.)
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit caf5b04c82f05c65843b2d7189845d6c3df5a41e
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 22:08:28 2006 -0800

    x86: Work around compiler code generation bug with -Os
    
    Some versions of gcc generate incorrect code for the inet_check_attr()
    function, apparently due to a totally bogus index -> pointer comparison
    transformation.
    
    At least "gcc version 4.0.1 20050727 (Red Hat 4.0.1-5)" from FC4 is
    affected, possibly others too.
    
    This changes the function subtly so that the buggy gcc transformation
    doesn't trigger.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8625d463560198cff7cb3eb22886c47d728d501
Author: Haren Myneni <haren@us.ibm.com>
Date:   Sat Jan 14 13:48:25 2006 -0800

    [PATCH] powerpc: Kconfig changes for CRASH_DUMP
    
    Noticed in 2.6.15-git9 that CRASH_DUMP option is moved to top level.
    Moved CRASH_DUMP into "kernel options" next to KEXEC and this config
    option supports only for PPC64 at this time.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4683b54c1dae749a0fb8d8ec46d84dd4fefe41d3
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 14 16:46:47 2006 +1100

    [PATCH] powerpc: Update pmac32_defconfig
    
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 650eec5e04468d0611a60e6098464b7c43981552
Merge: 150a631... 7493a31...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 19:44:39 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 150a631fc55e33df28a6846371e7f86e9e75e8cb
Merge: 8d5c315... 51828ab...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 19:44:01 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 8d5c315059460e665c804d5a9b641f7f0a1e9dd7
Merge: a9df3d0... 3f47112...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 19:43:21 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit a9df3d0f312f4b1aefec76ae5ee86cccbf7cd4e0
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 14 13:21:33 2006 -0800

    [PATCH] When CONFIG_CC_OPTIMIZE_FOR_SIZE, allow gcc4 to control inlining
    
    If optimizing for size (CONFIG_CC_OPTIMIZE_FOR_SIZE), allow gcc4 compilers
    to decide what to inline and what not - instead of the kernel forcing gcc
    to inline all the time.  This requires several places that require to be
    inlined to be marked as such, previous patches in this series do that.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac893963030ad70e528dc23270d499d650546a38
Author: Peter Osterlund <petero2@telia.com>
Date:   Sat Jan 14 13:21:32 2006 -0800

    [PATCH] pktcdvd: un-inline some functions
    
    Un-inline two functions in the pktcdvd driver.  This makes the compiled code
    172 bytes smaller on my system.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f16623569e2ec055b489462315f5296f153d119b
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Sat Jan 14 13:21:31 2006 -0800

    [PATCH] Mark some key VFS functions as __always_inline
    
    Mark a few VFS functions as mandatory inline (based on Al Viro's request);
    these must be inline due to stack usage issues during a recursive loop that
    happens during the recursive symlink resolution (symlink to a symlink to a
    symlink ..)
    
    This patch at this point does not change behavior and is for documentation
    purposes only (but this changes later in the series)
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 652050aec936fdd70ed9cbce1cd1ef30a7c9d117
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 14 13:21:30 2006 -0800

    [PATCH] mark several functions __always_inline
    
          Arjan van de Ven <arjan@infradead.org>
    
    Mark a number of functions as 'must inline'.  The functions affected by this
    patch need to be inlined because they use knowledge that their arguments are
    constant so that most of the function optimizes away.  At this point this
    patch does not change behavior, it's for documentation only (and for future
    patches in the inline series)
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ab34fe76114b9538bfcaf3a9d112dee0feb5f17
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 14 13:21:29 2006 -0800

    [PATCH] enable unit-at-a-time optimisations for gcc4
    
    Allow gcc4 compilers to optimize unit-at-a-time.
    
    This flag enables gcc to "see" the entire C file before making optimisation
    decisions such as inline, which results in gcc making better decisions.  One
    of the immediate effects of this is that static functions that are used only
    once now get inlined.
    
    gcc 3.4 has this flag as well, however gcc 3.x have a problem with inlining
    and stacks and as a result, enabling this flag there would cause excessive and
    unacceptable stack use.  This problem is fixed in the gcc 4.x series.  The
    x86-64 architecture already enables this feature so it's well tested already.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Acked-by: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40fc55cb69c0386504ab5184e9bea0a7aecb2bd3
Author: Ingo Molnar <mingo@elte.he>
Date:   Sat Jan 14 13:21:28 2006 -0800

    [PATCH] Make __always_inline actually force always inlining
    
    This patch is the first in a series that tries to optimize the kernel in terms
    of size (and thus cache behavior, both cpu and pagecache).
    
    This first patch changes __always_inline to be a forced inline instead of the
    "regular" inline it was on everything except alpha.  This forced inline
    matches the intention of the define better as a matter of documentation.
    There is no change in behavior by this patch, since "inline" currently is
    mapped to a forced inline anyway.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9eb8ef7479b6df59645af5d89d293727b521975e
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sat Jan 14 13:21:26 2006 -0800

    [PATCH] fbdev: Update maintainers list
    
    Update maintainers list.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 216d526c89d144928f095f2800bc6c67e968d628
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Jan 14 13:21:25 2006 -0800

    [PATCH] fbdev: Sanitize ->fb_mmap prototype
    
    No need for a file argument.  If we'd really need it it's in vma->vm_file
    already.  gbefb and sgivwfb used to set vma->vm_file to the file argument, but
    the kernel alrady did that.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67a6680d64e18c7a1901f31ef747ea53b6cd986d
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Jan 14 13:21:25 2006 -0800

    [PATCH] fbdev: Sanitize ->fb_ioctl prototype
    
    The ioctl and file arguments to ->fb_mmap are totally unused and there's not
    reason a driver should need them.
    
    Also update the ->fb_compat_ioctl prototype to be the same as ->fb_mmap.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a80da7389891d0eeacbd568a9b54f665fd424d14
Author: David Vrabel <dvrabel@arcom.com>
Date:   Sat Jan 14 13:21:23 2006 -0800

    [PATCH] gx1fb: (try to) play nicer with various BIOSes
    
    Seems that the CS5530A chip used in Geode GX1 systems has some crazy feature
    that causes SMI traps when accessing the PCI configuration space of the video
    device.  Various GX1 BIOSes seem to use this 'feature' to hide the real BARs
    of the device.  This patch disables these traps (in an early PCI fixup) so
    that Linux sees the real, physical BARs and not the virtual ones provided by
    the BIOS.
    
    This should allow the GX1 framebuffer driver to work on more systems that have
    different BIOSes as the driver no longer guesses at what the virtual BARs
    mean.
    
    I'm not entirely sure it the correct solution as I can neither test regular
    VGA console nor the X's 'cyrix' video driver so there might be some breakage
    there -- probably best to get some more testers before applying it.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4836f5749e55663f884ea25920ff88de7822f0a8
Author: Christian Trefzer <ctrefzer@gmx.de>
Date:   Sat Jan 14 13:21:21 2006 -0800

    [PATCH] neofb: take existing display configuration as default
    
    On a Dell Latitude CPi-A I noticed a strangeness wrt.  the handling of an
    external monitor by the neomagic framebuffer driver, namely when the laptop is
    docked in a C/Dock II with the lid shut.
    
    A cold boot would result in the BIOS configuring the video chip to use the
    "external monitor only" mode, yet neofb would default to "internal LCD only".
    An attempt for a quick fix by using the Fn-F8 keystroke to toggle the display
    combination modes resulted in a reproductible hard lock, powering down being
    the only solution.
    
    The attached patch makes neofb probe the register for the current display
    mode, using that value as a default if nothing was specified as kernel/module
    parameter.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16ab3adf562fb723d9085c998637f214b10072c5
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sat Jan 14 13:21:20 2006 -0800

    [PATCH] Update kernel-parameters.txt IOSCHED to spell out 'anticipatory'
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6b25b675db9f9f1af640b928f5476e8454b391c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sat Jan 14 13:21:19 2006 -0800

    [PATCH] nlm kernel-parameters update
    
    Add 2 lockd kernel parameters and spell 2 others correctly.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Cc: Olaf Kirch <okir@suse.de>
    Cc: <buraphalinuxserver@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c878967d32a10cb604718f7608efa0ea3d8b596
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Sat Jan 14 13:21:18 2006 -0800

    [PATCH] cs89x0: add ixdp2351 support
    
    This patch adds support for the Intel IXDP2351 to the CS89x0 driver.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a07f0dbec01fda6d88f5089e21454b8df53d36fc
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Jan 14 13:21:17 2006 -0800

    [PATCH] cs89x0: use u16 for device register data
    
    cs89x0 inconsistently used 'int' and 'u32' for device register data.
    As the cs89x0 is a 16-bit chip, change the I/O accessors over to 'u16'.
    (Spotted by Deepak Saxena.)
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 580d7b8cc59d68a3d26bfcc64c2053b464782c9a
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Jan 14 13:21:16 2006 -0800

    [PATCH] cs89x0: use #elif instead of #else/#if/#endif
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 032874e49271f8c9c53c137cb60cf12617a953a0
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Jan 14 13:21:15 2006 -0800

    [PATCH] cs89x0: credit Dmitry Pervushin
    
    Credit Dmitry Pervushin for the PNX010X platform support.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c5608404e66047bbcd9b7788e7f3ee2555c8639
Author: Abhay Salunke <Abhay_Salunke@dell.com>
Date:   Sat Jan 14 13:21:14 2006 -0800

    [PATCH] dell_rbu: fix Bug 5854
    
    This fixes http://bugzilla.kernel.org/show_bug.cgi?id=5854
    
    Root cause:
    
    The dell_rbu driver creates entries in /sys/class/firmware/dell_rbu/ by
    calling request_firmware_nowait (without hotplug ) this function inturn
    starts a kernel thread which creates the entries in
    /sys/class/firmware/dell_rbu/loading , data and the thread waits on the
    user action to return control back to the callback fucntion of dell_rbu.
    The thread calls wait_on_completion which puts it in a D state until the
    user action happens.  If there is no user action happening the load average
    goes up as the thread D state is taken in to account.  Also after
    downloading the BIOS image the enrties go away momentarily but they are
    recreated from the callback function in dell_rbu.  This causes the thread
    to get recreated causing the load average to permenently stay around 1.
    
    Fix:
    
    The dell_rbu also creates the entry
    /sys/devices/platform/dell_rbu/image_type at driver load time.  The image
    type by default is mono if required the user can echo packet to image_type
    to make the BIOS update mechanism using packets.  Also by echoing init in
    to image_type the /sys/class/firmware/dell_rbu entries can be created.
    
    The driver code was changed to not create /sys/class/firmware/dell_rbu
    entries during load time, and also to not create the above entries from the
    callback function.  The entries are only created by echoing init to
    /sys/devices/platform/dell_rbu/image_type The user now needs to create the
    entries to download the image monolithic or packet.  This fixes the issue
    since the kernel thread only is created when ever the user is ready to
    download the BIOS image; this minimizes the life span of the kernel thread
    and the load average goes back to normal.
    
    Signed off by Abhay Salunke <abhay_salunke@dell.com>
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d063389ecf20e5c20be91a0007656deb9fc38a1c
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:13 2006 -0800

    [PATCH] smbfs: remove kmalloc wrapper
    
    Remove the remaining kmalloc() wrapper bits from fs/smbfs/.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44db77f33cc42c49f55ddb360f5e9a05581ffdc0
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:12 2006 -0800

    [PATCH] ncpfs: remove kmalloc wrapper
    
    Remove remaining kmalloc wrapper bits from fs/ncpfs/.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69c99ac17e2ee0eb45e2c9873e6e12d73260fc6b
Author: Coywolf Qi Hunt <qiyong@fc-cn.com>
Date:   Sat Jan 14 13:21:11 2006 -0800

    [PATCH] abandon gcc 295x main.c tidy
    
    After abandon-gcc-295x.patch, this relocates the error-out-early comment.
    
    Signed-off-by: Coywolf Qi Hunt <qiyong@fc-cn.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3135806358e8d3d8ac61a13f58f148d0a98a7b9b
Author: Valdis Kletnieks <valdis.kletnieks@vt.edu>
Date:   Sat Jan 14 13:21:10 2006 -0800

    [PATCH] quota: make useless quota error message informative
    
    fs/quota_v2.c can, under some conditions, issue a kernel message that says,
    in totality, 'failed read'.  This patch does the following:
    
    1) Gives a hint who issued the error message, so people reading the logs
       don't have to go grepping the entire kernel tree (with 11 false
       positives).
    
    2) Say what amount of data we expected, and actually got.
    
    Signed-off-by: Valdis Kletnieks <valdis.kletnieks@vt.edu>
    Cc: Jan Kara <jack@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9975d6ba0668aa21d9f0c565d7df56c805c8d5c
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:09 2006 -0800

    [PATCH] reiserfs: remove d_splice_alias NULL check from reiserfs_lookup
    
    Remove redundant NULL check in reiserfs_lookup() as d_splice_alias() can take
    NULL inode as input.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ff6b1c2575f13885c1d5291e4283682ad9a41cd
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:09 2006 -0800

    [PATCH] isofs: remove d_splice_alias NULL check from isofs_lookup
    
    Remove redundant NULL check in isofs_lookup() as d_splice_alias() can take
    NULL inode as input.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba7fe369875075c3b0def9887afb7a44fa88175e
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:08 2006 -0800

    [PATCH] ext3: remove d_splice_alias NULL check from ext3_lookup
    
    Remove redundant NULL check in ext3_lookup() as d_splice_alias() can take NULL
    inode as input.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 082a05c6f02e00982dd42ddae434fbc806a822e5
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sat Jan 14 13:21:07 2006 -0800

    [PATCH] ext2: remove d_splice_alias NULL check from ext2_lookup
    
    Remove redundant NULL check in ext2_lookup() as d_splice_alias() can take NULL
    inode as input.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 505970b96e3b7d22177c38e03435a68376628e7a
Author: Paul Jackson <pj@sgi.com>
Date:   Sat Jan 14 13:21:06 2006 -0800

    [PATCH] cpuset oom lock fix
    
    The problem, reported in:
    
      http://bugzilla.kernel.org/show_bug.cgi?id=5859
    
    and by various other email messages and lkml posts is that the cpuset hook
    in the oom (out of memory) code can try to take a cpuset semaphore while
    holding the tasklist_lock (a spinlock).
    
    One must not sleep while holding a spinlock.
    
    The fix seems easy enough - move the cpuset semaphore region outside the
    tasklist_lock region.
    
    This required a few lines of mechanism to implement.  The oom code where
    the locking needs to be changed does not have access to the cpuset locks,
    which are internal to kernel/cpuset.c only.  So I provided a couple more
    cpuset interface routines, available to the rest of the kernel, which
    simple take and drop the lock needed here (cpusets callback_sem).
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed68cb3676bb179768529aeb808403d57295af56
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Jan 14 13:21:05 2006 -0800

    [PATCH] s390: fix blk_queue_ordered call in dasd.c fixup
    
    The QUEUE_ORDERED_* numbers got renumbered and by accident the dasd driver
    was changed to use QUEUE_ORDERED_DRAIN instead of QUEUE_ORDERED_TAG.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ce3b30cf32c5c078518f0f3e6623bcb6eee9872
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Sat Jan 14 13:21:04 2006 -0800

    [PATCH] s390: email-address change
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 871931c1eef1727d42ff3ecf993b1978cf1e209f
Author: Cornelia Huck <cornelia.huck@de.ibm.com>
Date:   Sat Jan 14 13:21:03 2006 -0800

    [PATCH] s390: chps[] array too short
    
    The chps[] array in struct channel_subsystem is one too short; therefore the
    code doesn't realize the chpid ff is already known.  When several devices on
    chpid ff become available, the message "new_channel_path: could not register
    ff" is displayed for every device but the first one.
    
    Signed-off-by: Cornelia Huck <cornelia.huck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f1c12afe5c3e0ef901eec12dee09df4947462ee
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Sat Jan 14 13:21:03 2006 -0800

    [PATCH] s390: cputime misaccounting
    
    finish_arch_switch needs to update the user cpu time as well, not just the
    system cpu time.  Otherwise the partial user cpu time of a process that is
    stored in the lowcore will be (mis-)accounted to the next process.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bcc132651d384ad115a275868effb49c64b348ce
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Sat Jan 14 13:21:02 2006 -0800

    [PATCH] s390: fix blk_queue_ordered call in dasdc
    
    Add the missing third argument to the blk_queue_ordered call and use the
    constant QUEUE_ORDERED_DRAIN instead of "1".
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53df751ccd0a404cca169dbd61bae571cc21559a
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Sat Jan 14 13:21:01 2006 -0800

    [PATCH] s390: add dummy pm_power_off
    
    Define a dummy pm_power_off pointer to make sys_reboot happy.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0152fb37603e3a776768794030b809ae77027aa4
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Sat Jan 14 13:21:00 2006 -0800

    [PATCH] s390: spinlock fixes
    
    Remove useless spin_retry_counter and fix compilation for UP kernels.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68c119177890afff4759abda8da2b4ff5e06efa1
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Sat Jan 14 13:20:58 2006 -0800

    [PATCH] s390: fix cpcmd calls on UP
    
    Add missing fourth argument to cpcmd calls under !CONFIG_SMP.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6410dd5e07b63606605794eeb7ec29e61fbda3db
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Sat Jan 14 13:20:58 2006 -0800

    [PATCH] s390: sigcontext.h vs __user
    
    Add an include of linux/compiler.h in sigcontext.h to avoid compiler errors in
    user space apps because of a missing definition for __user.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb33c190c2b633f0dfc98481ecf12f62a02c705e
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sat Jan 14 13:20:57 2006 -0800

    [PATCH] s390: show_task oops
    
    The show_task function walks the kernel stack backchain of processes assuming
    that the processes are not running.  Since this assumption is not correct
    walking the backchain can lead to an addressing exception and therefore to a
    kernel hang.  So prevent the kernel hang (you still get incorrect results)
    verity that all read accesses are within the bounds of the kernel stack before
    performing them.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ffbc9da137ef475afd5e01f72e1ce1ce49668b1
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Sat Jan 14 13:20:56 2006 -0800

    [PATCH] s390: sha256 crypto code fix
    
    Fix processing of messages larger than 2 * SHA256_BLOCK_SIZE.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fda5e142598341d30006e3715e53b2c983a9fca7
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Sat Jan 14 13:20:55 2006 -0800

    [PATCH] s390: aes crypto code fixes
    
    Call KM[C] only with a multiple of block size.  Check return value of KM[C]
    instructions and complain about erros
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8dc6038ff894d0eb0b5d61c9fafdf323ec10251
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Sat Jan 14 13:20:53 2006 -0800

    [PATCH] s390: des crypto code speedup
    
    Provide ECB and CBC encrypt / decrypt functions to crypto API to speed up our
    hardware accelerated DES implementation.  This new functions allow the crypto
    API to call ECB / CBC directly with large blocks in difference to the old
    functions that were calles with algorithm block size (8 bytes for DES).
    
    This is up to factor 10 faster than our old hardware implementation :)
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c1357833bf5d92b1bda41215ae88a6597664251b
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Sat Jan 14 13:20:53 2006 -0800

    [PATCH] s390: des crypto code cleanup
    
    Beautify the s390 in-kernel-crypto des code.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7aa89746e89fca8fc722485aaf4454f2b636cf4d
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Sat Jan 14 13:20:52 2006 -0800

    [PATCH] i386: fix stack dump loglevel
    
    Recent changes caused part of stack traces from SysRq-T to print at
    KERN_EMERG loglevel.  Also, parts of stack dump during oops were failing to
    print at that level when they should.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce63ad78b55daf708d5d4ced9b832a4354ad2a4c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sat Jan 14 13:20:51 2006 -0800

    [PATCH] i386: put HOTPLUG_CPU under Processor type, not Bus options
    
    Move the HOTPLUG_CPU option under "Processor type" instead of under "Bus
    options".  This makes it the same for i386 as most other processor types
    (arm, ia64, parisc, ppc, s390, & x86_64; but not for powerpc).  Besides, it
    takes me too long to find it under Bus options.  I can't be the only person
    who has trouble finding it.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fabbfb9e8c53416eaa4f62b957430211376c9c82
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Sat Jan 14 13:20:50 2006 -0800

    [PATCH] powerpc: Add support for the MPC83xx watchdog
    
    Add support for the PowerPC MPC83xx watchdog.  The MPC83xx has a simple
    watchdog that once enabled it can not be stopped, has some simple timeout
    range selection, and the ability to either reset the processor or take a
    machine check.
    
    Signed-off-by: Dave Updegraff <dave@cray.org>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Cc: Wim Van Sebroeck <wim@iguana.be>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7339ff8302fd70aabf5f1ae26e0c4905fa74a495
Author: Robin Holt <holt@sgi.com>
Date:   Sat Jan 14 13:20:48 2006 -0800

    [PATCH] Add tmpfs options for memory placement policies
    
    Anything that writes into a tmpfs filesystem is liable to disproportionately
    decrease the available memory on a particular node.  Since there's no telling
    what sort of application (e.g.  dd/cp/cat) might be dropping large files
    there, this lets the admin choose the appropriate default behavior for their
    site's situation.
    
    Introduce a tmpfs mount option which allows specifying a memory policy and
    a second option to specify the nodelist for that policy.  With the default
    policy, tmpfs will behave as it does today.  This patch adds support for
    preferred, bind, and interleave policies.
    
    The default policy will cause pages to be added to tmpfs files on the node
    which is doing the writing.  Some jobs expect a single process to create
    and manage the tmpfs files.  This results in a node which has a
    significantly reduced number of free pages.
    
    With this patch, the administrator can specify the policy and nodes for
    that policy where they would prefer allocations.
    
    This patch was originally written by Brent Casavant and Hugh Dickins.  I
    added support for the bind and preferred policies and the mpol_nodelist
    mount option.
    
    Signed-off-by: Brent Casavant <bcasavan@sgi.com>
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 852cf918dcf2ae46468b425e679fbcbf0ea8fdbb
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Jan 14 13:20:46 2006 -0800

    [PATCH] Fix for CONFIG_NUMA without CONFIG_SWAP
    
    Some people apparently run CONFIG_NUMA without CONFIG_SWAP.  The migration
    code currently depends on swap.  This patch provides a set of inline
    fallback functions so that the kernel properly compiles.  However, calls to
    migration functions will fail.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eed6565f70ce3fc958e5a3483c48fc4a8e111bdc
Author: Calin A. Culianu <calin@ajvar.org>
Date:   Sat Jan 14 13:20:46 2006 -0800

    [PATCH] Watchdog: Winsystems EPX-C3 SBC
    
    This is a 2.6 patch that adds support for the watchdog timer built into the
    EPX-C3 single board computer manufactured by Winsystems, Inc.
    
    Driver details:
    
    This is for x86 only.  This watchdog is pretty basic and simple.  It is
    only configurable via jumpers on the SBC, and it only has either a 1.5s or
    200s interval.  The watchdog can either be auto-configured to start as soon
    as the machine powers up (bad idea for the 1.5s interval!) or it can be
    enabled and disabled by writing to io port 0x1ee.  Petting the watchdog
    involves writing any value to io port 0x1ef.
    
    The only unfortunate thing about this watchdog (and it is not at all
    uncommmon in watchdogs that linux supports) is that it is not a PCI or
    ISA-PNP device and as such it isn't at all probeable.  Either the watchdog
    exists as 2 bytes at 0x1ee, or it doesn't.  Thus, using this driver on a
    machine that doesn't have that watchdog can potentially hang/crash the
    system, etc.  So only use this driver if you in fact are on a Winsystems
    EPX-C3 SBC.
    
    Anyway this driver fits into the already-existing watchdog framework quite
    nicely and I already tested it on my EPX-C3 and it works like a charm.
    
    Signed-off-by: Calin A. Culianu <calin@ajvar.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee7be5de357b8ff69afc8c39648b336cd917218a
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sat Jan 14 13:20:44 2006 -0800

    [PATCH] uml: fix symbol for mktime
    
      LD      .tmp_vmlinux1
    /usr/lib/gcc-lib/i486-linux/3.3.4/../../../libc.a(mktime.o): In function `timelocal':
    : multiple definition of `mktime'
    kernel/built-in.o:kernel/time.c:604: first defined here
    /usr/bin/ld: Warning: size of symbol `mktime' changed from 134 in kernel/built-in.o to 44 in /usr/lib/gcc-lib/i486-linux/3.3.4/../../../libc.a(mktime.o)
    collect2: ld returned 1 exit status
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 858119e159384308a5dde67776691a2ebf70df0f
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Sat Jan 14 13:20:43 2006 -0800

    [PATCH] Unlinline a bunch of other functions
    
    Remove the "inline" keyword from a bunch of big functions in the kernel with
    the goal of shrinking it by 30kb to 40kb
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0a9499c3dd50d333e2aedb7e894873c58da3785
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sat Jan 14 13:20:41 2006 -0800

    [PATCH] sched: add new SCHED_BATCH policy
    
    Add a new SCHED_BATCH (3) scheduling policy: such tasks are presumed
    CPU-intensive, and will acquire a constant +5 priority level penalty.  Such
    policy is nice for workloads that are non-interactive, but which do not
    want to give up their nice levels.  The policy is also useful for workloads
    that want a deterministic scheduling policy without interactivity causing
    extra preemptions (between that workload's tasks).
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d0cfb527944c2cfee2cffab14f52d483e329fcf
Author: Patrick Gefre <pfg@sgi.com>
Date:   Sat Jan 14 13:20:40 2006 -0800

    [PATCH] Altix: ioc3 serial support
    
    Add driver support for a 2 port PCI IOC3-based serial card on Altix boxes:
    
    This is a re-submission.  On the original submission I was asked to
    organize the code so that the MIPS ioc3 ethernet and serial parts could be
    used with this driver.  Stanislaw Skowronek was kind enough to provide the
    shim layer for this - thanks Stanislaw.  This patch includes the shim layer
    and the Altix PCI ioc3 serial driver.  The MIPS merged ioc3 ethernet and
    serial support is forthcoming.
    
    Signed-off-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7170be5f586b59bdcdab082778a5d9203ba7b667
Author: Neil Horman <nhorman@redhat.com>
Date:   Sat Jan 14 13:20:38 2006 -0800

    [PATCH] convert /proc/devices to use seq_file interface
    
    A Christoph suggested that the /proc/devices file be converted to use the
    seq_file interface.  This patch does that.
    
    I've obxerved one or two installation that had sufficiently large sans that
    they overran the 4k limit on /proc/devices.
    
    Signed-off-by: Neil Horman <nhorman@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit faf3a98918aa5f14a29e0d246e194be58b9357f0
Author: Ian Kent <raven@themaw.net>
Date:   Sat Jan 14 13:20:37 2006 -0800

    [PATCH] autofs4 oops fix
    
    We forgot to initialise a couple of nameidata fields.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c882b019160ebd7e954ba787f6353ed69281fd7
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 14 16:35:35 2006 +1100

    [PATCH] powerpc: Fix Maple build
    
    The changes to the device node structure broke Maple build. This fixes it.
    Unfortunately I coudn't test as my Maple board appears to be dead.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8385a6a3acfbb4b68150c25cfe9084b6c4f501cf
Author: Haren Myneni <haren@us.ibm.com>
Date:   Fri Jan 13 19:15:36 2006 -0800

    [PATCH] powerpc: Fix kdump copy regs and dynamic allocate per-cpu crash notes
    
    - This contains the arch specific changes for the following the
    kdump generic fixes which were already accepted in the upstream.
           .   Capturing CPU registers (for the case of 'panic' and invoking
    the dump using 'sysrq-trigger') from a function (stack frame) which will
    be not be available during the kdump boot. Hence, might result in
    invalid stack trace.
           .   Dynamically allocating per cpu ELF notes section instead of
    statically for NR_CPUS.
    
    - Fix the compiler warning in prom_init.c.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9216ad8cb7849d88b6d8e9f097718de4f25d4121
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Jan 15 13:00:08 2006 +1100

    powerpc/32: Generate miboot images with ARCH=powerpc
    
    Miboot images are apparently still used on some old 32-bit powermacs,
    so build them with ARCH=powerpc if we're 32-bit and powermac support
    is enabled.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fb453d4b0b51ea71c9eb8192c61b768afeb7ee8a
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Jan 15 02:46:48 2006 +0100

    MAINTAINERS: CIFS: add linux-cifs-client@lists.samba.org list
    
    Add linux-cifs-client@lists.samba.org to CIFS entry in MAINTAINERS
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 624dffcbcf87b9c501b13256416a82487be962bc
Author: Christian Kujau <evil@g-house.de>
Date:   Sun Jan 15 02:43:54 2006 +0100

    correct email address of Manfred Spraul
    
    I  tried to send the forcedeth maintainer an email, but it came back with:
    
    "The mail address manfreds@colorfullife.com is not read anymore.
    Please resent your mail to manfred@ instead of manfreds@."
    
    This patch fixes this.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 92c3504e6ee0816d4ea1345a6bd276969224890d
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Sun Jan 15 02:40:08 2006 +0100

    Spelling fix in init/Kconfig for the help of CONFIG_SWAP
    
    Trivial spelling fix s/socalled/so called/
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 014c2544e6fd09d702c908d95fe32c082376e15c
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Sun Jan 15 02:37:08 2006 +0100

    return statement cleanup - kill pointless parentheses
    
    This patch removes pointless parentheses from return statements.
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 46a9f65f8bb39778646b83220d9619aff1490bcd
Author: Domen Puncer <domen@coderock.org>
Date:   Sun Jan 15 02:20:28 2006 +0100

    remove unused LOCAL_END_REQUEST
    
    Remove the last occurence of LOCAL_END_REQUEST.
    
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit f1c3ddff84981bbe3bedd60a6330057e8f1f8ef5
Author: Horms <horms@verge.net.au>
Date:   Sun Jan 15 02:18:28 2006 +0100

    MAINTAINERS: better list for "POSIX CLOCKS and TIMERS"
    
    POSIX CLOCKS and TIMERS disscussion is more appropriate
    on linux-kernel than linux-net. As suggested by the maintainer,
    George Anzinger.
    
    Signed-off-by: Horms <horms@verge.net.au>
    Acked-by: George Anzinger <george@mvista.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 3235798804ee75f09d45aee5003197930de57689
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Sun Jan 15 02:12:54 2006 +0100

    Fix "stuct", "strut", "struc" typos
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit fad6a94ee6b33ca5e6184e8b08634a6a2319d0cb
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Jan 15 02:09:54 2006 +0100

    Documentation/hpet.txt typo
    
    Fix a typo.  Requested by Petr Vandrovec.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 750c902ef4a1956cecbc8fb590ce2dad5b02eab9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 15 02:01:39 2006 +0100

    SOFTWARE_SUSPEND: fix a typo in the dependencies
    
    This patch fixes a typo in the dependencies of SOFTWARE_SUSPEND.
    
    This patch is based on a report by
    Jean-Luc Leger <reiga@dspnet.fr.eu.org>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Pavel Machek <pavel@ucw.cz>

commit 575c96871832e91983248aebb02fc072e5fd17c9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 15 02:00:17 2006 +0100

    spelling: s/appropiate/appropriate/
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit a8e82ef97a1d1227575698935ec86ae4d02c372c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 15 01:58:57 2006 +0100

    drivers/net/{,wireless/}Kconfig: remove dead URL
    
    shadow.cabi.net does no longer exist.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit b480146fd19b99b16263467216622effcd93fd96
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 15 01:57:47 2006 +0100

    ftape: remove some outdated information from Kconfig files
    
    This patch removes some outdated information about the ftape driver like
    pointers to no longer existing webpages from Kconfig files.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 9c782e3b2083c33b5a14c9955cf15f32ea88116b
Author: Alex Shepard <ashepard@u.washington.edu>
Date:   Sun Jan 15 01:57:00 2006 +0100

    Spelling fix in IPW2100 and IPW2200 Kconfig entries
    
    s/remvoed/removed/
    
    Signed-off-by: Alex Shepard <ashepard@u.washington.edu>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 7c7dce9209161eb260cdf9e9172f72c3a02379e6
Author: Al Viro <aviro@redhat.com>
Date:   Sat Jan 14 15:29:55 2006 -0500

    [PATCH] Fix double decrement of mqueue_mnt->mnt_count in sys_mq_open
    
    Fixed the refcounting on failure exits in sys_mq_open() and
    cleaned the logics up.  Rules are actually pretty simple - dentry_open()
    expects vfsmount and dentry to be pinned down and it either transfers
    them into created struct file or drops them.  Old code had been very
    confused in that area - if dentry_open() had failed either in do_open()
    or do_create(), we ended up dentry and mqueue_mnt dropped twice, once
    by dentry_open() cleanup and then by sys_mq_open().
    
    Fix consists of making the rules for do_create() and do_open()
    same as for dentry_open() and updating the sys_mq_open() accordingly;
    that actually leads to more straightforward code and less work on
    normal path.
    
    Signed-off-by: Al Viro <aviro@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12dbf3fc4d06d2c0c4c44dc0612df04248b3cfd3
Merge: 61b7efd... fc091e0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 12:16:07 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-misc-2.6

commit 3f471126ee53feb5e9b210ea2f525ed3bb9b7a7f
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 19:30:04 2006 +0000

    [ARM] 3262/4: allow ptraced syscalls to be overriden
    
    Patch from Nicolas Pitre
    
    This is needed by strace to properly handle the tracing of some system
    calls. It could be useful for other applications as well.
    
    Based on an earlier patch from Daniel Jacobowitz.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Daniel Jacobowitz <dan@debian.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 61b7efddc5256225099d13185659e9ad9d8abc8a
Merge: 3e2b32b... 2e10c84...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 10:43:26 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/spi-2.6

commit 3e2b32b69308e974cd1167beaf266d3c716e4734
Merge: 3824ba7... 9c08a93...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 10:42:40 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/driver-2.6

commit 3824ba7df91745da6ebac703c87c3b801c34fdd0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 14 03:08:16 2006 +0100

    [PATCH] remove unused tmp_buf_sem's
    
    tmp_buf_sem sems to be a common name for something completely unused...
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1b114ee90040af5108973abd1a82babc4905868
Author: Xose Vazquez Perez <xose.vazquez@gmail.com>
Date:   Sat Jan 14 12:57:41 2006 +0100

    [PATCH] docs: update some updated code docs
    
    Based on comments from Randy Dunlap on my previous commit
    5b0ed2c64d8fdafb5fcfb3baabdd288628b1ff9b
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b4ee73e28052e53aac2fef1c91029666d8b2d70
Author: Evgeniy <dushistov@mail.ru>
Date:   Sat Jan 14 11:42:06 2006 +0300

    [PATCH] ufs cleanup
    
    Here is update of ufs cleanup patch, brought on by the recently fixed
    ubh_get_usb_second() bug that made some ugly code rather painfully
    obvious.  It also includes
    
     - fix compilation warnings which appears if debug mode turn on
     - remove unnecessary duplication of code to support UFS2
    
    I tested it on ufs1 and ufs2 file-systems.
    
    Signed-off-by: Evgeniy Dushistov <dushistov@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 59af70385fb125f819d953801b6c45629836e916
Merge: e7de369... d50f5c5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 09:55:28 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit e7de369050534025b33aab1033358bf47a577e4d
Merge: 87530db... eab9edd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 14 09:49:16 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/dtor/input

commit fc091e03820bf67e543362bd40959701a71d0c27
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:06:04 2006 -0800

    [SCSI] qla2xxx: Update version number to 8.01.04-k.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 79f89a4296ff22f09baf538d4ff2a6d0c3097a73
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:58 2006 -0800

    [SCSI] qla2xxx: Disable port-type RSCN handling via driver state-machine.
    
    Given the semantic changes in both the device-model and
    fc-transport APIs, the driver's handling of port-type RSCNs
    via a series of ADISCs and PLOGIs can cause series of
    badness ranging from unexpectedly device loss to devices not
    being discovered.
    
    In the interim, disable (via a module-parameter) this
    feature and allow RSCN management to continue to occur
    within the driver's DPC thread.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fdd52dfa3c311a2583850a2fbea99f329be861d7
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:53 2006 -0800

    [SCSI] qla2xxx: Kconfig update: Add URL to download firmware images.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c0eb87552654bc3e8da179c501e3e18c92ee4360
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:48 2006 -0800

    [SCSI] qla2xxx: Correct setting of FDMI supported/current port speed.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bc8fb3cb9e208de0d69223f68058714b78f83833
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:42 2006 -0800

    [SCSI] qla2xxx: Correct execution-throttle setting for ISP24xx.
    
    Similarly to other ISPs, set execution throttle to maximum
    allowed value since 'throttling' is done on a per-lun basis
    via queue-depth.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 590f98e5e8d6502cc21fdcddc90a0cc09c1f770e
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:37 2006 -0800

    [SCSI] qla2xxx: Collapse load RISC RAM implementations.
    
    Simplify essentially duplicate load RISC RAM implementation
    in qla2x00_load_ram_ext() and qla2x00_load_ram().
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f94097edf2c3ac9bc48580252c2eee52947b5e60
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:32 2006 -0800

    [SCSI] qla2xxx: Correct swing/emphasis settings for ISP24XX.
    
    Swing/emphasis settings in NVRAM were not being honoured due
    to the driver not converting the serial-link options from LE
    to host-endian format.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c9d02acf39d9fdde18b63281944003b9ec9a3271
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:26 2006 -0800

    [SCSI] qla2xxx: Correct issue where portstate does not transition during loop-resync.
    
    If the Get Port Database call fails during local-loop
    update, then schedule the DPC routine to perform a rescan as
    the firmware would have updated the Get ID List port-entries
    of their new state.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 210d53507e961b0f480d1a86d9a26832cc68645e
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:21 2006 -0800

    [SCSI] qla2xxx: Update firmware-dump procedure for ISP24xx.
    
    Small changes to register retrieval and order as per latest
    firmware specification.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e978010cebcc0ac1be67caab8dfc7c1fa831406d
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:15 2006 -0800

    [SCSI] qla2xxx: Re-enable flash-part write protection on ISP24xx boards.
    
    Driver would not correctly re-enable the write-protection
    bits of the flash part after updates.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5998983113c1c9158c1ce66ff26a212aceaf7e5c
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:10 2006 -0800

    [SCSI] qla2xxx: Correct excessive delay during LOAD-RISC-RAM mailbox command.
    
    Problem report (against 2.4.x driver) from Jeff Layton
    <jlayton@redhat.com>:
    
    An OEM noticed that the U6 qla2200 driver would hang for
    around 2 minutes at boot time and then proceed normally. I
    found that the delay was occurring when loading the new
    firmware into the card, and was due to a
    schedule_timeout(10) added to the bottom of the polling
    loop.
    
    Some testing showed that the load ram operation on the card
    was very quick (on the order of a couple of jiffies), but
    the sleep in the polling loop was making each operation take
    around 25-30.
    
    The attached patch corrects this by making it skip sleeping
    during the load ram operation, since I believe we only do
    that when the module is plugged in. It also skips sleeping
    if the mbox_int flag got set during the current loop.
    
    This corrected the hang on my test setup, and OEM also
    confirmed that it corrected the problem for them.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 03ab2eabed74708c0c74163723007e8e72244219
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:05:05 2006 -0800

    [SCSI] qla2xxx: Use msleep() as delay during ISP polling.
    
    Mailbox commands are polled for completion during ISP
    initialization.  During potentially 'long' mailbox commands
    (i.e. fabric login), we really don't want a busy-wait delay
    to potentially trigger a (benign) soft-lockup BUG().
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e038a1be22bef90795c5239d1563609b89c3aa18
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:04:59 2006 -0800

    [SCSI] qla2xxx: Drop noisy 'UNDERRUN' status message.
    
    There's no point in displaying the message during a valid
    underrun case.  Limit the message to potentially problematic
    cases.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9403688e9bca54b55bfcea51053c8af537beba0a
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:04:54 2006 -0800

    [SCSI] qla2xxx: Correct FC4 feature assignment during RFF_ID.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit dad9c8c15dbe4eac0ab086c74cdb256ec2fb0b70
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Fri Jan 13 17:04:49 2006 -0800

    [SCSI] qla2xxx: Reference proper node/port names in fc_host class.
    
    The initial-control-block references are not always correct
    as the use-node-name qualifier during NVRAM configuration
    will cause the firmware to use the portname as a base for
    the nodename.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a1e80c20e1ac751dbdd88dee989e9a19c22c4a84
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Jan 13 18:05:56 2006 -0600

    [SCSI] iscsi: use pageslab
    
    From: FUJITA Tomonori <tomof@acm.org> and zhenyu.z.wang@intel.com:
    
    We cannot handle filesystems like XFS becuase of the pages they
    are sending us. We had thought page_count could be used to
    work around this, but the correct test is for PageSlab.
    
    The proper solution is to figure out what type of pages
    filesystems can use so we do not have to add tests like
    this or handle it in the block layer for all network block drivers
    but the issue still has not been resolved on fs-devel
    so we are sending this patch as a temporary fix.
    
    This is last patch just in case it is Nakd with the explanation
    that we need to push the correct fix through fs-devel, mm
    or the block layer. The rest of the patchset can live without
    the patch, but the driver will not work with filesystems like
    XFS.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 55e3299d9eca01fb2351c5d37e222872b7c6e0af
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Jan 13 18:05:53 2006 -0600

    [SCSI] iscsi: fix 4k stack iscsi setups
    
    When we run the xmit code from queuecomand the stack trace
    gets too deep. The patch runs the xmit code from the scsi_host
    work queue. This fixes 4k stack and xfs support and should
    fix the st and sg stack usage bugs.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7b8631b53bea286b68847a939b87135198335b66
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Jan 13 18:05:50 2006 -0600

    [SCSI] iscsi: seperate iscsi interface from setup functions
    
    This is the second version of the patch to address Christoph's comments.
    Instead of doing the lib, I just kept everything in scsi_trnapsort_iscsi.c
    like the FC and SPI class. This was becuase the driver model and sysfs
    class is tied to the session and connection setup so separating did not
    buy very much at this time.
    
    The reason for this patch was becuase HW iscsi LLDs like qla4xxx cannot
    use the iscsi class becuase the scsi_host was tied to the interface and
    class code. This patch just seperates the session from scsi host so
    that LLDs that allocate the host per some resource like pci device
    can still use the class.
    
    This is also fixes a couple refcount bugs that can be triggered
    when users have a sysfs file open, close the session, then
    read or write to the file.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7cae5159dd2623300cf9820865bfbf6dcdb7c1b9
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Jan 13 18:05:47 2006 -0600

    [SCSI] iscsi: add high mem support
    
    From Mike Christie <michaelc@cs.wisc.edu> and FUJITA Tomonori <tomof@acm.org>:
    
    We cannot use page_address becuase some pages could be highmem.
    Instead, we can use sock_no_sendpage which does kmap for us.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 56851698c23430f0f291d6e50da344e6b414f3b9
Author: FUJITA Tomonori <tomof@acm.org>
Date:   Fri Jan 13 18:05:44 2006 -0600

    [SCSI] iscsi: data digest page cache usage fix
    
    Users can write to a page while we are sending it and making
    digest calculations. This ends up causing us to retry the command
    when a digest error is later reported. By using sock_no_sendpage
    when data digests are calculated we can avoid a lot of (not all but it
    helps) the retries becuase sock_no_sendpage is not zero copy.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3e97c7e6cda933e3a1b518a8100d155c532a3cfc
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Jan 13 18:05:41 2006 -0600

    [SCSI] iscsi: host locking fix
    
    We should be taking the host_lock instead of the conn lock when
    checking host_busy.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bf310b8f582bddec20c27e32ffbaf8e2c91e147c
Author: Zhenyu Wang <zhenyu.z.wang@intel.com>
Date:   Fri Jan 13 18:05:38 2006 -0600

    [SCSI] iscsi: data under/over flow fix
    
    We need to check the ISCSI_FLAG_DATA_* flags.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 42f72aa9e5bc969a34e5989fc00e7e2d71e8a95b
Author: FUJITA Tomonori <tomof@acm.org>
Date:   Fri Jan 13 18:05:35 2006 -0600

    [SCSI] iscsi: whitespace cleanup
    
    Remove extra whitespaces.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a12e25bd59e36d12dcd026ffa3c65d48b5cf5442
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Wed Jan 11 08:39:45 2006 -0500

    [SCSI] sem2mutex 3w-[x9]xxx
    
    Convert a the 3w-9xxx.c and 3w-xxxx.c drivers to use mutexes instead
    of semaphores. Untested, but compiles and looks obviously correct.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3759b788498ffc0b2563181567af4c82d983f921
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Jan 14 09:28:07 2006 -0600

    [SCSI] mptfc: need to select transport attrs
    
    Now that mptfc actually uses the transport class, it can't be built
    without it.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 569b11dcfa9d764e775f9e964a680c32265ab7f2
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Fri Jan 13 16:25:29 2006 -0700

    [SCSI] fusion - fix pci express bug
    
    The fix is to write  'MPI_HIM_DIM' to the Host Interrupt Mask
    register, when enabling interrupts.  Instead of the
    tilde of MPI_HIM_RIM.
    
    Apparently writing '1's to some of the reserved bits was causing
    all the bits to go to `1`, which effectly disabled all interrupts.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e6bc863cf25f30ed8e2a4d41b76d5688f8efaee9
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Fri Jan 13 16:33:59 2006 -0700

    [SCSI] scsi_transport_sas: mapping the rphy channel equal to the port identifier
    
    We will be mapping the RAID volumes in mptsas to a reserved
    channel that
    is one larger than the anticapated number of ports on the direct
    attached host
    adapter.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4b915a73663fe0951077ebcdaf02337ff2bddcfc
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Fri Jan 13 16:25:23 2006 -0700

    [SCSI] fusion - mpi header udpate
    
    This updates mpi headers in fusion drivers to version 1.5.12.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 816aa907b909177bdf6e6e6b0d00c5e5a6e2be8c
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Fri Jan 13 16:25:20 2006 -0700

    [SCSI] fusion - adding raid support in mptsas
    
    The SAS RAID volumes are reported beyond the expected number of phys.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e02f3f59225d8c3b2a0ad0dc941a09865e27da61
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 13 19:04:00 2006 +0100

    [SCSI] remove target parent limitiation
    
    When James Smart fixed the issue of the userspace scan atributes
    crashing the system with the FC transport class he added a patch to
    let the transport class check if the parent is valid for a given
    transport class.
    
    When adding support for the integrated raid of fusion sas devices
    we ran into a problem with that, as it didn't allow adding virtual
    raid volumes without the transport class knowing about it.
    
    So this patch adds a user_scan attribute instead, that takes over from
    scsi_scan_host_selected if the transport class sets it and thus lets
    the transport class control the user-initiated scanning.  As this
    plugs the hole about user-initiated scanning the target_parent hook
    goes away and we rely on callers of the scanning routines to do
    something sensible.
    
    For SAS this meant I had to switch from a spinlock to a mutex to
    synchronize the topology linked lists, in FC they were completely
    unsynchronized which seems wrong.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6d5b0c315e0c14f8a0fe274eda7676d62cbd8584
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Fri Jan 13 16:25:26 2006 -0700

    [SCSI] fusion - adding support for FC949ES
    
    Add software recognition for the new LSI Logic Fibre Channel controller.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 05e8ec17f4d11ba13795e878fc389cb04d1fdadd
Author: Michael Reed <mdr@sgi.com>
Date:   Fri Jan 13 14:31:54 2006 -0600

    [SCSI] mptfusion - fc transport attributes
    
    Signed-off-by: Michael Reed <mdr@sgi.com>
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d158d26167a3f6a910ec3e0eda23cc0cd437c689
Author: Jes Sorensen <jes@sgi.com>
Date:   Fri Jan 13 16:05:44 2006 -0800

    [SCSI] sem2mutex: scsi_transport_spi.c
    
    Convert the SCSI transport class code to use a mutex rather than a
    semaphore.
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f20139bee4545b91f30e14e2f528320c7ab36fa6
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Jan 13 15:36:25 2006 -0600

    [SCSI] fix up message/i2o/pci.c
    
    There was a use before initialisation of c->name
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1ca00bb7916cb40b8140173c23481e11d92d6f6a
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 13 18:27:50 2006 +0100

    [SCSI] fusion: kzalloc / kcalloc conversion
    
    Convert kmalloc + memset to kzalloc or kcalloc in fusion.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eeb846cefdd842af479393a7d0fd399a29e42532
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 13 18:27:11 2006 +0100

    [SCSI] fusion: convert semaphores to mutexes
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9a28f49adbe4955af8a1306fd36ddae15136dde7
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 13 18:04:41 2006 +0100

    [SCSI] mptsas: support basic hotplug
    
    Adds hotplug support for SAS end devices.  Unfortunately the fusion
    firmware doesn't generate similar events for expanders addition/removal
    so we can't support them yet.  Eric has an idea about a clever scheme to
    find out about expander changes so that'll be added later on.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9638d89a75776abc614c29cdeece0cc874ea2a4c
Author: Salyzyn, Mark <mark_salyzyn@adaptec.com>
Date:   Thu Jan 12 08:31:57 2006 -0500

    [SCSI] I2O: move pci_request_regions() just behind pci_enable_device()
    
    The problem in dpt_i2o could be the pci config space accesses it
    triggers as it loads, dangerous to do if there is any I/O activity going
    on in the other driver (probable if a boot driver I guess).
    
    I approve this patch to dpt_i2o.c, and am applying it to the Adaptec
    branch of the driver.
    
    Thanks for the investigation Ryoji.
    
    ---
    
    In linux 2.6.15, data transfer does hang when both dpt_i2o
    and i2o_block drivers are loaded.
    It seems that location of pci_request_regions() are wrong.
    I moved it just behind pci_enable_device() like other drivers,
    and it becomes fine.
    
    Signed-off-by: Ryoji Kamei <kamei@miraclelinux.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 560c26c8345509619c3575331b99b329b5de1054
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Fri Jan 13 10:06:50 2006 -0500

    [SCSI] ips: Mode Sense (Caching Page ) fix
    
    To avoid the "sda: got wrong page" message, the ServeRAID driver
    should be setting flags indicating that the Mode Sense commands are
    not supported.
    
    Signed-off-by: Jack Hammer <jack_hammer@adaptec.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ad757cdfd2a40c9d5310d00f24427525788341cd
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Fri Jan 13 02:26:11 2006 +0100

    [SCSI] zfcp: transport class adaptations II
    
    Replaced zfcp adapter attributes with fc_host attributes:
    fc_topology by port_type, physical_wwpn by permanent_port_name.
    Make use of fc_host attribute supported_speeds.
    Removed zfcp adapter attribute physical_s_id.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f6cd94b126aa78ebaa21075df3b9577fbf995968
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Thu Jan 5 09:59:34 2006 +0100

    [SCSI] zfcp: transport class adaptations
    
    Added host stats, removed superfluous get_starget_ functions,
    removed some attributes from zfcp specific sysfs tree (e.g.
    scsi_host_no, scsi_lun, wwnn and d_id).
    Host stats are given for the physical adapter port not for the
    virtual adapter. Reset stats is implemented in the device driver.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9eb69aff79264b5f35e41922df20a488c67e9ee2
Author: Maxim Shchetynin <maxim@de.ibm.com>
Date:   Thu Jan 5 09:56:47 2006 +0100

    [SCSI] zfcp: handle unsolicited status notification lost
    
    Handle unsolicited adapter status that informs about loss of
    previous unsolicited status notification(s).
    
    Signed-off-by: Maxim Shchetynin <maxim@de.ibm.com>
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6b7281d0a0f8f99d39808088a036459f6f7906a6
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Fri Jan 13 02:16:54 2006 +0100

    [SCSI] fc transport: add permanent_port_name fc_host attribute
    
    Add fc_host attribute permanent_port_name which is
    used to show the port name of the primary port -
    the port that initially logged into the fabric.
    
    For a virtual port (registered via the primary port with
    FDISC command) it is useful to know not only its (virtual)
    port name but also the permanent port name.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a09c6311217e8fb079c967427d009fe23f2e420e
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Jan 11 14:28:06 2006 +0100

    [SCSI] sr: split sr_audio_ioctl into specific helpers
    
    split each ioctl handled in sr_audio_ioctl into a function of it's own.
    This cleans the code up nicely, and allows various places in sr_ioctl
    to call these helpers directly instead of going through the multiplexer.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 776b23a0363d99ca402edc1aba1db8099b747b33
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 6 18:34:07 2006 +0100

    [SCSI] always handle REQ_BLOCK_PC requests in common code
    
    LLDDs should never see REQ_BLOCK_PC requests, we can handle them just
    fine in the core code.  There is a small behaviour change in that some
    check in sr's rw_intr are bypassed, but I consider the old behaviour
    a bug.
    
    Mike found this cleanup opportunity and provdided early patches, so all
    the credit goes to him, even if I redid the patches from scratch beause
    that was easier than forward-porting the old patches.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d4054239929479907f20b9d68c905589125ad343
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Jan 4 13:45:20 2006 +0100

    [SCSI] sas: fix removal of devices behind expanders
    
    We need to iterate over all children when removing and expander, else
    stale objects will be around after host removal.  This fixes the oops
    Eric Moore saw when removing and reloading mptsas.
    
    Also don't try the scsi_remove_target call unless operating on an end
    device.  The current unconditional call is harmless but confusing.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6c90c872017773cde70a51432cb28f253451b967
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:37:15 2006 +0000

    [ARM] 3112/1: old ABI compat: config option to turn it on
    
    Patch from Nicolas Pitre
    
    Enjoy !
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8993a44cede418940a4921de5dc24d52a9fe8767
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:36:50 2006 +0000

    [ARM] 3111/2: old ABI compat: adjust NWFPE to be operational within an EABI kernel
    
    Patch from Nicolas Pitre
    
    We need NWFPE if we want to support execution of legacy binaries with
    an EABI kernel.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dd35afc22b76766e827c9e67ebc4b7bf6e31ecab
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:36:12 2006 +0000

    [ARM] 3110/5: old ABI compat: multi-ABI syscall entry support
    
    Patch from Nicolas Pitre
    
    This patch adds the required code to support both user space ABIs at
    the same time. A second syscall table is created to include legacy ABI
    syscalls that need an ABI compat wrapper.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 687ad0191488a067b3b3cc94f670cc21f93811e1
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:35:31 2006 +0000

    [ARM] 3109/1: old ABI compat: syscall wrappers for ABI impedance matching
    
    Patch from Nicolas Pitre
    
    The difference between EABI and the legacy ABI may affect either
    structure member alignment and/or argument register selection.
    
    The patch has the details.
    
    Included are wrappers for the following syscalls:
    
      sys_stat64
      sys_lstat64
      sys_fstat64
      sys_fcntl64
      sys_epoll_ctl
      sys_epoll_wait
      sys_ipc
      sys_semop
      sys_semtimedop
      sys_pread64
      sys_pwrite64
      sys_truncate64
      sys_ftruncate64
      sys_readahead
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 713c481519f19df9e6d90f257e7da0336b057592
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:35:03 2006 +0000

    [ARM] 3108/2: old ABI compat: statfs64 and fstatfs64
    
    Patch from Nicolas Pitre
    
    struct statfs64 has extra padding with EABI growing its size from 84 to
    88. This struct is now __attribute__((packed,aligned(4))) with a small
    assembly wrapper to force the sz argument to 84 if it is 88 to avoid
    copying the extra padding over user space memory unexpecting it.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 704bdda03827db8a551e82b312037d63ba3c22ff
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:33:50 2006 +0000

    [ARM] 3107/3: ARM EABI: last bits to configure it
    
    Patch from Nicolas Pitre
    
    This adds the configuration option, and disables any FPA floating point
    emulators which are not EABI compatible.
    
    It also disables Acorn RISC OS/Arthur binary support when CONFIG_EABI=y
    since it is incompatible with an EABI kernel.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c155fc95befc95f4a9d6497f5fadec22f4bc3a24
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:32:12 2006 +0000

    [ARM] 3106/2: ARM EABI: some syscall adjustments
    
    Patch from Nicolas Pitre
    
    Fix a few syscalls for EABI requirements. They were sys_pread64 and
    sys_pwrite64 where the last argument is now entirely pushed on stack,
    but since commit 567bd98017d9c9f2ac1c148ddc78c062e8abd398 they don't
    require any fixup.  Remains only the stat64 structure. Non EABI kernels
    are unaffected.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3f2829a31573e3e502b874c8d69a765f7a778793
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:31:29 2006 +0000

    [ARM] 3105/4: ARM EABI: new syscall entry convention
    
    Patch from Nicolas Pitre
    
    For a while we wanted to change the way syscalls were called on ARM.
    Instead of encoding the syscall number in the swi instruction which
    requires reading back the instruction from memory to extract that number
    and polluting the data cache, it was decided that simply storing the
    syscall number into r7 would be more efficient. Since this represents
    an ABI change then making that change at the same time as EABI support
    is the right thing to do.
    
    It is now expected that EABI user space binaries put the syscall number
    into r7 and use "swi 0" to call the kernel. Syscall register argument
    are also expected to have "EABI arrangement" i.e. 64-bit arguments
    should be put in a pair of registers from an even register number.
    
    Example with long ftruncate64(unsigned int fd, loff_t length):
    
    	legacy ABI:
    	- put fd into r0
    	- put length into r1-r2
    	- use "swi #(0x900000 + 194)" to call the kernel
    
    	new ARM EABI:
    	- put fd into r0
    	- put length into r2-r3 (skipping over r1)
    	- put 194 into r7
    	- use "swi 0" to call the kernel
    
    Note that it is important to use 0 for the swi argument as backward
    compatibility with legacy ABI user space relies on this.
    The syscall macros in asm-arm/unistd.h were also updated to support
    both ABIs and implement the right call method automatically.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ba95e4e4a0a8a3c6aba363d45f78d5f2e2d111eb
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:18:29 2006 +0000

    [ARM] 3104/1: ARM EABI: new helper function names
    
    Patch from Nicolas Pitre
    
    The ARM EABI defines new names for GCC helper functions.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 499b2ea11ff00c624d63af23516404fa2156639a
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:18:09 2006 +0000

    [ARM] 3103/1: ARM EABI: stack pointer must be 64-bit aligned (part 2)
    
    Patch from Nicolas Pitre
    
    We must make sure that assembly code that modifies the stack pointer
    before calling a C function does it so it remains 64-bit aligned.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2dede2d8e925f4c2cb4e136b14df127685e15dd3
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:18:08 2006 +0000

    [ARM] 3102/1: ARM EABI: stack pointer must be 64-bit aligned after a CPU exception
    
    Patch from Nicolas Pitre
    
    The ARM EABI says that the stack pointer has to be 64-bit aligned for
    reasons already mentioned in patch #3101 when calling C functions.
    
    We therefore must verify and adjust sp accordingly when taking an
    exception from kernel mode since sp might not necessarily be 64-bit
    aligned if the exception occurs in the middle of a kernel function.
    
    If the exception occurs while in user mode then no sp fixup is needed as
    long as sizeof(struct pt_regs) as well as any additional syscall data
    stack space remain multiples of 8.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit da2b1cd61903c8e9796e76be2d606584f26a78e5
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Jan 14 16:18:07 2006 +0000

    [ARM] 3101/1: ARM EABI: slab memory must be 64-bit aligned
    
    Patch from Nicolas Pitre
    
    Although ARM is still using 32-bit pointers, version 5 and later
    versions of the ARM architecture introduced the ldrd and strd
    instructions to move 64-bit data which must be 64-bit aligned in memory,
    and the EABI includes new constraints on structure data alignment to
    allow for the compiler to use those instructions. This means that any
    slab allocation must start on a 64-bit boundary which is not equivalent
    to BYTES_PER_WORD, especially on those architecture versions that
    implements the ldrd/strd instructions.
    
    Overriding the default alignment disables some slab debug features. If
    those debug features are really needed then the kernel will have to be
    compiled for version 4 of the ARM architecture.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit eab9edd27f7ceaad6b57085817d63287bda15190
Author: Michael Hanselmann <linux-kernel@hansmi.ch>
Date:   Sat Jan 14 10:08:06 2006 -0500

    Input: HID - add support for fn key on Apple PowerBooks
    
    This patch implements support for the fn key on Apple PowerBooks using
    USB based keyboards and makes them behave like their ADB counterparts.
    
    Signed-off-by: Michael Hanselmann <linux-kernel@hansmi.ch>
    Acked-by: Rene Nussbaumer <linux-kernel@killerfox.forkbomb.ch>
    Acked-by: Johannes Berg <johannes@sipsolutions.net>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Acked-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit eeac8047fcf4c659eb15f2e27a0ef4aeba64157f
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Jan 13 21:34:58 2006 -0800

    [CIFS] Fix CIFS to recognize share mode security
    
    Fix Samba bugzilla bug 3301
    
    In share mode encrypted password must be sent on tree connection (in our
    case only the NTLM password is sent, not the older LANMAN one).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1e27ffd4d7d39783c5196daa2584cca5785d1f95
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Jan 14 00:28:04 2006 -0500

    Input: wacom - fix compile on PowerPC
    
    Rename G4 (new Graphire4) to WACOM_G4 to avoid clashes on PowerPC
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 5fce9d7bc5f485358263cf3d895e90c974449e1f
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Jan 14 00:27:51 2006 -0500

    Input: HID - add more simulation usages
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit f0d5c6f419d3a10443f66d6835855837eae4ac4b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Jan 14 00:27:37 2006 -0500

    Input: psmouse - attempt to re-synchronize mouse every 5 seconds
    
    This should help driver to deal vith KVMs that reset mice when
    switching between boxes.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit b65d0d1bacfdbb4a134a7ebd16f280d5d42241cb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Jan 14 00:26:15 2006 -0500

    Input: HID - fix an oops in PID initialization code
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 940824b0ac6661ff4f3b36e7bce17f681d0cbc23
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Sat Jan 14 00:25:39 2006 -0500

    Input: HID - add support for Cherry Cymotion keyboard
    
    The Cherry Cymotion is a special Linux keyboard made by Cherry, with
    only one little problem: it doesn't work with Linux. This patch
    (originally by hexten.net, cleaned up by me) makes it work including
    all the special keys.
    
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 87530db5ec7d519c7ba334e414307c5130ae2da8
Merge: a148058... d5f0790...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 13 21:24:55 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 3dd01a831133e3260b9c77a09c234b012e9507da
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Sat Jan 14 00:24:06 2006 -0500

    Input: i8042 - add Sony Vaio FSC-115b to MUX blacklist
    
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit d5f079000b20887bfbc84d772a27709c5665e652
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 15:08:50 2006 +1100

    [PATCH] powerpc: Recognize /chaos bridge on old pmacs as PCI
    
    The first generation of PCI powermacs had a host bridge called /chaos
    which was for all intents and purposes a PCI host bridge, but has a
    device_type of "vci" in the device tree (presumably it's not really
    PCI at the hardware level or something).
    
    The OF parsing stuff in arch/powerpc/kernel/prom_parse.c currently
    doesn't recognize it as a PCI bridge, which means that controlfb.c
    can't get its device addresses.
    
    This makes prom_parse.c recognize a device_type of "vci" as indicating
    a PCI host bridge.  With this, controlfb works again.
    
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b4e7de0f3575f4862f04921c5bd0cb5680cc8d71
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 15:06:51 2006 +1100

    powerpc: Avoid unaligned loads and stores in boot memcpy code
    
    The 601 processor will generate an alignment exception for accesses
    which cross a page boundary.  In the boot wrapper code, OF is still
    handling all exceptions, and it doesn't have an alignment exception
    handler that emulates the instruction and continues.
    
    This changes the memcpy and memmove routines in the boot wrapper to
    avoid doing unaligned accesses.  If the source and destination are
    misaligned with respect to each other, we just copy one byte at a
    time.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 66a45dd3620ee5f913ba1af3d2dca8b9bdfa2b96
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 15:04:06 2006 +1100

    powerpc: Make COFF zImages for old 32-bit powermacs
    
    This adds code to build zImage.coff and/or zImage.initrd.coff when
    CONFIG_PPC32 and CONFIG_PPC_PMAC are defined.  It also restructures
    the OF client code and adds some workarounds for OF quirks on the
    older machines.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 36874579dbf4cafa31486d4207c6807efbbf1378
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sat Jan 14 00:15:19 2006 +0000

    [PATCH] powerpc: macio-adb build fix
    
    This makes macio-adb.c build again. Entirely untested.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 575e321606c5673efabf28c0fa075e198980c44e
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sat Jan 14 00:13:49 2006 +0000

    [PATCH] powerpc: Make CHRP build again
    
    This makes CHRP build again, although it's untested because my Pegasos
    is currently in pieces.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a148058c5cf72ad23fb6c4cf9828f7276e13151c
Merge: fb7ffeb... 37d8dc8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 13 17:13:44 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 91dc182ca6e25ee8b648ed2fb2a41859ead34903
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Fri Jan 13 18:39:24 2006 -0600

    [PATCH] powerpc: special-case ibm,suspend-me RTAS call
    
    Handle the ibm,suspend-me RTAS call specially.  It needs
    to be wrapped in a set of synchronization hypervisor calls
    (H_Join).  When the H_Join calls are made on all CPUs, the
    intent is that only one will return with H_Continue, meaning
    that he is the "last man standing".  That CPU then issues the
    ibm,suspend-me call.  What is interesting, of course, is that
    the CPU running when the rtas syscall is made, may NOT be the
    CPU that ultimately executes the ibm,suspend-me rtas call.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 91f62a2491f45b5d46ebe5aca1fac3477355c9c1
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 11:17:32 2006 +1100

    ppc: Remove duplicate export of get_wchan
    
    The arch/powerpc version of process.c exports get_wchan itself.  When
    I moved ARCH=ppc over to using arch/powerpc/kernel/process.c the
    get_wchan export in arch/ppc/kernel/ppc_ksyms.c became redundant, so
    remove it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 9871166ad692121d6b944159ef3f053570158ea8 commit)

commit 2e10c84b9cf0b2d269c5629048d8d6e35eaf6b2b
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Jan 11 11:23:49 2006 -0800

    [PATCH] SPI: add spi_butterfly driver
    
    This adds a bitbanging parport based adaptor cable for AVR Butterfly, giving
    SPI links to its DataFlash chip and (eventually) firmware running in the card.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d870c8e216f121307445c71caa72e7e10a20061
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 11 11:23:49 2006 -0800

    [PATCH] spi: remove fastcall crap
    
    gcc4 generates warnings when a non-FASTCALL function pointer is assigned to a
    FASTCALL one.  Perhaps it has taste.
    
    Cc: David Brownell <david-b@pacbell.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7111763d391b0c5a949a4f2575aa88cd585f0ff6
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:29 2006 -0800

    [PATCH] spi: misc fixes
    
    This collects some small SPI patches that seem to be missing from the MM tree:
    
      - spi_butterfly kbuild hooks got dropped somehow; this restores them
      - quick fix for a (theoretical?) m25p80_write() oops noted by Andrew
      - quick fix for a potential config-specific oops for mtd_dataflash()
      - minor doc tweaks
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8275c642ccdce09a2146d0a9eb022e3698ee927e
Author: Vitaly Wool <vwool@ru.mvista.com>
Date:   Sun Jan 8 13:34:28 2006 -0800

    [PATCH] spi: use linked lists rather than an array
    
    This makes the SPI core and its users access transfers in the SPI message
    structure as linked list not as an array, as discussed on LKML.
    
    From: David Brownell <dbrownell@users.sourceforge.net>
    
      Updates including doc, bugfixes to the list code, add
      spi_message_add_tail().  Plus, initialize things _before_ grabbing the
      locks in some cases (in case it grows more expensive).  This also merges
      some bitbang updates of mine that didn't yet make it into the mm tree.
    
    Signed-off-by: Vitaly Wool <vwool@ru.mvista.com>
    Signed-off-by: Dmitry Pervushin <dpervushin@gmail.com>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2f9f762879015d738a5ec2ac8a16be94b3a4a06d
Author: Mike Lavender <mike@steroidmicros.com>
Date:   Sun Jan 8 13:34:27 2006 -0800

    [PATCH] spi: M25 series SPI flash
    
    This was originally a driver for the ST M25P80 SPI flash.  It's been
    updated slightly to handle other M25P series chips.
    
    For many of these chips, the specific type could be probed, but for now
    this just requires static setup with flash_platform_data that lists the
    chip type (size, format) and any default partitioning to use.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Cc: Mike Lavender <mike@steroidmicros.com>
    Cc: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9904f22a7202c6b54e96b0cc9870817013c350a1
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:26 2006 -0800

    [PATCH] spi: add spi_bitbang driver
    
    This adds a bitbanging spi master, hooking up to board/adapter-specific glue
    code which knows how to set and read the signals (gpios etc).
    
    This code kicks in after the glue code creates a platform_device with the
    right platform_data.  That data includes I/O loops, which will usually
    come from expanding an inline function (provided in the header).  One goal
    is that the I/O loops should be easily optimized down to a few GPIO register
    accesses, in common cases, for speed and minimized overhead.
    
    This understands all the currently defined protocol tweaking options in the
    SPI framework, and might eventually serve as as reference implementation.
    
      - different word sizes (1..32 bits)
      - differing clock rates
      - SPI modes differing by CPOL (affecting chip select and I/O loops)
      - SPI modes differing by CPHA (affecting I/O loops)
      - delays (usecs) after transfers
      - temporarily deselecting chips in mid-transfer
    
    A lot of hardware could work with this framework, though common types of
    controller can't reach peak performance without switching to a driver
    structure that supports pipelining of transfers (e.g.  DMA queues) and maybe
    controllers (e.g.  IRQ driven).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2e5a7bd978bf4118a0c8edf2e6ff81d0a72fee47
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:25 2006 -0800

    [PATCH] spi: ads7836 uses spi_driver
    
    This updates the ads7864 driver to use the new "spi_driver" struct, and
    includes some minor unrelated cleanup.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0c868461fcb8413cb9f691d68e5b99b0fd3c0737
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:25 2006 -0800

    [PATCH] SPI core tweaks, bugfix
    
    This includes various updates to the SPI core:
    
      - Fixes a driver model refcount bug in spi_unregister_master() paths.
    
      - The spi_master structures now have wrappers which help keep drivers
        from needing class-level get/put for device data or for refcounts.
    
      - Check for a few setup errors that would cause oopsing later.
    
      - Docs say more about memory management.  Highlights the use of DMA-safe
        i/o buffers, and zero-initializing spi_message and such metadata.
    
      - Provide a simple alloc/free for spi_message and its spi_transfer;
        this is only one of the possible memory management policies.
    
    Nothing to break code that already works.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b885244eb2628e0b8206e7edaaa6a314da78e9a4
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:23 2006 -0800

    [PATCH] spi: add spi_driver to SPI framework
    
    This is a refresh of the "Simple SPI Framework" found in 2.6.15-rc3-mm1
    which makes the following changes:
    
      * There's now a "struct spi_driver".  This increase the footprint
        of the core a bit, since it now includes code to do what the driver
        core was previously handling directly.  Documentation and comments
        were updated to match.
    
      * spi_alloc_master() now does class_device_initialize(), so it can
        at least be refcounted before spi_register_master().  To match,
        spi_register_master() switched over to class_device_add().
    
      * States explicitly that after transfer errors, spi_devices will be
        deselected.  We want fault recovery procedures to work the same
        for all controller drivers.
    
      * Minor tweaks:  controller_data no longer points to readonly data;
        prevent some potential cast-from-null bugs with container_of calls;
        clarifies some existing kerneldoc,
    
    And a few small cleanups.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d6432fe10c3e724e307dd7137cd293a0edcae80
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:22 2006 -0800

    [PATCH] spi: mtd dataflash driver
    
    This is a conversion of the AT91rm9200 DataFlash MTD driver to use the
    lightweight SPI framework, and no longer be AT91-specific.  It compiles
    down to less than 3KBytes on ARM.
    
    The driver allows board-specific init code to provide platform_data with
    the relevant MTD partitioning information, and hotplugs.
    
    This version has been lightly tested.  Its parent at91_dataflash driver has
    been pretty well banged on, although kernel.org JFFS2 dataflash support was
    acting broken the last time I tried it.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ffa458c1bd9b6f653008d450f337602f3d52a646
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:21 2006 -0800

    [PATCH] spi: ads7846 driver
    
    This is a driver for the ADS7846 touchscreen sensor, derived from
    the corgi_ts and omap_ts drivers.  Key differences from those two:
    
      - Uses the new SPI framework (minimalist version)
      - <linux/spi/ads7846.h> abstracts board-specific touchscreen info
      - Sysfs attributes for the temperature and voltage sensors
      - Uses fewer ARM-specific IRQ primitives
    
    The temperature and voltage sensors show up in sysfs like this:
    
      $ pwd
      /sys/devices/platform/omap-uwire/spi2.0
      $ ls
      bus@          input:event0@ power/        temp1         vbatt
      driver@       modalias      temp0         vaux
      $ cat modalias
      ads7846
      $ cat temp0
      991
      $ cat temp1
      1177
      $
    
    So far only basic testing has been done.  There's a fair amount of hardware
    that uses this sensor, and which also runs Linux, which should eventually
    be able to use this driver.
    
    One portability note may be of special interest.  It turns out that not all
    SPI controllers are happy issuing requests that do things like "write 8 bit
    command, read 12 bit response".  Most of them seem happy to handle various
    word sizes, so the issue isn't "12 bit response" but rather "different rx
    and tx write sizes", despite that being a common MicroWire convention.  So
    this version of the driver no longer reads 12 bit native-endian words; it
    reads 16-bit big-endian responses, then byteswaps them and shifts the
    results to discard the noise.
    
    Signed-off-by: David Brownell <david-b@pacbell.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8ae12a0d85987dc138f8c944cb78a92bf466cea0
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Jan 8 13:34:19 2006 -0800

    [PATCH] spi: simple SPI framework
    
    This is the core of a small SPI framework, implementing the model of a
    queue of messages which complete asynchronously (with thin synchronous
    wrappers on top).
    
      - It's still less than 2KB of ".text" (ARM).  If there's got to be a
        mid-layer for something so simple, that's the right size budget.  :)
    
      - The guts use board-specific SPI device tables to build the driver
        model tree.  (Hardware probing is rarely an option.)
    
      - This version of Kconfig includes no drivers.  At this writing there
        are two known master controller drivers (PXA/SSP, OMAP MicroWire)
        and three protocol drivers (CS8415a, ADS7846, DataFlash) with LKML
        mentions of other drivers in development.
    
      - No userspace API.  There are several implementations to compare.
        Implement them like any other driver, and bind them with sysfs.
    
    The changes from last version posted to LKML (on 11-Nov-2005) are minor,
    and include:
    
      - One bugfix (removes a FIXME), with the visible effect of making device
        names be "spiB.C" where B is the bus number and C is the chipselect.
    
      - The "caller provides DMA mappings" mechanism now has kerneldoc, for
        DMA drivers that want to be fancy.
    
      - Hey, the framework init can be subsys_init.  Even though board init
        logic fires earlier, at arch_init ... since the framework init is
        for driver support, and the board init support uses static init.
    
      - Various additional spec/doc clarifications based on discussions
        with other folk.  It adds a brief "thank you" at the end, for folk
        who've helped nudge this framework into existence.
    
    As I've said before, I think that "protocol tweaking" is the main support
    that this driver framework will need to evolve.
    
    From: Mark Underwood <basicmark@yahoo.com>
    
      Update the SPI framework to remove a potential priority inversion case by
      reverting to kmalloc if the pre-allocated DMA-safe buffer isn't available.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 37d8dc82e0cd93eec77c5bcebd725c4ba661351a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Fri Jan 13 16:19:44 2006 -0800

    [NETFILTER] x-tables: Missing linux/ipv6.h includes.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8f069b1a90bd97bf6d59a02ecabf0173d9175609
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Jan 13 14:16:12 2006 -0200

    [PATCH] powerpc/8xx: Use 8MB D-TLB's for kernel static mapping faults
    
    The following implements support for instantiation of 8MB D-TLB
    entries for the kernel direct virtual mapping on 8xx, thus reducing TLB
    space consumed for the kernel.
    
    Test used: writing 40MB from /dev/zero to file in ext2fs over
    RAMDISK.
    
    $ time dd if=/dev/zero of=file bs=4k count=10000
    
    VANILLA			8MB kernel data pages
    
    real    0m11.485s	real    0m11.267s
    user    0m0.218s        user    0m0.250s
    sys     0m8.939s	sys     0m9.108s
    
    real    0m11.518s	real    0m10.978s
    user    0m0.203s 	user    0m0.222s
    sys     0m9.585s	sys     0m9.138s
    
    real    0m11.554s	real    0m10.967s
    user    0m0.228s    	user    0m0.222s
    sys     0m9.497s	sys     0m9.127s
    
    real    0m11.633s	real	0m11.286s
    user    0m0.214s	user    0m0.196s
    sys     0m9.529s	sys     0m9.134s
    
    and averages for both:
    
    real	11.54750	real 11.12450
    
    Which is a 3.6% improvement in execution time. More improvement is
    expected for loads with larger kernel data footprint (real workloads).
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7d13d21ae85f64e35dcdae4d6a6286e62a38e0ab
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Fri Jan 13 11:19:58 2006 -0600

    [PATCH] powerpc: Add MPC834x SYS board to arch/powerpc
    
    Add the first MPC83xx board that uses a flat device tree to arch/powerpc.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eed320010872a11f5255b3d076e5b4f142af553d
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Fri Jan 13 11:19:13 2006 -0600

    [PATCH] powerpc: Add FSL SOC library and setup code
    
    Parse the flat device tree for devices on Freescale SOC's that we know
    about (gianfar, gianfar_mdio, i2c, mpc83xx_wdt).  We need to setup
    platform devices and platform data for these devices to match arch/ppc
    usage.
    
    Also add a helper function (get_immrbase) that reports the base
    address of the MMIO registers on the SOC.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b8e383d592daaa35c944a9083ee92c995dce66ca
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Fri Jan 13 10:15:17 2006 -0600

    [PATCH] powerpc: Allow for ppc_md restart, power_off, and halt to be NULL
    
    On a number of embedded reference boards there isn't always a
    way to reset, power_off, or halt the board.  Rather than having
    each board implement a spin loop just let the generic code do
    it.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7a45fb19cef93574230827e6e2c97ad5760ddecd
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 13 12:35:49 2006 +0000

    [PATCH] powerpc: oprofile cpu type names clash with other code
    
    In 2.6.15-git6 a change was commited in the oprofile support in
    the powerpc architecture.  It introduced the powerpc_oprofile_type
    which contains the define G4.  This causes a name clash with the
    existing wacom usb tablet driver.
    
          CC [M]  drivers/usb/input/wacom.o
        drivers/usb/input/wacom.c:98: error: conflicting types for `G4'
        include/asm/cputable.h:37: error: previous declaration of `G4'
          CC [M]  drivers/usb/mon/mon_text.o
        make[3]: *** [drivers/usb/input/wacom.o] Error 1
        make[2]: *** [drivers/usb/input] Error 2
    
    The elements of an enum declared in global scope are effectivly
    global identifiers themselves.  As such we need to ensure the names
    are unique.  This patch updates the later oprofile support to use
    unique names.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fb7ffeb11bb7e9e75dc83ff67a4925c270e0fa3c
Merge: 69eebed... 95ed644...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 13 15:29:07 2006 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 69eebed240b32377b9034551f1b8c4ae2774ceb6
Merge: 67daf5f... dca80b9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 13 15:28:10 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 80f15dc703b3677d0b025bafd215f1f3664c8978
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 10:11:39 2006 +1100

    powerpc: Provide a suitable AT_PLATFORM value
    
    The glibc folks want to use AT_PLATFORM to select between possible
    alternative versions of shared libraries.  This commit makes the kernel
    supply an AT_PLATFORM string that indicates what class of processor
    we are running on.  Processors with the same set of user-level
    instructions and roughly the same instruction scheduling characteristics
    are given the same AT_PLATFORM value; for example, 821, 823 and 860
    are all reported as "ppc823", and 7447, 7447A, 7448, 7450, 7451, 7455
    are all called "ppc7450".
    
    The intention is that the AT_PLATFORM values match the values that
    gcc accepts for the -mcpu= option.  For values which are numeric
    (e.g. -mcpu=750), "ppc" has been prepended.
    
    This also adds a PPC_FEATURE_BOOKE bit to the AT_HWCAP value and sets
    it for the 440 family and the Freescale 85xx family.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d50f5c5ca0c3426669fbe11ad4d5708d333eb9fb
Author: Andreas Schwab <schwab@suse.de>
Date:   Fri Jan 13 23:46:38 2006 +0100

    [IA64] build broken for ia64 simserial.c
    
    TTY layer buffering revamp broke ia64 in commit
     33f0f88f1c51ae5c2d593d26960c760ea154c2e2
    
      CC      arch/ia64/hp/sim/simserial.o
    arch/ia64/hp/sim/simserial.c: In function `receive_chars':
    arch/ia64/hp/sim/simserial.c:170: error: structure has no member named `flip'
     ... and so on ...
    make[1]: *** [arch/ia64/hp/sim/simserial.o] Error 1
    
    Patch from Andreas Schwab.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 95ed644fd12f53c6fc778f3f246974e5fe3a9468
Author: Ingo Molnar <mingo@elte.hu>
Date:   Fri Jan 13 14:51:39 2006 -0800

    IB: convert from semaphores to mutexes
    
    semaphore to mutex conversion by Ingo and Arjan's script.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    [ Sanity-checked on real IB hardware ]
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit d3ef1f5aafcf7a4129eb2078c70bc9e577bc3af1
Author: Yanmin Zhang <yanmin.zhang@intel.com>
Date:   Fri Jan 13 14:45:21 2006 -0800

    [IA64] prevent accidental modification of args in jprobe handler
    
    When jprobe is hit, the function parameters of the original function
    should be saved before jprobe handler is executed, and restored it after
    jprobe handler is executed, because jprobe handler might change the
    register values due to tail call optimization by the gcc.
    
    Signed-off-by: Yanmin Zhang <yanmin.zhang@intel.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit dca80b962a811a0454d779ab6250b59446a8c86c
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 13 14:36:55 2006 -0800

    [PKT_SCHED]: Change default clock source to gettimeofday
    
    The default of using jiffies is very bad and results in
    underutilization except with very low bandwidth.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ee51b1b6cece4dad408feeb0c3c9adb9cbd9f7d9
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 13 14:34:36 2006 -0800

    [XFRM]: IPsec tunnel wildcard address support
    
    When the source address of a tunnel is given as 0.0.0.0 do a routing lookup
    to get the real source address for the destination and fill that into the
    acquire message. This allows to specify policies like this:
    
    spdadd 172.16.128.13/32 172.16.0.0/20 any -P out ipsec
            esp/tunnel/0.0.0.0-x.x.x.x/require;
    spdadd 172.16.0.0/20 172.16.128.13/32 any -P in ipsec
            esp/tunnel/x.x.x.x-0.0.0.0/require;
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7b11f69fb5c475f521db79f5fa22104e15842671
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Fri Jan 13 14:33:06 2006 -0800

    [NET]: Clean up comments for sk_chk_filter()
    
    This removes redundant comments, and moves one comment to a better
    location.
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 46b86a2da0fd14bd49765330df63a62279833acb
Author: Joe Perches <joe@perches.com>
Date:   Fri Jan 13 14:29:07 2006 -0800

    [NET]: Use NIP6_FMT in kernel.h
    
    There are errors and inconsistency in the display of NIP6 strings.
    	ie: net/ipv6/ip6_flowlabel.c
    
    There are errors and inconsistency in the display of NIPQUAD strings too.
    	ie: net/netfilter/nf_conntrack_ftp.c
    
    This patch:
    	adds NIP6_FMT to kernel.h
    	changes all code to use NIP6_FMT
    	fixes net/ipv6/ip6_flowlabel.c
    	adds NIPQUAD_FMT to kernel.h
    	fixes net/netfilter/nf_conntrack_ftp.c
    	changes a few uses of "%u.%u.%u.%u" to NIPQUAD_FMT for symmetry to NIP6_FMT
    
    Signed-off-by: Joe Perches <joe@perches.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e026cca0f2c09c4c28c902db6384fd8a412671d6
Author: Keith Owens <kaos@sgi.com>
Date:   Fri Jan 6 10:36:06 2006 +1100

    [IA64] Add hotplug cpu to salinfo.c, replace semaphore with mutex
    
    Add hotplug cpu support to salinfo.c.
    
    The cpu_event field is a cpumask so use the cpu_* macros consistently,
    replacing the existing mixture of cpu_* and *_bit macros.
    
    Instead of counting the number of outstanding events in a semaphore and
    trying to track that count over user space context, interrupt context,
    non-maskable interrupt context and cpu hotplug, replace the semaphore
    with a test for "any bits set" combined with a mutex.
    
    Modify the locking to make the test for "work to do" an atomic
    operation.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 15029285dc977a392e74eacb7625984b71d4f605
Author: Jason Uhlenkott <jasonuhl@sgi.com>
Date:   Fri Dec 30 02:27:01 2005 -0800

    [IA64] Handle debug traps in fsys mode
    
    We need to handle debug traps in fsys mode non-fatally.  They can
    happen now that we have fsyscalls which contain probe instructions.
    
    Signed-off-by: Jason Uhlenkott <jasonuhl@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 25cd6aa0aa059b48cdcef2a00981b14fafd5161a
Merge: b11fa58... 67daf5f...
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Jan 14 09:15:28 2006 +1100

    Merge ../linux-2.6

commit 6d6e420005f3753392b608a614eee8475bdc16f7
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Fri Dec 23 13:33:25 2005 -0500

    [IA64-SGI] Fix sn_flush_device_kernel & spinlock initialization
    
    This patch separates the sn_flush_device_list struct into kernel and
    common (both kernel and PROM accessible) structures.  As it was, if the
    size of a spinlock_t changed (due to additional CONFIG options, etc.) the
    sal call which populated the sn_flush_device_list structs would erroneously
    write data (and cause memory corruption and/or a panic).
    
    This patch does the following:
    
    1.  Removes sn_flush_device_list and adds sn_flush_device_common and
    sn_flush_device_kernel.
    
    2.  Adds a new SAL call to populate a sn_flush_device_common struct per
    device, not per widget as previously done.
    
    3.  Correctly initializes each device's sn_flush_device_kernel spinlock_t
    struct (before it was only doing each widget's first device).
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit cfbb1426bd76c4ba6ec4491c8df2a5dd3d984750
Author: Jack Steiner <steiner@sgi.com>
Date:   Thu Dec 22 13:45:41 2005 -0600

    [IA64] Hole in IA64 TLB flushing from system threads
    
    I originally thought this was an bug only in the SN code, but I think I
    also see a hole in the generic IA64 tlb code. (Separate patch was sent
    for the SN problem).
    
    It looks like there is a bug in the TLB flushing code. During context switch,
    kernel threads (kswapd, for example) inherit the mm of the task that was
    previously running on the cpu. Normally, this is ok because the previous context
    is still loaded into the RR registers. However, if the owner of the mm
    migrates to another cpu, changes it's context number, and references a
    page before kswapd issues a tlb_purge for that same page, the purge will be
    done with a stale context number (& RR registers).
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 17e8ce0e9417eee1f57f9b3d4aad168425e043c3
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Dec 16 17:19:01 2005 -0600

    [IA64-SGI] Altix BTE error handling fixes
    
    Altix (shub2) pushes the BTE clean-up into SAL.
    This patch correctly interfaces with the now implemented SAL call.
    It also fixes a bug when delaying clean-up to allow busy BTEs to
    complete (or error out).
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 7493a314cb83797ce612a577475aacaedc553fed
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Fri Jan 13 22:06:43 2006 +0000

    [SERIAL] serial8250: convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away.
    Also set up driver's owner to create link driver->module in sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8a4b7b6f187f2967bff222e8c3758ab47efdb14f
Author: Francois Wellenrieter <francois.wellenreiter@bull.net>
Date:   Fri Jan 13 14:01:01 2006 -0800

    [IA64] Fix conversion of pal_min_state physical address
    
    On return from INIT handler we must convert the address of the
    minstate area from a kernel virtual uncached address (0xC...)
    to physical uncached (0x8...).  A typo (or thinko?) in the code
    converted to physical cached.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d600b97cf6ef8c24c9b87a4b7ce390c0d13684e8
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 13 21:57:22 2006 +0000

    [SERIAL] fix SERIAL_M32R_PLDSIO dependencies
    
    This patch fixes a typo in the dependencies reported by
    Jean-Luc Leger <reiga@dspnet.fr.eu.org>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 51828abc17a4ae0f7fb3879e00a30da7bdc7ca20
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 13 21:44:18 2006 +0000

    [MMC] mmc_blk_probe() warning fix
    
    drivers/mmc/mmc_block.c: In function `mmc_blk_probe':
    drivers/mmc/mmc_block.c:467: warning: long unsigned int format, different type arg (arg 5)
    
    We don't know what size sector_t is - cast it.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e2862f6a833ea26591c7feb755dc2e46909182a6
Author: Ingo Molnar <mingo@elte.hu>
Date:   Fri Jan 13 21:37:07 2006 +0000

    [SERIAL] convert uart_state.sem to uart_state.mutex
    
    semaphore to mutex conversion.
    
    the conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    build and boot tested.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fa0fe48fcca9ea7f8c13e21d2646bbaa1747d183
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Jan 13 21:30:48 2006 +0000

    [ARM] Separate VIC (vectored interrupt controller) support from Versatile
    
    Other machines may wish to make use of the VIC support code, so
    move it to arch/arm/common.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5ff3fd27161127cc464fc04548d58672a6a8272a
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Jan 13 21:09:17 2006 +0000

    [ARM] Remove useless 'default n' from Kconfig files
    
    The default is already 'n' so there's no need to explicitly state it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 23b0ca5bf52cef0ab0f0fe247cb91cbef836e7eb
Author: Per Liden <per.liden@ericsson.com>
Date:   Fri Jan 13 13:06:40 2006 -0800

    [PATCH] genetlink: don't touch module ref count
    
    Increasing the module ref count at registration will block the module from
    ever being unloaded. In fact, genetlink should not care about the owner at
    all. This patch removes the owner field from the struct registered with
    genetlink.
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit afeb90ca08000cbd75f22836e667f368e25fe3ac
Author: Hyok S. Choi <hyok.choi@samsung.com>
Date:   Fri Jan 13 21:05:25 2006 +0000

    [ARM] Support register switch in nommu mode
    
    This patch adds register switch support in nommu mode.
    
    Signed-off-by: Hyok S. Choi <hyok.choi@samsung.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e72b04756f16e40dfd6dab3da81e03fe6dfe16e6
Author: Hyok S. Choi <hyok.choi@samsung.com>
Date:   Fri Jan 13 21:04:17 2006 +0000

    [ARM] start_thread fixup for nommu mode
    
    This patch supports start_thread in nommu mode which requires the
    base index register.
    
    Signed-off-by: Hyok S. Choi <hyok.choi@samsung.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 946d4935fc61e1479f8c057d58c64110bb43d3b0
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Jan 13 20:51:52 2006 +0000

    [ARM] 3260/1: remove phys_ram from struct machine_desc (part 2)
    
    Patch from Nicolas Pitre
    
    This field is redundent since it must be equal to PHYS_OFFSET anyway.
    
    Now that no code uses it anymore, mark it deprecated and remove all
    initializations from the tree.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2df96b34aae08e0aa688ef7a8444febb8ec44172
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Jan 13 20:51:46 2006 +0000

    [ARM] 3259/1: remove phys_ram from struct machine_desc (part 1)
    
    Patch from Nicolas Pitre
    
    This field is redundent since it must be equal to PHYS_OFFSET anyway.
    
    First, let's  use PHYS_OFFSET directly instead.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3261e362f603cf2649f90e9ad2d1a1f98f69291a
Author: Matt Reimer <mreimer@vpop.net>
Date:   Fri Jan 13 20:51:44 2006 +0000

    [ARM] 3258/1: IMX serial: fix parity
    
    Patch from Matt Reimer
    
    IMX serial parity generation doesn't work because of a simple logic error. This patch fixes it and now Bluetooth works on R1000.
    
    Signed-off-by: Matt Reimer <mreimer@vpop.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dd29c7277126db6884df42d41f2fbe2ebc10041e
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Fri Jan 13 20:51:43 2006 +0000

    [ARM] 3257/1: ixp2000: map in scratch and sram
    
    Patch from Lennert Buytenhek
    
    For the ixp2000 netdev driver, we need to map in a chunk of SRAM (to
    store the transmit and receive descriptors) and the scratch get/put
    area (so that we can use the scratchpad rings in the cpu for managing
    the descriptors.)  These are the final two mappings needed for the
    netdev driver and the last missing piece for the driver in mainline
    to work.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9c08a938ce5a3e1c9d5f764dc6ae844cb1af76ff
Author: Michael Richardson <mcr@sandelman.ottawa.on.ca>
Date:   Mon Jan 9 01:04:51 2006 -0800

    [PATCH] device_shutdown can loop if the driver frees itself
    
    This patch changes device_shutdown() to use the newly introduced safe
    reverse list traversal.  We experienced loops on system reboot if we had
    removed and re-inserted our device from the device list.
    
    We noticed this problem on PPC405. Our PCI IDE device comes and goes a lot.
    
    Our hypothesis was that there was a loop caused by the driver->shutdown
    freeing memory.  It is possible that we do something wrong as well, but
    being unable to reboot is kind of nasty.
    
    Signed-off-by: Michael Richardson <mcr@marajade.sandelman.ca>
    Cc: Patrick Mochel <mochel@digitalimplant.org>
    Cc: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2d7b5a70e01ff8b1b054d8313362e454e3057c5a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Dec 27 19:45:58 2005 +0100

    [PATCH] platform-device-del typo fix
    
    Please fold this typo fix into platform-device-del.patch, as was
    discussed earlier on LKML:
      http://lkml.org/lkml/2005/12/10/76
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8bbace7e686f1536905c703038a7eddfb1520264
Author: Cornelia Huck <huckc@de.ibm.com>
Date:   Wed Jan 11 10:56:22 2006 +0100

    [PATCH] Add {css,ccw}_bus_type probe, remove, shutdown methods.
    
    The following patch converts css_bus_type and ccw_bus_type to use
    the new bus_type methods.
    
    Signed-off-by: Cornelia Huck <huckc@de.ibm.com>
    CC: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 348290a4ae143a692124330942b464ccdb0d0365
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Jan 6 11:42:03 2006 +0000

    [PATCH] Add bttv sub bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d78967fb035aeb839a047ae69ce5f1ff39288a8d
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Jan 6 11:41:32 2006 +0000

    [PATCH] Remove usb gadget generic driver methods
    
    USB gadget drivers make no use of these, remove the pointless
    comments.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4031bbe4bbec6c0fe50412ef7fb43a270b0f29f1
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Jan 6 11:41:00 2006 +0000

    [PATCH] Add ide_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bbbe3a41f7ee529f7f4fdcc1bc1157234bac0766
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:44:46 2006 +0000

    [PATCH] Add Pseudo LLD bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fc3d3ddd3e628d9f22d4aa56a640d0b31c977a8f
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:44:14 2006 +0000

    [PATCH] Add rio_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b6a01e9bda69aaf22f3a23bafc91c0fb51420a7a
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:43:43 2006 +0000

    [PATCH] Add zorro_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ac33bc3d54936d364c1f979e50f43dfa3f9a13c1
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:43:11 2006 +0000

    [PATCH] Add usb_serial_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ff2dae79773658eaaab731663ddca9f7975430eb
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:42:40 2006 +0000

    [PATCH] Add superhyway_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f9ccf4569ac4597e9e09d301ca362d90b4a1046d
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:42:09 2006 +0000

    [PATCH] Add ccwgroup_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4681fc320889de4591f945c4fdf08546eb9ab266
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:41:37 2006 +0000

    [PATCH] Add pnp_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d0baa3a1c836f0403b318d549fd49ebc73ee631
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:40:58 2006 +0000

    [PATCH] Add pcmcia_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4d0b653cdfde193944784c01fa3359b0a444dcf1
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:40:27 2006 +0000

    [PATCH] Add mmc_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 413b486e18587fd53c9954252e6648f9450c734e
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:39:56 2006 +0000

    [PATCH] Add MCP bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4866b124a1ded3b94b0cea0bd543f46ffa9a3943
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:39:24 2006 +0000

    [PATCH] Add macio_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 30226f8199cb7f5ace767f65bcebb85941612dfc
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:38:53 2006 +0000

    [PATCH] Add serio bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 29a4a20e9fe7459f9d464b8be070ce8b7335be7e
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:38:22 2006 +0000

    [PATCH] Add gameport bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b864c7d5d17c171c4ead0791b44ab05d7a21dc0c
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:37:50 2006 +0000

    [PATCH] Add i2c_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5b34bf88779fa965a134b92ab61688e0d1ddfe1d
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:37:18 2006 +0000

    [PATCH] Add dio_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2f53a80fc0f6287d4bd6cc2422cd095c90f30410
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:36:47 2006 +0000

    [PATCH] Add vio_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 79f9fb8886d901fd549793a4ad632ece51c68405
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:36:16 2006 +0000

    [PATCH] Add of_platform_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c6a09196bab3bc9e515b713193d61e3e87c720f7
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:35:42 2006 +0000

    [PATCH] Add sh_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 91fb53866d00b4eaeaf1cbfd2237799cb152f742
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:35:09 2006 +0000

    [PATCH] Add ocp_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ad3ed31c682d956d2187e562635c55c8c74c1021
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:34:38 2006 +0000

    [PATCH] Add parisc_bus_type probe and remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 83dfb8b67522f6cf1fc5771a8be0a9095eea65d4
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:34:06 2006 +0000

    [PATCH] Add tiocx bus_type probe/remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5c0784c350516856ed15deb6adf6b053bf427792
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:33:35 2006 +0000

    [PATCH] Add logic module bus_type probe/remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 306955be37dd1b1f232f19766227ccccb83f7873
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:33:04 2006 +0000

    [PATCH] Add locomo bus_type probe/remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2876ba4321f0f85c40726b736eeaadf317803f16
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:32:32 2006 +0000

    [PATCH] Add SA1111 bus_type probe/remove methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e08b754161d6de4f91e2d3c805f350b35a95d8b8
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:30:57 2006 +0000

    [PATCH] Add ecard_bus_type probe/remove/shutdown methods
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b15d686a2b589c9e4f1ea116553e9c3c3d030dae
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:30:22 2006 +0000

    [PATCH] Add pci_bus_type probe and remove methods
    
    Move the PCI bus device probe/remove methods to the bus_type
    structure.  We leave the shutdown method alone since there
    are compatibility issues with that.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 594c8281f90560faf9632d91bb9d402cbe560e63
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Thu Jan 5 14:29:51 2006 +0000

    [PATCH] Add bus_type probe, remove, shutdown methods.
    
    Add bus_type probe, remove and shutdown methods to replace the
    corresponding methods in struct device_driver.  This matches
    the way we handle the suspend/resume methods.
    
    Since the bus methods override the device_driver methods, warn
    if a device driver is registered whose methods will not be
    called.
    
    The long-term idea is to remove the device_driver methods entirely.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bd37e5a951ad2123d3f51f59c407b5242946b6ba
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Thu Jan 5 13:19:55 2006 +0100

    [PATCH] INPUT: add MODALIAS to the event environment
    
    input: add MODALIAS to the event environment
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9335d48e10d2d07eacaddf889ec1efb8a5a5082e
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Jan 10 11:12:32 2006 -0600

    [IA64-SGI] move xpc.h to include/asm-ia64/sn (cleanup)
    
    Cleanup a few items after moving xpc.h from arch/ia64/sn/kernel to
    include/asm-ia64/sn.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 87a149d6bba5949fbc53b8a21189b54748ac9e2a
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Jan 10 11:09:48 2006 -0600

    [IA64-SGI] move xpc.h to include/asm-ia64/sn
    
    Move xpc.h from arch/ia64/sn/kernel to include/asm-ia64/sn without change.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d6ad033a88b42420ddb6c62c95e42f88d862b246
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Jan 10 11:08:55 2006 -0600

    [IA64-SGI] move xpc_system_reboot()
    
    Move xpc_system_reboot() to be closer to the file it calls for readability
    reasons (which are indeed subjective).
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1f4674b2d5f63bac4c393ac4de1d6c1b6b72c09c
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Jan 10 11:08:00 2006 -0600

    [IA64-SGI] ignoring loss of heartbeat while XPC is in kdebug
    
    Allow for the loss of heartbeat while in kdebug to be ignored by remote
    partitions.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0752c670d83362609c7f3f59ffa0e180709c60c2
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Jan 10 11:07:19 2006 -0600

    [IA64-SGI] XPC and unregistering from notifier lists
    
    Only unregister from notifier lists if XPC is unloading.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1ecaded80f94f2779160529aef7d6f37a22c2f60
Author: Dean Nelson <dcn@sgi.com>
Date:   Fri Jan 6 09:48:21 2006 -0600

    [IA64-SGI] cleanup XPC disengage related messages
    
    Cleanup the XPC disengage related messages that are printed to the log.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 246c7e33d51afe99890b2caab7ad482c0296d5ba
Author: Dean Nelson <dcn@sgi.com>
Date:   Thu Dec 22 14:32:56 2005 -0600

    [IA64-SGI] ensure XPC disengage request is processed
    
    This patch fixes a problem in XPC disengage processing whereby it was not
    seeing the request to disengage from a remote partition, so the disengage
    wasn't happening. The disengagement is suppose to transpire during the time
    a XPC channel is disconnecting, and should be completed before the channel
    is declared to be disconnected.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 7ae69d2aa4ed3ee8cef18a072346366f019d6a4a
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Jan 13 10:03:58 2006 -0800

    [IA64] Add stub entry to fsys.S for sys_migrate_pages
    
    When this new syscall was added to ia64 in commit
    
      39743889aaf76725152f16aa90ca3c45f6d52da3
    
    fsys.S was forgotten.  Add a ".data8 0" there to keep
    it in step.  [Reported by Stephane Eranian]
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 67daf5f11f06b9b15f8320de1d237ccc2e74fe43
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Jan 13 14:23:25 2006 +1100

    [PATCH] Increase AT_VECTOR_SIZE
    
    On PowerPC, we want to be able to provide an AT_PLATFORM aux table
    entry to userspace, so that glibc can choose optimized libraries for
    the processor we're running on.  Unfortunately that would be the 21st
    aux table entry on powerpc, meaning that the aux table including the
    terminating null entry would overflow the mm->saved_auxv[] array,
    leading to userland programs segfaulting.
    
    This increases the size of the mm->saved_auxv array to be large enough
    to accommodate an AT_PLATFORM entry on powerpc.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a430d74fea797fc55fef1ad4c21420212b83574
Author: Evgeniy <dushistov@mail.ru>
Date:   Fri Jan 13 18:12:15 2006 +0300

    [PATCH] Fix oops in ufs_fill_super at mount time
    
    There's a lack of parenthesis in fs/ufs/utils.h, so instead of the 512th
    byte of buffer, the usb2 pointer will point to the nth structure of type
    ufs_super_block_second.
    
    This can cause a mount-time oops if you're unlucky (especially with
    DEBUG_PAGEALLOC, which is how Alexey Dobriyan saw this problem)
    
    Signed-off-by: Evgeniy Dushistov <dushistov@mail.ru>
    Acked-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c943aa859c392eb4cc76d911daa1f261555075b2
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Fri Jan 13 14:10:26 2006 -0200

    V4L/DVB (3364): disable all dvb tuner param_types until we need them
    
    - Add param_type dvbs2
    - disable all dvb param_types, which will not
      be needed until we merge dvb-pll.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit b3d37042d7d33baf0247d1df31031e64427f39b3
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Fri Jan 13 14:10:25 2006 -0200

    V4L/DVB (3363): Add support for Samsung tuner TCPN 2121P30A
    
    - Add support for Samsung tuner TCPN 2121P30A, used in
      Hauppauge PVR-500 cards.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 7b0ac9cdd42b254ae2ec0f6c1cc6389655e4ba96
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Fri Jan 13 14:10:25 2006 -0200

    V4L/DVB (3359): Redesign tuners struct for maximum flexibility
    
    - Tunertype struct redefined to allow one or more tuner_params structs
      per tuner definition, one for each video standard.
    - Each tuner_params struct has an element containing an arbitrary
      amount of tuner_ranges.
      (this is needed for dvb tuners - to be handled later)
    - A tuner_range may be referenced by multiple tuner_params structs.
      There are many duplicates in here. Reusing tuner_range structs,
      rather than defining new ones for each tuner, will cut down on
      memory usage, and is preferred when possible.
    - tunertype struct contains an element, has_tda988x.
      We must set this for all tunertypes that contain a tda988x
      chip, and then we can remove this setting from the various
      card structs.
    - Improves tuners array memory usage efficiency.
    - Right now, all tuners are using the first tuner_params[] array element
      for analog mode. In the future, we will be merging similar tuner
      definitions together, such that each tuner definition will have a
      tuner_params struct for each available video standard. At that point,
      the tuner_params[] array element will be chosen based on the video
      standard in use.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f4efb4dbf21c78939e32d96cad145421c8b5f106
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Fri Jan 13 14:10:25 2006 -0200

    V4L/DVB (3358): Updated MODULE_AUTHOR
    
    - Updated MODULE_AUTHOR
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 5486a145a94918707b1d6a53f55e7b9d1b13e237
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Fri Jan 13 14:10:24 2006 -0200

    V4L/DVB (3357): Build cx88-alsa when CONFIG_VIDEO_CX88_ALSA is selected.
    
    - Build cx88-alsa when CONFIG_VIDEO_CX88_ALSA is selected.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 45bf2daaa32027f44180078bd5c5fb9ac04840f9
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Fri Jan 13 14:10:24 2006 -0200

    V4L/DVB (3356): Include missing MODULE_* macros
    
    - Include missing MODULE_* macros.
    - Fixed cx88_vp3054_i2c: module license 'unspecified' taints kernel.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit bd5f0ac930168899003952110c45d110958a5c55
Author: Ingo Molnar <mingo@elte.hu>
Date:   Fri Jan 13 14:10:24 2006 -0200

    V4L/DVB (3354e): bttv semaphore to mutex conversion
    
    Semaphore to mutex conversion.
    
    The conversion was generated via scripts, and the result was validated
    automatically via a script as well.
    
    build-tested.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9b565eb794eec1ccd9edcc7263ebe5b3245a1e65
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Fri Jan 13 14:10:23 2006 -0200

    V4L/DVB (3354a): Remove old MODULE_PARM in media/video/
    
    Changes MODULE_PARM usage to module_param
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit a5ed425cd30c0c2abac4039ae11b38520aa130c2
Author: Mauro Carvalho Chehab <mchehab@infradead.org>
Date:   Fri Jan 13 14:10:19 2006 -0200

    V4L/DVB (3355): removed uneeded init on structs like static int foo=0
    
    - Static vars are equal to zero by default. Removed unnecessary =0 from them,
      saving some data space
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit b11fa580ac06b34944a2b46a44ebce2c284e1a76
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Jan 13 16:51:52 2006 +1100

    [PATCH] powerpc: reformat atomic_add_unless
    
    It makes my eyes hurt.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 144b9c135b963bcb7f242c7b83bff930620d3161
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Jan 13 15:37:17 2006 +1100

    [PATCH] powerpc: use lwsync in atomics, bitops, lock functions
    
    eieio is only a store - store ordering. When used to order an unlock
    operation loads may leak out of the critical region. This is potentially
    buggy, one example is if a user wants to atomically read a couple of
    values.
    
    We can solve this with an lwsync which orders everything except store - load.
    
    I removed the (now unused) EIEIO_ON_SMP macros and the c versions
    isync_on_smp and eieio_on_smp now we dont use them. I also removed some
    old comments that were used to identify inline spinlocks in assembly,
    they dont make sense now our locks are out of line.
    
    Another interesting thing was that read_unlock was using an eieio even
    though the rest of the spinlock code had already been converted to
    use lwsync.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3356bb9f7ba378a6e2709f9df95f4ea52111f4df
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Jan 13 10:26:42 2006 +1100

    [PATCH] powerpc: Remove lppaca structure from the PACA
    
    At present the lppaca - the structure shared with the iSeries
    hypervisor and phyp - is contained within the PACA, our own low-level
    per-cpu structure.  This doesn't have to be so, the patch below
    removes it, making a separate array of lppaca structures.
    
    This saves approximately 500*NR_CPUS bytes of image size and kernel
    memory, because we don't need aligning gap between the Linux and
    hypervisor portions of every PACA.  On the other hand it means an
    extra level of dereference in many accesses to the lppaca.
    
    The patch also gets rid of several places where we assign the paca
    address to a local variable for no particular reason.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e58c3495e6007af59382540bb21ee941e470d88d
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Jan 13 14:56:25 2006 +1100

    [PATCH] powerpc: Cleanup LOADADDR etc. asm macros
    
    This patch consolidates the variety of macros used for loading 32 or
    64-bit constants in assembler (LOADADDR, LOADBASE, SET_REG_TO_*).  The
    idea is to make the set of macros consistent across 32 and 64 bit and
    to make it more obvious which is the appropriate one to use in a given
    situation.  The new macros and their semantics are described in the
    comments in ppc_asm.h.
    
    In the process, we change several places that were unnecessarily using
    immediate loads on ppc64 to use the GOT/TOC.  Likewise we cleanup a
    couple of places where we were clumsily subtracting PAGE_OFFSET with
    asm instructions to use assemble-time arithmetic or the toreal() macro
    instead.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7e78e5e502d4f220d24c6f738f2fdb078ad33607
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Thu Jan 12 21:04:23 2006 -0600

    [PATCH] powerpc: Updated platforms that use gianfar to match driver
    
    The gianfar driver changed how it required MDIO bus and phy id's
    to be passed to it.  Also, it no longer passes the physical address
    of the MDIO bus.  Instead we have a proper platform device.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 135f0b17a7a146fa65ccd75704eecf77ee19d587
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Thu Jan 12 16:55:58 2006 -0700

    [PATCH] powerpc/boot: Better use of defaultimage-
    
    The following reworks how defaultimage- is used.  We default to zImage
    here and then override it on platforms that need something more (uImage
    in the future) or less (vmlinux on iSeries).
    
    Signed-off-by: Tom Rini <trini@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 610d91511f99f0a8325ad78fb7259c454b23e65a
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 12 16:10:22 2006 -0600

    [PATCH] powerpc: Add support for changing properties from userspace
    
    Add support to reconfigure the device tree through the existing
    proc filesystem interface.  Add "add_property", "remove_property",
    and "update_property" commands to the existing interface.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ecaa8b0ff326920c8a89d748382e1c1d8812676c
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 12 16:09:29 2006 -0600

    [PATCH] powerpc: Add of_find_property function
    
    Add an of_find_property function that returns a struct property
    given a property name.  Then change the get_property function to
    use that routine internally.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 088186ded490ced80758200cf8f906ed741df306
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 12 16:08:27 2006 -0600

    [PATCH] powerpc: Add/remove/update properties in firmware device tree
    
    Add support for updating and removing device tree
    properties.  Since we hand out pointers to properties with gay
    abandon, we can't just free the property storage.  Instead we
    move deleted, or the old copy of an updated property, to a
    "dead properties" list.
    
    Also note, its not feasable to kref device tree properties.
    we call get_property() all over the kernel in a wild variety
    of contexts.
    
    One consequence of this change is that we now take a
    read_lock(&devtree_lock) when doing get_property().
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 898b5395e915210f41223caa30312994d64cba1d
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 12 16:07:17 2006 -0600

    [PATCH] powerpc: Add/remove/update properties in /proc/device-tree
    
    Add support to the proc_device_tree file for removing
    and updating properties.  Remove just removes the
    proc file, update changes the data pointer within
    the proc file.  The remainder of the device-tree
    changes occur elsewhere.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 43ccf202214067f12af5d7a6e144e18bb35553a9
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Thu Jan 12 16:05:35 2006 -0600

    [PATCH] powerpc: Add some more pSeries hypervisor call constants
    
    Adds a few more hypervisor call constants.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9e1c72a4e465ceb2c4c6e2dfc0584a59bec5c2c9
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Thu Jan 12 14:25:50 2006 -0700

    [PATCH] Remove bzImage target
    
    Since the documentation no longer tells people to 'make bzImage', and
    with the previous patch nothing more than 'make' is required to get the
    right bootable images (just like on i386 now), this removes the bzImage
    -> zImage target redirect on ARCH=powerpc
    
    Signed-off-by: Tom Rini <trini@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 84153973a29dfb3f3d9fe2fe75c2cd613a3cdf27
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jan 12 20:57:56 2006 -0800

    [CIFS] Fix typo
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 9eacee2ac624bfa9740d49355dbe6ee88d0cba0a
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Thu Jan 12 15:55:41 2006 -0800

    IB/mthca: Initialize grh_present before using it
    
    build_mlx_header() was using sqp->ud_header.grh_present before it was
    initialized by mthca_read_ah().  Furthermore, header->grh_present is
    set by ib_ud_header_init, so there's no need to set it again in
    mthca_read_ah().
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0a4b92c05ed02ad7abdd165823eaf4bbcb33ae5c
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jan 12 15:44:21 2006 -0800

    [CIFS] Add worker function for Get ACL cifs style
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit c063a06835d3ccfa6c039d3a3869fcf22249c862
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Thu Jan 12 15:43:58 2006 -0800

    IB/mthca: Cosmetic: use the ALIGN macro
    
    Use the ALIGN macro to simplify some rounding code.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 43ecb9a33ba8c93ebbda81d48ca05f0d1bbf9056
Merge: 58cba46... 9f3f46b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 15:43:39 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 17e2e819517d75f2f3407e59c5f7f6f0ef305d14
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Jan 12 15:35:15 2006 -0800

    IB/mthca: Fix memory leaks in error handling
    
    Fix memory leaks in mthca_create_qp() and mthca_create_srq()
    error handling.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 59f174faffd5dfee709fa0ead320cc6daf827e93
Author: Ishai Rabinovitz <ishai@mellanox.co.il>
Date:   Thu Jan 12 15:24:51 2006 -0800

    IB/mthca: Fix memory leak of multicast group structures
    
    Convert "/ (1 << lg)" to ">> lg" for a slight code size reduction.
    
    add/remove: 0/0 grow/shrink: 0/1 up/down: 0/-24 (-24)
    function                                     old     new   delta
    mthca_map_cmd                                613     589     -24
    
    Signed-off-by: Ishai Rabinovitz <ishai@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 94bc2be31a01a3055ec94176e595dfe208e92d3b
Merge: c32a0b6... 58cba46...
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jan 12 14:47:08 2006 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit c32a0b689cb9cc160cfcd19735bbf50bb70c6ef4
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jan 12 14:41:28 2006 -0800

    [CIFS] Allow local filesize for file that is open for write to be updated
    from server when mount forcedirectio.
    
    Allowing update of file size with non forcedirectio mounts should be
    allowed in the fiture but requires carefully writing out the
    last page in the local file if it is a partial page in order to
    avoid corruption and careful serialization
    
    Thanks to Maximiliano Curia who suggested similar changes and provided
    a testcase.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 988bd50300ef2e2d5cb8563e2ac99453dd9acd86
Author: Eli Cohen <eli@mellanox.co.il>
Date:   Thu Jan 12 14:32:20 2006 -0800

    IPoIB: Fix memory leak of multicast group structures
    
    The current handling of multicast groups in IPoIB ends up never
    freeing send-only multicast groups.  It turns out the logic was much
    more complicated than it needed to be; we can fix this bug and
    completely kill ipoib_mcast_dev_down() at the same time.
    
    Signed-off-by: Eli Cohen <eli@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 2e4e6a17af35be359cc8f1c924f8f198fbd478cc
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Jan 12 13:30:04 2006 -0800

    [NETFILTER] x_tables: Abstraction layer for {ip,ip6,arp}_tables
    
    This monster-patch tries to do the best job for unifying the data
    structures and backend interfaces for the three evil clones ip_tables,
    ip6_tables and arp_tables.  In an ideal world we would never have
    allowed this kind of copy+paste programming... but well, our world
    isn't (yet?) ideal.
    
    o introduce a new x_tables module
    o {ip,arp,ip6}_tables depend on this x_tables module
    o registration functions for tables, matches and targets are only
      wrappers around x_tables provided functions
    o all matches/targets that are used from ip_tables and ip6_tables
      are now implemented as xt_FOOBAR.c files and provide module aliases
      to ipt_FOOBAR and ip6t_FOOBAR
    o header files for xt_matches are in include/linux/netfilter/,
      include/linux/netfilter_{ipv4,ipv6} contains compatibility wrappers
      around the xt_FOOBAR.h headers
    
    Based on this patchset we're going to further unify the code,
    gradually getting rid of all the layer 3 specific assumptions.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 880b005f294454d989783d0984dc554dfe3c8214
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Jan 12 13:22:32 2006 -0800

    [TIPC]: Fix 64-bit build warnings.
    
    When storing u32 values in a pointer, need to do
    some long casts to keep GCC happy.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e86eaa3abc285a988524d95e867285aad5d026a7
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Thu Jan 12 16:45:18 2006 +0100

    [TIPC] Added entry for TIPC in MAINTAINERS
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit 593a5f22d8035b1396a958b6bbde9f13c0f09549
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Wed Jan 11 19:14:19 2006 +0100

    [TIPC] More updates of file headers
    
    Updated copyright notice to include the year the file was
    actually created. Information about file creation dates
    was extracted from the files in the old CVS repository
    at tipc.sourceforge.net.
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit 9da1c8b694f8e72a16f259614caaae50cbcdaf10
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Wed Jan 11 18:40:41 2006 +0100

    [TIPC] Update of file headers
    
    The copyright statements from different parts of Ericsson
    have been merged into one.
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit d0a14a9dbdf613d9307c4b748b03a11678fe8d16
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Wed Jan 11 13:52:51 2006 +0100

    [TIPC] Cleaned up info/warn/err macros
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit 9ea1fd3c1a15c620d1e3d0aa269d34b705477003
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Wed Jan 11 13:30:43 2006 +0100

    [TIPC] License header update
    
    The license header in each file now more clearly state that this
    code is licensed under a dual BSD/GPL. Before this was only
    evident if you looked at the MODULE_LICENSE line in core.c.
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit ea714ccda5d5858ee677a77cf33dbaf34a0060c3
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Wed Jan 11 12:28:47 2006 +0100

    [TIPC] Moved configuration interface into tipc_config.h
    
    Restored the old tipc_config.h to get a cleaner division between the
    interfaces used by normal TIPC users and TIPC administration utilities.
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit b70e4f45a8d8125e4f420c62e71688b8a766689a
Author: Jon Maloy <jon.maloy@ericsson.com>
Date:   Tue Jan 10 18:54:24 2006 +0000

    [TIPC} Fixed bug in disc_timeout()
    
    Signed-off-by: Jon Maloy <jon.maloy@ericsson.com>

commit 1dba9743337cabacea79e47ed6d709e636c5ed47
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Thu Jan 5 16:34:00 2006 +0100

    [TIPC] Use dynamically allocated family id with NETLINK_GENERIC
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit b97bf3fd8f6a16966d4f18983b2c40993ff937d4
Author: Per Liden <per.liden@nospam.ericsson.com>
Date:   Mon Jan 2 19:04:38 2006 +0100

    [TIPC] Initial merge
    
    TIPC (Transparent Inter Process Communication) is a protocol designed for
    intra cluster communication. For more information see
    http://tipc.sourceforge.net
    
    Signed-off-by: Per Liden <per.liden@nospam.ericsson.com>

commit 58cba4650a7a414eabd2b40cc9d8e45fcdf192d9
Merge: 37ef439... db1019c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 14:00:47 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-fixes-2.6

commit 37ef4399a6bb265d3035e6d6e45f7677b132a3ba
Merge: bf785ee... 9c7d462...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 13:53:40 2006 -0800

    Merge branch 'drm-forlinus' of git://git.kernel.org/pub/scm/linux/kernel/git/airlied/drm-2.6

commit 9f3f46b5fe83a56d380d4006dd2cd906bc186f91
Author: John W. Linville <linville@tuxdriver.com>
Date:   Fri Dec 9 10:36:09 2005 -0500

    [PATCH] via-velocity: use NETIF_F_IP_CSUM (hardware only support IPv4)
    
    At least some versions of the via-velocity hardware only support
    checksumming IPv4 frames in hardware.  However, the driver is currently
    setting the NETIF_F_HW_CSUM flag, which indicates support for more than
    just IPv4.  This results in errors when trying to use IPv6 over
    via-velocity hardware.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c9fa7d5d6cec7a45f9dc6c2f23500af50d5617c9
Author: Johannes Berg <johannes@sipsolutions.net>
Date:   Tue Dec 27 02:14:13 2005 +0100

    [PATCH] fix wrong comments in ieee80211.h
    
    The comments in ieee80211.h claim that one doesn't need to set the len
    parameter of the stats struct. But if one doesn't, the management frames
    are read far over the memory they actually occupy causing badness.
    
    Signed-Off-By: Johannes Berg <johannes@sipsolutions.net>
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5af47b2ff124fdad9ba84baeb9f7eeebeb227b43
Author: Jay Vosburgh <fubar@us.ibm.com>
Date:   Mon Jan 9 12:14:00 2006 -0800

    [PATCH] bonding: UPDATED hash-table corruption in bond_alb.c
    
    	I believe I see the race Michael refers to (tlb_choose_channel
    may set head, which tlb_init_slave clears), although I was not able to
    reproduce it.  I have updated his patch for the current netdev-2.6.git
    tree and added a version update.  His original comment follows:
    
    Our systems have been crashing during testing of PCI HotPlug
    support in the various networking components.  We've faulted in
    the bonding driver due to a bug in bond_alb.c:tlb_clear_slave()
    
    In that routine, the last modification to the TLB hash table is
    made without protection of the lock, allowing a race that can lead
    tlb_choose_channel() to select an invalid table element.
    
    	-J
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9a6301c114aaab1df6de6fad9899bb89852a7592
Author: Dan Williams <dcbw@redhat.com>
Date:   Tue Jan 10 00:56:11 2006 -0500

    [PATCH] wireless/atmel: add IWENCODEEXT, IWAUTH, and association event support
    
    This patch allows the Atmel driver to work correctly with wpa_supplicant
    and other programs that require some conformance with WEXT-18.  It
    should not affect current behavior of the driver.  The patch does four
    things:
    
    1) Implements SIOCSIWENCODEEXT, SIOCGIWENCODEEXT, SIOCSIWAUTH, and
    SIOCGIWAUTH calls for unencrypted and WEP operation
    
    2) Accepts zero-filled addresses for SIOCSIWAP, which are legal and
    should turn off any previous forced WAP address
    
    3) Sends association and de-association events to userspace at most of
    the appropriate times
    
    4) Fixes erroneous order of CIPHER_SUITE_WEP_* arguments in one location
    which are actually unused anyway
    
    Signed-off-by: Dan Williams <dcbw@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c213460fd4781c04832c81416532d64ae2bfa88b
Author: Eric Sesterhenn <snakebyte@gmx.de>
Date:   Tue Jan 10 13:16:03 2006 +0100

    [PATCH] replace MODULE_PARM in tulip/uli526x.c
    
    Replace the MODULE_PARM usage in uli526x.c with module_param.
    
    Signed-off-by: Eric Sesterhenn <snakebyte@gmx.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4d3248a29cb78b31bb0520eb99b4be620e810a40
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Jan 11 11:27:33 2006 -0800

    [PATCH] gianfar: Use new PHY_ID_FMT macro
    
    Make the driver produce the string used by phy_connect and have board specific
    code pass the integer mii bus id and phy device id for the specific controller
    instance.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a4d00f179fcec7065fe5742e9cebd6500886070f
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Jan 11 11:27:33 2006 -0800

    [PATCH] phy: Added a macro to represent the string format used to match a phy device
    
    Add the PHY_ID_FMT macro to ensure that the format of the id string used by a
    driver to match to its specific phy is consistent between the mdio_bus and the
    driver.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1d5326774c9245fef77334a9e0f11cd4f8aa7b4e
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Jan 11 11:27:32 2006 -0800

    [PATCH] gianfar mii: Use proper resource for MII memory region
    
    We can now have the gianfar mii platform device have a proper resource for the
    IO memory region for its registers.  Previously we passed this information
    that the platform_data structure because we couldn't handle overlapping memory
    regions for platform devices.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9c07b884b92c80e9d660b7b9282631fb626451e2
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Jan 11 11:26:25 2006 -0800

    [PATCH] gfar: fix compile error
    
    Missing include of <linux/in.h> to get definition of IPPROTO_UDP.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9ad8b9d1520db4d317d791eeb8d6e47c366be82c
Author: dann frazier <dannf@dannf.org>
Date:   Wed Jan 11 11:26:24 2006 -0800

    [PATCH] CONFIG_AIRO needs CONFIG_CRYPTO
    
    airo.c currently has MICSUPPORT enabled, which requires CONFIG_CRYPTO.  A
    user reported a build failure which is due to the lack of a Kconfig
    dependency.  See http://bugs.debian.org/344205.
    
    This patch makes Kconfig enforce this dependency.
    
    Signed-off-by: dann frazier <dannf@debian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ac7c66698a2c51e4c6a34b84621c79e7cb89e07d
Author: ODonnell, Michael <Michael.ODonnell@stratus.com>
Date:   Wed Jan 11 11:26:22 2006 -0800

    [PATCH] corruption during e100 MDI register access
    
    We have identified two related bugs in the e100 driver.
    
    Both bugs are related to manipulation of the MDI control register.
    
    The first problem is that the Ready bit is being ignored when writing to
    the Control register; we noticed this because the Linux bonding driver
    would occasionally come to the spurious conclusion that the link was down
    when querying Link State.  It turned out that by failing to wait for a
    previous command to complete it was selecting what was essentially a random
    register in the MDI register set.  When we added code that waits for the
    Ready bit (as shown in the patch file below) all such problems ceased.
    
    The second problem is that, although access to the MDI registers involves
    multiple steps which must not be intermixed, nothing was defending against
    two or more threads attempting simultaneous access.  The most obvious
    situation where such interference could occur involves the watchdog versus
    ioctl paths, but there are probably others, so we recommend the locking
    shown in our patch file.
    
    Signed-off-by: Michael O'Donnell <Michael.ODonnell@stratus.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: John Ronciak <john.ronciak@intel.com>
    Cc: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Cc: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 745caf71d99c5d4ff4c9e4c0f74e64c429fed531
Author: Petr Vandrovec <petr@vmware.com>
Date:   Wed Jan 11 11:31:07 2006 -0800

    [SCSI] Pass proper device from BusLogic to SCSI layer
    
    While trying to get SUSE's SLES9 working on system with more than 4GB we've
    noticed that SCSI layer happilly passes addresses over 4GB to the buslogic
    driver, which is quite a big problem as buslogic can generate only 32bit
    busmastering cycles.
    
    Fortunately in the current kernels this problem does not exist anymore as
    SCSI layer now assumes 4GB capable device by default, but it is still good
    idea to pass correct device structure to the SCSI layer.  If nothing else,
    /sys/block/sda/device now points to
    /sys/devices/pci0000:00/0000:00:10.0/host0/...  instead of
    /sys/devices/platform/host0/...  like it did in the past.
    
    Change does nothing for ISA based BusLogic adapters, they'll still end
    under platform (and they are probably broken for long time as I do not see
    anything forcing ISA 16MB limit for them).
    
    Signed-off-by: Petr Vandrovec <petr@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bf785ee0aeea7a3e717cb1e11df4135b6cbde7da
Merge: 8b87e1b... 0043170...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 12:23:49 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 8b87e1baff24e586c3fe6c168843d213119bf4dd
Merge: a2b421f... f392ecf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 12:23:03 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit a2b421fee37d34c09bd2a14d3e9294f838c64370
Merge: ba027de... a621aae...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 12:22:17 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit ba027def7be0d6494b72603d5758acc0fb1c7514
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Jan 12 20:44:12 2006 +0100

    [PATCH] Revert ide softirq handling
    
    There's a problem with the REQ_BLOCK_PC handling as well (bad ->data_len
    handling) where it could actually complete a request ahead of time.  I
    suggest we just back this out for now, I will resubmit it later when I'm
    fully confident in it.
    
    This reverts commit 8672d57138b34447719cd7749f3d21070e1175a1
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f392ecfa12de9a2baf72789b00557bac040d6171
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Thu Jan 12 18:44:32 2006 +0000

    [SERIAL] turn serial semaphores into mutexes
    
    Turn several drivers/serial/ semaphores-used-as-mutex into mutexes
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a621aaed690b9439141c555941b6af53873f6ff1
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Thu Jan 12 18:43:35 2006 +0000

    [MMC+MFD] Convert mmc to mutexes
    
    convert mfd and mmc to mutexes
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 00431707be0cc1236ee08459367872b57da5be29
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Thu Jan 12 18:42:23 2006 +0000

    [ARM] Convert some arm semaphores to mutexes
    
    The arm clock semaphores are strict mutexes, convert them to the new
    mutex implementation
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 661dd5c840851194c7ee5a2603d5354dcf9bd212
Merge: 45bfe98... c9db4fa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 10:22:11 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/tglx/hrtimer-2.6

commit 45bfe98bd790b5ded00462cd582effcfb42263cc
Merge: 9f5974c... 624cee3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 10:21:22 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge
    
    Fix up delete/modify conflict of arch/ppc/kernel/process.c by hand (it's
    gone, gone, gone).
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd2f1e6980157638f66f427d577a1c368fd4dc12
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Jan 12 12:07:13 2006 -0600

    [SCSI] aic79xx: bump version to 3.0
    
    This takes us past the old 1.x version of the SCSI driver and the 2.x
    version of the aic website version to reflect the full incorporation
    of both branches.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 11668bb673c41ec169a85d0b52c538a1c11d29e1
Author: Hannes Reinecke <hare@suse.de>
Date:   Thu Jan 12 12:08:06 2006 +0100

    [SCSI] aic79xx: Sequencer update
    
    Update sequencer code to Adaptec version 2.0.12-6.3.9.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ba62cd2d01e401faa5d5a25fa8e990d0b1a1996a
Author: Hannes Reinecke <hare@suse.de>
Date:   Thu Jan 12 12:07:02 2006 +0100

    [SCSI] aic79xx: Sanitize inb/outb handling
    
    This patch coalesces inb/outb calls to the approriate word or long form.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 66a0683e4620f087e41e79d4d2be6c5a06bb206b
Author: Hannes Reinecke <hare@suse.de>
Date:   Thu Jan 12 12:05:46 2006 +0100

    [SCSI] aic79xx: Use struct map_node
    
    Use struct map_node instead of separate variables.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5e46631b04382ef14255467288052f29cb77daeb
Author: Hannes Reinecke <hare@suse.de>
Date:   Thu Jan 12 12:04:28 2006 +0100

    [SCSI] aic7xxx/aic79xx: New device ids
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bcc1e382bce8de4f26182c6447916f9c82b0fbe5
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Wed Jan 11 23:58:40 2006 -0500

    [SCSI] Mask capabilities for SCSI-1 CD drive
    
    SCSI-1 CD drives can't do MRW or be opened for writing, so mask off
    those capabilities.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6171b5eff2ef3f84333af652e8c7b0838bf72945
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Jan 11 09:28:57 2006 -0800

    [SCSI] aacraid: README update
    
    Received From Mark Salyzyn.
    
    Move the README from the driver directory to the Documentation directory.
    Updated the documentation, added descriptions for cards that
    were missing.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit db39363c029cd9e74661ef059a17785d1c62a851
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Jan 11 09:28:29 2006 -0800

    [SCSI] aacraid: 17 element sg performance update
    
    Received From Mark Salyzyn.
    
    The Jaguar and Corsair class of adapters (2410, 2810, 2610, 21610, CERC)
    perform better (about 10% better read performance, write performance
    neutral) with current Firmware if the OS limits the number of scatter
    gather elements to 17 per request.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7686f132653fa3d52d45c3f021215f714094f1ca
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Jan 11 09:28:16 2006 -0800

    [SCSI] aacraid: better sysfs adapter information
    
    Received from Mark Salyzyn.
    
    Provide more accurate adapter information.
    
    Allows the Adapter Firmware to override the Adapter product
    information.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6e289a9023d589c24f86b29186d324215cdc9947
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Jan 11 09:28:07 2006 -0800

    [SCSI] aacraid: Fix default FIB size
    
    Received from Mark Salyzyn.
    
    If the adapter has not instructed us otherwise that it can handle a
    'large' FIB, then it can handle at most a 2KB FIB.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 33b114e935a2202206e224dd2c695cee5a5986bf
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Jan 11 14:20:43 2006 +0100

    [SCSI] sas: clear parent->rphy in sas_rphy_delete
    
    We need to clear the backpointer on rphy removal, else we'll run into
    problems with host removal after a device has been hot unplugged.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0b9506723826c68b50fa33e345700ddcac1bed36
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Wed Jan 11 13:16:10 2006 +0100

    [SCSI] turn most scsi semaphores into mutexes
    
    the scsi layer is using semaphores in a mutex way, this patch converts
    these into using mutexes instead
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit dacee84b070c4e705a5b6446f1f0a6a6e2f8d7a4
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Jan 10 12:11:42 2006 -0600

    [SCSI] aic7xxx: fix timer handling bug
    
    The driver is doing a rather stupid mod_timer allegedly to "give
    request sense more time to complete".  This is illegal and pointless,
    so just eliminate it.  Also eliminate all the other uses of struct
    timer_list in the driver, which are mostly bogus.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit db1019ca0548b263989bc98900eaf15107e533ad
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Tue Jan 10 19:19:37 2006 +0100

    [PATCH] pcmcia: runtime powermanagement interface
    
    With the "power/state" sysfs interface being deprecated, make another
    one available which is compatible to what was discussed on the linux
    PM mailinglist.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit f542ff6dd1a444c85cc245ac40aef5f703e48674
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Tue Jan 10 19:06:33 2006 +0100

    [PATCH] pcmcia: add new IDs for serial_cs.c
    
    Add IDs for Sierra Aircard 55 CDMA 1xrtt Modem -- a CIS update is required
    for this card.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 8e0df4a757db82a571f3a179108b62d09258eaf2
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Mon Jan 9 10:17:40 2006 -0800

    [SCSI] qla2xxx: Kconfig: two fixes
    
    Original From: Adrian Bunk
    
    Here's a composite patch with Adrian's original additions and
    help-text with the new Kconfig variable SCSI_QLA_FC.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 455c53ec61a6c96d7b21b72ad1fa26ac89824e8e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 20:21:28 2006 +0100

    [SCSI] lpfc_scsi.c: make lpfc_get_scsi_buf() static
    
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: James Smart <James.Smart@Emulex.Com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bdd70f2cebce0f5172350aab37c057c3b66494ac
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 5 23:39:18 2006 +0100

    [SCSI] scsi_transport_spi.c: make print_nego() static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8e32ca49ef2eb5bfec1444b5e731cc2d35111519
Author: Moore, Eric <Eric.Moore@lsil.com>
Date:   Wed Jan 4 14:58:43 2006 -0700

    [SCSI] raid_class.c - adding RAID10 and RAID10 defines
    
    Adding defines for RAID10 and RAID50 levels, in preparation
    of adding RAID Transport support in the mpt fusion drivers.
    (BTW: IME is RAID10, and IM is RAID1).
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f4619025a51747a3788fd1bb6bdc46e368a889a7
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Jan 12 17:17:57 2006 +0000

    [ARM] Allow r2 to be passed through the decompressor to the kernel
    
    This is part of a patch from Marc Singer to allow r2 to be
    passed to the kernel.  Marc's original comments follow:
    
    This revised R2 (atags pointer) patch incorporates comments from Nico
    Pitre and Ben Dooks. It modifies the head.S files such that the R2
    value set by the bootloader is conveyed to the kernel startup code.
    The kernel head.S heuristically validates the pointer. It will set R2
    to zero if it believes the pointer is invalid. Presently, it requires
    that the ATAGS list reside in the first 16KiB of physical RAM.
    Relaxing this contraint may be both desirable as well as tricky.
    
    Signed-off-by: Marc Singer <elf@buici.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9f5974c8734d83d4ab7096ed98136a82f41210d6
Merge: a2d823b... ddae9c2...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 12 09:10:34 2006 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit a2d823bf13efea4c859376f6e85c49cfbad7ab60
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:40 2006 -0800

    [PATCH] m68k: console code in head.S needs framebuffer support built in
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c9757b7c28161e073e7f408978b7ed01925924c
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:40 2006 -0800

    [PATCH] m68k: fix PIO case in esp
    
    we always set ->SCp.ptr to physical address of buffer; for DMA that's
    just what we need, but we end up using it as virtual address in PIO
    case of esp_do_data(), with obvious breakage as soon as memory mapping
    becomes non-trivial.  The fix is obvious.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed1705afb93409a3e345d653be9d263984aa5c1b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:39 2006 -0800

    [PATCH] m68k: fix macfb init
    
    To be used by module_init() function should return int; same for functions
    that have "return -ENODEV;" in them, actually ;-)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54a5a6eb5842d68fe0aaa60d50fdea532c19770b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:38 2006 -0800

    [PATCH] m68k: fix reference to init_task in vmlinux-sun3.lds
    
    it's *(.data.init_task), not init_task...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a763be5c1aace94cf4adfc5ea164f5b0d2d255cd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:37 2006 -0800

    [PATCH] m68k: fix use of void foo(void) asm("bar") in traps.c
    
    with gcc4 these have file scope, so having them different in different
    blocks doesn't work anymore
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 639074354bb371feb2dde409b2ce05d56afef02b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:36 2006 -0800

    [PATCH] m68k: kill mach_floppy_setup, convert to proper __setup() in drivers
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c79358b874af31430cf8d26540ae7b8713505f6
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:35 2006 -0800

    [PATCH] m68k: Moved initialisation of conswitchp from subarches to global arch setup
    
    Signed-off-by: Kars de Jong <jongk@linux-m68k.org>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35efbcabdc217f2b3a73bf3b895559e8f269e258
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:34 2006 -0800

    [PATCH] m68k: cast in strnlen switched to unsigned long
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5d361fc24b75ea51e219367ee32c64422a2134f
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:34 2006 -0800

    [PATCH] m68k: NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 031eb4cddec7a4825212ece47de4bd64cd8e0bee
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:33 2006 -0800

    [PATCH] m68k: dmasound __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d998265feb7cbcf74e27e3057dac309dcad47bf7
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:32 2006 -0800

    [PATCH] m68k: zorro __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3728d254def75837bf57aa4f897ba4f3a3e82d0b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:31 2006 -0800

    [PATCH] m68k: amifb __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d85f6891aa143bed92590e10e210e7e102bbb2a1
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:31 2006 -0800

    [PATCH] m68k: dsp56k __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab14caec7a5f0d9569c8a9dd2ad62e89b220c968
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:30 2006 -0800

    [PATCH] m68k: amiserial __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c7af51129161a7a3dc4169c984964912f1f4822
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:29 2006 -0800

    [PATCH] m68k: ataflop __user annotations, NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a423e542b4a9af45ac0106ab8275760af770793
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:28 2006 -0800

    [PATCH] m68k: amiflop __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6225d85f171f8b7a776850d30352bd196f9bd0d6
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:28 2006 -0800

    [PATCH] m68k: checksum __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 350c20a6fd24b2a3265f7ca440aa17570e89e2cd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:27 2006 -0800

    [PATCH] m68k: syscalls __user annotation
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b7bb54a417ca73eefc52df3702ff5167b46dc89
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:26 2006 -0800

    [PATCH] m68k: rtc __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2382f77ffcde32e5195d5c82fee91171bb764c1a
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:25 2006 -0800

    [PATCH] m68k: signal __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 11c40f8a6ac8bd057043b1f9e7c9490c0e6149f3
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:24 2006 -0800

    [PATCH] m68k: basic __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad9ec4f8de264903c6b5ba7ae8d8e96432188858
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:24 2006 -0800

    [PATCH] m68k: basic iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a4729118c8851bce709a00eba1b3a8f1fd9ed58
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:23 2006 -0800

    [PATCH] m68k: compile fixes for dmasound (static vs. extern)
    
    sound/oss/dmasound/dmasound_atari.c has static expand_bal
    sound/oss/dmasound/dmasound_q40.c has static expand_bal
    sound/oss/dmasound/dmasound_awacs.c has non-static expand_bal
    sound/oss/dmasound/trans_16.c uses expand_bal from dmasound_awacs.c
    all 4 include dmasound.h; extern for expand_bal used to be there,
    which is a bloody bad idea, considering _atari and _q40.  Moved the
    extern to trans_16.c.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3756513d5fdc7b4ba814419165afcd10c6b1618d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:22 2006 -0800

    [PATCH] m68k: lvalues abuse in dmasound
    
    Cast is not an lvalue
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 815f597be444e5f9f5b4dbd65b862208d5253598
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:21 2006 -0800

    [PATCH] m68k: dmasound_paula.c lvalues abuse (from m68k CVS)
    
    Avoid warnings about use of cast expressions as lvalues
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09cc07a5c7996192cc19c79c8aac5a4a22528059
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:21 2006 -0800

    [PATCH] m68k: lvalues abuse in mac8390
    
    Cast is not an lvalue
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0efb71348249903c54e71f26927cfc94ba186dfb
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:20 2006 -0800

    [PATCH] m68k: bogus function argument types (sun3_pgtable.h)
    
    function arguments can't be inline, TYVM...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f2633388d64c0489516af04e0d4cd9f01397a94
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:19 2006 -0800

    [PATCH] m68k: broken constraints on mulu.l
    
    Too permissive constraint on mulu.l - the first argument should not be
    an a-register.  Fixed by replacing "g" with "dm"; with older gcc we got
    lucky and it had never attempted mulu.l %a0, %d1:%d0.  These days it
    does, with predictable objections from as(1).
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77add9f3e6a486e5623f3e693ded216f155bd2a5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:18 2006 -0800

    [PATCH] m68k: memory input should be an lvalue (mac/misc.c)
    
    gcc4 is less forgiving and wants memory inputs to be real lvalues; variable
    added and value stored in it explicitly before doing __asm__.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84a65cc6c18848fcee9c9ae8766bb5c60787d21b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:17 2006 -0800

    [PATCH] m68k: static vs. extern in amigaints.h
    
    extern declaration of static object removed from header
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ebf21ac7cefce035452f34971f6825641791015
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:17 2006 -0800

    [PATCH] m68k: static vs. extern in sun3ints.h
    
    extern declaration of static object removed from header
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df87ac96140ef216e31b859868743d43732686de
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:16 2006 -0800

    [PATCH] m68k: static vs. extern in scc.h
    
    extern declaration before the static one
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa7e02fe3786b524dde18d24f0c5a718182c72a2
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:15 2006 -0800

    [PATCH] m68k: isa_{type,sex} should be exported
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 641940611478df8b63f581310b9d51806dda3212
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:14 2006 -0800

    [PATCH] m68k: oktagon makefile fix
    
    oktagon_esp is described as modular.  However, drivers/scsi/Makefile doesn't
    handle it right - it's multi-object module, with one of the parts being built
    from .S.  Current makefile tries to declare each part a module of its own;
    that not only wouldn't work (oktagon_io.o doesn't have the right parts for
    that), it actually doesn't even build since kbuild doesn't believe in
    single-object modules built from .S.  Turned into proper multi-object
    module...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cef46b1f10ab67c2a00d866413b9e7e26aae9eed
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:13 2006 -0800

    [PATCH] m68k: dumb typo in atyfb
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3272244c2b1a8f13cec83c04b8245fa7fcb47a27
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:13 2006 -0800

    [PATCH] m68k: switch mac/misc.c to direct use of appropriate cuda/pmu/maciisi requests
    
    kill ADBREQ_RAW use, replace adb_read_time(), etc.  with per-type variants,
    eliminated remapping from pmu ones, fix the ifdefs (PMU->PMU68K)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4290a23cfa9040e2f0de5ab57d6ea65abaf053b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:12 2006 -0800

    [PATCH] m68k: namespace pollution fix (custom->amiga_custom)
    
    in amigahw.h custom renamed to amiga_custom, in drivers with few instances the
    same replacement, in the rest - #define custom amiga_custom in driver itself
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 198a4101197797fd9cee40c17dc285dc84c5d745
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:11 2006 -0800

    [PATCH] m68k: compile fix - updated vmlinux.lds to include LOCK_TEXT
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85b07cd1aa50aca8331e5dfe3b2ccb2eb391b183
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:10 2006 -0800

    [PATCH] m68k: compile fix - hardirq checks were in wrong place
    
    move the sanity check for NR_IRQS being no more than 1<<HARDIRQ_BITS from
    asm-m68k/hardirq.h to asm-m68k/irq.h; needed since NR_IRQS is not necessary
    know at the points of inclusion of asm/hardirq.h due to the rather ugly header
    dependencies on m68k.  Fix is by far simpler than trying to massage those
    dependencies...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5a61d0c13db3522a996075bc1b1884a8af2ed37
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:09 2006 -0800

    [PATCH] death of get_thread_info/put_thread_info
    
    {get,put}_thread_info() were introduced in 2.5.4 and never
    had been called by anything in the tree.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 75bb07e788abb060cc93b6f4dc48a70a53c1406b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:08 2006 -0800

    [PATCH] mips: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc8f6029cd51af1b148846a32e68d69013a5cc0f
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:07 2006 -0800

    [PATCH] mips: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40bc9c671a9f0a5189c07a2b4280aec9b40e30cd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:07 2006 -0800

    [PATCH] mips: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6450578f32cdca587ae5f148e2118b2fcc36bb11
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:06 2006 -0800

    [PATCH] ia64: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab03591db110e8d195d381a68692eb37da981cdf
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:05 2006 -0800

    [PATCH] ia64: task_thread_info()
    
    on ia64 thread_info is at the constant offset from task_struct and stack
    is embedded into the same beast.  Set __HAVE_THREAD_FUNCTIONS, made
    task_thread_info() just add a constant.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 718d6114fcd894bf4d3527b9e206a1cbcaaae35d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:04 2006 -0800

    [PATCH] cris: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cfa0f29b6da2c4d45ecdeaabe17af4c4adc47c05
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:04 2006 -0800

    [PATCH] cris: fix KSTK_EIP
    
    cris KSTK_EIP looked for pt_regs at the right offset but from the wrong
    place - forgotten ->thread_info
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95ca0dc603ab58f3e4c5a1c23f675bd1f5b5fef3
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:03 2006 -0800

    [PATCH] cris: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0cec6fd1370807f98934e84c9e6147335b81d8a5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:02 2006 -0800

    [PATCH] powerpc: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b5e2fc1c6259e6f26bc4ae4de697da1f8da0edec
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:01 2006 -0800

    [PATCH] powerpc: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee8c1dd44305cca9d0ded248de991f67b55ec622
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:01 2006 -0800

    [PATCH] sh64: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fdf0d7a2012e560fee738bfd7f2af26faeb3a39
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:06:00 2006 -0800

    [PATCH] arm26: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 02ef691f6ce4097da5617ebf59493487cb2b4f82
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:59 2006 -0800

    [PATCH] arm26: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 697102cda5c5e778d0bc3b4b9f8d935f4fe64125
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:59 2006 -0800

    [PATCH] arm26: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32d39a9355780bc9aadcf76a2d2004bdbe0f4665
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:58 2006 -0800

    [PATCH] arm: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 552058239238342dfd2fa8d33a299a162b1a4f05
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:57 2006 -0800

    [PATCH] arm: end_of_stack()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 815d5ec86eb8d5f57e5e4aa147bd1fb6338c58ac
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:57 2006 -0800

    [PATCH] arm: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e7c1b32fd354c34c4dceb1736a485bc5d91f7c43
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:56 2006 -0800

    [PATCH] arm: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68f8b1f8f113fcbc8d8e835f174b97cdaf96af20
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:55 2006 -0800

    [PATCH] h8300: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40f1f0deaff90b78b81dbba109bfa1cef241ec16
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:55 2006 -0800

    [PATCH] parisc: task_stack_page(), task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 513091ba7e4a8b498632d7913ff9408ebbca6235
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:54 2006 -0800

    [PATCH] m68knommu: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 768595ffba46b101ad54d8775e640fecbe470d9a
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:53 2006 -0800

    [PATCH] m68k: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 097cb338c72b4916d8221278caba63d74d9f19d6
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:53 2006 -0800

    [PATCH] frv: task_thread_info(), task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c3559fc458e3ed171d7a8bf6a6d7eaea1e7b2e5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:52 2006 -0800

    [PATCH] m32r: task_pt_regs(), task_stack_page(), task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7f6961d83d480c8636543d1d0dbb9584b878a68
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:51 2006 -0800

    [PATCH] v850: task_stack_page(), task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04fe6faf10c310480151667e7fe3e06df4208a8e
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:50 2006 -0800

    [PATCH] xtensa: task_pt_regs(), task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30af7120fe6cfa8cf9ccd0626474fa1cd6d2bd59
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:50 2006 -0800

    [PATCH] s390: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c7584fb6b46a71a1aba5e06dc3cc54ce10f0129e
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:49 2006 -0800

    [PATCH] s390: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 579b3ea5916d60ade1e04d2a49637e5cbba67eac
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:48 2006 -0800

    [PATCH] uml: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca9bc0bb2d1c7afdd34ec79b3de4d16a8e0225e8
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:48 2006 -0800

    [PATCH] uml: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36483c6b5e6cc8f29fbe5203caa7e0b836802747
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:47 2006 -0800

    [PATCH] sparc: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d562ef6a23feb72f32ebd23fb32fe7d2c35a85cd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:46 2006 -0800

    [PATCH] sparc: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 308a792f7c563a7af6e325274c63812f98988d6f
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:45 2006 -0800

    [PATCH] sh: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cafcfcaa60dbb5bcccbbc1d0ad7d4bdeeb4d0cc8
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:45 2006 -0800

    [PATCH] sh: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3cf0f4ece9f1680e54b154b1e38baaf6ace20a62
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:44 2006 -0800

    [PATCH] sh: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 26ecbdea4bf46b0165db4aafd8e4981b4db53936
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:43 2006 -0800

    [PATCH] sparc64: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee3eea165e706a3ce8a53693e810403f65239ebb
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:43 2006 -0800

    [PATCH] sparc64: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3169641c12d2c5abdab863f5393a3f3534788dd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:42 2006 -0800

    [PATCH] sparc64: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 65e0fdffc977e69a8f1f26d4bf8ba30984db7e44
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:41 2006 -0800

    [PATCH] i386: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07b047fc2466249aff7cdb23fa0b0955a7a00d48
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 12 01:05:41 2006 -0800

    [PATCH] i386: fix task_pt_regs()
    
    )
    
    From: Al Viro <viro@ftp.linux.org.uk>
    
    task_pt_regs() needs the same offset-by-8 to match copy_thread()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06b425d80f56280e698b3e8487c372e0d39d9ba1
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:40 2006 -0800

    [PATCH] i386: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 57eafdc22c8e788859b67c2c7ac4d636716603a5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:39 2006 -0800

    [PATCH] amd64: task_stack_page()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb049232fa8fe08c90b182f378eed5017da5235c
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:38 2006 -0800

    [PATCH] amd64: task_pt_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4f17c436f8e4241995c2531372be8dd7ea6ff75
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:38 2006 -0800

    [PATCH] amd64: task_thread_info()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e52f4ca2a7cfea3495cabae23d48f1538f09ccf2
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 12 01:05:37 2006 -0800

    [PATCH] alpha: task_pt_regs()
    
    )
    
    From: Al Viro <viro@ftp.linux.org.uk>
    
    rename alpha_task_regs() to task_pt_regs(), switch open-coded instances
    to use of the helper.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 27f451304aa6f2bccf34ef3c2b049c01d05d6fff
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:36 2006 -0800

    [PATCH] alpha: task_stack_page()
    
    use task_stack_page() for accesses to stack page of task in alpha-specific
    parts of tree
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37bfbaf995d2c1f8196ee04c9d6f68258d5ec3e8
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:36 2006 -0800

    [PATCH] alpha: task_thread_info()
    
    use task_thread_info() for accesses to thread_info of task in arch/alpha
    and include/asm-alpha
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9fc658763bf992e778243ebe898b03746151ab88
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Jan 12 01:05:34 2006 -0800

    [PATCH] missing helper - task_stack_page()
    
    Patchset annotates arch/* uses of ->thread_info.  Ones that really are about
    access of thread_info of given process are simply switched to
    task_thread_info(task); ones that deal with access to objects on stack are
    switched to new helper - task_stack_page().  A _lot_ of the latter are
    actually open-coded instances of "find where pt_regs are"; those are
    consolidated into task_pt_regs(task) (many architectures actually have such
    helper already).
    
    Note that these annotations are not mandatory - any code not converted to
    these helpers still works.  However, they clean up a lot of places and have
    actually caught a number of bugs, so converting out of tree ports would be a
    good idea...
    
    As an example of breakage caught by that stuff, see i386 pt_regs mess - we
    used to have it open-coded in a bunch of places and when back in April Stas
    had fixed a bug in copy_thread(), the rest had been left out of sync.  That
    required two followup patches (the latest - just before 2.6.15) _and_ still
    had left /proc/*/stat eip field broken.  Try ps -eo eip on i386 and watch the
    junk...
    
    This patch:
    
    new helper - task_stack_page(task).  Returns pointer to the memory object
    containing task stack; usually thread_info of task sits in the beginning
    of that object.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d7102e95b7b9c00277562c29aad421d2d521c5f6
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 12 01:05:32 2006 -0800

    [PATCH] sched: filter affine wakeups
    
    )
    
    From: Nick Piggin <nickpiggin@yahoo.com.au>
    
    Track the last waker CPU, and only consider wakeup-balancing if there's a
    match between current waker CPU and the previous waker CPU.  This ensures
    that there is some correlation between two subsequent wakeup events before
    we move the task.  Should help random-wakeup workloads on large SMP
    systems, by reducing the migration attempts by a factor of nr_cpus.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 198e2f181163233b379dc7ce8a6d7516b84042e7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 12 01:05:30 2006 -0800

    [PATCH] scheduler cache-hot-autodetect
    
    )
    
    From: Ingo Molnar <mingo@elte.hu>
    
    This is the latest version of the scheduler cache-hot-auto-tune patch.
    
    The first problem was that detection time scaled with O(N^2), which is
    unacceptable on larger SMP and NUMA systems. To solve this:
    
    - I've added a 'domain distance' function, which is used to cache
      measurement results. Each distance is only measured once. This means
      that e.g. on NUMA distances of 0, 1 and 2 might be measured, on HT
      distances 0 and 1, and on SMP distance 0 is measured. The code walks
      the domain tree to determine the distance, so it automatically follows
      whatever hierarchy an architecture sets up. This cuts down on the boot
      time significantly and removes the O(N^2) limit. The only assumption
      is that migration costs can be expressed as a function of domain
      distance - this covers the overwhelming majority of existing systems,
      and is a good guess even for more assymetric systems.
    
      [ People hacking systems that have assymetries that break this
        assumption (e.g. different CPU speeds) should experiment a bit with
        the cpu_distance() function. Adding a ->migration_distance factor to
        the domain structure would be one possible solution - but lets first
        see the problem systems, if they exist at all. Lets not overdesign. ]
    
    Another problem was that only a single cache-size was used for measuring
    the cost of migration, and most architectures didnt set that variable
    up. Furthermore, a single cache-size does not fit NUMA hierarchies with
    L3 caches and does not fit HT setups, where different CPUs will often
    have different 'effective cache sizes'. To solve this problem:
    
    - Instead of relying on a single cache-size provided by the platform and
      sticking to it, the code now auto-detects the 'effective migration
      cost' between two measured CPUs, via iterating through a wide range of
      cachesizes. The code searches for the maximum migration cost, which
      occurs when the working set of the test-workload falls just below the
      'effective cache size'. I.e. real-life optimized search is done for
      the maximum migration cost, between two real CPUs.
    
      This, amongst other things, has the positive effect hat if e.g. two
      CPUs share a L2/L3 cache, a different (and accurate) migration cost
      will be found than between two CPUs on the same system that dont share
      any caches.
    
    (The reliable measurement of migration costs is tricky - see the source
    for details.)
    
    Furthermore i've added various boot-time options to override/tune
    migration behavior.
    
    Firstly, there's a blanket override for autodetection:
    
    	migration_cost=1000,2000,3000
    
    will override the depth 0/1/2 values with 1msec/2msec/3msec values.
    
    Secondly, there's a global factor that can be used to increase (or
    decrease) the autodetected values:
    
    	migration_factor=120
    
    will increase the autodetected values by 20%. This option is useful to
    tune things in a workload-dependent way - e.g. if a workload is
    cache-insensitive then CPU utilization can be maximized by specifying
    migration_factor=0.
    
    I've tested the autodetection code quite extensively on x86, on 3
    P3/Xeon/2MB, and the autodetected values look pretty good:
    
    Dual Celeron (128K L2 cache):
    
     ---------------------
     migration cost matrix (max_cache_size: 131072, cpu: 467 MHz):
     ---------------------
               [00]    [01]
     [00]:     -     1.7(1)
     [01]:   1.7(1)    -
     ---------------------
     cacheflush times [2]: 0.0 (0) 1.7 (1784008)
     ---------------------
    
    Here the slow memory subsystem dominates system performance, and even
    though caches are small, the migration cost is 1.7 msecs.
    
    Dual HT P4 (512K L2 cache):
    
     ---------------------
     migration cost matrix (max_cache_size: 524288, cpu: 2379 MHz):
     ---------------------
               [00]    [01]    [02]    [03]
     [00]:     -     0.4(1)  0.0(0)  0.4(1)
     [01]:   0.4(1)    -     0.4(1)  0.0(0)
     [02]:   0.0(0)  0.4(1)    -     0.4(1)
     [03]:   0.4(1)  0.0(0)  0.4(1)    -
     ---------------------
     cacheflush times [2]: 0.0 (33900) 0.4 (448514)
     ---------------------
    
    Here it can be seen that there is no migration cost between two HT
    siblings (CPU#0/2 and CPU#1/3 are separate physical CPUs). A fast memory
    system makes inter-physical-CPU migration pretty cheap: 0.4 msecs.
    
    8-way P3/Xeon [2MB L2 cache]:
    
     ---------------------
     migration cost matrix (max_cache_size: 2097152, cpu: 700 MHz):
     ---------------------
               [00]    [01]    [02]    [03]    [04]    [05]    [06]    [07]
     [00]:     -    19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)
     [01]:  19.2(1)    -    19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)
     [02]:  19.2(1) 19.2(1)    -    19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)
     [03]:  19.2(1) 19.2(1) 19.2(1)    -    19.2(1) 19.2(1) 19.2(1) 19.2(1)
     [04]:  19.2(1) 19.2(1) 19.2(1) 19.2(1)    -    19.2(1) 19.2(1) 19.2(1)
     [05]:  19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)    -    19.2(1) 19.2(1)
     [06]:  19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)    -    19.2(1)
     [07]:  19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1) 19.2(1)    -
     ---------------------
     cacheflush times [2]: 0.0 (0) 19.2 (19281756)
     ---------------------
    
    This one has huge caches and a relatively slow memory subsystem - so the
    migration cost is 19 msecs.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Cc: <wilder@us.ibm.com>
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4dc7a0bbeb6882ad665e588e82fabe5bb4645f2f
Author: Ingo Molnar <mingo@elte.hu>
Date:   Thu Jan 12 01:05:27 2006 -0800

    [PATCH] sched: add cacheflush() asm
    
    Add per-arch sched_cacheflush() which is a write-back cacheflush used by
    the migration-cost calibration code at bootup time.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c6b44d10f25e5a93eca5135b686a35775c63546e
Author: Andi Kleen <ak@suse.de>
Date:   Thu Jan 12 01:05:26 2006 -0800

    [PATCH] Implement ioctl emulation for the parport character device
    
    Fixes bugzilla.kernel.org bug 2903.
    
    Cc: <tim@cyberelk.net>
    Cc: <andrea@suse.de>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cbe8dd4af2967ee1c2d54ec9d4db35cf3ecc98d3
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Thu Jan 12 01:05:24 2006 -0800

    [PATCH] memmap_init_zone(): remove uneccesary page++
    
    Remove unecessary page++ from memmap_init_zone loop.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1edf80d347387405ff4e8934d194d75f57a3caef
Author: Neil Brown <neilb@suse.de>
Date:   Thu Jan 12 01:05:23 2006 -0800

    [PATCH] md: remove slashes from disk names when creation dev names in sysfs
    
    e.g. The sx8 driver uses names like sx8/0.
    
    This would make a md component dev name like
    
       /sys/block/md0/md/dev-sx8/0
    
    which is not allowed.  So we change the '/' to '!' just like
    fs/partitions/check.c(register_disk) does.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a7e2f7dcb81279e73aefb691ea55ab3540e408a
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Thu Jan 12 01:05:21 2006 -0800

    [PATCH] do_truncate() call fix in tiny-shmem.c
    
    Adapt tiny-shmem.c to the new do_truncate() prototype.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Acked-by: Matt Mackall <mpm@selenic.com>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4598c8b3678abd65be3be00ed3d046375a4777e
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Thu Jan 12 01:05:20 2006 -0800

    [PATCH] migration: make sure there is no attempt to migrate reserved pages.
    
    This ensures that reserved pages are not migrated.  Reserved pages
    currently cause the WARN_ON to trigger in migrate_page_add()
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1bc691d357c646700b9523d2aeca02847d3fb3f4
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Jan 12 15:39:26 2006 +0100

    [PATCH] fix queue stalling while barrier sequencing
    
    If ordered tag isn't supported, request ordering for barrier
    sequencing is performed by queue draining, which basically hangs the
    request queue until elv_completed_request() reports completion of all
    previous fs requests.
    
    The condition check in elv_completed_request() was only performed for
    fs requests.  If a special request is queued between the last
    to-be-drained request and the barrier sequence, draining is never
    completed and the queue is stalled forever.
    
    This patch moves the end-of-draining condition check such that it's
    performed for all requests.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90303b102353302e84758f245906368907e6a23b
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Thu Jan 12 16:53:51 2006 +0000

    [ARM] 3256/1: Make the function-returning ldm's use sp as the base register
    
    Patch from Catalin Marinas
    
    If the low interrupt latency mode is enabled for the CPU (from ARMv6
    onwards), the ldm/stm instructions are no longer atomic. An ldm instruction
    restoring the sp and pc registers can be interrupted immediately after sp
    was updated but before the pc. If this happens, the CPU restores the base
    register to the value before the ldm instruction but if the base register
    is not sp, the interrupt routine will corrupt the stack and the restarted
    ldm instruction will load garbage.
    
    Note that future ARM cores might always run in the low interrupt latency
    mode.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ece5f7b3c4fde70a1ae4add7372ebca5c90bc34d
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 12 16:30:23 2006 +0000

    [ARM] 3237/1: PXA I2C driver updates
    
    Patch from Richard Purdie
    
    This patch adds a check to see if the pxa i2c interface is enabled
    before allowing it to be used and resets it if found to be disabled.
    This automatically restores the interface if the device has been
    suspended and resumed without causing any suspend/resume call ordering
    issues.
    
    The patch also fixes a build warning and adds an appropriate module
    licence (the module is gpl according to the header).
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6b090a25fe58067e4bf4515d5056df1f07b64849
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Thu Jan 12 16:28:16 2006 +0000

    [ARM] 3234/1: Update cpu_architecture() to deal with the new ID format
    
    Patch from Catalin Marinas
    
    Since ARM1176, the CPU ID format has changed and it will also be used for
    future ARM architectures.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 37134cd55d57e95d3f606c6f2a57fa496bdad333
Author: Kevin Hilman <kevin@hilman.org>
Date:   Thu Jan 12 16:12:21 2006 +0000

    [ARM] 3209/1: Configurable DMA-consistent memory region
    
    Patch from Kevin Hilman
    
    This patch increase available DMA-consistent memory allocated by dma_coherent_alloc(). The default remains at 2M (defined in asm/memory.h) and each platform has the ability to override in asm/arch-foo/memory.h.
    
    Signed-off-by: Kevin Hilman <kevin@hilman.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c9db4fa11526affde83603fe52595bd1260c1354
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Jan 12 11:47:34 2006 +0100

    [hrtimer] Enforce resolution as lower limit of intervals
    
    Roman Zippel pointed out that the missing lower limit of intervals
    leads to an accounting error in the overrun count. Enforce the lower
    limit of intervals to resolution in the timer forwarding code.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e2787630c1abb075c935cf47e91beb7c656f48c4
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Jan 12 11:36:14 2006 +0100

    [hrtimer] Change resolution storage to ktime_t format
    
    Change the storage format of the per base resolution to ktime_t to
    make it easier accessible in the hrtimers code.
    
    Change the resolution from (NSEC_PER_SEC/HZ) to TICK_NSEC as Roman
    pointed out. TICK_NSEC is closer to the real resolution.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 288867ec5c377db82933b64460ce050e5c998ee9
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Jan 12 11:25:54 2006 +0100

    [hrtimer] Remove listhead from hrtimer struct
    
    The list_head in the hrtimer structure was introduced for easy access
    to the first timer with the further extensions of real high resolution
    timers in mind, but it turned out in the course of development that
    it is not necessary for the standard use case. Remove the list head
    and access the first expiry timer by a datafield in the timer base.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 624cee31bcb14bfd85559fbec5dd7bb833542965
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Jan 12 21:22:34 2006 +1100

    powerpc: make ARCH=ppc use arch/powerpc/kernel/process.c
    
    Commit 5388fb1025443ec223ba556b10efc4c5f83f8682 made signal_32.c
    use discard_lazy_cpu_state, which broke ARCH=ppc because that
    uses the common signal_32.c but has its own process.c.  Make ARCH=ppc
    use the common process.c to fix this and to reduce the amount
    of duplicated code.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9c7d462eda13ca211b7b4a62f191f4cfda135e2d
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Jan 12 20:44:30 2006 +1100

    drm: fix issues with systems with no MTRR
    
    On systems with no MTRR we should still define the interface.
    
    Original bug from apkm.
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 8fce10a3c9ee7f9c74d83502fd5156a8ec82c21a
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 11 23:07:11 2006 +0000

    [PATCH] powerpc: cell namespace cleanup
    
    These symbols are only used in the file that they are defined in,
    so they should not be in the global namespace.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b0da985644faa45def84ce5d8e18af6f1680f490
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 11 00:00:05 2006 +0000

    [PATCH] powerpc: xmon namespace cleanups
    
    These symbols are only used in the file that they are defined in,
    so they should not be in the global namespace.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ff38e7c80a92de91b34e483478d81eb3d1cf1b37
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 11 00:00:03 2006 +0000

    [PATCH] powerpc: pmac namespace cleanup
    
    pmac_setup_arch is only used in the file that it is defined in,
    so it should not be in the global namespace.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8446196ade39befe68f60cfae49c43b94a1144fc
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 11 00:00:02 2006 +0000

    [PATCH] powerpc: pseries namespace cleanup
    
    These symbols are only used in the file that they are defined in,
    so they should not be in the global namespace.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b07dfab3e329955c218cd1d06efdb133c5c18ecd
Author: Olof Johansson <olof@lixom.net>
Date:   Thu Jan 12 00:20:50 2006 -0600

    [PATCH] powerpc: minor dart driver cleanup
    
    Rpn is assigned every time in the loop, no need to increase it too.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9623b5d3d3d85bac47a83e0e2cf2a9998ade9bd3
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 14:18:28 2006 +1100

    [PATCH] powerpc: small pci cleanups
    
    pcibios_claim_one_bus is not needed on iSeries and phbs_remap_io can be
    mode static.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9bd7ea60b1a0cf9fc745fd2eadb261e4c7719acd
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:58:19 2006 +1100

    [PATCH] powerpc: clean up iommu.h a bit
    
    There was a function declared for CONFIG_PSERIES which no longer exists
    and the two function declarations for CONFIG_ISERIES have been moved
    into an include file in platforms/iseries since they are defined and
    used only there.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ee2cdecec4dce8f7eb0d37a1bbf820cb32b2b75b
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:54:20 2006 +1100

    [PATCH] powerpc: iSeries fixes for build with no PCI
    
    This reverts part of "ppc64 iSeries: allow build with no PCI"
    (145d01e4287b8cbf50f87c3283e33bf5c84e8468) which affected generic code
    and applies a fix in the arch specific code.
    
    Commit "partly merge iseries do_IRQ"
    (5fee9b3b39eb55c7e3619a3b36ceeabffeb8f144) introduced iSeries_get_irq
    which was only available if CONFIG_PCI is set.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 511061049b2fab5ea684dfddcb8d2a38591391f3
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:51:42 2006 +1100

    [PATCH] powercp: iSeries include file comment cleanups
    
    Mainly just removing file names from the comments.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f9cb83ac1f6c3b794c2706e06546d8fecae60ba5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:50:18 2006 +1100

    [PATCH] powerpc: eliminate bitfields from ItLpNaca
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 677f8c0d0455a35aaff08a0292ba9c6232ef4eb1
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:47:43 2006 +1100

    [PATCH] powerpc: remove bitfields from HvLpEvent
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6814350b80e0e7dfb87d2faebbcbef876573897c
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Jan 12 13:48:52 2006 +1100

    [PATCH] powerpc: remove bitfields from hv_call_event.h
    
    Also does some comment cleanups and removal of unnecessary
    variables.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cbbcf3401173f11f7e4c03c7ec8955ea29cd83b5
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Jan 11 17:57:13 2006 -0600

    [PATCH] powerpc: Fixed memory reserve map layout
    
    powerpc: Fixed memory reserve map layout
    
    The memory reserve map is suppose to be a pair of 64-bit integers
    to represent each region.  On ppc32 the code was treating the
    pair as two 32-bit integers.  Additional the prom_init code was
    producing the wrong layout on ppc32.
    
    Added a simple check to try to provide backwards compatibility.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ea183a957abea8e05530a4536a9c2db16e9fdd85
Author: Olof Johansson <olof@lixom.net>
Date:   Wed Jan 11 14:02:58 2006 -0600

    [PATCH] powerpc: remove warning in EEH code
    
    Remove warning in eeh code about mixed variables and code.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Acked-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5388fb1025443ec223ba556b10efc4c5f83f8682
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Jan 11 22:11:39 2006 +1100

    [PATCH] powerpc: Avoid potential FP corruption with preempt and UP
    
    Heikki Lindholm pointed out that there was a potential race with the
    lazy CPU state (FP, VR, EVR) stuff if preempt is enabled.  The race
    is that in the process of restoring FP state on sigreturn, the task
    gets preempted by a user task that wants to use the FPU.  It will take
    an FP unavailable exception, which will write the current FPU state
    to the thread_struct, overwriting the values which sigreturn has
    stored.  Note that this can only happen on UP since we don't implement
    lazy CPU state on SMP.
    
    The fix is to flush the lazy CPU state before updating the
    thread_struct.  To do this we re-use the flush_lazy_cpu_state()
    function from process.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 593195f9b2309693f27b402f34573f7920b82c3e
Merge: 983d5db... f9cfc08...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 11 19:36:32 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit 983d5dbdb2b38d024935f560a91cddcf704875f3
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Thu Jan 12 03:35:20 2006 +0100

    [PATCH] x86_64: Fix SMP bootup with CONFIG_KDUMP enabled
    
    o This fix was posted for i386 long back. Posting it for x86_64.
    
      http://marc.theaimsgroup.com/?l=linux-kernel&m=110380103229830&w=2
    
    o This patch fixes the problem of secondary cpus boot up. This situation
      is faced when kernel is built for default locations like 16MB and
      onwards. In this configuration, only primary cpu (BP) comes and
      secondary cpus don't boot.
    
    o Problem occurs because in trampoline code, lgdt is not able to load the
      GDT as it happens to be situated beyond 16MB. This is due to the fact
      that cpu is still in real mode and default operand size is 16bit.
    
    o This patch uses lgdtl instead of lgdt to force operand size to 32
      instead of 16.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d9cb75f2f41788a59bcd3dac30b264a4bebaf2e
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:47:10 2006 +0100

    [PATCH] x86_64: Don't confuse noapic with noapictimer
    
    Handling common prefixes is tricky.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 256ddb01ebdcb065f81487fff00be833192d8764
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:47:07 2006 +0100

    [PATCH] x86_64: don't copy command line twice
    
    ... reducing the amount of changes Xen has to do.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a2d5924c249e0f73aa00d617f8d5e242ea1430d
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:47:03 2006 +0100

    [PATCH] i386/x86-64: make setup_early_printk() usage consistent
    
    The explicit and implicit calls to setup_early_printk() were passing
    inconsistent arguments.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4092bdebab46235d69fcd68afc710cddad550892
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:47:00 2006 +0100

    [PATCH] i386: Move DOUBLEFAULT config to arch/i386/Kconfig
    
    It has no business being elsewhere and x86-64 doesn't need/want it.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c5acd160a10c76e8debf4f8fa8256d7c914f290
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:57 2006 +0100

    [PATCH] x86_64: Allow kernel page tables upto the end of memory
    
    Previously they would be only allocated before the kernel text at
    1MB.  This limited the maximum supported memory to 128GB.
    Now allow the e820 allocator to put them everywhere. Try
    to put them beyond any DMA zones to avoid filling them up.
    This should free some GFP_DMA memory compared to earlier kernels.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a9c3ee7692fa20670986bcf550950e88ab9b4cc
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:54 2006 +0100

    [PATCH] x86_64: Use safe_smp_processor_id in MCE handler
    
    hard_smp_processor_id would return the local APIC id instead
    of the Linux processor id. On big systems they are often
    not identical. safe_smp_processor_id is just a wrapper
    around it that does the necessary conversions.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 11a8e778c46ee76fc46b0a7fa9d455b5a8e3e19f
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:51 2006 +0100

    [PATCH] x86_64: Some housekeeping in local APIC code
    
    Remove support for obsolete hardware and cleanup.
    
    - Remove checks for non integrated APICs
    - Replace apic_write_around with apic_write.
    - Remove apic_read_around
    - Remove APIC version reads used by old workarounds
    - Remove old workaround for Simics
    - Fix indentation
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f1d189f8a87930d62c507800a8ac20b9a185e41
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:46:48 2006 +0100

    [PATCH] x86_64: Display meaningful part of filename during BUG()
    
    When building in a separate objtree, file names produced by BUG() & Co. can
    get fairly long; printing only the first 50 characters may thus result in
    (almost) no useful information. The following change makes it so that rather
    the last 50 characters of the filename get printed.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b2f6304500930ab534a6aa3198bce0c51586206
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:46:45 2006 +0100

    [PATCH] x86_64: Reduce screen space needed by stack trace
    
    Especially under Xen, where the console cannot be adjusted to more than 25
    lines, it is fairly important that the information displayed during a panic
    is as compact as possible. Below adjustments work towards that.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5329e13d0bd82e13814050eb9facb25eedde4bbc
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:46:42 2006 +0100

    [PATCH] x86_64: Fix get_cmos_time()
    
    Due to a broken condition, the body of the loop that is intended to wait for
    the Update-In-Progress bit to get set and then cleared again was never
    entered; in fact, the entire loop was optimized out by the compiler. Here is
    a change to fix the condition (and to also move the initialization of locals
    out of the spin lock protected region).
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bdf2b1c9fedf76a1797216559f221e5eaa7a1eab
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:39 2006 +0100

    [PATCH] x86_64: No need to export get_cmos_time anymore
    
    It was only needed for APM
    
    Pointed out by Jan Beulich
    
    Cc: jbeulich@novell.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dd52d642db8ca05267456a07a592922e8b093e1c
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:36 2006 +0100

    [PATCH] x86_64: Remove unused AMD K8 C stepping flag
    
    X86_FEATURE_K8_C was a synthetic Linux CPUID flag that was used for some
    code optimizations in Opteron C stepping or later. But support for pre C
    stepping optimizations has been removed, so this isn't needed anymore.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e664aa2bad56b0bb52cf9cb9d14c9b575b437bb
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:33 2006 +0100

    [PATCH] i386: Move phys_proc_id/early intel workaround to correct function.
    
    early_cpu_detect only runs on the BP, but this code needs to run
    on all CPUs.
    
    Looks like a mismerge somewhere.  Also add a warning comment.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77a75333a3d16b830ccf47cf51d944655b015363
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 11 22:46:30 2006 +0100

    [PATCH] x86_64: sparse warning cleanups
    
    Fix some trivial sparse warnings in x86_64 code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf0501328674849f8becf6de16620067a0c2f1b5
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:27 2006 +0100

    [PATCH] x86_64: Move NUMA page_to_pfn/pfn_to_page functions out of line
    
    Saves about ~18K .text in defconfig
    
    There would be more optimization potential, but that's for later.
    
    Suggestion originally from Bill Irwin.
    Fix from Andy Whitcroft.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cdc4b9c01909d606afbc1e4a4b6c21fa1687a016
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:24 2006 +0100

    [PATCH] x86_64: Remove unused segments
    
    They used to be used by the reboot code, but not anymore.
    
    Noticed by Jan Beulich
    
    Cc: JBeulich@novell.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af5b98042452cc6f50de8afa9d079bda8556d74d
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Wed Jan 11 22:46:21 2006 +0100

    [PATCH] x86_64: ioapic virtual wire mode fix
    
    o Currently, during kexec reboot, IOAPIC is re-programmed back to virtual
      wire mode if there was an i8259 connected to it. This enables getting
      timer interrupts in second kernel in legacy mode.
    
    o After putting into virtual wire mode, IOAPIC delivers the i8259 interrupts
      to CPU0. This works well for kexec but not for kdump as we might crash
      on a different CPU and second kernel will not see timer interrupts.
    
    o This patch modifies the redirection table entry to deliver the timer
      interrupts to the cpu we are rebooting (instead of hardcoding to zero).
      This ensures that second kernel receives timer interrupts even on a
      non-boot cpu.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79f12614a6537cc3ac9ca4d1ea26f6e4f4a34aee
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:46:18 2006 +0100

    [PATCH] x86_64: Inclusion of ScaleMP vSMP architecture patches - vsmp_arch
    
    Introduce vSMP arch to the kernel.
    
    This patch:
    1. Adds CONFIG_X86_VSMP
    2. Adds machine specific macros for local_irq_disabled, local_irq_enabled
       and irqs_disabled
    3. Writes to the vSMP CTL device to indicate kernel compiled with CONFIG_VSMP
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalemp.com>
    Signed-off-by: Shai Fultheim <shai@scalemp.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fd63b308569060ffa40af52ed122d9734111bff
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:46:15 2006 +0100

    [PATCH] x86_64: Inclusion of ScaleMP vSMP architecture patches - vsmp_align
    
    vSMP specific alignment patch to
    1. Define INTERNODE_CACHE_SHIFT for vSMP
    2. Use this for alignment of critical structures
    3. Use INTERNODE_CACHE_SHIFT for ARCH_MIN_TASKALIGN,
       and let the slab align task_struct allocations to the internode cacheline size
    4. Introduce and use ARCH_MIN_MMSTRUCT_ALIGN for mm_struct slab allocations.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalemp.com>
    Signed-off-by: Shai Fultheim <shai@scalemp.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99f7b77d3c62045bb47dfc4228a2341ba71bff1d
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:46:12 2006 +0100

    [PATCH] x86_64: Make sure BITS_PER_ATOMIC is defined in asm-generic/atomic.h
    
    Fixes
    
      CC      fs/nfsctl.o
    In file included from include2/asm/atomic.h:427,
                     from /home/lsrc/quilt/linux/include/linux/file.h:8,
                     from /home/lsrc/quilt/linux/fs/nfsctl.c:8:
    /home/lsrc/quilt/linux/include/asm-generic/atomic.h:20:5: warning: "BITS_PER_LONG" is not defined
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4b5939a7eec7726d410517e433040db4ede5102
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Wed Jan 11 22:46:09 2006 +0100

    [PATCH] x86_64: cleanup enter_lazy_tlb()
    
    Move the #ifdef into the function body.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1008fddcaed7ad3e69f72939c87b24d0d3387ca2
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Wed Jan 11 22:46:06 2006 +0100

    [PATCH] x86_64: Memorize location of i8259 for reboots.
    
    Currently we attempt to restore virtual wire mode on reboot, which only
    works if we can figure out where the i8259 is connected.  This is very
    useful when we are kexec another kernel and likely helpful to an peculiar
    BIOS that make assumptions about how the system is setup.
    
    Since the acpi MADT table does not provide the location where the i8259 is
    connected we have to look at the hardware to figure it out.
    
    Most systems have the i8259 connected the local apic of the cpu so won't be
    affected but people running Opteron and some serverworks chipsets should be
    able to use kexec now.
    
    In addition this patch removes the hard coded assumption that the io_apic
    that delivers isa interrups is always known to the kernel as io_apic 0.
    There does not appear to be anything to guarantee that assumption is true.
    
    And From: Vivek Goyal <vgoyal@in.ibm.com>
    
      A minor fix to the patch which remembers the location of where i8259 is
      connected.  Now counter i has been replaced by apic.  counter i is having
      some junk value which was leading to non-detection of i8259 connected to
      IOAPIC.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60923df35edab273d0bd8e829cdfdc5cfbb4fd2c
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Wed Jan 11 22:46:03 2006 +0100

    [PATCH] x86_64: allow setting RF in EFLAGS
    
    Setting RF (resume flag) allows a debugger to resume execution after a code
    breakpoint without tripping the breakpoint again.  It is reset by the CPU
    after executing one instruction.
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 100c0e36852a771864c56c31b260b7810b554170
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Wed Jan 11 22:46:00 2006 +0100

    [PATCH] x86_64: "invalid operand" -> "invalid opcode"
    
    The manual says Int 6 is "invalid opcode", not "invalid operand".
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68209407856507cda9d085470e8d28542ed1a941
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Wed Jan 11 22:45:57 2006 +0100

    [PATCH] x86_64: Sparse warnings fix.
    
     Fixes the following sparse warnings:
    
    arch/x86_64/kernel/mce_amd.c:321:29: warning: Using plain integer as NULL pointer
    arch/x86_64/kernel/mce_amd.c:410:41: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 915f34e20c20ee383832bce0a4bc962d0c86be8d
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:54 2006 +0100

    [PATCH] x86_64: Remove useless KDB vector
    
    It was set as an NMI, but the NMI bit always forces an interrupt
    to end up at vector 2. So it was never used. Remove.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e080e9d66fd276ed34bc2834eedc134189b87fc9
Author: Jason Uhlenkott <jasonuhl@sgi.com>
Date:   Wed Jan 11 22:45:51 2006 +0100

    [PATCH] x86_64: Don't claim too many vectors for TLB flushing
    
    It looks like the new scalable TLB flush code for x86_64 is claiming
    one more IRQ vector than it actually uses.
    
    Signed-off-by: Jason Uhlenkott <jasonuhl@sgi.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b22a3855127bb8221bc96e8e41064b3c5b2bf08
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:48 2006 +0100

    [PATCH] x86_64: Tell user to enable GART_IOMMU when needed
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7554c3f0e378161fb6315160d6c3e23bf2de5869
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:45 2006 +0100

    [PATCH] x86_64: Fix warning in nmi.c on uniprocessor kernels
    
    Fix
    
      CC      arch/x86_64/kernel/nmi.o
    linux/arch/x86_64/kernel/nmi.c: In function ???check_nmi_watchdog???:
    linux/arch/x86_64/kernel/nmi.c:155: warning: statement with no effect
    
    on Uniprocessor builds.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 365ba9179f84244d2ffa98e46ae3cddfeb2ef6ff
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:45:42 2006 +0100

    [PATCH] x86_64: Allocate PDAs in the local node
    
    Patch uses a static PDA array early at boot and reallocates processor PDA
    with node local memory when kmalloc is ready, just before pda_init.
    The boot_cpu_pda is needed since the cpu_pda is used even before pda_init for
    that cpu is called (to set the static per-cpu areas offset table etc)
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df79efde82952edc653fa6eb1338a82b87aa0585
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:45:39 2006 +0100

    [PATCH] x86_64: Node local pda take 2 -- cpu_pda preparation
    
    Helper patch to change cpu_pda users to use macros to access cpu_pda
    instead of the cpu_pda[] array.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05b3cbd8bb98736387df8a2e1efe311b1fb4d2ad
Author: Ravikiran Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:45:36 2006 +0100

    [PATCH] x86_64: Early initialization of cpu_to_node
    
    Patch enables early intialization of cpu_to_node.
    apicid_to_node is built by reading the SRAT table, from acpi_numa_init with
    ACPI_NUMA and k8_scan_nodes with K8_NUMA.
    x86_cpu_to_apicid is built by parsing the ACPI MADT table, from acpi_boot_init.
    We combine these two tables and setup cpu_to_node.
    
    Early intialization helps the static per_cpu_areas in getting pages from
    correct node.
    
    Change since last release:
    Do not initialize early init_cpu_to_node for faking node cases.
    
    Patch tested on TYAN dual core 4P board with K8 only, ACPI_NUMA.
    Tested on EM64T NUMA. Also tested with numa=off, numa=fake, and  running
    a kernel compiled with NUMA on a regular EM64 2 way SMP.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b91317e338f42367de6d53f5e14f273aae7d034
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:33 2006 +0100

    [PATCH] x86_64: Fix up white space in time.c
    
    No functional changes.
    
    And remove one redundant prototype.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c8bc9446a853f4f36475ce314808dd92201f74e
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:30 2006 +0100

    [PATCH] x86_64: Use standard __always_inline in vsyscall.c
    
    Replacing the old home brewn __force_inline.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 487472bc01fab0625996aad37836aad931e4eda9
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:27 2006 +0100

    [PATCH] i386: Replace broken serialize_cpu in microcode driver with correct sync_core
    
    Passing random input values in eax to cpuid is not a good idea
    because the CPU will GPF for unknown ones.
    Use the correct x86-64 version that exists for a longer time too.
    This also adds a memory barrier to prevent the optimizer from
    reordering.
    
    Cc: tigran@veritas.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c818a18146997d1356a4840b0c01f1168c16c8a4
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:24 2006 +0100

    [PATCH] x86_64: On Intel CPUs don't do an additional CPU sync before RDTSC
    
    RDTSC serialization using cpuid is not needed for Intel platforms.
    This increases gettimeofday performance.
    
    Cc: vojtech@suse.cz
    Cc: rohit.seth@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f6c5b046978d68e69bdc73433ead41612a2a1c9
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:21 2006 +0100

    [PATCH] x86_64: Support alternative() in vsyscalls
    
    The real vsyscall .text addresses are not mapped when the alternative()
    replacement runs early, so use some black magic to access them using
    the direct mapping.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e54d95f73bbc79171802a1983e0c3835676db88
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:18 2006 +0100

    [PATCH] x86_64: Support alternative() with a output argument.
    
    Needed for follow on patches
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 737c5c3bde5641af9c24e3a60366674af72a43ef
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:15 2006 +0100

    [PATCH] x86_64: Don't try to synchronize the TSC over CPUs on Intel CPUs at boot.
    
    They already do this in hardware and the Linux algorithm
    actually adds errors.
    
    Cc: mingo@elte.hu
    Cc: rohit.seth@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c0217511313a46039137d2dab30fdb1c5a65e64
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:12 2006 +0100

    [PATCH] x86_64: Fix compile error with !CONFIG_COMPAT
    
    cpumask.h wasn't included implicitely into proto.h in this case.
    Just move it over to smp.h
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b9d1e4bd6e44f2a75340226eb5f762e16bb4652f
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Wed Jan 11 22:45:09 2006 +0100

    [PATCH] x86_64: x86_64 write apic id fix
    
    o Apic id is in most significant 8 bits of APIC_ID register. Current code
      is trying to write apic id to least significant 8 bits. This patch fixes
      it.
    
    o This fix enables booting uni kdump capture kernel on a cpu with non-zero
      apic id.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aea9fca1dc8a1f9ac5d3b76ef04516a010cbf2e4
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Wed Jan 11 22:45:06 2006 +0100

    [PATCH] x86_64: Remove duplicate exports
    
    Remove exports that are already exported from the object's source file.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e3602824cb1172deeb0f2b286025753882b90b28
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Wed Jan 11 22:45:03 2006 +0100

    [PATCH] x86_64: unexport pci_*_consistent
    
    These functions are inlines and shouldn't be exported.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d0db401ee4ee08857b79f1d3be40e8a819f8992
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:45:00 2006 +0100

    [PATCH] x86_64: Remove unused apic_write_atomic
    
    This function is never used for x86_64.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4cef0c61380888af99b054937ed391fb28757836
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:57 2006 +0100

    [PATCH] x86_64: Make the cpu_*_maps in kernel/sched.c read mostly
    
    They are referred to often so avoid potential false sharing for them.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd78f11790c37e2165733699f50450500e63a7b3
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:54 2006 +0100

    [PATCH] i386: make pci_map_single/pci_map_sg warn for zero length.
    
    As suggested by Linus.
    
    This catches driver bugs that could cause corruption on IOMMU architectures.
    
    Also I converted the BUGs to out_of_line_bug()s to save a bit
    of text space.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3d831d925c6d66569a0c7f6f5f17c0927f7d3d25
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:51 2006 +0100

    [PATCH] x86_64: Enable sound in old style OSS driver for NForce4 CK804
    
    Just add the missing PCI ID.
    
    Cc: perex@suse.cz
    Cc: tiwai@suse.de
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4855170f9876c8b4a16f115f32cf6851bac1ffcc
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:48 2006 +0100

    [PATCH] x86_64: Make it clear in machine checks that it's an hardware problem
    
    Hopefully the users will take the hint.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2cbc9ee35c992f88fb2558a4f13920e3df4ef3bb
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:45 2006 +0100

    [PATCH] x86_64: Clean up copy_*_user
    
    - Remove optimization for old B stepping Opteron
    - Make the fast path for copies with a multiple of eight length faster.
    - Minor instruction rearrangement to hopefully avoid a pipeline
    stall or two.
    - Add comment about errata to consider.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17a941d854a3f7b0bb916fdeee4c9ffdcc19d8d3
Author: Muli Ben-Yehuda <mulix@mulix.org>
Date:   Wed Jan 11 22:44:42 2006 +0100

    [PATCH] x86_64: Use function pointers to call DMA mapping functions
    
    AK: I hacked Muli's original patch a lot and there were a lot
    of changes - all bugs are probably to blame on me now.
    There were also some changes in the fall back behaviour
    for swiotlb - in particular it doesn't try to use GFP_DMA
    now anymore. Also all DMA mapping operations use the
    same core dma_alloc_coherent code with proper fallbacks now.
    And various other changes and cleanups.
    
    Known problems: iommu=force swiotlb=force together breaks
                    needs more testing.
    
    This patch cleans up x86_64's DMA mapping dispatching code. Right now
    we have three possible IOMMU types: AGP GART, swiotlb and nommu, and
    in the future we will also have Xen's x86_64 swiotlb and other HW
    IOMMUs for x86_64. In order to support all of them cleanly, this
    patch:
    
    - introduces a struct dma_mapping_ops with function pointers for each
      of the DMA mapping operations of gart (AMD HW IOMMU), swiotlb
      (software IOMMU) and nommu (no IOMMU).
    
    - gets rid of:
    
      if (swiotlb)
          return swiotlb_xxx();
    
    - PCI_DMA_BUS_IS_PHYS is now checked against the dma_ops being set
    This makes swiotlb faster by avoiding double copying in some cases.
    
    Signed-Off-By: Muli Ben-Yehuda <mulix@mulix.org>
    Signed-Off-By: Jon D. Mason <jdmason@us.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a6fdd3e912e0ce6f723431d66baf704bf8a1d26
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:39 2006 +0100

    [PATCH] x86_64: Reject SRAT tables that don't cover all memory
    
    Broken BIOS on Iwill 8way systems reports these and it causes the bootmem
    allocator to crash. Add a sanity check if all the PXMs in the
    SRAT table cover all memory as reported by e820. If the sanity
    check fails the SRAT is rejected and the code will fall back
    to discover the NUMA topology using the K8 northbridge registers
    when applicable.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95833c83f3b812c78e48db4eaa19f6c74958470b
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:36 2006 +0100

    [PATCH] x86_64: Add idle notifiers
    
    This adds a new notifier chain that is called with IDLE_START
    when a CPU goes idle and IDLE_END when it goes out of idle.
    The context can be idle thread or interrupt context.
    
    Since we cannot rely on MONITOR/MWAIT existing the idle
    end check currently has to be done in all interrupt
    handlers.
    
    They were originally inspired by the similar s390 implementation.
    
    They have a variety of applications:
    - They will be needed for CONFIG_NO_IDLE_HZ
    - They can be used for oprofile to fix up the missing time
    in idle when performance counters don't tick.
    - They can be used for better C state management in ACPI
    - They could be used for microstate accounting.
    
    This is just infrastructure so far, no users.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b050f8075823b0d9ec4fad38f4f552b74e5c5af
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:33 2006 +0100

    [PATCH] x86_64: Clean up some printks in NUMA code
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d18ff47068154de8b4c1506be60a30a961846d18
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:30 2006 +0100

    [PATCH] x86_64: Fix up coding style in numa.c
    
    No functional changes
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca8642f606ce22de23bae08a5044067f98de855b
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:27 2006 +0100

    [PATCH] x86_64: Fix off by one in IOMMU check
    
    Fix off by one when checking if the machine has enougn memory to need IOMMU
    This caused the IOMMUs to be needlessly enabled for mem=4G
    
    Based on a patch from Jon Mason
    
    Signed-off-by: Jon Mason <jdmason@us.ibm.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d25bf7e5fe73b5b6d2246ab0be08ae35d718456b
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Wed Jan 11 22:44:24 2006 +0100

    [PATCH] x86_64: Handle missing local APIC timer interrupts on C3 state
    
    Whenever we see that a CPU is capable of C3 (during ACPI cstate init), we
    disable local APIC timer and switch to using a broadcast from external timer
    interrupt (IRQ 0).
    
    Patch below adds the code for x86_64.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6eb0a0fd059598ee0d49c6283ce25cccd743e9fc
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Wed Jan 11 22:44:21 2006 +0100

    [PATCH] i386: Handle missing local APIC timer interrupts on C3 state
    
    Whenever we see that a CPU is capable of C3 (during ACPI cstate init), we
    disable local APIC timer and switch to using a broadcast from external timer
    interrupt (IRQ 0). This is needed because Intel CPUs stop the local
    APIC timer in C3.  This is currently only enabled for Intel CPUs.
    
    Patch below adds the code for i386 and also the ACPI hunk.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a07a30c3cc4dc438494d6416ffa74008a2194b3
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Wed Jan 11 22:44:18 2006 +0100

    [PATCH] i386/x86-64: Remove sub jiffy profile timer support
    
    Remove the finer control of local APIC timer. We cannot provide a sub-jiffy
    control like this when we use broadcast from external timer in place of
    local APIC. Instead of removing this only on systems that may end up using
    broadcast from external timer (due to C3), I am going the
    "I'm feeling lucky" way to remove this fully. Basically, I am not sure about
    usefulness of this code today. Few other architectures also don't seem to
    support this today.
    
    If you are using profiling and fine grained control and don't like this going
    away in normal case, yell at me right now.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01b8faaef5d239aeabb1e712c5d9619f29e808dd
Author: John Blackwood <john.blackwood@ccur.com>
Date:   Wed Jan 11 22:44:15 2006 +0100

    [PATCH] x86_64: Report hardware breakpoints in user space when triggered by the kernel
    
    I would like to throw out a suggestion for a possible change in the way that
    the debug register traps are handled in do_debug() when the trap occurs
    in kernel-mode.
    
    In the x86_64 version of do_debug(), the code will skip around sending
    a SIGTRAP to the current task if the trap occurred while in kernel mode.
    
    On the i386-side of things, if the access happens to occur in kernel mode
    (say during a read(2) of user's buffer that matches the address of a
    debug register trap), then the do_debug() routine for i386 will go ahead
    and call send_sigtrap() and send the SIGTRAP signal.  The send_sigtrap()
    code will also set the info.si_addr to NULL in this case (even though I
    don't understand why, since the SIGTRAP siginfo processing doesn't use
    the si_addr field...).
    
    So I would like to suggest that the x86_64 do_debug() routine also
    follow this type of behavior and have it go ahead and send the
    SIGTRAP signal to the current task, even if the debug register trap
    happens to have occurred in kernel mode.  I have taken a stab at
    a patch for this change below.  (It includes the i386-ish change
    for setting si_addr to NULL when the trap occurred in kernel mode.)
    
    It seems like a useful feature to be able to 'watch' a user location that
    might also be modified in the kernel via a system service call, and have the
    debugger report that information back to the user, rather than to just
    silently ignore the trap.
    
    Additionally, I realize that users that pull in a kernel debugger such as
    KGDB into their kernel might want to remove this change below when they add
    in KGDB support.  However, they could alternatively look at the current
    task's thread.debugreg[] values to see if the trap occurred due to KGDB
    or instead because of a user-space debugger trap, and still honor the
    user SIGTRAP processing (instead of the KGDB breakpoint processing)
    if the trap matches up with the thread.debugreg[] registers.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4839057cafc9a508ad5906857e9c1d8707c875e3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 22:44:12 2006 +0100

    [PATCH] x86_64: "extern inline" -> "static inline" in pgtable.h
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66c581569e2cb41231b3fcd91a6c9f853d4d4e25
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:09 2006 +0100

    [PATCH] x86_64: Convert page fault error codes to symbolic constants.
    
    Much better to deal with these than with the magic numbers.
    
    And remove the comment describing the bits - kernel source
    is no replacement for an architecture manual.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf2fcc6fdfe4f4e92bb74f062c0a1be189f3a561
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:06 2006 +0100

    [PATCH] x86_64: Implement is_compat_task the right way
    
    By setting a flag during a 32bit system call only
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2966387b481a11a90a7bed6600fc17b4253f6980
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:03 2006 +0100

    [PATCH] x86_64: Implement compat code for sg driver SG_GET_REQUEST_TABLE ioctl
    
    Apparently helps with some non SANE scanner drivers.
    
    Cc: axboe@suse.de
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f95190b28daa1bebf78ab5ec4129d01a223982c5
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:44:00 2006 +0100

    [PATCH] x86_64: Remove unnecessary case from the page fault handler
    
    Don't need to do the vmalloc check for the module range because its
    PML4 is shared with the kernel text.
    
    Also removed an unnecessary TLB flush.
    
    Pointed out by Jan Beulich
    
    Cc: jbeulich@novell.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c11efdf94d3152443c11334720824bb6c7f6c655
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Wed Jan 11 22:43:57 2006 +0100

    [PATCH] x86_64: Align and pad x86_64 GDT on page boundary
    
    This patch is on the same lines as Zachary Amsden's i386 GDT page alignemnt
    patch in -mm, but for x86_64.
    
    Patch to align and pad x86_64 GDT on page boundries.
    
    [AK: some minor cleanups and fixed incorrect TLS initialization
    in CPU init.]
    
    Signed-off-by: Nippun Goel <nippung@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb33421dde79f9a36d5485c56335ff178ac7d268
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:54 2006 +0100

    [PATCH] x86_64: Allow compilation on a 32bit biarch toolchain
    
    This might help on distributions that use a 32bit biarch compiler.
    
    First pass -m64 by default.
    
    Secondly add some more .code32s because at least the Ubuntu biarch
    32bit as called by gcc doesn't seem to handle -m64 -m32 as generated
    by the Makefile without such assistance.
    
    And finally make sure the linker script can be preprocessed
    with a 32bit cpp.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79c62cf1789f935280138b412bb750be84aec747
Author: Ross Biro <ross.biro@gmail.com>
Date:   Wed Jan 11 22:43:51 2006 +0100

    [PATCH] x86_64: Make udelay more accurate
    
    The attempt to avoid overflow in __delay caused varying precision
    on different CPUs depending on differences in the CPU speed.
    
    We should be able to do this multiplication with out overflowing
    provided the
    cpu is running at less than about 128 GHz.  xloops < 20000 * 0x10c6.
    loops_per_jiffy * HZ <= cpu_clock_speed.  So if the cpu clock speed
    < 2^64/(20000 * 0x10c6) = 2^64/ 51E6CC0 < 2^64/2^27 = 2^37 = 128G we
    will not overflow the calculation.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4e94072d9c3b19662537cbd5e2d37bcaeed3d9b
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:48 2006 +0100

    [PATCH] x86_64: Return -1 for unknown PCI bus affinity
    
    When we don't know the node a PCI bus is connected to return -1.
    This matches the generic code.
    
    Noticed by Ravikiran G Thirumalai <kiran@scalex86.org>
    
    Cc: Ravikiran G Thirumalai <kiran@scalex86.org>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 819a692804a8d2d42b7bb033d2650dba47622149
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:45 2006 +0100

    [PATCH] x86_64: Handle unknown node (-1) in alloc_pages_node
    
    Following kmalloc_node.
    
    Needed for another patch to return -1 for unknown nodes in x86-64.
    
    Cc: Christoph Lameter <clameter@engr.sgi.com>
    Cc: kiran@scalex86.org
    Signed-off-by: Andi Kleen <ak@suse.de>
    [ Changed 0 to numa_node_id() on suggestion by Christoph Lameter ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1584b89c921acefe88881f08d836d80f00600a84
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:42 2006 +0100

    [PATCH] x86_64: Validate SLIT table
    
    A lot of Opteron BIOS just pass 10 in all SLIT entries (10 is the
    normalized unit). This is actually worse than the default heuristic
    because it leads to pci_distance not knowing the difference between
    local and remote nodes anymore. This messes up some NUMA
    heuristics in generic code.
    
    In this case it's better to fall back to the default heuristic
    which just does nodea == nodeb ? 10 : 20.
    
    This patch does some basic sanity checking on the SLIT and only accepts
    the SLIT when it passes.
    
    Invariants enforced are:
    - Node to itself shall be 10
    - Any other distance shouldn't be 10
    - Distances smaller than 10 are illegal
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a4a76cc1057de0dc96ee481590347aa8c5b9ffb
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:39 2006 +0100

    [PATCH] x86_64: Fix off by one in acpi table mapping
    
    And fix the test to include the size
    
    Noticed by Vivek Goyal
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7180d4fb83085fef9d24b353f5bd79cf6fd98447
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:43:36 2006 +0100

    [PATCH] x86_64: Fix 64bit FXSAVE encoding
    
    The separation of the rex64 prefix (on fxsave/fxrstor) by way of using
    a semicolon resulted in the prefix not always taking effect (because
    when extended registers are needed for addressing, another rex prefix
    would have been generated by the compiler), thus (depending on the
    build) resulting in eventually getting 32-bit saves and/or restores.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e99286744599a66195de4cd975d7ef4d643c2789
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:33 2006 +0100

    [PATCH] x86_64: Generalize DMI and enable for x86-64
    
    Some people need it now on 64bit so reuse the i386 code for
    x86-64. This will be also useful for future bug workarounds.
    
    It is a bit simplified there because there is no need
    to do it very early on x86-64. This means it doesn't need
    early ioremap et.al. We run it as a core initcall right now.
    
    I hope it's not needed for early setup.
    
    I added a general CONFIG_DMI symbol in case IA64 or someone
    else wants to reuse the code later too.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b347d25fbc4616f4f37895e9afbe25b2bbc7e11f
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:30 2006 +0100

    [PATCH] x86_64: Remove bogus file in arch/x86_64/pci
    
    This was a backup file that somehow made it into the official
    tree. Never used for anything. Remove.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f46ace69282e9791757ec7d7b130285124ec10d0
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:43:27 2006 +0100

    [PATCH] x86_64: Add missing newline in IOMMU error message
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 636dd2b7def5c9c72551b51d4d516a65c269de08
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 11 22:43:24 2006 +0100

    [PATCH] x86_64: fls in asm for x86_64
    
    Use single instruction for find largest set bit on x86_64.
    
    [Updated by Jan Beulich to fix wrong asm constraints in original
    patch -AK]
    
    Cc: jbeulich@novell.com
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd9cb64df1d99c07ea9672661ede6ca3ba5c6579
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:43:21 2006 +0100

    [PATCH] x86_64: fix page fault from show_trace()
    
    The introduction of call_softirq switching to the interrupt stack several
    releases earlier resulted in a problem with the code in show_trace, which
    assumes that it can pick the previous stack pointer from the end of the
    interrupt stack.
    
    Cc: Andi Kleen <ak@muc.de>
    Cc: Arjan van de Ven <arjanv@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4724e3e86d806860c90917f9b73d4354e388b39b
Author: Peter Beutner <p.beutner@gmx.net>
Date:   Wed Jan 11 22:43:18 2006 +0100

    [PATCH] x86_64: fix single step handling for 32bit processes
    
    Be more careful with TF handling to fix some copy protection codes in wine
    
    patch originally for i386 by Linus, then ported to x86_64 by Andi Kleen
    see: [PATCH] x86_64: Some fixes for single step handling
    commit: be61bff789fe44bfb6d9282d8f7eccc860bdcfb6
    
    But it was never applied to the ia32 emulation code which breaks some
    copy-protection schemes under wine when running on x86_64.
    
    Signed-off-by: Peter Beutner <p.beutner@gmx.net>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60917a3832547886549962ab9ee753253cf5e44c
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Wed Jan 11 22:43:15 2006 +0100

    [PATCH] x86_64: don't save eflags in x86-64 switch_to()
    
    As discussed, the flags register on x86-64 is saved and restored by the
    assembly code which sets up struct pt_regs, so we do not need to save
    and restore it in the inline assembler which already informs gcc that
    we're clobbering the flags.  This patch has been sanity booted and works
    okay here.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e3fbee5f11a8135109b08bfcbc05a29eb4eabe8
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Wed Jan 11 22:43:12 2006 +0100

    [PATCH] i386/x86-64: Don't IPI to offline cpus on shutdown
    
    So why are we calling smp_send_stop from machine_halt?
    
    We don't.
    
    Looking more closely at the bug report the problem here
    is that halt -p is called which triggers not a halt but
    an attempt to power off.
    
    machine_power_off calls machine_shutdown which calls smp_send_stop.
    
    If pm_power_off is set we should never make it out machine_power_off
    to the call of do_exit.  So pm_power_off must not be set in this case.
    When pm_power_off is not set we expect machine_power_off to devolve
    into machine_halt.
    
    So how do we fix this?
    
    Playing too much with smp_send_stop is dangerous because it
    must also be safe to be called from panic.
    
    It looks like the obviously correct fix is to only call
    machine_shutdown when pm_power_off is defined.  Doing
    that will make Andi's assumption about not scheduling
    true and generally simplify what must be supported.
    
    This turns machine_power_off into a noop like machine_halt
    when pm_power_off is not defined.
    
    If the expected behavior is that sys_reboot(LINUX_REBOOT_CMD_POWER_OFF)
    becomes sys_reboot(LINUX_REBOOT_CMD_HALT) if pm_power_off is NULL
    this is not quite a comprehensive fix as we pass a different parameter
    to the reboot notifier and we set system_state to a different value
    before calling device_shutdown().
    
    Unfortunately any fix more comprehensive I can think of is not
    obviously correct.  The core problem is that there is no architecture
    independent way to detect if machine_power will become a noop, without
    calling it.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 329d400f47ddfe8ff599823d739c5c5565da3207
Author: Zwane Mwaikambo <zwane@arm.linux.org.uk>
Date:   Wed Jan 11 22:43:09 2006 +0100

    [PATCH] x86_64/i386: Remove preempt disable calls in lowlevel IPI
    
    I noticed that some lowlevel send_IPI_mask helpers had a hotplug/preempt
    race whereupon the cpu_online_map was read before disabling preemption;
    
    ...
    cpumask_t mask = cpu_online_map;
    int cpu = get_cpu();
    cpu_clear(cpu, mask);
    ...
    
    But then i realised that there is no need for these lowlevel functions to
    be going through all this trouble when all the callers are already made
    hotplug/preempt safe.
    
    Signed-off-by: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 73ca5358aab55e2e29993a31f3776c54c05ae729
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Wed Jan 11 22:43:06 2006 +0100

    [PATCH] x86_64: increase MCE bank counts
    
    There is one CPU here whose MCE bank count is 6. This patch increases
    x86_64's MCE bank count.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f2ecfab91c6f248cf71dff66c2111d31c8cc1747
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Wed Jan 11 22:43:03 2006 +0100

    [PATCH] x86_64: another mb() for smpboot.c
    
    The following is probably a good idea given that the atomic_set() isn't
    a barrier here either.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b556b35e98ad2b9174a7a623d152cdf412d1a999
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:43:00 2006 +0100

    [PATCH] x86_64: Move int 3 handler to debug stack and allow to increase it.
    
    This
    - switches the INT3 handler to run on an IST stack (to cope with
      breakpoints set by a kernel debugger on places where the kernel's
      %gs base hasn't been set up, yet); the IST stack used is shared with
      the INT1 handler's
    [AK: this also allows setting a kprobe on the interrupt/exception entry
    points]
    - allows nesting of INT1/INT3 handlers so that one can, with a kernel
      debugger, debug (at least) the user-mode portions of the INT1/INT3
      handling; the nesting isn't actively enabled here since a kernel-
      debugger-free kernel doesn't need it
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed8388a5d9db0445322f86ee8381b0f04a2057ee
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:57 2006 +0100

    [PATCH] x86_64: Don't confuse apic=... command line option with apic
    
    Previously apic was foced with apic=logopt was specified.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c0ac555b0b927ee0b3ca6200617f43dbdbaffb8
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:54 2006 +0100

    [PATCH] x86_64: Dont't disable early PCI scan with apic
    
    It might be still needed for non APIC related issues.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f98bc4991df8e7b5972489b4632e1e5c03cd1ee
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:51 2006 +0100

    [PATCH] i386/x86-64: Update AMD CPUID flags
    
    Print bits for RDTSCP, SVM, CR8-LEGACY.
    
    Also now print power flags on i386 like x86-64 always did.
    This will add a new line in the 386 cpuinfo, but that shouldn't
    be an issue - did that in the past too and I haven't heard
    of any breakage.
    
    I shrunk some of the fields in the i386 cpuinfo_x86 to chars
    to make up for the new int "x86_power" field. Overall it's
    smaller than before.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 152bf8c55d657898c40c8ed270630c0cf9d51f7d
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:48 2006 +0100

    [PATCH] x86_64: Use X86_FEATURE_CONSTANT_TSC now to clean up Intel speedstep drivers
    
    They previously tried to figure this out on their own.
    
    Suggested by Venkatesh.
    
    Cc: venkatesh.pallipadi@intel.com
    Cc: davej@redhat.com
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39b3a7910556005a7a0d042ecb7ff98bfa84ea57
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:45 2006 +0100

    [PATCH] i386/x86-64: Generalize X86_FEATURE_CONSTANT_TSC flag
    
    Define it for i386 too.
    
    This is a synthetic flag that signifies that the CPU's TSC runs
    at a constant P state invariant frequency.
    
    Fix up the logic on x86-64/i386 to set it on all known CPUs.
    Use the AMD defined bit to set it on future AMD CPUs.
    
    Cc: venkatesh.pallipadi@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d52ede9876ba566b583f255fdc43800eea81baa
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:42 2006 +0100

    [PATCH] x86_64: Remove enable/disable_hlt
    
    Was only used by the floppy driver to work around some ancient
    hardware bug that should never occur on any 64bit system.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7eb903f4a5c35c8310f0aa7b0e94aae0b826d837
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:39 2006 +0100

    [PATCH] x86_64: Add documentation for CPU hotplug ACPI extension
    
    Cc: len.brown@intel.com, ashok.ray@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f62a91f6911479642c0018290d4248ace4287648
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:35 2006 +0100

    [PATCH] x86_64: Don't reserve hotplug CPUs by default
    
    Most users don't need it so no need to waste memory.
    This means an user has to specify the appropiate number of
    hotplug CPUs on the command line with additional_cpus=...
    or fix their BIOS to follow the convention in
    Documentation/x86-64/cpu-hotplug-spec
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 92934bcbf96bc9dc931c40ca5f1a57685b7b813b
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:32 2006 +0100

    [PATCH] i386/x86-64: Use input/output dependencies for bitops
    
    Noticed by Andreas Schwab
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 636aab5ce332d88a76362797a55804c7da643467
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:29 2006 +0100

    [PATCH] x86_64: No need to remove NT during CPU setup
    
    head.S already clears EFLAGS completely. Following an i386 patch from
    Zachary Amsden.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f6818b90dbb887261c616a318733703ed526f0a
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:26 2006 +0100

    [PATCH] x86_64: Minor GFP_DMA32 comment fix
    
    Pretty obvious
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b1bde93175182d7c11d9a1230b2210a5815e747
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:23 2006 +0100

    [PATCH] x86_64: Adjust page fault handling
    
    Adjust page fault protection error check before considering it to be
    a vmalloc synchronization candidate.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 505cc4e1d6885acaee008950ac9c6e838f2209f8
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:20 2006 +0100

    [PATCH] x86_64: Remove unprotected iret
    
    Make sure no iret can fault without attached recovery code.
    Cannot happen in the normal case, but might be useful
    with kernel debuggers
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eca37c18beb306dd9dea4579d7214e1b4414b3fb
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:17 2006 +0100

    [PATCH] x86_64: Clean up double fault handling
    
    Since a double fault always implies that kernel data structures are
    corrupt, this fault should neither be handed to user mode handling,
    nor should the handler allow resuming the faulting code stream (since
    architecturally this isn't a fault, but an abort).
    
    Note that this slightly depends on the previously submitted patch
    adjusting the prototype of notify_die() (a compiler warning will result
    without that other patch).
    
    AK: Removed obsolete CONFIG_CHECKING code, added comments
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e3f361781573a27296c77a79c9892dec8f2e36c
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:14 2006 +0100

    [PATCH] x86_64: make trap information available to die notification handlers
    
    This adjusts things so that handlers of the die() notifier will have
    sufficient information about the trap currently being handled. It also
    adjusts the notify_die() prototype to (again) match that of i386.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c617cfa6422bfba9e79d8d004303a6cc3d2e7d7
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:11 2006 +0100

    [PATCH] x86_64: Removing unused function die_if_kernel().
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a5215882166dd33a95b313637dd318e4c143113
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:08 2006 +0100

    [PATCH] x86_64: fix bound check IDT gate
    
    Other than apparently commonly assumed, the bound instruction does not
    require the corresponding IDT entry to have DPL 3.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e0c47ede7b1473a4e2ab65a0fecf0385ab23c03
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:42:05 2006 +0100

    [PATCH] x86_64: Separate CONFIG_UNWIND_INFO from CONFIG_DEBUG_INFO
    
    As a follow-up to the introduction of CONFIG_UNWIND_INFO, this
    separates the generation of frame unwind information for x86-64 from
    that of full debug information.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 130951ccb14167c20b87e8bed52b60864ed53c2b
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:42:02 2006 +0100

    [PATCH] x86_64: Support constant TSC feature in future AMD CPUs.
    
    Based on the documentation recently posted by Richard Brunner.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2765130b020c22f803afba74772f33f2ad13bf28
Author: Jan Beulich <jbeulich@novell.com>
Date:   Wed Jan 11 22:41:59 2006 +0100

    [PATCH] x86_64: More CFI fixes for 32bit entry code
    
    Frame unwind information was still incorrect for ia32_ptregs_common
    (sorry, my fault), and could be improved for some of the other entry
    points.
    
    Signed-Off-By: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6076399e9561a92388ed320dc7105595f8db1ba9
Author: Andi Kleen <ak@suse.de>
Date:   Wed Jan 11 22:41:56 2006 +0100

    [PATCH] x86_64: Update defconfig
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d8706e2f86d28814c1b40a116ffdeca35e4c949
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Jan 11 12:17:49 2006 -0800

    [PATCH] lindent rio drivers
    
    Run all rio files through indent -kr -i8 -bri0 -l255, as requested by Alan.
    
    rioboot.c and rioinit.c were skipped due to worrisome lindent warnings.
    
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9415644583ef344e02f84faf5fe24bfadb2af8e
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Jan 11 12:17:48 2006 -0800

    [PATCH] capable/capability.h (arch/)
    
    arch: Use <linux/capability.h> where capable() is used.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4fc268d24ceb9f4150777c1b5b2b8e6214e56b2b
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Jan 11 12:17:47 2006 -0800

    [PATCH] capable/capability.h (net/)
    
    net: Use <linux/capability.h> where capable() is used.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16f7e0fe2ecc30f30652e8185e1772cdebe39109
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Jan 11 12:17:46 2006 -0800

    [PATCH] capable/capability.h (fs/)
    
    fs: Use <linux/capability.h> where capable() is used.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Acked-by: Tim Schmielau <tim@physik3.uni-rostock.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c59ede7b78db329949d9cdcd7064e22d357560ef
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Jan 11 12:17:46 2006 -0800

    [PATCH] move capable() to capability.h
    
    - Move capable() from sched.h to capability.h;
    
    - Use <linux/capability.h> where capable() is used
    	(in include/, block/, ipc/, kernel/, a few drivers/,
    	mm/, security/, & sound/;
    	many more drivers/ to go)
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e16885c5ad624a6efe1b1bf764e075d75f65a788
Author: Ingo Molnar <mingo@elte.hu>
Date:   Wed Jan 11 12:17:45 2006 -0800

    [PATCH] uninline capable()
    
    Uninline capable().  Saves 2K of kernel text on a generic .config, and 1K on a
    tiny config.  In addition it makes the use of capable more consistent between
    CONFIG_SECURITY and !CONFIG_SECURITY
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9fad4cc3975573a359a92ad047f5995d8391631
Author: Matt Domsch <Matt_Domsch@dell.com>
Date:   Wed Jan 11 12:17:44 2006 -0800

    [PATCH] ipmi: use CONFIG_DMI instead of CONFIG_X86
    
    With Andi Kleen's x86_64 patch to use DMI, and my ia64 to use DMI, there is
    now a new CONFIG_DMI option which takes the place of CONFIG_X86 to denote
    the availability of the DMI functions.  Make the IPMI driver use CONFIG_DMI
    instead.
    
    Tested on ia64 2.6.15 kernel plus the previous patch, on a Dell PowerEdge
    7250 Itanium2 server, and it now autodetects the IPMI KCS driver as
    expected.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Acked-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c908a74d90e693d9079f4238012d43b06231a70
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Wed Jan 11 12:17:43 2006 -0800

    [PATCH] remove unused out_pio label in i810_audio
    
    sound/oss/i810_audio.c:3431: warning: label `out_pio' defined but not used
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb3a72921c8276bf2cd028a458bb83435f16c91c
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Wed Jan 11 12:17:42 2006 -0800

    [PATCH] kprobes: fix race in recovery of reentrant probe
    
    There is a window where a probe gets removed right after the probe is hit
    on some different cpu.  In this case probe handlers can't find a matching
    probe instance related to break address.  In this case we need to read the
    original instruction at break address to see if that is not a break/int3
    instruction and recover safely.
    
    Previous code had a bug where we were not checking for the above race in
    case of reentrant probes and the below patch fixes this race.
    
    Tested on IA64, Powerpc, x86_64.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df019b1d8b893d0f0ee5a9b0f71486f0892561ae
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Wed Jan 11 12:17:41 2006 -0800

    [PATCH] kprobes: fix unloading of self probed module
    
    When a kprobes modules is written in such a way that probes are inserted on
    itself, then unload of that moudle was not possible due to reference
    couning on the same module.
    
    The below patch makes a check and incrementes the module refcount only if
    it is not a self probed module.
    
    We need to allow modules to probe themself for kprobes performance
    measurements
    
    This patch has been tested on several x86_64, ppc64 and IA64 architectures.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ef43bc4fc32bec8fda7bae8948b774616dc9e496
Author: Jan Kara <jack@suse.cz>
Date:   Wed Jan 11 12:17:40 2006 -0800

    [PATCH] reiserfs: fix assertion failure in reiserfs+journaled quotas
    
    Sometimes we call do_journal_end() with t_refcount == 0.  If quota is
    turned on and we happen to have some inode with preallocation bad things
    happen as we try to use the current handle for quota operations.  Checks
    for t_refcount in journal_begin() fail and we Oops.  We raise t_refcount to
    make those checks happy.  We should not cause any bad as all the needed
    quota blocks should be already attached to the transaction (they were
    attached to the transaction when we allocated those preallocation blocks).
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Cc: Chris Mason <mason@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c8365ecc57f87e4d982c3fe59a4c1b985484e7f
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Wed Jan 11 12:17:39 2006 -0800

    [PATCH] synclink_gt remove unnecessary page alignment
    
    Remove unnecessary and incorrectly implemented page alignment of register
    base address before calling ioremap()
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d251575ab60ca2b5337574bfaf8f8b583f18059e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Jan 11 12:17:38 2006 -0800

    [PATCH] random: get rid of sparse warning
    
    Get rid of bogus extern attribute that causes sparse warning.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Acked-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c174af880d02f29599178284bb43f8d4f0fdcd8
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 11 12:17:37 2006 -0800

    [PATCH] MAINTAINERS: remove dead project
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e9e3941d0a3497c1e7fb9ce62059705825bb775
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Wed Jan 11 12:17:37 2006 -0800

    [PATCH] kdump: vmcore compilation warning fix
    
    o fs/proc/vmcore.c compilation gives warnings on ppc64. The reason being
      that u64 is defined as unsigned long hence u64* is not same as loff_t*
      and compiler cribs.
    
    o Changed the parameter type to u64* instead of loff_t* to resolve the
      conflict.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd85d765b75db608500c783e5bc41b63627957c8
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Jan 11 12:17:36 2006 -0800

    [PATCH] cs89x0: Fix the Kconfig help text
    
    Fix the help text of the cs89x0 network driver Kconfig entry.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91e1c46356beddf984ce0ce5ec4fbaea43a07ec8
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Jan 11 12:17:34 2006 -0800

    [PATCH] cs89x0: fix setting of ALLOW_DMA
    
    There's an ifdef in cs89x0.c that seems to have been the wrong way round
    since it was merged (and noone seems to have noticed) -- the IXDP2x01
    doesn't support ISA-style DMA, but when building for IXDP2x01, cs89x0's
    ALLOW_DMA is set to 1, and when building for another platform, ALLOW_DMA is
    set to 0.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ab2495a30bb3de1cfe41a886f83afb68616ab7d
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 11 12:17:33 2006 -0800

    [PATCH] tclk: fix typos, exclamation mark frenzy and missing device id on messages
    
    I sent this out a couple of months ago and the driver author said it
    he'd merge it. Nothing has happened since so I'm submitting it directly.
    
    No functionality changes just texts.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7599587faea9403edf4d7f74e80b3c9ea217930
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Jan 11 12:17:32 2006 -0800

    [PATCH] Allow reading CMOS day of week register
    
    Someone wanted access to this usually unused (and unused by Linux) value
    for the day of week.  Existing kernels have the field in the struct but
    return 0 always.  This updates the kernel to fill in the field.  The usual
    case of 'not set' conveniently is 0.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e56d5ae305b9be17edfee20740ec84257e518747
Author: Tore Anderson <tore@fud.no>
Date:   Wed Jan 11 12:17:31 2006 -0800

    [PATCH] ext3: fix documentation of online resizing
    
    Undocument the non-working resize= mount option in ext3, and add some
    references to the ext2resize package instead, which appears to be the only
    proper way of doing online resizing of ext3 filesystems.
    
    Signed-off-by: Tore Anderson <tore@fud.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 75ba0861bcc64634166124f164dcc05b6393c0ee
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Wed Jan 11 12:17:31 2006 -0800

    [PATCH] doc: refer to kdump in oops-tracing.txt
    
    Kdump has been merged and supported on several architectures.  It is better
    to encourage to use kdump rather than non standard kernel crash dump
    patches.
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8428cfe893c1f13eb22cd879669f12b65900738f
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Wed Jan 11 12:17:30 2006 -0800

    [PATCH] kdump: add dmesg gdbmacro into document
    
    Add gdb macro which print the kernel ring buffer into kdump docs
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit beb25c6e27b21d0c0f7b9c2769fa334f1f9a8c2c
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:29 2006 -0800

    [PATCH] uml: kill an unused variable
    
    The HDIO_GETGEO patch left an unused variable in the UML block driver.  This
    gets rid of it.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 621009f4baf24581211dbb7b0816e01ed9fa8496
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:28 2006 -0800

    [PATCH] uml: fix debug output on x86_64
    
    The debug-stub patch was broken on x86_64 because it thinks the frame size
    there is 168 words.  In reality, it is 168 bytes, and using HOST_FRAME_SIZE,
    which is expressed in consistent units across architectures, fixes this.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a174b30e2963a02e9657f4ac69b2b500993bf0d4
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:28 2006 -0800

    [PATCH] uml: eliminate doubled boot output
    
    CON_PRINTBUFFER was a bad idea for the mconsole console.  It causes the boot
    output to be printed twice.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit edc0e6595616db3f34229077f30eb0616d1e0b84
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:27 2006 -0800

    [PATCH] uml: revert compile-time option checking
    
    Undo the previous no-modes patch since Adrian Bunk sent in a kbuild way of
    doing the same thing.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 114d1ff4f551c8cc940de71b03c5b7365b4124f5
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:26 2006 -0800

    [PATCH] uml: update Kconfig help
    
    The MODE_TT help was a little outdated.  This updates it in light of the
    existence of skas0 mode.  It's also turned off by default since it is mostly
    obsoleted by skas0 mode.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ee189a9260849ebacbdd3caf1fd5eb077fcf6a9
Author: Jeff Dike <jdike@addtoit.com>
Date:   Wed Jan 11 12:17:23 2006 -0800

    [PATCH] uml: fix missing KBUILD_BASENAME
    
    2.6.15-mm1 caused kernel-offsets.c to stop compiling with a syntax error in a
    header.  The problem was with KBUILD_BASENAME, which didn't get a definition
    with the by-hand compilation in the main UML Makefile.
    
    This was OK before since the expansion was syntactically the same as the
    KBUILD_BASENAME token.  With -mm1, the expansion is now a quote-delimited
    string, so there needs to be a definition of it.
    
    Since kernel-offsets.c is basically the same as other arches' asm-offsets.c,
    and those seem to build OK, this patch turns kernel-offsets.c into
    asm-offsets.c.  kernel-offsets.c is in arch/um/sys-$(SUBARCH), i.e.  sys-i386
    and sys-x86_64, while kbuild expects it to be in arch/um/kernel.
    kernel-offsets.c is moved to
    arch/um/include/sysdep-$(SUBARCH)/kernel-offsets.h, which is included by
    arch/um/kernel/asm-offsets.c.  With that, include/asm-um/asm-offsets.h is
    generated automatically.  kernel-offsets.h continues to exist because it needs
    to be accessible to userspace UML code, and include/asm-um isn't.  So, a
    symlink is made from arch/um/include/kernel-offsets.h to
    include/asm-um/asm-offsets.h.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10b5aabddd1e8f26fdccc56666ddcad653e02fd6
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 12:17:20 2006 -0800

    [PATCH] include/asm-h8300/page.h: remove unused KTHREAD_SIZE #define
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Yoshinori Sato <ysato@users.sourceforge.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4eac915d02453e81a32595cd7423492c81337a26
Author: Paul Jackson <pj@sgi.com>
Date:   Wed Jan 11 12:17:19 2006 -0800

    [PATCH] mm: gfp_atomic comments
    
    Clarify in comments that GFP_ATOMIC means both "don't sleep" and "use
    emergency pools", hence both ALLOC_HARDER and ALLOC_HIGH.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7365f3d169a1eae00e713c1a4eea90e86415dcc5
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Jan 11 12:17:18 2006 -0800

    [PATCH] Restore KERN_EMERG to each line printed by bad_page
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9cfc08d640e1586e76eee63cc2b0a9360bc7c7e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 23:57:55 2006 -0200

    V4L/DVB (3354): VIDEO_SAA7134_ALSA shouldn't select SND_PCM_OSS
    
    - There's no reason for an ALSA driver to select an OSS legacy userspace
    interface.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ddae9c2ea79449beb00027cf77fca6dc489f2d15
Merge: 0d1335b... a4fc7ab...
Author: Nathan Scott <nathans@bruce>
Date:   Thu Jan 12 13:34:47 2006 +1100

    Merge HEAD from oss.sgi.com:/oss/git/linux-2.6.git

commit a113bc787e9b0e792f316e803b619d31af1397ad
Author: Guy Martin <gmsoft@tuxicoman.be>
Date:   Wed Jan 11 23:40:51 2006 -0200

    V4L/DVB (3352): Some fixes to compat_ioctl32
    
    - Adds suppport or fix support for VIDIOC_ENUMSTD, VIDIOC_ENUMINPUT,
    VIDIOC_G_TUNER and VIDIOC_S_TUNER.
    - Fix the warnings at compile time and add checks for the pointer validity
    using access_ok().
    - v4l_print_ioctl() has also be added to identify possible missing ioctls.
    - Has been tested on sparc64 and amd64. Other arches such as mips and hppa
    are expected to work as sparc, but not tested yet.
    
    Signed-off-by: Guy Martin <gmsoft@tuxicoman.be>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f8bf134d5f697311c04e867b6733d047a4b55a12
Author: Regis Prevot <regis.prevot@anevia.com>
Date:   Wed Jan 11 23:31:53 2006 -0200

    V4L/DVB (3351): adding support for knc1 Tv Star dvb-s
    
    - Added knc1 tv star dvb-s support with philips tuner sd1878.
    
    Signed-off-by: Regis Prevot <regis.prevot@anevia.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ac9ffb90b8d0d28e3d9e5b5a045ee870a6269b5f
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Wed Jan 11 23:21:00 2006 -0200

    V4L/DVB (3350): Added USB ID for DigitalNow DVB-T Dual USB, DViCO clone
    
    - Added USB ID for DigitalNow DVB-T Dual USB,
    DViCO FusionHDTV DVB-T Dual USB clone
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 6bfb2e1f19a3fb68cf82f6ad44c34f4bcf9d4e9f
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Wed Jan 11 22:52:28 2006 -0200

    V4L/DVB (3349): Add PCI ID for UltraView DVB-T Plus, rebranded DViCO FusionHDTV DVB-T Plus
    
    - Add PCI ID for UltraView DVB-T Plus,rebranded DViCO FusionHDTV DVB-T Plus
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit b5fc71440f63f653d86c75c2930fe22ad84c909d
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Wed Jan 11 22:41:36 2006 -0200

    V4L/DVB (3348): debug renamed to cx25840_debug
    
    - Debug var renamed to cx25840 to avoid conflicts with other
    var with the same name at kernel
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 45ed344cc7b6456856b4ae5e3d81cdb18b98f8ad
Merge: 99535ac... bb7e8c5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 11 17:06:47 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 99535ac2d4d95dbcad6b8d8a04ea57a891fb533b
Merge: 607f4e3... 61943c5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 11 17:06:31 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit bb7e8c5a55c1f5d4192f4b61a84a791796ebf0c3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 16:40:30 2006 -0800

    [PKT_SCHED] net/sched/Kconfig: fix typo in NET_EMATCH_META description
    
    Noted by Matt LaPlante <webmaster@cyberdogtech.com>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 54608b709963b4f474ea26c1a087409eb0d9bebf
Author: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
Date:   Wed Jan 11 16:13:46 2006 -0800

    [PKT_SCHED] ematch: Remove bogus include.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c3f343e4d7b99638b8a4f05c12b542d32405cfc4
Author: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
Date:   Wed Jan 11 16:12:41 2006 -0800

    [NET]: Fix diverter build.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8b3a70058bfe711b2d05ba2134178bae623183ce
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Wed Jan 11 15:56:43 2006 -0800

    [NET]: Remove more unneeded typecasts on *malloc()
    
    This removes more unneeded casts on the return value for kmalloc(),
    sock_kmalloc(), and vmalloc().
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ae0f7d5f83236a43c572a744e4bbb30e8702d821
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 11 15:53:04 2006 -0800

    [IPV6]: Avoid calling ip6_xmit() with NULL sk
    
    The ip6_xmit() function now assumes that its sk argument is non-NULL,
    which isn't currently true when TCPv6 code is sending RST or ACK
    packets. This fixes that code to use a socket of its own for sending
    such packets, as TCPv4 does. (Thanks Andi for the pointer).
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a7768097557be91d0d4c37e8f2e38cd126c4cdf9
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 11 15:39:14 2006 -0800

    [NETFILTER]: ip_ct_proto_gre_fini() cannot be __exit
    
    It is invoked from failures paths of __init code.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 82bf7e97ac5b9fd03aea10df6910cad50d6c032d
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 11 15:38:28 2006 -0800

    [NET]: Some more missing include/etherdevice.h includes
    
    For compare_ether_addr()
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 607f4e3864a4306be0d0ad11ff34284c239aad1b
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Wed Jan 11 17:51:48 2006 -0600

    [PATCH] new tty buffering access fix
    
    Fix typos in new tty buffering that incorrectly
    access and update buffers in pending queue.
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Acked-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 61943c5015acae42fe355bf033bbee8d63691fe3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 15:55:23 2006 -0800

    [SPARC64] arch/sparc64/Kconfig: fix HUGETLB_PAGE_SIZE_64K dependencies
    
    This patch fixes a typo in the dependencies of HUGETLB_PAGE_SIZE_64K.
    
    It might be more logical to rename the HUGETLB_PAGE_SIZE_*K
    dependencies to HUGETLB_PAGE_SIZE_*KB, but let's fix this bug first.
    
    This bug was reported by Jean-Luc Leger <reiga@dspnet.fr.eu.org>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4cec87361462d570d6a67888feda41e77e0a9562
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 11 15:50:47 2006 -0800

    Fix mutex_trylock() copy-and-paste bug (x86, x86-64, generic mutex-dec.h)
    
    Noticed by Arjan originally on x86-64, then Ingo on x86, and finally me
    grepping for it in the generic version.
    
    Bad parenthesis nesting.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d1335b3106687d87fcfa0e4d90f2a961bd7e1db
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Jan 12 10:32:51 2006 +1100

    [XFS] Fix follow_link when dealing with symlinks larger than 256 bytes.
    Thanks to Yamamoto Takashi.
    
    SGI-PV: 947953
    SGI-Modid: xfs-linux-melb:xfs-kern:24962a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 3762ec6bf76cdd32653c409dbad09f7b85807c68
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Jan 12 10:29:53 2006 +1100

    [XFS] Merge in trivial changes, sync up headers with userspace
    equivalents.
    
    SGI-PV: 907752
    SGI-Modid: xfs-linux-melb:xfs-kern:24961a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f9195ded25a4e8fba09c67aa24b42cd98a242d7d
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Wed Jan 11 19:01:01 2006 -0200

    V4L/DVB (3347): Fixes some bad global variables
    
    - Debug global var is already used inside kernel, so renamed
    debug to tuner_debug for the tuner module
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f167cb4e6ee07914b66eb85fc0bf006a409b6838
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Wed Jan 11 19:41:49 2006 -0200

    V4L/DVB (3345): Fixes some bad global variables
    
    
    - Debug global var is already used inside kernel.
    - v4l_dbg now expects the debug var
    - global vars inside msp34xx renamed to msp_*
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit b2a17e47ceb82d23dbf5c5fb24b5377e21486dce
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Wed Jan 11 19:41:40 2006 -0200

    V4L/DVB (3344f): Stradis Kconfig url changed
    
    
    http://www.stradis.com/decoder.html returns `No input file specified.'
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit f823f6793659e63f9f22d3d7617a457806d6d69a
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Wed Jan 11 19:41:32 2006 -0200

    V4L/DVB (3344e): Stradis Lindent
    
    
    Stradis Lindent + some handwork
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 91fb8357c3e097a46eb6e92d03b284182172ce80
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Wed Jan 11 19:41:21 2006 -0200

    V4L/DVB (3344d): Stradis video little cleanup
    
    
    Unused function removed.
    Used container_of instead of for loop.
    Some small changes
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 9ae82293ff3a3057d939b4f56d57eeea2f91bbec
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Wed Jan 11 19:41:13 2006 -0200

    V4L/DVB (3344c): Pci probing for stradis driver
    
    
    - Pci probing functions added, some functions were rewritten.
    
    - Use PCI_DEVICE macro.
    
    - dev_ used for printing when pci_dev available.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit d4437d3fada351d7f40bcc48a62c12b92e2ad9d8
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Wed Jan 11 19:41:04 2006 -0200

    V4L/DVB (3344b): don't ignore return from i2c_add_driver() for tuner-3036
    
    
    The call to i2c_add_driver() may actually fail, but tuner-3036 ignores
    this and always returns 0, regardless.
    
    Fix it up so it returns what i2c_add_driver() does, instead.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 7408187d223f63d46a13b6a35b8f96b032c2f623
Author: Panagiotis Issaris <takis@issaris.org>
Date:   Wed Jan 11 19:40:56 2006 -0200

    V4L/DVB (3344a): Conversions from kmalloc+memset to k(z|c)alloc
    
    
    Conversions from kmalloc+memset to k(z|c)alloc.
    
    Signed-off-by: Panagiotis Issaris <takis@issaris.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 0b3af1b6df82cfdb54ae294ed860263011fa0408
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Wed Jan 11 19:40:45 2006 -0200

    V4L/DVB (3344): Enable microtune for Pinnacle 300i boards
    
    
    - The Pinnacle 300i (like the PCTV Stereo) needs tda9887 port2 set to 1 for
    the tuner to work
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 6f44725986df6959058b4a0fc35dd215ef16f24a
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Wed Jan 11 19:40:33 2006 -0200

    V4L/DVB (3343): Add support for DViCO FusionHDTV DVB-T USB devices
    
    
    - Add support for DViCO FusionHDTV DVB-T USB devices
    (Thomson dtt7579 and LG z201 based)
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit ca08ca01fdf0c944a04d35c2dc05dd3498f6c80e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Wed Jan 11 19:40:25 2006 -0200

    V4L/DVB (3342): More whitespace cleanup in bttv-cards.c
    
    
    - More whitespace cleanup in bttv-cards.c
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit bc28636ad37717c53d3247964164cf7ca1aff9d7
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Wed Jan 11 19:40:17 2006 -0200

    V4L/DVB (3341): whitespace cleanup: insert missing space before curly brackets
    
    
    - whitespace cleanup: insert missing space before curly brackets
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 2d05ae6b5b77f063aa0f82cf0570f3e4b80b367c
Author: Julian Calaby <julian.calaby@gmail.com>
Date:   Wed Jan 11 19:40:09 2006 -0200

    V4L/DVB (3340): Add bttv card MagicTV (rebranded MachTV)
    
    
    - Add bttv card MagicTV (rebranded MachTV)
    
    Signed-off-by: Julian Calaby <julian.calaby@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 30367bfda384ccb96c0fe35aaa001c7624e9fd01
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Wed Jan 11 19:40:01 2006 -0200

    V4L/DVB (3339): Activate remote control on HVR1100
    
    
    - Add a missing case which was preventing the operation of the HVR1100
    remote.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@infradead.org>

commit 78bfe0b5b67fe126ed98608e42e42fb6ed9aabd4
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Wed Jan 11 11:47:34 2006 -0800

    IPoIB: Take dev->xmit_lock around mc_list accesses
    
    dev->mc_list accesses must be protected by dev->xmit_lock.
    Found by Eli Cohen <eli@mellanox.co.il>.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 7e4e574c391cdeef516411eb698ac6955f01d673
Merge: a4fc7ab... 97b1b99...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 11 08:16:57 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit a4fc7ab1d065a9dd89ed0e74439ef87d4a16e980
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Jan 11 14:41:26 2006 +0000

    [PATCH] fix/simplify mutex debugging code
    
    Let's switch mutex_debug_check_no_locks_freed() to take (addr, len) as
    arguments instead, since all its callers were just calculating the 'to'
    address for themselves anyway... (and sometimes doing so badly).
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aab8df141fdc4c4c9587521a24b6865390eaeb79
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 11 22:32:51 2006 +1100

    drm: cleanup properly on drm module unload
    
    Cleanup multiple cards properly
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 6ab65429b4871c42bfd0013f7f5e49d40c0642cd
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 21:03:28 2006 +1100

    [XFS] Fix compiler warnings from older gcc versions wrt printfalike
    arguments.
    
    SGI-PV: 907752
    SGI-Modid: xfs-linux-melb:xfs-kern:24901a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit ca5ccbf98d792d8727e893765cc2df479ba399f2
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 21:03:04 2006 +1100

    [XFS] Fix some build fallout from atime changes.
    
    SGI-PV: 946679
    SGI-Modid: xfs-linux-melb:xfs-kern:24899a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 1259845d3f3e1d1cf96b2a78f3aec824b9d1e109
Author: Tim Shimmin <tes@sgi.com>
Date:   Wed Jan 11 21:02:47 2006 +1100

    [XFS] remove XFS_LOG_RES_DEBUG and turn on the res history all the time to
    get more useful error info on space for trans items
    
    SGI-PV: 947110
    SGI-Modid: xfs-linux-melb:xfs-kern:24886a
    
    Signed-off-by: Tim Shimmin <tes@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 71df099dc3f9cd17e8564eb647d7c1fb2ee83e2d
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Jan 11 21:02:29 2006 +1100

    [XFS] xfssyncd is responsible for flushing inode or device's data by
    extracting the work from its queue. In addition, this processing also
    decrement the inode's i_count. If there are any remaining works in queue
    before this process terminates, we have unbalanced increment and decrement
    of i_count. Thus it can cause assertion failure of vn_count. The fix
    allows xyssyncd to process any remaining work before it is shutdown.
    
    SGI-PV: 945935
    SGI-Modid: xfs-linux-melb:xfs-kern:203970a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 75e17b3caf29b262000dc7348f1be9a7d5403463
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:58:44 2006 +1100

    [XFS] add helper to get xfs_inode from vnode
    
    SGI-PV: 947206
    SGI-Modid: xfs-linux-melb:xfs-kern:203960a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 204ab25f36fbd44a24458c0227cf2629c8caf00d
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 20:50:22 2006 +1100

    [XFS] Fix up offset type inconsistencies and gcc warnings from earlier
    changes.
    
    SGI-PV: 947038
    SGI-Modid: xfs-linux-melb:xfs-kern:24875a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit da7f93e9eec0885317351eb8a20cc550ed48f470
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:49:57 2006 +1100

    [XFS] fix up per-device xfsbufd
    
    SGI-PV: 947098
    SGI-Modid: xfs-linux-melb:xfs-kern:203831a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f5e596bbef3b0fa583c66c5a83dc9737c0fe2610
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:49:42 2006 +1100

    [XFS] fix writeback control handling  fix a reversed condition on where to
    trylock and deal with block layer congestion properly.	Patch from David
    Chinner and Christoph Hellwig.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203830a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 6c4fe19f66a839bce68fcb7b99cdcb0f31c7a59e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:49:28 2006 +1100

    [XFS] cluster rewrites	We can cluster mapped pages aswell, this improves
    performances on rewrites since we can reduce the number of allocator
    calls.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203829a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7336cea8c2737bbaf0296d67782f760828301d56
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:49:16 2006 +1100

    [XFS] pass full 64bit offsets to xfs_add_to_ioend
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203828a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit d5cb48aaac5bba1721bce3232e6fb022ade2c0b7
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:49:02 2006 +1100

    [XFS] consolidate some code in xfs_page_state_convert  The unmapped buffer
    case is very similar to delayed and unwritten extends. Reorganize the code
    to share some code for these cases.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203827a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 9260dc6b2ee011f728bae50edce11022567be096
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:48:47 2006 +1100

    [XFS] various fixes for xfs_convert_page  fix various bogusities in
    handling offets  From David Chinner and Christoph Hellwig
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203826a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 1defeac9d4fffa3eabc4fba887e8ff5b1da7f361
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:48:33 2006 +1100

    [XFS] clean up the xfs_offset_to_map interface	Currently we pass a struct
    page and a relative offset into that page around, and returns the current
    xfs_iomap_t if the block at the specified offset fits into it, or a NULL
    pointer otherwise.  This patch passed the full 64bit offset into the inode
    that all callers have anyway, and changes the return value to a simple
    boolean.  Also the function gets a more descriptive name: xfs_iomap_valid.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203825a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 10ce444428c2329eb2aaf84850b5c7c09cecc58c
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:48:14 2006 +1100

    [XFS] use pagevec lookups  This reduces the time spend in the radix tree
    lookups and avoids unessecary look roundtrips.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203823a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 8d2ea6258123d7a92a1f6ec638a8cad4a0604c43
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Jan 11 20:48:09 2006 +1100

    drm: fixup drm bufs being just under the EOM
    
    If the mapping was just under the end of memory it would fail.
    Lets DRM start on my PCI card.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 78539fdfa4c21308e90c596f060df8114483862a
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 20:47:41 2006 +1100

    [XFS] Export pagevec_lookup for use on the XFS page writeout path,
    for dealing with delayed allocate and unwritten extents (as well).
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 97b1b999748d3cde6a3f381e0839e0f1082323e6
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 11 16:41:29 2006 +1100

    [PATCH] powerpc: Don't build crash.c for PPC32
    
    arch/powerpc/kernel/crash.c isn't safe for PPC32 (yet?), so don't build it.
    
    Built with CONFIG_KEXEC=y for pmac32_defconfig, pseries_defconfig,
    and g5_defconfig.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a8b9ee7396ccc8db3bdb4108993556acbe2d3527
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Jan 11 00:15:16 2006 -0800

    [MUTEX]: linux/mutex.h needs linux/linkage.h too
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 05f6ece6f37f987e9de643f6f76e8fb5d5b9e014
Merge: 35d138a... 58b6c58...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 21:31:24 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/kyle/parisc-2.6

commit 35d138ae22f826f95f0f8d0285947582ccf4508f
Merge: d274ba2... 5bf887f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 21:29:53 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 886c98d78652f78a64cb21516d3b25ffd5c05e94
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Jan 10 22:36:37 2006 -0600

    [PATCH] powerpc: Fix clean_files in arch/powerpc/boot Makefile
    
    clean-files was being set twice rather than being appended to.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c38a04b1ba67e488d94ec680a7dddd4e32d6ddfb
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Jan 11 16:27:21 2006 +1100

    powerpc/32: Fix compile error caused by pud_t/pgt_t confusion
    
    PPC32 is still using asm-generic/4level-fixup.h, but asm-powerpc/page.h
    was defining pud_t and pgd_t.  Depending on the order in which files
    got included, this could result in a compilation error.  Tweak the ifdef
    so that page.h doesn't try to define pud_t on ppc32 (which uses 2-level
    page tables).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d274ba2081cce6ff59f94e608a348f20ba1fe775
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 21:09:19 2006 -0800

    x86: fix "make install" target
    
    Removing the dependency on the boot image build was good, but it also
    meant that the $< expansion by make needed to be done explicitly.
    
    Noted by Stephen Hemminger.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5bf887f2ff874e2cd881c34bbed974bee2c90808
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Jan 10 21:02:21 2006 -0800

    [IPV6]: Fix modular build with netfilter enabled.
    
    Also, drop __exit marker from ipv6_netfilter_fini() as this
    can be invoked from inet6_init() error handling paths.
    
    Based upon a report from Stephen Hemminger.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f6d6d4fcd180f8e47bf6b13fc6cce1e6c156d0ea
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:40:13 2006 +1100

    [XFS] Initial pass at going directly-to-bio on the buffered IO path.  This
    allows us to submit much larger I/Os instead of sending down lots of small
    buffer_heads.  To do this we need to have a rather complicated I/O
    submission and completion tracking infrastructure.  Part of the latter has
    been merged already a long time ago for direct I/O support. Part of the
    problem is that we need to track sub-pagesize regions and for that we
    still need buffer_heads for the time beeing.  Long-term I hope we can move
    to better data strucutures and/or maybe move this to fs/mpage.c instead of
    having it in XFS.  Original patch from Nathan Scott with various updates
    from David Chinner and Christoph Hellwig.
    
    SGI-PV: 947118
    SGI-Modid: xfs-linux-melb:xfs-kern:203822a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit ce8e922c0e79c8093452ba9a124981332b75706b
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:39:08 2006 +1100

    [XFS] Complete the pagebuf -> xfs_buf naming convention transition,
    finally.
    
    SGI-PV: 947038
    SGI-Modid: xfs-linux-melb:xfs-kern:24866a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 68bdb6eabcd2869caa795019961a5445a11b5bc1
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Jan 11 15:38:31 2006 +1100

    [XFS] Fixed delayed_blks assert failure during umount. The delayed_blks
    was caused by ENOSPC but not Rreclaimed by xfs_release or xfs_inactive.
    The fix changed the condition in xfs_release and xfs_inactive to invoke
    xfs_inactive_free_eofblocks for this special case, changed
    xfs_inactive_free_eofblocks to clean the delayed blks after eof. It also
    changed xfs_write to set correct eof when ENOSPC occurs.
    
    SGI-PV: 946267
    SGI-Modid: xfs-linux-melb:xfs-kern:203788a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit a6867a6815fa0241848d4620f2dbd2954f4405d7
Author: David Chinner <dgc@sgi.com>
Date:   Wed Jan 11 15:37:58 2006 +1100

    [XFS] Introduce per-filesystem delwri pagebuf flushing to reduce
    contention between filesystems and prevent deadlocks between filesystems
    when a flush dependency exists between them.
    
    SGI-PV: 947098
    SGI-Modid: xfs-linux-melb:xfs-kern:24844a
    
    Signed-off-by: David Chinner <dgc@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 216d3b2acba469a9bee98a09bb957e012ba7bc25
Author: Tim Shimmin <tes@sgi.com>
Date:   Wed Jan 11 15:37:38 2006 +1100

    [XFS] take out the call to vn_mark_bad() used when acl inherit fails and
    it needs to back out the inode creation. Tested by xfs_tests/077.
    
    SGI-PV: 930841
    SGI-Modid: xfs-linux-melb:xfs-kern:24842a
    
    Signed-off-by: Tim Shimmin <tes@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 794fe2dc65f1ec4acacc388053bb52d32d3a932e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:37:17 2006 +1100

    [XFS] endianess annotations and tidying for the uuid code
    
    SGI-PV: 943272
    SGI-Modid: xfs-linux-melb:xfs-kern:203709a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 60a204f096dd67683f3993798e14905ee9828ba5
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:37:00 2006 +1100

    [XFS] Fix a thinko when generating a forced shutdown stack trace.
    
    SGI-PV: 929558
    SGI-Modid: xfs-linux-melb:xfs-kern:203817a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 0733af213f2859f7228229f3ac053c025f57d0d5
Author: Ryan Hankins <hankins@sgi.com>
Date:   Wed Jan 11 15:36:44 2006 +1100

    [XFS] Add a stack trace in the case of xfs_forced_shutdown.
    
    SGI-PV: 929558
    SGI-Modid: xfs-linux-melb:xfs-kern:203701a
    
    Signed-off-by: Ryan Hankins <hankins@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 77a7cce42509461067f49c484aee626f62162fbc
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:35:57 2006 +1100

    [XFS] Fix quotaoff logitem for project quota, affects log recovery only.
    
    SGI-PV: 946444
    SGI-Modid: xfs-linux-melb:xfs-kern:24768a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c9c47b6e27ca49fb0eea6b021b4919cb2467c8e1
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 11 15:27:25 2006 +1100

    [PATCH] powerpc: Remove redundant setting of htab_address
    
    iSeries doesn't need to set the htab_address explicitly, htab_initialize()
    will do it for us later.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 446ada4a03808f128e8f28daa0f103dc69d22d5b
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:35:44 2006 +1100

    [XFS] Add an XFS callout to security_inode_init_security; SE Linux is not
    functional with XFS without this change.
    
    SGI-PV: 946762
    SGI-Modid: xfs-linux-melb:xfs-kern:24766a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7eb5476f68cd6c6e7a065083e1741a72a666ac6d
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 11 15:27:24 2006 +1100

    [PATCH] powerpc: Add ibm,pft-size to iSeries device tree
    
    To make iSeries just a teensy bit less special, create ibm,pft-size properties
    in the iSeries device tree. We can then rely on htab_dt_scan_pftsize() to set
    ppc64_pft_size for us.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0e5e39bfd811be4612a23242353b426ac6438e03
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Jan 10 22:12:23 2006 -0600

    [PATCH] powerpc: Add some missing .gitignore's
    
    ignore generated files under arch/powerpc
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c2cd2550603d847b709035c4c6b666adf560d7b8
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:35:32 2006 +1100

    [XFS] Fix v2 log bufsize reporting in /proc/mounts.
    
    SGI-PV: 946760
    SGI-Modid: xfs-linux-melb:xfs-kern:24765a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 08264cbc9f4ded253e063ed4a804226b195e067c
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Jan 10 21:43:56 2006 -0600

    [PATCH] powerpc: Updated Kconfig and Makefiles for 83xx support
    
    Updated Kconfig & Makefiles in prep for adding support for the Freescale
    MPC83xx family of processors to arch/powerpc.  Moved around some config
    options that are more globally applicable to other PowerPC processors.
    Added a temporary config option (83xx) to match existing arch/ppc support
    for the MPC83xx line.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 42fe2b1f7fe788ed5304a7bfa0a0b0db81bc03a8
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:35:17 2006 +1100

    [XFS] fix, speedup and simplify atime handling	let the VFS handle atime
    updates and only sync back to the xfs inode when nessecary
    
    SGI-PV: 946679
    SGI-Modid: xfs-linux-melb:xfs-kern:203362a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7f52eb009306b8047031eaf64169a7ce437a26e7
Author: Geoff Levand <geoffrey.levand@am.sony.com>
Date:   Tue Jan 10 19:47:37 2006 -0800

    [PATCH] spufs: Suspend/restore MFC DMA operations at SPU context switch.
    
    The SPE Book IV indicates that MFC DMA operations must be
    suspended and restored on SPU context switch (in Step 8).
    
    This patch adds that operation, which is missing from the
    current spufs implementation.
    
    Signed-off-by: Masato Noguchi <Masato.Noguchi@jp.sony.com>
    Signed-off-by: Geoff Levand <geoffrey.levand@am.sony.com>
    Acked-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd954c69d189cd91571b42d3f926e70351395dc3
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:34:50 2006 +1100

    [XFS] turn xlog helper macros into real functions
    
    SGI-PV: 946205
    SGI-Modid: xfs-linux-melb:xfs-kern:203360a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 24ee80882deb5777aeee6f75a05f178ab8fbfa69
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Jan 11 15:34:32 2006 +1100

    [XFS] remove unused vars, args, & unneeded intermediate vars from zeroing
    code
    
    SGI-PV: 946641
    SGI-Modid: xfs-linux-melb:xfs-kern:203328a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 65be60541909c7bf8c384cde3502c18cc362939e
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Jan 11 15:34:19 2006 +1100

    [XFS] remove unused "readonly" arg from xlog_find_tail and xlog_recover
    
    SGI-PV: 946611
    SGI-Modid: xfs-linux-melb:xfs-kern:203307a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f6cc82fc0b2b6be9ab25f0bfc285e6358db3597a
Author: Haren Myneni <haren@us.ibm.com>
Date:   Tue Jan 10 19:25:25 2006 -0800

    [PATCH] powerpc: fix for compile problem in kdump code when SMP disabled
    
    This patch fixes the compilation error (shown below) when CONFIG_SMP=n.
        arch/powerpc/kernel/crash.c: In function `crash_kexec_prepare_cpus':
        arch/powerpc/kernel/crash.c:236: error: implicit declaration of
        function `smp_release_cpus'
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0d14824c0774d050cb4232e1e470e5fc9e32e587
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:33:51 2006 +1100

    [XFS] Ensure max diosize reported is aligned with minimum diosize.
    
    SGI-PV: 910890
    SGI-Modid: xfs-linux-melb:xfs-kern:24689a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit ee2a4f7caa4a72cdf2329081a1f7eb9939df3aab
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:33:36 2006 +1100

    [XFS] Fix an intermittent pquota panic caused by dodgey quota flags to an
    umount dquot flush call.
    
    SGI-PV: 946444
    SGI-Modid: xfs-linux-melb:xfs-kern:24680a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 3ddb8fa98ccce6c3b2afd2f4b95a10b3bb60d1f0
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:33:02 2006 +1100

    [XFS] Sort out cosmetic differences between user and kernel copies of some
    sources.
    
    SGI-PV: 907752
    SGI-Modid: xfs-linux-melb:xfs-kern:24659a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit a255a7456d4051e804fd6efff9a7c0f43483a7fc
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:32:30 2006 +1100

    [XFS] Make d_maxiosz report the real maximum (INT_MAX) so we dont
    incorrectly limit people using this interface to size IO buffers.
    
    SGI-PV: 910890
    SGI-Modid: xfs-linux-melb:xfs-kern:24657a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit b04ed21a1fdbfe48ee0738519a4d1af09589dfea
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:32:17 2006 +1100

    [XFS] Disable write barriers for now till intermittent IO errors are
    understood.
    
    SGI-PV: 912426
    SGI-Modid: xfs-linux-melb:xfs-kern:202962a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 13059ff04c5071c3f6f8a4bd9e51631849f63fa4
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:32:01 2006 +1100

    [XFS] Reverse the sense of COMPAT_ATTR and ATTR2, keeps it simple and
    consistent.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux-melb:xfs-kern:202961a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e13a73f02595c564e423bda5742fb8df4ebca455
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:30:08 2006 +1100

    [XFS] Write log dummy record when freezing filesystem
    
    SGI-PV: 945483
    SGI-Modid: xfs-linux-melb:xfs-kern:202638a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 6bac953fa424519f784ba2589fefd8f040ce54f0
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Jan 11 15:30:07 2006 +1100

    powerpc: Fix compile error when CONFIG_PROC_VMCORE is not defined
    
    We were getting elfcorehdr_addr undefined in this case.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1df84c930a5101223da016f256b46b192dbf2b30
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:29:52 2006 +1100

    [XFS] Mark some lookup tables const.  Thanks to Arjan van de Ven for
    spotting these.
    
    SGI-PV: 946028
    SGI-Modid: xfs-linux-melb:xfs-kern:202617a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 1661dc8e7a2c6aeb8f2fb6a8197909c95c220a71
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Jan 11 15:29:39 2006 +1100

    [XFS] Fixed an assertion failure in xfs_reclaim caused by delayed block.
    The assertion failure came from XFS QA41. The fix is done by enabling
    truncate for delayed block in xfs_inactive.
    
    SGI-PV: 945412
    SGI-Modid: xfs-linux-melb:xfs-kern:202521a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c7d437da3dda0ac7199c320b6a48c04ec37a614d
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:28:56 2006 +1100

    [XFS] do barrier checks earlier.  quota initialization may write to the
    filesystem
    
    SGI-PV: 912426
    SGI-Modid: xfs-linux-melb:xfs-kern:202355a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 70a061f1fdbfa4805233a113868d059e9614731a
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:28:45 2006 +1100

    [XFS] Fix typo from when enabling write barriers by default, flags botch
    in showargs.
    
    SGI-PV: 912426
    SGI-Modid: xfs-linux-melb:xfs-kern:24383a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit dd9f438e32900d67def49fa1b8961b3e19b6fefc
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:28:28 2006 +1100

    [XFS] Implement the di_extsize allocator hint for non-realtime files as
    well.  Also provides a mechanism for inheriting this property from the
    parent directory for new files.
    
    SGI-PV: 945264
    SGI-Modid: xfs-linux-melb:xfs-kern:24367a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 061f7209bdfb0193b306f88b4ff36b2574b001d3
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Jan 11 15:27:50 2006 +1100

    [XFS] Do not inherit properties for the quota inodes from the root inode.
    
    SGI-PV: 945264
    SGI-Modid: xfs-linux-melb:xfs-kern:24366a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 4ef19dddbaf2f24e492c18112fd8a04ce116daca
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:27:18 2006 +1100

    [XFS] enable write barriers by default
    
    SGI-PV: 912426
    SGI-Modid: xfs-linux-melb:xfs-kern:201981a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit d3a9b1f9da4ee3e6d284148412097621b1c9e575
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:23:43 2006 +1100

    [XFS] merge xfs_arch.h userspace changes back
    
    SGI-PV: 907752
    SGI-Modid: xfs-linux-melb:xfs-kern:201882a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f60d36690ce11a6a41b89e63b4201fbba3aa0bfb
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Jan 11 15:22:04 2006 +1100

    [XFS] remove over-eager assert
    
    SGI-PV: 941804
    SGI-Modid: xfs-linux-melb:xfs-kern:201702a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 415c2e083a85f0daf6cbb4988691ac3ea9279509
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Jan 11 13:51:22 2006 +1100

    [PATCH] powerpc: fix up iSeries console after TTY layer buffering revamp
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7a0268fa1a3613f2c526a9b3058701b277f6abe1
Author: Anton Blanchard <anton@samba.org>
Date:   Wed Jan 11 13:16:44 2006 +1100

    [PATCH] powerpc/64: per cpu data optimisations
    
    The current ppc64 per cpu data implementation is quite slow. eg:
    
            lhz 11,18(13)           /* smp_processor_id() */
            ld 9,.LC63-.LCTOC1(30)  /* per_cpu__variable_name */
            ld 8,.LC61-.LCTOC1(30)  /* __per_cpu_offset */
            sldi 11,11,3            /* form index into __per_cpu_offset */
            mr 10,9
            ldx 9,11,8              /* __per_cpu_offset[smp_processor_id()] */
            ldx 0,10,9              /* load per cpu data */
    
    5 loads for something that is supposed to be fast, pretty awful. One
    reason for the large number of loads is that we have to synthesize 2
    64bit constants (per_cpu__variable_name and __per_cpu_offset).
    
    By putting __per_cpu_offset into the paca we can avoid the 2 loads
    associated with it:
    
            ld 11,56(13)            /* paca->data_offset */
            ld 9,.LC59-.LCTOC1(30)  /* per_cpu__variable_name */
            ldx 0,9,11              /* load per cpu data
    
    Longer term we can should be able to do even better than 3 loads.
    If per_cpu__variable_name wasnt a 64bit constant and paca->data_offset
    was in a register we could cut it down to one load. A suggestion from
    Rusty is to use gcc's __thread extension here. In order to do this we
    would need to free up r13 (the __thread register and where the paca
    currently is). So far Ive had a few unsuccessful attempts at doing that :)
    
    The patch also allocates per cpu memory node local on NUMA machines.
    This patch from Rusty has been sitting in my queue _forever_ but stalled
    when I hit the compiler bug. Sorry about that.
    
    Finally I also only allocate per cpu data for possible cpus, which comes
    straight out of the x86-64 port. On a pseries kernel (with NR_CPUS == 128)
    and 4 possible cpus we see some nice gains:
    
                 total       used       free     shared    buffers cached
    Mem:       4012228     212860    3799368          0          0 162424
    
                 total       used       free     shared    buffers cached
    Mem:       4016200     212984    3803216          0          0 162424
    
    A saving of 3.75MB. Quite nice for smaller machines. Note: we now have
    to be careful of per cpu users that touch data for !possible cpus.
    
    At this stage it might be worth making the NUMA and possible cpu
    optimisations generic, but per cpu init is done so early we have to be
    careful that all architectures have their possible map setup correctly.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 193cac99f6d8604aca71e5a966a8cd1dfb84819d
Author: Michael Neuling <mikey@neuling.org>
Date:   Wed Jan 11 12:08:56 2006 +1100

    [PATCH] powerpc: parallel port init fix
    
    This stops parport from accessing nonexistent parallel ports.
    
    Signed-off-by: Michael Neuling <mikey@neuling.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 296167ae1799815b9ed2d135a847436502f2ee91
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 11 11:54:09 2006 +1100

    [PATCH] powerpc: Make early debugging configurable via Kconfig
    
    This patch adds Kconfig entries to control the early debugging options,
    currently in setup_64.c.
    
    Doing this via Kconfig rather than #defines means you can have one source tree,
    which is buildable for multiple platforms - and you can enable the correct
    early debug option for each platform via .config.
    
    I made udbg_early_init() a static inline because otherwise GCC is to daft to
    optimise it away when debugging is off.
    
    Now that we have udbg_init_rtas() we can make call_rtas_display_status* static.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bf6a7112bda99aadd6675526423a96be6b356a3d
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Wed Jan 11 11:54:08 2006 +1100

    [PATCH] powerpc: Early debugging support for iSeries
    
    Connect iSeries up to the standard early debugging infrastructure.
    
    To actually use this you need to enable the iSeries early debugging
    in setup_64.c. Then after the messages are logged hit Ctrl-x Ctrl-x on
    your console to dump the Hypervisor console buffer.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f481f1edee77b3d623457685add1c6b507c25d6f
Author: Olaf Hering <olh@suse.de>
Date:   Tue Jan 10 22:31:53 2006 +0100

    [PATCH] powerpc: remove remaining crash_notes variable from machine_kexec.c
    
    remove remaining crash_notes definition to fix compile error
    
    /dev/shm/linux-2.6/arch/powerpc/kernel/machine_kexec.c:21: error: conflicting types for `crash_notes'
    /dev/shm/linux-2.6/include/linux/kexec.h:129: error: previous declaration of `crash_notes'
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit af9deabeb0298559227fd9b481d33aefcb15ca54
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Tue Jan 10 15:18:16 2006 -0600

    [PATCH] PCI Hotplug/powerpc: module build break
    
    The RPAPHP hoplug driver will not build as a module, because it calls
    on a pcibios routine which is not exported. This exports the symbol.
    Problem reported by Olaf Hering <olh@suse.de>
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ad2b2426bb8dce97827182946e33e7f7ff0afbce
Author: Olaf Hering <olh@suse.de>
Date:   Tue Jan 10 21:57:40 2006 +0100

    [PATCH] enable the RTC driver in ppc64_defconfig
    
    Enable the RTC driver.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9819d85c210f5953fffc1052060e589d633f20ed
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 19:35:19 2006 -0800

    Fix net/core/wireless.c link failure
    
    It needs <linux/etherdevice.h> for compare_ether_addr()

commit 58b6c58caef7a34eab7ec887288fa495696653e7
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 10 20:48:07 2006 -0500

    [PARISC] Use STABS_DEBUG macro from vmlinux.lds.h
    
    Cleanup vmlinux.lds.S by using STABS_DEBUG macro from vmlinux.lds.h
    instead of repeating the sections.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit f45adcf977ac3c5512c17fd97b073bda99c81232
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 10 20:48:06 2006 -0500

    [PARISC] Fix Dino reporting on J2240
    
    Fix Dino reporting on J2240. This particular machine thought it
    had a Cujo. Also add J2240 Dino chip to the hp_hardware_list.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4d62ce5d2a85976a2e6f2732980e59b21b2aa8d2
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:48:05 2006 -0500

    [PARISC] stifb: Remove obsolete MODULE_PARM()
    
    The bpp module parameter has been obsoleted in favour of
    a setup string, so remove the MODULE_PARM.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit daaeb6f8d3afdfa58ffeffb7ba168ccbd5969858
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:48:04 2006 -0500

    [PARISC] stifb: Fix framebuffer console at 32bpp
    
    Fix stifb framebuffer console at 32bpp on a HCRX-24 card
    by properly setting DIRECTCOLOR. Also a few nice cleanups
    to the code.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 5d6d1640a254b27d0f598007313065713c1e3a04
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:48:03 2006 -0500

    [PARISC] stifb: use F_EXTEND macro
    
    Use the F_EXTEND() macro instead of open coding it with an
    #ifdef. Provides a nice cleanup.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 02d79800a221eb4e54d80cbf2026af9edc1f437d
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Jan 10 20:48:02 2006 -0500

    [PARISC] Use C99 initializers in asm-parisc/processor.h
    
    Cleanup asm-parisc/processor.h to use C99 initializers in
    INIT_THREAD().
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4b991da7fec9b87acf86c250332ce15c2811255b
Author: Thibaut VARENE <varenet@parisc-linux.org>
Date:   Tue Jan 10 20:48:01 2006 -0500

    [PARISC] pdc_stable: More robust sysfs error checking
    
    pdc_stable 0.10:
    As mentioned on LKML, pdc_stable wasn't checky enough on the return
    values of some calls. This patch makes it more robust to errors when
    registering objects in sysfs.
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9b9ff2e16a4609a7ab39b12e67fc56b51c8cd1f4
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Tue Jan 10 20:48:00 2006 -0500

    [PARISC] Make PCI_HOST_ADDR and PCI_BUS_ADDR symmetrical
    
    Change to asm-parisc/pci.h makes the define of PCI_HOST_ADDR symmetrical
    with PCI_BUS_ADDR. Also add a comment about PA_VIEW and LMMIO/ELMMIO/GMMIO.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 7c0b67efe9e15fa81cfa332a9a6f6cd5f7941bbc
Author: Guy Martin <gmsoft@tuxicoman.be>
Date:   Tue Jan 10 20:47:59 2006 -0500

    [PARISC] Fix parport_gsc by selecting PARPORT_NOT_PC
    
    PARPORT_GSC requires selecting PARPORT_NOT_PC in order to
    work properly.
    
    Signed-off-by: Guy Martin <gmsoft@tuxicoman.be>
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 49efdd46eed353027096a765f40dd8af52ece5ae
Author: Stuart Brady <sdb@parisc-linux.org>
Date:   Tue Jan 10 20:47:58 2006 -0500

    [PARISC] OSS: Fix build of parisc harmony driver
    
    OSS Harmony got missed on the conversion of parisc_device.hpa to a
    struct resource... fix its build.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 5cdb8205e917c09fd1348e4b22e26492e8c45b36
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Tue Jan 10 20:47:57 2006 -0500

    [PARISC] Fix BLK_BOUNCE_HIGH on parisc by initializing max_low_pfn
    
    max_low_pfn was not being set in arch/parisc/mm/init.c, causing severe
    problems whenever anything tried to use BLK_BOUNCE_HIGH. Set it to
    max_pfn like other similar architectures do.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 6ca45a24ccb847251f71aec8906746d33e99f33e
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Tue Jan 10 20:47:56 2006 -0500

    [PARISC] Truncate overlapping PAT PDC reported ranges
    
    Deal with overlapping LBA MMIO resources,
    
    rp3440 PDC BUG: PDC reports lmmio range for the last rope that overlaps
    with the CPU HPA. Console output was:
    
    ...
    Found devices:
    1. Storm Peak Fast at 0xfffffffffe798000 [152] { 0, 0x0, 0x889, 0x00004 }
    2. Storm Peak Fast at 0xfffffffffe799000 [153] { 0, 0x0, 0x889, 0x00004 }
    ...
    FAILED: lba_fixup_bus() request for lmmio_space
    [fffffffff0000000/fffffffffecffffe]
    
    Output is now:
    
    LBA: Truncating lmmio_space [fffffffff0000000/fffffffffecffffe] to
    [fffffffff0000000,fffffffffe797fff]
    
    My only concern with this patch is how C8000 (PAT PDC) will report
    elmmio ranges when a gfx card is installed. I'll have to test this
    another day.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 110957f0e521c8d14f97bbe955af2fa17bb720bf
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Jan 10 20:47:56 2006 -0500

    [PARISC] Add __iomem to __raw_check_addr()
    
    Add __iomem to __raw_check_addr(), which nukes ~13809 sparse
    warnings on allmodconfig.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit e8b736c860dd93ba26b391abc91891e03ca99858
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:47:55 2006 -0500

    [PARISC] Add some defines for HugeTLB pages
    
    Define some constants for HugeTLB pages, not that parisc-linux supports
    it yet.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4d64c9f58e618b1bdbc91cb071e6c8d90f43d620
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:47:54 2006 -0500

    [PARISC] Introduce DINO_LOCAL_IRQS and use it for gsc_find_local_irq
    
    Fix dino by using DINO_LOCAL_IRQS as the limit for gsc_find_local_irq()
    instead of the irq itself.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit a01c8cb126cb5f5a592f01b08ff8859508c75ba1
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 10 20:47:53 2006 -0500

    [PARISC] Fix GSC graphics cards with 64MB regions
    
    Make knapps work with its 64MB gfx card.  I probably just broke another
    machine in the process, but assuming 64MB when 64MB aligned is probably
    safer than assuming 32MB all the time.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit e0565a1c83a1045d8fae728056082262e712b201
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Tue Jan 10 20:47:52 2006 -0500

    [PARISC] Fix and cleanup ioremap.c to work with 4level-fixup.h
    
    Fixup ioremap a bit. It seems to work on 32-bit kernels, but fails
    miserably on the first ioremapped access on 64-bit kernels. Also, having
    STI enabled causes it to fail. Probably because we're passing an ioremapped
    region to a real-mode STI call...
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 45dbe9147dcad2b03f9d1397353d6eed9204da02
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Jan 10 20:47:51 2006 -0500

    [PARISC] Add __user annotation to eisa_eeprom.c
    
    Annotate eisa_eeprom_read() with __user.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 04d35d7324ed35983189bd396db7874a50bbea43
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:47:50 2006 -0500

    [PARISC] Fix Cirrus 6832 Cardbus on RDI Tadpole PARISC Laptop
    
    Fix irq-off-by-one for Cirrus 6832 Cardbus on RDI Tadpole PARISC Laptop.
    We just DECLARE_PCI_FIXUP_ENABLE as it is unlikely that this will be
    found in any other parisc system.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 1b2425e3c79984975a1a3e6fa84512f23d96da9f
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Tue Jan 10 20:47:49 2006 -0500

    [PARISC] Make local cache flushes take a void *
    
    Make flush_data_cache_local, flush_instruction_cache_local and
    flush_tlb_all_local take a void * so they don't have to be cast
    when using on_each_cpu().  This becomes a problem when on_each_cpu
    is a macro (as it is in current -mm).
    
    Also move the prototype of flush_tlb_all_local into tlbflush.h and
    remove its declaration from .c files.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 8039de10aae3cd4cf0ef0ccebd58aff0e8810df2
Author: Helge Deller <deller@parisc-linux.org>
Date:   Tue Jan 10 20:35:03 2006 -0500

    [PARISC] Add __read_mostly section for parisc
    
    Flag a whole bunch of things as __read_mostly on parisc. Also flag a few
    branches as unlikely() and cleanup a bit of code.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 7da942e5bc889bc970554876a8c03d7e2af9923d
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Jan 11 02:10:28 2006 +0100

    fs/proc/vmcore.c: header included twice
    
    Header included twice.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit c566c6dbf9cb0eed6e11ec7a4141e7af68ec2316
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Jan 11 02:08:57 2006 +0100

    fs/attr.c: header included twice
    
    Header included twice.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 0563572bf47efdc02a059b923d3c1e589783c019
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Jan 11 02:07:34 2006 +0100

    asm-powerpc: header included twice
    
    Header included twice.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 099f7f0a828bfef7b7047101cf52dc44a4b1d76f
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Jan 11 02:06:20 2006 +0100

    xfs: header included twice
    
    Header included twice.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit b8ab50bc554c2f9149e6d0ae741e05810e581ea5
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Jan 11 02:04:35 2006 +0100

    netfilter: headers included twice
    
    Headers included twice.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 864913f30dbd6f75b94045cd20ea0b082996287e
Author: Paul Jackson <pj@sgi.com>
Date:   Wed Jan 11 02:01:38 2006 +0100

    cpuset two little doc fixes
    
    Two little cpuset documentation fixes.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit b56d55b69c5c787b279819f5c0c2d5f5864d0fc2
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 02:00:10 2006 +0100

    drivers/net/gianfar_sysfs.c: update email address of Kumar Gala
    
    drivers/net/gianfar_sysfs.c still contained the old email address
    of Kumar Gala.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit e8d2a424675d9878356397e2ecfc632bbf09aa2c
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Wed Jan 11 01:52:40 2006 +0100

    add loglevel to printk in fs/afs/cmservice.c
    
    This is a small patch that adds loglevel to a printk in
    fs/afs/cmservice.c
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 74da6cd06225da6971943bea6a33f4cb7f6b76a3
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Wed Jan 11 01:51:26 2006 +0100

    missing printk loglevel and tiny tiny whitespace change in binfmt_elf()
    
    Patch adds a mising printk loglevel (I think KERN_WARNING is appropriate
    here) in fs/binfmt_elf.c, and while I was there I made some tiny tiny tiny
    adjustments to whitespacing in the neighborhood.
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit e97a31117c0f96be6637f68b4029609bb1f2cc7c
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Wed Jan 11 01:50:28 2006 +0100

    add missing printk loglevel in mm/swapfile.c
    
    in mm/swapfile.c a printk() is missing a loglevel. I believe the proper
    loglevel for this situation is KERN_ERR, so that's what the patch below
    sets -if you agree, please apply.
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit ffd59daceb7db5f7c54f095c5529cec45222c1f1
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Wed Jan 11 01:48:08 2006 +0100

    Tiny esthetic changes to Documentation/laptop-mode.txt
    
    Here's a tiny patch making a few esthetic changes to
    Documentation/laptop-mode.txt
    To me this patch makes sense, but feel free to disagree, I don't feel
    strongly about it at all.
    
    It changes a single URL to its strictly correct form (directories should
    end in /), and it makes the arguments to main in an included example
    program follow convention and be named argc and argv.
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 210bb9560cb697c950e803d0fdaf9869efefed54
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Jan 11 01:43:01 2006 +0100

    MAINTAINERS: sh: update the mailing list
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 7823c7c121839f5a003acdf9c2f1839bfa2f6c43
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Wed Jan 11 01:38:27 2006 +0100

    ext2: trivial indentation fix.
    
    This memset() line was indented with seven spaces, this patch fixes
    it to use a tab instead. Yes, very trivial but it's the third time
    I have to look at this line..
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 02706647a49011ae1e7b4eca33e835d1681b094e
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Jan 10 23:15:02 2006 +0100

    [PATCH] mutex: trivial whitespace cleanups
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 58dc125a66145f45f239cd78db9410062dc0bcd4
Merge: c544bdb... 8a4c8a9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 13:44:43 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit c544bdb1999e04eb10035f1c3262a103859d94b2
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Jan 10 22:10:36 2006 +0100

    [PATCH] mark mutex_lock*() as might_sleep()
    
    Mark mutex_lock() and mutex_lock_interruptible() as might_sleep()
    functions.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 73165b88ffd29813bf73b331eaf90d3521443236
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Jan 10 22:07:44 2006 +0100

    [PATCH] fix i386 mutex fastpath on FRAME_POINTER && !DEBUG_MUTEXES
    
    Call the mutex slowpath more conservatively - e.g.  FRAME_POINTERS can
    change the calling convention, in which case a direct branch to the
    slowpath becomes illegal.  Bug found by Hugh Dickins.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 042c904c3e35e95ac911e8a2bf4097099b059e1a
Author: Ingo Molnar <mingo@redhat.com>
Date:   Tue Jan 10 15:48:59 2006 -0500

    [PATCH] remove unnecessary asm/mutex.h from kernel/mutex-debug.c
    
    Remove unnecessary (and incorrect) inclusion of asm/mutex.h, pointed out
    by David Howells.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a4c8a96a47c9e2f08156fd9664974df086eed50
Author: Bart De Schuymer <bdschuym@pandora.be>
Date:   Tue Jan 10 13:12:22 2006 -0800

    [EBTABLES] Don't match tcp/udp source/destination port for IP fragments
    
    Signed-off-by: Bart De Schuymer <bdschuym@pandora.be>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 65e480ac551a7d95969aa824f77d7160a74cf08d
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 13:11:44 2006 -0800

    [IRDA] DONGLE_OLD: remove dependency on non-existing symbol
    
    Jean-Luc Leger <reiga@dspnet.fr.eu.org> reported this alternative
    dependency on a non-existing symbol.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 214ad78437544b20c3c0d5c2acb24650ce6e4db8
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 13:10:02 2006 -0800

    [IRDA]: kill drivers/net/irda/sir_core.c
    
    EXPORT_SYMBOL's do nowadays belong to the files where the actual
    functions are.
    
    Moving the module_init/module_exit to the file with the actual functions
    has the advantage of saving a few bytes due to the removal of two
    functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Jean Tourrilhes <jt@hpl.hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 79a34648e488a41be92369c72aa9784bd4d741f9
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Tue Jan 10 13:09:01 2006 -0800

    [ATM]: Remove unneeded kmalloc() return value casts + tiny whitespace cleanup
    
    Small cleanups for drivers/atm/zatm.c
     Get rid of unneeded cast of kmalloc() return value.
     Small whitespace/CodingStyle/formatting cleanup (since I was in there anyway).
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 12fe2c588df77d60dfe13b432f95d00f76b8c969
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Tue Jan 10 13:08:21 2006 -0800

    [NET]: Remove unneeded kmalloc() return value casts
    
    Get rid of needless casting of kmalloc() return value in net/
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ea2e90dfcee2c09eff8a180976ace071922663a5
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Tue Jan 10 13:07:44 2006 -0800

    [RXRPC]: Decrease number of pointer derefs in connection.c
    
    Decrease the number of pointer derefs in net/rxrpc/connection.c
    
    Benefits of the patch:
     - Fewer pointer dereferences should make the code slightly faster.
     - Size of generated code is smaller
     - improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ad8e4b75c8a7bed475d72ce09bf5267188621961
Author: Martin Murray <murrayma@citi.umich.edu>
Date:   Tue Jan 10 13:02:29 2006 -0800

    [AF_NETLINK]: Fix DoS in netlink_rcv_skb()
    
    From: Martin Murray <murrayma@citi.umich.edu>
    
    Sanity check nlmsg_len during netlink_rcv_skb.  An nlmsg_len == 0 can
    cause infinite loop in kernel, effectively DoSing machine.  Noted by
    Matin Murray.
    
    Signed-off-by: Chris Wright <chrisw@sous-sol.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit babbdb1a18d37e57acae7e348ef122f2b905df0a
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 17:48:09 2006 -0800

    [NETFILTER]: Fix timeout sysctls on big-endian 64bit architectures
    
    The connection tracking timeout variables are unsigned long, but
    proc_dointvec_jiffies is used with sizeof(unsigned int) in the sysctl
    tables. Since there is no proc_doulongvec_jiffies function, change the
    timeout variables to unsigned int.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9d28026b7ec0f3e2a407d5c03fcb37d0b59d1add
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 16:44:36 2006 -0800

    [NETFILTER]: Remove unused function from NAT protocol helpers
    
    ->print and ->print_range are not used (and apparently never were).
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c07bc1ffbdc14312b214b56fa39f4a4ab1406b8e
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 16:44:18 2006 -0800

    [NETFILTER]: Fix return value confusion in PPTP NAT helper
    
    ip_nat_mangle_tcp_packet doesn't return NF_* values but 0/1 for
    failure/success.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 03b9feca89366952ae5dfe4ad8107b1ece50b710
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 16:44:00 2006 -0800

    [NETFILTER]: Fix another crash in ip_nat_pptp
    
    The PPTP NAT helper calculates the offset at which the packet needs
    to be mangled as difference between two pointers to the header. With
    non-linear skbs however the pointers may point to two seperate buffers
    on the stack and the calculation results in a wrong offset beeing
    used.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 15db34702cfafd24acc60295cf14861e497502ab
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 16:43:43 2006 -0800

    [NETFILTER]: Fix crash in ip_nat_pptp
    
    When an inbound PPTP_IN_CALL_REQUEST packet is received the
    PPTP NAT helper uses a NULL pointer in pointer arithmentic to
    calculate the offset in the packet which needs to be mangled
    and corrupts random memory or crashes.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bb94aa169eaa6e713a429370d37388722f08666f
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Jan 9 16:43:13 2006 -0800

    [NETFILTER]: net/ipv[46]/netfilter.c cleanups
    
    Don't wrap entire file in #ifdef CONFIG_NETFILTER, remove a few
    unneccessary includes.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d3f4a687f683f536506d0aa6b22e6cb3e79639ce
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Mon Jan 9 16:01:43 2006 -0800

    [NET]: Change memcmp(,,ETH_ALEN) to compare_ether_addr()
    
    This changes some memcmp(one,two,ETH_ALEN) to compare_ether_addr(one,two).
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 770cfbcffdf0011ecf3a12435ecb5604c4c97a19
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Jan 9 15:56:09 2006 -0800

    [INET]: congestion and af_ops can be const
    
    The congestion ops and af_ops in the inet_connection_sock
    can be const.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@ghostprotocols.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a3e49436867e6c7acc1b5eed21d30c88d156825b
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Jan 10 19:48:02 2006 +0000

    [ARM] 3252/1: help gcc do the best with ___arch__swab32
    
    Patch from Nicolas Pitre
    
    Depending on your gcc version, the current C-only implementation would
    produce suboptimal code, ranging from a bad register selection forcing
    an additional mov instruction to a failure to merge the eor and the ror
    in a single instruction.  With a little help gcc always produces the
    best code.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 49cd619c69d643b30a24029e40eb5364c7a26b2e
Author: Alan Cox <alan@redhat.com>
Date:   Mon Jan 9 09:35:28 2006 -0500

    [PATCH] moxa serial: add proper capability check
    
    This requires the proper capabilities for the moxa bios update ioctl's.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19dbaf6f6f0f3b766df08594446d64747a5cced3
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 17:02:57 2006 +1000

    [PATCH] m68knommu: save reg a5 on context change
    
    Fix a5 register corruption when processing user space signals handlers.
    We need to save a5 through each contenxt change.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3960f2faaf0a67ad352bd5d4085e43f19f33ab91
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 17:00:39 2006 +1000

    [PATCH] m68knommu: fix find_next_zero_bit in bitops.h
    
    We're starting a number of big applications (memory footprint app.
    1MByte) on our Arcturus uC5272.  Therefore memory fragmentation is a
    real pain for us.  We've switched to uClinux-2.4.27-uc1 and found that
    page_alloc2 fragments the memory heavily.
    
    Digging into it we found a bug in the find_next_zero_bit function in the
    m68knommu/bitops.h file.  if the size isn't a multiple of 32 than the
    upper bits of the last word to be searched should be masked.  But the
    functions masks the lower bits of the last word because it uses a right
    shift instead of a left shift operator.
    
    Patch submitted by Sascha Smejkal <s.smejkal@centersystems.at>
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 845884d332c060b0dfc54ba5a580d0f1a99c58a2
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:59:37 2006 +1000

    [PATCH] uclinux: delay binfmt_flat trace
    
    Modify the initial trace output (which is based on flags in the binary
    header) so that it is not done until after the magic number check.  This
    may well not be a flat format binary, so the flags could be invalid.
    (Prime example, running a script).
    
    Changes prompted by patches from Stuart Hughs.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 082f2c1cc7aa7aabdbf5235b788ff42e10abb399
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:59:04 2006 +1000

    [PATCH] m68knommu: set irq priority/level different for each ColdFire serial port
    
    Set the hardware interrupt priority to a different value for each
    attached ColdFire serial port.  According to the CPU documentation you
    should not use the same combination of level/priority on more than one
    device.  People have reported odd serial port behavior with them set the
    same.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 892b62527fb3cd6753d6d2b79b5f21259f344cf5
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:58:16 2006 +1000

    [PATCH] m68knommu: allow configure of FEC for M520x CPU family
    
    Allow the ColdFire FEC ethernet driver to be enabled on the M520x CPU
    family.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 694d855fbc797141960a3907019c442240ed8a0f
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:43:39 2006 +1000

    [PATCH] m68knommu: fix ram length of m5208evb board
    
    Adjust length of M5208EVB ram define.  It should size up to 32MB after
    adding in the dBUG reserved 128k.
    
    Problem pointed out be Milton Miller <miltonm@bga.com>.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01829e7212dd9ba3fa68bf8afffc9a175c44cb04
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:42:59 2006 +1000

    [PATCH] m68knommu: fix a5 reg corruption in signal handlers
    
    This is a patch adapted from a posting by Andrea Tarani which was
    pointed out to me by Bernardo Innocenti.  Thanks to both of them for
    their help and patience.
    
    The original posting is here:
      http://mailman.uclinux.org/pipermail/uclinux-dev/2005-July/033543.html
    
    The problem first manifest itself as busybox ping terminating with an
    "Illegal instruction".  I reduced this to a test case and found that
    variable size arrays allocated on the stack could lead to stacks not
    aligned on 32 bit boundaries.  For the Coldfire this proved fatal.
    
    Having been pointed out this patch by Bernardo, I applied it and it
    fixed the first test case.  I then went back to busybox's ping.  This
    still failed with "Illegal instruction", but in a different way.  Before
    it depended on the size allocated for the ping buffer, now it happened
    every time.  I also found it depended on optimisation level (gcc-3.4.0)
    -Os was okay but not -O2.
    
    After a lot of looking, it turned out that register a5 was being
    corrupted by the signal handler (after applying the patch).  I re-worked
    the patch a bit to save/restore a5 and now all seems well.
    
    Patch submitted by Stuart Hughs <stuarth@freescale.com>
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit afc7cd8950572786c87ad081d8e65e5ea58b563c
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:42:18 2006 +1000

    [PATCH] m68knommu: fix mangled 'truct' in ptrace.c
    
    Fix broken "truct" -> "struct" in arch_ptrace() parameter list.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db10cb8e9906a43c8fa49b3fab547b365bc2c666
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:40:21 2006 +1000

    [PATCH] m68knommu: don't set gcc optimizer flags
    
    Don't specify compiler optimization flags in the m68knommu Makefile.
    Let the top level Makefile/config set it.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82409799853c3cabc4b17533ff640a95bef01358
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:39:35 2006 +1000

    [PATCH] h8300: remove MAGIC_ROM_PTR from memory.c
    
    Remove obsolete MAGIC_ROM_PTR code from h8300 architecture.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ba6b5ece34fb799f63c72c35a30dac8aca735eb
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Tue Jan 10 16:39:30 2006 +1000

    [PATCH] h8300: remove MAGIC_ROM_PTR from k8300_ksyms.c
    
    Remove obsolete MAGIC_ROM_PTR code from h8300 architecture.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b016450f9f603210239e1a91e3c28f17c310dcc7
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Tue Jan 10 17:16:12 2006 +0000

    [ARM] 3250/1: Change pxa2xx PCMCIA drivers to use platform_device_alloc
    
    Patch from Richard Purdie
    
    Change mainstone and sharpsl pxa2xx pcmcia drivers to use
    platform_device_alloc which fixes a memory leak.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d936cfc72032fb4af03d1edd99596d18ea1f081c
Merge: 4f47707... adfc764...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 09:00:55 2006 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 49978db4f39950cdaaf967e1aad4a324bdc2e180
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Tue Jan 10 16:59:29 2006 +0000

    [ARM] 3247/1: AT91RM9200 support for 2.6 (Cogent CSB337 & CSB637 boards) (Patch
    	#3244)
    
    Patch from Andrew Victor
    
    This patch adds support to the 2.6 kernel series for the Atmel
    AT91RM9200 processor.
    
    This patch is the support for the Cogent CSB337 and CSB637 boards.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f0a13854be269357ff70022524ec503d3cba6a32
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Tue Jan 10 16:59:28 2006 +0000

    [ARM] 3243/2: AT91RM9200 support for 2.6 (Atmel DK & EK boards)
    
    Patch from Andrew Victor
    
    This patch adds support to the 2.6 kernel series for the Atmel
    AT91RM9200 processor.
    
    This patch is the support for Atmel's DK and EK boards.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1e6c9c2878c9c1f301449c78551e0b7c5f3e3ae5
Author: Andrew Victor <andrew@sanpeople.com>
Date:   Tue Jan 10 16:59:27 2006 +0000

    [ARM] 3242/2: AT91RM9200 support for 2.6 (Serial)
    
    Patch from Andrew Victor
    
    This patch adds support to the 2.6 kernel series for the Atmel
    AT91RM9200 processor.
    
    This patch is the Serial driver.
    
    This version uses the newly re-written GPL'ed hardware headers.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4f47707b056bd2e3627ef390557ee93d312daba5
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 08:56:39 2006 -0800

    Fix rpc shutdown event condition bug
    
    We want to wait for the cl_users to go down to zero, not for it to stay
    positive.  Quoth Trond (who wasn't even the author, but acked the wrong
    version): "Argh! I need to increase my daily caffeine dosages."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9c828155ae8d1a1576f9648cc4d9677aea53f89
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Tue Jan 10 17:24:53 2006 +0300

    [PATCH] rcu: fix hotplug-cpu ->donelist leak
    
    Pointed out by Srivatsa Vaddagiri <vatsa@in.ibm.com>.
    
    rcu_do_batch() stops after processing maxbatch callbacks
    on ->donelist leaving rcu_tasklet in TASKLET_STATE_SCHED
    state.
    
    If CPU_DEAD event happens remaining ->donelist entries are
    lost, rcu_offline_cpu() kills this tasklet.
    
    With this patch ->donelist migrates along with ->curlist
    and ->nxtlist to the current cpu.
    
    Compile tested.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Cc: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Cc: Dipankar Sarma <dipankar@in.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69a0b3157983925f14fe0bdc49622d5389538d8d
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Tue Jan 10 16:48:02 2006 +0300

    [PATCH] rcu: join rcu_ctrlblk and rcu_state
    
    This patch moves rcu_state into the rcu_ctrlblk. I think there
    are no reasons why we should have 2 different variables to control
    rcu state. Every user of rcu_state has also "rcu_ctrlblk *rcp" in
    the parameter list.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0400dc507a4345357fc25f13e8ac929287688a8
Author: Andrey Borzenkov <arvidjaar@mail.ru>
Date:   Tue Jan 10 11:27:00 2006 +0100

    [PATCH] ide-cd: clear random-write capability it not supported
    
    Add CDC-RAM to capability mask. This prevents udev incorrectly reporting
    RAM capabilities for device.
    
    Signed-off-by: Andrey Borzenkov <arvidjaar@mail.ru>
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit daef265f1590cf3e6de989d074041a280c82d58b
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 10 10:48:02 2006 +0100

    [PATCH] dm: don't enable bouncing by default
    
    DM doesn't need to bounce bio's on its own, but the block layer defaults
    to that in blk_queue_make_request(). The lower level drivers should
    bounce ios themselves, that is what they need to do if not layered below
    dm anyways.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00d6da9b4d6707b808481372537adb0fb38f99b3
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 10 10:43:54 2006 +0100

    [PATCH] cdrom: kill "open failed" error message
    
    This triggers all the time with the various polled event programs,
    change it to CD_OPEN so it's supressed by default.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ff57935ad0f1620269f4b08e8acfda619cc5e4b
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Jan 10 09:44:39 2006 +0100

    [PATCH] ide: preserve errors for failed requests
    
    To preserve the ->errors values for requests that failed, use the normal
    completion path for that.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8d52465f95c4187871f8e65666c07806ca06d41
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Jan 10 18:21:20 2006 +1100

    [PATCH] Work around ppc64 compiler bug
    
    In the process of optimising our per cpu data code, I found a ppc64
    compiler bug that has been around forever. Basically the current
    RELOC_HIDE can end up trashing r30. Details of the bug can be found at
    
      http://gcc.gnu.org/bugzilla/show_bug.cgi?id=25572
    
    This bug is present in all compilers before 4.1. It is masked by the
    fact that our current per cpu data code is inefficient and causes
    other loads that end up marking r30 as used.
    
    A workaround identified by Alan Modra is to use the =r asm constraint
    instead of =g.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    [ Verified that this makes no real difference on x86[-64] */
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 115b2ce1c3b974e43e45fa6c9e20cd7271a01dff
Merge: dd49f96... 5fc4e6e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 08:30:29 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input

commit dd49f96777d5a72d5591ac2112d4ac940391774e
Merge: a62e684... 8b4ad5e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 08:28:53 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit a62e68488dd5ddb07776555fd7e0435c6d021ac1
Merge: ab396e9... 3b212db...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 08:28:32 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit ab396e91bfe953db26fa1083d9c3e7a4fbe0334a
Merge: 9979ead... 4f0210b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Jan 10 08:21:33 2006 -0800

    Merge ssh://master.kernel.org/pub/scm/linux/kernel/git/sam/kbuild
    
    Fix up some trivial conflicts in {i386|ia64}/Makefile

commit 9979ead5d1eb23191a00453559927c5abf9087e2
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:52 2006 -0800

    [PATCH] fs/hfsplus/: remove the hfsplus_inode_check() debug function
    
    This patch removes the hfsplus_inode_check() debug function.
    
    It also removes the now obsolete last_inode_cnt and inode_cnt from struct
    hfsplus_sb_info.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f346f4b373aa320fb0337a3b504e3fb5344abc0b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:51 2006 -0800

    [PATCH] let MAGIC_SYSRQ no longer depend on DEBUG_KERNEL
    
    I know several people using MAGIC_SYSRQ not for kernel debugging but for
    trying to do a halfway normal shutdown in case of problems.
    
    Since there's no technical reason why MAGIC_SYSRQ would have to depend on
    DEBUG_KERNEL, I'm therefore suggesting to drop this dependency.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c29c4c5f28616f2a87f0e6499aa9776d9be58ad
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:50 2006 -0800

    [PATCH] include/linux/sched.h: no need to guard the normalize_rt_tasks() prototype
    
    There's no need to guard the normalize_rt_tasks() prototype with an #ifdef
    CONFIG_MAGIC_SYSRQ.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d974837ae076101d33a59eefc6bfef923eaa0e32
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:49 2006 -0800

    [PATCH] kernel/resource.c: __check_region(): remove pointless __deprecated
    
    If a __deprecated is desired it should go to the prototype in the header
    (where it currently isn't).
    
    But at this place it's pointless.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51d53bd3eb82b953bfd58d0e9c935c34dfb34808
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:48 2006 -0800

    [PATCH] video/matrox/matroxfb_misc.c: remove dead code
    
    The Coverity checker spotted this dead code.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca5ed2f5c7bf3ca51598336fcc1436b5da129f34
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:47 2006 -0800

    [PATCH] include/asm-sh64/: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0795cf46d174d4faab35d13d0a088b5bcb2752a
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:54:46 2006 -0800

    [PATCH] selinux: Remove unneeded k[cm]alloc() return value casts
    
    Remove redundant casts of k*alloc() return values in
    security/selinux/ss/services.c
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Stephen Smalley <sds@epoch.ncsc.mil>
    Cc: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 792db3af38a55b2079df504b9f5aa57b2dbee48d
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:54:45 2006 -0800

    [PATCH] fs/binfmt_elf: Remove unneeded kmalloc() return value casts
    
    Remove unneeded casts of kmalloc() return value in binfmt_elf.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 352d768b19408d3c019a3fa09fd5bfed99a55bc6
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:54:44 2006 -0800

    [PATCH] Decrease number of pointer derefs in multipath.c
    
    Decrease the number of pointer derefs in drivers/md/multipath.c
    
    Benefits of the patch:
     - Fewer pointer dereferences should make the code slightly faster.
     - Size of generated code is smaller
     - improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Alasdair G Kergon <agk@redhat.com>
    Acked-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3795e1616f16905889761536cdc266ebc51855e5
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:54:39 2006 -0800

    [PATCH] Decrease number of pointer derefs in exit.c
    
    Decrease the number of pointer derefs in kernel/exit.c
    
    Benefits of the patch:
     - Fewer pointer dereferences should make the code slightly faster.
     - Size of generated code is smaller
     - improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a547dfe9563c49fd0f9743640e01d1d652119ec7
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:26 2006 -0800

    [PATCH] char/isicom: More whitespaces and coding style
    
    Wrap all the code to 80 chars on a line.
    `}\nelse' changed to `} else'.
    Clean whitespaces in header file.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e65c1db19fe8177fa2da53e3e0bddffe585b2d47
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:25 2006 -0800

    [PATCH] char/isicom: Firmware loading
    
    Firmware loading via hotplug added.
    Cleanup firmware old-way fields in header file.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ac0948b20f76d9659add91f868c57383ea1e4e5
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:24 2006 -0800

    [PATCH] char/isicom: Pci probing added
    
    Pci probing functions added, most of functions rewrited because of it (some
    for loops were redundant).  Used PCI_DEVICE macro.  dev_* used for printing
    wherever possible.  Renamed some functions to have isicom_ in the name.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aaa246ea78c68cd205f505070650cda7c5a95d34
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:23 2006 -0800

    [PATCH] char/isicom: Other little changes
    
    Move some code from one place to another.  Get rid of ugly ifdefs in code in
    next p[patches, so here create functions and macros to enable it.  Rename some
    functions and align some code to 80 chars.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8070e35c6524e0f254cd69f493c50811e8e5b856
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:22 2006 -0800

    [PATCH] char/isicom: Type conversion and variables deletion
    
    Type which is needed to have accurate size was converted to [us]{8,16}.
    Removed void * cast.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d8d16e47442a84d7fefc7ff839952ddfc919e495
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:54:21 2006 -0800

    [PATCH] char/isicom: Whitespace cleanup
    
    Trailing spaces and tabs and space used for indentation deleted.  Indented
    content of structures.  Switch/case indent.
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9e39538ce7c52e45e653e777d73ed373189c20d
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 9 20:54:20 2006 -0800

    [PATCH] clean up computone remaining cli use
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c58cbb6cbb635f53c8b340ae8da9e84b263cc41a
Author: Grant Coady <grant_lkml@dodo.com.au>
Date:   Mon Jan 9 20:54:18 2006 -0800

    [PATCH] n_hdlc.c: remove unused declaration
    
    drivers/char/n_hdlc.c:194: warning: `n_hdlc_tty_room' declared `static' but
    never defined
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33f0f88f1c51ae5c2d593d26960c760ea154c2e2
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Jan 9 20:54:13 2006 -0800

    [PATCH] TTY layer buffering revamp
    
    The API and code have been through various bits of initial review by
    serial driver people but they definitely need to live somewhere for a
    while so the unconverted drivers can get knocked into shape, existing
    drivers that have been updated can be better tuned and bugs whacked out.
    
    This replaces the tty flip buffers with kmalloc objects in rings. In the
    normal situation for an IRQ driven serial port at typical speeds the
    behaviour is pretty much the same, two buffers end up allocated and the
    kernel cycles between them as before.
    
    When there are delays or at high speed we now behave far better as the
    buffer pool can grow a bit rather than lose characters. This also means
    that we can operate at higher speeds reliably.
    
    For drivers that receive characters in blocks (DMA based, USB and
    especially virtualisation) the layer allows a lot of driver specific
    code that works around the tty layer with private secondary queues to be
    removed. The IBM folks need this sort of layer, the smart serial port
    people do, the virtualisers do (because a virtualised tty typically
    operates at infinite speed rather than emulating 9600 baud).
    
    Finally many drivers had invalid and unsafe attempts to avoid buffer
    overflows by directly invoking tty methods extracted out of the innards
    of work queue structs. These are no longer needed and all go away. That
    fixes various random hangs with serial ports on overflow.
    
    The other change in here is to optimise the receive_room path that is
    used by some callers. It turns out that only one ldisc uses receive room
    except asa constant and it updates it far far less than the value is
    read. We thus make it a variable not a function call.
    
    I expect the code to contain bugs due to the size alone but I'll be
    watching and squashing them and feeding out new patches as it goes.
    
    Because the buffers now dynamically expand you should only run out of
    buffering when the kernel runs out of memory for real.  That means a lot of
    the horrible hacks high performance drivers used to do just aren't needed any
    more.
    
    Description:
    
    tty_insert_flip_char is an old API and continues to work as before, as does
    tty_flip_buffer_push() [this is why many drivers dont need modification].  It
    does now also return the number of chars inserted
    
    There are also
    
    tty_buffer_request_room(tty, len)
    
    which asks for a buffer block of the length requested and returns the space
    found.  This improves efficiency with hardware that knows how much to
    transfer.
    
    and tty_insert_flip_string_flags(tty, str, flags, len)
    
    to insert a string of characters and flags
    
    For a smart interface the usual code is
    
        len = tty_request_buffer_room(tty, amount_hardware_says);
        tty_insert_flip_string(tty, buffer_from_card, len);
    
    More description!
    
    At the moment tty buffers are attached directly to the tty.  This is causing a
    lot of the problems related to tty layer locking, also problems at high speed
    and also with bursty data (such as occurs in virtualised environments)
    
    I'm working on ripping out the flip buffers and replacing them with a pool of
    dynamically allocated buffers.  This allows both for old style "byte I/O"
    devices and also helps virtualisation and smart devices where large blocks of
    data suddenely materialise and need storing.
    
    So far so good.  Lots of drivers reference tty->flip.*.  Several of them also
    call directly and unsafely into function pointers it provides.  This will all
    break.  Most drivers can use tty_insert_flip_char which can be kept as an API
    but others need more.
    
    At the moment I've added the following interfaces, if people think more will
    be needed now is a good time to say
    
     int tty_buffer_request_room(tty, size)
    
    Try and ensure at least size bytes are available, returns actual room (may be
    zero).  At the moment it just uses the flipbuf space but that will change.
    Repeated calls without characters being added are not cumulative.  (ie if you
    call it with 1, 1, 1, and then 4 you'll have four characters of space.  The
    other functions will also try and grow buffers in future but this will be a
    more efficient way when you know block sizes.
    
     int tty_insert_flip_char(tty, ch, flag)
    
    As before insert a character if there is room.  Now returns 1 for success, 0
    for failure.
    
     int tty_insert_flip_string(tty, str, len)
    
    Insert a block of non error characters.  Returns the number inserted.
    
     int tty_prepare_flip_string(tty, strptr, len)
    
    Adjust the buffer to allow len characters to be added.  Returns a buffer
    pointer in strptr and the length available.  This allows for hardware that
    needs to use functions like insl or mencpy_fromio.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Cc: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Serge Hallyn <serue@us.ibm.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ed80991a2dce4afc113be35089c564d62fa1f11
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:54:09 2006 -0800

    [PATCH] tty-layer-buffering-revamp: jsm is broken
    
    Looks like JSM will be uncompilable after the TTY layer rework is merged into
    Linus's post-2.6.15 tree.
    
    It was complex to fix - the maintainers were notified in September.
    
    Cc: Wendy Xiong <wendyx@us.ltcfwd.linux.ibm.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e91c55b32a469d9dda845a90038c015a70838e3
Author: Paul Jackson <pj@sgi.com>
Date:   Mon Jan 9 20:54:08 2006 -0800

    [PATCH] Serial: disable jsm in ppc64 defconfig
    
    Changes to the serial driver to remove flip buffers have broken the serial
    jsm driver.  It doesn't even compile anymore.  The jsm driver was enabled
    in only one defconfig - ppc64.  In order to keep defconfigs building,
    disable CONFIG_SERIAL_JSM for the time being.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87c2ce3b9305b9b723faeedf6e32ef703ec9b33a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:07 2006 -0800

    [PATCH] lib/zlib*: cleanups
    
    This patch contains the following possible cleanups:
    - #if 0 the following unused functions:
      - zlib_deflate/deflate.c: zlib_deflateSetDictionary
      - zlib_deflate/deflate.c: zlib_deflateParams
      - zlib_deflate/deflate.c: zlib_deflateCopy
      - zlib_inflate/infblock.c: zlib_inflate_set_dictionary
      - zlib_inflate/infblock.c: zlib_inflate_blocks_sync_point
      - zlib_inflate/inflate_sync.c: zlib_inflateSync
      - zlib_inflate/inflate_sync.c: zlib_inflateSyncPoint
    - remove the following unneeded EXPORT_SYMBOL's:
      - zlib_deflate/deflate_syms.c: zlib_deflateCopy
      - zlib_deflate/deflate_syms.c: zlib_deflateParams
      - zlib_inflate/inflate_syms.c: zlib_inflateSync
      - zlib_inflate/inflate_syms.c: zlib_inflateSyncPoint
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3af13763d696468d31f71a798155b33f681f221f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:06 2006 -0800

    [PATCH] fs/ext3/: small cleanups
    
    This patch contains the following cleanups:
    - there's no need for ext3_count_free() #ifndef EXT3FS_DEBUG
    - having prototypes for ext3_count_free() in two different headers is
      nonsense
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4610a6bea7742ab34e40dcb776bd3feb52da10d6
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:05 2006 -0800

    [PATCH] fs/ext2/bitmap.c: ext2_count_free() is only required #ifdef EXT2FS_DEBUG
    
    There's no need for ext2_count_free() #ifndef EXT2FS_DEBUG.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0aa7d0639277f375989071fb52a7ce78beeef97
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:04 2006 -0800

    [PATCH] drivers/video/: possible cleanups
    
    This patch contains the possible cleanups including the following:
    - every file should #include the headers containing the prototypes for
      it's global functions
    - make needlessly global functions static
    - kyro/STG4000Interface.h: #include video/kyro.h and linux/pci.h
      instead of a manual "struct pci_dev"
    - i810_main.{c,h}: prototypes for static functions belong to the
      C file
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: "Antonino A. Daplas" <adaplas@hotpop.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d64ec153e914cbd60cfaaa47ececed55a9d14d7
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 20:54:03 2006 -0800

    [PATCH] vr41xx: ARRAY_SIZE cleanup
    
    No need to define RTC_NUM_RESOURCES, it doesn't add any value to the code.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe971071a89c5c5184fc9f3482c7a8e997cf0520
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Mon Jan 9 20:54:02 2006 -0800

    [PATCH] drivers/char: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]) and remove
    duplicates of ARRAY_SIZE.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c6bee1d4037a5c569f30d40bd852a57ba250912
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:54:01 2006 -0800

    [PATCH] turn "const static" into "static const"
    
    ICC likes to complain about storage class not being first, GCC doesn't
    care much (except for cases like "inline static").
    have a hard time seeing how it could break anything.
    
    Thanks to Gabriel A. Devenyi for pointing out
    http://linuxicc.sourceforge.net/ which is what made me create this patch.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e7c368b7676bbe6145f14fbc87913596c9b93c11
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:54:00 2006 -0800

    [PATCH] drivers/net/irda/irport.c: cleanups
    
    This patch contains the following cleanups:
    - make a needlessly global function static
    - remove the unneeded global function irport_probe
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e48e99093c9bbb67f95e903d37aef30a969a0153
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:53:59 2006 -0800

    [PATCH] Docs update: small fixes to stable_kernel_rules.txt
    
    Small spelling, formating & similar fixes to stable_kernel_rules.txt
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5dd94ed249c7d19934e8738bf60f9554d07e888f
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:53:58 2006 -0800

    [PATCH] Docs update: remove obsolete patch from locks.txt
    
    Remove obsolete patch from Documentation/locks.txt
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c63ca3c8b01e8cad4fe8874366e598bcbbdd048e
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:53:57 2006 -0800

    [PATCH] Docs update: small spelling, formating etc fixes for filesystems/ext3.txt
    
    Spelling fixes, formating changes and corrections for
     Documentation/filesystems/ext3.txt
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c594a50db4cbe8b839a70fca0cff524d392531ca
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Jan 9 20:53:56 2006 -0800

    [PATCH] Docs update: typos, corrections and additions to applying-patches.txt
    
    Typos/corrections.
    
    A few extra additions on top of Randy's fixes.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6d3fe77dace2c41a32b9699fe78960ab0908a97
Author: Martin Waitz <tali@admingilde.org>
Date:   Mon Jan 9 20:53:55 2006 -0800

    [PATCH] DocBook: warn for missing macro parameters
    
    Previously kernel-doc silently ignored missing parameter descriptions for
    preprocessor macros.  Now that all such omissions are fixed up we can warn
    about them in kernel-doc to be able to keep it that way.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0863afb32b77fc89c7110b3d10fb048cb56bb1b5
Author: Martin Waitz <tali@admingilde.org>
Date:   Mon Jan 9 20:53:55 2006 -0800

    [PATCH] DocBook: fix kernel-doc comments
    
    Fix typos in comments to remove kernel-doc warnings.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 061350e7ecf869ed3c98d962b16a772e9674e283
Author: Martin Waitz <tali@admingilde.org>
Date:   Mon Jan 9 20:53:53 2006 -0800

    [PATCH] Add git tree for DocBook
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit be217ff21c875ee1b8073a4fd07353a7a24a4cfd
Author: Martin Waitz <tali@admingilde.org>
Date:   Mon Jan 9 20:53:52 2006 -0800

    [PATCH] DocBook: add .gitignore file
    
    when ignoring all DocBook output files git-status output becomes meaningful
    again.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc3d28d02e3e83c3147b2afc5e19e3b58d23f31b
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 20:53:51 2006 -0800

    [PATCH] CodingStyle correction
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d060a3218f6a046509fa31939ce1a671b0359086
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:49 2006 -0800

    [PATCH] Fix console blanking
    
    Current console blanking code is broken.  It will first do a normal blank,
    then start the VESA blank timer if vesa_off_interval != 0, and then proceed
    to do the VESA blanking directly.  After the timer expires it will do the
    VESA blanking a second time.  Also the vesa_powerdown() function doesn't
    allow all VESA modes to be used.
    
    With this patch the behaviour is:
    1. Blank: vesa_off_interval != 0 -> Do normal blank
              vesa_off_interval == 0 -> Do VESA blank
    2. Start the VESA blank timer if vesa_off_interval != 0 and
       vesa_power_mode != 0.
    
    It also gets rid of the limiting vesa_powerdown() function.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cae8a12f49972f040bae6707b7707cd93fe9c9ab
Author: Thomas Koeller <thomas.koeller@baslerweb.com>
Date:   Mon Jan 9 20:53:48 2006 -0800

    [PATCH] non-linear frame buffer read/write access
    
    While the code in fbmem.c allows for hooking read/write access to
    non-linear frame buffers by means of fb_read and fb_write in struct fb_ops,
    I could not find a way tho access the actual frame buffer memory from
    within these routines.  I therefore had to patch fbmem.c, to be able to
    retrieve a pointer to struct fb_info from the 'file' argument to these
    functions.
    
    The second hunk of the patch is not strictly required, I only did that for
    symmetry reasons (and the code is somewhat shorter).
    
    Signed-off-by: Thomas Koeller <thomas.koeller@baslerweb.com>
    Acked-by: "Antonino A. Daplas" <adaplas@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74b4f04231b9755106d803ef73b11c3cf6978bcd
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Mon Jan 9 20:53:46 2006 -0800

    [PATCH] fbdev: Typos in Kconfig
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit def1ededb7bfefc8678b4c7251622f7cbe65af94
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:45 2006 -0800

    [PATCH] fbdev: Replace kmalloc with kzalloc
    
    Replace kmalloc with kzalloc
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a39bc34ea8f042e090ade124726ae5a3fd1a51f8
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:44 2006 -0800

    [PATCH] fbcon: Code cleanups
    
    - replace kmalloc with kzalloc
    - remove repeated define (FONTCHHCNT)
    - remove unneeded local variable (redraw) in ypan_{up|down}_redraw
    - add and delete cursor timer in fbcon_switch() if old_info != info
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5eec03f314e1406829d9683284673203b91b9b8
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:43 2006 -0800

    [PATCH] i810fb: Fix suspend and resume hooks
    
    The i810fb suspend and resume hooks have suffered bitrot over time.  Update to
    current framework, but functionality still not guaranteed to work.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 740f14ba5335d1e25b9f3e80643be801f653cd32
Author: Arnaud Patard <arnaud.patard@rtp-net.org>
Date:   Mon Jan 9 20:53:41 2006 -0800

    [PATCH] s3c2410fb: cleanup and fix
    
    Here are some cleanups for the s3c2410fb drivers. It :
    * Removes a buggy call to s3c2410fb_init_registers. There was two calls
      to this function but the first was done without all initialisations
      done. No oops but it may confuse some LCDs.
    * Makes two functions static.
    
    Signed-Off-By: Arnaud Patard <arnaud.patard@rtp-net.org>
    Signed-Off-By: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 918799ab6f278805d4811770e9b18ae36408c17f
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:40 2006 -0800

    [PATCH] nvidiafb: Reduce stack usage
    
    Reduce stack usage of NVCommonSetup()
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ade9185a39aa2bc51f95b4899836e59df671d844
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:39 2006 -0800

    [PATCH] nvidiafb: Add boot option 'bpp'
    
    Add boot/module option 'bpp' so user can specify at what color depth to boot
    into.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af5d0f7e2b5e9ef369de2aefe51e14ca1e6928f5
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:38 2006 -0800

    [PATCH] fbdev: Reduce stack usage
    
    calc_mode_timings() and fb_get_mode() are using more than 500 bytes off the
    stack.  Fix.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a484a3af905a256cbdd7079defceac62b39e8fa
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:37 2006 -0800

    [PATCH] fbdev: Fix return code of fb_read and fb_write
    
    Make fb_read() and fb_write() return 0 (EOF) instead of -ENOSPC if reading at
    or past the end of the framebuffer.  This fixes user space apps hanging if
    info->fix.smem_len == 0.
    
    Whitespace changes.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 244ab72d84a04d40bd270da604161e02af73fb11
Author: Knut Petersen <Knut_Petersen@t-online.de>
Date:   Mon Jan 9 20:53:36 2006 -0800

    [PATCH] fbcon: disable ywrap if not supported by fbcon scrolling code
    
    updatescrollmode() must not select ywrap scrolling if
    divides(vc->vc_font.height, yres) is not true as this is not supported by
    the actual ywrap scrolling code.
    
    The bug is triggered with e.g.  mode 800x600, vxres 1024, vyres 8192, bpp
    8, font dimensions 8x16, 8Mb video ram and FBINFO_HWACCEL_YWRAP set.  If
    those conditions are met, scrolling is broken and garbage is permanently
    displayed at the bottom of the screen.
    
    No regression, no possible side effects.
    
    Definitely needed by cyblafb and probably needed by amifb.
    
    Signed-off-by: Knut Petersen <Knut_Petersen@t-online.de>
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f08ff4a4dab1ebef06d154050fb80ce2c13fc9c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:53:35 2006 -0800

    [PATCH] include/video/newport.h: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d911233fe6632981086942a6b66e7ae5dabaaadc
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:34 2006 -0800

    [PATCH] skeletonfb: Documentation update
    
    Update skeletonfb so it reflects recent (and somewhat old) changes of the
    framebuffer layer.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c549dc6422e4b720fed6702d70fddd8cee0f5c9a
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:33 2006 -0800

    [PATCH] nvidiafb: Add support for some pci-e chipsets
    
    Chipsets with PCI device ids & 0xf0 == 0x00f0 has their actual chipset type in
    offset 0x1800 of the mmio space.  Add support for this.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a14b2283c5fb8504d15768cbd20fbe337ffdb3d6
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:32 2006 -0800

    [PATCH] atyfb: LT/LG cleanup
    
    Clean up LT and LG chip descriptions.
    
    "Mach64 LG" is called 3D Rage LT in the specs and ATI press releases.
    
    "Mach64 LT" is unclear.  XFree86 driver doesn't know this chip at all.
    Windows display.inf calls it just "mach64 LT" and it uses the same driver as
    VT-A/GT-A and older chips.  VT-B/GT-B and better use another driver and all of
    those chips have a more descriptive name in the display.inf file.  That makes
    me think this chip is not a 3D Rage chip.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c23b67c49e239e40fad3947483815637e5f1790
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:31 2006 -0800

    [PATCH] atyfb: VT/GT cleanup
    
    Clean up VT and GT chip descriptions.
    
    All B revision VT chips are called 264VT3. Verified from pictures of the
    chips as the specs are a bit unlear in this.
    
    GT revision B1 is Rage II, B2 is Rage II+. Specs and chip pictures seem
    to agree.
    
    VT revision A4 is 264VT2. Revision A3 is probably a plain 264VT.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69b569f5c0b47c33fec4e35921368e43cbe089a5
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:30 2006 -0800

    [PATCH] atyfb: Rage XL/XC cleanup
    
    Clean up Rage XL/XC chip descriptions.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 480913fe42ae2ff2c821a9e12e6e3eac28d7d730
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:28 2006 -0800

    [PATCH] atyfb: Improve blanking
    
    Force blanking signal and disable display requests when blanked.  Don't
    disable LCD backlight with FB_BLANK_NORMAL.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 25163c56ed88a3009e7c1d808d3a052357301d63
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:27 2006 -0800

    [PATCH] atyfb: Set ECP divider
    
    Set ECP (scaler/overlay clock) divider. The limits were taken from the
    XFree86 ati driver.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e98cef1e9e0ef0c5c02f6f3daa4da7956ad1c9ea
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:26 2006 -0800

    [PATCH] atyfb: Don't stretch with CRT
    
    The overlay on 3D Rage LT Pro doesn't work correctly if stretching is
    enabled when using only a CRT.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a87d7fddbd7f46475842431d153d35bd03cf4f63
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:25 2006 -0800

    [PATCH] atyfb: Fix interlaced modes
    
    Fix interlaced display modes.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50c839c7b5e7d7cc3443176f5d5458e134b0b189
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:23 2006 -0800

    [PATCH] atyfb: Fix CRTC_FIFO_LWM mask
    
    CRTC_FIFO_LWM was incorrectly masked.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 866d84cec0d37bd6a54428b66fed01e7b7aceeb3
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:22 2006 -0800

    [PATCH] atyfb: Reduce verbosity
    
    Don't complain about invalid modes when FB_ACTIVATE_TEST is used.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd4617bef436a3342a959fe7ca870bb10d59d509
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Jan 9 20:53:21 2006 -0800

    [PATCH] atyfb: Fix spelling
    
    Fix some spelling mistakes.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c49a2bf7993c38b452017e729646e86815b7a51d
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:19 2006 -0800

    [PATCH] vga16fb: Trim vga16fb_pan_display
    
    Remove error checking and updating from vga16fb_pan_display.  This is
    guaranteed to be done by the core layer.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e53f87a02a0d77c519fb93c7aa0912956294050c
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:18 2006 -0800

    [PATCH] Fix vesafb display panning regression
    
    Fix vesafb hang when scroll mode is REDRAW.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f845fbac4e68573351965d9aaf626a63cc4151c7
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:17 2006 -0800

    [PATCH] vesafb: Trim vesafb_pan_display
    
    Remove error checking from vesafb_pan_display.  This is guaranteed to be done
    by the core layer.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32cf8c1e50ac9d49f348e886c6e664cdc37aaead
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:16 2006 -0800

    [PATCH] savagefb: Trim savagefb_pan_display
    
    Remove error checking and updating from savagefb_pan_display.  This is
    guaranteed to be done by the core layer.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 198a52a1c490be89a8d5d130eda972630919e0af
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:15 2006 -0800

    [PATCH] rivafb: Trim rivafb_pan_display
    
    Remove error checking and updating from rivafb_pan_display.  This is
    guaranteed to be done by the core layer.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7227576f4b9dcffe32f8e6b228361b38814bbe7f
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:14 2006 -0800

    [PATCH] fbdev: sstfb: Driver cleanups
    
    - remove unneeded casts
    - make setcolreg return success if regno > 15, but don't do anything
    - use framebuffer_alloc/framebuffer_release to allocate/free memory
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cb639258f92b2407c50f79a95364f42932481389
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:13 2006 -0800

    [PATCH] fbdev: atyfb: Remove BIOS-less booting
    
    CONFIG_ATYFB_XL_INIT option is broken for a long time.  It will always cause a
    kernel hang.
    
    Since no one has fixed this problem for some time now, remove it from atyfb.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 313e58ab362473fb471f32b7bf86587f7c627a11
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:12 2006 -0800

    [PATCH] fbdev: fbdev: Cleanup
    
    - remove unneeded casts
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a807f618b62594467a52b488912bd77606af0572
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:11 2006 -0800

    [PATCH] fbdev: tdfxfb: Driver cleanups
    
    - remove unneeded casts
    - move memory for pseudo_palette inside struct tdfxfb_par
    - whitespace changes
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6772a2ee9d5992a712b46990f39249c500e0221f
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:10 2006 -0800

    [PATCH] fbdev: pm2fb: Driver cleanups
    
    - remove unneeded casts
    - move memory for pseudo_palette inside struct pm2fb_par
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f19bc56c3ce7d9a1c7159c2456d9b50883930e6
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:09 2006 -0800

    [PATCH] fbdev: neofb: Driver cleanups
    
    - remove unneeded casts
    - move memory for pseudo_palette inside struct neofb_par
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a26968df0110bc2117e5572a07e285b183e68736
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:08 2006 -0800

    [PATCH] fbdev: kyrofb: Driver cleanups
    
    - remove unneeded casts
    
    - use framebuffer_alloc/framebuffer_release to allocate/free memory
    
    - the pseudo_palette is always u32 regardless of bpp if using generic
      drawing functions
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94f9e09ce531d48b2e46208f9b1c8733a74c22de
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:07 2006 -0800

    [PATCH] fbdev: imsttfb: Driver cleanups
    
    - remove unneeded casts
    
    - the pseudo_palette, if using the generic drawing functions, must always be
      u32 regardless of the bpp
    
    - use framebuffer_alloc/framebuffer_release to allocate memory
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d204ef3e4ea61058e49453af393ca754b529b85
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:06 2006 -0800

    [PATCH] fbdev: hgafb: Convert to platform device
    
    - convert to platform device
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a9f61702608b6ae7905063278b832439e608938
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:05 2006 -0800

    [PATCH] fbdev: asiliantfb: Driver cleanups
    
    - allocate just enough space for the pseudo_palette
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4a41836f1215ae1835c3f00316b20bb32cbfe99
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:04 2006 -0800

    [PATCH] fbdev: rivafb: Driver cleanups
    
    - remove redundant casts
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c019c0ec97548d545c42961e960cbe2e8a6aabe9
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:03 2006 -0800

    [PATCH] fbdev: i810fb: Driver cleanups
    
    - remove redundant casts
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8901b091db260b0f0101d6395ce5c6016835a47
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:02 2006 -0800

    [PATCH] fbdev: savagefb: Driver cleanup
    
    - remove redundant casts
    - remove symbol_get/symbol_put
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c439e345425434f07df333083794fc8864cee9ca
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:53:02 2006 -0800

    [PATCH] fbdev: nvidiafb: Driver cleanup
    
    - remove redundant casts
    - add mode_option to module parameter
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30420f8f464975f7f26e8195f60569dfed6ac060
Author: Matthew Garrett <mjg59@srcf.ucam.org>
Date:   Mon Jan 9 20:53:01 2006 -0800

    [PATCH] Add sysfs entry to disable framebuffer access
    
    What

commit c35dba601728412f67801792107d3dddd1f3ada1
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Jan 9 20:52:59 2006 -0800

    [PATCH] savagefb: One more I2C-enabled device in savagefb
    
    The I2C bus of the S3 Savage2000 is supposed to work the same way the Savage4
    does.  At least, the legacy i2c-savage4 driver handled both devices the same
    way.
    
    I do not have the hardware to test this, so testers are welcome.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3e21169b84a80b35d81a2b9fd97eb0b7d73d3f9
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:52:58 2006 -0800

    [PATCH] matroxfb: Remove fbcon.h from the main header file
    
    matroxfb has no need for struct display and fbcon.h.  Remove.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04a2fe574ad10156266fcdb50adf30ebedad76fb
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:52:58 2006 -0800

    [PATCH] fbcon: Store struct display when setting all vcs
    
    Store struct display when setting all vc's.  Otherwise, fbcon's behavior
    becomes undefined, such as malpositioning of the cursor.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2610acc7ab36d7657d9a0c97a0e83cd1d6ee2b33
Author: Alessandro Zummo <a.zummo@towertech.it>
Date:   Mon Jan 9 20:52:57 2006 -0800

    [PATCH] nvidiafb: i2c bus name beautification
    
    Assign nvidiafb's i2c busses a better name.
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b73deed32d08740bdbf5f4aab43d988e4d135d95
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:52:56 2006 -0800

    [PATCH] fbcon: Sanitize fbcon
    
    Do not pass the structure display since fbcon is already keeping the pointer
    to the current display.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8416131ded5e491ecc2947d1ffaedf64725bb7a3
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Mon Jan 9 20:52:55 2006 -0800

    [PATCH] aty: remove unnecessary CONFIG_PCI
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b4f2f4b0132afa9f441171285cca354377bf5d0
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Jan 9 20:52:54 2006 -0800

    [PATCH] vesafb: Drop blank hook
    
    From: Bugzilla Bug 5351
    
    "After resuming from S3 (suspended while in X), the LCD panel stays black .
     However, the laptop is up again, and I can SSH into it from another
    machine.
    
    I can get the panel working again, when I first direct video output to the
    CRT output of the laptop, and then back to LCD (done by repeatedly hitting
    Fn+F5 buttons on the Toshiba, which directs output to either LCD, CRT or
    TV) None of this ever happened with older kernels."
    
    This bug is due to the recently added vesafb_blank() method in vesafb.  It
    works with CRT displays, but has a high incidence of problems in laptop
    users.  Since CRT users don't really get that much benefit from hardware
    blanking, drop support for this.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 532347e2bbae9e849816dc7b12a3d0f2c42d4944
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 20:52:53 2006 -0800

    [PATCH] nfs: sleep_on() removal
    
    Convert sleep_on() to wait_event_timeout().  Probably safe with the BKL but
    could be racy once BKL use in NFS-client is gone.
    
    Acked-by: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e866cfa939de7f52c154a9495eb5767f89abf453
Author: Oleg Drokin <green@linuxhacker.ru>
Date:   Mon Jan 9 20:52:51 2006 -0800

    [PATCH] d_instantiate_unique / NFS inode leakage
    
    If we have found aliased dentry that we return, inode reference is not
    dropped and inode is not attached anywhere, so it seems the reference to
    inode is leaked in that case.
    
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>,
    Cc: Al Viro <viro@www.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 632d6407afb58ef125bf7e82a2e8af27d0704b56
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:52:51 2006 -0800

    [PATCH] media-radio: Maestro radio delete owner line from video device
    
    fops is used for module handling with ownership.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f86e7767990c0d63f0630cbf6018b6996f9ecde5
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:52:50 2006 -0800

    [PATCH] media-radio: Maestro avoid accessing private structures directly
    
    video_device.priv is not allowed to touch and it will be actually removed in
    near future.  Use video_get_drvdata() instead.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0eaa21fdfe2c50ba27456730cd8da8782cddaf6f
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:52:49 2006 -0800

    [PATCH] media-radio: Maestro types change
    
    __u16 --> u16 and so on
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a2cf8eed7f9c8dcc08785259cd179fcb317b120
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:52:48 2006 -0800

    [PATCH] media-radio: Maestro radio Lindent
    
    Maestro radio Lindent + some handwork
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89dad8f07fa244d64459ecd9499bc314dc617598
Author: Jiri Slaby <xslaby@fi.muni.cz>
Date:   Mon Jan 9 20:52:47 2006 -0800

    [PATCH] media-radio: Pci probing for maestro radio
    
    - Pci probing functions added, some functions were rewrited.
    
    - Use PCI_DEVICE macro.
    
    - dev_* used for printing when pci_dev available.
    
    - some static variables changed to dynamicto allow operation with multiple
      cards.
    
    - Deleted macros for DEVICE_IDS, they are in pci_ids.h yet.
    
    Signed-off-by: Jiri Slaby <jirislaby@gmail.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0d50069ed3620e9a4d8939bbc3e0d5a692ab58a
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:46 2006 -0800

    [PATCH] Kprobes: conversion from kcalloc to kzalloc
    
    Signed-of-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0498b63504f818e5ab39c818cd6f7b41319a1187
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Jan 9 20:52:46 2006 -0800

    [PATCH] kprobes: fix build breakage
    
    The following patch (against 2.6.15-rc5-mm3) fixes a kprobes build break
    due to changes introduced in the kprobe locking in 2.6.15-rc5-mm3.  In
    addition, the patch reverts back the open-coding of kprobe_mutex.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Acked-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e597c2984c64609c6e1e1ac803f00f7550705860
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:45 2006 -0800

    [PATCH] kprobes: arch_remove_kprobe
    
    Currently arch_remove_kprobes() is only implemented/required for x86_64 and
    powerpc.  All other architecture like IA64, i386 and sparc64 implementes a
    dummy function which is being called from arch independent kprobes.c file.
    
    This patch removes the dummy functions and replaces it with
    #define arch_remove_kprobe(p, s)	do { } while(0)
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f709b122343fb9a010b6cf2d5559641f1820f7c9
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:44 2006 -0800

    [PATCH] kprobes-changed-from-using-spinlock-to-mutex fix
    
    Based on some feedback from Oleg Nesterov, I have made few changes to
    previously posted patch.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49a2a1b83ba6fa40c41968d6a28ba16e7ed0c3f7
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:43 2006 -0800

    [PATCH] kprobes: changed from using spinlock to mutex
    
    Since Kprobes runtime exception handlers is now lock free as this code path is
    now using RCU to walk through the list, there is no need for the
    register/unregister{_kprobe} to use spin_{lock/unlock}_isr{save/restore}.  The
    serialization during registration/unregistration is now possible using just a
    mutex.
    
    In the above process, this patch also fixes a minor memory leak for x86_64 and
    powerpc.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41dead49ccb4d7f0a34d56478f487342a3c3ab2b
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:42 2006 -0800

    [PATCH] kprobes: cleanup include/asm/kprobes.h
    
    The arch specific kprobes.h files never gets included when CONFIG_KPROBES is
    turned off.  Hence check for CONFIG_KPROBES is not appropriate here in this
    arch specific kprobes.h files.
    
    Also the below defined function kprobes_exception_notify() is not needed when
    CONFIG_KPROBES is off.
    
    Compile tested for both CONFIG_KPROBES=y and N.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d14e39da8712cff8a92298f464a25afb4283ccf
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Jan 9 20:52:41 2006 -0800

    [PATCH] kprobes: enable funcions only for required arch
    
    Kernel/kprobes.c defines get_insn_slot() and free_insn_slot() which are
    currently required _only_ for x86_64 and powerpc (which has no-exec support).
    
    FYI, get{free}_insn_slot() functions manages the memory page which is mapped
    as executable, required for instruction emulation.
    
    This patch moves those two functions under __ARCH_WANT_KPROBES_INSN_SLOT and
    defines __ARCH_WANT_KPROBES_INSN_SLOT in arch specific kprobes.h file.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d1c0b8f835aeba85aa428aaec6d521ef4639c7fa
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Jan 9 20:52:40 2006 -0800

    [PATCH] Remove getnstimestamp()
    
    Remove getnstimestamp() in favor of ktime.h's ktime_get_ts()
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit caf3c9dc56f5758ca6016513e2790a151bf2077d
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Jan 9 20:52:40 2006 -0800

    [PATCH] Switch getnstimestamp() calls to ktime_get_ts()
    
    Use ktime_get_ts() to take the timestamp instead of getnstimestamp().  This
    patch prepares to remove getnstimestamp() by switching its only user to a
    different function with almost exactly the same code.
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69778e325c3007c8c8a653fcee2c298ffe071fd4
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Jan 9 20:52:39 2006 -0800

    [PATCH] Export ktime_get_ts()
    
    This series removes the getnstimestamp() function from kernel/time.c in favor
    of kernel/hrtimer.c's ktime_get_ts() function which currently does exactly the
    same thing: retrieves a high-resolution (ns) timespec structure and performs
    the wall_to_monotonic adjustment.
    
    This patch:
    
    Export ktime_get_ts() to be used as a timestamp function since it uses
    getnstimefoday() and does the wall_to_monotonic adjustment.
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit becf8b5d00f4b47e847f98322cdaf8cd16243861
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:38 2006 -0800

    [PATCH] hrtimer: convert posix timers completely
    
    - convert posix-timers.c to use hrtimers
    
    - remove the now obsolete abslist code
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97735f25d2ba898ec5e13746451525580631c834
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:37 2006 -0800

    [PATCH] hrtimer: switch clock_nanosleep to hrtimer nanosleep API
    
    Switch clock_nanosleep to use the new nanosleep functions in hrtimer.c
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ba1b91213e81aa92b5cf7539f7d2a94ff54947c
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:36 2006 -0800

    [PATCH] hrtimer: switch sys_nanosleep to hrtimer
    
    convert sys_nanosleep() to use hrtimer_nanosleep()
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10c94ec16dd187f8d8dfdbb088e98330c05bf03c
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:35 2006 -0800

    [PATCH] hrtimer: create hrtimer nanosleep API
    
    introduce the hrtimer_nanosleep() and hrtimer_nanosleep_real() APIs.  Not yet
    used by any code.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ff678b8da6478d861c1b0ecb3ac14575760e906
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:34 2006 -0800

    [PATCH] hrtimer: switch itimers to hrtimer
    
    switch itimers to a hrtimers-based implementation
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df78488de7befd387e9d060da6e18bb5d1cb882c
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:33 2006 -0800

    [PATCH] hrtimer: hrtimer documentation
    
    add hrtimer docbook and design document
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0a3132963db68f1fbbd0e316b73de100fee3f08
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:32 2006 -0800

    [PATCH] hrtimer: hrtimer core code
    
    hrtimer subsystem core.  It is initialized at bootup and expired by the timer
    interrupt, but is otherwise not utilized by any other subsystem yet.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97fc79f97b1111c80010d34ee66312b88f531e41
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:31 2006 -0800

    [PATCH] hrtimer: introduce ktime_t time format
    
    - introduce ktime_t: nanosecond-resolution time format.
    
    - eliminate the plain s64 scalar type, and always use the union.
      This simplifies the arithmetics. Idea from Roman Zippel.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8f46da3b4cbb03b43a102b1eb92b63419e10f90
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:30 2006 -0800

    [PATCH] hrtimer: introduce nsec_t type and conversion functions
    
    - introduce the nsec_t type
    
    - basic nsec conversion routines: timespec_to_ns(), timeval_to_ns(),
      ns_to_timespec(), ns_to_timeval().
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 718bcceb5ad72a5def2c2fd1fa3ef964be32a857
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:29 2006 -0800

    [PATCH] hrtimer: validate timespec of do_sys_settimeofday
    
    Check if the timespec which is provided from user space is normalized.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f82b2b77e66d452c3037cc47f436d2d76fd5f06
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:29 2006 -0800

    [PATCH] hrtimer: create and use timespec_valid macro
    
    add timespec_valid(ts) [returns false if the timespec is denorm]
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a698971941bf5e6ebe96275f7d5318b2cf91ccf
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:28 2006 -0800

    [PATCH] hrtimer: coding style and white space cleanup 2
    
    style/whitespace/macro cleanups of posix-timers.h
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a924b04ddea9788e09f387fe19ccbede5f09ddd8
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:27 2006 -0800

    [PATCH] hrtimer: make clockid_t arguments const
    
    add const arguments to the posix-timers.h API functions
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 57a558757bdbb877b54ed5ea15bd0892e02a707d
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 20:52:26 2006 -0800

    [PATCH] hrtimer: coding style and white space cleanup
    
    style and whitespace cleanup of the rest of time.h.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1ad106ca185e66dc312518e18e2ffaedf376a160
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 20:52:25 2006 -0800

    [PATCH] hrtimer: coding style clean up of clock constants
    
    clean up the CLOCK_ portions of time.h
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c4f6eeca98a805fd0c2536b55039383eb56d2ba
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:25 2006 -0800

    [PATCH] hrtimer: remove unused clock constants
    
    remove unused CLOCK_ constants from time.h
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 199e7056895c8427dec63e1d9841ceafcfaaf314
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:52:24 2006 -0800

    [PATCH] hrtimer: export deinlined mktime
    
    This is now uninlined, but some modules use it.
    
    Make it a non-GPL export, since the inlined mktime() was also available that
    way.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4818900fa3ee1c56e96f6dede7cc4c05ed383d1
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 20:52:23 2006 -0800

    [PATCH] hrtimer: clean up mktime and make arguments const
    
    add 'const' to mktime arguments, and clean it up a bit
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 753be6222728996974e9e12c185108fcabbb7c6e
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:22 2006 -0800

    [PATCH] hrtimer: deinline mktime and set_normalized_timespec
    
    mktime() and set_normalized_timespec() are large inline functions used in many
    places: deinline them.
    
    From: George Anzinger, off-by-1 bugfix
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67924be88607303a4459fe1c7dcd75527c338cf4
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:21 2006 -0800

    [PATCH] hrtimer: remove duplicate div_long_long_rem implementation
    
    make posix-timers.c use the generic calc64.h facility
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5cca7619a562c9d98a3a0123dc878d79bf3c8fb3
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Jan 9 20:52:20 2006 -0800

    [PATCH] hrtimer: move div_long_long_rem out of jiffies.h
    
    move div_long_long_rem() from jiffies.h into a new calc64.h include file, as
    it is a general math function useful for other things than the jiffy code.
    Convert it to an inline function
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af4cd3fe4cfa75ca74f8d8622867371289043a8d
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Mon Jan 9 20:52:18 2006 -0800

    [PATCH] Generic ioctl.h
    
    Most arches copied the i386 ioctl.h.  Combine them into a generic header.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ff92053ddff48d9d7908a353bd85f893944463e
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:17 2006 -0800

    [PATCH] don't include ioctl32.h in drivers
    
    These days ioctl32.h is only used for communication of fs/compat.c and
    fs/compat_ioctl.c and doesn't contain anything of interest to drivers.
    
    Remove inclusion in various drivers.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc33a7bb9c6dd8f6e4a014976200f8fdabb3a45c
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:17 2006 -0800

    [PATCH] per-mountpoint noatime/nodiratime
    
    Turn noatime and nodiratime into per-mount instead of per-sb flags.
    
    After all the preparations this is a rather trivial patch.  The mount code
    needs to treat the two options as per-mount instead of per-superblock, and
    touch_atime needs to be changed to check the new MNT_ flags in addition to
    the MS_ flags that are kept for filesystems that are always
    noatime/nodiratime but not user settable anymore.  Besides that core code
    only nfs needed an update because it's leaving atime updates to the server
    and thus sets the S_NOATIME flag on every inode, but needs to know whether
    it's a real noatime mount for an getattr optimization.
    
    While we're at it I've killed the IS_NOATIME/IS_NODIRATIME macros that were
    only used by touch_atime.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d456fa4261f43433287a10fe3ec04a9818fac64
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:15 2006 -0800

    [PATCH] 9p: remove superflous MS_NODIRATIME assignment
    
    MS_NOATIME implies MS_NODIRATIME
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24a44dca356e7c68e33bece4effa7021e7429493
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:14 2006 -0800

    [PATCH] ntfs: remove superflous MS_NOATIME/MS_NODIRATIME assignments
    
    MS_RDONLU implies not atime updates at all, no need for the MS_NOATIME and
    MS_NODIRATIME flags.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Anton Altaparmakov <aia21@cantab.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6a6d2efcb7e7c87c5fe0395803da1453b29cbef
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:14 2006 -0800

    [PATCH] sanitize building of fs/compat_ioctl.c
    
    Now that all these entries in the arch ioctl32.c files are gone [1], we can
    build fs/compat_ioctl.c as a normal object and kill tons of cruft.  We need a
    special do_ioctl32_pointer handler for s390 so the compat_ptr call is done.
    This is not needed but harmless on all other architectures.  Also remove some
    superflous includes in fs/compat_ioctl.c
    
    Tested on ppc64.
    
    [1] parisc still had it's PPP handler left, which is not fully correct
        for ppp and besides that ppp uses the generic SIOCPRIV ioctl so it'd
        kick in for all netdevice users.  We can introduce a proper handler
        in one of the next patch series by adding a compat_ioctl method to
        struct net_device but for now let's just kill it - parisc doesn't
        compile in mainline anyway and I don't want this to block this
        patchset.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Matthew Wilcox <willy@debian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8262037f406dc8e0908ad51f355c3dfd4d662aba
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:12 2006 -0800

    [PATCH] add ->compat_ioctl to dasd
    
    Add a compat_ioctl method to the dasd driver so the last entries in
    arch/s390/kernel/compat_ioctl.c can go away.  Unlike the previous attempt this
    one does not replace the ioctl method with an unlocked_ioctl method so that
    the ioctl_by_bdev calls in s390 partition code continue to work.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ec3cad96901373ad0e21611cfbcc372fe09df1f7
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:11 2006 -0800

    [PATCH] move rtc compat ioctl handling to fs/compat_ioctl.c
    
    This patch implements generic handling of RTC_IRQP_READ32, RTC_IRQP_SET32,
    RTC_EPOCH_READ32 and RTC_EPOCH_SET32 in fs/compat_ioctl.c.  It's based on the
    x86_64 code which needed a little massaging to be endian-clean.
    
    parisc used COMPAT_IOCTL or generic w_long handlers for these whichce is wrong
    and can't work because the ioctls encode sizeof(unsigned long) in their ioctl
    number.  parisc also duplicated COMPAT_IOCTL entries for other rtc ioctls
    which I remove in this patch, too.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Matthew Wilcox <matthew@wil.cx>
    Acked-by: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a0f69d59ba41fbcad6a17b6e8aab02bf45e20ce
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:08 2006 -0800

    [PATCH] common compat_sys_timer_create
    
    The comment in compat.c is wrong, every architecture provides a
    get_compat_sigevent() for the IPC compat code already.
    
    This basically moves the x86_64 version to common code and removes all the
    others.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Paul Mackerras <paulus@samba.org>
    Cc: Arnd Bergmann <arnd@arndb.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Acked-by: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f042e0f80b0a9f5bb57c36d60a2798de6ca943b2
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:07 2006 -0800

    [PATCH] ->compat_ioctl for 390 tape_char
    
    The only own ioctl, TAPE390_DISPLAY, is compat_clean, everything else is
    routed through common translation code.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51a990588a3e38f7963964813786fa4f0da43ecc
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:05 2006 -0800

    [PATCH] remove TIOCGSERIAL/TIOCSSERIAL compat_ioctl entries for 390
    
    These ioctls are definitely not compat clean, but we already have a proper
    handler in common code, over-riding it in architecture code is
    counter-productive.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f75e00c9ac5c7b127b5f1f48f1dc421be507133
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:04 2006 -0800

    [PATCH] switch fs3270 to ->compat_ioctl
    
    Again easy because all ioctls are compat clean.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bdff071dbf911bf5d1dcaedfaafebb549d2fd969
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:52:03 2006 -0800

    [PATCH] __deprecated_for_modules the lookup_hash() prototype
    
    This patch __deprecated_for_modules the lookup_hash() prototype.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 869243a0f6143f76e7c847e707eee6ece9cbf821
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:03 2006 -0800

    [PATCH] remove update_atime
    
    All callers use touch_atime now which takes a vfsmount and allows us to
    implement per-mount noatime.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9cf6f4b3a3d24d8a41515b509b8fb6448f9201e9
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:02 2006 -0800

    [PATCH] switch autofs4 to touch_atime()
    
    After my lookup_hash patch ->d_revalidate always gets a valid struct nameidata
    passed (unless you use lookup_one_len which autofs4 doesn't), so we can switch
    it from update_atime to touch_atime.  This is a bit of an academic excercise
    because autofs has a 1:1 vfsmount superblock relation, but I want to get rid
    of update_atime so filesystems authors can't easily screw up per-mountpoint
    noatime support.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Ian Kent <raven@themaw.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 870f481793b585323fbda3e87c54efc116f46351
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:01 2006 -0800

    [PATCH] replace inode_update_time with file_update_time
    
    To allow various options to work per-mount instead of per-sb we need a
    struct vfsmount when updating ctime and mtime.  This preparation patch
    replaces the inode_update_time routine with a file_update_atime routine so
    we can easily get at the vfsmount.  (and the file makes more sense in this
    context anyway).  Also get rid of the unused second argument - we always
    want to update the ctime when calling this routine.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Anton Altaparmakov <aia21@cantab.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3542c6e18f6470bad2bde1e94331e4f488a8d3f1
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:52:00 2006 -0800

    [PATCH] remove xfs xattr permission checks
    
    remove checks now in the VFS
    
    XFS has an additional xattr interface through obscure ioctl.  it requires
    raised capabilities but we need to add some read-only/immutable checks anyway
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Nathan Scott <nathans@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b98932cb514eef404c6168c9a15cf28851498dea
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:51:59 2006 -0800

    [PATCH] remove reiserfs xattr permission checks
    
    remove checks now in the VFS
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c37ef806a3e1c0bca65fd03b7590d56d19625da4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:58 2006 -0800

    [PATCH] remove ext3 xattr permission checks
    
    )
    
    From: Christoph Hellwig <hch@lst.de>
    
    remove checks now in the VFS
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 267fd05791aafea3786494365a5d13d7923ef526
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:58 2006 -0800

    [PATCH] remove ext2 xattr permission checks
    
    )
    
    From: Christoph Hellwig <hch@lst.de>
    
    remove checks now in the VFS
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44a0033f6d5f3e7e2fc37d7b44a1d105c70d4682
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:51:57 2006 -0800

    [PATCH] remove jfs xattr permission checks
    
    remove checks now in the VFS
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0ad7b073eb7317e5afe0385b02dcb1d52a1eedf
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:56 2006 -0800

    [PATCH] move xattr permission checks into the VFS
    
    )
    
    From: Christoph Hellwig <hch@lst.de>
    
    The xattr code has rather complex permission checks because the rules are very
    different for different attribute namespaces.  This patch moves as much as we
    can into the generic code.  Currently all the major disk based filesystems
    duplicate these checks, while many minor filesystems or network filesystems
    lack some or all of them.
    
    To do this we need defines for the extended attribute names in common code, I
    moved them up from JFS which had the nicest defintions.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5be196e5f925dab2309530fabce69c2e562b9791
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Jan 9 20:51:55 2006 -0800

    [PATCH] add vfs_* helpers for xattr operations
    
    Add vfs_getxattr, vfs_setxattr and vfs_removexattr helpers for common checks
    around invocation of the xattr methods.  NFSD already was missing some of the
    checks and there will be more soon.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: James Morris <jmorris@namei.org>
    
    (James, I haven't touched selinux yet because it's doing various odd things
    and I'm not sure how it would interact with the security attribute fallbacks
    you added.  Could you investigate whether it could use vfs_getxattr or if not
    add a __vfs_getxattr helper to share the bits it is fine with?)
    
    For NFSv4: instead of just converting it add an nfsd_getxattr helper for the
    code shared by NFSv2/3 and NFSv4 ACLs.  In fact that code isn't even
    NFS-specific, but I'll wait for more users to pop up first before moving it to
    common code.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7e670d828e85ef9aacb7fa1cd221525c408110f
Author: Maneesh Soni <maneesh@in.ibm.com>
Date:   Mon Jan 9 20:51:53 2006 -0800

    [PATCH] Kdump documentation update
    
    Update the kdump documentation to reflect the changes due to recent kernel
    config option changes for kexec and kdump.
    
    Signed-off-by: Maneesh Soni <maneesh@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05970d476f2c8aa0f47e4e82473b0551b1e4e6d4
Author: Maneesh Soni <maneesh@in.ibm.com>
Date:   Mon Jan 9 20:51:52 2006 -0800

    [PATCH] kexec: change CONFIG_PHYSICAL_START dependency
    
    I have heard some complaints about people not finding CONFIG_CRASH_DUMP
    option and also some objections about its dependency on CONFIG_EMBEDDED.
    The following patch ends that dependency.  I thought of hiding it under
    CONFIG_KEXEC, but CONFIG_PHYSICAL_START could also be used for some reasons
    other than kexec/kdump and hence left it visible.  I will also update the
    documentation accordingly.
    
    o Following patch removes the config dependency of CONFIG_PHYSICAL_START
      on CONFIG_EMBEDDED. The reason being CONFIG_CRASH_DUMP option for
      kdump needs CONFIG_PHYSICAL_START which makes CONFIG_CRASH_DUMP depend
      on CONFIG_EMBEDDED. It is not always obvious for kdump users to choose
      CONFIG_EMBEDDED.
    
    o It also shifts the palce where this option appears, to make it closer
      to kexec and kdump options.
    
    Signed-off-by: Maneesh Soni <maneesh@in.ibm.com>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Cc: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 720e1a9f1c3bfa9f72cded56962e7f092fefaaed
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:51 2006 -0800

    [PATCH] kexec: increase max segment limit
    
    )
    
    From: Vivek Goyal <vgoyal@in.ibm.com>
    
    - In some cases, the number of segments, on a kexec load, exceeds the
      existing cap of 8.  This patch increases the KEXEC_SEGMENT_MAX limit from 8
      to 16.
    
    Signed-off-by: Rachita Kothiyal <rachita@in.ibm.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ae362be509306eafa6441603686d33fefe321c1
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:50 2006 -0800

    [PATCH] kdump: read previous kernel's memory
    
    - Moving the crash_dump.c file to arch dependent part as kmap_atomic_pfn is
      specific to i386 and highmem may not exist in other archs.
    
    - Use ioremap for x86_64 to map the previous kernel memory.
    
    - In copy_oldmem_page(), we now directly copy to the user/kernel buffer and
      avoid the unneccesary copy to a kmalloc'd page.
    
    Signed-off-by: Rachita Kothiyal <rachita@in.ibm.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ec9ce0dbaa734bc95ec73cf5c13f202f1adb219d
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:49 2006 -0800

    [PATCH] kdump: x86_64 save cpu registers upon crash
    
    - Saving the cpu registers of all cpus before booting in to the crash
      kernel.
    
    - crash_setup_regs will save the registers of the cpu on which panic has
      occured.  One of the concerns ppc64 folks raised is that after capturing the
      register states, one should not pop the current call frame and push new one.
       Hence it has been inlined.  More call frames later get pushed on to stack
      (machine_crash_shutdown() and machine_kexec()), but one will not want to
      backtrace those.
    
    - Not very sure about the CFI annotations.  With this patch I am getting
      decent backtrace with gdb.  Assuming, compiler has generated enough
      debugging information for crash_kexec().  Coding crash_setup_regs() in pure
      assembly makes it tricky because then it can not be inlined and we don't
      want to return back after capturing register states we don't want to pop
      this call frame.
    
    - Saving the non-panicing cpus registers will be done in the NMI handler
      while shooting down them in machine_crash_shutdown.
    
    - Introducing CRASH_DUMP option in Kconfig for x86_64.
    
    Signed-off-by: Murali M Chakravarthy <muralim@in.ibm.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cffe632a25b017dac4b6f060cad31940c6c167b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:48 2006 -0800

    [PATCH] kdump: x86_64 kexec on panic
    
    )
    
    From: Vivek Goyal <vgoyal@in.ibm.com>
    
    - Implementing the machine_crash_shutdown for x86_64 which will be called by
      crash_kexec (called in case of a panic, sysrq etc.).  Here we do things
      similar to i386.  Disable the interrupts, shootdown the cpus and shutdown
      LAPIC and IOAPIC.
    
    Changes in this version:
    
    - As the Eric's APIC initialization patches are reverted back, reintroducing
      LAPIC and IOAPIC shutdown.
    
    - Added some comments on CPU hotplug, modified code as suggested by Andi
      kleen.
    
    Signed-off-by: Murali M Chakravarthy <muralim@in.ibm.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aac04b32f3e4c63f461459d0e1d6aa01caac6e66
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:47 2006 -0800

    [PATCH] kdump: x86_64: add elfcorehdr command line option
    
    - elfcorehdr= specifies the location of elf core header stored by the
      crashed kernel.  This command line option will be passed by the kexec-tools
      to capture kernel.
    
    Changes in this version :
    
    - Added more comments in kernel-parameters.txt and in code.
    
    Signed-off-by: Murali M Chakravarthy <muralim@in.ibm.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69cda7b1f06befb8d6a884b8a663d19dcaef590b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:46 2006 -0800

    [PATCH] kdump: x86_64: add memmmap command line option
    
    )
    
    From: Vivek Goyal <vgoyal@in.ibm.com>
    
    - This patch introduces the memmap option for x86_64 similar to i386.
    
    - memmap=exactmap enables setting of an exact E820 memory map, as specified
      by the user.
    
    Changes in this version:
    
    - Used e820_end_of_ram() to find the max_pfn as suggested by Andi kleen.
    
    - removed PFN_UP & PFN_DOWN macros
    
    - Printing the user defined map also.
    
    Signed-off-by: Murali M Chakravarthy <muralim@in.ibm.com>
    Signed-off-by: Hariprasad Nellitheertha <nharipra@gmail.com>
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf2083050d7879390ddedbd64e431cf167854a34
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:45 2006 -0800

    [PATCH] Kdump: powerpc and s390 build failure fix
    
    )
    
    From: Vivek Goyal <vgoyal@in.ibm.com>
    
    crash_setup_regs() is an architecture dependent function which is called in
    architecture independent section.  So every architecture supporting kexec
    should at least provide a dummy definition of crash_setup_regs() even if
    crash dumping is not implemented yet, to avoid build failures.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f05b690248bc928b85cc19ea85a5c6268bb3acaf
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:44 2006 -0800

    [PATCH] Kdump: i386 compiler warning fix
    
    Fixes a compilation warning message in i386
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e996e58133c475bcf3a229f716b9457267cbaa0a
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:44 2006 -0800

    [PATCH] kdump: save registers early (inline functions)
    
    - If system panics then cpu register states are captured through funciton
      crash_get_current_regs().  This is not a inline function hence a stack frame
      is pushed on to the stack and then cpu register state is captured.  Later
      this frame is popped and new frames are pushed (machine_kexec).
    
    - In theory this is not very right as we are capturing register states for a
      frame and that frame is no more valid.  This seems to have created back
      trace problems for ppc64.
    
    - This patch fixes it up.  The very first thing it does after entering
      crash_kexec() is to capture the register states.  Anyway we don't want the
      back trace beyond crash_kexec().  crash_get_current_regs() has been made
      inline
    
    - crash_setup_regs() is the top architecture dependent function which should
      be responsible for capturing the register states as well as to do some
      architecture dependent tricks.  For ex.  fixing up ss and esp for i386.
      crash_setup_regs() has also been made inline to ensure no new call frame is
      pushed onto stack.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35ed319a36cdfd88fc3debe6ce24e756bc474cce
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:42 2006 -0800

    [PATCH] kdump: export per cpu crash notes pointer through sysfs (fix)
    
    Removes the call to get_cpu() and put_cpu() as it is not required.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51be5606d9ff9eb27ed6514f6172fbd7578a25d6
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:42 2006 -0800

    [PATCH] kdump: export per cpu crash notes pointer through sysfs
    
    - Kexec on panic functionality allocates memory for saving cpu registers in
      case of system crash event.  Address of this allocated memory needs to be
      exported to user space, which is used by kexec-tools.
    
    - Previously, a single /sys/kernel/crash_notes entry was being exported as
      memory allocated was a single continuous array.  Now memory allocation being
      dyanmic and per cpu based, address of per cpu buffer is exported through
      "/sys/devices/system/cpu/cpuX/crash_notes"
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc57165874e938ef684d71ba7d36e7088b551489
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Mon Jan 9 20:51:41 2006 -0800

    [PATCH] kdump: dynamic per cpu allocation of memory for saving cpu registers
    
    - In case of system crash, current state of cpu registers is saved in memory
      in elf note format.  So far memory for storing elf notes was being allocated
      statically for NR_CPUS.
    
    - This patch introduces dynamic allocation of memory for storing elf notes.
      It uses alloc_percpu() interface.  This should lead to better memory usage.
    
    - Introduced based on Andi Kleen's and Eric W. Biederman's suggestions.
    
    - This patch also moves memory allocation for elf notes from architecture
      dependent portion to architecture independent portion.  Now crash_notes is
      architecture independent.  The whole idea is that size of memory to be
      allocated per cpu (MAX_NOTE_BYTES) can be architecture dependent and
      allocation of this memory can be architecture independent.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82409411571ad89d271dc46f7fa26149fad9efdf
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:40 2006 -0800

    [PATCH] kdump: i386 save ss esp bug fix
    
    )
    
    From: Vivek Goyal <vgoyal@in.ibm.com>
    
    This patch fixes a minor bug based on Andi Kleen's suggestion.  asm's can't be
    broken in this particular case, hence merging them.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aed615a95f6dcc243daa99cc80658ad9ada95097
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Jan 9 20:51:39 2006 -0800

    [PATCH] Disable rio on 64-bit platforms
    
    Do it via Kconfig rather than via #error.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed653a640419cd9d1ad0f8dc176478e6634a694e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:38 2006 -0800

    [PATCH] Remove set_fs() in stop_machine()
    
    )
    
    From: Brian Gerst <bgerst@didntduck.org>
    
    Call sched_setscheduler() directly instead.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df2e71fb9115a8d4f721fb1464db09adc8332bc5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:37 2006 -0800

    [PATCH] dump_thread() cleanup
    
    )
    
    From: Adrian Bunk <bunk@stusta.de>
    
    - create one common dump_thread() prototype in kernel.h
    
    - dump_thread() is only used in fs/binfmt_aout.c and can therefore be
      removed on all architectures where CONFIG_BINFMT_AOUT is not
      available
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit be4f1bb2627c2d963d09be1cd69f8820995a9112
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:51:36 2006 -0800

    [PATCH] ipmi: fix compile errors with PROC_FS=n
    
    ...
      CC [M]  drivers/char/ipmi/ipmi_msghandler.o
    drivers/char/ipmi/ipmi_msghandler.c:3301: `proc_ipmi_root' undeclared here (not in a function)
    drivers/char/ipmi/ipmi_msghandler.c:3301: initializer element is not constant
    drivers/char/ipmi/ipmi_msghandler.c:3301: (near initialization for `__ksymtab_proc_ipmi_root.value')
    drivers/char/ipmi/ipmi_msghandler.c:1535: warning: `ipmb_file_read_proc' defined but not used
    drivers/char/ipmi/ipmi_msghandler.c:1551: warning: `version_file_read_proc' defined but not used
    drivers/char/ipmi/ipmi_msghandler.c:1561: warning: `stat_file_read_proc' defined but not used
    ...
      CC [M]  drivers/char/ipmi/ipmi_poweroff.o
    drivers/char/ipmi/ipmi_poweroff.c: In function `ipmi_poweroff_init':
    drivers/char/ipmi/ipmi_poweroff.c:616: warning: implicit declaration of function `unregister_sysctl_table'
    drivers/char/ipmi/ipmi_poweroff.c:616: `ipmi_table_header' undeclared (first use in this function)
    drivers/char/ipmi/ipmi_poweroff.c:616: (Each undeclared identifier is reported only once
    drivers/char/ipmi/ipmi_poweroff.c:616: for each function it appears in.)
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c107805aba774667debc01704718960339c24b9
Author: Dave Jones <davej@redhat.com>
Date:   Mon Jan 9 20:51:32 2006 -0800

    [PATCH] printk levels for i386 oops code.
    
    Especially useful when users have booted with 'quiet'.  In the regular 'oops'
    path, we set the console_loglevel before we start spewing debug info, but we
    can call the backtrace code from other places now too, such as the spinlock
    debugging code.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51989b9ffeea58999054fe3f21bd0cd0bd207e5a
Author: Dave Jones <davej@redhat.com>
Date:   Mon Jan 9 20:51:32 2006 -0800

    [PATCH] printk levels for spinlock debug
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ad42352c01788e41a33336577fdd270d8de55bb
Author: David Howells <dhowells@redhat.com>
Date:   Mon Jan 9 20:51:31 2006 -0800

    [PATCH] Add list_for_each_entry_safe_reverse()
    
    Add list_for_each_entry_safe_reverse() to linux/list.h
    
    This is needed by unmerged cachefs and be an as-yet-unreviewed
    device_shutdown() fix.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Cc: Patrick Mochel <mochel@digitalimplant.org>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e329113ca437e44ec399b7ffe114ed36e84ccf5e
Author: Ben Gardner <gardner.ben@gmail.com>
Date:   Mon Jan 9 20:51:29 2006 -0800

    [PATCH] i386: GPIO driver for AMD CS5535/CS5536
    
    A simple driver for the CS5535 and CS5536 that allows a user-space program
    to manipulate GPIO pins.  The CS5535/CS5536 chips are Geode processor
    companion devices.
    
    Signed-off-by: Ben Gardner <bgardner@wabtec.com>
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6dd214b554f675e7e66cbce87e594a36f4a57298
Author: Andrey Borzenkov <arvidjaar@mail.ru>
Date:   Mon Jan 9 20:51:28 2006 -0800

    [PATCH] fix /sys/class/net/<if>/wireless without dev->get_wireless_stats
    
    dev->get_wireless_stats is deprecated but removing it also removes wireless
    subdirectory in sysfs. This patch puts it back.
    
    akpm: I don't know what's happening here.  This might be appropriate as a
    2.6.15.x compatibility backport.  Waiting to hear from Jeff.
    
    Signed-off-by: Andrey Borzenkov <arvidjaar@mail.ru>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0137ecfdc3453f58a9beee95152ff61e8bad97b1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Jan 9 20:51:27 2006 -0800

    [PATCH] nvidiafb: Fixes for new G5
    
    Recent X "nv" driver was fixed for various issues with modern 6xxx and 7xxx
    cards.  This patch ports those fixes to nvidiafb.  This makes it work fine
    on the 6600 bundled with the newest G5 macs.  I've verified it still works
    on the 5200FX of the iMacG5.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Acked-by: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2308acca656c3625c46b671b348fb04b6b006cad
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 9 20:51:26 2006 -0800

    [PATCH] "tiny-make-id16-support-optional" fixes
    
    It seems the "make UID16 support optional" patch was checked when it
    edited the -tiny tree some time ago, but it wasn't checked whether it
    still matches the current situation when it was submitted for inclusion
    in -mm. This patch fixes the following bugs:
    - ARCH_S390X does no longer exist, nowadays this has to be expressed
      through (S390 && 64BIT)
    - in five architecture specific Kconfig files the UID16 options
      weren't removed
    
    Additionally, it changes the fragile negative dependencies of UID16 to
    positive dependencies (new architectures are more likely to not require
    UID16 support).
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1306a482288152ea0ac091c7a8471adc5569e6c8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:25 2006 -0800

    [PATCH] remove asm/serial.h from synclink_gt.
    
    Not all architectures implement asm/serial.h, and the driver doesn't appear to
    need it anyway.
    
    Cc: Paul Fulghum <paulkf@microgate.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3a9aea7aacb26881f3488b879750edb4a578c50
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 20:51:24 2006 -0800

    [PATCH] spufs: fix for recent "shrink dentry_struct" patch
    
    Cc: Eric Dumazet <dada1@cosmosbay.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97460df37ea3335ca11562568932c9f9facfecdb
Author: Eli Cohen <eli@mellanox.co.il>
Date:   Tue Jan 10 07:43:02 2006 -0800

    IPoIB: Fix address handle refcounting for multicast groups
    
    Multiple ipoib_neigh structures on mcast->neigh_list may point to the
    same ah.  This means that ipoib_mcast_free() can't just make a list of
    ah structs to free, since this might end up trying to add the same ah
    to the list more than once.  Handle this in ipoib_multicast.c in the
    same way as it is handled in ipoib_main.c for struct ipoib_path.
    
    Signed-off-by: Eli Cohen <eli@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 70b4c8cdc168bb5d18e23fd205c4ede1b756a8b2
Author: Eli Cohen <eli@mellanox.co.il>
Date:   Tue Jan 10 07:42:14 2006 -0800

    IPoIB: Fix error path in ipoib_mcast_dev_flush()
    
    Don't leak memory on allocation failure for broadcast mcast group.
    Also, print a warning to match handling for other mcast groups.
    
    Signed-off-by: Eli Cohen <eli@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit cf311cd49a78f1e431787068cc31d29d06a415e6
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Tue Jan 10 07:39:34 2006 -0800

    IB: Add node_guid to struct ib_device
    
    Add a node_guid field to struct ib_device.  It is the responsibility
    of the low-level driver to initialize this field before registering a
    device with the midlayer.  Convert everyone to looking at this field
    instead of calling ib_query_device() when all they want is the node
    GUID, and remove the node_guid field from struct ib_device_attr.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit adfc76419bff33542d4fd53dc7f24818f846f194
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Dec 23 02:48:17 2005 +0100

    MIPS: Malta: Change CPU default to R2.
    
    ... giving those with with R1 or older CPU cards more rope to
    missconfigure their kernels.  But MIPS is only selling R2 CPUs since
    two or three years already.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 948928add5b64abd314bc196ac9442618e751487
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Dec 23 02:16:44 2005 +0100

    MIPS: R2: Set 64BIT_PHYS_ADDR for R2 processor also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7043ad4f4c81914ca9e2cd2208c8f4801ed63735
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Dec 22 13:41:29 2005 +0100

    MIPS: R2: Try to bulletproof instruction_hazard against miss-compilation.
    
    Gcc has a tradition of misscompiling the previous construct using the
    address of a label as argument to inline assembler.  Gas otoh has the
    annoying difference between la and dla which are only usable for 32-bit
    rsp. 64-bit code, so can't be used without conditional compilation.
    The alterantive is switching the assembler to 64-bit code which happens
    to work right even for 32-bit code ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 15265251c5c68fbabdf561cf704e3e305349715a
Author: Maxime Bizon <mbizon@freebox.fr>
Date:   Tue Dec 20 06:32:19 2005 +0100

    MIPS: R2: Fix local_irq_save()
    
    local_irq_restore uses di which saves the whole status content, not
    just the IE bit resulting in  local_irq_restore() to fail.  This only
    happens if both CONFIG_CPU_MIPSR2 and CONFIG_IRQ_CPU are enabled.
    
    Signed-off-by: Maxime Bizon <mbizon@freebox.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d4ea001dd0912a14967266581601494d94a4c565
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Dec 21 03:02:26 2005 +0100

    MIPS: Don't pass -finline-limit=100000.
    
    This was a stop gap meassure for gcc 3.3 and newer sometimes not inlining
    inline functions in the 2.4 days.  Starting we pass the always_inline
    attribute, so -finline-limit is no longer necessary and it's been shown
    to problematic on Sparc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d56efda4510b1c6be3bd5ceb3e6dd3a4d64396f3
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Dec 16 22:40:47 2005 +0000

    MIPS: Namespace pollution: dump_regs() -> elf_dump_regs()
    
    dump_regs() is used by a bunch of drivers for their internal stuff;
    renamed mips instance (one that is seen in system-wide headers)
    to elf_dump_regs()
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 830e9c002a5864e8cfcc55d3875cdebdd4168b00
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Dec 17 21:11:02 2005 +0000

    MIPS: Remove unused CONFIG_CPU_HAS_LLDSCD.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c5c64e22834c9f43f246072b4dcb293c9cea0ebe
Author: Sergei Shtylyov <sshtylyov@dev.rtsoft.ru>
Date:   Fri Nov 25 22:08:08 2005 +0300

    MIPS: Au1550: Fix OHCI memory map size
    
    USB OpenHCI host controller on Au1550 only decodes memory addresses from
    0x14020000 to 0x1407FFFF according to the databook, which gives 0x60000
    (on the prior Au1x00 chips the map size was 1MB).
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Acked-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 29ce2c765ca9a41be6f31aa1770e8ee3ee48cd21
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Dec 12 20:11:50 2005 +0000

    Update Yoichi Yuasa's email address.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2065988e9fb1628de7958b0f7f709b93302f7b97
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Dec 9 12:42:13 2005 +0000

    MIPS: Oprofile: Add 5K, 20K and 25K support.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9efeae9a5cae7e7bdacff666a1d689f5b2901c64
Author: Ralf Baechle <ralf@ongar.mips.com>
Date:   Fri Dec 9 12:34:45 2005 +0000

    MIPS: Oprofile: Print error message if the CPU happen to have no counters.
    
    Signed-off-by: Ralf Baechle <ralf@ongar.mips.com>

commit ba339c03e2e8ede8ccd37ed6c4e564e3b1545495
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Dec 9 12:29:38 2005 +0000

    MIPS: Oprofile: Fixup the loose ends in the plumbing.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0401572a9b9b2f368176b6e53f53004fd048a566
Author: Ralf Baechle <ralf@ongar.mips.com>
Date:   Fri Dec 9 12:20:49 2005 +0000

    MIPS: Reorganize ISA constants strictly as bitmasks.
    
    Signed-off-by: Ralf Baechle <ralf@ongar.mips.com>

commit 11e6df65dc2bae8e7ad17ff81611ddc850b279cd
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Dec 9 12:09:22 2005 +0000

    MIPS: MIPS boards: Get rid of useless SMP/non-SMP casing.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b4672d37293cb045ec4d57e8b76a62810c96da71
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Dec 8 14:04:24 2005 +0000

    MIPS: Introduce machinery for testing for MIPSxxR1/2.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e7958bb90d57f0da073cbd031a1808de51d1de15
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Dec 8 13:00:20 2005 +0000

    MIPS: Rename MIPS_CPU_ISA_M{32,64} -> MIPS_CPU_ISA_M{32,64}R1.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 571e0bed85470882cedfb100e847902911c3f4d2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Dec 8 00:32:23 2005 +0000

    MIPS: MT: Fix 32-bit dependencies.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b2d28b7ea57edb4dee34a70fcd89083134017d4d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Dec 7 18:57:52 2005 +0000

    MIPS: Get rid of atomic_lock.
    
    It was resulting in build errors for some configurations.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2d5e7b9ffd6fd0cdcf4c51a56b7158a7e38f3dbe
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Dec 7 18:04:40 2005 +0000

    MIPS: FP: Remove silly trick to avoid warning.
    
    Just doesn't fool a modern compiler anymore.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 264879576cabb85f9992e63e0209a99885e3e2f1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Dec 7 17:52:40 2005 +0000

    MIPS: DSP: Put mask field into the right place.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c4fa6348750c68241a14fc255d66b5079439cb30
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Dec 7 17:50:48 2005 +0000

    MIPS: DSP: Put DSPcontrol register into the right place in the signal frame.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 07a801def46f412a7ce6de9553dfd8895bf33356
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Dec 6 09:43:20 2005 +0000

    MIPS: DSP: Set all register masks to 0x3ff.
    
    0x2ff was a typo and the value 0x1f of DSP_MASK was refering to an old
    version of the documentation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f12555d24ca636569b51c6f104aab41b2bba8c32
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Nov 30 13:33:26 2005 +0900

    MIPS: Fix mdelay(1) for 64bit kernel with HZ == 1000
    
    mdelay(1) (i.e. udelay(1000)) does not work correctly due to overflow.
    
    1000 * 0x004189374BC6A7f0 = 0x10000000000000180 (>= 2**64)
    
    0x004189374BC6A7ef (0x004189374BC6A7f0 - 1) is OK and it is exactly
    same as catchall case (0x8000000000000000UL / (500000 / HZ)).
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6c35585273b26a580b2e2ad3d6a7db282308eec5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Dec 5 13:47:25 2005 +0000

    MIPS: DSP: eleminate used_dsp.
    
    used_dsp was meant to be used like used_math - but since the FPU context
    is small and lazy context switching is a stupid idea on multiprocessors
    this idea only got halfway implemented and those bits are were now
    breaking ptrace.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit da2c9ed55b0c7e8107f23530bde293239a0b5091
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Dec 5 13:39:25 2005 +0000

    MIPS: DSP: Context switch the DSPcontrol register also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f8e0f2905bf0a7cb5ef2baaf009f0c26f80c3056
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Tue Jan 10 19:56:17 2006 +1100

    drm: fix radeon warnings on 64-bit
    
    From: Andrew Morton <akpm@osdl.org>
    
    drivers/char/drm/radeon_state.c: In function `radeon_cp_dispatch_texture':
    drivers/char/drm/radeon_state.c:1653: warning: int format, different type arg
    (arg 3)
    drivers/char/drm/radeon_state.c:1661: warning: int format, different type arg
    (arg 3)
    drivers/char/drm/radeon_state.c:1689: warning: int format, different type arg
    (arg 3)
    
    sizeof() doesn't return an int.
    
    Cc: Dave Airlie <airlied@linux.ie>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 2185200cd2a910ca7f4e3fa0370c6ed8a2bdc49c
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Tue Jan 10 19:53:54 2006 +1100

    drm: fix warning on alpha
    
    From: Andrew Morton <akpm@osdl.org>
    
    On alpha:
    
    drivers/char/drm/via_dmablit.h:44: error: field `direction' has incomplete type
    
    Cc: Dave Airlie <airlied@linux.ie>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 5fc4e6e197c7e377f1c8ebec727d40df983aceed
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Jan 10 02:00:39 2006 -0500

    Input: ibmasm - fix input initialization error path
    
    Do not try to free device that has already been unregistered,
    input_unregister_device() frees it automatically.
    
    Spotted by Vernon Mauery <vernux@us.ibm.com>
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 94f8d28c47aa425cbcaa4ca7fc7935cd0ddb0151
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Tue Jan 10 02:00:27 2006 -0500

    Input: remove obsolete maple input drivers
    
    These haven't worked in some time, and we've dropped support for the bus
    from the SH tree until someone shows some interest in maintaining it.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e2bd470ec7ebccb338758b5ab1bebf1c7b926b04
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Tue Jan 10 01:59:51 2006 -0500

    Input: prepare for f_ops constness
    
    Avoid doing assignments to a live ->fops so it can be marked as 'const'.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit c28c3583679c181a03910b6356228e99fcc27167
Author: Miloslav Trmac <mitr@volny.cz>
Date:   Tue Jan 10 01:59:07 2006 -0500

    Input: wistron - do not crash if BIOS does not support interface
    
    offset can never be < 0 because it has type size_t.  The driver
    currently oopses on insmod if BIOS does not support the interface,
    instead of refusing to load.
    
    Signed-off-by: Miloslav Trmac <mitr@volny.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit ebbac7dde2f5c6b4bd219573f840d4b3952e6220
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Jan 10 01:58:47 2006 -0500

    Input: grip_mp - kill commented out code
    
    Kill leftovers of dynalloc conversion.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 3b212db9217d02e623eaa12f41c9b5f8c6a99535
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Tue Jan 10 05:16:22 2006 +0000

    [PATCH] powerpc: Some ppc compile fixes...
    
    This gets most of the Fedora rawhide RPM building again, as long as I
    disable CHRP.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8b4ad5e3ff94409973e824716c65568f0d97364c
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Jan 9 21:38:23 2006 -0800

    [MUTEX]: linux/mutex-debug.h needs linux/linkage.h
    
    For FASTCALL() define.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9d17a5c611a7462a41b06c75f661f4106d380a86
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Jan 10 14:50:37 2006 +1100

    [PATCH] powerpc: Extended PCI config space
    
    This adds back the call to pci_cfg_space_size() when building the PCI
    tree from OF nodes that was commented out due to the function not being
    exported by the PCI code. It's now exported, so let's use it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f8cd32167d96680af19c3ef5fb01d4460be89982
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Jan 10 10:36:14 2006 +1100

    [PATCH] powerpc: remove compat_sys_pciconfig_*
    
    Matthew Wilcox wondered why we need these functions.  We don't.
    Remove them and just use the "normal" versions.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 13b8a272297b29870d5bf5f8db7a381dd9e82382
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Jan 10 16:19:05 2006 +1100

    powerpc: Introduce a new config symbol to control 16550 early debug code
    
    The previous change by Kumar Gala in this area led to legacy_serial.c
    and udbg_16550.c being built as modules when CONFIG_SERIAL_8250=m.
    Fix this by introducing a new symbol, CONFIG_PPC_UDBG_16550, to
    control whether these files get built, and arrange for it to be selected
    for those platforms that need it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cdade109d36b5f958fdc93f31ae8b472afeab6ef
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Jan 9 20:43:57 2006 -0800

    [SPARC64]: Fix sys_fstat64() entry in 64-bit syscall table.
    
    Noticed by Jakub Jelinek.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0f17574a651884c721e1a33051719e59deb13c18
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Dec 1 18:42:32 2005 -0600

    [PATCH] powerpc/pseries: dlpar-add crash on null pointer deref
    
    This fixes a crash on null-pointer deref during dlpar slot addition.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 1c87c0f84943fbbc91826967ff4fea1b059a526f commit)

commit 18eb3b398d92028e6f09f0423aa4e2a7b1096db3
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 29 17:17:02 2005 +1100

    powerpc: Fix up some compile errors in the PCI error recovery code
    
    <asm/systemcfg.h> is gone now, and the PCI error recovery constants
    in include/linux/pci.h changed their names in the process of getting
    accepted.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 5a2516156c591fc3d2059fbd93f97e15eb6010d6 commit)

commit 257ffc64a6c22621ecb0371b7f10d5b40b74c878
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:55:25 2005 -0600

    [PATCH] powerpc: get rid of per_cpu EEH counters
    
    242-eeh-no-percpu-counters.patch
    
    Remove per-cpu counters from the EEH code.  These statistics counters
    are incremented at a very low frequency, and the performance gains of
    per-cpu variables are negligable.  By contrast, the counters weren't
    safe against cpu off/online operations, and its not worth the effort
    to make them so (other than to turn them into plain globals).
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from be3b5d1be053ccb41e91fa5a6f43ef5db301357d commit)

commit 7684b40cb53ba00cc51271f1c42897b776c48fbc
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:55:19 2005 -0600

    [PATCH] powerpc: Save device BARs much earlier in the boot sequence
    
    241-eeh-save-bars-earlier.patch
    
    Save the PCI device bars *before* any PCI probing is done.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 76c902b919098860f3d4e125f847abcc4cb1782a commit)

commit d177c207ba16b1db31283e2d1fee7ad4a863584b
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:55:14 2005 -0600

    [PATCH] powerpc: IOMMU: don't ioremap null addresses
    
    240-ioremap-null-ptr-test.patch
    
    Under highly unusual circumstances, a buggy driver will ask a null ptr
    to be ioremapped, an operation that curently succeeds but leads to
    later trouble.  Instead, refuse to remap the null pointer.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from e71d9e598533c1889e7162f5f4647e5d378c102c commit)

commit 3914ac7b0e672131dc2ac8b415ada79c4ccbbb31
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:55:01 2005 -0600

    [PATCH] powerpc: handle multifunction PCI devices properly
    
    239-eeh-multifunction-consolidate.patch
    
    New-style firmware will often place multiple different functions
    under a non-EEH-aware parent.  However, these devices might share
    a common PE "partition endpoint" and config address, ad thus any
    EEH events will affect all of the devices in common.  This patch
    makes the effort to find all of these common devices and handle
    them together.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 216810296bb97d39da8e176822e9de78d2f00187 commit)

commit b6495c0c8f100b882d85774f44529519befefba9
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:54 2005 -0600

    [PATCH] powerpc: Don't continue with PCI Error recovery if slot reset failed.
    
    238-eeh-stop-if-reset_failed.patch
    
    If the firmware is unable to reset the PCI slot for some reason, then
    don't attempt any further recovery steps after that point.  Instead,
    mark the device as permanently failed.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from e06b942521eb2cdaf232726f45a820d5837acb12 commit)

commit 21e464dd7c943c984dcccd9aff8c9f6a5ea920d7
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:47 2005 -0600

    [PATCH] powerpc: set up the RTAS token just like the rest of them.
    
    237-eeh-bridge-token.patch
    
    Minor: the rtas-bridge token should be set up the same way that all
    the other rtas tokens are set up.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 78379b6c5fc17b6666c40b05988e6708e98479c0 commit)

commit fcb7543e3d01ad9ebd3498eb50fcf323edb163ab
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:39 2005 -0600

    [PATCH] powerpc: Use PE configuration address consistently
    
    236-eeh-config-addr.patch
    
    The PE configuration address wasn't being cnsistently used in all locations
    where a config address is called for.  This patch adds it to the places it
    should have appeared in.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from c2bc904a28095aca0b04a37854b63b78622a032e commit)

commit 821b537fd7bf9018f1df4b882cea199613147f65
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:34 2005 -0600

    [PATCH] powerpc: bugfix: fill in uninitialized field
    
    235-eeh-set-pcidev-bugfix.patch
    
    The pci device field of the pci_dn struct should be initialized to a
    valid value.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from beb45c93d494a11c36e5b24f638e610db8428b54 commit)

commit 9fb40eb883ad2d22ad6975b4323cb76e018fa280
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:29 2005 -0600

    [PATCH] powerpc: Remove duplicate code
    
    234-eeh-find-pe.patch
    
    The find_device_pe() routine is duplicated in two files. Remove one of
    the two copies, declare the other extern.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 48408e708282d4d0269136ff27ea5acbd9410b5a commit)

commit f751f84164bec4f38037b221a194c54d96c73d06
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:54:23 2005 -0600

    [PATCH] powerpc: remove bogus printk
    
    233-eeh-buid-fix.patch
    
    Remove un-desired warning print from EEH code.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 241239e6aff69788a177d97c5d06fe9995c74cca commit)

commit 25e591f6dd07365cbf0b1c2454386ce597dd5e05
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:53:20 2005 -0600

    [PATCH] powerpc: Add "partitionable endpoint" support
    
    26-eeh-partition-endpoint.patch
    
    New versions of firmware introduce a new method by which the
    "partitionable endpoint" (the point at which the pci bus is cut)
    should be located.  This code adds the support for this (mandatory)
    new feature.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from 9fcfb5d35b5294659f9299aa9cae6fd16325c07e commit)

commit 5d5a0936b3ad9e3d3f6eaf61f1a06c62ea0e7a59
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:53:07 2005 -0600

    [PATCH] powerpc: Split out PCI address cache to its own file
    
    25-pci-address-cache.patch
    
    The core EEH file is rather large. This patch splits out a self-contained
    chunk of it into its own file.  This is the chunk that performes the
    caching and lookup of pci devices based on the i/o addresses of thier
    resoures.  This code is almos architecture-independent and could be
    used by any system that wanted to find a pci device based only on
    the i/o address used by the device.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from b0b291d59906d4a9a89ed9e34d9fd684c7188924 commit)

commit 77bd741561016134d1761d6101c4f0361025062f
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:52:49 2005 -0600

    [PATCH] powerpc: PCI Error Recovery: PPC64 core recovery routines
    
    Various PCI bus errors can be signaled by newer PCI controllers.  The
    core error recovery routines are architecture dependent.  This patch adds
    a recovery infrastructure for the  PPC64 pSeries systems.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    (cherry picked from e8ca11b460c4c9c7fa6b529be221529ebd770e38 commit)

commit 977127174a7dff52d17faeeb4c4949a54221881f
Merge: 80c0531... 93b4768...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 18:41:42 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/pci-2.6

commit 80c0531514516e43ae118ddf38424e06e5c3cb3c
Merge: a457aa6... 11b751a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 17:31:38 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mingo/mutex-2.6

commit a457aa6c2bdd743bbbffd3f9e4fdbd8c71f8af1b
Merge: dbc1651... b3c29d8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 17:06:53 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/bunk/trivial

commit dbc1651f0c5b7d13acc59d3b805a7224332fb1fb
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 22:19:33 2006 +0300

    [PATCH] rcu: don't set ->next_pending in rcu_start_batch()
    
    I think it is better to set ->next_pending in the caller, when
    it is needed. This saves one parameter, and this coincides with
    cpu_quiet() beahaviour, which sets ->completed = ->cur itself.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 11b751ae8c8ca3fa24c85bd5a3e51dd9f95cda17
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:27 2006 -0800

    [PATCH] mutex subsystem, semaphore to completion: drivers/block/loop.c
    
    convert the block loop device from semaphores to completions.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit f36d4024caa3790606e43228a574157c45b73b22
Author: Aleksey Makarov <amakarov@ru.mvista.com>
Date:   Mon Jan 9 15:59:27 2006 -0800

    [PATCH] mutex subsystem, semaphore to completion: IDE ->gendev_rel_sem
    
    The patch changes semaphores that are initialized as
    locked to complete().
    
    Source: MontaVista Software, Inc.
    
    Modified-by: Steven Rostedt <rostedt@goodmis.org>
    
    The following patch is from Montavista.  I modified it slightly.
    Semaphores are currently being used where it makes more sense for
    completions.  This patch corrects that.
    
    Signed-off-by: Aleksey Makarov <amakarov@ru.mvista.com>
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 3fe0c2776113c24b4b30374003f934cf44280db5
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Mon Jan 9 15:59:26 2006 -0800

    [PATCH] mutex subsystem, semaphore to completion: CPU3WDT
    
    change CPU3WDT semaphores to completions.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 906c3b75f6c09b4693a20387aaa6aaa50d327082
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Mon Jan 9 15:59:26 2006 -0800

    [PATCH] mutex subsystem, semaphore to completion: SX8
    
    change SX8 semaphores to completions.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 7892f2f48d165a34b0b8130c8a195dfd807b8cb6
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:25 2006 -0800

    [PATCH] mutex subsystem, semaphore to mutex: VFS, sb->s_lock
    
    This patch converts the superblock-lock semaphore to a mutex, affecting
    lock_super()/unlock_super(). Tested on ext3 and XFS.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 1b1dcc1b57a49136f118a0f16367256ff9994a69
Author: Jes Sorensen <jes@sgi.com>
Date:   Mon Jan 9 15:59:24 2006 -0800

    [PATCH] mutex subsystem, semaphore to mutex: VFS, ->i_sem
    
    This patch converts the inode semaphore to a mutex. I have tested it on
    XFS and compiled as much as one can consider on an ia64. Anyway your
    luck with it might be different.
    
    Modified-by: Ingo Molnar <mingo@elte.hu>
    
    (finished the conversion)
    
    Signed-off-by: Jes Sorensen <jes@sgi.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 794ee1baee1c26be40410233e6c20bceb2b03c08
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Mon Jan 9 15:59:21 2006 -0800

    [PATCH] mutex subsystem, semaphore to mutex: XFS
    
    This patch switches XFS over to use the new mutex code directly as
    opposed to the previous workaround patch I posted earlier that avoided
    the namespace clash by forcing it back to semaphores. This falls in the
    'works for me<tm>' category.
    
    Signed-off-by: Jes Sorensen <jes@trained-monkey.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit de5097c2e73f826302cd8957c225b3725e0c7553
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:21 2006 -0800

    [PATCH] mutex subsystem, more debugging code
    
    more mutex debugging: check for held locks during memory freeing,
    task exit, enable sysrq printouts, etc.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit 408894ee4dd4debfdedd472eb4d8414892fc90f6
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:20 2006 -0800

    [PATCH] mutex subsystem, debugging code
    
    mutex implementation - add debugging code.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit f3f54ffa703c6298240ffd69616451d645bae4d5
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:20 2006 -0800

    [PATCH] mutex subsystem, documentation
    
    Add mutex design related documentation.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit 6053ee3b32e3437e8c1e72687850f436e779bd49
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:19 2006 -0800

    [PATCH] mutex subsystem, core
    
    mutex implementation, core files: just the basic subsystem, no users of it.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit 2acbb8c657af86b2fa5b185f1d7048385e310585
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Jan 9 15:59:19 2006 -0800

    [PATCH] mutex subsystem, add default include/asm-*/mutex.h files
    
    add the per-arch mutex.h files for the remaining architectures.
    
    We default to asm-generic/mutex-dec.h, because that performs
    quite well on most arches. Arches that do not have atomic
    decrement/increment instructions should switch to mutex-xchg.h
    instead. Arches can also provide their own implementation for
    the mutex fastpath primitives.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 823d0f4f67252115212eb86caba14d5795bbe643
Author: Nicolas Pitre <nico@cam.org>
Date:   Mon Jan 9 15:59:18 2006 -0800

    [PATCH] mutex subsystem, add include/asm-arm/mutex.h
    
    add the ARM version of mutex.h, which is optimized in assembly for
    ARMv6, and uses the xchg implementation on pre-ARMv6.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit b8aa0361e434f8d9cbe9bb34525af1e8721396d8
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:18 2006 -0800

    [PATCH] mutex subsystem, add include/asm-x86_64/mutex.h
    
    add the x86_64 version of mutex.h, optimized in assembly.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit 2af7f59eeec18f310b6209d18652ce2387615507
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Jan 9 15:59:18 2006 -0800

    [PATCH] mutex subsystem, add include/asm-i386/mutex.h
    
    add the i386 version of mutex.h, optimized in assembly.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit 620a6fd185c084aa617c411f711533f01ea673c9
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:17 2006 -0800

    [PATCH] mutex subsystem, add asm-generic/mutex-[dec|xchg|null].h implementations
    
    Add three (generic) mutex fastpath implementations.
    
    The mutex-xchg.h implementation is atomic_xchg() based, and should
    work fine on every architecture.
    
    The mutex-dec.h implementation is atomic_dec_return() based - this
    one too should work on every architecture, but might not perform the
    most optimally on architectures that have no atomic-dec/inc instructions.
    
    The mutex-null.h implementation forces all calls into the slowpath. This
    is used for mutex debugging, but it can also be used on platforms that do
    not want (or need) a fastpath at all.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit 711a660dc2064013a2b0167ee67389707fc9cac3
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Mon Jan 9 15:59:17 2006 -0800

    [PATCH] mutex subsystem, add typecheck_fn(type, function)
    
    add typecheck_fn(type, function) to do type-checking of function
    pointers.
    
    Modified-by: Ingo Molnar <mingo@elte.hu>
    
    (made it typeof() based, instead of typedef based.)
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>

commit ffbf670f5cd50501a34a5187981460da2216071e
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Jan 9 15:59:17 2006 -0800

    [PATCH] mutex subsystem, add atomic_xchg() to all arches
    
    add atomic_xchg() to all the architectures. Needed by the new mutex code.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>

commit b3c29d85bf0dcce9e99cbfba2811aeefae017aaa
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Tue Jan 10 00:35:22 2006 +0100

    Small fixups to the EHCI Kconfig help text
    
    Here's a small patch with a few tiny fixups for the EHCI Kconfig help
    text. Please consider applying.
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 87635b71b544563f29050a9cecaa12b5d2a3e34a
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Jan 9 15:29:53 2006 -0800

    IB/mthca: Factor common MAD initialization code
    
    Factor out common code for initializing MAD packets, which is shared
    by many query routines in mthca_provider.c, into init_query_mad().
    
    add/remove: 1/0 grow/shrink: 0/4 up/down: 16/-44 (-28)
    function                                     old     new   delta
    init_query_mad                                 -      16     +16
    mthca_query_port                             521     518      -3
    mthca_query_pkey                             301     294      -7
    mthca_query_device                           648     641      -7
    mthca_query_gid                              453     426     -27
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 105e50a5e8f184af31daffce4d7bfd7771fe213f
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Jan 9 15:21:21 2006 -0800

    IB/mthca: kzalloc conversions
    
    Convert kmalloc()/memset(,0,) pairs to kzalloc().
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit e82443c092fc37a907c117d36f44b6fe143567ae
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:20:30 2006 +0100

    Documentation/filesystems/proc.txt: indentation fix
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit c28ab5d23a9c8dd99f12602e6ae7feba6f0b43ea
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:15:25 2006 +0100

    remove the outdated arch/i386/kernel/cpu/{,mtrr/}changelog
    
    This patch removes two outdated changelog files.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 52461121b242365b777762bf7c5f41c55a330646
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:13:57 2006 +0100

    MAINTAINERS: remove BUSLOGIC entry
    
    Leonard N. Zubkoff passed away in August 2002.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 93b1fae49189d82bca38f47334e9853e44105ced
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:13:33 2006 +0100

    spelling: s/trough/through/
    
    Additionally, one comment was reformulated by Joe Perches <joe@perches.com>.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 1fd5a46dd6bbca3a1275465120caf4748872c2a7
Merge: 2cc6055... dff2c03...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 15:12:52 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 2cc6055060d975e8c7601f4a1c68ef2d3050b4e9
Merge: 3995f4c... 3ebc284...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 15:10:22 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 943ffb587cfdf3b2adfe52a6db08573f4ecf3284
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:10:13 2006 +0100

    spelling: s/retreive/retrieve/
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 540695886075964c0e5295bea8e4793e8765d010
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:09:36 2006 +0100

    s/assoicated/associated/
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 3995f4c5327595b51482bdac8c189736262eb6e0
Merge: 0581445... fe38ea5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 15:09:30 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 05814450070f13b671fc9dbf89477677aa0258cb
Merge: 8e9c238... a61c2d7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 15:09:03 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 8e9c238c3884c226f0cddc31cde87dd5df1a6500
Merge: f17578d... 7225b3f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 15:08:33 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit a58a414fd5438f5ade6210ad0e8b14fbd6f503c5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 10 00:08:17 2006 +0100

    spelling: s/usefull/useful/
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit dff2c03534f525813342ab8dec90c5bb1ee07471
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Jan 9 14:56:56 2006 -0800

    [INET_DIAG]: Introduce sk_diag_fill
    
    To be called from inet_diag_get_exact, also rename inet_diag_fill to
    inet_csk_diag_fill, for consistency with inet_twsk_diag_fill.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c7d58aabdc08aea92d6c5e01dcd7473a74b3642c
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Jan 9 14:56:38 2006 -0800

    [INET_DIAG]: Introduce inet_twsk_diag_dump & inet_twsk_diag_fill
    
    To properly dump TIME_WAIT sockets and to reduce complexity a bit by
    having per socket class accessor routines.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4e852c027989c9fd5c51fb0080e28590c35c75ba
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Jan 9 14:56:19 2006 -0800

    [INET_DIAG]: whitespace/simple cleanups
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7dbf0755249336f44f57368bdbf6f84103b3ba75
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Jan 9 14:56:03 2006 -0800

    [INET_DIAG]: Use inet_twsk() with TIME_WAIT sockets
    
    The fields being accessed in inet_diag_dump are outside sock_common, the
    common part of struct sock and struct inet_timewait_sock.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7225b3fd0b6e224235fc50a69f70479ff96d5602
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Mon Jan 9 22:51:46 2006 +0000

    [MMC] Indicate that R1/R1b contains command opcode
    
    Some controllers actually check the first byte of the response (most
    don't).  This byte contains the command opcode for R1/R1b and all 1:s
    for other types. The difference must be indicated to the controller
    so it knows which reply to expect.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>

commit 3ebc284d52757cf39788731f8fddd70a89f7fc23
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Jan 9 14:36:49 2006 -0800

    [SPARC64]: Update defconfig.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 695ca07bf1036091eff2f11d2fe5f1585c2ac8c8
Author: Richard Mortimer <richm@oldelvet.org.uk>
Date:   Mon Jan 9 14:35:50 2006 -0800

    [SPARC64]: Fix ptrace/strace
    
    Don't clobber register %l0 while checking TI_SYS_NOERROR value in
    syscall return path.  This bug was introduced by:
    
    db7d9a4eb700be766cc9f29241483dbb1e748832
    
    Problem narrowed down by Luis F. Ortiz and Richard Mortimer.
    
    I tried using %l2 as suggested by Luis and that works for me.
    
    Looking at the code I wonder if it makes sense to simplify the code
    a little bit. The following works for me but I'm not sure how to
    exercise the "NOERROR" codepath.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a2c2064f7f23fde23e34fb5d07de43b582966b71
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:37:26 2006 -0800

    [IPV6]: Set skb->priority in ip6_output.c
    
    Set skb->priority = sk->sk_priority as in raw.c and IPv4.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cfacb0577e319b02ed42685a0a8e0f1657ac461b
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:36:54 2006 -0800

    [IPV4]: ip_output.c needs xfrm.h
    
    This patch fixes a warning from my IPsec patches:
    
       CC      net/ipv4/ip_output.o
    net/ipv4/ip_output.c: In function 'ip_finish_output':
    net/ipv4/ip_output.c:208: warning: implicit declaration of function
    'xfrm4_output_finish'
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 29f1df6cc1c3ee3530939f0e38d80a9b50645ba5
Author: Jamal Hadi Salim <hadi@cyberus.ca>
Date:   Sun Jan 8 22:35:55 2006 -0800

    [PKT_SCHED]: Fix qdisc return code.
    
    The mapping between TC_ACTION_SHOT and the qdisc return codes is better
    suited to NET_XMIT_BYPASS so as not to confuse TCP
    
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 253af4235d24ddfcd9f5403485e9273b33d8fa5e
Author: Jamal Hadi Salim <hadi@cyberus.ca>
Date:   Sun Jan 8 22:34:25 2006 -0800

    [NET]: Add IFB (Intermediate Functional Block) network device.
    
    A new device to do intermidiate functional block in a system shared
    manner.  To use the new functionality, you need to turn on
    qos/classifier actions.
    
    The new functionality can be grouped as:
    
    1) qdiscs/policies that are per device as opposed to system wide.  ifb
    allows for a device which can be redirected to thus providing an
    impression of sharing.
    
    2) Allows for queueing incoming traffic for shaping instead of
    dropping.
    
    Packets are redirected to this device using tc/action mirred redirect
    construct. If they are sent to it by plain routing instead then they
    will merely be dropped and the stats would indicate that.
    
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c1854ebc7f13b23c3d6a6e641a1a1db1116ca998
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Jan 8 22:31:04 2006 -0800

    [AX25] mkiss: Drop spinlock before sleeping call.
    
    With the previous missing-unlock fix the spinlock is dropped only
    after the tty->driver->write() call which might sleep.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 09a626600b437d91f6b13ade5c7c4b374893c54e
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Sun Jan 8 22:24:28 2006 -0800

    [NET]: Change some "if (x) BUG();" to "BUG_ON(x);"
    
    This changes some simple "if (x) BUG();" statements to "BUG_ON(x);"
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4bba3925924148c24fb0c7636a04ad69a6a56b84
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:22:14 2006 -0800

    [PKT_SCHED]: Prefix tc actions with act_
    
    Clean up the net/sched directory a bit by prefix all actions with act_.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 541673c859c0d71dedaaea1c148dfe3ccccc9422
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:17:27 2006 -0800

    [PKT_SCHED]: Fix memory leak when dumping in pedit action
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 31bd06eb33bbabe643385a861d780d950ca73846
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:16:25 2006 -0800

    [PKT_SCHED]: Remove some obsolete policer exports
    
    Also make sure the legacy code is only built when CONFIG_NET_CLS_ACT
    is not set.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f43c5a0df38e12f53a3023175a12da9b7ef0df63
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:15:34 2006 -0800

    [PKT_SCHED]: Convert tc action functions to single skb pointers
    
    tcf_action_exec only gets a single skb pointer and doesn't own the skb,
    but passes double skb pointers (to a local variable) to the action
    functions. Change to use single skb pointers everywhere.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 538e43a4bd36ae49873ef7097a16a207f5d9912b
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:12:03 2006 -0800

    [PKT_SCHED]: Use USEC_PER_SEC
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2941a4863154982918d39a639632c76eeacfa884
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Jan 8 22:05:26 2006 -0800

    [NET]: Convert net/{ipv4,ipv6,sched} to netdev_priv
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a429d2609c153882c421b067ad5ae5a38851459e
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Jan 7 16:38:15 2006 +1100

    [CRYPTO] cipher: Set alignmask for multi-byte loads
    
    Many cipher implementations use 4-byte/8-byte loads/stores which require
    alignment on some architectures.  This patch explicitly sets the alignment
    requirements for them.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 7302533aac2df321b76e8a113e5cfa529c825b09
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Jan 7 16:24:15 2006 +1100

    [CRYPTO] api: Require block size to be less than PAGE_SIZE/8
    
    The cipher code path may allocate up to two blocks of data on the stack.
    Therefore we need to place limits on the maximum block size.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit bcb0ad2b34daade529ce1f38eede0ea8b7309535
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Dec 21 19:01:58 2005 +0800

    [CRYPTO] sha1: Fixed off-by-64 bug in sha1_update
    
    After a partial update, the done pointer is off to the right by 64 bytes.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit afad2608c766f53c79ec4ffccdb4bef660b90a89
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Sat Dec 3 17:16:42 2005 +1100

    [CRYPTO] aes-i586: Remove unused variable ls_tab
    
    It is assigned but never read.
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit e6a3a925a25ddd2ebd66dbc8d14ebdd3d57ca0c3
Author: Denis Vlasenko <vda@ilport.com.ua>
Date:   Tue Nov 29 22:23:20 2005 +1100

    [CRYPTO] aes-i586: Nano-optimisation on key length check
    
    Reduce the number of comparisons by one through the use of jb/je.
    This patch also corrects the comments regarding the different key
    lengths.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 827c3911d8551842900f44c9a139382bcae68e6e
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Nov 29 22:04:41 2005 +1100

    [CRYPTO] cipher: Align temporary buffer in cbc_process_decrypt
    
    Since the temporary buffer is used as an argument to cia_decrypt, it must be
    aligned by cra_alignmask.  This bug was found by linux@horizon.com.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit fa9b98fdab5b57ecb4dd3d6c2489e262af458c44
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Nov 13 11:17:33 2005 +1100

    [CRYPTO] sha1: Avoid shifting count left and right
    
    This patch avoids shifting the count left and right needlessly for each
    call to sha1_update().  It instead can be done only once at the end in
    sha1_final().
    
    Keeping the previous test example (sha1_update() successively called with
    len=64), a 1.3% performance increase can be observed on i386, or 0.2% on
    ARM.  The generated code is also smaller on ARM.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 9d70a6c86cd86e111291bd0d506028ecb9649923
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Nov 13 10:59:54 2005 +1100

    [CRYPTO] sha1: Rename i/j to done/partial
    
    This patch gives more descriptive names to the variables i and j.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit cfa8d17cc836905ad174fd924701b352585d62f1
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Nov 13 10:47:20 2005 +1100

    [CRYPTO] sha1: Avoid useless memcpy()
    
    The current code unconditionally copy the first block for every call to
    sha1_update().  This can be avoided if there is no pending partial block.
    This is always the case on the first call to sha1_update() (if the length
    is >= 64 of course.
    
    Furthermore, temp does need to be called if sha_transform is never invoked.
    Also consolidate the sha_transform calls into one to reduce code size.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit c8a19c91b5b488fed8cce04200a84c6a35c0bf0c
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Nov 5 18:06:26 2005 +1100

    [CRYPTO] Allow AES C/ASM implementations to coexist
    
    As the Crypto API now allows multiple implementations to be registered
    for the same algorithm, we no longer have to play tricks with Kconfig
    to select the right AES implementation.
    
    This patch sets the driver name and priority for all the AES
    implementations and removes the Kconfig conditions on the C implementation
    for AES.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 5cb1454b862ab3040b78364d58330262fea1ddba
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Nov 5 16:58:14 2005 +1100

    [CRYPTO] Allow multiple implementations of the same algorithm
    
    This is the first step on the road towards asynchronous support in
    the Crypto API.  It adds support for having multiple crypto_alg objects
    for the same algorithm registered in the system.
    
    For example, each device driver would register a crypto_alg object
    for each algorithm that it supports.  While at the same time the
    user may load software implementations of those same algorithms.
    
    Users of the Crypto API may then select a specific implementation
    by name, or choose any implementation for a given algorithm with
    the highest priority.
    
    The priority field is a 32-bit signed integer.  In future it will be
    possible to modify it from user-space.
    
    This also provides a solution to the problem of selecting amongst
    various AES implementations, that is, aes vs. aes-i586 vs. aes-padlock.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 06ace7a9bafeb9047352707eb79e8eaa0dfdf5f2
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Oct 30 21:25:15 2005 +1100

    [CRYPTO] Use standard byte order macros wherever possible
    
    A lot of crypto code needs to read/write a 32-bit/64-bit words in a
    specific gender.  Many of them open code them by reading/writing one
    byte at a time.  This patch converts all the applicable usages over
    to use the standard byte order macros.
    
    This is based on a previous patch by Denis Vlasenko.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 2df15fffc612b53b2c8e4ff3c981a82441bc00ae
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Oct 30 20:44:37 2005 +1100

    [PADLOCK] Fix sparse warning about 1-bit signed bit-field
    
    Change the bit-field in struct cword to unsigned to shut sparse up.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 90bf8116641d6c9fb6f88329634341f9a0f429c6
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Jan 9 13:59:12 2006 -0800

    [SPARC64]: Add needed pm_power_off symbol.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 92898522e3ee1a0ba54140aad1974d9e868f74ae
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Jan 9 14:04:40 2006 -0800

    IB/mthca: prevent event queue overrun
    
    I am seeing EQ overruns in SDP stress tests: if the CQ completion
    handler arms a CQ, this could generate more EQEs, so that EQ will
    never get empty and consumer index will never get updated.
    
    This is similiar to what we have with command interface:
    		/*
    		 * cmd_event() may add more commands.
    		 * The card will think the queue has overflowed if
    		 * we don't tell it we've been processing events.
    		 */
    However, for completion events, we *don't* want to update the consumer
    index on each event. So, perform EQ doorbell coalescing: allocate EQs
    with some spare EQEs, and update once we run out of them.
    
    The value 0x80 was selected to avoid any performance impact.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6627fa662e86c400284b64c13661fdf6bff05983
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Jan 9 13:50:57 2006 -0800

    IB/mthca: fix page shift calculation in mthca_reg_phys_mr()
    
    For all pages except possibly the last one, the byte beyond the buffer
    end must be page aligned.  Therefore, when computing the page shift to
    use, OR the end addresses of the buffers as well as the start
    addresses into the mask we check.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 4f0210b9c4889eede9f8f379f93570c01998ccb9
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Jan 9 22:48:34 2006 +0100

    kbuild: re-export VERSION, PATCHLEVEL, SUBLEVEL
    
    Eric Sandeen <sandeen@sgi.com> pointed out that it is usefull to have
    access to VERSION, PATCHLEVEL, SUBLEVEL in external modules, and gooling
    a litte confirmed this.
    So re-export them.
    Usage within the kernel is still discouraged but possible.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit fe38ea5623d262afc0b92ea47b8a7d8c988521d2
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Mon Jan 9 21:16:18 2006 +0000

    [ARM] 3246/1: S3C24XX - retab clock list in arch/arm/mach-s3c2410/clock.c
    
    Patch from Ben Dooks
    
    Properly tabulate the clock table in arch/arm/mach-s3c2410/clock.c
    and put the requisite commas on the end of the structs.
    
    Fix the comment about clock enable and disable in the setup code
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 788ee7b09883515f3a72a8f2a980df5e94f37e2c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 21:12:17 2006 +0000

    [MMC] Add DATA_MULTI flag
    
    Some hosts need to know that a transfer will be multi-block.
    Add a data flag to indicate multiple data block transfers.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f17578decc40df8fceff82b106582e30bdfb3189
Merge: 682e852... cec4183...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 13:03:58 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit 682e852e2638ed0aff84aa51181c9e5d2f939562
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Jan 10 00:09:16 2006 +0300

    [PATCH] Fix more "if ((err = foo() < 0))" typos
    
    Another reason to use:
    
    	ret = foo();
    	if (ret < 0)
    		goto out;
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41ed16fa47350661da01443b8241bf6ca8080fd7
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Jan 9 20:46:49 2006 +0000

    [PATCH] Fix sg_page_malloc() memset
    
    sg_page_malloc should clear the data buffer, not that extent of mem_map.
    
    This fixes Jesper's sg_page_free "Bad page states"
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cec418346e5a411e907293aba7cc21ac53c95834
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 18:21:40 2006 -0200

    V4L/DVB (3336): Bluebird firmware hosting moved to common dvb firmware dir on linuxtv.org
    
    - Get_dvb_firmware script updated accordingly:
    - my $url = "http://www.linuxtv.org/~mkrufky/dvb-usb-bluebird-01.fw";
    + my $url = "http://www.linuxtv.org/download/dvb/firmware/dvb-usb-blue$
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit b9f4ad57f70b8a29851b4f4247294f4aba6ae815
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 18:21:39 2006 -0200

    V4L/DVB (3329): cx88_subids whitespace cleanup
    
    - Clean up a recently introduced spaces vs tabs whitespace problem.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 81481e9e1278420ed380da69e052c54e3670bf03
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 18:21:38 2006 -0200

    V4L/DVB (3328): replace omitted 'TODO:'
    
    - replace omitted 'TODO:'
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f53737882e26ff08022fec6ad79f061c49dadda2
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Mon Jan 9 18:21:38 2006 -0200

    V4L/DVB (3327): Remove DViCO specific firmware hacks from the generic code.
    
    - Move the code that patches bluebird firmware before upload from the
    generic code into the cxusb driver itself.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5af0c8f6a09534ebc6c56b4e5d79d0d521364750
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 18:21:37 2006 -0200

    V4L/DVB (3326): Fix stereo and standard reporting of msp3400 (esp. for radio)
    
    - Add VIDIOC_LOG_STATUS to the radio device ioctl list.
    - Reduce the confusion between modes and standards
    - Fix stereo reporting for radio.
    - Don't set i2c configuration if the chip doesn't support it.
    - Fix reporting of current standard for radio.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5b0fa4fff17d944b6a0d4cb35d8e8b5ad0ac3669
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Jan 9 18:21:37 2006 -0200

    V4L/DVB (3325): WSS output interface for av7110
    
    - Implemented v4l2 api for sliced vbi data output
    to pass WSS data from userspace to the av7110
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d312a46e5340be6a89c662ac483230c0737148c9
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 18:21:36 2006 -0200

    V4L/DVB (3324): msp3400 audio handling bug fixes.
    
    - Check capabilities for audio settings (volume, balance,
    bass, treble, loudness, mute)
    - added loudness support
    - added missing VIDEO_AUDIO_BALANCE flags for v4l1 compatibility
    - do not call msp_any_detect_stereo for non-autoselect chips to
    retrieve the current stereo setting: that will temporarily mute
    the sound. It is only needed when the stereo mode might be
    changed, and for autoselect msp processors that do not periodically
    need to update their stereo setting.
    - do not wake up the thread if the standard did not change. Prevents
    temporary audio drop-out if the standard is set to the same value.
    - fix confused stereo detect code where V4L2_TUNER_SUB_STEREO and
    V4L2_TUNER_MODE_STEREO values were used incorrectly.
    - stereo mode reporting was broken (v4l2 value used to index a
    string array expecting v4l1 mode values).
    - do not set dsp register 0x30 in the 3410d thread: that register
    does not exist for pre-'G' revision msp chips.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 1157020d542684e273242663d0befb58e284ade7
Author: Marc Koschewski <marc@osknowledge.org>
Date:   Mon Jan 9 18:21:36 2006 -0200

    V4L/DVB (3323): Add Kconfig option for wrongly programmed devices
    
    - A new Kconfig option makes the user able to select if the dibusb-mb driver shall claim faulty programmed USB devices which are coming with default Cypress USB IDs.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 00e34579feb563ca663be82d977c90241824503e
Author: Marc Koschewski <marc@osknowledge.org>
Date:   Mon Jan 9 18:21:35 2006 -0200

    V4L/DVB (3322): Whitespace cleanup and unused code removed
    
    - Some whitespaces cleaned up
    - unused code removed
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5ba4cc97786e23c3ef96b9c29c797ef5d0251330
Author: Marc Koschewski <marc@osknowledge.org>
Date:   Mon Jan 9 18:21:34 2006 -0200

    V4L/DVB (3321): Indention cleanups
    
    - Indention cleaned for tabsize=8
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a6bab889c4d21cb8c0b0a25959daba87a56eccbb
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Mon Jan 9 18:21:33 2006 -0200

    V4L/DVB (3320): Check if PLL-description is set
    
    - Check if in the dvb-usb-device-structure the dvb_pll_desc is set before use.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 4e5910e6fe5d977a36f7f39f6b13d61109eca19f
Author: Marc Koschewski <marc@osknowledge.org>
Date:   Mon Jan 9 18:21:33 2006 -0200

    V4L/DVB (3319): Changed indention for define's and their values
    
    - Indention for values of several request defines were not TabSized=8.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f2a333148c12f9e8f0be9df052398147614f5cb8
Author: d binderman <dcb314@hotmail.com>
Date:   Mon Jan 9 18:21:32 2006 -0200

    V4L/DVB (3318): Fixes warning: variable "ret" is used before its value is set
    
    - Fixes compiling warning on kernel 2.6.15 with the Intel C compiler.
    - It said drivers/media/dvb/frontends/bcm3510.c(258):
      warning #592: variable "ret" is used before its value is set
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7560d7a4f9add362d60d4513033cf522c37adeea
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 18:21:32 2006 -0200

    V4L/DVB (3317): msp3400: use v4l2_std_id and determine chip capabilities.
    
    - Replace old norm by the v4l2_std_id values.
    - Add code to correctly detect the various capabilities of the
    various msp chips. It's not yet used, that's going to be the next step.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 3d7d027a9bf41437aa93baf14a1aada521ad9b12
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 18:21:31 2006 -0200

    V4L/DVB (3315): Use correct AGC settings for DNTV Live! DVB-T Pro
    
    - My original settings for this board were incorrect and resulted in
    an increased number of signal dropouts.  Replace this with the settings
    from the Windows driver.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a07e60961e4c9cce911a6935bdc90e20c1c97c63
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 18:21:31 2006 -0200

    V4L/DVB (3313): codingstyle cleanups & restore some wrongfully deleted dvb-usb-ids
    
    - codingstyle cleanups & restore some wrongfully deleted dvb-usb-ids
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7c239703a942117c3446ca06af537fc3ea12fb24
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 18:21:29 2006 -0200

    V4L/DVB (3312): DViCO USB IR Remote support
    
    - Add support for the remote control receiver inside the DViCO FusionHDTV
    DVB-T Dual Digital, and a keymap for the MCE remote bundled with it.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 43eabb4e2284146f8bfae8730ae41c218b724b7d
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 18:21:28 2006 -0200

    V4L/DVB (3311): DViCO FusionHDTV DVB-T Dual Digital PCI support
    
    - Support for DVB reception on the PCI half of the DViCO DVB-T Dual Digital.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0029ee143d66ca89d0e8b074abb452cf4ca2c53c
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 18:21:28 2006 -0200

    V4L/DVB (3310): DViCO Dual Digital DVB-T / USB bluebird updates
    
    - Add support for the USB portion of the DViCO Dual Digital board.
    Patch correct "warm" USB IDs into bluebird firmware before download.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0602fbb2c84ffea1b06ae8e677662074620f01d7
Author: Peter Missel <peter.missel@onlinehome.de>
Date:   Mon Jan 9 18:21:23 2006 -0200

    V4L/DVB (3309): SAA7134: GPIO IRQ improvements
    
    - Saa7134-core.c saa7134_irq(): Separate GPIO16 and GPIO18 handling. Call
    IR-remote-GPIO handler only if the GPIO IRQ is "owned" by it. Added
    infrastructure to branch out to a future I2C-IR IRQ handler.
    saa7134-core.c saa7134_hwinit2(): Enable only the one GPIO pin and edge to
    trigger an IRQ that is wired as keyup/keydown mask. IRQ will only be
    generated for an actual key-down event.
    saa7134-input.c flyvideo_codes[]: Replace numpad keys with normal ones. Put
    meaning to mystery keys. Change some key definitions to have their functions
    match their labels better. Fix typos.
    saa7134-input.c flydvb_codes[]: Added new table for the larger remote that
    comes with the LifeView FlyDVB series.
    saa7134-input.c build_key(): In IRQ mode, signal key-down and then key-up
    straight in one go.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit cb58455c48dc43536e5548bdba4e916b2f0cf13d
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Jan 9 21:20:34 2006 +0100

    kbuild: KERNELRELEASE is only re-defined when buiding the kernel
    
    To avoid running setlocalversion as root no longer (re-)define
    KERNELRELEASE for each run. With this patch KERNELRELEASE is
    only re-read when we do an actual kernel build.
    Rationale behind this is "do as little as possible" when executing
    make install - as root!
    
    A new file named .kernelrelease is strored in the root of the kernel
    tree containing the actual version string.
    So when we use do a kernel build the .kernelrelease file will be updated.
    But in all other situations it is left as-is.
    
    To make it more visible the kernel now prints out the version being build.
    Sample:
    Building kernel 2.6.15-g63b794bf-dirty
    ...
    ...
    
    The patch also un-exports VERSION PATCHLEVEL SUBLEVEL EXTRAVERSION LOCALVERSION
    since all users of these are anyway broken - and none is left in the
    tree.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 93b47684f60cf25e8cefe19a21d94aa0257fdf36
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Wed Nov 30 01:00:35 2005 +0100

    [PATCH] drivers/*rest*: Replace pci_module_init() with pci_register_driver()
    
    Replace obsolete pci_module_init() with pci_register_driver().
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 46654728b55bf5d09dc91fa45f532131d8a609f2
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 6 15:33:15 2005 -0800

    [PATCH] drivers/sound/oss: Replace pci_module_init() with pci_register_driver()
    
    Replace obsolete pci_module_init() with pci_register_driver().
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>

commit 9bfab8cec652c80b4864b4d9247520dca042c2df
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Wed Nov 30 00:59:34 2005 +0100

    [PATCH] drivers/block: Replace pci_module_init() with pci_register_driver()
    
    Replace obsolete pci_module_init() with pci_register_driver().
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d1d6da8f9fb9a0633a2f36b84b292752d78f7d31
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Wed Nov 30 00:59:14 2005 +0100

    [PATCH] arch: Replace pci_module_init() with pci_register_driver()
    
    Replace obsolete pci_module_init() with pci_register_driver().
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 065c6359071c6d7d1f8b2839317471d1d97fc70b
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Fri Dec 2 19:16:18 2005 -0600

    [PATCH] PCI Error Recovery: documentation
    
    Various PCI bus errors can be signaled by newer PCI controllers.
    Recovering from those errors requires an infrastructure to notify
    affected device drivers of the error, and a way of walking through
    a reset sequence.  This patch adds documentation describing the
    current error recovery proposal.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 392a1ce761bc3b3a5d642ee341c1ff082cbb71f0
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Wed Nov 16 17:10:41 2005 -0600

    [PATCH] PCI Error Recovery: header file patch
    
    Various PCI bus errors can be signaled by newer PCI controllers.
    Recovering from those errors requires an infrastructure to notify
    affected device drivers of the error, and a way of walking through a
    reset sequence.  This patch adds a set of callbacks to be used by error
    recovery routines to notify device drivers of the various stages of
    recovery.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 19272684b8e2fff39941e4c044d26ad349dd1a69
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Sat Dec 17 09:27:50 2005 -0800

    [PATCH] PCI: update Toshiba ohci quirk DMI table
    
    I upgraded my Toshiba Satellite BIOS recently to see if it would fix an
    ACPI related problem I have
    (http://bugzilla.kernel.org/show_bug.cgi?id=5727).  Unfortunately, it
    didn't, and moreover, Toshiba chose to change the system version in the
    DMI table with the update, causing the OHCI1394 related quirk to break.
    This patch updates the DMI table for the quirk to include Toshiba's new
    version name for this machine; I've tested it and it seems to work fine.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 54c762fe62d9ff0982f38e80cbec9c59104311e9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 22 01:08:52 2005 +0100

    [PATCH] PCI: drivers/pci: some cleanups
    
    This patch contains the following cleanups:
    - hotplug/pciehp_core.c: make the needlessly global hpdriver_context
                             static
    - #if 0 the following unused functions:
      - pci.c: pci_bus_max_busnr()
      - pci.c: pci_max_busnr()
      - proc.c: pci_proc_attach_bus()
      - remove.c: pci_remove_device_safe
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c64b5eead93f9d3a8ca0e9ca0ffba0b99dc565b9
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Wed Dec 14 09:37:26 2005 -0800

    [PATCH] acpiphp: only size new bus
    
    Only size the bus that has been added.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9f3f4681291fc88864bb27f8f3832b95bb53aae5
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Dec 14 09:37:26 2005 -0800

    [PATCH] PCI Hotplug: fix up the sysfs file in the compaq pci hotplug driver
    
    The Compaq PCI Hotplug driver was creating 2 sysfs files that contained
    nothing but debug information, and had way more than "one value" in
    them.  This patch converts the code to use debugfs for these files
    instead.
    
    Compile tested only.
    
    Cc: Kay Sievers <kay.sievers@vrfy.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 121082e2ab09d5e90ac27e38900c018e6f37bcdf
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Dec 11 06:41:42 2005 +0100

    [PATCH] PCI: Reduce nr of ptr derefs in drivers/pci/hotplug/pciehp_core.c
    
    Here's a small patch to reduce the nr. of pointer dereferences in
    drivers/pci/hotplug/pciehp_core.c
    
    Benefits:
     - micro speed optimization due to fewer pointer derefs
     - generated code is slightly smaller
     - small line length cleanup
     - better readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c2dea6553090a3fd06ffa9ba512a09fdac4d1b6e
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Dec 11 06:43:09 2005 +0100

    [PATCH] PCI: Reduce nr of ptr derefs in drivers/pci/hotplug/pciehprm_acpi.c
    
    Here's a small patch to reduce the nr. of pointer dereferences in
    drivers/pci/hotplug/pciehprm_acpi.c
    
    Benefits:
     - micro speed optimization due to fewer pointer derefs
     - generated code is slightly smaller
     - better readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f5c99dfc11dce8f26c1ceedb6595fa0eac335ea3
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Dec 11 06:42:38 2005 +0100

    [PATCH] PCI: Reduce nr of ptr derefs in drivers/pci/hotplug/rpaphp_pci.c
    
    Here's a small patch to reduce the nr. of pointer dereferences in
    drivers/pci/hotplug/rpaphp_pci.c
    
    Benefits:
     - micro speed optimization due to fewer pointer derefs
     - generated code should be slightly smaller
     - better readability
    
    note: due to lack of both hardware and cross-compile tools this patch is,
          unfortunately, completely untested.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit efbf62e9f4d93c3716a4d6d3221d537c71e299a2
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Dec 11 06:42:18 2005 +0100

    [PATCH] PCI: Reduce nr of ptr derefs in drivers/pci/hotplug/cpqphp_core.c
    
    Here's a small patch to reduce the nr of pointer dereferences in
    drivers/pci/hotplug/cpqphp_core.c
    
    Benefits of this patch:
     - micro speed optimization due to fewer pointer derefs
     - generated code is slightly smaller
     - tiny line length and whitespace cleanup
     - better readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d135dff536f30022674d463ce3119bb28e045df
Author: Jesse Barnes <jesse.barnes@intel.com>
Date:   Fri Dec 9 11:55:03 2005 -0800

    [PATCH] PCI: document sysfs rom file interface
    
    idr gently pointed out today that not only is the sysfs rom file
    interface somewhat unintuitive (despite my efforts and initial
    implementation), but it's also undocumented!  This patch to
    Documentation/filesystems/sysfs-pci.txt corrects the latter problem; the
    former is a userland ABI now though, so we're stuck with it for awhile
    at least.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ac7dc65ac0b945270548414491efa9c4357417d9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Dec 13 18:09:16 2005 +1100

    [PATCH] PCI: Export pci_cfg_space_size
    
    The powerpc PCI code sets up the PCI tree without doing config space
    accesses in most cases, from the firmware tree. However, it still wants
    to call pci_cfg_space_size() under some conditions, thus it needs to
    be made non-static (though I don't see a point to export it to modules).
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 498879417756effe6dc385ee04645a83d724fdef
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Thu Dec 8 16:53:12 2005 +0100

    [PATCH] PCI: use bus numbers sparsely, if necessary
    
    Add a warning if a child bus may be inaccessible because the
    parent bridge has wrong secondary or subordinate bus numbers.
    Note that this may or may not happen on "transparent" bridges,
    as can be seen in bug #5557.
    
    Also, if we do not fix up the assignment of bus numbers, try to
    make use of the bus number space available.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0eb3bcfd088e3234f7af29e189a7900ccfdd278a
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Dec 8 12:12:25 2005 -0800

    [PATCH] pciehp: allow bridged card hotplug
    
    This patch fixes bugs in the pciehp driver that prevent hot-add
    of a card with PCI bridges on it.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c7ab337f91b59f71a30c3ab71e3bdfff41671977
Author: Thomas Schaefer <thomas.schaefer@kontron.com>
Date:   Thu Dec 8 11:55:57 2005 -0800

    [PATCH] pciehp: handle sticky power-fault status
    
    This patch disables power fault, MRL sensor and presence detection
    interrupts when a PCIe slot is powered-off and enables those
    interrupts when it is powered-on again. This is necessary to prevent
    the associated events from causing an endless cycle of interrupts
    due to the power-fault bit, which stays set till power is restored
    to the slot.
    
    Signed-off-by: Thomas Schaefer <thomas.schaefer@kontron.com>
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9d265124d051c2cf6716639239609d83f736dcdb
Author: Daniel Yeisley <dan.yeisley@unisys.com>
Date:   Mon Dec 5 07:06:43 2005 -0500

    [PATCH] PCI Quirk: 1K I/O space granularity on Intel P64H2
    
    I've implemented a quirk to take advantage of the 1KB I/O space
    granularity option on the Intel P64H2 PCI Bridge.  I had to change
    probe.c because it sets the resource start and end to be aligned on 4k
    boundaries (after the quirk sets them to 1k boundaries).  I've tested
    this patch on a Unisys ES7000-600 both with and without the 1KB option
    enabled.  I also tested this on a 2 processor Dell box that doesn't have
    a P64H2 to make sure there were no negative affects there.
    
    Signed-off-by: Dan Yeisley <dan.yeisley@unisys.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 81f154427c0c50b6492d454abf98e15c1c2e354e
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Mon Dec 5 19:31:00 2005 +0900

    [PATCH] shpchp: Implement get_address callback
    
    The following patch implements .get_address callback of
    hotplug_slot_ops for SHPCHP driver. With this patch, we
    can see bus address of hotplug slots as follows:
    
    	$ cat address
    	0000:0b:01
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cd5b50be8d8e8e6170da3a261fc625fd603f9dc4
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Dec 1 18:59:58 2005 -0600

    [PATCH] PCI Hotplug/powerpc: more removal of duplicated code
    
    The RPAPHP code contains two routines that appear to be gratuitous copies
    of very similar pci code.  In particular,
    
       rpaphp_claim_resource ~~ pci_claim_resource
          (there is a minor, non-functional difference)
    
       rpadlpar_claim_one_bus == pcibios_claim_one_bus
          (the code is identical)
    
    This patch removes the rpaphp versions of the code.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d681db4aed4453c7d34adfbb64956271186514e9
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Thu Dec 1 18:56:14 2005 -0600

    [PATCH] PCI Hotplug/powerpc: remove duplicated code
    
    The RPAPHP code contains a routine that duplicates some existing code.
    This patch removes the rpaphp version of the code.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Acked-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 81745512c6bb78fc78265b881206b3f6800dd09f
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Thu Dec 1 18:01:28 2005 +0100

    [PATCH] PCI: irq.c: trivial printk and DBG updates
    
    Updated printk and DBG with appropriate KERN_*.
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bd62e271401c5ebf33a0dd24d89baf706f213251
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Fri Nov 25 12:28:53 2005 +0900

    [PATCH] shpchp: fix improper wait for command completion
    
    Current SHPCHP driver uses msleep_interruptible() function to wait for
    a command completion event. But I think this would cause an unnecessary
    long wait until timeout, if command completion interrupt came before
    task state was changed to TASK_INTERRUPTIBLE. This patch fixes this
    issue. With this patch, command completion becomes faster as follows:
    
    o Without this patch
    
    	# time echo 1 > power
    
    	real    0m4.708s
    	user    0m0.000s
    	sys     0m0.524s
    
    o With this patch
    
    	# time echo 1 > power
    
    	real    0m2.221s
    	user    0m0.000s
    	sys     0m0.532s
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f467f6187fc60c954a9509b3a3e17ef89a4f6f22
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Thu Nov 24 11:39:29 2005 +0900

    [PATCH] shpchp: fix improper write to Command Completion Detect bit
    
    Current SHPCHP driver writes a '0' to the Command Completion Detect
    bit to clear the Command Complete Interrupt Pending. But according to
    the SHPC spec (See 4.7.3.1 System Interrupts), SHPCHP driver must
    write '1'. This patch fixes this bug.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0455986cce45d28511f59a29d6cecc17d6b65720
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Thu Nov 24 11:36:59 2005 +0900

    [PATCH] shpchp: fix improper mmio mapping
    
    Current SHPCHP driver seems not to map MMIO region properly. This
    patch fixes this bug. This patch also cleanup the code.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 87d6c5593111844f308af7d5106b3fd259b36514
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Thu Nov 24 11:35:05 2005 +0900

    [PATCH] shpchp: fix improper reference to Mode 1 ECC Capability" bit
    
    The hpc_get_mode1_ECC_cap() function of SHPCHP driver seems to refer
    the wrong bit for refering the "Mode 1 ECC Capability" bit. This bug
    seems not to cause any problem so far. But I think this should be
    fixed. This patch fixes this bug.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6558b6ab145ceead45632e4214cd5ef14f48f412
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Thu Nov 24 13:44:01 2005 +0900

    [PATCH] shpchp: fix improper reference to Slot Avail Regsister
    
    The hpc_get_max_bus_speed() function of the SHPCHP driver seems to
    refer wrong bits in the "Slot Avail Register I" and "Slot Avail
    Register II". This patch fixes this bug. And this also cleanup the
    code.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e00e57efa3448b18c0deedce32732e28683cb73d
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Fri Nov 25 12:21:25 2005 +0900

    [PATCH] shpchp: replace pci_find_slot() with pci_get_slot()
    
    This patch replaces pci_find_slot() with pci_get_slot() in the SHPCHP
    driver. This enables SHPCHP driver to work on multiple PCI segment
    systems.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2555f7bdd3b0db47f6e1d7bb887981654e2261b3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 21 00:05:21 2005 +0100

    [PATCH] PCI Hotplug: cpqphp_ctrl.c: remove dead code
    
    The Coverity checker spotted that we already did return -ENOMEM
    if (!p_mem_node).
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 88d69a1dff4014889782ebad24ed3e964a8844bc
Author: Jordan, William P <William.Jordan@unisys.com>
Date:   Mon Nov 21 22:51:57 2005 -0800

    [PATCH] PCI Hotplug: ibmphp_pci.c copy-n-paste fix
    
    I noticed what appears to be a cut/paste error in
    drivers/pci/hotplug/ibmphp_pci.c:
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8c9ad508c8737ca46a4c55b1062d159b86f7cee2
Author: Sergey Vlasov <vsu@altlinux.ru>
Date:   Mon Nov 14 20:30:50 2005 +0300

    [PATCH] PCIE: make bus_id for PCI Express devices unique
    
    The bus_id string must be unique for all devices of that bus in the
    system, not just for devices with the same parent - otherwise multiple
    symlinks with identical names appear in /sys/bus/pci_express/devices.
    
    Signed-off-by: Sergey Vlasov <vsu@altlinux.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fb37fb960689aa1346e2621a946f230285c03593
Author: Hanna Linder <hannal@us.ibm.com>
Date:   Sun Nov 6 23:39:36 2005 -0800

    [PATCH] PCI: arch/i386/pci/acpi.c: use for_each_pci_dev
    
    Signed-off-by: Hanna Linder <hannal@us.ibm.com>
    Signed-off-by: Maximilian Attems <janitor@sternwelten.at>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3c94792f017c8c90d2ca84b0f4cd9c143471d5e3
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:33 2005 -0800

    [PATCH] PCI: arch: pci_find_device remove (frv/mb93090-mb00/pci-irq.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d08fa1a22e4b7240ac081ba57a67ce8e8cf94cc7
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:35 2005 -0800

    [PATCH] PCI: pci_find_device remove (sparc64/kernel/ebus.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 619daa2e4c80881d64875db22029a2181f07eaf9
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:33 2005 -0800

    [PATCH] PCI: pci_find_device remove (frv/mb93090-mb00/pci-frv.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 48d68773629d52ef118cd3f78eef7545d68517ef
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:35 2005 -0800

    [PATCH] PCI: pci_find_device remove (ppc/platforms/85xx/mpc85xx_cds_common.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cee029538151c0e7bb3cd1c298f222deeecb5ab8
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:34 2005 -0800

    [PATCH] PCI: pci_find_device remove (ppc/kernel/pci.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
     arch/ppc/kernel/pci.c |   21 +++++++++++----------
     1 file changed, 11 insertions(+), 10 deletions(-)

commit 94517252b7c8e26de7238eb2c1450cb7c69f1af6
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:30 2005 -0800

    [PATCH] PCI: pci_find_device remove (alpha/kernel/sys_alcor.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7d51ceb34c7991633c36a5bab3066927ac7c661c
Author: Jiri Slaby <jirislaby@gmail.com>
Date:   Sun Nov 6 23:39:32 2005 -0800

    [PATCH] PCI: pci_find_device remove (alpha/kernel/sys_sio.c)
    
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3efd273b4d52f0d3ae5ce61b2161cb3752f360a0
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Wed Nov 2 16:55:49 2005 -0800

    [PATCH] pci: call pci_read_irq for bridges
    
    Call pci_read_irq() for bridges too, so that the pin value
    is stored for bridges that require interrupts.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 514d207db1fa3c3d2bd7990ebed8d81cebc7875b
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Wed Nov 2 16:24:39 2005 -0800

    [PATCH] pci: use pin stored in pci_dev
    
    Use the stored value of the interrupt pin rather than try to read
    the config again.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8015a01486a0f789c9e98e8bf1f12a3ccb535b30
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Wed Nov 2 16:24:35 2005 -0800

    [PATCH] apci: use pin stored in pci_dev
    
    Use the stored value of the Interrupt Pin, rather than try to read
    it again.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ffeff788d6b10e342b4a887f28d339dfec1737f6
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Wed Nov 2 16:24:32 2005 -0800

    [PATCH] pci: store PCI_INTERRUPT_PIN in pci_dev
    
    Store the value of the INTERRUPT_PIN in the pci_dev structure
    so that it can be retrieved later.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a9aa1ffaac7c8d6f093bb8f7cdeea761a5e25f53
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Jan 9 20:48:03 2006 +0100

    kbuild/xfs: introduce fs/xfs/Kbuild
    
    In kbuild the file named 'Kbuild' has precedence over the file named
    Makefile. Utilise a file named Kbuild to include the 2.6 Makefile for xfs
    - since the xfs people likes to keep their arch specific Makefiles separate.
    
    With this patch xfs does no longer rely on the KERNELRELEASE components to be global.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 0d20babd86b40fa5ac55d9ebf31d05f6f7082161
Author: H. Peter Anvin <hpa@zytor.com>
Date:   Sat Jan 7 17:38:39 2006 -0800

    kbuild: drop vmlinux dependency from "make install"
    
    This removes the dependency from vmlinux to install, thus avoiding the
    current situation where "make install" has a nasty tendency to leave
    root-turds in the working directory.
    
    It also updates x86-64 to be in sync with i386.
    
    Signed-off-by: H. Peter Anvin <hpa@zytor.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 9d4ae7276ae26c5bfba6207cf05340af1931d8d4
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Jan 9 19:23:11 2006 +0000

    [ARM] 3070/2: Add __ioremap_pfn() API
    
    Patch from Deepak Saxena
    
    In working on adding 36-bit addressed supersection support to ioremap(),
    I came to the conclusion that it would be far simpler to do so by just
    splitting __ioremap() into a main external interface and adding an
    __ioremap_pfn() function that takes a pfn + offset into the page that
    __ioremap() can call. This way existing callers of __ioremap() won't have
    to change their code and 36-bit systems will just call __ioremap_pfn()
    and we will not have to deal with unsigned long long variables.
    
    Note that __ioremap_pfn() should _NOT_ be called directly by drivers
    but is reserved for use by arch_ioremap() implementations that map
    32-bit resource regions into the real 36-bit address and then call
    this new function.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 16ed926eee5497db52fbee4d2db2dedbcd23561c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 19:19:18 2006 +0000

    [ARM] Only call set_type method in setup_irq if it's defined
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0a3a98f6dd4e8f4d928a09302c0d1c56f2192ac3
Merge: 8ef12c9... 5367f2d...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 19:18:33 2006 +0000

    Merge Linus' tree.

commit 6150c32589d1976ca8a5c987df951088c05a7542
Merge: 44637a1... be42d5f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 10:03:44 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 44637a12f80b80157d9c1bc5b7d6ef09c9e05713
Author: Knut Petersen <Knut_Petersen@t-online.de>
Date:   Mon Jan 9 15:04:20 2006 +0100

    [PATCH] Update cyblafb driver
    
    This is a major update to the cyblafb framebuffer driver. Most
    of the stuff has been tested in the mm tree.
    
    Main advantages:
    ============
      - vxres > xres support
      - ywrap and xpan support
      - much faster for almost all modes (e.g. 1280x1024-16bpp
         draws more than 41 full screens of text instead of about 25
         full screens of text per second on authors Epia 5000)
      - module init/exit code fixed
      - bugs triggered by console rotation fixed
      - lots of minor improvements
      - startup modes suitable for high performance scrolling
         in all directions
    
    This diff  also contains a lot of white space fixes.
    
    No side effects are possible, only one single graphics core is affected.
    
    Signed-off-by: Knut Petersen <Knut_Petersen@t-online.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cab462f716cdd522edc71436482d8734e8258489
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:53:26 2006 -0200

    V4L/DVB (3307): Some cleanups at I2C modules
    
    - i2c names shorten
    - removed obsoleted flags on newer modules
    - small cleanups
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 8b78e83bfbc12f7e9bdefd400abdfde9e6c9ac51
Merge: cf10b28... b887030...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 09:39:55 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit cf10b2853f86e714eac7117484c0d368ce710fa4
Merge: 14591de... 166c343...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 09:39:05 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 14591de147f7c9656fa2b9c05680d2b46e286c40
Author: Kirill Korotaev <dev@openvz.org>
Date:   Mon Jan 9 17:42:42 2006 +0300

    [PATCH] netlink oops fix due to incorrect error code
    
    Fixed oops after failed netlink socket creation.
    
    Wrong parathenses in if() statement caused err to be 1,
    instead of negative value.
    
    Trivial fix, not trivial to find though.
    
    Signed-Off-By: Dmitry Mishin <dim@sw.ru>
    Signed-Off-By: Kirill Korotaev <dev@openvz.org>
    Signed-Off-By: Linus Torvalds <torvalds@osdl.org>

commit 677517771b7b6efaf8617e70f655b16f3cafcc9b
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 22:19:16 2006 +0300

    [PATCH] rcu: uninline __rcu_pending()
    
    __rcu_pending() is rather fat and called twice from rcu_pending().
    
    rcu_pending() has multiple callers, and not that small too.
    
    This patch uninlines both of them.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0680481c8e6260e1780a0900990531f0193b0dd4
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:32:46 2006 -0200

    V4L/DVB (3305): Replaces old debug msgs to newer ones
    
    - Replaces old debug msgs from bt832, tda743d and tda9875 to newer ones
      as defined under v4l2-common.h.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 565f49490556250383e976c7f3e04ee4b7f54788
Author: George Gazurkoff <gazurkoff@gmail.com>
Date:   Mon Jan 9 15:32:46 2006 -0200

    V4L/DVB (3303): Both AverTV Studio 303 cards #6 and #36 use the same IR programming.
    
    - Both AverTV Studio 303 cards, #6 and #36,
    use the same remote control programming.
    
    Signed-off-by: George Gazurkoff <gazurkoff@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 009494effc129094a5dcbbf2bf0345307ffe4f9b
Author: Guy Martin <gmsoft@tuxicoman.be>
Date:   Mon Jan 9 15:32:45 2006 -0200

    V4L/DVB (3296): Fixes a bug at compat_ioctl32 kernel module
    
    - There is a bug in the ioctl translations from 32bit userspace
    to 64bit kernelspace in do_set_window().
    - The video window (vw) should be passed to native_ioctl()
    instead of the video clip.
    
    Signed-off-by: Guy Martin <gmsoft@tuxicoman.be>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 4aa6ba513e28884b56bac529553a47a6b160c310
Author: Peter Missel <peter.missel@onlinehome.de>
Date:   Mon Jan 9 15:32:45 2006 -0200

    V4L/DVB (3295): Add analog support for LifeView FlyDVB Trio.
    
    - Add support for LifeView FlyDVB Trio.
    - all analog inputs are supported and working, including FM radio
    - TO DO: dvb & remote control
    
    Signed-off-by: Peter Missel <peter.missel@onlinehome.de>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f39624fda00d2a30d31f0fa06153e9b460295676
Author: Manenti Marco <marco_manenti@colman.it>
Date:   Mon Jan 9 15:32:45 2006 -0200

    V4L/DVB (3294): Add Kworld/Vstream Xpert DVB-T card with cx22702 tuner.
    
    - Add Kworld/Vstream Xpert DVB-T card with cx22702 tuner.
    
    Signed-off-by: Manenti Marco <marco_manenti@colman.it>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit b7f355d23c34399ccfd54fd613c306ab4a788234
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:32:44 2006 -0200

    V4L/DVB (3293): Added digital support for cx88 (cx88-alsa)
    
    
    
    - This module is co-authored by  Ricardo Cerqueira <v4l@cerqueira.org>.
    
    - Added digital audio support for cx88-based boards that have function
      01 enabled. These boards can be identified by having PCI id 1471:8801
      or 1471:8811.
    
    - Increased DMA buffer from 512 to 4096 seems to fix audio distortion.
    
    - Existing audio DMA uses conflict with cx88-alsa. Should be disabled when
      cx88-alsa module is compiled.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0de71224d17f43101fa20696a8d7a78fb599557e
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:44 2006 -0200

    V4L/DVB (3292): Fix signed/unsigned bug in brightness handling of cx25840
    
    - Fix signed/unsigned bug in brightness handling (set to 0 and 128 was returned).
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit c5099a6481d2d0f9455abd15c91f73c2ced57a40
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:43 2006 -0200

    V4L/DVB (3291): Fix signed/unsigned bug in hue handling
    
    - Fix signed/unsigned bug in hue handling (set to -127 and 129 was returned).
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 82a1c359e8cc15d836c139626d747bfdfc408450
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:43 2006 -0200

    V4L/DVB (3195): Fix for 64-bit compile warning
    
    - Add the fix for the saa7146 64-bit compile warning (again). This time with
    comments and checked by Johannes Stezenbach.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 400b7083fbcc8e7a1157a82aa126977179873268
Author: Peter Beutner <p.beutner@gmx.net>
Date:   Mon Jan 9 15:32:43 2006 -0200

    V4L/DVB (3194): Revert one 64-bit fix and improved other 64-bit fixes
    
    - Reverted objectionable fix in saa7146_hlp.c
    - Merged in improved dvb 64-bit fixes from Peter Beutner.
    
    Signed-off-by: Peter Beutner <p.beutner@gmx.net>
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d8e6acf2ec120f3dc7929581d87b5b8b3ff21627
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:32:42 2006 -0200

    V4L/DVB (3287): Add DViCO Bluebird firmware to dvb_get_firmware script
    
    
    - Add DViCO Bluebird firmware to dvb_get_firmware script,
    for FusionHDTV USB devices.
    - Use usb alt setting 0 for EP4 transfer (dvb-t),
    - Use usb alt setting 7 for EP2 transfer (atsc)
    - Added comment to lgdt330x.c to indicate support for
    DViCO FusionHDTV5 USB Gold.
    Thanks to: Jeff Lee <JeffLee@dvico.com>
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e71bb548e52d6a0f4934a2dfd7f29a569c94ad53
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:32:42 2006 -0200

    V4L/DVB (3282): rename cxusb_bluebird_atsc_properties to cxusb_bluebird_lgh064f_properties
    
    
    - This property set is for the LG-H064F (FusionHDTV5 USB Gold)
    - There may, in the future, be a bluebird device using a different NIM,
    so renaming the struct to somehting NIM-specific is appropriate.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 66190a275246c8c5be140a224e021f8f5eb85ab6
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Jan 9 15:32:42 2006 -0200

    V4L/DVB (3281): av7110 driver: improved recovery from ARM crash and crash detection
    
    
    - Improved recovery from ARM crash and the way a crash is detected.
    Minor white space clean-up, debug output fixed.
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit da4ae5a72b2a9de351ec8f98543b7c666ec97005
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:41 2006 -0200

    V4L/DVB (3280): Added VIDIOC_QUERYCTRL to saa7115
    
    
    - Added VIDIOC_QUERYCTRL to saa7115
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d92c20e0a5b560bbe46d7e68bb47df2366cddf8f
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:41 2006 -0200

    V4L/DVB (3279): Added VIDIOC_QUERYCTRL to cx25840.
    
    
    - Added VIDIOC_QUERYCTRL
    - Removed unnecessary inlines.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit fac9e89999a12f378112fe93764b30196bc03f46
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:40 2006 -0200

    V4L/DVB (3278): convert diagnostics over to the new v4l2-common.h macros.
    
    
    - Convert diagnostics over to the new v4l2-common.h macros.
    - deprecated tuner_debug option, the new option is debug.
    - renamed cx25840_debug to debug.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0e7072ef6623c3dc58faf3f7310aba77b0a5845e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:32:40 2006 -0200

    V4L/DVB (3277): Fix incorrect filename reference in top comments
    
    
    - Fix incorrect filename reference in top comments
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7e8b09ea1636e360a8fabebeaeb91c17f64e01b5
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:40 2006 -0200

    V4L/DVB (3276): Added new diagnositics macros, convert msp3400 to the new macros.
    
    
    - Added new v4l_err, v4l_warn, v4l_info and v4l_dbg macros to
    v4l2-common.h for use in v4l-dvb i2c drivers. This ensures
    a unique prefix for each device instance.
    - At a later stage these macros may be reimplemented using the
    device-generic macros from device.h.
    - Converted the msp3400 driver to the new macros.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 53b0a1c60bcc167534b31f56adfbbe2919e6f80b
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:39 2006 -0200

    V4L/DVB (3275): Split msp3400.c into msp3400-driver.c and msp3400-kthreads.c
    
    
    - Split msp3400.c into msp3400-driver.c and msp3400-kthreads.c.
    - Removed experimental DFPREG ioctls. If this is really needed one
    day then it should be implemented using VIDIOC_G/S_REGISTER.
    - Added missing BALANCE control info for VIDIOC_QUERYCTRL.
    - Still more cleanup, clarified some kernel messages.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e93fa17eb103bad5d2ee7141a988040f077d2a78
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:32:39 2006 -0200

    V4L/DVB (3271): more cleanups, simplify volume/balance/bass/treble handling
    
    
    - Continue cleanup effort:
    - more cosmetic changes
    - combine volume, balance, bass and treble into one audio
    function. Revert old 2.4 code that crept in.
    - print internal ioctls using new debug function.
    - marked all msp3400c (aka manual) functions as such.
    - removed some unused data structures.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5e453dc757385ec892a818e4e3b5de027987ced9
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:32:31 2006 -0200

    V4L/DVB (3269): ioctls cleanups.
    
    
    - Now, all internal ioctls are at v4l2-common.h
    - removed unused ioctl at saa6752hs.h
    - all debug ioctl code moved to v4l2-common.c
    - removed duplicated stuff from other cards
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e2688f00dc0ceb9d9867434dffbd080411fc23b0
Merge: 356cebe... a9925a0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 9 09:26:40 2006 -0800

    Merge branch 'blk-softirq' of git://brick.kernel.dk/data/git/linux-2.6-block
    
    Manual merge for trivial #include changes

commit 37bdfa06b6bbf085b55d64eb5d9ed112418ed5ad
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:47 2006 -0200

    V4L/DVB (3268): Use combined firmware for DVB-T and ATSC Bluebird FusionHDTV USB models.
    
    
    - Now using firmware "dvb-usb-bluebird-01.fw",
      with combined support for atsc and dvb-t Bluebird models.
    - Use usb alt setting 0 for EP4 transfer (dvb-t),
    - Use usb alt setting 7 for EP2 transfer (atsc) */
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit effee0333b6090ff4ff0463e8fb6084cf4406bbd
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:47 2006 -0200

    V4L/DVB (3266): Add support for DViCO FusionHDTV5 USB Gold
    
    
    - Adds Bluebird ATSC support to the cxusb driver,
      using dvb-usb-bluebird-atsc-01.fw firmware.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit af36c82c97ff68e03837ed47991de0494007612b
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:46 2006 -0200

    V4L/DVB (3261): msp3400.c cleanup (almost all cosmetic)
    
    
    - Step 1 of the msp3400.c cleanup.
    Most changes are all cosmetic (moved code around, renamed functions
    and variables).
    New additions:
    - VIDIOC_LOG_STATUS for debugging.
    - More user friendly messages on driver load.
    - 'simple' renamed to 'autodetect'
    - 'simpler' renamed to 'autoselect'
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 6ce17c57f84731d288107ce29ce468311edd87f4
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Mon Jan 9 15:25:45 2006 -0200

    V4L/DVB (3260): Using new firmware for the WideView Stick
    
    
    - A new firmware fixes VHF tuning issues. This changes the firmware file name in the driver.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit c7f3612cdb515c5062135831184c8d577723df25
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:45 2006 -0200

    V4L/DVB (3257): Add missing audiochip.h include.
    
    
    - Add missing audiochip.h include.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 3faeeae48348959c58f3121d2a6a4fb0bc626da0
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:44 2006 -0200

    V4L/DVB (3256): When in radio mode ignore VIDIOC_G_TUNER
    
    
    - Detect when AUDC_SET_RADIO is called.
    - When in radio mode ignore VIDIOC_G_TUNER.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d3900bc42e6bc5e461c29951cc2a50df09e08771
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:44 2006 -0200

    V4L/DVB (3255): When in radio mode don't do anything with VIDIOC_G_TUNER.
    
    
    - When in radio mode don't do anything with VIDIOC_G_TUNER.
    Allow other devices to fill this.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 30b54d50f6e2b8f5a4c8b5ade3d25a02612f8f51
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:43 2006 -0200

    V4L/DVB (3254): Don't reprogram the video standard if it is unchanged.
    
    
    - Don't reprogram the video standard if the new standard
    equals the old standard.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 8a854284d09dd3b3d8660762b43546058da5372f
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:43 2006 -0200

    V4L/DVB (3253): Add V4L2 commands to tvaudio
    
    
    - debug messages changed to be like the other modules
    - Add V4L2 commands VIDIOC_S_TUNER, VIDIOC_G_TUNER,
    VIDIOC_S_STD and VIDIOC_S_FREQUENCY.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f9a91f08990b0353fc1251ee72ec42c6ea33bd24
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:42 2006 -0200

    V4L/DVB (3250): tea5767: move signal strength level to the 0-65535 range
    
    
    - Move signal strength level to the 0-65535 range as per V4L2 spec.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a8bbf12ad8a8ad532cea0b67f0127ad90d336b04
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:42 2006 -0200

    V4L/DVB (3249): Generalized cx25840 video/audio input handling
    
    
    - Added VIDIOC_S_AUDIO to set the audio inputs separately.
    - Removed AUDC_SET_INPUT.
    - Made the video inputs much more general.
    - Removed cardtype CID and replaced with a CID to enable
    the PVR150 workaround. The cardtype is no longer necessary
    with the general video input change.
    - Update VIDIOC_LOG_STATUS output to show the video and
    audio inputs separately.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 3578d3dd0b1e468a44a76a83efe90476a854625d
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:41 2006 -0200

    V4L/DVB (3214): Calculate the saa7115 AMCLK regs instead of using fixed values
    
    - Calculate the audio master clock registers from the actual
    frequencies. This simplifies the code and it also prepares
    for adding CGC2 support.
    - VIDIOC_INT_AUDIO_CLOCK_FREQ now receives an u32 instead of
    an enum. It is more generic and actually easier to implement.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 21fa715e67fe57e404d7f5f39b7f18016db9e4b6
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:41 2006 -0200

    V4L/DVB (3248): Add selected input to saa7115 VIDIOC_LOG_STATUS output.
    
    
    - Add selected input to VIDIOC_LOG_STATUS output.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit fbc46e74fa437f16a3ffe4a5561a97f41680a124
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:40 2006 -0200

    V4L/DVB (3247): Replace AUDC_SET_INPUT with VIDIOC_S_AUDIO in wm8775.
    
    
    - Replace AUDC_SET_INPUT with VIDIOC_S_AUDIO.
    - Added V4L2_CID_AUDIO_MUTE.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 936053516aef6505ab3174c3443f3ba8749d4d98
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:39 2006 -0200

    V4L/DVB (3246): Use VIDIOC_S_AUDIO instead of AUDC_SET_INPUT in cs53l32a
    
    
    - Replace AUDC_SET_INPUT with VIDIOC_S_AUDIO.
    - Added V4L2_CID_AUDIO_MUTE.
    - Minimum volume is -96 dB, not -90.
    - Show volume in VIDIOC_LOG_STATUS.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a544521ef06ee7b8a3d82fa29627401196fda77a
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:39 2006 -0200

    V4L/DVB (3245): Added some comments about multiple tuner support.
    
    
    - Added some comments to make clearer how to use ioctl api to handle
    multiple tuners at the same board.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 66e33dee9e3062b1045afe23c4b8714c1004668c
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:39 2006 -0200

    V4L/DVB (3243): add firmware instructions for nxt2002 and nxt2004
    
    
    - add firmware instructions for nxt2002 and nxt2004
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 12e66f6573beda52a434b757df5b7a5a05b9ebd2
Author: Ville Skytta <ville.skytta@iki.fi>
Date:   Mon Jan 9 15:25:38 2006 -0200

    V4L/DVB (3242): make the firmware dir docs consistent in the v4l-dvb tree.
    
    
    - make the firmware dir documentation and comments consistent in the v4l-dvb tree.
    
    Signed-off-by: Ville Skytta <ville.skytta@iki.fi>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 90200d2b7f526128671a971ab29db38973bf3f51
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:38 2006 -0200

    V4L/DVB (3239): reorganize tuner-simple threshold structure.
    
    
    - Create an array containing frequency threshold and control byte.
    - allows for an arbitrary amount of
    frequency ranges to be set, like dvb-pll.
    - improves code readability.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 21dcd8ccd76e80118f524b1a730c35ab1c46c09e
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:37 2006 -0200

    V4L/DVB (3234): Included advanced debug option to tvp5150.c
    
    
    - Included advanced debug option to tvp5150.c
    - Now, advanced debug info is the first item at V4L menu.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 9bb13a6dc3a6f68c990264838ff0493d900c48d7
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:37 2006 -0200

    V4L/DVB (3233): Fixed API to set I2S speed control
    
    
    - Created a new ioctl to control I2S speed. Old calls to an
    inadequate V4L2 API replaced.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e1bc80adaf801bf75ca176b9c1b60b3cceee1e03
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:36 2006 -0200

    V4L/DVB (3232): Several improvements at tvp5150 driver
    
    
    - Now reset do init tvp5150 registers to its default.
    - Debug messages improved.
    - Implemented video standard selection function.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit fc40b261db15d010455ad0a4e2ac59da2ced730f
Author: Chris Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 15:25:35 2006 -0200

    V4L/DVB (3220): Add support for VP-3054 HDTV board
    
    
    - Added support for VP-3054 (aka DigitalNow DNTV Live! DVB-T Pro!).
    - This board has a secondary I2C bus and remote control.
    - Added a new module to handle secondary I2C bus on this board.
    
    Signed-off-by: Chris Pascoe <c.pascoe@itee.uq.edu.au>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 50c25fff5385c6baf3114f7c369b0f75a29ac1e8
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:34 2006 -0200

    V4L/DVB (3218): Whitespace cleanups
    
    
    - minor whitespace cleanups
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 41d70c26c615da5a42aea4655232c68c53b9e084
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Jan 9 15:25:34 2006 -0200

    V4L/DVB (3216): saa7134 card #58 has a newer revision with a new subsystem ID
    
    
    - Added new ID for different revision of card #58. It's the same card,
    but with a tda8275a instead of a tda8275
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 2a9a9a84f2ac6e4481f564c42a9268477465c359
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Mon Jan 9 15:25:33 2006 -0200

    V4L/DVB (3213): Add remote for Compro Videomate Gold+ Pal version.
    
    
    - Add remote.
    
    Signed-off-by:  Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 6ff5ef28bad0403fbc24cdee127d094449a10ab6
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Mon Jan 9 15:25:33 2006 -0200

    V4L/DVB (3202): Initialize the dvb-usb-device-pointer to NULL
    
    
    - Initialize the the dvb-usb-device-pointer in the -init function to NULL,
    to be sure that a dvb-usb-device was really initialized.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 6fe66ba63fdd27cfc01ffb2e1835a2a475074a63
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:32 2006 -0200

    V4L/DVB (3201): Remove #ifdef BTTV_BOARD_TWINHAN_VP3021
    
    
    - As far back as the video4linux cvs repository goes, there is no mention
    of BTTV_TWINHAN_VP3021.  It seems that this was done for the sake of
    backwards compatability with some older v4l, but this can no longer be
    necessary due to the v4l/dvb cvs merger, nor should this have ever
    existed in the upstream kernel.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Acked-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 610d1407b2d7a8fbb9f8e5757b2d078b9988299c
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:30 2006 -0200

    V4L/DVB (3199): Removed some unneeded #ifdef's
    
    
    - Removed some unneeded #ifdef's
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 210e207c1d98348f5993e6f580cd20cf20086d7d
Author: Tyler Trafford <tatrafford@comcast.net>
Date:   Mon Jan 9 15:25:29 2006 -0200

    V4L/DVB (3198): make cx25840 recover from some firmware load failures
    
    
    - In the rare event that a 333MHz i2c firmware load fails after
    writing some data, this fix makes the driver reset the DL_ADDR
    registers to the proper values before continuing on with 100MHz
    transfers.
    
    Signed-off-by: Tyler Trafford <tatrafford@comcast.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 83ac8722be6d34b9bbcaabfff825d5847ce3a9d4
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:29 2006 -0200

    V4L/DVB (3196): correct Thomson DTT 761x frequency ranges
    
    
    - Corrected Thomson DTT 7611 tuner programming, based on spec sheet
    - renamed to Thomson DTT 761x
    - applies to DTT 7611 7611A 7612 7613 7613A 7614 7615 7615A
    (DTT 7610 is similar, but slightly different programming)
    - corrected frequency ranges for analog and digital modes
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit bc61b0102a53ee0ced3a8747cd4afe656a453756
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 9 15:25:28 2006 -0200

    V4L/DVB (3193): Replace del_timer with del_timer_sync
    
    
    - Replace del_timer with del_timer_sync
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 889aee805a0c286e33965cc678ea16672d6c5666
Author: Christopher Pascoe <c.pascoe@itee.uq.edu.au>
Date:   Mon Jan 9 15:25:28 2006 -0200

    V4L/DVB (3192): Fix bttv sub-device unregister
    
    
    - Fixes sub-device release for BTTV. Without this, DVB modules can't be reloaded
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e18828e43a52fb9a792938840cc32cbb2a9e1a5c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:28 2006 -0200

    V4L/DVB (3179): Fix 64-bit compile warnings
    
    - Fix 64-bit compile warnings
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 67f1570a0659abba5efbf55cc986187af61bdd52
Author: Michael H. Schimek <mschimek@gmx.at>
Date:   Mon Jan 9 15:25:27 2006 -0200

    V4L/DVB (3178): bttv VBI fixes
    
    - V4L2_(G|S|TRY)_FMT returned incorrect VBI start lines for PAL-M,
    NTSC-JP, and PAL-60. They also returned an inaccurate VBI offset.
    - V4L2_(G|S)_FMT and V4L2_TRY_FMT disagreed about the start of VBI
    capturing in PAL and SECAM second field. Note the start line fixes
    may break applications using VIDIOCSVBIFMT because this ioctl fails
    when the driver does not support exactly the requested parameters.
    - V4L2_TRY_FMT did not clear the reserved field in struct
    v4l2_vbi_format.
    - V4L2_(S|TRY)_FMT did not expect very large or small VBI start or
    count values, returning wrong (but safe) counts due to an overflow.
    - VIDIOCGVBIFMT confused V4L and V4L2 VBI flags. However this had no
    effect because the flags have the same value and bttv never sets
    them.
    - In v4l_compat_translate_ioctl() the VIDIOC(G|S)VBIFMT code did not
    expect V4L2 drivers supporting VBI formats besides V4L2_PIX_FMT_GREY.
    
    Signed-off-by: Michael H. Schimek <mschimek@gmx.at>
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7e57819169d4f9a1d7af55fb645ece3fb981e2e3
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:27 2006 -0200

    V4L/DVB (3167): added ntsc parameter to tuner and more standardized debugs
    
    - Debug message changed to be coherent with other modules
    - added ntsc parameter
    - parameters moved to the beginning at the file
    - tuner_status moved to a better position.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 70f00044a2107a2c7d654bf1d3e0494f77777f47
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:26 2006 -0200

    V4L/DVB (3162): Some fixes at cx88 controls
    
    - Now, default control values at cx88_cx8800_ctls are honored
    - default value for contrast/saturation were changed to be
    in line with available documentation for the chipset;
    - Removed some bad coding at set_control;
    - U/V Saturation now changes proportionally
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5ea892f156310132a1bd37c45c3ca09663cfb9fb
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:26 2006 -0200

    V4L/DVB (3166): "Philips 1236D ATSC/NTSC dual in" - fix typo.
    
    - "Philips 1236D ATSC/NTSC dual in" - fix typo.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 4abdfed5676e5ef7f2461bb76f5929068a9cc9cf
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Jan 9 15:25:25 2006 -0200

    V4L/DVB (3161): ir-kbd-gpio is now part of bttv
    
    - Merged ir-kbd-gpio into bttv as bttv-input, for consistency with other
    input modules
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e0b2d7a89bb250fb0c9068c4481c9fd26c3fb227
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:25 2006 -0200

    V4L/DVB (3160): Updates to the tveeprom eeprom checking
    
    Updates to the tveeprom eeprom checking
    
    Signed-of-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f4a3bc82ed5dcef03a74ff974a31b55eade7ed0f
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:24 2006 -0200

    V4L/DVB (3159): Replaces MAX()/MIN() by kernel.h max()/min() macros
    
    - Replaces MAX()/MIN() by kernel.h max()/min() macros
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f961e71a0a96b4a992210b7dd46d837d78b162c6
Author: Alex Woods <linux-dvb@giblets.org>
Date:   Mon Jan 9 15:25:24 2006 -0200

    V4L/DVB (3154): TTUSB DEC driver patch roundup
    
    - Collection of patches from Peter Beutner addressing:
    - add symbolrates to the DVB-S frontend description
    - fix capability flags in DVB-S frontend describtion
    - remove some void casts
    - disable zig-zag scanning as it makes no sense for DVB-T
    - set sensible min_delay value
    - return an error for requested filter types the driver can't handle
    
    Signed-off-by: Peter Beutner <p.beutner@gmx.net>
    Signed-off-by: Alex Woods <linux-dvb@giblets.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e4acba3c01ca8b275dda22664191c30ee352a38e
Author: Deti Fliegl <deti@fliegl.de>
Date:   Mon Jan 9 15:25:23 2006 -0200

    DVB (2401): USB hot unplug Oops fix.
    
    - USB hot unplug Oops fix.
    
    Signed-off-by: Deti Fliegl <deti@fliegl.de>
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 6a5bdd322e5366730803beb59adca7ebb144d7e4
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Jan 9 15:25:23 2006 -0200

    V4L/DVB (3173): [PATCH] Decrease number of pointer derefs in flexcop-fe-tuner.c
    
    - Here's a small patch to decrease the number of pointer derefs in
    drivers/media/dvb/b2c2/flexcop-fe-tuner.c
    Benefits of the patch:
    - Fewer pointer dereferences should make the code slightly faster.
    - Size of generated code is smaller
    - Improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 4302c15ea237a649780894e263125fcd8c548998
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:22 2006 -0200

    V4L/DVB (3145): syncronizes some changes between v4l and dvb
    
    - digitv_ctrl_msg() if (wo) test is reversed. fixed.
    - usb timeout is in Hz, not in jiffies.
    - NULL replaced by 0 to be coherent.
    - removed uneeded headers.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0144f31466f0b7f1a8b21b470bfeb93c174a2006
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:22 2006 -0200

    V4L/DVB (3130): cx24123: cleanup timout handling
    
    - Cleanup timeout handling in cx24123_pll_writereg(), and
    use a reasonable value for the timeout.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 2c3f11b20fc6c41b4d3f64f301f525e35f18b6bc
Author: Stephen Williams <stephen.gw@gmail.com>
Date:   Mon Jan 9 15:25:21 2006 -0200

    V4L/DVB (3129): correct FE_READ_UNCORRECTED_BLOCKS
    
    - Make FE_READ_UNCORRECTED_BLOCKS reset the count after each call,
    thus returning a momentary value like all other demods do,
    instead of an absolute, ever increasing count.
    
    Signed-off-by: Stephen Williams <stephen.williams@gmail.com>
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d21838dd7d098e102ced2fafed62dcb133c4d71c
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:21 2006 -0200

    V4L/DVB (3123b): syncs V4L subsystem tree with kernel
    
    - This patch makes kernel in sync with v4l subsystem tree.
    - some lines reordered to be sync.
    - some reduntant codes removed.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit b060c25f70adb20532dacefa72029d1d2db1a7f1
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:20 2006 -0200

    V4L/DVB (3123a): remove uneeded #if from V4L subsystem
    
    - some uneeded #if were introduced by a previous patch.
      this patch removes these.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit b5b8ab8d93ec46fec279b22eb1a613be18f49f7a
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:20 2006 -0200

    V4L/DVB (3123): include reorder to be in sync with V4L tree
    
    - include reorder to be in sync with V4L tree
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 899ad11b55206c30db7e3667d14c8bdb167f51f8
Author: George Gazurkoff <gazurkoff@gmail.com>
Date:   Mon Jan 9 15:25:19 2006 -0200

    V4L/DVB (3118): Enable remote control on AVERTV STUDIO 303
    
    - Enable remote control on AVERTV STUDIO 303
    - This patch adapted from a patch found on a website posted by
    an anonymous user.  Thanks to original anonymous author for
    creating this patch.  Tested successfully by George Gazurkoff.
    
    Signed-off-by: George Gazurkoff <gazurkoff@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a1789d3aea9e1eca676de011e1e3ebe9171cf9cb
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:19 2006 -0200

    V4L/DVB (3117): Fix broken TV standard check.
    
    - Fix incorrect matching of TV standards leading to incorrect IFPCoff values.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f98c55ea18e87905bdf69eb4a187e94572ed9494
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:18 2006 -0200

    V4L/DVB (3116): tda9887 improvements: better defaults, better configurability.
    
    - Set the tuner takeover point to 0x10 for NTSC/radio and 0x14 for PAL/SECAM.
    - Allow override through TDA9887_SET_CONFIG
    - PAL-N belongs with PAL-BG as does PAL-H. PAL-Nc belongs to PAL-M
    - Add SECAM-BGH
    - Set video freq to cVideoIF_38_90 for DK standards.
    - Add cTunerGainLow to radio, change deemphasis to 75 for mono.
    - Add ntsc module param for 'M' and 'J' (Japanese) standards.
    - Fix module handling for 2.4.
    - Now able to select all standards through pal/secam/ntsc module options
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit a82c51d59344117320eeda3715f93c0695a9fbe6
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:18 2006 -0200

    V4L/DVB (3115): Add missing VIDEO_ADV_DEBUG config option.
    
    - Add missing VIDEO_ADV_DEBUG config option.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0345c387de72b5d7fbfeda9d92818fa7013a6d1c
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:17 2006 -0200

    V4L/DVB (3112): Several fixes for Hauppauge Roselyn Design (blackbird)
    
    - This patch adds eeprom awareness for the Roslyn. In effect, the
    blackbird will query the tuner V4L2_STD_xxxx definitions to determine
    whether it's connected to a NTSC or PAL tuner. Based on that, various
    default values will change for blackbird encoding.
    - Fixes back panel SVIDEO/COMPOSITE with audio, work properly.
    - Fixes a problem with lip sync issues, due to bad framerate vs
    audio rate assumptions.
    - Fixed a problem with the GPIO configuration in cx88-cards.
    - Removed the comments in cx88-cards that made no sense.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 2304759d7e5debbd400eca6e9bb979a186c798a9
Author: Otavio Salvador <otavio@debian.org>
Date:   Mon Jan 9 15:25:17 2006 -0200

    V4L/DVB (3110): Replace all uses of pci_module_init with pci_register_driver
    
    This patch replace all calls to pci_module_init, that's deprecated and
    will be removed in future, with pci_register_driver that should be
    the used function now.
    
    Signed-off-by: Otavio Salvador <otavio@debian.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e64a86ee2b5ef5e23ccda2cc8981a22a8111a3b3
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:16 2006 -0200

    V4L/DVB (3108): tveeprom cleanup of hardcoded tuner format values.
    
    - Cleaned up the structure to use the V4L2_STD_xxx definitions
    rather than a one off set of hardcoded values - which could
    change in the future.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 39e8f40da20a803a17e16304e73fd31050b1871c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:16 2006 -0200

    V4L/DVB (3105): Remove AUDC_CONFIG_PINNACLE horror, fix mt20xx radio support.
    
    - Remove AUDC_CONFIG_PINNACLE horror. This also fixes radio support
    for mt20xx tuners.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit ade0836c8c3bf72edafd18d3256c4fd874a8236f
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:15 2006 -0200

    V4L/DVB (3104): MSP3400 miscelaneous fixes
    
    - Removes obsoleted stuff
    - Reorders some stuff to make it clearer to read
    - Clears some debug messages
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit cd43c3f60b73512744bb22fe27a266f611466827
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:15 2006 -0200

    V4L/DVB (3103): Add VIDIOC_LOG_STATUS to tuner-core.c
    
    - Mark tda9887.c status log values as hexadecimal (add 0x prefix).
    Add VIDIOC_LOG_STATUS support to tuner-core.c.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7865c44d8ae832d6fb6522862268c7bd7814fd44
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:14 2006 -0200

    V4L/DVB (3100): fix compile error, remove dead code and volume scaling
    
    - Fix compile error (missing '}') in em28xx-video.c. Remove dead code and
    volume scaling from msp3400.c. Volume scaling does not belong there, it should
    be done in the driver for the card that uses the msp3400 if needed, not in the
    msp3400.c source. The volume scaling code gave problems with the ivtv driver
    which does not need to do any scaling.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit c0477ad9feca01bd8eff95d7482c33753d05c700
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:14 2006 -0200

    V4L/DVB (3099): Fixed device controls for em28xx on WinTV USB2 devices
    
    - Controls now come from video and audio decoder driver for msp3400 and tvp5150.
    - Added audio and sound controls as provided by msp3400 and tvp5150.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit c432a072b6b597c7af138f2fee337d79261b44f4
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:13 2006 -0200

    V4L/DVB (3092): Add support for another Nova-T-PCI PCI subdevice 0x9001
    
    - Add support for another Nova-T-PCI PCI subdevice 0x9001
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit bcb17c421e8fa20d31a0b4a60686908b6d469ce7
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:13 2006 -0200

    V4L/DVB (3090): Cleanup check for dvb.
    
    - Cleanup check for dvb.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 611900c1858747a87657eb405ebab5b1e72bb57c
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:12 2006 -0200

    V4L/DVB (3089): Adding support for the Hauppauge HVR1100 and HVR1100-LP products.
    
    - Add support for the Hauppauge HVR1100 and HVR1100-LP products.
    - Add i2c_gate_ctrl callback function to dvb_frontend_ops struct.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 35dc0fefb18eea1b4180a8fafbb83db6a9b7c401
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Jan 9 15:25:12 2006 -0200

    V4L/DVB (3086): vfree(NULL) is legal.
    
    - vfree(NULL) is legal.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f5b90a27ffe25c428329edae5b1ef81e1a8e383f
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:12 2006 -0200

    V4L/DVB (3084): Added a new debug msg to help identifying tuner Problems
    
    - Added a new debug msg to help identifying tuner Problems
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 5c07db0cb4f537731dba31002f314f3dc270d83f
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:11 2006 -0200

    V4L/DVB (3081): added offset parameter for adjusting tuner offset by hand
    
    - added offset parameter for adjusting tuner offset by hand
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 2aeb49b6884c3719eedaa96f0752b9d5e0609fe3
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:11 2006 -0200

    V4L/DVB (3065): Fix gcc-4.0.2 compile error in msp3400.c
    
    - Fix gcc-4.0.2 compile error in msp3400.c.
    - msp_attach moved to reduce a prototype.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 14725165dd2e25a54315a2350d332b49635ed6c1
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:10 2006 -0200

    V4L/DVB (3064): Some cleanups on msp3400
    
    - Change function order to reduce usage of function
      prototypes.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 174329d951e2fe39f779d67e9488b7a7f15df69c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:25:10 2006 -0200

    V4L/DVB (3062): Fix wrong tuner.h define for tuner 46
    
    - Fix wrong tuner.h define for tuner 46 (it's a Panasonic, not a Microtune).
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 26a0f5db8425fbcbd20e60c924c61592b2c132a6
Author: Noone Important <nxhxzi702@sneakemail.com>
Date:   Mon Jan 9 15:25:09 2006 -0200

    DVB (2390): Adds a time-delay to IR remote button presses for av7110 ir input,
    
    
    - Adds a time-delay to IR remote button presses for av7110_ir input,
    such that it acts more like a keyboard. A short press will be treated
    as a single button press. Holding down a button on the remote will
    respond like holding down a key on the keyboard, and result in a
    key-repeat. This just introduces a delay between the 1st press, and
    going into key-repeat so that it is possible to get a single 'up'.
    
    Signed-off-by: Noone Important <nxhxzi702@sneakemail.com>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit effa791c22ef2f944b4621c94150e129fe1af28b
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Mon Jan 9 15:25:09 2006 -0200

    DVB (2454): Port code for SU1278/SH2 (TUA6100) from pre-refactored code
    
    
    - Port code for SU1278/SH2 (TUA6100) from pre-refactored code
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 1c956a3ac087b7590296f5a0be2cdab2666158cd
Author: Vadim Catana <skystar@moldova.cc>
Date:   Mon Jan 9 15:25:08 2006 -0200

    DVB (2451): Add support for KWorld DVB-S 100, based on the same chips as Hauppauge
    
    
    - Add support for KWorld DVB-S 100, based on the same chips as Hauppauge
    Nova-S Plus (CX23883/CX24123/CX24109), without the Intersil ISL6421,
    which is used for LNB control.
    - LNB voltage and tone are controled by LNBDC and LNBTone bits from
    register 0x29 of the CX24123 demodulator.
    - The MO_GP0_IO register from CX23883 is used to turn LNB power on and off.
    
    Signed-off-by: Vadim Catana <skystar@moldova.cc>
    Acked-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e3b152bc9ee2b7f841565dc93a042f527cf3116c
Author: Johannes Stezenbach <js@linuxtv.org>
Date:   Mon Jan 9 15:25:08 2006 -0200

    DVB (2446): Minor cleanups.
    
    
    - Minor cleanups.
    
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit b79cb6531d5ba9174f9677ce2213c017d1e2ef19
Author: Steve Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:07 2006 -0200

    DVB (2445): Added demodulator driver for Nova-S-Plus and Nova-SE2 DVB-S support.
    
    
    - Added demodulator driver for Nova-S-Plus and Nova-SE2 DVB-S support.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 36cb557a2f64513e2fdc1a542167e5e8a6c1c67e
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Mon Jan 9 15:25:07 2006 -0200

    DVB (2444): Implement frontend-specific tuning and the ability to disable zigzag
    
    - Implement frontend-specific tuning and the ability to disable zigzag
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 47f3692096eef208d8cb455bfa2b3308cdfc40de
Author: Dr. Werner Fink <werner@suse.de>
Date:   Mon Jan 9 15:25:07 2006 -0200

    DVB (2441): Driver support for live-ac3, firmware >= 2621 required.
    
    
    - Driver support for live-ac3, firmware >= 2621 required.
    
    Signed-off-by: Dr. Werner Fink <werner@suse.de>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 1c13b95c7d22d5c552246b465da4b364ba00ba65
Author: Marco Schluessler <marco@lordzodiac.de>
Date:   Mon Jan 9 15:25:06 2006 -0200

    DVB (2440): Fixed mpeg audio on spdif from Nexus-CA card (rev 2.3),
    
    
    - Fixed mpeg audio on spdif from Nexus-CA card (rev 2.3),
    definitions for sound chip MSP3415
    
    Signed-off-by: Marco Schluessler <marco@lordzodiac.de>
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f49cc15bbe37b767286fdd7abe65810e750cf70a
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Jan 9 15:25:06 2006 -0200

    DVB (2432): LNB power can now be switched off for Activy Budget-S rev GR/AL.
    
    
    - LNB power can now be switched off for Activy Budget-S rev GR/AL.
    Dishnetwork support fixed for Nova-S with bsbe1/lnbp21 frontend and
    Activy Budget-S rev AL.
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit eb3daf3c5acfa737bdf2bd9d1f93c3393dde5067
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Jan 9 15:25:05 2006 -0200

    DVB (2431): Fixed dishnetwork support for Nexus-S rev 2.3
    
    
    - Fixed dishnetwork support for Nexus-S rev 2.3
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 2d0235df0e62cb9f07232bf9cf8009fabf13d304
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Mon Jan 9 15:25:05 2006 -0200

    DVB (2428): Fixes for the topuptv/SCM mediaguard CAM module in KNC1 CI module
    
    
    - Fixes for the topuptv/SCM mediaguard CAM module in KNC1 CI module
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 8a8e9c281de5dd63cdcbbafc0252fe0d8c758294
Author: Hartmut Hackmann <hartmut.hackmann@t-online.de>
Date:   Mon Jan 9 15:25:04 2006 -0200

    DVB (2421): Fixed oddities at firmware download
    
    
    - Fixed oddities at firmware download
    - more tolerant vs crystal frequency offset
    - lower sampling clock
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit d3707add6158803b6463292178cd1a041857b91b
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Mon Jan 9 15:25:04 2006 -0200

    DVB (2420): Makes integration of future devices easier
    
    
    - To make the integration of future devices easier
    - modified the dvb-usb-part to allow a device-specific firmware download
    - added an option to specify whether a device reconnects after a firmware download or not.
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e142e5107f1e4103dad16e391a41166e15b66a9c
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:03 2006 -0200

    V4L (1021): Tuner description now follows the same CodingStyle as the others
    
    - Tuner description now follows the same CodingStyle as the others
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 1faf11a3ed19d7d404fa867f572a1f23def9882e
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:03 2006 -0200

    V4L (0988): Tuner cleanups by removing Video IF from tuners struct
    
    - Video IF was removed from tuners struct.
    - Each Video standard have its own Video IF frequency, so it
    is related to video standard. Of course tuner also needs
    saw filters for IF, but this way, similar tuners can be grouped
    into just one entry, if they have the same cut-off freqs and
    the same switch config and global config.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0e0351e3709023dbd015d09880b04f0aa8818fcb
Author: Vadim Catana <skystar@moldova.cc>
Date:   Mon Jan 9 15:25:02 2006 -0200

    V4L (1007): Add support for KWorld DVB-S 100
    
    - Add support for KWorld DVB-S 100, based on the same chips as Hauppauge
    Nova-S Plus (CX23883/CX24123/CX24109), without the Intersil ISL6421,
    which is used for LNB control.
    - LNB voltage and tone are controled by LNBDC and LNBTone bits from
    register 0x29 of the CX24123 demodulator.
    - The MO_GP0_IO register from CX23883 is used to turn LNB power on and off.
    
    Signed-off-by: Vadim Catana <skystar@moldova.cc>
    Acked-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit fb56cb65e4b737c93727ea296050e8d24eb7cb42
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:02 2006 -0200

    V4L (0990): Enable IR support for the Nova-S-Plus
    
    - Enable IR support for the Nova-S-Plus.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0fa14aa6214823bb013b598add866e277a7efe28
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:02 2006 -0200

    V4L (0979): Added V4L support for the Nova-S-Plus and Nova-SE2 DVB-S products
    
    - Added V4L support for the Nova-S-Plus and Nova-SE2 DVB-S products.
    - Basic DVB-S support is working, analog video inputs work.
    - It has one or two fixme comments, primarily analog GPIOs (audio) and eeprom parsing.
    - CX24123 code (in cx88-dvb.c) disabled until the
    - cx24123 module is added to dvb-kernel cvs.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit cd1257d860f6ee09b589723a5d3888b1fed46487
Author: Steven Toth <stoth@hauppauge.com>
Date:   Mon Jan 9 15:25:01 2006 -0200

    V4L (1023): Added Hauppauge ImpactVCB board
    
    - Modifications to bttv to support the Hauppauge ImpactVCB product
    (Model #64900).
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f639c9b21b763441bd6bd76185be6d2504d83d54
Author: Joerg Schummer <joerg.schummer@web.de>
Date:   Mon Jan 9 15:25:01 2006 -0200

    V4L (1019): Added basic support (tv + radio) for TerraTec Cinergy 250 PCI
    
    - Added "TerraTec Cinergy 250 PCI" board (tv and radio).
    - svideo not tested
    - IR yet not working
    
    Signed-off-by: Joerg Schummer <joerg.schummer@web.de>
    Signed-off-by:  Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f3c5987a386300abea9854b32814d0eab7af7841
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:25:00 2006 -0200

    V4L (0987): Added Secam L' std on tda9887 and common macros moved to videodev2.h
    
    - Added SECAM L' video standard
    - Common std macros moved to videodev2.h
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 13d133bc66ea78cf2d60c78a41082c87432e0e94
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Mon Jan 9 15:25:00 2006 -0200

    V4L/DVB (3152): Fixes some troubles at v4l2 compat stuff
    
    - This patch fixes merge and typo problems in v4l2/compat, and fixes
    VIDIOC_STREAMON, VIDIOC_STREAMOFF & VIDIOC_S_FBUF.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit cf664a6458b254ce665d129c0960cff4f32b91f3
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Mon Jan 9 15:24:59 2006 -0200

    V4L/DVB (3120): Adds 32-bit compatibility for v4l2 framegrabber ioctls.
    
    - Adds 32-bit compatibility for v4l2 framegrabber ioctls.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit e8efb71d02d008a665ba88e6f75af691d9425e49
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Mon Jan 9 15:24:59 2006 -0200

    V4L (0978): 64-bit fixes for removing warnings on compat_ioctl32
    
    - 64-bit fixes for removing warnings on compat_ioctl32.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 97e2a01b6bd995bc3438b361e58b126a2c3cc0ca
Author: Mishala Pytasz <pytasz@lodz.home.pl>
Date:   Mon Jan 9 15:24:59 2006 -0200

    V4L (0973): Another build fix for compat_ioctl32.c
    
    - Another build fix for compat_ioctl32.c
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 133b735416fcd0f32a429e3f55072afe84c1f005
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Mon Jan 9 15:24:58 2006 -0200

    V4L (0972): More build fixes for compat_ioctl32.c
    
    - More build fixes for compat_ioctl32.c
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 17cbe2e5831c3df114c8d7b7d8bf07f2c35a6030
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Jan 9 15:24:58 2006 -0200

    V4L (963): Explicit compat_ioctl32 handler to em28xx
    
    - Included explicit compat_ioctl32 handler.
    - removed extra line on cardlist.
    
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 925e699f26d2162553f7453dcacbac32f063a4c7
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Jan 9 15:24:57 2006 -0200

    V4L (957): Compat ioctl32 license fix
    
    - Compat_ioctl32 license fix
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 0d0fbf8152fb3bb4393be11e8df7f70e1fbbd738
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Jan 9 15:24:57 2006 -0200

    V4L (926_2): Moves compat32 functions from fs to v4l subsystem
    
    This moves the 32 bit ioctl compatibility handlers for
    Video4Linux into a new file and adds explicit calls to them
    to each v4l device driver.
    
    Unfortunately, there does not seem to be any code handling
    the v4l2 ioctls, so quite often the code goes through two
    separate conversions, first from 32 bit v4l to 64 bit v4l,
    and from there to 64 bit v4l2. My patch does not change
    that, so there is still much room for improvement.
    
    Also, some drivers have additional ioctl numbers, for
    which the conversion should be handled internally to
    that driver.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 8ef12c9f01afba47c2d33bb939085111ca0d0f7d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 17:08:11 2006 +0000

    [ARM] AT91RM9200 doesn't need anything in dma.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 73a59c1c4af06c675a168d698d3ebfbb3270ddbe
Author: SAN People <andrew@sanpeople.com>
Date:   Mon Jan 9 17:05:41 2006 +0000

    [ARM] 3240/2: AT91RM9200 support for 2.6 (Core)
    
    Patch from SAN People
    
    Following changes were made to clock.c:
    
    1) Replaced <asm/hardware/clock.h> with <linux/clk.h>
    2) Removed old unused clk_enable & clk_disable.
    3) Replaced clk_use/clk_unuse with clk_enable/clk_disable.
    
    Otherwise it's the same as the previous patch.
    
    Signed-off-by: Andrew Victor <andrew@sanpeople.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 166c3436d683cfe5316c7723ed746a93db053f12
Author: Dan Williams <dcbw@redhat.com>
Date:   Mon Jan 9 11:04:31 2006 -0500

    [patch] ipw2100: support WEXT-18 enc_capa v3
    
    This patch allows ipw2100 driver to advertise the WPA-related encryption
    options that it does really support.  It's necessary to work correctly
    with NetworkManager and other programs that actually check driver & card
    capabilities.
    
    Signed-off-by: Dan Williams <dcbw@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 64916f1ebe93592153c72bcdb189a31e4d40049a
Author: Denis Vlasenko <vda@ilport.com.ua>
Date:   Thu Jan 5 22:45:47 2006 -0800

    [PATCH] fix a few "warning: 'cleanup_card' defined but not used"
    
    These warnings are emitted if non-modular network drivers are built.
    Fixes just move cleanup_card() definitions into #ifdef MODULE region.
    
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/wd.c:131: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/3c503.c:152: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/ne.c:216: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/hp.c:106: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/hp-plus.c:142: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/smc-ultra.c:172: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/e2100.c:144: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/es3210.c:159: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/lne390.c:149: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/lance.c:313: warning: 'cleanup_card' defined but not used
    /.1/usr/srcdevel/kernel/linux-2.6.15-rc7.src/drivers/net/ac3200.c:127: warning: 'cleanup_card' defined but not used
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fa45459e5e4507402350f1cdaf44b7455602770c
Author: Ayaz Abdulla <aabdulla@nvidia.com>
Date:   Thu Jan 5 22:45:45 2006 -0800

    [PATCH] forcedeth: TSO fix for large buffers
    
    This contains a bug fix for large buffers.  Originally, if a tx buffer to
    be sent was larger then the maximum size of the tx descriptor, it would
    overwrite other control bits.  In this patch, the buffer is split over
    multiple descriptors.  Also, the fragments are now setup in forward order.
    
    Signed-off-by: Ayaz Abdulla <aabdulla@nvidia.com>
    Signed-off-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3bb8a18ae825ebf3550fe7894b35cd1c87356a16
Author: Olaf Hering <olh@suse.de>
Date:   Thu Jan 5 22:45:45 2006 -0800

    [PATCH] remove bouncing mail address of mv643xx_eth maintainer
    
    Remove bouncing mail address of mv643xx maintainer.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 32a4ec97461f00aa63747fc8978011ea771bd543
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Thu Jan 5 22:45:44 2006 -0800

    [PATCH] e1000: Fix invalid memory reference
    
    Fix an invalid memory reference in the e1000 driver which would cause
    kernel panic.
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Cc: Jeb Cramer <cramerj@intel.com>
    Cc: John Ronciak <john.ronciak@intel.com>
    Cc: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Acked-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 504ddff4c0b8e31fa2a2775d6d484faeb126a265
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 5 22:45:43 2006 -0800

    [PATCH] drivers/net/gianfar.h: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cceb904f9b804f18250214fcd988eca72864970c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 5 22:45:42 2006 -0800

    [PATCH] drivers/net/bonding/bonding.h: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f65fd8fbb2356d1b4412bc83810cf39a529de412
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 5 22:45:41 2006 -0800

    [PATCH] drivers/net/Kconfig: indentation fix
    
    This patch fixes a wrong indentation.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b6d08c0e98c8b9a4a066544737cf6642df1ea5bd
Author: Franck <vagabon.xyz@gmail.com>
Date:   Thu Jan 5 22:45:39 2006 -0800

    [PATCH] Add MIPS dependency for dm9000 driver
    
    Add MIPS dependency for dm9000 ethernet controller.  Indeed this controller
    is used by some embedded platforms based on MIPS CPUs.
    
    Signed-off-by: Franck Bui-Huu <franck.bui@gmail.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8fad6939af311a8be5785d41531baa5a6918f833
Author: Eric Paris <eparis@redhat.com>
Date:   Fri Jan 6 11:57:11 2006 -0500

    [PATCH] update bonding.txt to not show ip address on slaves
    
    ifenslave, as of abi version 2, does not set the ip address on the slave
    interfaces.  The documentation example however still shows that the
    ensalved interfaces should have the same IP as the master.  The patch
    simply removes the lines from the example which should no longer appear.
    
    Signed-off-by: Eric Paris <eparis@redhat.com>
    
     bonding.txt |    2 --
     1 files changed, 2 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b9c4c609660e00377f0b30dfbbec0f1918b56aba
Author: Christoph Dworzak <dworz@amazing.ch>
Date:   Fri Jan 6 14:49:22 2006 -0500

    [PATCH] tulip: enable multiport NIC BIOS fixups for x86_64
    
    A BIOS bug affecting some multiport tulip NICs requires an irq fixup
    in tulip_core.c.  This has only been enabled for i686, but it is
    needed for x86_64 as well.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b887030aec0971a47ca97a18e93ff446bc7d049e
Author: Andrew Chew <achew@nvidia.com>
Date:   Wed Jan 4 19:13:04 2006 -0800

    [PATCH] sata_nv, spurious interrupts at system startup with MAXTOR 6H500F0 drive
    
    This patch works around a problem with spurious interrupts seen at boot time when
    a MAXTOR 6H500F0 drive is present.  An ATA interrupt condition is mysteriously
    present at start of day.  If we took too long in issuing the first command,
    the kernel would basically get tired of the spurious interrupts and turn the interrupt
    off.  Issuing the first command essentially causes the interrupt condition to
    get acknowledged.
    
    I haven't seen this happen with any other drives.
    
    What I basically do is ack ATA status by reading it regardless of whether we're
    expecting to have to handle an interrupt.  This clears the start-of-day anomalous
    interrupt condition, and keeps the kernel from disabling that interrupt due to
    too many spurious interrupts.
    
    Also, I fixed a bug where hotplug interrupts weren't getting acknowledged as handled
    in the ISR.  This was not the cause of the spurious interrupts, but it's the right
    thing to do anyway.
    
    Signed-Off-By: Andrew Chew
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 38843888e3e9fb7006d72d55b8e6ffcc925cf18a
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Tue Dec 27 12:36:41 2005 -0800

    [PATCH] PPC44x EMAC driver: disable TX status deferral in half-duplex mode
    
    Disable TX status deferral (EMACx_MR[MWSW=001]) in half-duplex mode.
    I have two reports when EMAC stops transmitting when connected to a
    hub. TX ring debug printouts show complete mess when this happens,
    probably hardware collision handling doesn't work quite well in this
    mode.
    
    This is relevant only for SoCs with EMAC4 core (440GX, 440SP, 440SPe).
    Tested on 440GX.
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a4bf26f30e398afa293b85103c885f03d4660a07
Author: Johannes Berg <johannes@sipsolutions.net>
Date:   Sat Dec 31 11:35:20 2005 +0100

    [PATCH] ieee80211: enable hw wep where host has to build IV
    
    This patch fixes some of the ieee80211 crypto related code so that
    instead of having the host fully do crypto operations, the host_build_iv
    flag works properly (for WEP in this patch) which, if turned on,
    requires the hardware to do all crypto operations, but the ieee80211
    layer builds the IV. The hardware also has to build the ICV.
    
    Previously, the host_build_iv flag couldn't be used at all for WEP, and
    not alone (with both host_decrypt and host_encrypt disabled) because the
    crypto algorithm wasn't assigned. This is also fixed.
    
    I have tested this patch both in host crypto mode and in hw crypto mode
    (with the Broadcom chipset).
    
    [resent, signing digitally caused it to be MIME-junked, sorry]
    
    Signed-Off-By: Johannes Berg <johannes@sipsolutions.net>
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit df22b8aaba3f41cc61f57f5ead78be45edcb7db5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:44 2006 -0800

    [PATCH] sk98lin: error handling of pci setup
    
    Don't enable the pci device twice (already done in the probe
    routine).  Propogate the error codes from pci_request_region
    back to initial probing.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 162875570e65b56a7f4d804fc32aebf7a434cf89
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:43 2006 -0800

    [PATCH] sk98lin: error handling on probe
    
    The sk98lin driver doesn't do proper error number handling
    during initialization. Note: -EAGAIN is a bogus return value for
    hardware errors.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 26fc354914219a91254afd0df573fc801bb1183a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:42 2006 -0800

    [PATCH] sk98lin: use kzalloc
    
    Trivial use of kzalloc.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit decf67aa2f4d498c02c2ad24a187a66c217f330c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:41 2006 -0800

    [PATCH] sk98lin: error handling on dual port board
    
    Sk98lin driver error recovery on two port boards is bad.
    If it fails the second allocation, it will not release resources
    properly. Also it registers the second port in the pci driver data
    
    If second port fails, might as well go with one port.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bce7c95e4dd4d5e924deb2929b639b4caca09c93
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:40 2006 -0800

    [PATCH] sk98lin: not doing high dma properly
    
    Sk98lin 64bit memory handling is wrong. It doesn't set the
    highdma flag; i.e. the kernel always does bounce buffers.
    It doesn't fallback to 32 bit mask if it can't get 64 bit mask.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 17fa6e2f115ad734ef802b663071159a1a64d06f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 16:57:39 2006 -0800

    [PATCH] sk98lin: routine called from probe marked __init
    
    Sk98lin driver has a routine marked __init that is called from
    the probe code. If using pci hotplug, this could be called after
    the initialization so it needs to be marked __devinit.
    So if you hot added a sk98lin board, the kernel would crash.
    I don't have hot plug hardware to actually try this feat.
    
    Also, there are two routines, only called from SkGeBoardInit that can
    be marked __devinit.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a9925a06ea52a44b4bf4a941342e8240eaf22417
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 16:04:06 2006 +0100

    [BLOCK] CCISS: update for blk softirq completions
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 8672d57138b34447719cd7749f3d21070e1175a1
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 16:03:35 2006 +0100

    [IDE] Use the block layer deferred softirq request completion
    
    This patch makes IDE use the new blk_complete_request() interface.
    There's still room for improvement, as __ide_end_request() really
    could drop the lock after getting HWGROUP->rq (why does it need to
    hold it in the first place? If ->rq access isn't serialized, we are
    screwed anyways).
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 1aea6434eebd25e532d2e5ddabf2733af4e1ff0b
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 16:03:03 2006 +0100

    [SCSI] Kill the SCSI softirq handling
    
    This patch moves the SCSI softirq handling to the block layer version.
    There should be no functional changes.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit ff856bad67cb65cb4dc4ef88b808804fc4265782
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 16:02:34 2006 +0100

    [BLOCK] ll_rw_blk: Enable out-of-order request completions through softirq
    
    Request completion can be a quite heavy process, since it needs to
    iterate through the entire request and complete the bio's it holds.
    This patch adds blk_complete_request() which moves this processing
    into a dedicated block softirq.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 356cebea1123804e4aa85b43ab39bbd0ac8e667c
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 15:30:20 2006 +0100

    [BLOCK] Kill blk_attempt_remerge()
    
    It's a broken interface, it's done way too late. And apparently it triggers
    slab problems in recent kernels as well (most likely after the generic dispatch
    code was merged). So kill it, ide-cd is the only user of it.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 50365c57860cd931c2d806057e0987634797e9af
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 14:15:14 2006 +0000

    [ARM] Make Acorn partition types depend on ACORN_PARTITION
    
    balamurugan reported a problem where it was possible to have
    the various Acorn partition types selected in the configuration,
    but ACORN_PARTITION disabled.  Since ACORN_PARTITION controls
    whether we build fs/partitions/acorn.c, this lead to undefined
    references to the adfspart_check_TYPE symbols.
    
    Fix this by making the Acorn partition type symbols depend on
    ACORN_PARTITION.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 50465d0da69e8d8b5493c5b752f0aa6d039c3914
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 13:59:36 2006 +0000

    [ARM] Update am79c961 to use struct platform_driver
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e9368f8288338c25d8a339c91b15e17ebf33752d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 13:56:42 2006 +0000

    [ARM] Remove asm/irq.h includes from ARM drivers
    
    Many ARM drivers do not need to include asm/irq.h - remove this
    unnecessary include from some ARM drivers.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5a57be8d100c67a033ec78f00d5a0cd387da72e9
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 14:52:21 2006 +0100

    [BLOCK] scsi_ioctl: file can be NULL from ioctl_by_bdev()
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 0ea60b5ad8c3630e8f44c443f173d841be7fc701
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Jan 9 14:45:10 2006 +0100

    [BLOCK] bio: init ->bi_bdev in bio_init()
    
    For SG_IO requests, bio->bi_bdev may not be explicitly initialized. So make
    bio_init() clear the field to make sure it's always NULL or valid.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 769db45b73896a88d6b40e3e648dfc50a155ec93
Author: Coywolf Qi Hunt <qiyong@fc-cn.com>
Date:   Wed Dec 28 10:55:49 2005 +0100

    make elv_try_merge() static, kill the dead declaration of
    
    elv_try_last_merge().
    
    Signed-off-by: Coywolf Qi Hunt <qiyong@fc-cn.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 1abee6d2d1b6366df96fce1d43eefd1819e1b055
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Mon Nov 28 09:40:20 2005 +0100

    [BLOCK][TRIVIAL] ll_rw_blk: header included twice
    
    linux/blkdev.h included twice
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 63dcf0ad2a624a36656c10491fc3326cfe199f5e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 13:32:56 2006 +0000

    [ARM] Remove CONFIG_ARCH_CAMELOT from defconfigs
    
    EPXA10DB has gone, no need to keep the symbol in the defconfigs.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 66a3454e1a6d3f2096e6ecfa59572b34caca4942
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Jan 9 12:57:05 2006 +0000

    [ARM] Update mach-types
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit be42d5fa3772241b8ecebd443f1fb36247959c54
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Jan 9 21:32:42 2006 +1100

    powerpc: unbreak iSeries compilation again
    
    We don't set CONFIG_PPC_MULTIPLATFORM on iSeries (yet).  Avoid
    compiling in the prom_init stuff on iSeries.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e0fa93d6e6f0f36f39b813e561dbb890c58da58f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Jan 9 18:19:49 2006 +1100

    [PATCH] powerpc: Don't use KERNELBASE in add_memory()
    
    In add_memory() we should be using __va() to get a virtual address.
    Spotted by Mike Kravetz.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0a498d96a3324c16add35da0435bc7c13b6c6f3f
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Jan 9 20:17:01 2006 +1100

    powerpc: set CONFIG_PPC_OF=y always for ARCH=powerpc
    
    The CONFIG_PPC_OF symbol is used to mean that the firmware device tree
    access functions are available.  Since we always have a device tree
    with ARCH=powerpc, make CONFIG_PPC_OF always Y for ARCH=powerpc.
    
    This fixes some compile errors reported by Kumar Gala, but in a
    different way to his patch.  This also makes prom_parse.o be compiled
    only if CONFIG_PPC_OF so that non-OF ARCH=ppc platforms will compile.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bce6c5fd8cc5d3f8d02fd34a24b591fc3e23a775
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Jan 9 15:47:04 2006 +1100

    [PATCH] powerpc: DABR exceptions should report the address not the PC
    
    When taking a DABR exception we were reporting the PC. It makes more
    sense to report the address that caused the exception, and the gdb guys
    would like it that way.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 834608f71a323b90f928d05c64d24df436df3011
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Jan 9 15:42:30 2006 +1100

    [PATCH] ppc64: POWER5+ oprofile support
    
    POWER5+ adds new PMU groups and as such needs to be treated differently
    by oprofile userspace. Change it to report itself as power5+.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 32a33994d513606d29e87e152deb67ba5f3c8e82
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Jan 9 15:41:31 2006 +1100

    [PATCH] ppc64: Fix oprofile when compiled as a module
    
    My recent changes to oprofile broke it when built as a module. Fix it by
    using an enum instead of a function pointer. This way we still retain
    the oprofile configuration in the cputable.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9a699aefa87cb0379a67741926820c9271d748a9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 7 11:45:28 2006 +1100

    [PATCH] 4/5 powerpc: Add cpufreq support for all desktop G5
    
    This patch adds cpufreq support for all desktop "tower" G5 models. The
    only G5 models still lacking cpufreq support at this point are the
    Xserve and possibly the new iMac iSight (not tested). I'll have those
    added soon. That patch uses the new platform functions interpreter to
    implement frequency and voltage switching on most models.
    
    Note that in order to find the low frequency value, I had to hack
    something that might now work properly on all models, so if the
    frequency value reported when running low speed looks bogus to you,
    please report it to me. (Appart from a bogus reported value, things
    should work fine).
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5b9ca526917b7bc7d1da3beaccb2251a8f0b5fe2
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 7 11:41:02 2006 +1100

    [PATCH] 3/5 powerpc: Add platform functions interpreter
    
    This is the platform function interpreter itself along with the backends
    for UniN/U3/U4, mac-io, GPIOs and i2c. It adds the ability to execute
    those do-platform-* scripts in the device-tree (at least for most
    devices for which a backend is provided). This should replace the clock
    spreading hacks properly. It might also have an impact on all sort of
    machines since some of the scripts marked "at init" will now be executed
    on boot (or some other on sleep/wakeup), those will possibly do things
    that the kernel didn't do at all, like setting some values into some i2c
    devices (changing thermal sensor calibration or conversion rate) etc...
    Thus regression testing is MUCH welcome. Also loook for errors in dmesg.
    That's also why I've left rather verbose debugging enabled in this
    version of the patch.
    
    (I do expect some Windtunnel G4s to show some errors as they have an i2c
    clock chip on the PMU bus that uses some primitives that the i2c backend
    doesn't implement yet. I really need users that have one of those
    machine to come back to me so we can get that done right, though the
    errors themselves should be harmless, I suspect the machine might not
    run at full speed).
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a28d3af2a26c89aaa6470ca36edb212e05143d67
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 7 11:35:26 2006 +1100

    [PATCH] 2/5 powerpc: Rework PowerMac i2c part 2
    
    This is the continuation of the previous patch. This one removes the old
    PowerMac i2c drivers (i2c-keywest and i2c-pmac-smu) and replaces them
    both with a single stub driver that uses the new PowerMac low i2c layer.
    
    Now that i2c-keywest is gone, the low-i2c code is extended to support
    interrupt driver transfers. All i2c busses now appear as platform
    devices. Compatibility with existing drivers should be maintained as the
    i2c bus names have been kept identical, except for the SMU bus but in
    that later case, all users has been fixed.
    
    With that patch added, matching a device node to an i2c_adapter becomes
    trivial.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 730745a5c45093982112ddc94cee6a9973455641
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Jan 7 11:30:44 2006 +1100

    [PATCH] 1/5 powerpc: Rework PowerMac i2c part 1
    
    This is the first part of a rework of the PowerMac i2c code. It
    completely reworks the "low_i2c" layer. It is now more flexible,
    supports KeyWest, SMU and PMU i2c busses, and provides functions to
    match device nodes to i2c busses and adapters.
    
    This patch also extends & fix some bugs in the SMU driver related to i2c
    support and removes the clock spreading hacks from the pmac feature code
    rather than adapting them to the new API since they'll be replaced by
    the platform function code completely in patch 3/5
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 002ec58eb57bac2380f0ed5a4e88121b4bdb32ec
Author: Anton Blanchard <anton@samba.org>
Date:   Sat Jan 7 00:49:49 2006 +1100

    [PATCH] ppc64: fix time syscall
    
    ppc64 has its own version of sys_time. It looks pretty scary, touching
    a whole bunch of variables without any locking or memory ordering.
    
    In fact, a recent bugreport has shown it can actually go backwards. Time
    to remove it and just use the generic sys_time, which is implemented on
    top of do_gettimeofday.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aed9c6ccb87d96c333bd6ae631d9e90f3b6d7271
Author: Paul Janzen <pcj@linux.sez.to>
Date:   Wed Jan 4 21:40:48 2006 -0800

    [PATCH] ppc32: Put cache flush routines back into .relocate_code section
    
    In 2.6.14, we had the following definition of _GLOBAL() in
    include/asm-ppc/processor.h:
    
    #define _GLOBAL(n)\
            .stabs __stringify(n:F-1),N_FUN,0,0,n;\
            .globl n;\
    n:
    
    In 2.6.15, as part of the great powerpc merge, we moved this definition to
    include/asm-powerpc/ppc_asm.h, where it appears (to 32-bit code) as:
    
    #define _GLOBAL(n)      \
            .text;          \
            .stabs __stringify(n:F-1),N_FUN,0,0,n;\
            .globl n;       \
    n:
    
    Mostly, this is fine.  However, we also have the following, in
    arch/ppc/boot/common/util.S:
    
            .section ".relocate_code","xa"
    [...]
    _GLOBAL(flush_instruction_cache)
    [...]
    _GLOBAL(flush_data_cache)
    [...]
    
    The addition of the .text section definition in the definition of
    _GLOBAL overrides the .relocate_code section definition.  As a result,
    these two functions don't end up in .relocate_code, so they don't get
    relocated correctly, and the boot fails.
    
    There's another suspicious-looking usage at kernel/swsusp.S:37 that
    someone should look into.  I did not exhaustively search the source
    tree, though.
    
    The following is the minimal patch that fixes the immediate problem.
    I could easily be convinced that the _GLOBAL definition should be
    modified to remove the ".text;" line either instead of, or in addition
    to, this fix.
    
    Signed-off-by: Paul Janzen <pcj@linux.sez.to>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2fb9d2063626374dd8a2514b3a730facac8235d8
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Thu Jan 5 14:05:29 2006 +0000

    [PATCH] spufs: set irq affinity for running threads
    
    For far, all SPU triggered interrupts always end up on
    the first SMT thread, which is a bad solution.
    
    This patch implements setting the affinity to the
    CPU that was running last when entering execution on
    an SPU. This should result in a significant reduction
    in IPI calls and better cache locality for SPE thread
    specific data.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aeb013772a2cc85a8d0baffd64977d2888bc781d
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:32 2006 +0100

    [PATCH] spufs: fix allocation on 64k pages
    
    The size of the local store is architecture defined
    and independent from the page size, so it should
    not be defined in terms of pages in the first place.
    
    This mistake broke a few places when building for
    64kb pages.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6ff730c33b42a6c68217fc6660728676aa8eeb9c
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:31 2006 +0100

    [PATCH] spufs: fix sparse warnings
    
    One local variable is missing an __iomem modifier,
    in another place, we pass a completely unused argument
    with a missing __user modifier.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f0831acc4b78e2d9737e8ed91b8b7505b21ddb83
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:30 2006 +0100

    [PATCH] spufs: abstract priv1 register access.
    
    In a hypervisor based setup, direct access to the first
    priviledged register space can typically not be allowed
    to the kernel and has to be implemented through hypervisor
    calls.
    
    As suggested by Masato Noguchi, let's abstract the register
    access trough a number of function calls. Since there is
    currently no public specification of actual hypervisor
    calls to implement this, I only provide a place that
    makes it easier to hook into.
    
    Cc: Masato Noguchi <Masato.Noguchi@jp.sony.com>
    Cc: Geoff Levand <geoff.levand@am.sony.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ce8ab8541203f6c7be5b2eeaa97f14f1d8d44e4f
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:29 2006 +0100

    [PATCH] spufs: move spu_run call to its own file
    
    The logic for sys_spu_run keeps growing and it does
    not really belong into file.c any more since we
    moved away from using regular file operations to our
    own syscall.
    
    No functional change in here.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8837d9216f99048636fbb2c11347358e99e06181
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:28 2006 +0100

    [PATCH] spufs: clean up use of bitops
    
    checking bits manually might not be synchonized with
    the use of set_bit/clear_bit. Make sure we always use
    the correct bitops by removing the unnecessary
    identifiers.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3f51dd91c80746a5cf76f8c4a77bfc88aa82bb9e
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:27 2006 +0100

    [PATCH] spufs: fix spufs_fill_dir error path
    
    If creating one entry failed in spufs_fill_dir,
    we never cleaned up the freshly created entries.
    Fix this by calling the cleanup function on error.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 346f4d3ce948a381a559dcaefb141d79f492335c
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:26 2006 +0100

    [PATCH] spufs: dont leak directories in failed spu_create
    
    If get_unused_fd failed in sys_spu_create, we never cleaned
    up the created directory. Fix that by restructuring the
    error path.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0106246594a05f02a6be6ee4695c7584c758fa7f
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:25 2006 +0100

    [PATCH] spufs fix spu_acquire_runnable error path
    
    When spu_activate fails in spu_acquire_runnable, the
    state must still be SPU_STATE_SAVED, we were
    incorrectly setting it to SPU_STATE_RUNNABLE.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5ef8224aaa9220bfecb362f0802cf78aad47c02a
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:24 2006 +0100

    [PATCH] spufs: serialize sys_spu_run per spu
    
    During an earlier cleanup, we lost the serialization
    of multiple spu_run calls performed on the same
    spu_context. In order to get this back, introduce a
    mutex in the spu_context that is held inside of spu_run.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e80358ad8606382154d97165121602dfae213e4a
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:23 2006 +0100

    [PATCH] spufs: check for proper file pointer in sys_spu_run
    
    Only checking for SPUFS_MAGIC is not reliable, because
    it might not be unique in theory. Worse than that,
    we accidentally allow spu_run to be performed on
    any file in spufs, not just those returned from
    spu_create as intended.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c8ca0633e5f2bceab7b4eba4475820fd7674dece
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:22 2006 +0100

    [PATCH] spufs: dont hold root->isem in spu_forget
    
    spu_forget will do mmput on the DMA address space,
    which can lead to lots of other stuff getting triggered.
    We better not hold a semaphore here that we might
    need in the process.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 762cf6dac2623473e83bb271f2bbe97d2355c64d
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 20:31:21 2006 +0100

    [PATCH] spufs: fix locking in spu_acquire_runnable
    
    We need to check for validity of owner under down_write,
    down_read is not enough.
    
    Noticed by Al Viro.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c902be71dc6d5e8473bd021feafc8c3608e2b82a
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Wed Jan 4 19:55:53 2006 +0000

    [PATCH] cell: enable pause(0) in cpu_idle
    
    This patch enables support for pause(0) power management state
    for the Cell Broadband Processor, which is import for power efficient
    operation. The pervasive infrastructure will in the future enable
    us to introduce more functionality specific to the Cell's
    pervasive unit.
    
    From: Maximino Aguilar <maguilar@us.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 017e0fad3e40ece983527ec88a92b3da8fcdecea
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Jan 3 16:15:21 2006 -0600

    [PATCH] powerpc: fixing compile issue with !CONFIG_PCI in legacy_serial.c
    
    Only build in support for ISA and PCI cases if we have enabled CONFIG_ISA
    and CONFIG_PCI.  Additionally, isa_bridge is a global so we shouldn't use
    it a parameter name since it gets redefined to NULL when !CONFIG_PCI.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 03929c76f3e5af919fb762e9882a9c286d361e7d
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Thu Dec 29 19:18:49 2005 -0200

    [PATCH] ppc32: cpm_uart: fix xchar sending
    
    while using SCC as uart and as serial console at same time I got this:
    
    [  138.214258] Oops: kernel access of bad area, sig: 11 [#1]
    [  138.218832] PREEMPT
    [  138.221021] NIP: C0105C48 LR: C0105E60 SP: C03D5D10 REGS: c03d5c60 TRAP: 0300    Not tainted
    [  138.229280] MSR: 00009032 EE: 1 PR: 0 FP: 0 ME: 1 IR/DR: 11
    [  138.234713] DAR: 00000000, DSISR: C0000000
    [  138.238745] TASK = c0349420[693] 'sh' THREAD: c03d4000
    [  138.243754] Last syscall: 6
    [  138.246402] GPR00: FEFFFFFF C03D5D10 C0349420 C01FB094 00000011 00000000 C1ECFBBC C01F24B0
    [  138.254602] GPR08: FF002820 00000000 FF0028C0 00000000 19133615 A0CBCD5E 02000300 00000000
    [  138.262804] GPR16: 00000000 01FF9E4C 00000000 7FA9A770 00000000 00000000 1003E2A8 00000000
    [  138.271003] GPR24: 100562F4 7F9B6EF4 C0210000 C02A5338 C01FB094 00000000 C01FB094 C1F14574
    [  138.279376] NIP [c0105c48] cpm_uart_tx_pump+0x4c/0x22c
    [  138.284419] LR [c0105e60] cpm_uart_start_tx+0x38/0xb0
    [  138.289361] Call trace:
    [  138.291762]  [c0105e60] cpm_uart_start_tx+0x38/0xb0
    [  138.296547]  [c010277c] uart_send_xchar+0x88/0x118
    [  138.301244]  [c01029a0] uart_unthrottle+0x6c/0x138
    [  138.305942]  [c00ece10] check_unthrottle+0x60/0x64
    [  138.310641]  [c00ecec4] reset_buffer_flags+0xb0/0x138
    [  138.315595]  [c00ecf64] n_tty_flush_buffer+0x18/0x78
    [  138.320465]  [c00e81b0] tty_ldisc_flush+0x64/0x7c
    [  138.325078]  [c010410c] uart_close+0xf0/0x2c8
    [  138.329348]  [c00e9c48] release_dev+0x724/0x8d4
    [  138.333790]  [c00e9e18] tty_release+0x20/0x3c
    [  138.338061]  [c006e544] __fput+0x178/0x1e0
    [  138.342076]  [c006c43c] filp_close+0x54/0xac
    [  138.346261]  [c0002d90] ret_from_syscall+0x0/0x44
    [  138.352386] note: sh[693] exited with preempt_count 2
    
    a easy way to reproduce it is log into the system using ssh and do:
    	cat >/dev/ttyCPM0
    then, switch to minicom and write some stuff on it back to ssh, a control C
    produce the oops
    
    this happens because uart_close calls uart_shutdown which frees xmit.buf,
    currently used by xchar sending in cpm_uart_tx_pump(), which seems wrong.
    
    the attached patch fixes the oops and also fixes xchar sending.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 022930ebea0df878d449b7c74309c1d612441ac5
Author: Haren Myneni <haren@us.ibm.com>
Date:   Tue Dec 27 18:58:29 2005 -0800

    [PATCH] Small fix in eeh definitions when CONFIG_EEH not enabled
    
    Undefined symbols (eeh_add_device_tree_early and eeh_remove_bus_device)
    when EEH is not enabled. This small patch will fix this.
    
    Acked-by: Linas Vepstas <linas@austin.ibm.com>
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9da5cad61c13fbdc7fc7aa425f03a15da9d0cb43
Author: Haren Myneni <haren@us.ibm.com>
Date:   Tue Dec 27 15:51:07 2005 -0800

    [PATCH] powerpc: Fix search for the main interrupt controller
    
    At present, we are not looking at all interrupt controller nodes in the
    device tree even though the proper node was not found. This is causing
    the system panic. The attached patch will scan all nodes until it finds
    the proper interrupt controller type.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 79e7bac0d6ad56d62e2364313b5e5e5950c7385d
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Dec 21 09:27:13 2005 -0600

    [PATCH] powerpc: Call find_legacy_serial_ports() if we enable CONFIG_SERIAL_8250
    
    In setup_arch and setup_system call find_legacy_serial_ports() if we
    build in support for 8250 serial ports instead of basing it on PPC_MULTIPLATFORM.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit be6b843918394067e93ebbacb834245251a6f18a
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Dec 20 16:37:07 2005 -0600

    [PATCH] powerpc: added a udbg_progress
    
    Added a common udbg_progress for use by ppc_md.progress()
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b580d46ce833f6bdc6a5602f4f0efb1d9c488ed6
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Dec 20 16:16:52 2005 -0600

    [PATCH] powerpc: Add the ability to handle SOC ports in legacy_serial
    
    Add the ability to configure and initialize legacy 8250 serials
    ports on an SOC bus.  Also, fixed an issue that we would not
    configure any serial ports if "linux,stdout-path" was not found.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d0e132b536b6c8044991932d0c160676c46c98e5
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Dec 20 16:16:26 2005 -0600

    [PATCH] powerpc: Loosen udbg_probe_uart_speed sanity checking
    
    The checking of the baudrate in udbg_probe_uart_speed was
    too tight and would cause reporting back of the default
    baud rate in cases where the computed speed was valid.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5367f2d67c7d0bf1faae90e6e7b4e2ac3c9b5e0f
Merge: 64ca900... 4f8448d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Jan 8 20:18:44 2006 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/roland/infiniband

commit b226e462124522f2f23153daff31c311729dfa2f
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Fri Dec 16 14:30:35 2005 -0800

    [PATCH] powerpc: don't add memory to empty node/zone
    
    The system will oops if an attempt is made to add memory to an
    empty node/zone.  This patch prevents adding memory to an empty
    node.  The code to dynamically add a node/zone is non-trivial.
    This patch is temporary and will be removed when the ability
    to dynamically add a node/zone is complete.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 021c73354921a315ae2fceb1ad7807d1569a5a74
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 16 22:45:27 2005 +0100

    [PATCH] powerpc: fix two build warnings
    
    Building the arch/powerpc tree currently gives me
    two warnings with gcc-4.0:
    
    arch/powerpc/mm/imalloc.c: In function '__im_get_area':
    arch/powerpc/mm/imalloc.c:225: warning: 'tmp' may be used uninitialized in this function
    arch/powerpc/mm/hugetlbpage.c: In function 'hugetlb_get_unmapped_area':
    arch/powerpc/mm/hugetlbpage.c:608: warning: unused variable 'vma'
    
    both fixes are trivial.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 64ca9004b819ab87648dbfc78f3ef49ee491343e
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:26 2006 -0800

    [PATCH] Make vm86 support optional
    
    This adds an option to remove vm86 support under CONFIG_EMBEDDED.  Saves
    about 5k.
    
    This version eliminates most of the #ifdefs of the previous version and
    instead uses function stubs in vm86.h.  Also, release_vm86_irqs is moved
    from asm-i386/irq.h to a more appropriate home in vm86.h so that the stubs
    can live together.
    
    $ size vmlinux-baseline vmlinux-novm86
       text    data     bss     dec     hex filename
    2920821  523232  190652 3634705  377611 vmlinux-baseline
    2916268  523100  190492 3629860  376324 vmlinux-novm86
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 708e9a794cf8822b760edaccd9053edb07c34d19
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:25 2006 -0800

    [PATCH] tiny: Configure ELF core dump support
    
    configurable support for ELF core dumps
    
       text    data     bss     dec     hex filename
    3330172  529036  190556 4049764  3dcb64 vmlinux-baseline
    3325552  528912  190556 4045020  3db8dc vmlinux-no-elf
    
    add/remove: 0/8 grow/shrink: 0/0 up/down: 0/-4424 (-4424)
    function                                     old     new   delta
    fill_note                                     32       -     -32
    maydump                                       58       -     -58
    dump_seek                                     67       -     -67
    writenote                                    180       -    -180
    elf_dump_thread_status                       274       -    -274
    fill_psinfo                                  308       -    -308
    fill_prstatus                                466       -    -466
    elf_core_dump                               3039       -   -3039
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e585e47031751f4e393e10ffd922885508b958dd
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:24 2006 -0800

    [PATCH] tiny: Make *[ug]id16 support optional
    
    Configurable 16-bit UID and friends support
    
    This allows turning off the legacy 16 bit UID interfaces on embedded platforms.
    
       text    data     bss     dec     hex filename
    3330172  529036  190556 4049764  3dcb64 vmlinux-baseline
    3328268  529040  190556 4047864  3dc3f8 vmlinux
    
    From: Adrian Bunk <bunk@stusta.de>
    
        UID16 was accidentially disabled for !EMBEDDED.
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 22c4e3084eb8b88288a622a57d8b35c450a439f2
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:24 2006 -0800

    [PATCH] tiny: Make x86 doublefault handling optional
    
    This adds configurable support for doublefault reporting on x86
    
    add/remove: 0/3 grow/shrink: 0/1 up/down: 0/-13048 (-13048)
    function                                     old     new   delta
    cpu_init                                     846     786     -60
    doublefault_fn                               188       -    -188
    doublefault_stack                           4096       -   -4096
    doublefault_tss                             8704       -   -8704
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18e92b12e83bef077a31ba6871f1aec3621b69e3
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:22 2006 -0800

    [PATCH] tiny: Trim non-IPX builds
    
    trivial: drop unused 802.3 code if we compile without IPX
    
    (originally from http://wohnheim.fh-wedel.de/~joern/software/kernel/je/25/)
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Arnaldo Carvalho de Melo <acme@conectiva.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33443c42f4ffa5ca23b3323234bcb1a78e85d9db
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:22 2006 -0800

    [PATCH] tiny: Uninline some fslocks.c functions
    
    uninline some file locking functions
    
    add/remove: 3/0 grow/shrink: 0/15 up/down: 256/-1525 (-1269)
    function                                     old     new   delta
    locks_free_lock                                -     134    +134
    posix_same_owner                               -      69     +69
    __locks_delete_block                           -      53     +53
    posix_locks_conflict                         126     108     -18
    locks_remove_posix                           266     237     -29
    locks_wake_up_blocks                         121      87     -34
    locks_block_on_timeout                        83      47     -36
    locks_insert_block                           157     120     -37
    locks_delete_block                            62      23     -39
    posix_unblock_lock                           104      59     -45
    posix_locks_deadlock                         162     100     -62
    locks_delete_lock                            228     119    -109
    sys_flock                                    338     217    -121
    __break_lease                                600     474    -126
    lease_init                                   252     122    -130
    fcntl_setlk64                                793     649    -144
    fcntl_setlk                                  793     649    -144
    __posix_lock_file                           1477    1026    -451
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d2bea4582d20cb24085152acaa29b95c05cdcf8
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:21 2006 -0800

    [PATCH] tiny: Uninline some inode.c functions
    
    uninline a couple inode.c functions
    
    add/remove: 2/0 grow/shrink: 0/5 up/down: 256/-428 (-172)
    function                                     old     new   delta
    ifind                                          -     136    +136
    ifind_fast                                     -     120    +120
    ilookup5_nowait                              131      80     -51
    ilookup                                      158      71     -87
    ilookup5                                     171      80     -91
    iget_locked                                  190      95     -95
    iget5_locked                                 240     136    -104
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b01ec0ef63e95570e2463b26333d9c9c854cb941
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:20 2006 -0800

    [PATCH] tiny: Uninline some open.c functions
    
    uninline some open.c functions
    
    add/remove: 3/0 grow/shrink: 0/6 up/down: 679/-1166 (-487)
    function                                     old     new   delta
    do_sys_truncate                                -     336    +336
    do_sys_ftruncate                               -     317    +317
    __put_unused_fd                                -      26     +26
    put_unused_fd                                 57      49      -8
    sys_close                                    150     119     -31
    sys_ftruncate64                              260      26    -234
    sys_ftruncate                                272      24    -248
    sys_truncate                                 339      25    -314
    sys_truncate64                               336       5    -331
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d960600df3ce3588571e2c1adf1f5f6d8ca9eb5a
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:05:19 2006 -0800

    [PATCH] tiny: Add bloat-o-meter to scripts
    
    This is a rewrite of Andi Kleen's bloat-o-meter with sorting and reporting of
    gainers/decliners.  Sample output:
    
    add/remove: 0/8 grow/shrink: 2/0 up/down: 88/-4424 (-4336)
    function                                     old     new   delta
    __copy_to_user_ll                             59     103     +44
    __copy_from_user_ll                           59     103     +44
    fill_note                                     32       -     -32
    maydump                                       58       -     -58
    dump_seek                                     67       -     -67
    writenote                                    180       -    -180
    elf_dump_thread_status                       274       -    -274
    fill_psinfo                                  308       -    -308
    fill_prstatus                                466       -    -466
    elf_core_dump                               3039       -   -3039
    
    The summary line says:
     no functions added, 8 removed
     two functions grew, none shrunk
     we gained 88 bytes and lost 4424 (or -4336 net)
    
    This work was sponsored in part by CE Linux Forum
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e701e85b9f12af4dbe73b4299b541686ef6b1aa5
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Jan 8 01:05:18 2006 -0800

    [PATCH] vr41xx: section tags fix
    
    module_init functions must be tagged __init rather than __devinit; likewise,
    module_exit functions must be tagged __exit rather than __devexit.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 564de74a7e2778e1d11b2d2e50ee8dab1cf1456a
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Jan 8 01:05:17 2006 -0800

    [PATCH] cciss: avoid defining useless MAJOR_NR macro
    
    This sneaked in with one of the updates.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7019e7e41e34388cb87a5f0e3d05e92992418f34
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:05:16 2006 -0800

    [PATCH] drivers/isdn/hardware/eicon/os_4bri.c: correct the xdiLoadFile() signature
    
    It's not good if caller and callee disagree regarding the type of the
    arguments.
    
    In this case, this could cause problems on 64bit architectures.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Armin Schindler <armin@melware.de>
    Cc: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e21bd9a30f1d7eab26ef8b9259376e5322d89e5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:05:15 2006 -0800

    [PATCH] drivers/isdn/: add missing #includes
    
    Every file should #include the headers containing the prototypes for its
    global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Armin Schindler <armin@melware.de>
    Cc: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f59cc4a35dbbc45c972daad0f1b063380cd9ea4
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:05:15 2006 -0800

    [PATCH] simplify k_getrusage()
    
    Factor out common code for different RUSAGE_xxx cases.
    
    Don't take ->sighand->siglock in RUSAGE_SELF case, suggested by Ravikiran G
    Thirumalai <kiran@scalex86.org>.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86f91d36c2aac910b7cf7e5d047019b10a9a627e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:05:14 2006 -0800

    [PATCH] i810_audio: request_irq() fix
    
    Request the IRQ after having set everything up.  Otherwise a shared interrupt
    at the right time can kill the machine.
    
    Found this with David Woodhouse <dwmw2@infradead.org>'s
    debug-shared-irqs.patch.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96e9dd14a3b2aab4098503a5999ee2ef42d82da1
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Sun Jan 8 01:05:13 2006 -0800

    [PATCH] kconf: Check for eof from input stream.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f756d5e256059018d753f0ba79980ebeb87a1bc0
Author: Nathan Lynch <ntl@pobox.com>
Date:   Sun Jan 8 01:05:12 2006 -0800

    [PATCH] fix workqueue oops during cpu offline
    
    Use first_cpu(cpu_possible_map) for the single-thread workqueue case.  We
    used to hardcode 0, but that broke on systems where !cpu_possible(0) when
    workqueue_struct->cpu_workqueue_struct was changed from a static array to
    alloc_percpu.
    
    Commit id bce61dd49d6ba7799be2de17c772e4c701558f14 ("Fix hardcoded cpu=0 in
    workqueue for per_cpu_ptr() calls") fixed that for Ben's funky sparc64
    system, but it regressed my Power5.  Offlining cpu 0 oopses upon the next
    call to queue_work for a single-thread workqueue, because now we try to
    manipulate per_cpu_ptr(wq->cpu_wq, 1), which is uninitialized.
    
    So we need to establish an unchanging "slot" for single-thread workqueues
    which will have a valid percpu allocation.  Since alloc_percpu keys off of
    cpu_possible_map, which must not change after initialization, make this
    slot == first_cpu(cpu_possible_map).
    
    Signed-off-by: Nathan Lynch <ntl@pobox.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 945f390f02ce44a13aefc6d9449c99f33c9286a5
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sun Jan 8 01:05:11 2006 -0800

    [PATCH] drivers/block: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]) and remove a
    duplicate of ARRAY_SIZE. Some trailing whitespaces are also removed.
    
    drivers/block/acsi* has been left out as it's marked BROKEN.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ef9ceab28203690a42d7d3915ccf6e208f0762bc
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:05:10 2006 -0800

    [PATCH] remove semicolons from save_flags()
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 987d4613e52e4f655278265aabbcc69237018b1d
Author: Dave Jones <davej@redhat.com>
Date:   Sun Jan 8 01:05:09 2006 -0800

    [PATCH] Make apm buildable without legacy pm
    
    APM doesn't _need_ the PM_LEGACY junk, so remove it's dependancy from
    Kconfig, and ifdef the junk in the code.  Whilst the ifdefs are ugly, when
    the legacy stuff gets ripped out so will the ifdefs.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9fe656e91fd95d0893cc4831b032e0be60791bd7
Author: Jan Blunck <jblunck@suse.de>
Date:   Sun Jan 8 01:05:09 2006 -0800

    [PATCH] i4l: __attribute__((packed)) for the CAPI message structs
    
    The CAPI message structs itself should be packed and not the location of
    single fields in the structure.
    
    Signed-off-by: Jan Blunck <jblunck@suse.de>
    Acked-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bfc090c468b33fb1f75c27a11efa7b7dc250556f
Author: Jan Blunck <jblunck@suse.de>
Date:   Sun Jan 8 01:05:08 2006 -0800

    [PATCH] afs: remove unnecessary __attribute__((packed))
    
    Remove the unnecessary __attribute__((packed)) since the enum itself is packed
    and not the location of it in the structure.
    
    Signed-off-by: Jan Blunck <jblunck@suse.de>
    Cc: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a878184c202395ea17212f111ab9ec4b5f6d6ee
Author: Jan Blunck <jblunck@suse.de>
Date:   Sun Jan 8 01:05:07 2006 -0800

    [PATCH] Eliminate __attribute__ ((packed)) warnings for gcc-4.1
    
    Since version 4.1 the gcc is warning about ignored attributes. This patch is
    using the equivalent attribute on the struct instead of on each of the
    structure or union members.
    
    GCC Manual:
      "Specifying Attributes of Types
    
       packed
        This attribute, attached to struct or union type definition, specifies
        that
        each member of the structure or union is placed to minimize the memory
        required. When attached to an enum definition, it indicates that the
        smallest integral type should be used.
    
        Specifying this attribute for struct and union types is equivalent to
        specifying the packed attribute on each of the structure or union
        members."
    
    Signed-off-by: Jan Blunck <jblunck@suse.de>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d8a33496671e4533aed090793436d58debea6f3a
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Sun Jan 8 01:05:06 2006 -0800

    [PATCH] parport: bring back an unused phase for ppdev ioctl
    
    Earlier fix removed unused phase, but that changed the values for other
    phases.  Since these are exposed to userspace through ppdev, it is safer
    not to change them.  Restore the unused phase value.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d1c4ac408fbab78a5f89ff583b68d2d11b421bb3
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:05:05 2006 -0800

    [PATCH] parport_pc: arm build fix
    
    free_dma() isn't implemented on ARM unless HAS_DMA is set.
    
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a771f2b82aa266fe578468deed82f797e26a3dc4
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Sun Jan 8 01:05:04 2006 -0800

    [PATCH] Add a section about inlining to Documentation/CodingStyle
    
    Adds a bit of text to Documentation/Codingstyle to state that inlining
    everything "just because" is a bad idea
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0804b17984afa1504649e2535db489d2a3029b6
Author: Eric Van Buggenhaut <ericvb@debian.org>
Date:   Sun Jan 8 01:05:03 2006 -0800

    [PATCH] hw_random: 82801AB PCI Bridge support
    
    pci.lst lists device 80862430 as another RNG
    
    # grep 80862430 /lib/discover/pci.lst
            80862430        bridge  i810_rng        82801AB PCI Bridge
    
    but it's not listed in rng_pci_tbl[]
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19144d0beab077950f3e767385e3c1050061b475
Author: Dave Jones <davej@redhat.com>
Date:   Sun Jan 8 01:05:02 2006 -0800

    [PATCH] fix gcc4.1 build failure on xconfig
    
    scripts/kconfig/qconf.h:25: error: extra qualification ConfigSettings:: on member readSizes
    scripts/kconfig/qconf.h:26: error: extra qualification ConfigSettings:: on member writeSizes
    scripts/kconfig/qconf.h:127: error: extra qualification ConfigList:: on member updateMenuList
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1dac06b20dcc8078dab037bd70652c69c67ba672
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Sun Jan 8 01:05:02 2006 -0800

    [PATCH] v9fs: handle kthread_create failure, minor bugfixes
    
    - remove unnecessary -ENOMEM assignments
    - return correct value when buf_check_size for second time in a buffer
    - handle failures when create_workqueue and kthread_create are called
    - use kzalloc instead of kmalloc/memset 0
    - v9fs_str_copy and v9fs_str_compare were buggy, were used only in one
      place, correct the logic and move it to the place it is used.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 531b1094b74365dcc55fa464d28a9a2497ae825d
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Sun Jan 8 01:05:00 2006 -0800

    [PATCH] v9fs: zero copy implementation
    
    Performance enhancement reducing the number of copies in the data and
    stat paths.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42650d8c9060a2658a79d4e30a5790b23d7753e0
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Dec 20 18:43:52 2005 +1100

    powerpc: Fix some #ifndef __KERNEL__ that should be #ifdef
    
    Grrr....
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d8da097afb765654c866062148fd98b11db9003e
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Sun Jan 8 01:04:59 2006 -0800

    [PATCH] v9fs: fix fid management in v9fs_create
    
    v9fs_create doesn't manage correctly the fids when it is called to create a
    directory..  The fid created by the create 9P call (newfid) and the one
    created by walking to already created file (wfidno) are not used
    consistently.
    
    This patch cleans up the usage of newfid and wfidno.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3cf6429a26da5c4d7b795e6d0f8f56ed2e4fdfc0
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Sun Jan 8 01:04:58 2006 -0800

    [PATCH] v9fs: new multiplexer implementation
    
    New multiplexer implementation. Decreases the number of kernel threads
    required. Better handling when the user process receives a signal.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5ef3c105bee3a52486d7b55cef3330fcde9bca6
Author: Eric Van Hensbergen <ericvh@gmail.com>
Date:   Sun Jan 8 01:04:56 2006 -0800

    [PATCH] v9fs: fix fd_close
    
    If a 9pfs server crashes, v9fs_fd_close() is called.  Subsequently, in
    cleaning up by performing a umount() on the FS that was provided by this
    server v9fs_fd_close() is called again, and uses the old, freed valus of
    trans->priv.  This patch ensures that trans->priv can be freed only once,
    otherwise this function bails early.
    
    Signed-off-by: Michal Ostrowski <mostrows@watson.ibm.com>
    Signed-off-by: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e7f358c8f8f836c504faa293fda0c1c0733b63c
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Jan 8 01:04:54 2006 -0800

    [PATCH] Split out screen_info from tty.h
    
    This makes it possible for boot code to use screen_info without dragging in
    all of tty.h.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 389cd6ec086e9b5421fe479d14d20a1faf74848d
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Sun Jan 8 01:04:53 2006 -0800

    [PATCH] CREDITS update: Eugene Surovegin
    
    Add EMAC to my CREDITS entry.
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 58591e8a1f4de2e53fdd09b2aa86948687106c07
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Jan 8 01:04:52 2006 -0800

    [PATCH] SubmittingPatches: diffstat options
    
    Add desired 'diffstat' options to use for kernel patches.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15b2fe3931831891a62bad9cafd403c169ae087c
Author: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
Date:   Sun Jan 8 01:04:51 2006 -0800

    [PATCH] UFS: inode->i_sem is not released in error path
    
    Signed-off-by: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac34dd052400b1e63aa8e711a13c0670943296fd
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Sun Jan 8 01:04:50 2006 -0800

    [PATCH] fs/smbfs/proc.c: fix data corruption in smb_proc_setattr_unix()
    
    This patch fixes a data corruption in smb_proc_setattr_unix()
    (smb_filetype_from_mode() returns an u32, and there are only four bytes
    reserved for it in data.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a12dea7af93ae83bd868c0dc09367090ead7cc1e
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Jan 8 01:04:49 2006 -0800

    [PATCH] PTRACE_SYSEMU is only for i386 and clashes with other ptrace codes of other archs
    
    PTRACE_SYSEMU{,_SINGLESTEP} is actually arch specific, for now, and the
    current allocated number clashes with a ptrace code of frv, i.e.
    PTRACE_GETFDPIC.  I should have submitted this much earlier, anyway we get no
    breakage for this.
    
    CC: Daniel Jacobowitz <dan@debian.org>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb46996f90a0826921f1a0d81535537a9c7f91b0
Author: Ashutosh Naik <ashutosh.naik@gmail.com>
Date:   Sun Jan 8 01:04:37 2006 -0800

    [PATCH] kernel/module.c: remove redundant spinlock in resolve_symbol()
    
    Remove the redundant spinlock in the function resolve_symbol() as we are
    not altering the module list, and we already hold the semaphore.
    
    Signed-off-by: Ashutosh Naik <ashutosh.naik@gmail.com>
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 349aef0bc4c7f07d685c977e12d0e2d0b5d0e6db
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:04:36 2006 -0800

    [PATCH] shrink struct page
    
    Reduce the size of the pageframe for NR_CPUS>4, CONFIG_PREEMPT back to the
    minimal size by unionising both ->private and ->mapping with the pagetable
    lock.
    
    It uses an anonymous struct and hence requires gcc-3.x.
    
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 59d9136b9844d3a0376d93c945ab280decedb323
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Sun Jan 8 01:04:34 2006 -0800

    [PATCH] aio: reorder kiocb structure elements to make sync iocb setup faster
    
    Reorder members of the kiocb structure to make sync kiocb setup faster.  By
    setting the elements sequentially, the write combining buffers on the CPU
    are able to combine the writes into a single burst, which results in fewer
    cache cycles being consumed, freeing them up for other code.  This results
    in a 10-20KB/s[*] increase on the bw_unix part of LMbench on my test
    system.
    
    * The improvement varies based on what other patches are in the system,
      as there are a number of bottlenecks, so this number is not absolutely
      accurate.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb1697933a03ec47d794b38e2a4e3ccc2463fd22
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Sun Jan 8 01:04:29 2006 -0800

    [PATCH] modules: mark TAINT_FORCED_RMMOD correctly
    
    Currently TAINT_FORCED_RMMOD is totally unused.  Because it is marked as
    TAINT_FORCED_MODULE instead when user forced a module unload.  This patch
    marks it correctly
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eea8b54dc0dceb740da697a89c54d20dde340306
Author: Ashutosh Naik <ashutosh.naik@gmail.com>
Date:   Sun Jan 8 01:04:25 2006 -0800

    [PATCH] modules: prevent overriding of symbols
    
    Ensure that an exported symbol does not already exist in the kernel or in
    some other module's exported symbol table.  This is done by checking the
    symbol tables for the exported symbol at the time of loading the module.
    Currently this is done after the relocation of the symbol.
    
    Signed-off-by: Ashutosh Naik <ashutosh.naik@gmail.com>
    Signed-off-by: Anand Krishnan <anandhkrishnan@yahoo.co.in>
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b368fae6abaa1736b8f26128c32947d47237b8e5
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Sun Jan 8 01:04:24 2006 -0800

    [PATCH] sonypi: Enable ACPI events for Sony laptop hotkeys
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Cc: "Brown, Len" <len.brown@intel.com>
    Cc: linux-acpi@vger.kernel.org
    Cc: Stelian Pop <stelian@popies.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44f061033360f9d4db7e9b29d64f9df3667cb41e
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Jan 8 01:04:22 2006 -0800

    [PATCH] Sonypi: convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away, implement
    ->probe() and -remove() functions so manual binding and unbinding will work
    with this driver.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Cc: Stelian Pop <stelian@popies.net>
    Cc: Mattia Dongili <malattia@linux.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fee781e6c25772db862d3322b4745a896022a4f1
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:04:16 2006 -0800

    [PATCH] fs/proc/: function prototypes belong in header files
    
    Function prototypes belong into header files.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80851ef2a5a404e6054211ca96ecd5ac4b06d297
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sun Jan 8 01:04:13 2006 -0800

    [PATCH] /dev/mem: validate mmap requests
    
    Add a hook so architectures can validate /dev/mem mmap requests.
    
    This is analogous to validation we already perform in the read/write
    paths.
    
    The identity mapping scheme used on ia64 requires that each 16MB or
    64MB granule be accessed with exactly one attribute (write-back or
    uncacheable).  This avoids "attribute aliasing", which can cause a
    machine check.
    
    Sample problem scenario:
      - Machine supports VGA, so it has uncacheable (UC) MMIO at 640K-768K
      - efi_memmap_init() discards any write-back (WB) memory in the first granule
      - Application (e.g., "hwinfo") mmaps /dev/mem, offset 0
      - hwinfo receives UC mapping (the default, since memmap says "no WB here")
      - Machine check abort (on chipsets that don't support UC access to WB
        memory, e.g., sx1000)
    
    In the scenario above, the only choices are
      - Use WB for hwinfo mmap.  Can't do this because it causes attribute
        aliasing with the UC mapping for the VGA MMIO space.
      - Use UC for hwinfo mmap.  Can't do this because the chipset may not
        support UC for that region.
      - Disallow the hwinfo mmap with -EINVAL.  That's what this patch does.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44ac8413901167589226abf824d994aa57e4fd28
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sun Jan 8 01:04:10 2006 -0800

    [PATCH] /dev/mem __HAVE_PHYS_MEM_ACCESS_PROT tidy-up
    
    Tidy up __HAVE_PHYS_MEM_ACCESS_PROT usage to make mmap_mem() easier to read.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1365647022eb05a5993f270a78e9bef3bf554eb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:04:09 2006 -0800

    [PATCH] remove gcc-2 checks
    
    Remove various things which were checking for gcc-1.x and gcc-2.x compilers.
    
    From: Adrian Bunk <bunk@stusta.de>
    
        Some documentation updates and removes some code paths for gcc < 3.2.
    
    Acked-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd285bb54d8a3e99810090ae88cfe8ed77d1da25
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:04:07 2006 -0800

    [PATCH] Abandon gcc-2.95.x
    
    There's one scsi driver which doesn't compile due to weird __VA_ARGS__ tricks
    and the rather useful scsi/sd.c is currently getting an ICE.  None of the new
    SAS code compiles, due to extensive use of anonymous unions.  The V4L guys are
    very good at exploiting the gcc-2.95.x macro expansion bug (_why_ does each
    driver need to implement its own debug macros?) and various people keep on
    sneaking in anonymous unions, which are rather nice.
    
    Plus anonymous unions are rather useful.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe7d37d1fbf8ffe78abd72728b24fb0c64f7af55
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:04:02 2006 -0800

    [PATCH] copy_process: error path cleanup
    
    This patch moves 'fork_out:' under 'bad_fork_free:', and removes now
    unneeded 'if (retval)' check.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ddc0f846aa7621940b74cee0c91cd26405058a4d
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:04:01 2006 -0800

    [PATCH] fs/udf/balloc.c: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37a327957e4b193369854f76afcedaee8d903521
Author: Andy Isaacson <adi@hexapodia.org>
Date:   Sun Jan 8 01:04:00 2006 -0800

    [PATCH] block/stat.txt
    
    I couldn't find any docs explaining the contents of /sys/block/<dev>/stat,
    so I wrote up the following.  I'm not completely sure it's accurate - Jens,
    could you give a yea or nay on this?
    
    In particular, the counts of read/write IOs and read/write sectors are
    incremented in different places - it looks like they both increment as the
    request is being finished, but I'm not completely sure of that.
    
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7dd795e913656c390b6bde27790c518973feea1
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:59 2006 -0800

    [PATCH] setpgid: should not accept ptraced childs
    
    sys_setpgid() allows to change ->pgrp of ptraced childs.
    
    'man setpgid' does not tell anything about that, so I consider
    this behaviour is a bug.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Oren Laadan <orenl@cs.columbia.edu>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e19f247a3dbd85485ec13174817ae9c2478fe541
Author: Oren Laadan <orenl@cs.columbia.edu>
Date:   Sun Jan 8 01:03:58 2006 -0800

    [PATCH] setpgid: should work for sub-threads
    
    setsid() does not work unless the calling process is a
    thread_group_leader().
    
    'man setpgid' does not tell anything about that, so I consider this
    behaviour is a bug.
    
    Signed-off-by: Oren Laadan <orenl@cs.columbia.edu>
    Cc: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee0acf90d320c29916ba8c5c1b2e908d81f5057d
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:53 2006 -0800

    [PATCH] setpgid: should work for sub-threads
    
    setpgid(0, pgid) or setpgid(forked_child_pid, pgid) does not work unless
    the calling process is a thread_group_leader().
    
    'man setpgid' does not tell anything about that, so I consider this
    behaviour is a bug.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Oren Laadan <orenl@cs.columbia.edu>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a5d3023e626a0baf86ac6b892c983b3db13f22b
Author: Oren Laadan <orenl@cs.columbia.edu>
Date:   Sun Jan 8 01:03:51 2006 -0800

    [PATCH] fork: fix race in setting child's pgrp and tty
    
    In fork, child should recopy parent's pgrp/tty after it has tasklist_lock.
    Otherwise following a setpgid() on the parent, *after* copy_signal(), the
    child will own a stale pgrp (which may be reused); (eg.  if copy_mm()
    sleeps a long while due to memory pressure).  Similar issue for the tty.
    
    Signed-off-by: Oren Laadan <orenl@cs.columbia.edu>
    Cc: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb86a35b9ded8a7e53a432cbf28df603cdd4849c
Author: Mike Miller <mike.miller@hp.com>
Date:   Sun Jan 8 01:03:50 2006 -0800

    [PATCH] cciss: adds MSI and MSI-X support
    
    This creates a new function, cciss_interrupt_mode called from
    cciss_pci_init.  This function determines what type of interrupt vector to
    use, i.e., MSI, MSI-X, or IO-APIC.
    
    One noticeable difference is changing the interrupt field of the controller
    struct to an array of 4 unsigned ints.  The Smart Array HW is capable of
    generating 4 distinct interrupts depending on the transport method in use
    during operation.  These are:
    
    #define DOORBELL_INT 0
    Used to notify the contoller of configuration updates. We only use
    this feature when in polling mode.
    
    #define PERF_MODE_INT 0
    Used when the controller is in Performant Mode.
    
    #define SIMPLE_MODE_INT 2
    Used when the controller is in Simple Mode (current Linux implementation).
    
    #define MEMQ_INT_MODE 3
    Not used.
    
    When using IO-APIC interrupts these 4 lines are OR'ed together so when any
    one fires an interrupt an is generated.  In MSI or MSI-X mode this hardware
    OR'ing is ignored.  We must register for our interrupt depending on what
    mode the controller is running.  For Linux we use SIMPLE_MODE_INT
    exclusively at this time.  Please consider this for inclusion.
    
    Signed-off-by: Mike Miller <mike.miller@hp.com>
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d09cf7d77f62f6fb2f6d63fe5980583805f2d559
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Jan 8 01:03:48 2006 -0800

    [PATCH] tpmdd: remove global event log
    
    Remove global event log in the tpm bios event measurement log code that
    would have caused problems when the code was run concurrently.  A log is
    now allocated and attached to the seq file upon open and destroyed
    appropriately.
    
    Signed-off-by: Kylene Jo Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5e38291d80086f6972f471c7caffa03184de0bf0
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Jan 8 01:03:46 2006 -0800

    [PATCH] Don't attempt to power off if power off is not implemented
    
    The problem.  It is expected that /sbin/halt -p works exactly like
    /sbin/halt, when the kernel does not implement power off functionality.
    
    The kernel can do a lot of work in the reboot notifiers and in
    device_shutdown before we even get to machine_power_off.  Some of that
    shutdown is not safe if you are leaving the power on, and it definitely
    gets in the way of using sysrq or pressing ctrl-alt-del.  Since the
    shutdown happens in generic code there is no way to fix this in
    architecture specific code :(
    
    Some machines are kernel oopsing today because of this.
    
    The simple solution is to turn LINUX_REBOOT_CMD_POWER_OFF into
    LINUX_REBOOT_CMD_HALT if power_off functionality is not implemented.
    
    This has the unfortunate side effect of disabling the power off
    functionality on architectures that leave pm_power_off to null and still
    implement something in machine_power_off.  And it will break the build on
    some architectures that don't have a pm_power_off variable at all.
    
    On both counts I say tough.
    
    For architectures like alpha that don't implement the pm_power_off variable
    pm_power_off is declared in linux/pm.h and it is a generic part of our
    power management code, and all architectures should implement it.
    
    For architectures like parisc that have a default power off method in
    machine_power_off if pm_power_off is not implemented or fails.  It is easy
    enough to set the pm_power_off variable.  And nothing bad happens there,
    the machines just stop powering off.
    
    The current semantics are impossible without a flag at the top level so we
    can avoid the problem code if a power off is not implemented.  pm_power_off
    is as good a flag as any with the bonus that it works without modification
    on at least x86, x86_64, powerpc, and ppc today.
    
    Andrew can you pick this up and put this in the mm tree.  Kernels that
    don't compile or don't power off seem saner than kernels that oops or
    panic.  Until we get the arch specific patches for the problem
    architectures this probably isn't smart to push into the stable kernel.
    Unfortunately I don't have the time at the moment to walk through every
    architecture and make them work.  And even if I did I couldn't test it :(
    
    From: Hirokazu Takata <takata@linux-m32r.org>
    
        Add pm_power_off() for build fix of arch/m32r/kernel/process.c.
    
    From: Miklos Szeredi <miklos@szeredi.hu>
    
        UML build fix
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87ba81dba431232548ce29d5d224115d0c2355ac
Author: Valentine Barshak <vbarshak@ru.mvista.com>
Date:   Sun Jan 8 01:03:44 2006 -0800

    [PATCH] fadvise: return ESPIPE on FIFO/pipe
    
    The patch makes posix_fadvise return ESPIPE on FIFO/pipe in order to be
    fully POSIX-compliant.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99aef427e206f4ae7dcf0b18f66416145fea5d20
Author: Rob Landley <rob@landley.net>
Date:   Sun Jan 8 01:03:43 2006 -0800

    [PATCH] update to the initramfs docs
    
    Based on questions people have asked me.  Repeatedly.
    
    Signed-off-by: Rob Landley <rob@landley.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d84f520348d77e61f936227a048403dbc349fff1
Author: Srivatsa Vaddagiri <vatsa@in.ibm.com>
Date:   Sun Jan 8 01:03:42 2006 -0800

    [PATCH] Extend RCU torture module to test tickless idle CPU
    
    This patch forces RCU torture threads off various CPUs in the system
    allowing them to become idle and go tickless.  Meant to test support for
    such tickless idle CPU in RCU.
    
    Signed-off-by: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Cc: Dipankar Sarma <dipankar@in.ibm.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9841d61d75da5e46ed7a978bed4f50c78b1d87fd
Author: Dave Jones <davej@redhat.com>
Date:   Sun Jan 8 01:03:41 2006 -0800

    [PATCH] Add tainting for proprietary helper modules
    
    Kernels that have had Windows drivers loaded into them are undebuggable.
    I've wasted a number of hours chasing bugs filed in Fedora bugzilla only to
    find out much later that the user had used such 'helpers', and their
    problems were unreproducable without them loaded.
    
    Acked-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f867bac65419a98c9682f4409e087582d29ec5f6
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sun Jan 8 01:03:40 2006 -0800

    [PATCH] remove unused blkp field in percpu_data
    
    I found that blkp field was not used in kernel tree.
    
    As most of the times NR_CPUS is a power of two and kmalloc() memory blocks
    too, this extra field basically doubles the memory space allocated in
    __alloc_percpu() to store the 'struct percpu_data'
    
    (for example, if NR_CPUS=8 on i386, kmalloc(4*8+4) returns a 64 bytes block
    instead of a 32 bytes block after this patch)
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e78c9a004aadebe22306c81d1a7f1d1278dc37f9
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Jan 8 01:03:39 2006 -0800

    [PATCH] fs: remove s_old_blocksize from struct super_block
    
    This patch inlines the single user of struct super_block field
    s_old_blocksize and removes the field.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90f2447d08a5fbddc8b58f8a6425b0513807f919
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Jan 8 01:03:38 2006 -0800

    [PATCH] Documentation: Small applying-patches.txt update
    
    Minor update to Documentation/applying-patches.txt
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44fce35f29a7f2d976d9160bfbc55635b459a6a0
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Sun Jan 8 01:03:37 2006 -0800

    [PATCH] drivers/mfd: header included twice
    
    linux/delay.h included twice
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dda6ebde96044e9b5f1b14588659b39b4e6c08e7
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Sun Jan 8 01:03:35 2006 -0800

    [PATCH] Fix handling of ELF segments with zero filesize
    
    mmap() returns -EINVAL if given a zero length, and thus elf_map() in
    binfmt_elf.c does likewise if it attempts to map a (page-aligned) ELF
    segment with zero filesize.  Such a situation never arises with the default
    linker scripts, but there's nothing inherently wrong with zero-filesize
    (but non-zero memsize) ELF segments.  Custom linker scripts can generate
    them, and the kernel should be able to map them; this patch makes it so.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc398c2eae35b13d77b77337136325edc6ca94ca
Author: David S. Miller <davem@davemloft.net>
Date:   Sun Jan 8 01:03:34 2006 -0800

    [PATCH] drivers/connector/cn_proc.c typos
    
    The parameter to put_cpu_var() is unreferenced by the implementation, and
    the compiler doesn't try to comprehend comments, so this wouldn't cause any
    problem, but if bugged me enough to post a fix :-)
    
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5160ee6fc891a9ca114be0e90fa6655647bb64b2
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sun Jan 8 01:03:32 2006 -0800

    [PATCH] shrink dentry struct
    
    Some long time ago, dentry struct was carefully tuned so that on 32 bits
    UP, sizeof(struct dentry) was exactly 128, ie a power of 2, and a multiple
    of memory cache lines.
    
    Then RCU was added and dentry struct enlarged by two pointers, with nice
    results for SMP, but not so good on UP, because breaking the above tuning
    (128 + 8 = 136 bytes)
    
    This patch reverts this unwanted side effect, by using an union (d_u),
    where d_rcu and d_child are placed so that these two fields can share their
    memory needs.
    
    At the time d_free() is called (and d_rcu is really used), d_child is known
    to be empty and not touched by the dentry freeing.
    
    Lockless lookups only access d_name, d_parent, d_lock, d_op, d_flags (so
    the previous content of d_child is not needed if said dentry was unhashed
    but still accessed by a CPU because of RCU constraints)
    
    As dentry cache easily contains millions of entries, a size reduction is
    worth the extra complexity of the ugly C union.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Cc: Dipankar Sarma <dipankar@in.ibm.com>
    Cc: Maneesh Soni <maneesh@in.ibm.com>
    Cc: Miklos Szeredi <miklos@szeredi.hu>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Cc: Ian Kent <raven@themaw.net>
    Cc: Paul Jackson <pj@sgi.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Cc: James Morris <jmorris@namei.org>
    Cc: Stephen Smalley <sds@epoch.ncsc.mil>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21b6bf143d05d77c350d9c6764ae090a877b66ea
Author: Jorn Dreyer <j.dreyer@butonic.de>
Date:   Sun Jan 8 01:03:30 2006 -0800

    [PATCH] nfsroot: do not silently stop parsing on an unknown option
    
    It would be helpful if the kernel did not silently stop parsing
    nfs options, but instead warned about any he does not recognize. The
    attached patch adds one printk to do just that.
    
    It took me a couple of hours to find my configuration mistake.
    
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 850d6fbe70c62a9792eac3e8ef34f2f09f209895
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:29 2006 -0800

    [PATCH] sigio: cleanup, don't take tasklist twice
    
    The only user of send_sigio_to_task() already holds tasklist_lock, so it is
    better not to send the signal via send_group_sig_info() (which takes
    tasklist recursively) but use group_send_sig_info().
    
    The same change in send_sigurg()->send_sigurg_to_task().
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86174cdcb44c095ffd2e3ca69caa56244cf701d5
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:28 2006 -0800

    [PATCH] remove unneeded sig->curr_target recalculation
    
    This patch removes unneeded sig->curr_target recalculation under 'if
    (atomic_dec_and_test(&sig->count))' in __exit_signal().
    
    When sig->count == 0 the signal can't be sent to this task and
    next_thread(tsk) == tsk anyway.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08efd10edff199f0c992f04052e897a3f2048508
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Sun Jan 8 01:03:26 2006 -0800

    [PATCH] MAINTAINERS: line duplication
    
    uniq -d MAINTAINERS
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29ba17231222c42ca3df5424f43949e2a6fddec2
Author: Glauber de Oliveira Costa <glommer@br.ibm.com>
Date:   Sun Jan 8 01:03:23 2006 -0800

    [PATCH] ext3: use sbi instead of EXT3_SB() in resize code.
    
    There are places in the resize code in which EXT3_SB() macro is used after
    an statement like sbi = EXT3_SB(sb) is done.  Inside the same function,
    both sbi and EXT3_SB() are used to reference the super block Altough it is
    not wrong, keeping it coherent increases legibility, IMHO.
    
    Signed-off-by: Glauber de Oliveira Costa <glommer@br.ibm.com>
    Cc: "Stephen C. Tweedie" <sct@redhat.com>
    Cc: Andreas Dilger <adilger@clusterfs.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f40668d7d14d4d16cedc2104bfb63a43584dacf
Author: Glauber de Oliveira Costa <glommer@br.ibm.com>
Date:   Sun Jan 8 01:03:22 2006 -0800

    [PATCH] ext3: remove trailing newlines from ext3_warning() calls
    
    Remove the trailing newlines in calls to ext3_warning().  This function
    already adds a trailing newline to the end of messages.
    
    Signed-off-by: Glauber de Oliveira Costa <glommer@br.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 25ab7cd84eebdc1869d236029ada3a7b403de8ba
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sun Jan 8 01:03:21 2006 -0800

    [PATCH] oprofile: Use vmalloc_node() in alloc_cpu_buffers()
    
    Make oprofile alloc_cpu_buffers() function NUMA aware, allocating each CPU
    local buffer in its memory node if possible.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Cc: Philippe Elie <phil.el@wanadoo.fr>
    Cc: John Levon <levon@movementarian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 71b9625744b7d4a6a2416389a5ba464bdf11f07f
Author: Johann Lombardi <johann.lombardi@bull.net>
Date:   Sun Jan 8 01:03:20 2006 -0800

    [PATCH] ext3: external journal device as a mount option
    
    The patch below adds a new mount option to allow the external journal
    device to be specified.
    
    The syntax is as follows:
    # mount -t ext3 -o journal_dev=0x0820 ...
    where 0x0820 means major=8 and minor=32.
    
    Signed-off-by: Johann Lombardi <johann.lombardi@bull.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf066c7db775a04bd761f8ea206f5522d0cf40ff
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sun Jan 8 01:03:19 2006 -0800

    [PATCH] shared mounts: cleanup
    
    Small cleanups in shared mounts code.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Ram Pai <linuxram@us.ibm.com>
    Cc: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4a0d11fae57989e24fe2ee3eff6d62d72db9716c
Author: Neil Brown <neilb@suse.de>
Date:   Sun Jan 8 01:03:18 2006 -0800

    [PATCH] pivot_root: add comment
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c809406b4f2dfac9006d7eb8dca6b9f990f10b61
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Jan 8 01:03:17 2006 -0800

    [PATCH] Updated CPU hotplug documentation
    
    Thanks to Nathan Lynch for the review and comments.  Thanks to Joel Schopp
    for the pointer to add user space scipts.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Nathan Lynch <nathanl@austin.ibm.com>
    Signed-off-by: Joel Schopp <jschopp@austin.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55a82ab3181be039c6440d3f2f69260ad6fe2988
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Jan 8 01:03:15 2006 -0800

    [PATCH] tpm: add bios measurement log
    
    According to the TCG specifications measurements or hashes of the BIOS code
    and data are extended into TPM PCRS and a log is kept in an ACPI table of
    these extensions for later validation if desired.  This patch exports the
    values in the ACPI table through a security-fs seq_file.
    
    Signed-off-by: Seiji Munetoh <munetoh@jp.ibm.com>
    Signed-off-by: Stefan Berger <stefanb@us.ibm.com>
    Signed-off-by: Reiner Sailer <sailer@us.ibm.com>
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 485a6435abc3897934ce0dc530e31db93e9296a6
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:14 2006 -0800

    [PATCH] little do_group_exit() cleanup
    
    zap_other_threads() sets SIGNAL_GROUP_EXIT at the very start,
    do_group_exit() doesn't need to do it.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb6f6dbaa48c53525a7a4f9d4df719c3b0b582af
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:13 2006 -0800

    [PATCH] do_coredump() should reset group_stop_count earlier
    
    __group_complete_signal() sets ->group_stop_count in sig_kernel_coredump()
    path and marks the target thread as ->group_exit_task.  So any thread
    except group_exit_task will go to handle_group_stop()->finish_stop().
    
    However, when group_exit_task actually starts do_coredump(), it sets
    SIGNAL_GROUP_EXIT, but does not reset ->group_stop_count while killing
    other threads.  If we have not yet stopped threads in the same thread
    group, they all will spin in kernel mode until group_exit_task sends them
    SIGKILL, because ->group_stop_count > 0 means:
    
    	recalc_sigpending_tsk() never clears TIF_SIGPENDING
    
    	get_signal_to_deliver() goes to handle_group_stop()
    
    	handle_group_stop() returns when SIGNAL_GROUP_EXIT set
    
    	syscall_exit/resume_userspace notice TIF_SIGPENDING,
    	call get_signal_to_deliver() again.
    
    So we are wasting cpu cycles, and if one of these threads is rt_task() this
    may be a serious problem.
    
    NOTE: do_coredump() holds ->mmap_sem, so not stopped threads can't escape
    coredumping after clearing ->group_stop_count.
    
    See also this thread: http://marc.theaimsgroup.com/?t=112739139900002
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0811af28ce49fab963e3e6b8abcf8c460f971cd4
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Jan 8 01:03:09 2006 -0800

    [PATCH] kill_proc_info_as_uid: don't use hardcoded constants
    
    Use symbolic names instead of hardcoded constants.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Harald Welte <laforge@gnumonks.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54b21a7992a31d30c9a91f7e0a00ffdb4bd0caee
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:03:05 2006 -0800

    [PATCH] fix possible PAGE_CACHE_SHIFT overflows
    
    We've had two instances recently of overflows when doing
    
    	64_bit_value = (32_bit_value << PAGE_CACHE_SHIFT)
    
    I did a tree-wide grep of `<<.*PAGE_CACHE_SHIFT' and this is the result.
    
    - afs_rxfs_fetch_descriptor.offset is of type off_t, which seems broken.
    
    - jfs and jffs are limited to 4GB anyway.
    
    - reiserfs map_block_for_writepage() takes an unsigned long for the block -
      it should take sector_t.  (It'll fail for huge filesystems with
      blocksize<PAGE_CACHE_SIZE)
    
    - cramfs_read() needs to use sector_t (I think cramsfs is busted on large
      filesystems anyway)
    
    - affs is limited in file size anyway.
    
    - I generally didn't fix 32-bit overflows in directory operations.
    
    - arm's __flush_dcache_page() is peculiar.  What if the page lies beyond 4G?
    
    - gss_wrap_req_priv() needs checking (snd_buf->page_base)
    
    Cc: Oleg Drokin <green@linuxhacker.ru>
    Cc: David Howells <dhowells@redhat.com>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Cc: <reiserfs-dev@namesys.com>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Anton Altaparmakov <aia21@cantab.net>
    Cc: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Cc: <linux-fsdevel@vger.kernel.org>
    Cc: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 676121fcb66c861804e38d94214fd5670a1ef595
Author: Ben Collins <bcollins@debian.org>
Date:   Sun Jan 8 01:03:04 2006 -0800

    [PATCH] Unchecked alloc_percpu() return in __create_workqueue()
    
    __create_workqueue() not checking return of alloc_percpu()
    
    NULL dereference was possible.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9fa37fd1627ec804e57ae0388555719b03b39f20
Author: Taneli Vahakangas <taneli.vahakangas@netsonic.fi>
Date:   Sun Jan 8 01:03:02 2006 -0800

    [PATCH] nbd: remove duplicate assignment
    
          <stuartm@connecttech.com>
    
    Sent by Paul Clements <paul.clements@SteelEye.com>, who needs to read
    Documentation/SubmittingPatches..
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a885c8c4316e1c1d2d2c8755da3f3d14f852528d
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Jan 8 01:02:50 2006 -0800

    [PATCH] Add block_device_operations.getgeo block device method
    
    HDIO_GETGEO is implemented in most block drivers, and all of them have to
    duplicate the code to copy the structure to userspace, as well as getting
    the start sector.  This patch moves that to common code [1] and adds a
    ->getgeo method to fill out the raw kernel hd_geometry structure.  For many
    drivers this means ->ioctl can go away now.
    
    [1] the s390 block drivers are odd in this respect.  xpram sets ->start
        to 4 always which seems more than odd, and the dasd driver shifts
        the start offset around, probably because of it's non-standard
        sector size.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Jens Axboe <axboe@suse.de>
    Cc: <mike.miller@hp.com>
    Cc: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Cc: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Cc: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b0ed2c64d8fdafb5fcfb3baabdd288628b1ff9b
Author: Xose Vazquez Perez <xose.vazquez@gmail.com>
Date:   Sun Jan 8 01:02:49 2006 -0800

    [PATCH] docs: updated some code docs
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 71fabd5e4835309b4feca6209122ce56c595c461
Author: George Anzinger <george@mvista.com>
Date:   Sun Jan 8 01:02:48 2006 -0800

    [PATCH] sigaction should clear all signals on SIG_IGN, not just < 32
    
    While rooting aroung in the signal code trying to understand how to fix the
    SIG_IGN ploy (set sig handler to SIG_IGN and flood system with high speed
    repeating timers) I came across what, I think, is a problem in sigaction()
    in that when processing a SIG_IGN request it flushes signals from 1 to
    SIGRTMIN and leaves the rest.  Attempt to fix this.
    
    Signed-off-by: George Anzinger <george@mvista.com>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Linus Torvalds <torvalds@osdl.org>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b5f545c880a2a47947ba2118b2509644ab7a2969
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:02:47 2006 -0800

    [PATCH] keys: Permit running process to instantiate keys
    
    Make it possible for a running process (such as gssapid) to be able to
    instantiate a key, as was requested by Trond Myklebust for NFS4.
    
    The patch makes the following changes:
    
     (1) A new, optional key type method has been added. This permits a key type
         to intercept requests at the point /sbin/request-key is about to be
         spawned and do something else with them - passing them over the
         rpc_pipefs files or netlink sockets for instance.
    
         The uninstantiated key, the authorisation key and the intended operation
         name are passed to the method.
    
     (2) The callout_info is no longer passed as an argument to /sbin/request-key
         to prevent unauthorised viewing of this data using ps or by looking in
         /proc/pid/cmdline.
    
         This means that the old /sbin/request-key program will not work with the
         patched kernel as it will expect to see an extra argument that is no
         longer there.
    
         A revised keyutils package will be made available tomorrow.
    
     (3) The callout_info is now attached to the authorisation key. Reading this
         key will retrieve the information.
    
     (4) A new field has been added to the task_struct. This holds the
         authorisation key currently active for a thread. Searches now look here
         for the caller's set of keys rather than looking for an auth key in the
         lowest level of the session keyring.
    
         This permits a thread to be servicing multiple requests at once and to
         switch between them. Note that this is per-thread, not per-process, and
         so is usable in multithreaded programs.
    
         The setting of this field is inherited across fork and exec.
    
     (5) A new keyctl function (KEYCTL_ASSUME_AUTHORITY) has been added that
         permits a thread to assume the authority to deal with an uninstantiated
         key. Assumption is only permitted if the authorisation key associated
         with the uninstantiated key is somewhere in the thread's keyrings.
    
         This function can also clear the assumption.
    
     (6) A new magic key specifier has been added to refer to the currently
         assumed authorisation key (KEY_SPEC_REQKEY_AUTH_KEY).
    
     (7) Instantiation will only proceed if the appropriate authorisation key is
         assumed first. The assumed authorisation key is discarded if
         instantiation is successful.
    
     (8) key_validate() is moved from the file of request_key functions to the
         file of permissions functions.
    
     (9) The documentation is updated.
    
    From: <valdis.kletnieks@vt.edu>
    
        Build fix.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Alexander Zangerl <az@bond.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cab8eb594e84b434d20412fc5a3985b0bee3ab9f
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:02:45 2006 -0800

    [PATCH] keys: Discard duplicate keys from a keyring on link
    
    Cause any links within a keyring to keys that match a key to be linked into
    that keyring to be discarded as a link to the new key is added.  The match is
    contingent on the type and description strings being the same.
    
    This permits requests, adds and searches to displace negative, expired,
    revoked and dead keys easily.  After some discussion it was concluded that
    duplicate valid keys should probably be discarded also as they would otherwise
    hide the new key.
    
    Since request_key() is intended to be the primary method by which keys are
    added to a keyring, duplicate valid keys wouldn't be an issue there as that
    function would return an existing match in preference to creating a new key.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Alexander Zangerl <az@bond.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 017679c4d45783158dba1dd6f79e712c22bb3d9a
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:02:43 2006 -0800

    [PATCH] keys: Permit key expiry time to be set
    
    Add a new keyctl function that allows the expiry time to be set on a key or
    removed from a key, provided the caller has attribute modification access.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Alexander Zangerl <az@bond.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd140a5c1f456f50897af4a2e9a23d228a5fe719
Author: Guillaume Chazarain <guichaz@yahoo.fr>
Date:   Sun Jan 8 01:02:43 2006 -0800

    [PATCH] kmsg_write: don't return printk return value
    
    kmsg_write returns with printk, so some programs may be confused by a
    successful write() with a return value different than the buffer length.
    
    # /bin/echo something > /dev/kmsg
    /bin/echo: write error: Inappropriate ioctl for device
    
    The drawbacks is that the printk return value can no more be quickly
    checked from userspace.
    
    Signed-off-by: Guillaume Chazarain <guichaz@yahoo.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 025510cd20f4c35c3958bea133d96c9bd7c6ef9e
Author: Guillaume Chazarain <guichaz@yahoo.fr>
Date:   Sun Jan 8 01:02:41 2006 -0800

    [PATCH] printk return value: fix it
    
    What's the true meaning of the printk return value?  Should it include the
    priority prefix length of 3?  and what about the timing information?  In
    both cases it was broken:
    
    strace -e write echo 1 > /dev/kmsg
    => write(1, "1\n", 2)                      = 5
    strace -e write echo "<1>1" > /dev/kmsg
    => write(1, "<1>1\n", 5)                   = 8
    
    The returned length was "length of input string + 3", I made it "length
    of string output to the log buffer".
    
    Note that I couldn't find any printk caller in the kernel interested by its
    return value besides kmsg_write.
    
    Signed-off-by: Guillaume Chazarain <guichaz@yahoo.fr>
    Acked-By: Tim Bird <tim.bird@am.sony.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2520f14ca85e38f575eed6acc6e586df246abea6
Author: Neil Brown <neilb@suse.de>
Date:   Sun Jan 8 01:02:40 2006 -0800

    [PATCH] Fix overflow tests for compat_sys_fcntl64 locking
    
    When making an fctl locking call through compat_sys_fcntl64 (i.e.  a 32bit
    app on a 64bit kernel), the syscall can return a locking range that is in
    conflict with the queried lock.
    
    If some aspect of this range does not fit in the 32bit structure, something
    needs to be done.
    
    The current code is wrong in several respects:
    
    - It returns data to userspace even if no conflict was found
       i.e. it should check l_type for F_UNLCK
    - It returns -EOVERFLOW too agressively.   A lock range covering
      the last possible byte of the file (start = COMPAT_OFF_T_MAX,
      len = 1) should be possible, but is rejected with the current test.
    - A extra-long 'len' should not be a problem.  If only that part
      of the conflicting lock that would be visible to the 32bit
      app needs to be reported to the 32bit app anyway.
    
    This patch addresses those three issues and adds a comment to (hopefully)
    record it for posterity.
    
    Note: this patch mainly affects test-cases.  Real applications rarely is
    ever see the problems.
    
    This patch has been tested (LSB test suite), and works.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Arnd Bergmann <arnd@arndb.de>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Matthew Wilcox <willy@debian.org>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4a30131e7dbb17e5fec6958bfac9da9aff1fa29b
Author: Neil Brown <neilb@suse.de>
Date:   Sun Jan 8 01:02:39 2006 -0800

    [PATCH] Fix some problems with truncate and mtime semantics.
    
    SUS requires that when truncating a file to the size that it currently
    is:
      truncate and ftruncate should NOT modify ctime or mtime
      O_TRUNC SHOULD modify ctime and mtime.
    
    Currently mtime and ctime are always modified on most local
    filesystems (side effect of ->truncate) or never modified (on NFS).
    
    With this patch:
      ATTR_CTIME|ATTR_MTIME are sent with ATTR_SIZE precisely when
        an update of these times is required whether size changes or not
        (via a new argument to do_truncate).  This allows NFS to do
        the right thing for O_TRUNC.
      inode_setattr nolonger forces ATTR_MTIME|ATTR_CTIME when the ATTR_SIZE
        sets the size to it's current value.  This allows local filesystems
        to do the right thing for f?truncate.
    
    Also, the logic in inode_setattr is changed a bit so there are two return
    points.  One returns the error from vmtruncate if it failed, the other
    returns 0 (there can be no other failure).
    
    Finally, if vmtruncate succeeds, and ATTR_SIZE is the only change
    requested, we now fall-through and mark_inode_dirty.  If a filesystem did
    not have a ->truncate function, then vmtruncate will have changed i_size,
    without marking the inode as 'dirty', and I think this is wrong.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 788540141f4549637e89aadca6e25cf25eb53383
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:02:37 2006 -0800

    [PATCH] Permit multiple inclusion of linux/pagevec.h
    
    Make it possible to include linux/pagevec.h multiple times without
    incurring errors due to duplicate definitions.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53dbb26dbcf0d844967677633d7587c1d34740d5
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Sun Jan 8 01:02:36 2006 -0800

    [PATCH] vgacon: Workaround for resize bug in some chipsets
    
    Reported from Redhat Bugzilla Bug 170450
    
    "I updated to the development kernel and now during boot only the top of the
    text is visable. For example the monitor screen the is the lines and I can
    only see text in the asterisk area.

commit 954de9141e75cf2f1ce69ccdbedc83ec827a01ec
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sun Jan 8 01:02:34 2006 -0800

    [PATCH] vgacon: fix doublescan mode
    
    When doublescan mode is in use, scanlines must be doubled.
    
    Thanks to Jason Dravet <dravet@hotmail.com> for reporting and testing.
    
    Signed-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8b0af24353eafadf58a0889999700e43f135aad
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Jan 8 01:02:33 2006 -0800

    [PATCH] udf: remove bogus inode == NULL check in inode_bmap
    
    inode can never be NULL when calling this function.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b9c7ed84837753a436415097063232422e29a35
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Jan 8 01:02:33 2006 -0800

    [PATCH] use ptrace_get_task_struct in various places
    
    The ptrace_get_task_struct() helper that I added as part of the ptrace
    consolidation is useful in variety of places that currently opencode it.
    Switch them to the common helpers.
    
    Add a ptrace_traceme() helper that needs to be explicitly called, and simplify
    the ptrace_get_task_struct() interface.  We don't need the request argument
    now, and we return the task_struct directly, using ERR_PTR() for error
    returns.  It's a bit more code in the callers, but we have two sane routines
    that do one thing well now.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b34350f490b2c8508717541ec1fd2bbaadded94
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:32 2006 -0800

    [PATCH] relayfs: Documentation cleanup, remove obsolete info
    
    librelay and relay-app.h have been retired - update Documentation to reflect
    that.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 761da5c88aca34586e5b7295bd8b9be2438906f2
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:31 2006 -0800

    [PATCH] relayfs: cleanup, change relayfs_file_* to relay_file_*
    
    This patch renames relayfs_file_operations to relay_file_operations, and the
    file operations themselves from relayfs_XXX to relay_file_XXX, to make it more
    clear that they refer to relay files.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df49af8f3392e96ddbc9cf6dd81fbdc0496e1b44
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:30 2006 -0800

    [PATCH] relayfs: add Documentation on global relay buffers
    
    Documentation update for creating global buffers.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6c08367b8fc6dce6dfd1106f53f6ef28215b313
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:29 2006 -0800

    [PATCH] relayfs: add support for global relay buffers
    
    This patch adds the optional is_global outparam to the create_buf_file()
    callback.  This can be used by clients to create a single global relayfs
    buffer instead of the default per-cpu buffers.  This was suggested as being
    useful for certain debugging applications where it's more convenient to be
    able to get all the data from a single channel without having to go to the
    bother of dealing with per-cpu files.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 03d78d11d92b5ed688bb18167b05d9d01493e175
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:29 2006 -0800

    [PATCH] relayfs: add Documentation on relay files in other filesystems
    
    Documentation update for creating relay files in other filesystems.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08c541a7ade230883c48225f4ea406a0117e7c2f
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:28 2006 -0800

    [PATCH] relayfs: add support for relay files in other filesystems
    
    This patch adds a couple of callback functions that allow a client to hook
    into relay_open()/close() and supply the files that will be used to represent
    the channel buffers; the default implementation if no callbacks are defined is
    to create the files in relayfs.  This is to support the creation and use of
    relay files in other filesystems such as debugfs, as implied by the fact that
    relayfs_file_operations are exported.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 925ac8a2b637466ba0ad8dfaf7b49aa9a362502f
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:27 2006 -0800

    [PATCH] relayfs: add Documention for non-relay files
    
    Documentation update for non-relay files.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aaea25d7a68a7f72e167dc1698b66a15edc71883
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:26 2006 -0800

    [PATCH] relayfs: remove unused alloc/destroy_inode()
    
    Since we're no longer using relayfs_inode_info, remove relayfs_alloc_inode()
    and relayfs_destroy_inode() along with the relayfs inode cache.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51008f9f95a4c3158151a75f88fb03fb0f646aba
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:26 2006 -0800

    [PATCH] relayfs: use generic_ip for private data
    
    Use inode->u.generic_ip instead of relayfs_inode_info to store pointer to user
    data.  Clients using relayfs_file_create() to create their own files would
    probably more expect their data to be stored in generic_ip; we also intend in
    the next set of patches to get rid of relayfs-specific stuff in the file
    operations, so we might as well do it here.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7431733791feb0b19453d8047b0723c744667040
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:25 2006 -0800

    [PATCH] relayfs: add relayfs_remove_file()
    
    This patch adds and exports relayfs_remove_file(), for API symmetry (with
    relayfs_create_file()).
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 907f2c77d1653ce235e8e1fd6ce5c46005814e78
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:24 2006 -0800

    [PATCH] relayfs: export relayfs_create_file() with fileops param
    
    This patch adds a mandatory fileops param to relayfs_create_file() and exports
    that function so that clients can use it to create files defined by their own
    set of file operations, in relayfs.  The purpose is to allow relayfs
    applications to create their own set of 'control' files alongside their relay
    files in relayfs rather than having to create them in /proc or debugfs for
    instance.  relayfs_create_file() is also used by relay_open_buf() to create
    the relay files for a channel.  In this case, a pointer to
    relayfs_file_operations is passed in, along with a pointer to the buffer
    associated with the file.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6625b861f8f0e429902b8671b3e70792cd99074e
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Sun Jan 8 01:02:23 2006 -0800

    [PATCH] relayfs: decouple buffer creation from inode creation
    
    The patch series implementa or fixes 3 things that were specifically requested
    or suggested by relayfs users:
    
    - support for non-relay files (patches 1-6)
    
    Currently, the relayfs API only supports the creation of directories
    (relayfs_create_dir()) and relay files (relay_open()).  These patches adds
    support for non-relay files (relayfs_create_file()).  This is so relayfs
    applications can create 'control files' in relayfs itself rather than in /proc
    or via a netlink channel, as is currently done in the relay-app examples.
    Basically what this amounts to is exporting relayfs_create_file() with an
    additional file_ops param that clients can use to supply file operations for
    their own special-purpose files in relayfs.
    
    - make exported relay file ops useful (patches 7-8)
    
    The relayfs relay_file_operations have always been exported, the intent being
    to make it possible to create relay files in other filesystems such as
    debugfs.  The problem, though, is that currently the file operations are too
    tightly coupled to relayfs to actually be used for this purpose.  This patch
    fixes that by adding a couple of callback functions that allow a client to
    hook into relay_open()/close() and supply the files that will be used to
    represent the channel buffers; the default implementation if no callbacks are
    defined is to create the files in relayfs.
    
    - add an option to create global relay buffer (patches 9-10) The file creation
    callback also supplies an optional param, is_global, that can be used by
    clients to create a single global relayfs buffer instead of the default
    per-cpu buffers.  This was suggested as being useful for certain debugging
    applications where it's more convenient to be able to get all the data from a
    single channel without having to go to the bother of dealing with per-cpu
    files.
    
    - cleanup, some renaming and Documentation updates (patches 11-12)
    
    There were several comments that the use of netlink in the example code was
    non-intuitive and in fact the whole relay-app business was needlessly
    confusing.  Based on that feedback, the example code has been completely
    converted over to relayfs control files as supported by this patch, and have
    also been made completely self-contained.
    
    The converted examples along with a couple of new examples that demonstrate
    using exported relay files can be found in relay-apps tarball:
    http://prdownloads.sourceforge.net/relayfs/relay-apps-0.9.tar.gz?download
    
    This patch:
    
    Separate buffer create/destroy from inode create/destroy.  We want to be able
    to associate other data and not just relay buffers with inodes.  Buffer
    create/destroy is moved out of inode.c and into relayfs core code.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b33291c0bcecfa44baa905964eec4b8815dcbcdf
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:02:21 2006 -0800

    [PATCH] ipc: expand shm_flags
    
    Unobfsucate this struct member
    
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3f3d6141f8636f627bf19fd44eaf59a52637ac8
Author: Jan Beulich <jbeulich@novell.com>
Date:   Sun Jan 8 01:02:20 2006 -0800

    [PATCH] ELF: symbol table type additions
    
    Needed for the Novell kernel debugger and perhaps some per-cpu data on x86_64
    in the future.
    
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 095975da26dba21698582e91e96be10f7417333f
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:02:19 2006 -0800

    [PATCH] rcu file: use atomic primitives
    
    Use atomic_inc_not_zero for rcu files instead of special case rcuref.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a57004e1afb6ee03c509f1b1ec74a000682ab93b
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:02:19 2006 -0800

    [PATCH] atomic: dec_and_lock use atomic primitives
    
    Convert atomic_dec_and_lock to use new atomic primitives.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8382bf2e72d16d0532e351299121ccd3bca0fdd8
Author: Peter Osterlund <petero2@telia.com>
Date:   Sun Jan 8 01:02:17 2006 -0800

    [PATCH] pktcdvd: Use bd_claim to get exclusive access
    
    Use bd_claim() when opening the cdrom device to prevent user space programs
    such as cdrecord, hald and kded from interfering with the burning process.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97a41e26124330e41aa10ef88cd1711bc3d17460
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:02:17 2006 -0800

    [PATCH] kernel/: small cleanups
    
    This patch contains the following cleanups:
    - make needlessly global functions static
    - every file should include the headers containing the prototypes for
      it's global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7b4d7a4666454b40b45a853bd1d296af37a85f0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:02:16 2006 -0800

    [PATCH] drivers/isdn/: "extern inline" -> "static inline"
    
    "extern inline" -> "static inline"
    
    Since there's no pullphone() function this patch removes the dead
    prototype.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a10e0b28b196051ae71829e5b989cba00513289
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:02:15 2006 -0800

    [PATCH] move rtc_interrupt() prototype to rtc.h
    
    This patch moves the rtc_interrupt() prototype to rtc.h and removes the
    prototypes from C files.
    
    It also renames static rtc_interrupt() functions in
    arch/arm/mach-integrator/time.c and arch/sh64/kernel/time.c to avoid compile
    problems.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Paul Gortmaker <p_gortmaker@yahoo.com>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28fd129827b00e12829d48a5290f46277600619b
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:14 2006 -0800

    [PATCH] Fix and add EXPORT_SYMBOL(filemap_write_and_wait)
    
    This patch add EXPORT_SYMBOL(filemap_write_and_wait) and use it.
    
    See mm/filemap.c:
    
    And changes the filemap_write_and_wait() and filemap_write_and_wait_range().
    
    Current filemap_write_and_wait() doesn't wait if filemap_fdatawrite()
    returns error.  However, even if filemap_fdatawrite() returned an
    error, it may have submitted the partially data pages to the device.
    (e.g. in the case of -ENOSPC)
    
    <quotation>
    Andrew Morton writes,
    
    If filemap_fdatawrite() returns an error, this might be due to some
    I/O problem: dead disk, unplugged cable, etc.  Given the generally
    crappy quality of the kernel's handling of such exceptions, there's a
    good chance that the filemap_fdatawait() will get stuck in D state
    forever.
    </quotation>
    
    So, this patch doesn't wait if filemap_fdatawrite() returns the -EIO.
    
    Trond, could you please review the nfs part?  Especially I'm not sure,
    nfs must use the "filemap_fdatawrite(inode->i_mapping) == 0", or not.
    
    Acked-by: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05eb0b51fb46430050d5873458612f53e0234f2e
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:13 2006 -0800

    [PATCH] fat: support a truncate() for expanding size (generic_cont_expand)
    
    This patch changes generic_cont_expand(), in order to share the code
    with fatfs.
    
      - Use vmtruncate() if ->prepare_write() returns a error.
    
    Even if ->prepare_write() returns an error, it may already have added some
    blocks.  So, this truncates blocks outside of ->i_size by vmtruncate().
    
      - Add generic_cont_expand_simple().
    
    The generic_cont_expand_simple() assumes that ->prepare_write() can handle
    the block boundary.  With this, we don't need to care the extra byte.
    
    And for expanding a file size by truncate(), fatfs uses the
    added generic_cont_expand_simple().
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 268fc16e343b4f8e249468747db2e658da46a814
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:12 2006 -0800

    [PATCH] export/change sync_page_range/_nolock()
    
    This exports/changes the sync_page_range/_nolock().  The fatfs needs
    sync_page_range/_nolock() for expanding truncate, and changes "size_t count"
    to "loff_t count".
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5174baaea7585760f02eef23b225847d209a8db
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:11 2006 -0800

    [PATCH] fat: support ->direct_IO()
    
    This patch add to support of ->direct_IO() for mostly read.
    
    The user of this seems to want to use for streaming read.  So, current direct
    I/O has limitation, it can only overwrite.  (For write operation, mainly we
    need to handle the hole etc..)
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c709d00d614d0f2b6a80895b2a1aedbe04e8478
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:10 2006 -0800

    [PATCH] fat: s/EXPORT_SYMBOL/EXPORT_SYMBOL_GPL/
    
    All EXPORT_SYMBOL of fatfs is only for vfat/msdos. _GPL would be proper.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5425d2927a6a771f9ae8767b6bfb3c09225bcdd
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:10 2006 -0800

    [PATCH] fat: add the read/writepages()
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83b7c996dc859c7b53f94d46ee5c5929cc0399e2
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:09 2006 -0800

    [PATCH] fat: use sb_find_get_block() instead of sb_getblk()
    
    We don't need to allocate buffer for checking the buffer is uptodate.  This
    use sb_find_get_block() instead, and if it returns NULL it's not uptodate.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6bf6b211cdb92c315c24719a522d8b6f3998210
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Jan 8 01:02:08 2006 -0800

    [PATCH] fat: move fat_clusters_flush() to write_super()
    
    It is overkill to update the FS_INFO whenever modifying
    prev_free/free_clusters, because those are just a hint.
    
    So, this patch uses ->write_super() for updating FS_INFO instead.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ded96f24c3a5fcbef954e88c443385a1af37eb9
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Sun Jan 8 01:02:07 2006 -0800

    [PATCH] IRQ type flags
    
    Some ARM platforms have the ability to program the interrupt controller to
    detect various interrupt edges and/or levels.  For some platforms, this is
    critical to setup correctly, particularly those which the setting is dependent
    on the device.
    
    Currently, ARM drivers do (eg) the following:
    
    	err = request_irq(irq, ...);
    
    	set_irq_type(irq, IRQT_RISING);
    
    However, if the interrupt has previously been programmed to be level sensitive
    (for whatever reason) then this will cause an interrupt storm.
    
    Hence, if we combine set_irq_type() with request_irq(), we can then safely set
    the type prior to unmasking the interrupt.  The unfortunate problem is that in
    order to support this, these flags need to be visible outside of the ARM
    architecture - drivers such as smc91x need these flags and they're
    cross-architecture.
    
    Finally, the SA_TRIGGER_* flag passed to request_irq() should reflect the
    property that the device would like.  The IRQ controller code should do its
    best to select the most appropriate supported mode.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 705b6c7b34f2621f95f606d0e683daa10cdb8eb9
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Sun Jan 8 01:02:06 2006 -0800

    [PATCH] new driver synclink_gt
    
    New character device driver for the SyncLink GT and SyncLink AC families of
    synchronous and asynchronous serial adapters
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de25968cc87cc5b76d09de8b4cbddc8f24fcf5f7
Author: Tim Schmielau <tim@physik3.uni-rostock.de>
Date:   Sun Jan 8 01:02:05 2006 -0800

    [PATCH] fix more missing includes
    
    Include fixes for 2.6.14-git11.  Should allow to remove sched.h from
    module.h on i386, x86_64, arm, ia64, ppc, ppc64, and s390.  Probably more
    to come since I haven't yet checked the other archs.
    
    Signed-off-by: Tim Schmielau <tim@physik3.uni-rostock.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 03a285f58064b8e0af08383e082e383753d9c33e
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:02:04 2006 -0800

    [PATCH] cpuset: skip rcu check if task is in root cpuset
    
    For systems that aren't using cpusets, but have them CONFIG_CPUSET enabled in
    their kernel (eventually this may be most distribution kernels), this patch
    removes even the minimal rcu_read_lock() from the memory page allocation path.
    
    Actually, it removes that rcu call for any task that is in the root cpuset
    (top_cpuset), which on systems not actively using cpusets, is all tasks.
    
    We don't need the rcu check for tasks in the top_cpuset, because the
    top_cpuset is statically allocated, so at no risk of being freed out from
    underneath us.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7edc59628b2f5d6516b4677b3b56f5f056e45cd9
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:02:03 2006 -0800

    [PATCH] cpuset: mark number_of_cpusets read_mostly
    
    Mark cpuset global 'number_of_cpusets' as __read_mostly.
    
    This global is accessed everytime a zone is considered in the zonelist loops
    beneath __alloc_pages, looking for a free memory page.  If number_of_cpusets
    is just one, then we can short circuit the mems_allowed check.
    
    Since this global is read alot on a hot path, and written rarely, it is an
    excellent candidate for __read_mostly.
    
    Thanks to Christoph Lameter for the suggestion.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b9c2603ce07f70de9c7a8d335ecd028e8ff11f3
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:02:02 2006 -0800

    [PATCH] cpuset: use rcu directly optimization
    
    Optimize the cpuset impact on page allocation, the most performance critical
    cpuset hook in the kernel.
    
    On each page allocation, the cpuset hook needs to check for a possible change
    in the current tasks cpuset.  It can now handle the common case, of no change,
    without taking any spinlock or semaphore, thanks to RCU.
    
    Convert a spinlock on the current task to an rcu_read_lock(), saving
    approximately a memory barrier and an atomic op, depending on architecture.
    
    This is done by adding rcu_assign_pointer() and synchronize_rcu() calls to the
    write side of the task->cpuset pointer, in cpuset.c:attach_task(), to delay
    freeing up a detached cpuset until after any critical sections referencing
    that pointer.
    
    Thanks to Andi Kleen, Nick Piggin and Eric Dumazet for ideas.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c417f0242ebe578924a30d4e53d35b5059fed4e7
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:02:01 2006 -0800

    [PATCH] cpuset: remove test for null cpuset from alloc code path
    
    Remove a couple of more lines of code from the cpuset hooks in the page
    allocation code path.
    
    There was a check for a NULL cpuset pointer in the routine
    cpuset_update_task_memory_state() that was only needed during system boot,
    after the memory subsystem was initialized, before the cpuset subsystem was
    initialized, to catch a NULL task->cpuset pointer.
    
    Add a cpuset_init_early() routine, just before the mem_init() call in
    init/main.c, that sets up just enough of the init tasks cpuset structure to
    render cpuset_update_task_memory_state() calls harmless.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04c19fa6f16047abff2288ddbc1f0798ede5a849
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:02:00 2006 -0800

    [PATCH] cpuset: migrate all tasks in cpuset at once
    
    Given the mechanism in the previous patch to handle rebinding the per-vma
    mempolicies of all tasks in a cpuset that changes its memory placement, it is
    now easier to handle the page migration requirements of such tasks at the same
    time.
    
    The previous code didn't actually attempt to migrate the pages of the tasks in
    a cpuset whose memory placement changed until the next time each such task
    tried to allocate memory.  This was undesirable, as users invoking memory page
    migration exected to happen when the placement changed, not some unspecified
    time later when the task needed more memory.
    
    It is now trivial to handle the page migration at the same time as the per-vma
    rebinding is done.
    
    The routine cpuset.c:update_nodemask(), which handles changing a cpusets
    memory placement ('mems') now checks for the special case of being asked to
    write a placement that is the same as before.  It was harmless enough before
    to just recompute everything again, even though nothing had changed.  But page
    migration is a heavy weight operation - moving pages about.  So now it is
    worth avoiding that if asked to move a cpuset to its current location.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4225399a66b315d4d1fb1cb61b75dda201c832e3
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:59 2006 -0800

    [PATCH] cpuset: rebind vma mempolicies fix
    
    Fix more of longstanding bug in cpuset/mempolicy interaction.
    
    NUMA mempolicies (mm/mempolicy.c) are constrained by the current tasks cpuset
    to just the Memory Nodes allowed by that cpuset.  The kernel maintains
    internal state for each mempolicy, tracking what nodes are used for the
    MPOL_INTERLEAVE, MPOL_BIND or MPOL_PREFERRED policies.
    
    When a tasks cpuset memory placement changes, whether because the cpuset
    changed, or because the task was attached to a different cpuset, then the
    tasks mempolicies have to be rebound to the new cpuset placement, so as to
    preserve the cpuset-relative numbering of the nodes in that policy.
    
    An earlier fix handled such mempolicy rebinding for mempolicies attached to a
    task.
    
    This fix rebinds mempolicies attached to vma's (address ranges in a tasks
    address space.) Due to the need to hold the task->mm->mmap_sem semaphore while
    updating vma's, the rebinding of vma mempolicies has to be done when the
    cpuset memory placement is changed, at which time mmap_sem can be safely
    acquired.  The tasks mempolicy is rebound later, when the task next attempts
    to allocate memory and notices that its task->cpuset_mems_generation is
    out-of-date with its cpusets mems_generation.
    
    Because walking the tasklist to find all tasks attached to a changing cpuset
    requires holding tasklist_lock, a spinlock, one cannot update the vma's of the
    affected tasks while doing the tasklist scan.  In general, one cannot acquire
    a semaphore (which can sleep) while already holding a spinlock (such as
    tasklist_lock).  So a list of mm references has to be built up during the
    tasklist scan, then the tasklist lock dropped, then for each mm, its mmap_sem
    acquired, and the vma's in that mm rebound.
    
    Once the tasklist lock is dropped, affected tasks may fork new tasks, before
    their mm's are rebound.  A kernel global 'cpuset_being_rebound' is set to
    point to the cpuset being rebound (there can only be one; cpuset modifications
    are done under a global 'manage_sem' semaphore), and the mpol_copy code that
    is used to copy a tasks mempolicies during fork catches such forking tasks,
    and ensures their children are also rebound.
    
    When a task is moved to a different cpuset, it is easier, as there is only one
    task involved.  It's mm->vma's are scanned, using the same
    mpol_rebind_policy() as used above.
    
    It may happen that both the mpol_copy hook and the update done via the
    tasklist scan update the same mm twice.  This is ok, as the mempolicies of
    each vma in an mm keep track of what mems_allowed they are relative to, and
    safely no-op a second request to rebind to the same nodes.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 202f72d5d1b5c2c084f63ef996c736d208b447b5
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:57 2006 -0800

    [PATCH] cpuset: number_of_cpusets optimization
    
    Easy little optimization hack to avoid actually having to call
    cpuset_zone_allowed() and check mems_allowed, in the main page allocation
    routine, __alloc_pages().  This saves several CPU cycles per page allocation
    on systems not using cpusets.
    
    A counter is updated each time a cpuset is created or removed, and whenever
    there is only one cpuset in the system, it must be the root cpuset, which
    contains all CPUs and all Memory Nodes.  In that case, when the counter is
    one, all allocations are allowed.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74cb21553f4bf244185b9bec4c26e4e3169ad55e
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:56 2006 -0800

    [PATCH] cpuset: numa_policy_rebind cleanup
    
    Cleanup, reorganize and make more robust the mempolicy.c code to rebind
    mempolicies relative to the containing cpuset after a tasks memory placement
    changes.
    
    The real motivator for this cleanup patch is to lay more groundwork for the
    upcoming patch to correctly rebind NUMA mempolicies that are attached to vma's
    after the containing cpuset memory placement changes.
    
    NUMA mempolicies are constrained by the cpuset their task is a member of.
    When either (1) a task is moved to a different cpuset, or (2) the 'mems'
    mems_allowed of a cpuset is changed, then the NUMA mempolicies have embedded
    node numbers (for MPOL_BIND, MPOL_INTERLEAVE and MPOL_PREFERRED) that need to
    be recalculated, relative to their new cpuset placement.
    
    The old code used an unreliable method of determining what was the old
    mems_allowed constraining the mempolicy.  It just looked at the tasks
    mems_allowed value.  This sort of worked with the present code, that just
    rebinds the -task- mempolicy, and leaves any -vma- mempolicies broken,
    referring to the old nodes.  But in an upcoming patch, the vma mempolicies
    will be rebound as well.  Then the order in which the various task and vma
    mempolicies are updated will no longer be deterministic, and one can no longer
    count on the task->mems_allowed holding the old value for as long as needed.
    It's not even clear if the current code was guaranteed to work reliably for
    task mempolicies.
    
    So I added a mems_allowed field to each mempolicy, stating exactly what
    mems_allowed the policy is relative to, and updated synchronously and reliably
    anytime that the mempolicy is rebound.
    
    Also removed a useless wrapper routine, numa_policy_rebind(), and had its
    caller, cpuset_update_task_memory_state(), call directly to the rewritten
    policy_rebind() routine, and made that rebind routine extern instead of
    static, and added a "mpol_" prefix to its name, making it
    mpol_rebind_policy().
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 909d75a3b77bdd8baa9429bad3b69a654d2954ce
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:55 2006 -0800

    [PATCH] cpuset: implement cpuset_mems_allowed
    
    Provide a cpuset_mems_allowed() method, which the sys_migrate_pages() code
    needed, to obtain the mems_allowed vector of a cpuset, and replaced the
    workaround in sys_migrate_pages() to call this new method.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf2a473c4089aa41c26f653200673f5a4cc25047
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:54 2006 -0800

    [PATCH] cpuset: combine refresh_mems and update_mems
    
    The important code paths through alloc_pages_current() and alloc_page_vma(),
    by which most kernel page allocations go, both called
    cpuset_update_current_mems_allowed(), which in turn called refresh_mems().
    -Both- of these latter two routines did a tasklock, got the tasks cpuset
    pointer, and checked for out of date cpuset->mems_generation.
    
    That was a silly duplication of code and waste of CPU cycles on an important
    code path.
    
    Consolidated those two routines into a single routine, called
    cpuset_update_task_memory_state(), since it updates more than just
    mems_allowed.
    
    Changed all callers of either routine to call the new consolidated routine.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4b2641843db124637fa3d2cb2101982035dcc82
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:53 2006 -0800

    [PATCH] cpuset: fork hook fix
    
    Fix obscure, never seen in real life, cpuset fork race.  The cpuset_fork()
    call in fork.c was setting up the correct task->cpuset pointer after the
    tasklist_lock was dropped, which briefly exposed the newly forked process with
    an unsafe (copied from parent without locks or usage counter increment) cpuset
    pointer.
    
    In theory, that exposed cpuset pointer could have been pointing at a cpuset
    that was already freed and removed, and in theory another task that had been
    sitting on the tasklist_lock waiting to scan the task list could have raced
    down the entire tasklist, found our new child at the far end, and dereferenced
    that bogus cpuset pointer.
    
    To fix, setup up the correct cpuset pointer in the new child by calling
    cpuset_fork() before the new task is linked into the tasklist, and with that,
    add a fork failure case, to dereference that cpuset, if the fork fails along
    the way, after cpuset_fork() was called.
    
    Had to remove a BUG_ON() from cpuset_exit(), because it was no longer valid -
    the call to cpuset_exit() from a failed fork would not have PF_EXITING set.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 59dac16fb95f09253b8086134443abeb439703cd
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:52 2006 -0800

    [PATCH] cpuset: update_nodemask code reformat
    
    Restructure code layout of the kernel/cpuset.c update_nodemask() routine,
    removing embedded returns and nested if's in favor of goto completion labels.
    This is being done in anticipation of adding more logic to this routine, which
    will favor the goto style structure.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5b2aff89635495064592dc90da595f8a880ee87
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:51 2006 -0800

    [PATCH] cpuset: minor spacing initializer fixes
    
    Four trivial cpuset fixes: remove extra spaces, remove useless initializers,
    mark one __read_mostly.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90c9cc4043fd8454d11886379f841f70e176698e
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:51 2006 -0800

    [PATCH] cpuset: remove marker_pid documentation
    
    Remove documentation for the cpuset 'marker_pid' feature, that was in the
    patch "cpuset: change marker for relative numbering" That patch was previously
    pulled from *-mm at my (pj) request.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd5e09cf7054878a3db6a8c8bab1c2fabcd4f072
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:50 2006 -0800

    [PATCH] cpuset: document additional features
    
    Document the additional cpuset features:
    	notify_on_release
    	marker_pid
    	memory_pressure
    	memory_pressure_enabled
    
    Rearrange and improve formatting of existing documentation for
    cpu_exclusive and mem_exclusive features.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3e0d98b9f1eb757fc98efc84e74e54a08308aa73
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:49 2006 -0800

    [PATCH] cpuset: memory pressure meter
    
    Provide a simple per-cpuset metric of memory pressure, tracking the -rate-
    that the tasks in a cpuset call try_to_free_pages(), the synchronous
    (direct) memory reclaim code.
    
    This enables batch managers monitoring jobs running in dedicated cpusets to
    efficiently detect what level of memory pressure that job is causing.
    
    This is useful both on tightly managed systems running a wide mix of
    submitted jobs, which may choose to terminate or reprioritize jobs that are
    trying to use more memory than allowed on the nodes assigned them, and with
    tightly coupled, long running, massively parallel scientific computing jobs
    that will dramatically fail to meet required performance goals if they
    start to use more memory than allowed to them.
    
    This patch just provides a very economical way for the batch manager to
    monitor a cpuset for signs of memory pressure.  It's up to the batch
    manager or other user code to decide what to do about it and take action.
    
    ==> Unless this feature is enabled by writing "1" to the special file
        /dev/cpuset/memory_pressure_enabled, the hook in the rebalance
        code of __alloc_pages() for this metric reduces to simply noticing
        that the cpuset_memory_pressure_enabled flag is zero.  So only
        systems that enable this feature will compute the metric.
    
    Why a per-cpuset, running average:
    
        Because this meter is per-cpuset, rather than per-task or mm, the
        system load imposed by a batch scheduler monitoring this metric is
        sharply reduced on large systems, because a scan of the tasklist can be
        avoided on each set of queries.
    
        Because this meter is a running average, instead of an accumulating
        counter, a batch scheduler can detect memory pressure with a single
        read, instead of having to read and accumulate results for a period of
        time.
    
        Because this meter is per-cpuset rather than per-task or mm, the
        batch scheduler can obtain the key information, memory pressure in a
        cpuset, with a single read, rather than having to query and accumulate
        results over all the (dynamically changing) set of tasks in the cpuset.
    
    A per-cpuset simple digital filter (requires a spinlock and 3 words of data
    per-cpuset) is kept, and updated by any task attached to that cpuset, if it
    enters the synchronous (direct) page reclaim code.
    
    A per-cpuset file provides an integer number representing the recent
    (half-life of 10 seconds) rate of direct page reclaims caused by the tasks
    in the cpuset, in units of reclaims attempted per second, times 1000.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5966514db662fb24c9bb43226a80106bcffd51f8
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:47 2006 -0800

    [PATCH] cpuset: mempolicy one more nodemask conversion
    
    Finish converting mm/mempolicy.c from bitmaps to nodemasks.  The previous
    conversion had left one routine using bitmaps, since it involved a
    corresponding change to kernel/cpuset.c
    
    Fix that interface by replacing with a simple macro that calls nodes_subset(),
    or if !CONFIG_CPUSET, returns (1).
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Cc: Christoph Lameter <christoph@lameter.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96b7f34143c2c823a6a750fcb758fc66c44945d2
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:01:46 2006 -0800

    [PATCH] cpuset: better bitmap remap defaults
    
    Fix the default behaviour for the remap operators in bitmap, cpumask and
    nodemask.
    
    As previously submitted, the pair of masks <A, B> defined a map of the
    positions of the set bits in A to the corresponding bits in B.  This is still
    true.
    
    The issue is how to map the other positions, corresponding to the unset (0)
    bits in A.  As previously submitted, they were all mapped to the first set bit
    position in B, a constant map.
    
    When I tried to code per-vma mempolicy rebinding using these remap operators,
    I realized this was wrong.
    
    This patch changes the default to map all the unset bit positions in A to the
    same positions in B, the identity map.
    
    For example, if A has bits 4-7 set, and B has bits 9-12 set, then the map
    defined by the pair <A, B> maps each bit position in the first 32 bits as
    follows:
    
    	0 ==> 0
    	  ...
    	3 ==> 3
    	4 ==> 9
    	  ...
    	7 ==> 12
    	8 ==> 8
    	9 ==> 9
    	  ...
    	31 ==> 31
    
    This now corresponds to the typical behaviour desired when migrating pages and
    policies from one cpuset to another.
    
    The pages on nodes within the original cpuset, and the references in memory
    policies to nodes within the original cpuset, are migrated to the
    corresponding cpuset-relative nodes in the destination cpuset.  Other pages
    and node references are left untouched.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10cef6029502915bdb3cf0821d425cf9dc30c817
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:01:45 2006 -0800

    [PATCH] slob: introduce the SLOB allocator
    
    configurable replacement for slab allocator
    
    This adds a CONFIG_SLAB option under CONFIG_EMBEDDED.  When CONFIG_SLAB is
    disabled, the kernel falls back to using the 'SLOB' allocator.
    
    SLOB is a traditional K&R/UNIX allocator with a SLAB emulation layer,
    similar to the original Linux kmalloc allocator that SLAB replaced.  It's
    signicantly smaller code and is more memory efficient.  But like all
    similar allocators, it scales poorly and suffers from fragmentation more
    than SLAB, so it's only appropriate for small systems.
    
    It's been tested extensively in the Linux-tiny tree.  I've also
    stress-tested it with make -j 8 compiles on a 3G SMP+PREEMPT box (not
    recommended).
    
    Here's a comparison for otherwise identical builds, showing SLOB saving
    nearly half a megabyte of RAM:
    
    $ size vmlinux*
       text    data     bss     dec     hex filename
    3336372  529360  190812 4056544  3de5e0 vmlinux-slab
    3323208  527948  190684 4041840  3dac70 vmlinux-slob
    
    $ size mm/{slab,slob}.o
       text    data     bss     dec     hex filename
      13221     752      48   14021    36c5 mm/slab.o
       1896      52       8    1956     7a4 mm/slob.o
    
    /proc/meminfo:
                      SLAB          SLOB      delta
    MemTotal:        27964 kB      27980 kB     +16 kB
    MemFree:         24596 kB      25092 kB    +496 kB
    Buffers:            36 kB         36 kB       0 kB
    Cached:           1188 kB       1188 kB       0 kB
    SwapCached:          0 kB          0 kB       0 kB
    Active:            608 kB        600 kB      -8 kB
    Inactive:          808 kB        812 kB      +4 kB
    HighTotal:           0 kB          0 kB       0 kB
    HighFree:            0 kB          0 kB       0 kB
    LowTotal:        27964 kB      27980 kB     +16 kB
    LowFree:         24596 kB      25092 kB    +496 kB
    SwapTotal:           0 kB          0 kB       0 kB
    SwapFree:            0 kB          0 kB       0 kB
    Dirty:               4 kB         12 kB      +8 kB
    Writeback:           0 kB          0 kB       0 kB
    Mapped:            560 kB        556 kB      -4 kB
    Slab:             1756 kB          0 kB   -1756 kB
    CommitLimit:     13980 kB      13988 kB      +8 kB
    Committed_AS:     4208 kB       4208 kB       0 kB
    PageTables:         28 kB         28 kB       0 kB
    VmallocTotal:  1007312 kB    1007312 kB       0 kB
    VmallocUsed:        48 kB         48 kB       0 kB
    VmallocChunk:  1007264 kB    1007264 kB       0 kB
    
    (this work has been sponsored in part by CELF)
    
    From: Ingo Molnar <mingo@elte.hu>
    
       Fix 32-bitness bugs in mm/slob.c.
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30992c97ae9d01b17374fbfab76a869fb4bba500
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Jan 8 01:01:43 2006 -0800

    [PATCH] slob: introduce mm/util.c for shared functions
    
    Add mm/util.c for functions common between SLAB and SLOB.
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50dd26ba0947aa653f0e42897aad7a4adce4e620
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sun Jan 8 01:01:42 2006 -0800

    [PATCH] DEBUG_SLAB depends on SLAB
    
    Make DEBUG_SLAB depend on SLAB.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5f51c966720fa519c6ce69b169107dbc5769cdf
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:01:41 2006 -0800

    [PATCH] radix-tree: reduce tree height upon partial truncation
    
    Shrink the height of a radix tree when it is partially truncated - we only do
    shrinkage of full truncation at present.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5274261ea46f0aae93820fe36628249120d2f75
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:01:41 2006 -0800

    [PATCH] radix tree: early termination of tag clearing
    
    Correctly determine the tags to be cleared in radix_tree_delete() so we
    don't keep moving up the tree clearing tags that we don't need to.  For
    example, if a tag is simply not set in the deleted item, nor anywhere up
    the tree, radix_tree_delete() would attempt to clear it up the entire
    height of the tree.
    
    Also, tag_set() was made conditional so as not to dirty too many cachelines
    high up in the radix tree.  Instead, put this logic into
    radix_tree_tag_set().
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e954b9e90c3a7157c0c1457dd3919e2a1345d23
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:01:40 2006 -0800

    [PATCH] radix tree: code consolidation
    
    Introduce helper any_tag_set() rather than repeat the same code sequence 4
    times.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4829cd5b4bd1ea58ba1bebad44d562f4027c290
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Sun Jan 8 01:01:39 2006 -0800

    [PATCH] remove get_task_struct_rcu()
    
    The latest set of signal-RCU patches does not use get_task_struct_rcu().
    Attached is a patch that removes it.
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d89c929078588aa9b9c674ef03ee9aa816b59b8
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Sun Jan 8 01:01:38 2006 -0800

    [PATCH] Simpler signal-exit concurrency handling
    
    Some simplification in checking signal delivery against concurrent exit.
    Instead of using get_task_struct_rcu(), which increments the task_struct
    reference count, check the reference count after acquiring sighand lock.
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e56d090310d7625ecb43a1eeebd479f04affb48b
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sun Jan 8 01:01:37 2006 -0800

    [PATCH] RCU signal handling
    
    RCU tasklist_lock and RCU signal handling: send signals RCU-read-locked
    instead of tasklist_lock read-locked.  This is a scalability improvement on
    SMP and a preemption-latency improvement under PREEMPT_RCU.
    
    Signed-off-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4369ef3c3e9d3bd9b879580678778f558d481e90
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Sun Jan 8 01:01:35 2006 -0800

    [PATCH] Make RCU task_struct safe for oprofile
    
    Applying RCU to the task structure broke oprofile, because
    free_task_notify() can now be called from softirq.  This means that the
    task_mortuary lock must be acquired with irq disabled in order to avoid
    intermittent self-deadlock.  Since irq is now disabled, the critical
    section within process_task_mortuary() has been restructured to be O(1) in
    order to maximize scalability and minimize realtime latency degradation.
    
    Kudos to Wu Fengguang for finding this problem!
    
    CC: Wu Fengguang <wfg@mail.ustc.edu.cn>
    Cc: Philippe Elie <phil.el@wanadoo.fr>
    Cc: John Levon <levon@movementarian.org>
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eafbaa94691f6a1fa67c3b076caa3ce4e2920100
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Jan 8 01:01:34 2006 -0800

    [PATCH] uml: prevent MODE_SKAS=n and MODE_TT=n
    
    If MODE_TT=n, MODE_SKAS must be y.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0a689d05d8dc1580aeb87b2959e3de8c57f5f77
Author: Jeff Dike <jdike@addtoit.com>
Date:   Sun Jan 8 01:01:33 2006 -0800

    [PATCH] uml: whitespace cleanup
    
    This fixes some mangled whitespace added by the earlier trap_user.c patch.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8aaeacec159f2d9003872781fa4d49659e347fb
Author: Jeff Dike <jdike@addtoit.com>
Date:   Sun Jan 8 01:01:32 2006 -0800

    [PATCH] consolidate asm/futex.h
    
    Most of the architectures have the same asm/futex.h.  This consolidates them
    into asm-generic, with the arches including it from their own asm/futex.h.
    
    In the case of UML, this reverts the old broken futex.h and goes back to using
    the same one as almost everyone else.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c66fdd5e324392584c6f11de65cfe24b0e2d9303
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Sun Jan 8 01:01:32 2006 -0800

    [PATCH] uml: merge trap_user.c and trap_kern.c
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This joins trap_user.c and trap_kernel.c files.
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea2ba7dc3dd3f85034e6da6abacc813d723a2ad5
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Sun Jan 8 01:01:31 2006 -0800

    [PATCH] uml: move libc-dependent code from trap_user.c
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from trap_user.c file under os-Linux dir
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0805d89c151b4800eade4c2f50d39c5253d7d054
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Sun Jan 8 01:01:29 2006 -0800

    [PATCH] uml: move libc-dependent code from signal_user.c
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from signal_user.c file under os-Linux dir
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2de464f7f0006bec162559a8db161869d32ee93
Author: Woody Suwalski <woodys@xandros.com>
Date:   Sun Jan 8 01:01:29 2006 -0800

    [PATCH] ARM: Netwinder ds1620 driver needs an export to be built as module
    
    ds1620 module is using gpio_read symbol, so works only if "built-in" symbol
    needs to be exported from the kernel image
    
    Signed-off-by: Woody Suwalski <woodys@xandros.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1fd73c6b6737b7e6eacac1b00dac16e7540c3cb1
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sun Jan 8 01:01:28 2006 -0800

    [PATCH] Kill L1_CACHE_SHIFT_MAX
    
    Kill L1_CACHE_SHIFT from all arches.  Since L1_CACHE_SHIFT_MAX is not used
    anymore with the introduction of INTERNODE_CACHE, kill L1_CACHE_SHIFT_MAX.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 22fc6eccbf4ce4eb6265e6ada7b50a7b9cc57d05
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sun Jan 8 01:01:27 2006 -0800

    [PATCH] Change maxaligned_in_smp alignemnt macros to internodealigned_in_smp macros
    
    ____cacheline_maxaligned_in_smp is currently used to align critical structures
    and avoid false sharing.  It uses per-arch L1_CACHE_SHIFT_MAX and people find
    L1_CACHE_SHIFT_MAX useless.
    
    However, we have been using ____cacheline_maxaligned_in_smp to align
    structures on the internode cacheline size.  As per Andi's suggestion,
    following patch kills ____cacheline_maxaligned_in_smp and introduces
    INTERNODE_CACHE_SHIFT, which defaults to L1_CACHE_SHIFT for all arches.
    Arches needing L3/Internode cacheline alignment can define
    INTERNODE_CACHE_SHIFT in the arch asm/cache.h.  Patch replaces
    ____cacheline_maxaligned_in_smp with ____cacheline_internodealigned_in_smp
    
    With this patch, L1_CACHE_SHIFT_MAX can be killed
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d524aed1f50b2b1d5b4ad5a4e2fe3f38106d0a6
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:26 2006 -0800

    [PATCH] frv: fix uninitialised variable in serverworks driver
    
    Fix an uninitialised variable warning in the serverworks driver.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2087ff3ec56eba9bccd3b3a9d4d42670b1543f5d
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:25 2006 -0800

    [PATCH] frv: fix uninitialised variable in atm nicstar driver
    
    Fix an uninitialised variable warning in the atm nicstar driver.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41be6aef38c08f1f85ac1c4bd8191b0d1ec61b4c
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:25 2006 -0800

    [PATCH] frv: miscellaneous changes
    
    Fix a number of miscellanous items:
    
     (1) Declare lock sections in the linker script.
    
     (2) Recurse in the correct manner in the arch makefile.
    
     (3) asm/bug.h requires asm/linkage.h to be included first. One C file puts
         asm/bug.h first.
    
     (4) Add an empty RTC header file to avoid missing header file errors.
    
     (5) sg_dma_address() should use the dma_address member of a scatter list.
    
     (6) Add trivial pci_unmap support.
    
     (7) Add pgprot_noncached()
    
     (8) Discard u_quad_t.
    
     (9) Use ~0UL rather than ULONG_MAX in unistd.h in case the latter isn't
         declared.
    
    (10) Add an empty VGA header file to avoid missing header file errors.
    
    (11) Add an XOR header file to use the generic XOR stuff.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c15d41bab185431a9a28982b5aaac251dde4556
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:24 2006 -0800

    [PATCH] frv: make get_user macro cast pointers
    
    Make the get_user macro cast the source pointer to an appropriate type for the
    specified size.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8aec7573b87d2bc09cafab459476953353d2efa
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:23 2006 -0800

    [PATCH] frv: force serial driver inclusion
    
    Force the 8230 serial driver to be built in if the on-CPU UARTs are to be
    used.  It can't be used as a module because the arch setup needs to call into
    it.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a758313905f8b085b4591e8838626274e88b969
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:22 2006 -0800

    [PATCH] frv: fix PCMCIA configuration
    
    Fix PCMCIA configuration for FRV by including the stock PCMCIA configuration
    description file.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a2a88f88782e8815cafa22f2b9e22234b9a61d0a
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:22 2006 -0800

    [PATCH] frv: add pci_iomap
    
    Implement pci_iomap() for FRV.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00d76710c253341b1e84795923e59ccdb099628f
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:21 2006 -0800

    [PATCH] frv: add module support stubs
    
    Add stubs for FRV module support.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a90a72c85fb202d0b172da27d8df2579b6591783
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:20 2006 -0800

    [PATCH] frv: supply various missing I/O access primitives
    
    Supply various I/O access primitives that are missing for the FRV arch:
    
     (*) mmiowb()
    
     (*) read*_relaxed()
    
     (*) ioport_*map()
    
     (*) ioread*(), iowrite*(), ioread*_rep() and iowrite*_rep()
    
     (*) pci_io*map()
    
     (*) check_signature()
    
    The patch also makes __is_PCI_addr() more efficient.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 018b8d12bc85f8fb332239b11d919ea0724c49a4
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:19 2006 -0800

    [PATCH] frv: support module exception tables
    
    Fix the exception table handling so that modules exceptions are dealt with.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 402344012ebe696d9353bbf056889ddaaec83079
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:19 2006 -0800

    [PATCH] frv: implement and export various things required by modules
    
    Export a number of features required to build all the modules.  It also
    implements the following simple features:
    
     (*) csum_partial_copy_from_user() for MMU as well as no-MMU.
    
     (*) __ucmpdi2().
    
    so that they can be exported too.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8369ce4cfe18decc3ea0afcf91e67c665479c78e
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:18 2006 -0800

    [PATCH] frv: drop unsupported debugging features
    
    Drop support for debugging features that aren't supported on FRV:
    
     (*) EARLY_PRINTK
    
    	The on-chip UARTs are set up early enough that this isn't required,
    	and VGA support isn't available. There's also a gdbstub available.
    
     (*) DEBUG_PAGEALLOC
    
    	This can't be easily be done since we use huge static mappings to
    	cover the kernel, not pages.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2fa9e7e2dce6aafecc1890461bdc00d78897be8b
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:17 2006 -0800

    [PATCH] frv: drop 8/16-bit xchg and cmpxchg
    
    Drop support for 8-bit and 16-bit xchg and cmpxchg emulation and implements
    32-bit xchg with the SWAP/SWAPI instruction.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2919b51075b3906c2f476e5a932244af1947bf80
Author: David Howells <dhowells@redhat.com>
Date:   Sun Jan 8 01:01:16 2006 -0800

    [PATCH] frv: suppress configuration of certain features for FRV
    
    Suppress configuration of certain features for the FRV arch as they can't be
    built for FRV at the moment:
    
     (*) RTC
    
     (*) HISAX_*
    
     (*) PARPORT_PC
    
     (*) VGA_CONSOLE
    
     (*) BINFMT_ELF
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88ced0314938814e1772b4d0d7ab20c52e4472b6
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 16 22:43:46 2005 +0100

    [PATCH] powerpc: sanitize header files for user space includes
    
    include/asm-ppc/ had #ifdef __KERNEL__ in all header files that
    are not meant for use by user space, include/asm-powerpc does
    not have this yet.
    
    This patch gets us a lot closer there. There are a few cases
    where I was not sure, so I left them out. I have verified
    that no CONFIG_* symbols are used outside of __KERNEL__
    any more and that there are no obvious compile errors when
    including any of the headers in user space libraries.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f3f6ec4b77f627a6427460d6f8884e1042eef134
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Jan 8 20:12:58 2006 -0800

    [CIFS] Fix cifs trying to write to f_ops
    
    patch 2ea55c01e0c5dfead8699484b0bae2a375b1f61c fixed CIFS clobbering the
    global fops structure for some per mount setting, by duplicating and having
    2 fops structs. However the write to the fops was left behind, which is a
    NOP in practice (due to the fact that we KNOW the fops has that field set
    to NULL already due to the duplication). So remove it... In addition, another
    instance of the same bug was forgotten in november.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 277cb103e3d7b31b8f4941b6a495b1b80236b05c
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:14 2006 -0800

    [PATCH] cs89x0: fix up after pnx0105 Kconfig symbol renaming
    
    The Kconfig symbol for pnx0105 was recently renamed to ARCH_PNX010X.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37610ff3cb63f59b89370681ff780687d8a7bed3
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:13 2006 -0800

    [PATCH] fix Kconfig depends for cs89x0 (PNX010X support)
    
    PNX010X support for CS89x0 should be conditional on NET_PCI, as it is an 'on
    board controller' and NET_PCI includes that category of NICs.  Since
    ARCH_PNX0105 was recently changed to ARCH_PNX010X, incorporate that change as
    well while we're at it.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 084f746a01ca026920e388e76e913cc7a26d5a3f
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:12 2006 -0800

    [PATCH] cs89x0: switch {in,out}sw to {read,write}words
    
    Implement readwords/writewords that use readword/writeword, and switch the
    rest of the driver over to use these.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b68d70dffe255e7681d5725d96bc2b92a24bb9d
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:11 2006 -0800

    [PATCH] cs89x0: cleanly implement ixdp2x01 and pnx0501 support
    
    Implement suitable versions of the readword/writeword macros for ixdp2x01 and
    pnx0501.  Handle the 32-bit spacing of the registers in these functions
    instead of in the header file.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3eaa5e7dcce0653d2bfd2ab85a623687da49f8d5
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:10 2006 -0800

    [PATCH] cs89x0: make {read,write}reg use {read,write}word
    
    Make readreg/writereg use readword/writeword.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d5affcfe23ade8c4c01154e7e381e2a9a916399
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:09 2006 -0800

    [PATCH] cs89x0: swap {read,write}reg and {read,write}word
    
    Reverse the order of readreg/writereg and readword/writeword in the
    file, so that we can make readreg/writereg use readword/writeword.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc8c7d79b117f7a5b17640bf657d95afe4025bb8
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:08 2006 -0800

    [PATCH] cs89x0: convert {inw,outw} calls to {read,write}word
    
    Switch all occurences of inw/outw in the driver over to readword/writeword.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 974dffc2dd72d499a3ff150f61c8025b097a2c34
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Jan 8 01:01:06 2006 -0800

    [PATCH] cs89x0: make {read,write}word take base_addr
    
    readword() and writeword() take a 'struct net_device *' and deref its
    ->base_addr member.  Make them take the base_addr directly instead, so
    that we can switch the other occurences of inw/outw in the file over
    to readword/writeword as well.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Cc: dmitry pervushin <dpervushin@ru.mvista.com>
    Cc: <dsaxena@plexity.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f659f462d2ab519068d0e2bb677d7a700decb8d
Author: Kirill Korotaev <dev@sw.ru>
Date:   Sun Jan 8 01:01:05 2006 -0800

    [PATCH] Optimise oom kill of current task
    
    When oom_killer kills current there's no need to call
    schedule_timeout_interruptible() since task must die ASAP.
    
    Signed-Off-By: Pavel Emelianov <xemul@sw.ru>
    Signed-Off-By: Kirill Korotaev <dev@openvz.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ce3c4c0ff62ca6391019b7832fb41a7f28b9e26
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:01:04 2006 -0800

    [PATCH] Move page migration related functions near do_migrate_pages()
    
    Group page migration functions in mempolicy.c
    
    Add a forward declaration for migrate_page_add (like gather_stats()) and use
    our new found mobility to group all page migration related function around
    do_migrate_pages().
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48fce3429df84a94766fbbc845fa8450d0715b48
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:01:03 2006 -0800

    [PATCH] mempolicies: unexport get_vma_policy()
    
    Since the numa_maps functionality is now in mempolicy.c we no longer need to
    export get_vma_policy().
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 132beacf9785d2e6e8aecb59aa078f3ca5668fa6
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:01:02 2006 -0800

    [PATCH] Drop page table lock before calling migrate_page_add()
    
    migrate_page_add cannot be called with a spinlock held (calls
    isolate_lru_page which calles schedule_on_each_cpu).  Drop ptl lock in
    check_pte_range before calling migrate_page_add().
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a75a6c825c17249ca49f050a872a04ce0997ce3
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:01:02 2006 -0800

    [PATCH] Fold numa_maps into mempolicies.c
    
    First discussed at http://marc.theaimsgroup.com/?t=113149255100001&r=1&w=2
    
    - Use the check_range() in mempolicy.c to gather statistics.
    
    - Improve the numa_maps code in general and fix some comments.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 38e35860dbe6197a4b42eb6e8b47da940b7695dd
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:01:01 2006 -0800

    [PATCH] mempolicies: private pointer in check_range and MPOL_MF_INVERT
    
    This was was first posted at
    http://marc.theaimsgroup.com/?l=linux-mm&m=113149240227584&w=2
    
    (Part of this functionality is also contained in the direct migration
    pathset. The functionality here is more generic and independent of that
    patchset.)
    
    - Add internal flags MPOL_MF_INVERT to control check_range() behavior.
    
    - Replace the pagelist passed through by check_range by a general
      private pointer that may be used for other purposes.
      (The following patches will use that to merge numa_maps into
      mempolicy.c and to better group the page migration code in
      the policy layer)
    
    - Improve some comments.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ef2bf0dc8675e14cf8cba3b7fb9f48d72640a70e
Author: Dave Jones <davej@redhat.com>
Date:   Sun Jan 8 01:01:00 2006 -0800

    [PATCH] rmap: additional diagnostics in page_remove_rmap()
    
    We seem to be hitting this assertion failure too often for it to be
    hardware bugs.
    
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd105df4590c89837a1c300843238148cfef9b5f
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sun Jan 8 01:00:59 2006 -0800

    [PATCH] mm: clean up local variables
    
    Clean up a local variable with the same name as a variable in a larger
    block.  Also move a variable into the block where it's actually used.
    
    Spotted by http://linuxicc.sourceforge.net/
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 152194aaa6266d71dfee57882a23def339ef17a4
Author: Avishay Traeger <atraeger@cs.sunysb.edu>
Date:   Sun Jan 8 01:00:58 2006 -0800

    [PATCH] set_page_count() macro safety
    
    Fix set_page_count() macro to handle complex arguments.
    
    Signed-off-by: Avishay Traeger <atraeger@cs.sunysb.edu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aea47ff363c15b0be5fc27ed991b1fdee338f0a7
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:00:57 2006 -0800

    [PATCH] mm: make hugepages obey cpusets.
    
    See http://marc.theaimsgroup.com/?l=linux-kernel&m=113167000201265&w=2
    http://marc.theaimsgroup.com/?l=linux-mm&m=113167267527312&w=2
    
    Make hugepages obey cpusets.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 45b07ef31d1182d2cfde7711327e3afb268bb1ac
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Jan 8 01:00:56 2006 -0800

    [PATCH] cpusets: swap migration interface
    
    Add a boolean "memory_migrate" to each cpuset, represented by a file
    containing "0" or "1" in each directory below /dev/cpuset.
    
    It defaults to false (file contains "0").  It can be set true by writing
    "1" to the file.
    
    If true, then anytime that a task is attached to the cpuset so marked, the
    pages of that task will be moved to that cpuset, preserving, to the extent
    practical, the cpuset-relative placement of the pages.
    
    Also anytime that a cpuset so marked has its memory placement changed (by
    writing to its "mems" file), the tasks in that cpuset will have their pages
    moved to the cpusets new nodes, preserving, to the extent practical, the
    cpuset-relative placement of the moved pages.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d0d963281ccb22e6f339bfdd75c6b2e31351929f
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:00:55 2006 -0800

    [PATCH] SwapMig: Switch error handling in migrate_pages to use -Exx
    
    Use -Exxx instead of numeric return codes and cleanup the code in
    migrate_pages() using -Exx error codes.
    
    Consolidate successful migration handling
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d498471133ff1f9586a06820beaeebc575fe2814
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:55 2006 -0800

    [PATCH] SwapMig: Extend parameters for migrate_pages()
    
    Extend the parameters of migrate_pages() to allow the caller control over the
    fate of successfully migrated or impossible to migrate pages.
    
    Swap migration and direct migration will have the same interface after this
    patch so that patches can be independently applied to the policy layer and the
    core migration code.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee27497df36823f2793212cad0997c044eb0e1eb
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:54 2006 -0800

    [PATCH] SwapMig: Drop unused pages immediately
    
    Drop unused pages immediately
    
    If a page is encountered that is only referenced by the migration code then
    there is no reason to swap or migrate the page.  Release the page by calling
    move_to_lru().
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1480a540c98525640174a7eadd712378fcd6fd63
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:53 2006 -0800

    [PATCH] SwapMig: add_to_swap() avoid atomic allocations
    
    Add gfp_mask to add_to_swap
    
    add_to_swap does allocations with GFP_ATOMIC in order not to interfere with
    swapping.  During migration we may have use add_to_swap extensively which may
    lead to out of memory errors.
    
    This patch makes add_to_swap take a parameter that specifies the gfp mask.
    The page migration code can then make add_to_swap use GFP_KERNEL.
    
    Signed-off-by: Hirokazu Takahashi <taka@valinux.co.jp>
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8419c3181086c86664e8246bc997afc2e4ffba4f
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:52 2006 -0800

    [PATCH] SwapMig: CONFIG_MIGRATION fixes
    
    Move move_to_lru, putback_lru_pages and isolate_lru in section surrounded by
    CONFIG_MIGRATION saving some codesize for single processor kernels.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39743889aaf76725152f16aa90ca3c45f6d52da3
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:51 2006 -0800

    [PATCH] Swap Migration V5: sys_migrate_pages interface
    
    sys_migrate_pages implementation using swap based page migration
    
    This is the original API proposed by Ray Bryant in his posts during the first
    half of 2005 on linux-mm@kvack.org and linux-kernel@vger.kernel.org.
    
    The intent of sys_migrate is to migrate memory of a process.  A process may
    have migrated to another node.  Memory was allocated optimally for the prior
    context.  sys_migrate_pages allows to shift the memory to the new node.
    
    sys_migrate_pages is also useful if the processes available memory nodes have
    changed through cpuset operations to manually move the processes memory.  Paul
    Jackson is working on an automated mechanism that will allow an automatic
    migration if the cpuset of a process is changed.  However, a user may decide
    to manually control the migration.
    
    This implementation is put into the policy layer since it uses concepts and
    functions that are also needed for mbind and friends.  The patch also provides
    a do_migrate_pages function that may be useful for cpusets to automatically
    move memory.  sys_migrate_pages does not modify policies in contrast to Ray's
    implementation.
    
    The current code here is based on the swap based page migration capability and
    thus is not able to preserve the physical layout relative to it containing
    nodeset (which may be a cpuset).  When direct page migration becomes available
    then the implementation needs to be changed to do a isomorphic move of pages
    between different nodesets.  The current implementation simply evicts all
    pages in source nodeset that are not in the target nodeset.
    
    Patch supports ia64, i386 and x86_64.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc9aa5b9d65fd11b1f5246b46ec610ee8b83c6dd
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:50 2006 -0800

    [PATCH] Swap Migration V5: MPOL_MF_MOVE interface
    
    Add page migration support via swap to the NUMA policy layer
    
    This patch adds page migration support to the NUMA policy layer.  An
    additional flag MPOL_MF_MOVE is introduced for mbind.  If MPOL_MF_MOVE is
    specified then pages that do not conform to the memory policy will be evicted
    from memory.  When they get pages back in new pages will be allocated
    following the numa policy.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7cbe34cf86c673503b177ff47cfa2c7030dabb50
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:00:49 2006 -0800

    [PATCH] Swap Migration V5: Add CONFIG_MIGRATION for page migration support
    
    Include page migration if the system is NUMA or having a memory model that
    allows distinct areas of memory (SPARSEMEM, DISCONTIGMEM).
    
    And:
    - Only include lru_add_drain_per_cpu if building for an SMP system.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49d2e9cc4544369635cd6f4ef6d5bb0f757079a7
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:48 2006 -0800

    [PATCH] Swap Migration V5: migrate_pages() function
    
    This adds the basic page migration function with a minimal implementation that
    only allows the eviction of pages to swap space.
    
    Page eviction and migration may be useful to migrate pages, to suspend
    programs or for remapping single pages (useful for faulty pages or pages with
    soft ECC failures)
    
    The process is as follows:
    
    The function wanting to migrate pages must first build a list of pages to be
    migrated or evicted and take them off the lru lists via isolate_lru_page().
    isolate_lru_page determines that a page is freeable based on the LRU bit set.
    
    Then the actual migration or swapout can happen by calling migrate_pages().
    
    migrate_pages does its best to migrate or swapout the pages and does multiple
    passes over the list.  Some pages may only be swappable if they are not dirty.
     migrate_pages may start writing out dirty pages in the initial passes over
    the pages.  However, migrate_pages may not be able to migrate or evict all
    pages for a variety of reasons.
    
    The remaining pages may be returned to the LRU lists using putback_lru_pages().
    
    Changelog V4->V5:
    - Use the lru caches to return pages to the LRU
    
    Changelog V3->V4:
    - Restructure code so that applying patches to support full migration does
      require minimal changes. Rename swapout_pages() to migrate_pages().
    
    Changelog V2->V3:
    - Extract common code from shrink_list() and swapout_pages()
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: "Michael Kerrisk" <mtk-manpages@gmx.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 930d915252edda7042c944ed3c30194a2f9fe163
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:47 2006 -0800

    [PATCH] Swap Migration V5: PF_SWAPWRITE to allow writing to swap
    
    Add PF_SWAPWRITE to control a processes permission to write to swap.
    
    - Use PF_SWAPWRITE in may_write_to_queue() instead of checking for kswapd
      and pdflush
    
    - Set PF_SWAPWRITE flag for kswapd and pdflush
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21eac81f252fe31c3cf64b805a1e8652192f3a3b
Author: Christoph Lameter <clameter@sgi.com>
Date:   Sun Jan 8 01:00:45 2006 -0800

    [PATCH] Swap Migration V5: LRU operations
    
    This is the start of the `swap migration' patch series.
    
    Swap migration allows the moving of the physical location of pages between
    nodes in a numa system while the process is running.  This means that the
    virtual addresses that the process sees do not change.  However, the system
    rearranges the physical location of those pages.
    
    The main intent of page migration patches here is to reduce the latency of
    memory access by moving pages near to the processor where the process
    accessing that memory is running.
    
    The patchset allows a process to manually relocate the node on which its
    pages are located through the MF_MOVE and MF_MOVE_ALL options while
    setting a new memory policy.
    
    The pages of process can also be relocated from another process using the
    sys_migrate_pages() function call.  Requires CAP_SYS_ADMIN.  The migrate_pages
    function call takes two sets of nodes and moves pages of a process that are
    located on the from nodes to the destination nodes.
    
    Manual migration is very useful if for example the scheduler has relocated a
    process to a processor on a distant node.  A batch scheduler or an
    administrator can detect the situation and move the pages of the process
    nearer to the new processor.
    
    sys_migrate_pages() could be used on non-numa machines as well, to force all
    of a particualr process's pages out to swap, if someone thinks that's useful.
    
    Larger installations usually partition the system using cpusets into sections
    of nodes.  Paul has equipped cpusets with the ability to move pages when a
    task is moved to another cpuset.  This allows automatic control over locality
    of a process.  If a task is moved to a new cpuset then also all its pages are
    moved with it so that the performance of the process does not sink
    dramatically (as is the case today).
    
    Swap migration works by simply evicting the page.  The pages must be faulted
    back in.  The pages are then typically reallocated by the system near the node
    where the process is executing.
    
    For swap migration the destination of the move is controlled by the allocation
    policy.  Cpusets set the allocation policy before calling sys_migrate_pages()
    in order to move the pages as intended.
    
    No allocation policy changes are performed for sys_migrate_pages().  This
    means that the pages may not faulted in to the specified nodes if no
    allocation policy was set by other means.  The pages will just end up near the
    node where the fault occurred.
    
    There's another patch series in the pipeline which implements "direct
    migration".
    
    The direct migration patchset extends the migration functionality to avoid
    going through swap.  The destination node of the relation is controllable
    during the actual moving of pages.  The crutch of using the allocation policy
    to relocate is not necessary and the pages are moved directly to the target.
    Its also faster since swap is not used.
    
    And sys_migrate_pages() can then move pages directly to the specified node.
    Implement functions to isolate pages from the LRU and put them back later.
    
    This patch:
    
    An earlier implementation was provided by Hirokazu Takahashi
    <taka@valinux.co.jp> and IWAMOTO Toshihiro <iwamoto@valinux.co.jp> for the
    memory hotplug project.
    
    From: Magnus
    
    This breaks out isolate_lru_page() and putpack_lru_page().  Needed for swap
    migration.
    
    Signed-off-by: Magnus Damm <magnus.damm@gmail.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15316ba81aee6775d6079fb46c66c801989e7d10
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:00:43 2006 -0800

    [PATCH] add schedule_on_each_cpu()
    
    swap migration's isolate_lru_page() currently uses an IPI to notify other
    processors that the lru caches need to be drained if the page cannot be
    found on the LRU.  The IPI interrupt may interrupt a processor that is just
    processing lru requests and cause a race condition.
    
    This patch introduces a new function run_on_each_cpu() that uses the
    keventd() to run the LRU draining on each processor.  Processors disable
    preemption when dealing the LRU caches (these are per processor) and thus
    executing LRU draining from another process is safe.
    
    Thanks to Lee Schermerhorn <lee.schermerhorn@hp.com> for finding this race
    condition.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48db57f8ff10eb09ab887ccb6150b0da0c7be24e
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:00:42 2006 -0800

    [PATCH] mm: free_pages opt
    
    Try to streamline free_pages_bulk by ensuring callers don't pass in a
    'count' that exceeds the list size.
    
    Some cleanups:
    Rename __free_pages_bulk to __free_one_page.
    Put the page list manipulation from __free_pages_ok into free_one_page.
    Make __free_pages_ok static.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 23316bc86fd31c5d644a71c398ec41d9fecacec4
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Jan 8 01:00:41 2006 -0800

    [PATCH] mm: cleanup zone_pcp
    
    Use zone_pcp everywhere even though NUMA code "knows" the internal details
    of the zone.  Stop other people trying to copy, and it looks nicer.
    
    Also, only print the pagesets of online cpus in zoneinfo.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Christoph Lameter <christoph@lameter.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8ad4b1fb8205340dba16b63467bb23efc27264d6
Author: Rohit Seth <rohit.seth@intel.com>
Date:   Sun Jan 8 01:00:40 2006 -0800

    [PATCH] Make high and batch sizes of per_cpu_pagelists configurable
    
    As recently there has been lot of traffic on the right values for batch and
    high water marks for per_cpu_pagelists.  This patch makes these two
    variables configurable through /proc interface.
    
    A new tunable /proc/sys/vm/percpu_pagelist_fraction is added.  This entry
    controls the fraction of pages at most in each zone that are allocated for
    each per cpu page list.  The min value for this is 8.  It means that we
    don't allow more than 1/8th of pages in each zone to be allocated in any
    single per_cpu_pagelist.
    
    The batch value of each per cpu pagelist is also updated as a result.  It
    is set to pcp->high/4.  The upper limit of batch is (PAGE_SHIFT * 8)
    
    Signed-off-by: Rohit Seth <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d0243bca345d5ce25d3f4b74b7facb3a6df1232
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:00:39 2006 -0800

    [PATCH] drop-pagecache
    
    Add /proc/sys/vm/drop_caches.  When written to, this will cause the kernel to
    discard as much pagecache and/or reclaimable slab objects as it can.  THis
    operation requires root permissions.
    
    It won't drop dirty data, so the user should run `sync' first.
    
    Caveats:
    
    a) Holds inode_lock for exorbitant amounts of time.
    
    b) Needs to be taught about NUMA nodes: propagate these all the way through
       so the discarding can be controlled on a per-node basis.
    
    This is a debugging feature: useful for getting consistent results between
    filesystem benchmarks.  We could possibly put it under a config option, but
    it's less than 300 bytes.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bec6b0c89b234090681a4516e20ac5debe3e7c59
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Jan 8 01:00:38 2006 -0800

    [PATCH] slab: remove nested #ifdef CONFIG_NUMA
    
    For some reason there is an #ifdef CONFIG_NUMA within another #ifdef
    CONFIG_NUMA in the page allocator.  Remove innermost #ifdef CONFIG_NUMA
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b28a02de8c70d41d6b6ba8911e83ed3ccf2e13f8
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Jan 8 01:00:37 2006 -0800

    [PATCH] slab: fix code formatting
    
    The slab allocator code is inconsistent in coding style and messy.  For this
    patch, I ran Lindent for mm/slab.c and fixed up goofs by hand.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d268eba1187ef66844a6a33b9431e5d0dadd4ad
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Jan 8 01:00:36 2006 -0800

    [PATCH] slab: extract slab order calculation to separate function
    
    This patch moves the ugly loop that determines the 'optimal' size (page order)
    of cache slabs from kmem_cache_create() to a separate function and cleans it
    up a bit.
    
    Thanks to Matthew Wilcox for the help with this patch.
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85289f98ddc13f6cea82c59d6ff78f9d205dfccc
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Jan 8 01:00:36 2006 -0800

    [PATCH] slab: extract slabinfo header printing to separate function
    
    This patch extracts slabinfo header printing to a separate function
    print_slabinfo_header() to make s_start() more readable.
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9f7500521b25dbf1aba476b81230489ad8e2c4b
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Jan 8 01:00:33 2006 -0800

    [PATCH] slab: remove unused align parameter from alloc_percpu
    
    __alloc_percpu and alloc_percpu both take an 'align' argument which is
    completely ignored.  snmp6_mib_init() in net/ipv6/af_inet6.c attempts to use
    it, but it will be ignored.  Therefore, remove the 'align' argument and fixup
    the lone caller.
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b792de39d892e06b18ddea85be076bae123d6bf6
Author: Olaf Hering <olh@suse.de>
Date:   Sun Jan 8 01:00:32 2006 -0800

    [PATCH] Fix compilation with CONFIG_MEMORY_HOTPLUG=y and gcc41.
    
    Fix compilation with CONFIG_MEMORY_HOTPLUG=y and gcc41.
    Also remove unneeded declations, add a public function.
    
    drivers/base/memory.c:53: error: static declaration of 'register_memory_notifier' follows non-static declaration
    include/linux/memory.h:85: error: previous declaration of 'register_memory_notifier' was here
    drivers/base/memory.c:58: error: static declaration of 'unregister_memory_notifier' follows non-static declaration
    include/linux/memory.h:86: error: previous declaration of 'unregister_memory_notifier' was here
    drivers/base/memory.c:68: error: static declaration of 'register_memory' follows non-static declaration
    include/linux/memory.h:73: error: previous declaration of 'register_memory' was here
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4dab06fa7b6d07ee95c8bba5ddd0840633069159
Author: Woody Suwalski <woodys@xandros.com>
Date:   Sun Jan 8 01:00:31 2006 -0800

    [PATCH] ARM Netwinder watchdog wdt977 update
    
    Cleanup for the ARM-only watchdog driver wdt977.
    
    This is probably the last update, since we want to merge with w83977f_wdt.
    Jose Goncalves has ported this driver to i386, so probably we can iron out
    configuration differences.
    
    Signed-off-by: Woody Suwalski <woodys@xandros.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70c00ba0bbfb583e39b964ebd88620c18aa02c62
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Sun Jan 8 01:00:29 2006 -0800

    [PATCH] small hp_sdc_rtc cleanup: use no_llseek
    
    Use no_llseek function.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Cc: "Brian S. Julin" <bri@calyx.com>
    Acked-by: Vojtech Pavlik <vojtech@suse.cz>
    Cc: Dmitry Torokhov <dtor_core@ameritech.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5998bf1ddb5fb236597190b2274d357add63fd7e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:00:29 2006 -0800

    [PATCH] asm-generic/atomic.h needs types.h
    
    For BITS_PER_LONG
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84c2008af01132c4ca257ed9b595693c611df15d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 8 01:00:28 2006 -0800

    [PATCH] revert "mm: page_state fixes"
    
    Hugh says:
    
    page_alloc_cpu_notify() specifically contains code to
    
     		/* Add dead cpu's page_states to our own. */
    
    which handles this more efficiently.
    
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1333803c3a8fb167ba67ffc5540dbb53fa7deb3
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Dec 16 14:49:25 2005 +1100

    [PATCH] powerpc: Fix iSeries bug in VMALLOCBASE/VMALLOC_START consolidation
    
    Oops, forgot to compile the VMALLOCBASE/VMALLOC_START patch on
    iSeries.  VMALLOC_START is defined in pgtable.h whereas previously
    VMALLOCBASE was previously defined in page.h.  lparmap.c needs to be
    updated appropriately.
    
    Booted on iSeries RS64 (now).
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 555d97ac87aef08bb55dff6f05e68fe2987d6f6d
Author: Andy Fleming <afleming@freescale.com>
Date:   Thu Dec 15 20:02:04 2005 -0600

    [PATCH] powerpc: G4+ oprofile support
    
    This patch adds oprofile support for the 7450 and all its multitudinous
    derivatives.
    
    * Added 7450 (and derivatives) support for oprofile
    * Changed e500 cputable to have oprofile model and cpu_type fields
    * Added support for classic 32-bit performance monitor interrupt
    * Cleaned up common powerpc oprofile code to be as common as possible
    * Cleaned up oprofile_impl.h to reflect 32 bit classic code
    * Added 32-bit MMCRx bitfield definitions and SPR numbers
    
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e5cd040409dc0f8d34a21827d6b74918b3a4fccf
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Mon Dec 19 15:49:07 2005 -0600

    [PATCH] powerpc: Fix compile problem in pci.c for ppc32
    
    pci_address_to_pio is missing a closing curly brace
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f2c4583a381c584c8c025048071a120cc9562ded
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Dec 15 15:00:57 2005 +1100

    [PATCH] powerpc: pci_address_to_pio fix
    
    This fixes pci_address_to_pio() to return an unsigned long (to be safe)
    and fixes a bug in the implementation that caused it to return a bogus
    IO port number
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a04c8780fd234aeeba5e87f7e37beffd05ef21ae
Author: Kristian Mueller <Kristian-M@Kristian-M.de>
Date:   Thu Dec 15 12:31:55 2005 +0800

    [PATCH] via-pmu: compile without Power Management support
    
    Fix compilation of via-pmu.c without Power Management support.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 14c89e7fc84ae55354b8bf12fee1b6d14f259c8a
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Dec 14 16:08:40 2005 +1100

    [PATCH] powerpc: Replace VMALLOCBASE with VMALLOC_START
    
    On ppc64, we independently define VMALLOCBASE and VMALLOC_START to be
    the same thing: the start of the vmalloc() area at 0xd000000000000000.
    VMALLOC_START is used much more widely, including in generic code, so
    this patch gets rid of the extraneous VMALLOCBASE.
    
    This does require moving the definitions of region IDs from page_64.h
    to pgtable.h, but they don't clearly belong in the former rather than
    the latter, anyway.  While we're moving them, clean up the definitions
    of the REGION_IDs:
    	- Abolish REGION_SIZE, it was only used once, to define
    REGION_MASK anyway
    	- Define the specific region ids in terms of the REGION_ID()
    macro.
    	- Define KERNEL_REGION_ID in terms of PAGE_OFFSET rather than
    KERNELBASE.  It amounts to the same thing, but conceptually this is
    about the region of the linear mapping (which starts at PAGE_OFFSET)
    rather than of the kernel text itself (which is at KERNELBASE).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 56c8eaee65d688b526c12dca54a30276335679e5
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Dec 19 16:49:07 2005 +1100

    [PATCH] powerpc: Fix g5 DART init
    
    The patch enabling the new G5's with U4 broke initialization of the DART
    driver, causing it to trigger a BUG_ON for a case that is actually
    valid. This patch fixes it:
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a6230af7bdffcd3837cb9fbefc17aa6aaada486c
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Jan 8 20:04:55 2006 -0800

    [CIFS] Minor cleanup to new cifs acl header.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1beb6a7d6cbed3ac03500ce9b5b9bb632c512039
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Dec 14 13:10:10 2005 +1100

    [PATCH] powerpc: Experimental support for new G5 Macs (#2)
    
    This adds some very basic support for the new machines, including the
    Quad G5 (tested), and other new dual core based machines and iMac G5
    iSight (untested). This is still experimental !  There is no thermal
    control yet, there is no proper handing of MSIs, etc.. but it
    boots, I have all 4 cores up on my machine. Compared to the previous
    version of this patch, this one adds DART IOMMU support for the U4
    chipset and thus should work fine on setups with more than 2Gb of RAM.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cd0c7f06803be06a5cf4564aa5a900f4b6aea603
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Dec 13 14:46:29 2005 -0600

    [PATCH] powerpc: Detect prefetchable windows in pci_process_bridge_OF_ranges
    
    Added the ability to determine if an outbound window in the PCI host
    controller is for prefetchable memory and report it as such.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 31087d7d49bf5fc9cbc2c4852a079213755e8733
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Tue Dec 13 13:46:36 2005 -0600

    [PATCH] powerpc: export PCI fixup routine
    
    There is code in the RPAPHP directory that is identical to this routine;
    I'll be removing that code in an upcoming patch, but this patch is needed
    to expose the function to make it callable.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c4b22f268914ff824a6334b62afd23f7ad79df11
Author: Segher Boessenkool <segher@kernel.crashing.org>
Date:   Tue Dec 13 18:04:29 2005 +1100

    [PATCH] powerpc: Update MPIC workarounds
    
    Cleanup the MPIC IO-APIC workarounds, make them a bit more generic,
    smaller and faster.
    
    Signed-off-by: Segher Boessenkool <segher@kernel.crashing.org>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cc5d0189b9ba95260857a5018a1c2fef90008507
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Dec 13 18:01:21 2005 +1100

    [PATCH] powerpc: Remove device_node addrs/n_addr
    
    The pre-parsed addrs/n_addrs fields in struct device_node are finally
    gone. Remove the dodgy heuristics that did that parsing at boot and
    remove the fields themselves since we now have a good replacement with
    the new OF parsing code. This patch also fixes a bunch of drivers to use
    the new code instead, so that at least pmac32, pseries, iseries and g5
    defconfigs build.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9cf84d7c97992dbe5360b241327341c07ce30fc9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Dec 13 17:48:35 2005 +1100

    [PATCH] powerpc: Fix platinumfb for some modes
    
    The platinumfb driver used only on some powermacs has an issue with some
    video modes & limited VRAM. This patch fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f75225d0a01e4f468b0395b02e549d2763bbabfb
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Dec 13 17:46:23 2005 +1100

    [PATCH] powerpc: Add pmac32 defconfig for ARCH=powerpc
    
    This adds a defconfig for PowerMac with ARCH=powerpc
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 448b2719408c736080e1147c615ccefce16ede41
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Dec 13 07:56:54 2005 +1100

    [PATCH] powerpc: Remove old comment in head.S
    
    Remove a comment in head.S which is no longer relevant.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2406f6063a9caa8ea39e4040e1759db553388caf
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Dec 13 07:45:33 2005 +1100

    [PATCH] powerpc: Dont set 32bit cputable bits on 64bit
    
    Milton and I were looking at the cputable code and it looks like we can
    set spurious bits on 64bit.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4b703a231799f43f3414b62300b8ad6736a4aa9d
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Dec 13 06:56:47 2005 +1100

    [PATCH] ppc64: Add NUMA cpu summary at boot
    
    We used to print a NUMA cpu summary at boot before the hotplug cpu code
    was added. This has been useful for catching machine configuration as
    well as firmware bugs in the past.
    
    This patch restores that functionality. An example of the output is:
    
    Node 0 CPUs: 0-7
    Node 1 CPUs: 8-15
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2c066042ecc3b0d811440002b74fa3778d4432cb
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Sun Dec 11 01:50:03 2005 +0100

    [PATCH] Documentation/powerpc: index update
    
    Add three files not mentioned in Documentation/powerpc/00-INDEX.
    Sort alphabetically.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f9ce299fc629d5c899a2e56b00e21f5da05cf590
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 9 19:21:44 2005 +0100

    [PATCH] powerpc: fix large nvram access
    
    /dev/nvram uses the user-provided read/write size
    for kmalloc, which fails, if a large number is passed.
    This will always use a single page at most, which
    can be expected to succeed.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d52771fce4e774fa786097d34412a057d487c697
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Fri Dec 9 19:04:21 2005 +0100

    [PATCH] powerpc/cell: disable legacy i/o area
    
    We currently crash in the fedora installer because the keyboard
    driver tries to access I/O space that is not there on our hardware.
    
    This uses the same solution as powermac by just marking all
    legacy i/o as invalid.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 49d65b3ac5614431041abcd2eabc0d77eff5e32d
Author: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
Date:   Fri Dec 9 19:04:20 2005 +0100

    [PATCH] powerpc/cell: add iommu support for larger memory
    
    So far, the iommu code was hardwired to a linear mapping
    between 0x20000000 and 0x40000000, so it could only support
    512MB of RAM.
    
    This patch still keeps the linear mapping, but looks for
    proper ibm,dma-window properties to set up larger windows,
    this makes the maximum supported RAM size 2GB.
    
    If there is anything unusual about the dma-window properties,
    we fall back to the old behavior.
    
    We also support switching off the iommu completely now
    with the regular iommu=off command line option.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 38307341af3a0be8ec5319756361b51ac29dffc7
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 9 19:04:18 2005 +0100

    [PATCH] spufs: clear dsisr on CLASS1[Mf] exception
    
    Because of always clearing DSISR at spu class 1 interrupt handler,
    kernel may lose Class1[Mf] interrupt.
    
    Signed-off-by: Masato Noguchi <Masato.Noguchi@jp.sony.com>
    Signed-off-by: Geoff Levand <geoff.levand@am.sony.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 462c853eb574bc7843d9c56e84aca129aaa8e018
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 9 19:04:17 2005 +0100

    [PATCH] spufs: fix hexdump format
    
    Output from hexdump with "%08x" depends on HOST platform's endian.
    When building linux by cross toolchain, that difference makes errors.
    
    Signed-off-by: Masato Noguchi <Masato.Noguchi@jp.sony.com>
    Signed-off-by: Geoff Levand <geoff.levand@am.sony.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7945a4a27d5d914918b7637b055e01abfe05906e
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 9 19:04:16 2005 +0100

    [PATCH] spufs: trivial compile fix
    
    One of my last patches contained a broken line
    from splitting out some other changes, this
    restores a working version.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 59d6d39f30f4460b7e6489831caf7fbfe371941a
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Fri Dec 9 19:04:15 2005 +0100

    [PATCH] spufs: fix module refcount race
    
    One of the two users of spufs_calls.owner still has a race
    when calling try_module_get while the module is removed.
    This makes it use the correct instance of owner.
    
    Noticed by Milton Miller.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a819f8ba76e81669fcc2665ac532cac650694b99
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Fri Dec 9 11:57:44 2005 -0600

    [PATCH] ppc32: Add TQM85xx (8540/8541/8555/8560) board support
    
    This patch adds support for the TQ Components TQM85xx modules. Currently the
    modules TQM8540/8541/8555/8560 are supported.
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dad482c25698134b79c80694c81f0495019e0842
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:29 2005 -0500

    [PATCH] cell: add platform detection code
    
    I can't really get a conclusive answer from the firmware
    people what to check for, so I just try scanning for
    anything that starts with "IBM,CPB", which should be
    correct for all hardware produced so far and for
    systemsim.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3a843d7cd30ab6815610d9d6aa66b56df0ee1228
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:27 2005 -0500

    [PATCH] spufs: fix mailbox polling
    
    Handling mailbox interrupts was broken in multiple respects,
    the combination of which was hiding the bugs most of the time.
    
    - The ibox interrupt mask was open initially even though there
      are no waiters on a newly created SPU.
    
    - Acknowledging the mailbox interrupt did not work because
      it is level triggered and the mailbox data is never retrieved
      from inside the interrupt handler.
    
    - The interrupt handler delivered interrupts with a disabled
      mask if another interrupt is triggered for the same class
      but a different mask.
    
    - The poll function did not enable the interrupt if it had not
      been enabled, so we might run into the poll timeout if none of
      the other bugs saved us and no signal was delivered.
    
    We probably still have a similar problem with blocking
    read/write on mailbox files, but that will result in extra
    wakeup in the worst case, not in incorrect behaviour.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2a911f0bb73e67826062b7d073dd7367ca449724
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:26 2005 -0500

    [PATCH] spufs: Improved SPU preemptability [part 2].
    
    This patch reduces lock complexity of SPU scheduler, particularly
    for involuntary preemptive switches.  As a result the new code
    does a better job of mapping the highest priority tasks to SPUs.
    
    Lock complexity is reduced by using the system default workqueue
    to perform involuntary saves.  In this way we avoid nasty lock
    ordering problems that the previous code had.  A "minimum timeslice"
    for SPU contexts is also introduced.  The intent here is to avoid
    thrashing.
    
    While the new scheduler does a better job at prioritization it
    still does nothing for fairness.
    
    From: Mark Nutter <mnutter@us.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5110459f181ef1f11200bb3dec61953f08cc49e7
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:25 2005 -0500

    [PATCH] spufs: Improved SPU preemptability.
    
    This patch makes it easier to preempt an SPU context by
    having the scheduler hold ctx->state_sema for much shorter
    periods of time.
    
    As part of this restructuring, the control logic for the "run"
    operation is moved from arch/ppc64/kernel/spu_base.c to
    fs/spufs/file.c.  Of course the base retains "bottom half"
    handlers for class{0,1} irqs.  The new run loop will re-acquire
    an SPU if preempted.
    
    From: Mark Nutter <mnutter@us.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3b3d22cb84a0bb12f6bbb2b1158972894bec3f21
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:24 2005 -0500

    [PATCH] spufs: Turn off debugging output
    
    spufs is rather noisy when debugging is enabled, this
    turns off the messages for production use.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b41305a39a6966d8e8b1449d6b7c194923bfb451
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:23 2005 -0500

    [PATCH] spufs: Fix oops when spufs module is not loaded
    
    try_module_get returns true when NULL arguments, so
    we first need to check if there is a module loaded before
    getting the reference count.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d88cfffac0002c56c1a7a813cb885fa6b5fdcd0e
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:22 2005 -0500

    [PATCH] spufs: fix local store page refcounting
    
    With the new rules for reserved pages, the spufs now
    needs working page reference counting.
    
    I should probably look into converting to vm_insert_page,
    but for now this patch makes spufs work again.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 39c73c332c8264c0a3a1ce58aa3eae52d17af025
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Dec 5 22:52:21 2005 -0500

    [PATCH] spufs: Make all exports GPL-only
    
    This changes all exported symbols of spufs to EXPORT_SYMBOL_GPL.
    The spu_ibox_read/spu_wbox_write symbols are not exported
    any more when the scheduler patch is applied.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ba7594852f4e7121b3f037d59f983637b795f0dd
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:55 2005 +1100

    [PATCH] powerpc: Add support for "linux,usable-memory" on memory nodes
    
    Milton has proposed that we should support a "linux,usable-memory" property
    on memory nodes which describes, in preference to "reg", the regions of memory
    Linux should use.
    
    This facility is required for kdump to inform the second kernel which memory
    it should use.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 54c32021eb6feafc32e90104e960b38301521b7b
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:51 2005 +1100

    [PATCH] powerpc: Add arch-dependent copy_oldmem_page
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dcee30361d25ea83499a99f921f9a56b4a1a79e7
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:48 2005 +1100

    [PATCH] powerpc: Parse crashkernel= parameter in first kernel
    
    This patch adds code to parse and setup the crash kernel resource in the
    first kernel. PPC64 ignores the @x part, we always run at 32 MB.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cc53291521701f9c7c7265bbb3c140563174d8b2
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:43 2005 +1100

    [PATCH] powerpc: Add arch dependent basic infrastructure for Kdump.
    
    Implementing the machine_crash_shutdown which will be called by
    crash_kexec (called in case of a panic, sysrq etc.). Disable the
    interrupts, shootdown cpus using debugger IPI and collect regs
    for all CPUs.
    
    elfcorehdr= specifies the location of elf core header stored by
    the crashed kernel. This command line option will be passed by
    the kexec-tools to capture kernel.
    
    savemaxmem= specifies the actual memory size that the first kernel
    has and this value will be used for dumping in the capture kernel.
    This command line option will be passed by the kexec-tools to
    capture kernel.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 758438a7b8da593c9116e95cc7fdff6e9e0b0c40
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Dec 5 15:49:00 2005 -0600

    [PATCH] powerpc: Fixups for kernel linked at 32 MB
    
    There's a few places where we need to fix things up for the kernel to work
    if it's linked at 32MB:
    
     - platforms/powermac/smp.c
       To start secondary cpus on pmac we patch the reset vector, which is fine.
       Except if we're above 32MB we don't have enough bits for an absolute branch,
       it needs to relative.
     - kernel/head_64.s
        - A few branches in the cpu hold code need to load the full target address
          and do a bctr.
        - after_prom_start needs to load PHYSICAL_START as the dest address, not 0.
        - The exception prolog needs to load the low word of the target adddress,
          not just the low halfword.
        - Fixup handling of the initial stab address.
     - kernel/setup_64.c
       smp_release_cpus() needs to write 1 to the spinloop flag near 0, not 32 MB.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0cc4746cadda16826a1b3214c042a2f75445b71c
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:37 2005 +1100

    [PATCH] powerpc: Reroute interrupts from 0 + offset to PHYSICAL_START + offset
    
    Regardless of where the kernel's linked we always get interrupts at low
    addresses. This patch creates a trampoline in the first 3 pages of memory,
    where interrupts land, and patches those addresses to jump into the real
    kernel code at PHYSICAL_START.
    
    We also need to reserve the trampoline code and a bit more in prom.c
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8c4f1f2958ff9d4a6760f3bdd0cfb7d2b9e12093
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:33 2005 +1100

    [PATCH] powerpc: Create a trampoline for the fwnmi vectors
    
    The fwnmi vectors can be anywhere < 32 MB, so we need to use a trampoline
    for them. The kdump kernel will register the trampoline addresses, which will
    then jump up to the real code above 32 MB.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 398ab1fcb960ea0800f40a9c36355855e3e23389
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:23 2005 +1100

    [PATCH] powerpc: Add CONFIG_CRASH_DUMP
    
    This patch adds a Kconfig variable, CONFIG_CRASH_DUMP, which configures the
    built kernel for use as a Kdump kernel.
    
    Currently "all" this involves is changing the value of KERNELBASE to 32 MB.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4693c09a47203d79a9adb69acaf3b3bb3dcf9390
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Dec 7 14:52:16 2005 +1100

    powerpc: Fix typo in head_64.S
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d4e4b3520c4df46cf1d15a56379a6fa57e267b7d
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Dec 7 13:01:05 2005 +1100

    [PATCH] powerpc: fix for "Update OF address parsers"
    
    This allows iSeries to build again.  It just moves pci_address_to_pio
    outside the #ifdef CONFIG_PPC_MULTIPLATFORM.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e07102db63d10d9f9d94d21dfdb1178e65154b9e
Author: Linas Vepstas <linas@austin.ibm.com>
Date:   Mon Dec 5 19:37:35 2005 -0600

    [PATCH] powerpc: minor cleanup of void ptr deref
    
    Minor: use macro to perform void pointer deref; this may someday help
    avoid pointer typecasting errors.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 398f68580f3edd99728028facf571e4a07f9a035
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Dec 5 19:31:36 2005 -0200

    [PATCH] powerpc/8xx: Fix m8xx_wdt issues
    
    The following fixes some issues with the last mpc8xx_wdt update:
    
    - Adds missing #include <asm/io.h>
    - Use "uint __iomem" pointer for in_be32/out_be32
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 237a0989e2902b7d43c4228a36d82f8691fb2118
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Dec 5 12:06:42 2005 -0800

    [PATCH] powerpc: numa placement for dynamically added memory
    
    This places dynamically added memory within the appropriate
    numa node.  A new routine hot_add_scn_to_nid() replicates most of
    the memory scanning code in parse_numa_properties().
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b5666f70395016a55cc9d57826508b8a346398d0
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Dec 5 10:24:33 2005 -0600

    [PATCH] powerpc: Separate usage of KERNELBASE and PAGE_OFFSET
    
    This patch separates usage of KERNELBASE and PAGE_OFFSET. I haven't
    looked at any of the PPC32 code, if we ever want to support Kdump on
    PPC we'll have to do another audit, ditto for iSeries.
    
    This patch makes PAGE_OFFSET the constant, it'll always be 0xC * 1
    gazillion for 64-bit.
    
    To get a physical address from a virtual one you subtract PAGE_OFFSET,
    _not_ KERNELBASE.
    
    KERNELBASE is the virtual address of the start of the kernel, it's
    often the same as PAGE_OFFSET, but _might not be_.
    
    If you want to know something's offset from the start of the kernel
    you should subtract KERNELBASE.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 51fae6de24da57bc6cdaa1b253595c3513ecbf2d
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:15 2005 +1100

    [PATCH] powerpc: Add a is_kernel_addr() macro
    
    There's a bunch of code that compares an address with KERNELBASE to see if
    it's a "kernel address", ie. >= KERNELBASE. The proper test is actually to
    compare with PAGE_OFFSET, since we're going to change KERNELBASE soon.
    
    So replace all of them with an is_kernel_addr() macro that does that.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cd0ca2ce4b2f4a5132e7e230be8a510755c20870
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sun Dec 4 18:39:12 2005 +1100

    [PATCH] powerpc: Propagate regs through to machine_crash_shutdown
    
    Currently machine_crash_shutdown() gets a struct pt_regs, but doesn't pass it
    through to the ppc_md function, it should.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e40c7f02723e2be5d3144917191aa9fbec5bb64e
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Tue Nov 29 19:25:54 2005 +0000

    [PATCH] powerpc32: fix definition of distribute_irqs
    
    When we select ppc32 under the powerpc architecture we get the
    error below.  This relates to defining distribute_irqs when this
    configuratiom option is undefined.
    
          CC      arch/powerpc/sysdev/mpic.o
        .../arch/powerpc/sysdev/mpic.c: In function `mpic_setup_this_cpu':
        .../arch/powerpc/sysdev/mpic.c:788: error: `CONFIG_IRQ_ALL_CPUS'
    	undeclared (first use in this function)
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9100b205fdc70b300894954ebebbf2709c5ed525
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Tue Nov 29 19:20:55 2005 +0000

    [PATCH] powerpc32: clean up available memory models
    
    Clean up the currently available memory models for ppc32 under
    the powerpc architecture.  We need FLATMEM for ppc32: enable it.
    SPARSEMEM is not parameterised for ppc32 so disable that.  Take this
    opportunity to clean up white space for FLATMEM_ENABLE.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7b653cafcbf187c6d86ee3551e4d73a610f18d27
Author: Otavio Salvador <otavio@debian.org>
Date:   Sat Dec 3 16:42:25 2005 -0200

    [PATCH] ppc: removed unused variable i from code.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 84c9fdd11e40f46028ff4669bfe5177ce9521266
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Wed Nov 30 13:47:23 2005 -0800

    [PATCH] powerpc: Minor numa memory code cleanup
    
    Here is an updated version of the patch that panics if no memory is
    found as Nathan suggested.  I'm still concerned that panic strings
    (not just the one added here) at this stage of booting do not show
    up on my system.  But, that is an issue separate from this patch.
    
    Combine get_mem_*_cells() routines to avoid multiple memory node
    lookups.  Added missing of_node_put() call.  Changed variable names
    to help with some confusion as to meaning.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 54c233102f3680c7f08b6f06d229cc48503b79c4
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Dec 5 15:50:39 2005 +1100

    Revert "[PATCH] powerpc: Minor numa memory code cleanup"
    
    This reverts f1fdc0117004d343698b9830e141491d5ae320d1 commit.

commit d2dd482bc17c3bc240045f80a7c4b4d5cea5e29c
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 30 16:57:28 2005 +1100

    [PATCH] powerpc: Update OF address parsers
    
    This updates the OF address parsers to return the IO flags
    indicating the type of address obtained. It also adds a PCI
    call for converting physical addresses that hit IO space into
    into IO tokens, and add routines that return the translated
    addresses into struct resource
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bb6b9b28d6847bc71f910e2e82c9040ff4b97ec0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 30 16:54:12 2005 +1100

    [PATCH] powerpc: udbg updates
    
    The udbg low level io layer has an issue with udbg_getc() returning a
    char (unsigned on ppc) instead of an int, thus the -1 if you had no
    available input device could end up turned into 0xff, filling your
    display with bogus characters. This fixes it, along with adding a little
    blob to xmon to do a delay before exiting when getting an EOF and fixing
    the detection of ADB keyboards in udbg_adb.c
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 54b9a9aedc990dd2aefc45ab16d84f245cb7d8d0
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Wed Nov 30 17:35:01 2005 +0000

    [PATCH] powerpc: powermac adb fix udbg_adb_use_btext warning
    
    When compiling without BOOTX_TEXT the following warning is emitted.
    Fix up the definition to only be made when required.
    
          CC      arch/powerpc/platforms/powermac/udbg_adb.o
        .../arch/powerpc/platforms/powermac/udbg_adb.c:41: warning:
    		`udbg_adb_use_btext' defined but not used
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 52020d2bda9fe447bb50674a2e39e4064b6a10b5
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Wed Nov 30 17:34:50 2005 +0000

    [PATCH] powerpc: powermac adb fix dependency on btext_drawchar
    
    udbg_adb_init() has become dependent on btext_drawchar, even when
    BOOTX_TEXT support is not selected.  This leads to the error below.
    Make the check dependant on BOOTX_TEXT.
    
          LD      .tmp_vmlinux1
        arch/powerpc/platforms/built-in.o(.toc1+0xa40): undefined
    					reference to `btext_drawchar'
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2bf6a8fa21570f37fd1789610da30f70a05ac5e3
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:52:16 2005 -0600

    [PATCH] powerpc: migrate common PCI hotplug code
    
    23-rpaphp-migrate.patch (parts)
    
    This patch moves some pci device add & remove code from the PCI
    hotplug directory to the arch/powerpc/kernel directory, and cleans
    it up a tad. The primary reason for this is that the code performs
    some fairly generic operations that are shared with the PCI error
    recovery code (living in the arch/powerpc/kernel directory).
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit facf07870b6103b8f9b6c872e3cb1032c5185d0b
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:52:01 2005 -0600

    [PATCH] powerpc: make pcibios_claim_one_bus available to other code
    
    22-rpaphp-eliminate-dupe-code.patch (parts)
    
    The RPAPHP code contains two routines that appear to be gratuitous
    copies of very similar pci code.  In particular,
    
       rpaphp_claim_resource ~~ pci_claim_resource
       rpadlpar_claim_one_bus == pcibios_claim_one_bus
    
    This makes pcibios_claim_one_bus from arch/powerpc/kernel/pci_64.c
    available to the RPAPHP code.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e2a296eeaa344450196e910a136ab14119d7ae48
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:51:31 2005 -0600

    [PATCH] powerpc: PCI hotplug common code elimination
    
    20-rpaphp-eeh-cleanup.patch
    
    This patch move some code from the rpaphp directory, to the powerpc
    directory, where it should have been all along (Among other things, I
    need it in the powerpc directory for the PCI error recovery.)
    
    Please note that patch affects TWO maintainers: Paul, after applying
    the powerpc part, please ask that GregKH appli the PCI part. It is safe
    to have the powerpc part go in first. It would be bad to have the
    PCI part go in first.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 74761bb53df1e2d603937b6abbd8437b03840e38
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Nov 28 16:33:24 2005 -0800

    [PATCH] powerpc: Minor numa memory code cleanup
    
    I started to add missing of_node_put() calls to the routines that
    determine the number of cells for memory.  Decided to combine the
    routines instead of making separate node lookups.  Changed variable
    names to help with some confusion as to meaning.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8dacaedf04467e32c50148751a96150e73323cdc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Nov 29 11:21:59 2005 +1100

    [PATCH] powerpc: More serial probe fixes (#2)
    
    This fixes the new serial probe code with some PCI MMIO UARTs, and fixes
    CHRP build with ARCH=powerpc.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1c3eb629102bd4e327cc8b08fb9cdae4a985e841
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sat Nov 26 14:44:47 2005 +0000

    [PATCH] ppc: Make ARCH=ppc build again with new syscall path
    
    This makes ARCH=ppc build in your powerpc tree again, with the new
    syscall entry/exit path.
    
    Still doesn't actually boot on my Pegasos; the last thing I see is
    'MMU:exit'. But at least it builds -- I'll look at why it doesn't boot
    later, so that I can see if the mv643xx_eth actually works with ARCH=ppc
    (it doesn't with ARCH=powerpc; two in every three packets I receive are
    offset by 4 bytes).
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fb64c2446b20bf0206a690e9e1df88b25ac421e6
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Thu Nov 24 11:32:09 2005 -0200

    [PATCH] ppc32: m8xx watchdog update
    
    This updates m8xx_wdt as follows:
    
    1) Remove now obsolete fpos check in the write() function. The driver is
    currently non functional due to this bug.
    
    2) Use in/out macros for register access.
    
    3) Allows m8xx_wdt to use a kernel timer instead of the builtin RTC/PIT
    for keep-alive trigger (which is responsible for servicing the watchdog
    until an userspace application takes over). For instance Cyclades PRxK
    boards (MPC 855T based) have a non-functional internal RTC/PIT unit.
    Behaviour for boards with RTC/PIT is unchaged.
    
    4) The last change required moving the RTCSC register setting code
    to a weak function which can be overriden by board specific files.
    Otherwise the timer init code trashes the register making it impossible
    for m8xx_wdt to detect the situation.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 623703f620453c798b6fa3eb79ad8ea27bfd302a
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Nov 24 17:36:20 2005 +0000

    [PATCH] Fix code that saves NVGPRS in 32-bit signal frame
    
    On Thu, 2005-11-24 at 12:51 +0000, David Woodhouse wrote:
    > Somehow this one slipped through the cracks; when we ended up in
    > do_signal() on a 32-bit kernel but without having the caller-saved
    > registers into the regs, we didn't set the TIF_SAVE_NVGPRS flag to
    > ensure they got saved later.
    
    Oh, and if we actually set the flag, then we fairly quickly find out
    that I was a bit overzealous in copying code from entry_64.S ... :)
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9687c587596b54a77f08620595f5686ea35eed97
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Nov 24 12:51:40 2005 +0000

    [PATCH] Save NVGPRS in 32-bit signal frame
    
    Somehow this one slipped through the cracks; when we ended up in
    do_signal() on a 32-bit kernel but without having the caller-saved
    registers into the regs, we didn't set the TIF_SAVE_NVGPRS flag to
    ensure they got saved later.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 31df1678d7732b94178a6e457ed6666e4431212f
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Nov 24 17:08:56 2005 +0000

    [PATCH] powerpc: serial port discovery: cope with broken firmware
    
    On Tue, 2005-11-22 at 15:49 +1100, Benjamin Herrenschmidt wrote:
    > This moves the discovery of legacy serial ports to a separate file,
    > makes it common to ppc32 and ppc64, and reworks it to use the new OF
    > address translators to get to the ports early. This new version can also
    > detect some PCI serial cards using legacy chips and will probably match
    > those discovered port with the default console choice.
    
    This makes it deal with the fact that the Pegasos firmware reports that
    its clock frequency is zero...
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9177ae4378add0126104e2966aa6150258610d59
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 24 17:34:03 2005 +1100

    [PATCH] powerpc: Fix g5 build with xmon
    
    My previous patches inadvertently broke building a G5 kernel with
    CONFIG_XMON enabled. This fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 404849bbd2bfd62e05b36f4753f6e1af6050a824
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 24 16:51:31 2005 +1100

    [PATCH] powerpc: Remove some unneeded fields from the paca
    
    This patch removes several unnecessary fields from the paca:
    
    - next_jiffy_update_tb was simply unused.  Remove trivially.
    
    - The exdsi exception save area was not used.  There were plans to use
      it, but they never seem to have gone anywhere.  If they ever do, we
      can put it back.  Remove from the paca, and from asm-offsets.c
    
    - The default_decr field was used from asm, but was only ever assigned
      the value of tb_ticks_per_jiffy.  Just access tb_ticks_per_jiffy from
      asm directly instead.
    
    Built and booted on POWER5 LPAR and iSeries RS64.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1888e7b51c0cb5db49911b59cb758ad2c7a530f2
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 24 16:34:45 2005 +1100

    [PATCH] powerpc: Remove ItLpRegSave area from the paca
    
    On iSeries, the paca contains, amongst other things an ItLpRegSave
    structure used by the hypervisor to save registers.  The hypervisor
    locates this area through a pointer at the beginning of the paca, so
    the structure itself can be located elsewhere.  This patch moves the
    reg_save area out into its own array.  This reduces the amount of
    iSeries specific gunk which is visible to general powerpc code via
    paca.h
    
    Built and booted on POWER5 LPAR and iSeries RS64.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 456752f7505ef8f580ffd157558e661da2767d99
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 24 14:16:15 2005 +1100

    [PATCH] powerpc: Make hugepage mappings respect hint addresses
    
    Currently, the powerpc version of hugetlb_get_unmapped_area() entirely
    ignores the hint address.  The only way to get a hugepage mapping at a
    specified address is with MAP_FIXED, in which case there's no way
    (short of parsing /proc/self/maps) for userspace to tell if it will
    clobber an existing mapping.  This is inconvenient, so the patch below
    makes hugepage mappings use the given hint address if possible.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 706e6b2caf285d3eb056c2847b7c53ae823e8a87
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Nov 23 13:03:37 2005 -0600

    [PATCH] powerpc: Fix suboptimal uImage target
    
    Sam Ravnborg pointed out that calling if_changed was redundant in the
    rule since a prerequisite had to have changed for us to get there.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8c441a57d789e59ba9cc7f652a028b4a7e5471f7
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Nov 23 12:43:15 2005 -0600

    [PATCH] powerpc: Add support for building uImages
    
    powerpc: Add support for building uImages
    
    Add support to build a kernel image bootable by u-boot.
    Most of the makefile foo is taken from arch/ppc/boot/images/Makefile
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1d7a6b97f3c30087e307655116ff2ed492a37ad0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 17 18:04:37 2005 +1100

    powerpc: more iseries irq work
    
    Make get_IRQ return a pending irq number so it can be handled
    in the powerpc geeneric code.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit a50b56d24c59db33792b421af4016a9c958a906f
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 17 16:14:17 2005 +1100

    powerpc: reduce include in irq.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit e199500c6280aadf98c185db99fd24ab61ebe0c7
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 16 18:53:29 2005 +1100

    powerpc: partly merge iseries do_IRQ
    
    Hide some of the iseries details in iSeries_get_irq.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 853f828cfd29d3d486d9f4b4df91d99ce509e3b5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 16 18:10:40 2005 +1100

    powerpc: use end_IRQ for iseries irqs
    
    Encode the sub bus number into the real irq number (even though it
    is always zero for now) so that we have enough information to do
    the EOI in iseries_end_IRQ.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 60798c6a27b4e9827bdf641259409ada674c2868
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 16 17:47:43 2005 +1100

    powerpc: cleanup iseries irq.c
    
    Remove two useless counters.
    DeStropify.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 2c5bd01f8f5d7c655d9d1aa60b696d980947e3be
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 17:59:04 2005 +1100

    [PATCH] powerpc: convert macio_asic to use prom_parse
    
    Converts the macio_asic core to use the new OF parsing routines instead
    of relying on the pre-parsed values in struct device_node.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d7f3945420b5d8114f2d4d85e90abe5063cc196a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 17:58:13 2005 +1100

    [PATCH] powerpc: Add back support for booting from BootX (#2)
    
    ARCH=powerpc couldn't boot from BootX as it uses a "different" way of
    getting in the kernel. This patch adds the necessary trampolines,
    creating a flattened device-tree from the tree passed from MacOS, and
    initializing the btext engine early for really-early debugging.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 51d3082fe6e55aecfa17113dbe98077c749f724c
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 17:57:25 2005 +1100

    [PATCH] powerpc: Unify udbg (#2)
    
    This patch unifies udbg for both ppc32 and ppc64 when building the
    merged achitecture. xmon now has a single "back end". The powermac udbg
    stuff gets enriched with some ADB capabilities and btext output. In
    addition, the early_init callback is now called on ppc32 as well,
    approx. in the same order as ppc64 regarding device-tree manipulations.
    The init sequences of ppc32 and ppc64 are getting closer, I'll unify
    them in a later patch.
    
    For now, you can force udbg to the scc using "sccdbg" or to btext using
    "btextdbg" on powermacs. I'll implement a cleaner way of forcing udbg
    output to something else than the autodetected OF output device in a
    later patch.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 463ce0e103f419f51b1769111e73fe8bb305d0ec
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 17:56:06 2005 +1100

    [PATCH] powerpc: serial port discovery (#2)
    
    This moves the discovery of legacy serial ports to a separate file,
    makes it common to ppc32 and ppc64, and reworks it to use the new OF
    address translators to get to the ports early. This new version can also
    detect some PCI serial cards using legacy chips and will probably match
    those discovered port with the default console choice.
    
    Only ppc64 gets udbg still yet, unifying udbg isn't finished yet.
    
    It also adds some speed-probing code to udbg so that the default console
    can come up at the same speed it was set to by the firmware.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d1405b869850982f05c7ec0d3f137ca27588192f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 17:53:42 2005 +1100

    [PATCH] powerpc: Add OF address parsing code (#2)
    
    Parsing addresses extracted from Open Firmware isn't a simple matter. We
    have various bits of code that try to do it in various place, including
    some heuristics in prom.c that pre-parse addresses at boot and fill
    device-nodes "addrs", but those are dodgy at best and I want to
    deprecate them. So this patch introduces a new set of routines that
    should be capable of parsing most types of addresses and translating
    them into CPU physical addresses. It currently works for things on PCI
    busses and ISA busses and should work on "standard" busses like the root
    bus or the MacIO bus that don't put funky flags in addresses. If you
    have other bus types that do use funky flags, you'll have to add new bus
    type translators, which is fairly easy.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bcb05504edf0e27a648aa1059cbb71e8746758a1
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Fri Nov 18 12:15:33 2005 +0000

    [PATCH] ppc64 syscall_exit_work: call the save_nvgprs function, not its descriptor.
    
    On Tue, 2005-11-15 at 18:52 +0000, David Woodhouse wrote:
    > This cleanup patch speeds up the null syscall path on ppc64 by about 3%,
    > and brings the ppc32 and ppc64 code slightly closer together.
    
    Needs this unless your binutils, like mine, are clever enough to notice
    my stupidity and fix it up automatically...
    
    Spotted by Paul.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c1189c9275dbaa474e1f5ce0b62f6b4d9be67d51
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 22:30:06 2005 +1100

    ppc: remove duplicate bseip.h
    
    include/asm-ppc/bseip.h is a duplicate of arch/ppc/platforms/bseip.h
    and is not referenced anywhere, so get rid of it.  Pointed out by
    Marcelo Tosatti.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d6a55504b31dac7a0fd5d12bb6bd9f3773c88569
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 13:16:43 2005 +1100

    powerpc: Update __NR_syscalls to account for SPU syscalls
    
    A previous patch ended up not increasing __NR_syscalls to account
    for the new SPU syscalls (probably my fault).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8b3d6663c6217e4f50cc3720935a96da9b984117
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Tue Nov 15 15:53:52 2005 -0500

    [PATCH] spufs: cooperative scheduler support
    
    This adds a scheduler for SPUs to make it possible to use
    more logical SPUs than physical ones are present in the
    system.
    
    Currently, there is no support for preempting a running
    SPU thread, they have to leave the SPU by either triggering
    an event on the SPU that causes it to return to the
    owning thread or by sending a signal to it.
    
    This patch also adds operations that enable accessing an SPU
    in either runnable or saved state. We use an RW semaphore
    to protect the state of the SPU from changing underneath
    us, while we are holding it readable. In order to change
    the state, it is acquired writeable and a context save
    or restore is executed before downgrading the semaphore
    to read-only.
    
    From: Mark Nutter <mnutter@us.ibm.com>,
          Uli Weigand <Ulrich.Weigand@de.ibm.com>
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 05b841174c289ca62a6b42d883b8791d9ac3a4bd
Author: Mark Nutter <mnutter@us.ibm.com>
Date:   Tue Nov 15 15:53:51 2005 -0500

    [PATCH] spufs: add spu-side context switch code
    
    Add the source code that is used to generate spu_save_dump.h and
    spu_restore_dump.h. Since a full spu tool chain is needed to
    generate these files, the default remains to use the shipped
    versions in order to keep the number of tools for building the
    kernel down.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7c038749d1e6a2d5fb37ed14aed0fffa34c4e504
Author: Mark Nutter <mnutter@us.ibm.com>
Date:   Tue Nov 15 15:53:50 2005 -0500

    [PATCH] kernel-side context switch code for spufs
    
    This adds the code needed to perform a context switch from
    spufs, following the recommended 76-step sequence.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5473af049d8b3556874174e61ce1986c9b5e8fa6
Author: Mark Nutter <mnutter@us.ibm.com>
Date:   Tue Nov 15 15:53:49 2005 -0500

    [PATCH] spufs: switchable spu contexts
    
    Add some infrastructure for saving and restoring the context of an
    SPE. This patch creates a new structure that can hold the whole
    state of a physical SPE in memory. It also contains code that
    avoids races during the context switch and the binary code that
    is loaded to the SPU in order to access its registers.
    
    The actual PPE- and SPE-side context switch code are two separate
    patches.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 67207b9664a8d603138ef1556141e6d0a102bea7
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Tue Nov 15 15:53:48 2005 -0500

    [PATCH] spufs: The SPU file system, base
    
    This is the current version of the spu file system, used
    for driving SPEs on the Cell Broadband Engine.
    
    This release is almost identical to the version for the
    2.6.14 kernel posted earlier, which is available as part
    of the Cell BE Linux distribution from
    http://www.bsc.es/projects/deepcomputing/linuxoncell/.
    
    The first patch provides all the interfaces for running
    spu application, but does not have any support for
    debugging SPU tasks or for scheduling. Both these
    functionalities are added in the subsequent patches.
    
    See Documentation/filesystems/spufs.txt on how to use
    spufs.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d7a301033f1990188f65abf4fe8e5b90ef0e3888
Author: Heiko J Schick <schihei@de.ibm.com>
Date:   Wed Nov 16 08:56:43 2005 +0100

    [PATCH] powerpc: IBMEBUS bus support
    
    This patch adds the necessary core bus support used by device drivers
    that sit on the IBM GX bus on modern pSeries machines like the Galaxy
    infiniband for example. It provide transparent DMA ops (the low level
    driver works with virtual addresses directly) along with a simple bus
    layer using the Open Firmware matching routines.
    
    Signed-off-by: Heiko J Schick <schickhj@de.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 401d1f029bebb7153ca704997772113dc36d9527
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Tue Nov 15 18:52:18 2005 +0000

    [PATCH] syscall entry/exit revamp
    
    This cleanup patch speeds up the null syscall path on ppc64 by about 3%,
    and brings the ppc32 and ppc64 code slightly closer together.
    
    The ppc64 code was checking current_thread_info()->flags twice in the
    syscall exit path; once for TIF_SYSCALL_T_OR_A before disabling
    interrupts, and then again for TIF_SIGPENDING|TIF_NEED_RESCHED etc after
    disabling interrupts. Now we do the same as ppc32 -- check the flags
    only once in the fast path, and re-enable interrupts if necessary in the
    ptrace case.
    
    The patch abolishes the 'syscall_noerror' member of struct thread_info
    and replaces it with a TIF_NOERROR bit in the flags, which is handled in
    the slow path. This shortens the syscall entry code, which no longer
    needs to clear syscall_noerror.
    
    The patch adds a TIF_SAVE_NVGPRS flag which causes the syscall exit slow
    path to save the non-volatile GPRs into a signal frame. This removes the
    need for the assembly wrappers around sys_sigsuspend(),
    sys_rt_sigsuspend(), et al which existed solely to save those registers
    in advance. It also means I don't have to add new wrappers for ppoll()
    and pselect(), which is what I was supposed to be doing when I got
    distracted into this...
    
    Finally, it unifies the ppc64 and ppc32 methods of handling syscall exit
    directly into a signal handler (as required by sigsuspend et al) by
    introducing a TIF_RESTOREALL flag which causes _all_ the registers to be
    reloaded from the pt_regs by taking the ret_from_exception path, instead
    of the normal syscall exit path which stomps on the callee-saved GPRs.
    
    It appears to pass an LTP test run on ppc64, and passes basic testing on
    ppc32 too. Brief tests of ptrace functionality with strace and gdb also
    appear OK. I wouldn't send it to Linus for 2.6.15 just yet though :)
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1cd8e506209223ed10da805d99be55e268f4023c
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Mon Nov 14 12:54:33 2005 -0600

    [PATCH] powerpc: moved ipic code to arch/powerpc
    
    Moved 83xx and QUICC Engine interrupt handling code into arch/powerpc
    as a precursor of getting 83xx sub-arch building in arch/powerpc.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3d1229d6ae92ed1994f4411b8493327ef8f4b76f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Nov 14 23:35:00 2005 +1100

    [PATCH] powerpc: Merge kexec
    
    This patch merges, to some extent, the PPC32 and PPC64 kexec implementations.
    
    We adopt the PPC32 approach of having ppc_md callbacks for the kexec functions.
    The current PPC64 implementation becomes the "default" implementation for PPC64
    which platforms can select if they need no special treatment.
    
    I've added these default callbacks to pseries/maple/cell/powermac, this means
    iSeries no longer supports kexec - but it never worked anyway.
    
    I've renamed PPC32's machine_kexec_simple to default_machine_kexec, inline with
    PPC64. Judging by the comments it might be better named machine_kexec_non_of,
    or something, but at the moment it's the only implementation for PPC32 so it's
    the "default".
    
    Kexec requires machine_shutdown(), which is in machine_kexec.c on PPC32, but we
    already have in setup-common.c on powerpc. All this does is call
    ppc_md.nvram_sync, which only powermac implements, so instead make
    machine_shutdown a ppc_md member and have it call core99_nvram_sync directly
    on powermac.
    
    I've also stuck relocate_kernel.S into misc_32.S for powerpc.
    
    Built for ARCH=ppc, and 32 & 64 bit ARCH=powerpc, with KEXEC=y/n. Booted on
    P5 LPAR and successfully kexec'ed.
    
    Should apply on top of 493f25ef4087395891c99fcfe2c72e62e293e89f.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit afcc2472d80569059b5fe71fcb67e618b9d83fa8
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 13 02:26:09 2005 +0100

    [PATCH] PPC_PREP: remove unneeded exports
    
    This patch removes the EXPORT_SYMBOL'ed but completely unused variable
    ucSystemType and removes the unneeded EXPORT_SYMBOL(_prep_type).
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Tom Rini <trini@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0fec53a24a5e5f7ba68d891b68f568b6aeafaca6
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Jan 8 22:37:46 2006 +0000

    [ARM] Remove EPXA10DB machine support
    
    EPXA10DB seems to be uncared for:
    - the "PLD" code has never been merged
    - no one has reported that this platform has been broken since
      at least 2.6.10
    - interest seems to have dried up around March 2003.
    
    Therefore, remove EPXA10DB support.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 63b794bfd898899cc8b6d4679d4fdc486606194b
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Jan 8 20:37:39 2006 +0100

    frv: Use KERNELRELEASE
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit ad14336de8e9cddae9ed29d45bd2e97abb72eaf9
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Jan 8 19:58:51 2006 +0100

    kbuild: remove GCC_VERSION
    
    This was causing some ordering problems.  Remove the up-front evaluation
    and just revaluate the compiler version each time we need it.
    
    (The up-front evaluation was problematic because some architectures modify
    the value of $(CC)).
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit cfa7f52164d6cdcb6cea87386562c568da66ff9e
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sun Jan 8 18:17:55 2006 +0000

    [MMC] Lindent wbsd driver
    
    Fix the coding style in the wbsd driver once and for all.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 442ce844e139c1e3c23e8b4df13468041ae35721
Author: Dave Jones <davej@redhat.com>
Date:   Fri Jan 6 02:40:19 2006 -0500

    kbuild: reference_discarded addition
    
    Error: ./fs/quota_v2.o .opd refers to 0000000000000020 R_PPC64_ADDR64    .exit.text
    
    Been carrying this for some time in Red Hat trees.
    
    Keith Ownes <kaos@sgi.com> commented:
    For our future {in}sanity, add a comment that this is the ppc .opd
    section, not the ia64 .opd section.  ia64 .opd should not point to
    discarded sections.
    
    Any idea why ppc .opd points to discarded sections when ia64 does not?
    AFAICT no ia64 object has a useful .opd section, they are all empty or
    (sometimes) a dummy entry which is 1 byte long.  ia64 .opd data is
    built at link time, not compile time.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 50aa88e2877f1375ba79d1be7a0ff4aa563741c7
Author: Tore Anderson <tore@fud.no>
Date:   Sat Jan 7 15:34:40 2006 +0100

    kbuild: ensure mrproper removes .old_version
    
    If the final linking of vmlinux fails, the file .old_version are left
    behind.  This patch ensures the mrproper target will remove it if
    present.
    
    Signed-off-by: Tore Anderson <tore@fud.no>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 24d49756aa67322c2def5dc97344615572ac454e
Author: Ryan Anderson <ryan@michonline.com>
Date:   Sun Jan 8 04:35:36 2006 -0500

    kbuild: In setlocalversion change -git_dirty to just -dirty
    
    When building Debian packages directly from the git tree, the appended
    "git_dirty" is a problem due to the underscore.  In order to cause the
    least problems, change that just to "dirty".
    
    Signed-off-by: Ryan Anderson <ryan@michonline.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit cc6fa432f5eec26c43fd06c0314cb1c2cae6d9a1
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Jan 8 10:53:55 2006 -0500

    modpost/file2alias: Fix typo
    
    SND_MAX should be FF_MAX
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit ac448afbcdcc218fd8d177960466ecc4a523722f
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Fri Jan 6 18:28:45 2006 -0500

    kbuild: clean up asm-offsets.h creation
    
    - Move mkdir out of cmd_offsets
    - Add input file to sed command instead of using cat
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit ae215b14bdbd459afe5f371175765fae817062a8
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Jan 8 18:39:44 2006 +0100

    kconfig: factor out ncurses check in a shell script
    
    Cleaning up the lxdialog Makefile by factoring out the
    ncurses compatibility checks.
    This made the checks much more obvious and easier to extend.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit cb757b4eefd4600a3afa58f6983addbbe82989a8
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sun Jan 8 14:23:02 2006 +0000

    [MMC] Support MMC version 4 cards
    
    Version 4 of the MMC specification increased the version number of the
    CID structure. None of the fields changed though so the only required
    change is adding '4' to the approved list.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5e68d95d155c94e45f16b521fd4e2bcd6c8481b1
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sun Jan 8 14:21:52 2006 +0000

    [MMC] wbsd pnp suspend
    
    Allow the wbsd driver to use the new suspend/resume functions added to
    the PnP layer.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 757b18661ea0a0d890e8ce7b1a391e5b7d417d78
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 7 13:19:00 2006 -0500

    [ACPI] make two processor functions static
    
    acpi_processor_write_throttling()
    acpi_processor_write_limit()
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit a61c2d78ce61e67baf27c43f6721db87a27ac762
Author: Dave Jones <davej@redhat.com>
Date:   Sat Jan 7 23:18:19 2006 +0000

    [SERIAL] Make the number of UARTs registered configurable.
    
    Also add a nr_uarts module option to the 8250 code to override
    this, up to a maximum of CONFIG_SERIAL_8250_NR_UARTS
    
    This should appease people who complain about a proliferation
    of /dev/ttyS & /sysfs nodes whilst at the same time allowing
    a single kernel image to support the rarer occasions of
    lots of devices.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit f61051cd2fc58546f28c226933942d4360810ffb
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 23:11:23 2006 +0000

    [SERIAL] Fix clocal wakeup problem
    
    Jim Alexander reported a problem where "if one calls open() in
    blocking mode with CLOCAL off, the 8250.c driver under the 2.6
    kernel (or at least 2.6.8 and 2.6.10) does not wake up the
    blocked process when DCD is asserted."
    
    Fix this by enabling modem status interrupts immediately before
    we read the carrier detect status.
    
    Thanks to Jim for reporting the problem and testing the fix.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9f5336e21893fafd232a9a02cfa7588ad153889a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 7 13:24:25 2006 -0800

    [IPV6]: small cleanups
    
    This patch contains the following cleanups:
    - addrconf.c: make addrconf_dad_stop() static
    - inet6_connection_sock.c should #include <net/inet6_connection_sock.h>
      for getting the prototypes of it's global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 97dc627fb3471664c72d0933790a90ba3f91e131
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Jan 7 13:23:39 2006 -0800

    [IPV4]: make ip_fragment() static
    
    Since there's no longer any external user of ip_fragment() we can make
    it static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f53b61d8c385140fe7f09e0c9187ae813ee9f330
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sat Jan 7 12:50:27 2006 -0800

    [NETFILTER]: Add dummy nf_hook{_thresh}() when NETFILTER is disabled.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit da7bc6ee8ee3976696fc740065362ca442eb61c9
Author: Joe Kappus <joecool1029@gmail.com>
Date:   Fri Jan 6 23:15:04 2006 -0800

    [NETFILTER]: ip_conntrack_proto_sctp.c needs linux/interrupt.h
    
    Signed-off-by: Joe Kappus <joecool1029@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b341387225832c392ed83b9f89d15668b033a106
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Fri Jan 6 23:08:42 2006 -0800

    [AX25/MKISS]: unbalanced spinlock_bh in ax_encaps()
    
    The unlocking disappeared during commit
    5793f4be23f0171b4999ca68a39a9157b44139f3.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e16a8f0b8c53312beb1d8b52e463aae79aa809c7
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:06:48 2006 -0800

    [NETFILTER]: Add ipt_policy/ip6t_policy matches
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit eb9c7ebe6980c41cf6ae889e301c3b49f473ee9f
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:06:30 2006 -0800

    [NETFILTER]: Handle NAT in IPsec policy checks
    
    Handle NAT of decapsulated IPsec packets by reconstructing the struct flowi
    of the original packet from the conntrack information for IPsec policy
    checks.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b59c270104f03960069596722fea70340579244d
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:06:10 2006 -0800

    [NETFILTER]: Keep conntrack reference until IPsec policy checks are done
    
    Keep the conntrack reference until policy checks have been performed for
    IPsec NAT support. The reference needs to be dropped before a packet is
    queued to avoid having the conntrack module unloadable.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5c901daaea3be0d900b3ae1fc9b5f64ff94e4f02
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:05:36 2006 -0800

    [NETFILTER]: Redo policy lookups after NAT when neccessary
    
    When NAT changes the key used for the xfrm lookup it needs to be done
    again. If a new policy is returned in POST_ROUTING the packet needs
    to be passed to xfrm4_output_one manually after all hooks were called
    because POST_ROUTING is called with fixed okfn (ip_finish_output).
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4e8e9de7c25315669e2d5565acc50ec379522c28
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:05:17 2006 -0800

    [NETFILTER]: Use conntrack information to determine if packet was NATed
    
    Preparation for IPsec support for NAT:
    Use conntrack information instead of saving the saving and comparing the
    addresses to determine if a packet was NATed and needs to be rerouted to
    make it easier to extend the key.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3e3850e989c5d2eb1aab6f0fd9257759f0f4cbc6
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:04:54 2006 -0800

    [NETFILTER]: Fix xfrm lookup in ip_route_me_harder/ip6_route_me_harder
    
    ip_route_me_harder doesn't use the port numbers of the xfrm lookup and
    uses ip_route_input for non-local addresses which doesn't do a xfrm
    lookup, ip6_route_me_harder doesn't do a xfrm lookup at all.
    
    Use xfrm_decode_session and do the lookup manually, make sure both
    only do the lookup if the packet hasn't been transformed already.
    
    Makeing sure the lookup only happens once needs a new field in the
    IP6CB, which exceeds the size of skb->cb. The size of skb->cb is
    increased to 48b. Apparently the IPv6 mobile extensions need some
    more room anyway.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8cdfab8a43bb4b3da686ea503a702cb6f9f6a803
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:04:01 2006 -0800

    [IPV4]: reset IPCB flags when neccessary
    
    Reset IPSKB_XFRM_TUNNEL_SIZE flags in ipip and ip_gre hard_start_xmit
    function before the packet reenters IP. This is neccessary so the
    encapsulated packets are checked not to be oversized in xfrm4_output.c
    again. Reset all flags in sit when a packet changes its address family.
    
    Also remove some obsolete IPSKB flags.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b05e106698d9966de524e78d9da1bf6407fe0c32
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:03:34 2006 -0800

    [IPV4/6]: Netfilter IPsec input hooks
    
    When the innermost transform uses transport mode the decapsulated packet
    is not visible to netfilter. Pass the packet through the PRE_ROUTING and
    LOCAL_IN hooks again before handing it to upper layer protocols to make
    netfilter-visibility symetrical to the output path.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 951dbc8ac714b04c36296b8b5c36c8e036ce433f
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:02:34 2006 -0800

    [IPV6]: Move nextheader offset to the IP6CB
    
    Move nextheader offset to the IP6CB to make it possible to pass a
    packet to ip6_input_finish multiple times and have it skip already
    parsed headers. As a nice side effect this gets rid of the manual
    hopopts skipping in ip6_input_finish.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 16a6677fdf1d1194f688f8291b06fbaff248c353
Author: Patrick McHardy <kaber@trash.net>
Date:   Fri Jan 6 23:01:48 2006 -0800

    [XFRM]: Netfilter IPsec output hooks
    
    Call netfilter hooks before IPsec transforms. Packets visit the
    FORWARD/LOCAL_OUT and POST_ROUTING hook before the first encapsulation
    and the LOCAL_OUT and POST_ROUTING hook before each following tunnel mode
    transform.
    
    Patch from Herbert Xu <herbert@gondor.apana.org.au>:
    
    Move the loop from dst_output into xfrm4_output/xfrm6_output since they're
    the only ones who need to it. xfrm{4,6}_output_one() processes the first SA
    all subsequent transport mode SAs and is called in a loop that calls the
    netfilter hooks between each two calls.
    
    In order to avoid the tail call issue, I've added the inline function
    nf_hook which is nf_hook_slow plus the empty list check.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ee2e6841b934d76cb944a3390bbea84da777d4fa
Author: Luiz Capitulino <lcapitulino@mandriva.com.br>
Date:   Fri Jan 6 22:59:43 2006 -0800

    [XFRM]: Fix sparse warning.
    
    security/selinux/xfrm.c:155:10: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit aa0e4e4aea8d9e0a559a884336d728f0263063e0
Author: David S. Miller <davem@davemloft.net>
Date:   Fri Jan 6 22:55:39 2006 -0800

    [DCCP]: ipv6.c needs net/ip6_checksum.c
    
    Reported by Dave Jones.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b9abaa3fb7328851bdeaad19e694048f0ff71d9a
Merge: 8995b16... 736ce43...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 7 11:29:51 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/dtor/input

commit 8995b161eb142b843094dd614b80e4cce1d66352
Merge: cc918c7... fe5dd7c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 7 10:45:22 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit cc918c7ab7da017bfaf9661420bb5c462e057cfb
Merge: f9c5d04... dd68e88...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 7 10:44:22 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit f9c5d0451b406a6bd0d0bf1fdd63c7777af6ebc6
Merge: d354d9a... f3e2628...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Jan 7 10:43:40 2006 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit d354d9afe923eb08f7ee89128b38ddb6415de01d
Author: Knut Petersen <Knut_Petersen@t-online.de>
Date:   Sat Jan 7 10:22:04 2006 +0100

    [PATCH] fbcon: dont call set_par() in fbcon_init() if vc_mode == KD_GRAPHICS
    
    Nothing prevents a user to modprobe a framebuffer driver from e.g.  the
    xterm prompt.  As a result, the set_par() function of the driver will be
    called from fbcon_init().
    
    This is fatal as a lot of X / framebuffer combinations are unable to
    recover from set_par() reprogramming the graphics controller in
    KD_GRAPHICS mode.
    
    It is also unnecessary as the set_par() function will be called during a
    switch to KD_TEXT anyway.  Because of this no side effects are possible.
    
    Signed-off-by: Knut Petersen <Knut_Petersen@t-online.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe5dd7c73d328b255286b6b65ca19dd34447f709
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 16:55:50 2006 +0000

    [ARM] byteorder.h needs linux/compiler.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 736ce43295682d060f2b93624b4a339f9af6aab1
Author: Vernon Mauery <vernux@us.ibm.com>
Date:   Sat Jan 7 11:35:05 2006 -0500

    Input: ibmasm - convert to dynamic input_dev allocation
    
    Update the ibmasm driver to use the dynamic allocation of input_dev
    structs to work with the sysfs subsystem.
    
    Vojtech: Fixed some problems/bugs in the patch.
    Dmitry: Fixed some more.
    
    Signed-off-by: Vernon Mauery <vernux@us.ibm.com>
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit f8ce25476d5f12ffa29b885e49c38cd95053437e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 16:15:52 2006 +0000

    [ARM] Move asm/hardware/clock.h to linux/clk.h
    
    This is needs to be visible to other architectures using the AMBA
    bus and peripherals.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit de1d815fccee1f4766a7e56054ab0ec3f6f3a7db
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 14:54:15 2006 +0000

    [ARM] Move AMBA bus code to drivers/amba/
    
    Make the AMBA bus code visible to other architectures.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 123656d4cc8c946f578ebd18c2050f5251720428
Merge: a62c80e... 0aec63e...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 14:40:05 2006 +0000

    Merge with Linus' kernel.

commit a62c80e559809e6c7851ec04d30575e85ad6f6ed
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Jan 7 13:52:45 2006 +0000

    [ARM] Move AMBA include files to include/linux/amba/
    
    Since the ARM AMBA bus is used on MIPS as well as ARM, we need
    to make the bus available for other architectures to use.  Move
    the AMBA include files from include/asm-arm/hardware/ to
    include/linux/amba/
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6351610d6906aacbf9176cbdd045dd3876eec4c0
Author: Andre McCurdy <armcc2000@yahoo.com>
Date:   Sat Jan 7 11:39:20 2006 +0000

    [ARM] 3239/1: Add ARM optimised swab32
    
    Patch from Andre McCurdy
    
    Replaces generic swab32 routine with a more ARM friendly version.
    Reduces kernel text size by approx 1200 bytes when compiled with
    3.4.4 and approx 2400 bytes with 4.0.2
    
    Probably some performance benefit as well.
    
    Signed-off-by: Andre McCurdy <armccurdy@yahoo.co.uk>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2c041f4b9be5cecbd0a042ecd9122a9db6f50416
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sat Jan 7 11:12:26 2006 +0000

    [ARM] 3235/1: SharpSL PM: Fix a gcc4 build error
    
    Patch from Richard Purdie
    
    Fix a gcc4 build error (incomplete element type) in the pxa SharpSL
    PM code.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f99c89297cd6995ccad6394c87383941c2570fe9
Author: Pavel Pisa <ppisa@pikron.com>
Date:   Sat Jan 7 10:44:32 2006 +0000

    [ARM] 3232/1: i.MX Frame Buffer undeclared "dev" variable fix
    
    Patch from Pavel Pisa
    
    Correction of the code broken by update
    whole-tree platform devices update.
    
    Signed-off-by: Pavel Pisa <pisa@cmp.felk.cvut.cz>
    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c4bb6f5ad968540d7f9619565bacd18d7419b85f
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [PNPACPI] clean excluded_id_list[]
    
    Clean the blacklist.  Battery, Button, Fan have no _CRS
    and can be removed.  PCI root is in pnpbios and is harmless.
    
    Cc: Adam Belay <ambx1@neo.rr.com>
    Cc: "Li, Shaohua" <shaohua.li@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 07b0120d53a3e7cbc88458a64a4d668fc416100f
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [PNPACPI] Ignore devices that have no resources
    
    Ignore devices that don't have a _CRS method.
    They are useless for the PNP layer as they don't provide any resources.
    
    Cc: Adam Belay <ambx1@neo.rr.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit f9a204e1de73a7007de66fb289e1d64a7665c9b4
Author: Borislav Petkov <bbpetkov@yahoo.de>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [ACPI] remove Kconfig "default y" for laptop drivers
    
    Signed-off-by: Borislav Petkov <petkov@uni-muenster.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit d758a8fa8ce0566947677f7e70bf70c57ad9445c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [ACPI] fix kernel-doc warnings in acpi/scan.c
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 876c184b31dc73cc3f38c5b86dee55d091a56769
Author: Thomas Rosner <kernel-bugs@digital-trauma.de>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [ACPI] Disable C2/C3 for _all_ IBM R40e Laptops
    
    This adds all known BIOS versions of IBM R40e Laptops to the C2/C3
    processor state blacklist and thus prevents them from crashing.
    workaround for http://bugzilla.kernel.org/show_bug.cgi?id=3549
    
    Signed-off-by: Thomas Rosner <kernel-bugs@digital-trauma.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 35f652b5ef4ef145ac5514f6302b3f4cebfbbad4
Author: Benoit Boissinot <bboissin@gmail.com>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [ACPI] fix acpi_cpufreq.c build warrning
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 3963f00831bc01f509c7dc38d050505fca64f67d
Author: KAMEZAWA Hiroyuki <kamezawa.hiroyu@jp.fujitsu.com>
Date:   Fri Jan 6 01:31:00 2006 -0500

    [ACPI] acpi_memhotplug.c build fix
    
    drivers/acpi/acpi_memhotplug.c: In function `acpi_memory_get_device_resources':
    drivers/acpi/acpi_memhotplug.c:101: error: structure has no member named `attribute'
    drivers/acpi/acpi_memhotplug.c:103: error: structure has no member named `attribute'
    drivers/acpi/acpi_memhotplug.c: In function `acpi_memory_disable_device':
    drivers/acpi/acpi_memhotplug.c:253: warning: unused variable `attr'
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit d479e908457f4972205fcafa054f8030e91781ef
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 16:47:00 2006 -0500

    [ACPI] move some run-time structure inits to compile time
    
    acpi_processor_limit_fops.write was written at run time,
    but can be initiailized at compile-time instead.
    
    Similar for acpi_video_bus_POST_fops.write and friends,
    but keep doing those at runtime to avoid prototype-hell.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit ed03f430cdc8c802652467e9097606fedc2c7abc
Merge: ed349a8... 6f957ea...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Jan 7 03:50:18 2006 -0500

    Pull pnpacpi into acpica branch

commit 6f957eaf79356a32e838f5f262ee9a60544b1d5b
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Sep 20 15:26:00 2005 -0400

    [ACPI] enable PNPACPI support for resource types used by HP serial ports
    
    PNPACPI complained about and ignored devices with ADDRESS16, ADDRESS32, or
    ADDRESS64 descriptors in _PRS.  HP firmware uses them for built-in serial
    ports, so this patch adds support for parsing these descriptors from _PRS.
    
    Note that this does not add the corresponding support for encoding them in
    preparation for _SRS, because I don't have any machine that supports _SRS
    on these descriptors, so I couldn't test that support.  Attempts to encode
    them will cause a warning and an -EINVAL return.
    
    http://sourceforge.net/mailarchive/forum.php?thread_id=8250154&forum_id=6102
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit add5b5ee992e40c9cd8697ea94c223628be162a7
Merge: 25da097... 0aec63e...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Jan 7 02:05:40 2006 -0500

    Auto-update from upstream

commit 0aec63e67c69545ca757a73a66f5dcf05fa484bf
Author: David S. Miller <davem@davemloft.net>
Date:   Fri Jan 6 15:36:48 2006 -0800

    [PATCH] Fix posix-cpu-timers sched_time accumulation
    
    I've spent the past 3 days digging into a glibc testsuite failure in
    current CVS, specifically libc/rt/tst-cputimer1.c The thr1 and thr2
    timers fire too early in the second pass of this test.  The second
    pass is noteworthy because it makes use of intervals, whereas the
    first pass does not.
    
    All throughout the posix-cpu-timers.c code, the calculation of the
    process sched_time sum is implemented roughly as:
    
    	unsigned long long sum;
    
    	sum = tsk->signal->sched_time;
    	t = tsk;
    	do {
    		sum += t->sched_time;
    		t = next_thread(t);
    	} while (t != tsk);
    
    In fact this is the exact scheme used by check_process_timers().
    
    In the case of check_process_timers(), current->sched_time has just
    been updated (via scheduler_tick(), which is invoked by
    update_process_times(), which subsequently invokes
    run_posix_cpu_timers()) So there is no special processing necessary
    wrt. that.
    
    In other contexts, we have to allot for the fact that tsk->sched_time
    might be a bit out of date if we are current.  And the
    posix-cpu-timers.c code uses current_sched_time() to deal with that.
    
    Unfortunately it does so in an erroneous and inconsistent manner in
    one spot which is what results in the early timer firing.
    
    In cpu_clock_sample_group_locked(), it does this:
    
    		cpu->sched = p->signal->sched_time;
    		/* Add in each other live thread.  */
    		while ((t = next_thread(t)) != p) {
    			cpu->sched += t->sched_time;
    		}
    		if (p->tgid == current->tgid) {
    			/*
    			 * We're sampling ourselves, so include the
    			 * cycles not yet banked.  We still omit
    			 * other threads running on other CPUs,
    			 * so the total can always be behind as
    			 * much as max(nthreads-1,ncpus) * (NSEC_PER_SEC/HZ).
    			 */
    			cpu->sched += current_sched_time(current);
    		} else {
    			cpu->sched += p->sched_time;
    		}
    
    The problem is the "p->tgid == current->tgid" test.  If "p" is
    not current, and the tgids are the same, we will add the process
    t->sched_time twice into cpu->sched and omit "p"'s sched_time
    which is very very very wrong.
    
    posix-cpu-timers.c has a helper function, sched_ns(p) which takes care
    of this, so my fix is to use that here instead of this special tgid
    test.
    
    The fact that current can be one of the sub-threads of "p" points out
    that we could make things a little bit more accurate, perhaps by using
    sched_ns() on every thread we process in these loops.  It also points
    out that we don't use the most accurate value for threads in the group
    actively running other cpus (and this is mentioned in the comment).
    
    But that is a future enhancement, and this fix here definitely makes
    sense.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f8448dfe8d3804fadad90c9b77494238b4a4eae
Author: Ralph Campbell <ralphc@pathscale.com>
Date:   Fri Jan 6 16:43:47 2006 -0800

    IB: Set GIDs correctly in ib_create_ah_from_wc()
    
    ib_create_ah_from_wc() doesn't create the correct return address (AH)
    when there is a GRH present (source & dest GIDs need to be swapped).
    
    Signed-off-by: Ralph Campbell <ralphc@pathscale.com>
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ac4e7b35579de55db50d602a472858867808a9c3
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 16:43:14 2006 -0800

    IB/uverbs: Release event file reference on ib_uverbs_create_cq() error
    
    ib_uverbs_create_cq() should release the completion channel event file
    if an error occurs after it looks it up.  Also, if userspace asks for
    a completion channel and we don't find it, an error should be returned
    instead of silently creating a CQ without a completion channel.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ea5d4a6ad2bfd1006790666981645cab43d3afbd
Author: Ralph Campbell <ralphc@pathscale.com>
Date:   Fri Jan 6 16:24:45 2006 -0800

    IB/uverbs: set ah_flags when creating address handle
    
    AH attribute's ah_flags need to be set according to the is_global flag
    passed in from userspace.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit b4ca1a3f8ca24033d7b7ef595faef97d9f8b2326
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 16:21:19 2006 -0800

    IB/uverbs: Fix reference counting on error paths
    
    If an operation fails after incrementing an object's reference count,
    then it should decrement the reference count on the error path.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0feb9bfcfa3f9bf67a4a1e3f2608700ad73f92ed
Merge: d8d8f6a... ccf1896...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 15:25:08 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/i2c-2.6

commit d8d8f6a4fd635dcc9e4f946394c1fbde85eeab66
Merge: 57d1c91... a2167dc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 15:24:28 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 57d1c91fa6d9146b309b7511f6432dea2a24858b
Merge: 47853e7... 3719314...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 15:23:56 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sam/kbuild

commit 47853e7fa588bef826c9799a87b33904b32bd905
Merge: 221fc10... 9e56904...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 15:22:57 2006 -0800

    Merge git://git.linux-nfs.org/pub/linux/nfs-2.6

commit 221fc10ec89834329e5613e3cab4569ba22da410
Author: Evgeniy <dushistov@mail.ru>
Date:   Fri Jan 6 21:18:01 2006 +0300

    [PATCH] fs/ufs: debug mode compilation failure
    
    This patch should fix compilation failure of fs/ufs/dir.c with defined UFS_DIR_DEBUG
    
    Signed-off-by: Evgeniy Dushistov <dushistov@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76832c28de4fabbf32fe1e5a25194724a3430070
Author: Dimitri Sivanich <sivanich@sgi.com>
Date:   Fri Jan 6 11:33:41 2006 -0600

    [PATCH] shrink mmtimer memory size
    
    This greatly reduces the amount of memory used by mmtimer on smaller
    machines with large values of MAX_COMPACT_NODES.
    
    Signed-off-by: Dimitri Sivanich <sivanich@sgi.com>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0e7dcc8bc01d7ea1865e7040a586207d1b34b36
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 18:26:29 2006 +0100

    [PATCH] MAINTAINERS: remove the outdated DAC960 entry
    
    Randy Dunlap: "Dave is no longer at OSDL and is no longer maintaining
    that driver."
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d51bfb7852d0e524074ad1cf04e4c3026d75d652
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Fri Jan 6 22:35:59 2006 +0100

    kbuild: introduce escsq to escapre single quotes
    
    This makes things a little bit more reader friendly and gvim is less
    confused.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 25da0974601fc8096461f3d3f7ca3aab8e79adfb
Merge: 036d25f... d99cf9d...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 6 16:34:21 2006 -0500

    Auto-update from upstream

commit a2167dc62e9142b9a4bfb20f7e001c0f0a26fd8c
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Jan 6 13:24:54 2006 -0800

    [NET]: Endian-annotate in_aton()
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 76ab608d86cf1ef5c5c46819b5733eb9f9f964f8
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Jan 6 13:24:29 2006 -0800

    [NET]: Endian-annotate struct iphdr
    
    And fix trivial warnings that emerged.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4de144bf721e46e7ccc8fed45b20a640cc364904
Author: Dotan Barak <dotanb@mellanox.co.il>
Date:   Fri Jan 6 13:23:58 2006 -0800

    IB/mthca: Add support for automatic path migration (APM)
    
    Add code to modify QP operation to handle setting alternate paths for
    connected QPs.
    
    Signed-off-by: Dotan Barak <dotanb@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 5f8ac64b15172c7ced7d7990eb28342092bc751b
Author: Trent Jaeger <tjaeger@cse.psu.edu>
Date:   Fri Jan 6 13:22:39 2006 -0800

    [LSM-IPSec]: Corrections to LSM-IPSec Nethooks
    
    This patch contains two corrections to the LSM-IPsec Nethooks patches
    previously applied.
    
    (1) free a security context on a failed insert via xfrm_user
    interface in xfrm_add_policy.  Memory leak.
    
    (2) change the authorization of the allocation of a security context
    in a xfrm_policy or xfrm_state from both relabelfrom and relabelto
    to setcontext.
    
    Signed-off-by: Trent Jaeger <tjaeger@cse.psu.edu>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 69549ddd2f894c4cead50ee2b60cc02990c389ad
Author: Luiz Capitulino <lcapitulino@mandriva.com.br>
Date:   Fri Jan 6 13:19:31 2006 -0800

    [PKTGEN]: Adds missing __init.
    
    pktgen_find_thread() and pktgen_create_thread() are only called at
    initialization time.
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 036d25f79ddfbc9878da24ef8e468a6d22caa605
Author: Len Brown <len.brown@intel.com>
Date:   Fri Jan 6 16:19:26 2006 -0500

    [ACPI] linux-acpi@vger.kernel.org replaces acpi-devel@lists.sourceforge.net
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 3cbc4ab58f79853740bf21f3736913d223ee50d4
Author: Joe <joecool1029@gmail.com>
Date:   Fri Jan 6 13:15:11 2006 -0800

    [NETFILTER]: ipt_helper.c needs linux/interrupt.h
    
    From: Joe <joecool1029@gmail.com>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0f8e8f9607d77ffc1f9820446dfcf781e96fdfd4
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Fri Jan 6 13:13:32 2006 -0800

    IB/mthca: Fill in vendor_err field in completion with error
    
    Fill vendor_err field in completion with error.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ee02b3a613a692a40e0f48a25d9d60cc751ebbe5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 13:13:29 2006 -0800

    [BRIDGE] netfilter: vlan + hw checksum = bug?
    
    It looks like the bridge netfilter code does not correctly update
    the hardware checksum after popping off the VLAN header.
    
    This is by inspection, I have *not* tested this.
    To test you would need to set up a filtering bridge with vlans
    and a device the does hardware receive checksum (skge, or sungem)
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a20a8554796bc4e28879beabd0db4bf3ce77b686
Author: Shaun Pereira <pereira.shaun@gmail.com>
Date:   Fri Jan 6 13:11:35 2006 -0800

    [X25]: Fix for broken x25 module.
    
    When a user-space server application calls bind on a socket, then in kernel
    space this bound socket is considered 'x25-linked' and the SOCK_ZAPPED flag
    is unset.(As in x25_bind()/af_x25.c).
    
    Now when a user-space client application attempts to connect to the server
    on the listening socket, if the kernel accepts this in-coming call, then it
    returns a new socket to userland and attempts to reply to the caller.
    
    The reply/x25_sendmsg() will fail, because the new socket created on
    call-accept has its SOCK_ZAPPED flag set by x25_make_new().
    (sock_init_data() called by x25_alloc_socket() called by x25_make_new()
    sets the flag to SOCK_ZAPPED)).
    
    Fix: Using the sock_copy_flag() routine available in sock.h fixes this.
    
    Tested on 32 and 64 bit kernels with x25 over tcp.
    
    Signed-off-by: Shaun Pereira <pereira.shaun@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5ceb74557c71465cf8f6fda050aac00e53f9ad3d
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 13:11:07 2006 -0800

    IB/mthca: multiple fixes for multicast group handling
    
    Multicast group management fixes:
    . Fix leak of mailbox memory in error handling on multicast group operations.
    . Free AMGM indices at detach and in attach error handling.
    . Fix amount to shift for aligning next_gid_index in mailbox: it
      starts at bit 6, not bit 5.
    . Allocate AMGM index after end of MGM table, in the range num_mgms to
      multicast table size - 1. Add some BUG_ON checks to catch cases
      where the index falls in the MGM hash area.
    . Initialize the list of QPs in a newly-allocated group from AMGM to 0
      This is necessary since when a group is moved from AMGM to MGM (in the
      case where the MGM entry has been emptied of QPs), the AMGM entry is
      not reset to 0 (and we don't want an extra command to do that).
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 4bad4dc919573dbe9a5b41dd9edff279e99822d7
Author: Kris Katterjohn <kjak@ispwest.com>
Date:   Fri Jan 6 13:08:20 2006 -0800

    [NET]: Change sk_run_filter()'s return type in net/core/filter.c
    
    It should return an unsigned value, and fix sk_filter() as well.
    
    Signed-off-by: Kris Katterjohn <kjak@ispwest.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dbbc0988288d9643044e8bd8c7e7de70016ecd23
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Fri Jan 6 13:05:58 2006 -0800

    [NET]: Use newer is_multicast_ether_addr() in some files
    
    This uses is_multicast_ether_addr() because it has recently been
    changed to do the same thing these seperate tests are doing.
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0d3b525fff40475e58dab9176740d2efc5f37838
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 13:03:43 2006 -0800

    IB/mthca: fix for RTR-to-RTS transition in modify QP
    
    PKEY_INDEX is not a legal parameter in the RTR->RTS transition.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0364ffc3e8c441d4185e3eb41ecc61dbb09614e4
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 13:01:27 2006 -0800

    IB/mthca: fix for SQEr-to-RTS transition in modify QP
    
    Fixes to SQEr->RTS transition in modify_qp:
    1. The flag IB_QP_ACCESS_FLAGS is optional for UC qps
    2. The SQEr state is not supported for RC qps
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ccf18968b1bbc2fb117190a1984ac2a826dac228
Merge: e91c021... d99cf9d...
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Jan 6 12:59:59 2006 -0800

    Merge ../torvalds-2.6/

commit 5b3bc7a68171138d52b1b62012c37ac888895460
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Jan 6 12:57:30 2006 -0800

    IB/mthca: max_inline_data handling tweaks
    
    Fix a case where copying max_inline_data from a successful create_qp
    capabilities output to create_qp input could cause EINVAL error:
    
    mthca_set_qp_size must check max_inline_data directly against
    max_desc_sz; checking qp->sq.max_gs is wrong since max_inline_data
    depends on the qp type and does not involve max_sg.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 37193147991a53b2e9f573d0ec47f63a2d4de8dc
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Jan 2 11:25:30 2006 +0100

    kconfig: fix gconfig with POSIXLY_CORRECT=1
    
    This patch fixed "make gconfig" with POSIXLY_CORRECT=1 set.
    
    This issue was reported by Jens Elkner <elkner@linofee.org> in kernel
    Bugzilla #2919.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 367cb704212cd0c9273ba2b1e62523139210563b
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Fri Jan 6 21:17:50 2006 +0100

    kbuild: un-stringnify KBUILD_MODNAME
    
    Now when kbuild passes KBUILD_MODNAME with "" do not __stringify it when
    used. Remove __stringnify for all users.
    This also fixes the output of:
    
    $ ls -l /sys/module/
    drwxr-xr-x 4 root root 0 2006-01-05 14:24 pcmcia
    drwxr-xr-x 4 root root 0 2006-01-05 14:24 pcmcia_core
    drwxr-xr-x 3 root root 0 2006-01-05 14:24 "processor"
    drwxr-xr-x 3 root root 0 2006-01-05 14:24 "psmouse"
    
    The quoting of the module names will be gone again.
    Thanks to GregKH + Kay Sievers for reproting this.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 9e56904e41e242169007e69d9916059dab995d90
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:56:01 2006 +0100

    SUNRPC: Make krb5 report unsupported encryption types
    
     Print messages when an unsupported encrytion algorthm is requested or
     there is an error locating a supported algorthm.
    
     Signed-off-by: Kevin Coffman <kwc@citi.umich.edu>
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 42181d4bafe9047d0cd7f92fc11d79496bd95034
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:56:01 2006 +0100

    SUNRPC: Make spkm3 report unsupported encryption types
    
     Print messages when an unsupported encrytion algorthm is requested or
     there is an error locating a supported algorthm.
    
     Signed-off-by: Kevin Coffman <kwc@citi.umich.edu>
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 9eed129bbde80cbd7ffeacaa1555ba1e0c9a0997
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:56:00 2006 +0100

    SUNRPC: Update the spkm3 code to use the make_checksum interface
    
     Also update the tokenlen calculations to accomodate g_token_size().
    
     Signed-off-by: Andy Adamson <andros@citi.umich.edu>
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 26c78e156b1d1b2387ec33b5f2fb62d6e0a186a3
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:58 2006 +0100

    NFSv4: Fix an Oops in nfs_do_expire_all_delegations
    
     If the loop errors, we need to exit.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 58df095b732529ade8f4051b41d7c29731afecd6
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:57 2006 +0100

    NFSv4: Allow entries in the idmap cache to expire
    
     If someone changes the uid/gid mapping in userland, then we do eventually
     want those changes to be propagated to the kernel. Currently the kernel
     assumes that it may cache entries forever.
    
     Add an expiration time + garbage collector for idmap entries.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 0065db328533c390fbfb0fe0c46bcf9a278fb99e
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:56 2006 +0100

    SUNRPC: Clean up xprt_destroy()
    
     We ought never to be calling xprt_destroy() if there are still active
     rpc_tasks. Optimise away the broken code that attempts to "fix" that case.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 632e3bdc5006334cea894d078660b691685e1075
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:55 2006 +0100

    SUNRPC: Ensure client closes the socket when server initiates a close
    
     If the server decides to close the RPC socket, we currently don't actually
     respond until either another RPC call is scheduled, or until xprt_autoclose()
     gets called by the socket expiry timer (which may be up to 5 minutes
     later).
    
     This patch ensures that xprt_autoclose() is called much sooner if the
     server closes the socket.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit eadb8c147154bff982f02accf31b847a1f142ace
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:54 2006 +0100

    NFS: get rid of some needless code obfuscation in xdr_encode_sattr().
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cf3fff54a46e1f8fa4cc1deb783172a392077eb0
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:53 2006 +0100

    NFS: Send valid mode bits to the server
    
     inode->i_mode contains a lot more than just the mode bits. Make sure that
     we mask away this extra stuff in SETATTR calls to the server.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit f518e35aec984036903c1003e867f833747a9d79
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Jan 3 09:55:52 2006 +0100

    SUNRPC: get rid of cl_chatty
    
     Clean up: Every ULP that uses the in-kernel RPC client, except the NLM
     client, sets cl_chatty.  There's no reason why NLM shouldn't set it, so
     just get rid of cl_chatty and always be verbose.
    
     Test-plan:
     Compile with CONFIG_NFS enabled.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 922004120b10dcb0ce04b55014168e8a7a8c1a0e
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Jan 3 09:55:51 2006 +0100

    SUNRPC: transport switch API for setting port number
    
     At some point, transport endpoint addresses will no longer be IPv4.  To hide
     the structure of the rpc_xprt's address field from ULPs and port mappers,
     add an API for setting the port number during an RPC bind operation.
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon
     with UDP and TCP.  NFSv2/3 and NFSv4 mounting should be carefully checked.
     Probably need to rig a server where certain services aren't running, or
     that returns an error for some typical operation.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 35f5a422ce1af836007f811b613c440d0e348e06
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Jan 3 09:55:50 2006 +0100

    SUNRPC: new interface to force an RPC rebind
    
     We'd like to hide fields in rpc_xprt and rpc_clnt from upper layer protocols.
     Start by creating an API to force RPC rebind, replacing logic that simply
     sets cl_port to zero.
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon
     with UDP and TCP.  NFSv2/3 and NFSv4 mounting should be carefully checked.
     Probably need to rig a server where certain services aren't running, or
     that returns an error for some typical operation.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 02107148349f31eee7c0fb06fd7a880df73dbd20
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Jan 3 09:55:49 2006 +0100

    SUNRPC: switchable buffer allocation
    
     Add RPC client transport switch support for replacing buffer management
     on a per-transport basis.
    
     In the current IPv4 socket transport implementation, RPC buffers are
     allocated as needed for each RPC message that is sent.  Some transport
     implementations may choose to use pre-allocated buffers for encoding,
     sending, receiving, and unmarshalling RPC messages, however.  For
     transports capable of direct data placement, the buffers can be carved
     out of a pre-registered area of memory rather than from a slab cache.
    
     Test-plan:
     Millions of fsx operations.  Performance characterization with "sio" and
     "iozone".  Use oprofile and other tools to look for significant regression
     in CPU utilization.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 03c21733938aad0758f5f88e1cc7ede69fc3c910
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:48 2006 +0100

    NFSv3: try get_root user-supplied security_flavor
    
     Thanks to Ed Keizer for bug and root cause.  He says: "... we could only mount
     the top-level Solaris share. We could not mount deeper into the tree.
     Investigation showed that Solaris allows UNIX authenticated FSINFO only on the
     top level of the share. This is a problem because we share/export our home
     directories one level higher than we mount them. I.e. we share the partition
     and not the individual home directories. This prevented access to home
     directories."
    
     We still may need to try auth_sys for the case where the client doesn't have
     appropriate credentials.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a659753ecc66945e9c69823fcbbe222b446c66d7
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:46 2006 +0100

    NLM: fix parsing of sm notify procedure
    
     The procedure that decodes statd sm_notify call seems to be skipping a
     few arguments.  How did this ever work?
    
     >From folks at Polyserve.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 64a318ee2af9000df482d7a125c3b3e1f1007404
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:46 2006 +0100

    NLM: Further cancel fixes
    
     If the server receives an NLM cancel call and finds no waiting lock to
     cancel, then chances are the lock has already been applied, and the client
     just hadn't yet processed the NLM granted callback before it sent the
     cancel.
    
     The Open Group text, for example, perimts a server to return either success
     (LCK_GRANTED) or failure (LCK_DENIED) in this case.  But returning an error
     seems more helpful; the client may be able to use it to recognize that a
     race has occurred and to recover from the race.
    
     So, modify the relevant functions to return an error in this case.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2c5acd2e1a73cad59203a1bace21e6b03f2920a9
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:45 2006 +0100

    NLM: clean up nlmsvc_delete_block
    
     The fl_next check here is superfluous (and possibly a layering violation).
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 5996a298da43a03081e9ba2116983d173001c862
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:44 2006 +0100

    NLM: don't unlock on cancel requests
    
     Currently when lockd gets an NLM_CANCEL request, it also does an unlock for
     the same range.  This is incorrect.
    
     The Open Group documentation says that "This procedure cancels an
     *outstanding* blocked lock request."  (Emphasis mine.)
    
     Also, consider a client that holds a lock on the first byte of a file, and
     requests a lock on the entire file.  If the client cancels that request
     (perhaps because the requesting process is signalled), the server shouldn't
     apply perform an unlock on the entire file, since that will also remove the
     previous lock that the client was already granted.
    
     Or consider a lock request that actually *downgraded* an exclusive lock to
     a shared lock.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit f232142cc21127c829559923eb405d1bcb2e2278
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Tue Jan 3 09:55:42 2006 +0100

    NLM: Clean up nlmsvc_grant_reply locking
    
     Slightly simpler logic here makes it more trivial to verify that the up's
     and down's are balanced here.  Break out an assignment from a conditional
     while we're at it.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit fb459f45f7c7689714023d41b3dca999bb90a5d3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 3 09:55:41 2006 +0100

    SUNRPC: net/sunrpc/xdr.c: remove xdr_decode_string()
    
     This patch removes ths unused function xdr_decode_string().
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Neil Brown <neilb@suse.de>
    Acked-by: Charles Lever <Charles.Lever@netapp.com>
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a72b44222d222749d54b3e370d825094352e389f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:41 2006 +0100

    NFSv4: Allow user to set the port used by the NFSv4 callback channel
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a895b4a198dd06f8353328867e4f6cfd28b63081
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:40 2006 +0100

    NFS: Clean up weak cache consistency code
    
     ...and ensure that nfs_update_inode() respects wcc
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit fa178f29c0f8a0dce748181a5351f4a92fd4f455
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:38 2006 +0100

    NFSv4: Ensure DELEGRETURN returns attributes
    
     Upon return of a write delegation, the server will almost always bump the
     change attribute. Ensure that we pick up that change so that we don't
     invalidate our data cache unnecessarily.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit beb2a5ec386e5ce6891ebd1c06b913da04354b40
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:37 2006 +0100

    NFSv4: Ensure change attribute returned by GETATTR callback conforms to spec
    
     According to RFC3530 we're supposed to cache the change attribute
     at the time the client receives a write delegation.
     If the inode is clean, a CB_GETATTR callback by the server to the
     client is supposed to return the cached change attribute.
     If, OTOH, the inode is dirty, the client should bump the cached
     change attribute by 1.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 969b7f2522c90dfed5d0d2553a91522bda2c3bf3
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:36 2006 +0100

    SUNRPC: Fix a potential race in rpc_pipefs.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 566dd6064e89b15ff2dec666a421bebf0f98f26c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:35 2006 +0100

    NFS: Make directIO aware of compound pages...
    
     ...and avoid calling set_page_dirty on them
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 70b9ecbdb9c5fdc731f8780bffd45d9519020c4a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:34 2006 +0100

    NFS: Make stat() return updated mtimes after a write()
    
     The SuS states that a call to write() will cause mtime to be updated on
     the file. In order to satisfy that requirement, we need to flush out
     any cached writes in nfs_getattr().
     Speed things up slightly by not committing the writes.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 24174119c73983d5217da8f56a12c79a9b57e056
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:33 2006 +0100

    NFSv4: Ensure that we return the delegation on the target of a rename too.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 40859d7ee64ed6bfad8a4e93f9bb5c1074afadff
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:09:02 2005 -0500

    NFS: support large reads and writes on the wire
    
     Most NFS server implementations allow up to 64KB reads and writes on the
     wire.  The Solaris NFS server allows up to a megabyte, for instance.
    
     Now the Linux NFS client supports transfer sizes up to 1MB, too.  This will
     help reduce protocol and context switch overhead on read/write intensive NFS
     workloads, and support larger atomic read and write operations on servers
     that support them.
    
     Test-plan:
     Connectathon and iozone on mount point with wsize=rsize>32768 over TCP.
     Tests with NFS over UDP to verify the maximum RPC payload size cap.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 325cfed9ae901320e9234b18c21434b783dbe342
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:08:55 2005 -0500

    NFS: make "inode number mismatch" message more useful
    
     To help NFS users and server developers, make the "inode number mismatch"
     message display more useful information.
    
     Test-plan:
     None.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit dc20f803904dbf30f834dcc43c14701dfce32491
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:08:57 2005 -0500

    NFS: get rid of useless kernel log message
    
     nfs_statfs() generates a log message when GETATTR returns an error.  This
     is usually a useless message.  Make it a dprintk.
    
     Test plan:
     None
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a911fd9a6046200e439b4af172e8379c0942eec3
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:08:59 2005 -0500

    NFS: simplify inlined bit ops in nfs_page.h
    
     Minor cleanup:  inlined bit ops in nfs_page.h can be simpler.
    
     Test plan:
     Write-intensive workload against a server that requires COMMITs.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 6b59a75460eb9527145d7bd55068e5d32bee8a44
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:08:19 2005 -0500

    NFS: Fix error recovery code in fs/nfs/inode.c:__init_nfs()
    
     Red Hat found a problem in the error recovery logic in __init_nfs.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit ce1a8e6796150233f5098100f70217521dc7c08f
Author: Chuck Lever <cel@netapp.com>
Date:   Wed Nov 30 18:08:17 2005 -0500

    NFS: use generic_write_checks() to sanity check direct writes
    
     Replace ad hoc write parameter sanity checking in nfs_file_direct_write()
     with a call to generic_write_checks().  This should make the proper checks
     modulo the O_LARGEFILE flag, and should catch NFSv2-specific limitations by
     virtue of i_sb->s_maxbytes.
    
     Test plan:
     Posix compliance testing with both NFSv2 and NFSv3.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 286d7d6a0cb38d3d4316a1dfea9b0c0fc5a6455b
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:26 2006 +0100

    NFSv4: Remove requirement for machine creds for the "setclientid" operation
    
     Use a cred from the nfs4_client->cl_state_owners list.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b4454fe1a7cb76a248d0641c9d68a44a1b8d9a1f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:25 2006 +0100

    NFSv4: Remove requirement for machine creds for the "renew" operation
    
     In RFC3530, the RENEW operation is allowed to use either
    
     the same principal, RPC security flavour and (if RPCSEC_GSS), the same
      mechanism and service that was used for SETCLIENTID_CONFIRM
    
     OR
    
     Any principal, RPC security flavour and service combination that
     currently has an OPEN file on the server.
    
     Choose the latter since that doesn't require us to keep credentials for
     the same principal for the entire duration of the mount.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 58d9714a44a79bba9b414da3ffbf3c753dc5915f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:24 2006 +0100

    NFSv4: Send RENEW requests to the server only when we're holding state
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 5043e900f5404c01864fbeb5826aa7de3981bbc1
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:23 2006 +0100

    NFS: Convert instances of kernel_thread() to kthread()
    
     Convert private implementations in NFSv4 state recovery and delegation
     code to use kthreads.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 433fbe4c8837e3cc2ba6a6374edf28737d01a2e9
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:22 2006 +0100

    NFSv4: State recovery cleanup
    
     Use wait_on_bit() when waiting for state recovery to complete.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 26e976a884be9aa08f8ff906372f25f68df0d948
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:21 2006 +0100

    NFSv4: OPEN/LOCK/LOCKU/CLOSE will automatically renew the NFSv4 lease
    
     Cut down on the number of unnecessary RENEW requests on the wire.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2bd615797ef32ec06ef0ee44198a7aecc21ffd8c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:19 2006 +0100

    SUNRPC: Ensure that SIGKILL will always terminate a synchronous RPC call.
    
     ...and make sure that the "intr" flag also enables SIGHUP and SIGTERM to
     interrupt RPC calls too (as per the Solaris implementation).
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit fe650407a86823bcafbfbee96c7bc6a1b5cd1c76
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:18 2006 +0100

    NFSv4: Make DELEGRETURN an interruptible operation.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a5d16a4d090bd2af86e648ed9bb205903fcf1e86
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:17 2006 +0100

    NFSv4: Convert LOCK rpc call into an asynchronous RPC call
    
     In order to allow users to interrupt/cancel it.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 911d1aaf26fc4d771174d98fcab710a44e2a5fa0
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:16 2006 +0100

    NFSv4: locking XDR cleanup
    
     Get rid of some unnecessary intermediate structures
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 864472e9b8fa76ffaad17dfcb84d79e16df6828c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:15 2006 +0100

    NFSv4: Make open recovery track O_RDWR, O_RDONLY and O_WRONLY correctly
    
     When recovering from a delegation recall or a network partition, we need
     to replay open(O_RDWR), open(O_RDONLY) and open(O_WRONLY) separately.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit e761692381f294ea079d2e869fcd7c0afc79e394
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:13 2006 +0100

    NFSv4: Make nfs4_state track O_RDWR, O_RDONLY and O_WRONLY separately
    
     A closer reading of RFC3530 reveals that OPEN_DOWNGRADE must always
     specify a access modes that have been the argument of a previous OPEN
     operation.
     IOW: doing OPEN(O_RDWR) and then OPEN_DOWNGRADE(O_WRONLY) is forbidden
     unless the user called OPEN(O_WRONLY)
    
     In order to fix that, we really need to track the three possible open
     states separately.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cdd4e68b5f0ed12c64b3e2be83655d2a47588a74
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:12 2006 +0100

    NFSv4: Make open_confirm() asynchronous too
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 24ac23ab88df5b21b5b2df8cde748bf99b289099
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:11 2006 +0100

    NFSv4: Convert open() into an asynchronous RPC call
    
     OPEN is a stateful operation, so we must ensure that it always
     completes. In order to allow users to interrupt the operation,
     we need to make the RPC call asynchronous, and then wait on
     completion (or cancel).
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit e60859ac0e50f660d23b72e42e05f58757dcfeff
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:10 2006 +0100

    SUNRPC: rpc_execute should not return task->tk_status;
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 89991c24e48b76f40aa3bd8c40c1e87c75d10a33
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:09 2006 +0100

    SUNRPC: Get rid of some unused exports
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit e56e0b78eb1097a8e06512b9ed4be94d7538e7ac
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:08 2006 +0100

    NFSv4: Allocate OPEN call RPC arguments using kmalloc()
    
     Cleanup in preparation for making OPEN calls interruptible by the user.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 06f814a3ad0ddfe19e6e4f44e3da5d490547faf3
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:07 2006 +0100

    NFSv4: Make locku use the new RPC "wait on completion" interface.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 44c288732fdbd7e38460d156a40d29590bf93bce
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:06 2006 +0100

    NFSv4: stateful NFSv4 RPC call interface
    
     The NFSv4 model requires us to complete all RPC calls that might
     establish state on the server whether or not the user wants to
     interrupt it. We may also need to schedule new work (including
     new RPC calls) in order to cancel the new state.
    
     The asynchronous RPC model will allow us to ensure that RPC calls
     always complete, but in order to allow for "synchronous" RPC, we
     want to add the ability to wait for completion.
     The waits are, of course, interruptible.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4ce70ada1ff1d0b80916ec9ec5764ce44a50a54f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:05 2006 +0100

    SUNRPC: Further cleanups
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 963d8fe53339128ee46a7701f2e36305f0ccff8c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:04 2006 +0100

    RPC: Clean up RPC task structure
    
     Shrink the RPC task structure. Instead of storing separate pointers
     for task->tk_exit and task->tk_release, put them in a structure.
    
     Also pass the user data pointer as a parameter instead of passing it via
     task->tk_calldata. This enables us to nest callbacks.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit abbcf28f23d53e8ec56a91f3528743913fa2694a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:03 2006 +0100

    SUNRPC: Yet more RPC cleanups
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit abd3e641d5ef9f836ab2f2b04d80b8619b051531
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Jan 3 09:55:02 2006 +0100

    NFS: Work correctly with single-page ->writepage() calls
    
     Ensure that we always initiate flushing of data before we exit
     a single-page ->writepage() call.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 22905f775dd6a8b73be99826dcad07ceec00244b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 16 15:07:01 2005 -0800

    identify multipage ->writepages() calls
    
     NFS needs to be able to distinguish between single-page ->writepage() calls and
     multipage ->writepages() calls.
    
     For the single-page writepage calls NFS can kick off the I/O within the
     context of ->writepage().
    
     For multipage ->writepages calls, nfs_writepage() will leave the I/O pending
     and nfs_writepages() will kick off the I/O when it all has been queued up
     within NFS.
    
     Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
     Signed-off-by: Andrew Morton <akpm@osdl.org>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 20ede2741551d4a1d24313292beb0da915a55911
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Thu Jan 5 12:10:52 2006 -0500

    gitignore: ignore shared objects
    
    Many arches make shared objects for VDSOs.  Generally exclude them.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 117a93db1dcd6ed61336b27e4e2938f791c1841b
Author: Rene Scharfe <rene.scharfe@lsrfire.ath.cx>
Date:   Wed Jan 4 20:42:03 2006 +0100

    kbuild: Use git in scripts/setlocalversion
    
    Currently scripts/setlocalversion is a Perl script that tries to figure
    out the current git commit ID of a repo without using git.  It also
    imports Digest::MD5 without using it and generally is too big for the
    small task it does. :]  And it always reports a git ID, even when the
    HEAD is tagged -- this is a bug.
    
    This patch replaces it with a Bourne Shell script that uses git
    commands to do the same.  I can't come up with a scenario where someone
    would use a git repo and refuse to install git core at the same time,
    so I think it's reasonable to assume git is available.
    
    The new script also reports uncommitted changes by adding -git_dirty to
    the version string.  Obviously you can't see from that _what_ has been
    changed from the last commit, so it's more of a reminder that you
    forgot to commit something.
    
    The script is easily extensible: simply add a check for Mercurial (or
    whatever) below the git check.
    
    Note: the script doesn't print a newline char anymore.  That's only
    because it was easier to implement it that way, not a feature (or bug).
    'make kernelrelease' doesn't care.
    
    Signed-off-by: Rene Scharfe <rene.scharfe@lsrfire.ath.cx>
    Acked-by: Ryan Anderson <ryan@michonline.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 253dfa6e465c054a73bd3b13af51c34c9d8d233d
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Fri Jan 6 20:33:41 2006 +0100

    kbuild: document howto build external modules using several directories
    
    Update modules.txt with info how to build external modules
    with files in several directories.
    The question popped up on lkml often enough to warrant this,
    let's see if people read this stuff - or google hits it.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit d99cf9d679a520d67f81d805b7cb91c68e1847f0
Merge: 7ed4091... e650c30...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 09:01:25 2006 -0800

    Merge branch 'post-2.6.15' of git://brick.kernel.dk/data/git/linux-2.6-block
    
    Manual fixup for merge with Jens' "Suspend support for libata", commit
    ID 9b847548663ef1039dd49f0eb4463d001e596bc3.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ed40918a386afc2e14a6d3da563ea6d13686c25
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Jan 6 08:43:16 2006 -0800

    x86: remove bogus 'pci=usepirqmask' suggestion when no irq is defined
    
    This was harmless, but for the case of a device that had no irq
    pre-defined we would incorrectly suggest that "usepirqmask" might make a
    difference.  It never would, and the message was just confusing people.
    
    Reported in the dmesg of Etienne Lorrain.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b847548663ef1039dd49f0eb4463d001e596bc3
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 6 09:28:07 2006 +0100

    [PATCH] Suspend support for libata
    
    This patch adds suspend patch to libata, and ata_piix in particular. For
    most low level drivers, they should just need to add the 4 hooks to
    work. As I can only test ata_piix, I didn't enable it for more
    though.
    
    Suspend support is the single most important feature on a notebook, and
    most new notebooks have sata drives. It's quite embarrassing that we
    _still_ do not support this. Right now, it's perfectly possible to
    suspend the drive in mid-transfer.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88202a0c84e1951d6630d1d557d4801a8cc5b5ef
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:21:36 2006 -0800

    [PATCH] md: allow sync-speed to be controlled per-device
    
    Also export current (average) speed and status in sysfs.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d7ff7380b2e28c2807da3bf9fa614d91d15bacf
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:21:16 2006 -0800

    [PATCH] md: support adding new devices to md arrays via sysfs
    
    Writing major:minor to md/new_dev will bind that device to the array.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83303b613d00718b07ec0a4dee7c99aa66629d96
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:21:06 2006 -0800

    [PATCH] md: allow available size of component devices to be set via sysfs
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6961ece46c7d02de1bb83914900608e39633787d
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:20:59 2006 -0800

    [PATCH] md-export-rdev-data_offset-via-sysfs-fix
    
    drivers/md/md.c: In function `offset_show':
    drivers/md/md.c:1670: warning: long long unsigned int format, different type arg (arg 3)
    
    Cc: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93c8cad03f02dbd1532a5413bdced25f000d5728
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:56 2006 -0800

    [PATCH] md: export rdev->data_offset via sysfs
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 014236d2b8ec6faea2a6134ab8e019d84d67b524
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:55 2006 -0800

    [PATCH] md: expose device slot information via sysfs
    
    This the role that a device has in an array can be viewed and set.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2bf071bf50580380a8c3afe5eef8152a66be96c7
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:55 2006 -0800

    [PATCH] md: keep better track of dev/array size when assembling md arrays
    
    Move the checks - that dev size is never less than array size - into
    bind_rdev_to_array to make sure it always happens properly (there is one place
    where currently it doesn't).
    
    Also reject any superblock which claims an array size smaller than the device
    in question can hold.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit da943b9912df063322d37b1a1f285460531d481d
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:54 2006 -0800

    [PATCH] md: allow md/raid_disks to be settable
    
    If array is active, try to reshape, else just set the value.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4dbcdc751cb25ffca3a8374cbc5ab6de961cc545
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:52 2006 -0800

    [PATCH] md: count corrected read errors per drive
    
    Store this total in superblock (As appropriate), and make it available to
    userspace via sysfs.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9d166c2a9d5d01af34396793950aa695883eed4
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:51 2006 -0800

    [PATCH] md: allow array level to be set textually via sysfs
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bb93aaca2062cd54cc2c58c76ee8409cae209a7
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:50 2006 -0800

    [PATCH] md: expose md metadata format in sysfs
    
    Allow it to be set to a particular version, or 'none'.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a35b0d695d44410eb1734c9abb632725a3138628
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:49 2006 -0800

    [PATCH] md: allow md array component size to be accessed and set via sysfs
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b34380ae8c5df6debd85183c7fa1ac05f79b7d2
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:47 2006 -0800

    [PATCH] md: allow chunk_size to be settable through sysfs
    
    ... only before array is started of course.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 03c902e17f40cfed63cd2494616f35fc9c58571b
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:46 2006 -0800

    [PATCH] md: fix rdev->pending counts in raid1
    
    When we do a user-requested check/repair, we lose count of the outstanding
    requests...
    
    Also make sure that when anything is written to md/sync_action, the
    RECOVERY_NEEDED flag is set and the thread is woken up so any changes take
    effect.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c708443c004f2310abdd7f1c353daa372b37f7a2
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:45 2006 -0800

    [PATCH] md: make sure bitmap updates are visible through filesystem
    
    When we update a page_cache page in the kernel, we need to flush_dache_page or
    userspace might not see the change.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07dbd37727049c0d56e313e5afcf8db07a9c3e37
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 00:20:44 2006 -0800

    [PATCH] drivers/md/md.c: make md_new_event() static
    
    Make the needlessly global function md_new_event() static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2989ddbd6e1d9638a188311b896362c4bf7b7c25
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:43 2006 -0800

    [PATCH] md: make a couple of names in md.c static
    
    .. because they aren't used outside md.c
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f188593ee7af8c71755d2df269a7a5f62c4b695e
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:42 2006 -0800

    [PATCH] md: fix typo in comment
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bce74dac082787375e76d2b33726b94c9701fabc
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:41 2006 -0800

    [PATCH] md: helper function to match commands written to sysfs files
    
    Commands written to sysfs files may, or my not, be \n terminated.  We want to
    accept with case.  For this we use cmd_match.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1345b1d8adbdeceb1c871d9a4af5e2a700b341c6
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:40 2006 -0800

    [PATCH] md: define and use safe_put_page for md
    
    md sometimes call put_page on NULL pointers (treating it like kfree).  This is
    not safe, so define and use a 'safe_put_page' which checks for NULL.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7dd5d34c6c2da04e8cd0732e08b33cd3359e4bae
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:39 2006 -0800

    [PATCH] md: remove inappropriate limits in md/bitmap configuration.
    
    The kernel should not be imposing these policy limits: The time between
    bitmap updates should certainly be allowed to be more than 15 seconds, and
    if someone wants a bitmap chunk size in excess of 4MB, the kernel isn't the
    place to stop them.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 097426f689f179747f3cd6b4749eb2a6b605702d
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:37 2006 -0800

    [PATCH] md: fix possible problem in raid1/raid10 error overwriting
    
    The code to overwrite/reread for addressing read errors in raid1/raid10
    currently assumes that the read will not alter the buffer which could be used
    to write to the next device.  This is not a safe assumption to make.
    
    So we split the loops into a overwrite loop and a separate re-read loop, so
    that the writing is complete before reading is attempted.
    
    Cc: Paul Clements <paul.clements@SteelEye.com>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2604b703b6b3db80e3c75ce472a54dfd0b7bf9f4
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:36 2006 -0800

    [PATCH] md: remove personality numbering from md
    
    md supports multiple different RAID level, each being implemented by a
    'personality' (which is often in a separate module).
    
    These personalities have fairly artificial 'numbers'.  The numbers
    are use to:
     1- provide an index into an array where the various personalities
        are recorded
     2- identify the module (via an alias) which implements are particular
        personality.
    
    Neither of these uses really justify the existence of personality numbers.
    The array can be replaced by a linked list which is searched (array lookup
    only happens very rarely).  Module identification can be done using an alias
    based on level rather than 'personality' number.
    
    The current 'raid5' modules support two level (4 and 5) but only one
    personality.  This slight awkwardness (which was handled in the mapping from
    level to personality) can be better handled by allowing raid5 to register 2
    personalities.
    
    With this change in place, the core md module does not need to have an
    exhaustive list of all possible personalities, so other personalities can be
    added independently.
    
    This patch also moves the check for chunksize being non-zero into the ->run
    routines for the personalities that need it, rather than having it in core-md.
     This has a side effect of allowing 'faulty' and 'linear' not to have a
    chunk-size set.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a24a8dd858e0ba50f06a9fd8f61fe8c4fe7a8d8e
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:35 2006 -0800

    [PATCH] md: break out of a loop that doesn't need to run to completion
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8745db232dd86f145bff6946e78f839acab511b
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:34 2006 -0800

    [PATCH] md: convert recently exported symbol to GPL
    
    ...because that seems to be the preferred practice these days.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea03aff93b4117c2ddfb91b34b44a44e19df24cd
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:34 2006 -0800

    [PATCH] md: convert various kmap calls to kmap_atomic
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fccddba060f2b4916a30aa27acc3d03b01bb981e
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:33 2006 -0800

    [PATCH] md: tidy up raid5/6 hash table code
    
    - replace open-coded hash chain with hlist macros
    
    - Fix hash-table size at one page - it is already quite generous, so there
      will never be a need to use multiple pages, so no need for __get_free_pages
    
    No functional change.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ffae0cf3ea02f75d163922accfd3e592d87adde
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:32 2006 -0800

    [PATCH] md: convert md to use kzalloc throughout
    
    Replace multiple kmalloc/memset pairs with kzalloc calls.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d1f3b5d1b2cd11a162eb29645df749ec0036413
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:31 2006 -0800

    [PATCH] md: clean up 'page' related names in md
    
    Substitute:
    
      page_cache_get -> get_page
      page_cache_release -> put_page
      PAGE_CACHE_SHIFT -> PAGE_SHIFT
      PAGE_CACHE_SIZE -> PAGE_SIZE
      PAGE_CACHE_MASK -> PAGE_MASK
      __free_page -> put_page
    
    because we aren't using the page cache, we are just using pages.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d7603b7e3a7f802c67f9190b2387d4d5d111ec14
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:30 2006 -0800

    [PATCH] md: make /proc/mdstat pollable
    
    With this patch it is possible to poll /proc/mdstat to detect arrays appearing
    or disappearing, to detect failures, recovery starting, recovery completing,
    and devices being added and removed.
    
    It is similar to the poll-ability of /proc/mounts, though different in that:
    
    We always report that the file is readable (because face it, it is, even if
    only for EOF).
    
    We report POLLPRI when there is a change so that select() can detect
    it as an exceptional event.  Not only are these exceptional events, but
    that is the mechanism that the current 'mdadm' uses to watch for events
    (It also polls after a timeout).
    (We also report POLLERR like /proc/mounts).
    
    Finally, we only reset the per-file event counter when the start of the file
    is read, rather than when poll() returns an event.  This is more robust as it
    means that an fd will continue to report activity to poll/select until the
    program clearly responds to that activity.
    
    md_new_event takes an 'mddev' which isn't currently used, but it will be soon.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0eb3ff12aa8a12538ef681dc83f4361636a0699f
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:29 2006 -0800

    [PATCH] md: raid10 read-error handling - resync and read-only
    
    Add in correct read-error handling for resync and read-only situations.
    
    When read-only, we don't over-write, so we need to mark the failed drive in
    the r10_bio so we don't re-try it.  During resync, we always read all blocks,
    so if there is a read error, we simply over-write it with the good block that
    we found (assuming we found one).
    
    Note that the recovery case still isn't handled in an interesting way.  There
    is nothing useful to do for the 2-copies case.  If there are 3 or more copies,
    then we could try reading from one of the non-missing copies, but this is a
    bit complicated and very rarely would be used, so I'm leaving it for now.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4443ae10ca15d07922ceda622f03db8865fa3d13
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:28 2006 -0800

    [PATCH] md: auto-correct correctable read errors in raid10
    
    Largely just a cross-port from raid1.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 220946c9018de74b952446e3a4dff1bfd4cbf310
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:27 2006 -0800

    [PATCH] md: make sure read error on last working drive of raid1 actually returns failure
    
    We are inadvertently setting the R1BIO_Uptodate bit on read errors when we
    decide not to try correcting (because there are no other working devices).
    This means that the read error is reported to the client as success.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d11c171e636cfd2df818cf3411d88222c2f4fcef
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:26 2006 -0800

    [PATCH] md: allow raid1 to check consistency
    
    Where performing a user-requested 'check' or 'repair', we read all readable
    devices, and compare the contents.  We only write to blocks which had read
    errors, or blocks with content that differs from the first good device found.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18f08819f42b647783e4f6ea99141623881bf182
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:25 2006 -0800

    [PATCH] md: support check-without-repair of raid10 arrays
    
    Also keep count on the number of errors found.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9910f16af35419a5382fa7850eecc220103036fa
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:24 2006 -0800

    [PATCH] md: fix up some rdev rcu locking in raid5/6
    
    There is this "FIXME" comment with a typo in it!!  that been annoying me for
    days, so I just had to remove it.
    
    conf->disks[i].rdev should only be accessed if
      - we know we hold a reference or
      - the mddev->reconfig_sem is down or
      - we have a rcu_readlock
    
    handle_stripe was referencing rdev in three places without any of these.  For
    the first two, get an rcu_readlock.  For the last, the same access
    (md_sync_acct call) is made a little later after the rdev has been claimed
    under and rcu_readlock, if R5_Syncio is set.  So just use that access...
    However R5_Syncio isn't really needed as the 'syncing' variable contains the
    same information.  So use that instead.
    
    Issues, comment, and fix are identical in raid5 and raid6.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf30a473a02901fe4db37abc0b0fa26dd5ba3f72
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:23 2006 -0800

    [PATCH] md: handle errors when read-only
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69382e85371c232df71524137a806b9c210ec021
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:22 2006 -0800

    [PATCH] md: better handling for read error in raid1 during resync
    
    Handling of read errors during resync is separate from handling of read errors
    during normal IO in raid1.  A previous patch added support for read errors
    during normal IO.  This one adds support for read errors during resync or
    recovery.
    
    The key differences are that we don't need to freeze the array, because the
    normal handling of resync means that this part of the array will be idle
    except for resync, and the read/overwrite/re-read is needed in a separate
    piece of code.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3e198f7826f830604f3aa7c20359a773e70cbeaa
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:21 2006 -0800

    [PATCH] md: tidyup some issues with raid1 resync and prepare for catching read errors
    
    We are dereferencing ->rdev without an rcu lock!
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ddaf22abaa831763e75775e6d4c7693504237997
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:19 2006 -0800

    [PATCH] md: attempt to auto-correct read errors in raid1
    
    On a read-error we suspend the array, then synchronously read the block from
    other arrays until we find one where we can read it.  Then we try writing the
    good data back everywhere and make sure it works.  If any write or subsequent
    read fails, only then do we fail the device out of the array.
    
    To be able to suspend the array, we need to also keep track of how many
    requests are queued for handling by raid1d.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d69762e98456b71167865db9e33e732a28dd36ab
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:18 2006 -0800

    [PATCH] md: improve handing of read errors with raid6
    
    This is a simple port of match functionality across from raid5.  If we get a
    read error, we don't kick the drive straight away, but try to over-write with
    good data first.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca65b73bd9c301d243df93780f7b26579e6c9204
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:17 2006 -0800

    [PATCH] md: fix raid6 resync check/repair code
    
    raid6 currently does not check the P/Q syndromes when doing a resync, it just
    calculates the correct value and writes it.  Doing the check can reduce writes
    (often to 0) for a resync, and it is needed to properly implement the
    
      echo check > sync_action
    
    operation.
    
    This patch implements the appropriate checks and tidies up some related code.
    
    It also allows raid6 user-requested resync to bypass the intent bitmap.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6cce3b23f6f8e974c00af7a9b88f1d413ba368a8
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:16 2006 -0800

    [PATCH] md: write intent bitmap support for raid10
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b15c2e57f0f5bf596a19e9c5571e5b07cdfc7363
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:16 2006 -0800

    [PATCH] md: move bitmap_create to after md array has been initialised
    
    This is important because bitmap_create uses
      mddev->resync_max_sectors
    and that doesn't have a valid value until after the array
    has been initialised (with pers->run()).
    [It doesn't make a difference for current personalities that
     support bitmaps, but will make a difference for raid10]
    
    This has the added advantage of meaning with can move the thread->timeout
    manipulation inside the bitmap.c code instead of sprinkling identical code
    throughout all personalities.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ff8d8ec06690f4011a6c3ad9e0759b9094f0601
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:15 2006 -0800

    [PATCH] md: allow dirty raid[456] arrays to be started at boot
    
    See patch to md.txt for more details
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 14f8d26b8ea3413b28f2cac208c9a93600fe3a80
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:14 2006 -0800

    [PATCH] md: small cleanups for raid5
    
    Resync code:
      A test that isn't needed,
      a 'compute_block' that makes more sense
        elsewhere (And then doesn't need a test),
      a couple of BUG_ONs to confirm the change makes sense.
    
    Printks:
      A few were missing KERN_*
    
    Also fix a typo in a comment..
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a27ec96b6fb1abf867e36d7b0b681d67588767a
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:13 2006 -0800

    [PATCH] md: improve raid10 "IO Barrier" concept
    
    raid10 needs to put up a barrier to new requests while it does resync or other
    background recovery.  The code for this is currently open-coded, slighty
    obscure by its use of two waitqueues, and not documented.
    
    This patch gathers all the related code into 4 functions, and includes a
    comment which (hopefully) explains what is happening.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17999be4aa408e7ff3b9d32c735649676567a3cd
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:20:12 2006 -0800

    [PATCH] md: improve raid1 "IO Barrier" concept
    
    raid1 needs to put up a barrier to new requests while it does resync or other
    background recovery.  The code for this is currently open-coded, slighty
    obscure by its use of two waitqueues, and not documented.
    
    This patch gathers all the related code into 4 functions, and includes a
    comment which (hopefully) explains what is happening.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac81b2ee45eb811fdb0aa1cfb71d468d944d00ce
Author: Darrick J. Wong <djwong@us.ibm.com>
Date:   Fri Jan 6 00:20:11 2006 -0800

    [PATCH] make dm-mirror not issue invalid resync requests
    
    I've been attempting to set up a (Host)RAID mirror with dm_mirror on
    2.6.14.3, and I've been having a strange little problem.  The configuration
    in question is a set of 9GB SCSI disks that have 17942584 sectors.  I set
    up the dm_mirror table as such:
    
    0 17942528 mirror core 2 2048 nosync 2 8:48 0 8:64 0
    
    If I'm not mistaken, this sets up a 9GB RAID1 mriror with 1MB stripes
    across both SCSI disks.  The sector count of the dm device is less than the
    size of the disks, so we shouldn't fall off the end.  However, I always get
    the messages like this in dmesg when I set up the dm table:
    
    attempt to access beyond end of device
    sdd: rw=0, want=17958656, limit=17942584
    
    Clearly, something is trying to read sectors past the end of the drive.  I
    traced it down to the __rh_recovery_prepare function in dm-raid1.c, which
    gets called when we're putting the mirror set together.  This function
    calls the dirty region log's get_resync_work function to see if there's any
    resync that needs to be done, and queues up any areas that are out of sync.
     The log's get_resync_work function is actually a pointer to the
    core_get_resync_work function in dm-log.c.
    
    The core_get_resync_work function queries a bitset lc->sync_bits to find
    out if there are any regions that are out of date (i.e.  the bit is 0),
    which is where the problem occurs.  If every bit in lc->sync_bits is 1
    (which is the case when we've just configured a new RAID1 with the nosync
    option), the find_next_zero_bit does NOT return the size parameter
    (lc->region_count in this case), it returns the size parameter rounded up
    to the nearest multiple of 32!  I don't know if this is intentional, but
    i386 and x86_64 both exhibit this behavior.
    
    In any case, the statement "if (*region == lc->region_count)" looks like
    it's supposed to catch the case where are no regions to resync and
    return 0.  Since find_next_zero_bit apparently has a habit of returning
    a value that's larger than lc->region_count, the enclosed patch changes
    the equality test to a greater-than test so that we don't try to resync
    areas outside of the RAID1 region.  Seeing as the HostRAID metadata
    lives just past the end of the RAID1 data, mucking around in that area
    is not a good idea.
    
    I suppose another way to fix this would be to amend find_next_zero_bit so
    that it doesn't return values larger than "size", but I don't know if
    there's a reason for the current behavior.
    
    Signed-Off-By: Darrick J. Wong <djwong@us.ibm.com>
    Acked-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d3520a339d62f942085e9888f66905eb8b350bd
Author: Stefan Rompf <stefan@loplof.de>
Date:   Fri Jan 6 00:20:08 2006 -0800

    [PATCH] dm-crypt: zero key before freeing it
    
    Zap the memory before freeing it so we don't leave crypto information
    around in memory.
    
    Signed-off-by: Stefan Rompf <stefan@loplof.de>
    Acked-by: Clemens Fruhwirth <clemens@endorphin.org>
    Acked-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b56306e56784d0513e1193d58c05a6bd97bd1a9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 00:20:08 2006 -0800

    [PATCH] drivers/md/kcopyd.c: #if 0 kcopyd_cancel()
    
    This patch #if 0's the not yet implemented global function kcopyd_cancel().
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6da487dcc0c6f4c827779687a20016efeffc4d60
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Fri Jan 6 00:20:07 2006 -0800

    [PATCH] device-mapper ioctl: add skip lock_fs flag
    
    Add ioctl DM_SKIP_LOCKFS_FLAG for userspace to request that lock_fs is
    bypassed when suspending a device.
    
    There's no change to the behaviour of existing code that doesn't know about
    the new flag.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa8d7c2fbe619d8c0837296d2eaf4c14cebac198
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Fri Jan 6 00:20:06 2006 -0800

    [PATCH] device-mapper: make lock_fs optional
    
    Devices only needs syncing when creating snapshots, so make this optional when
    suspending a device.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e39e2e95eb8bd536b61654e8fda1516d0a6a3cd1
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Fri Jan 6 00:20:05 2006 -0800

    [PATCH] device-mapper: rename frozen_bdev
    
    Rename frozen_bdev to suspended_bdev and move the bdget outside lockfs.  (This
    prepares for making lockfs optional.)
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1a190807074bd6ad8771e00b00752771ae586cb
Author: Jonathan E Brassow <jbrassow@redhat.com>
Date:   Fri Jan 6 00:20:05 2006 -0800

    [PATCH] device-mapper raid1: add default mirror
    
    This patch introduces a new field to the mirror_set (default_mirror) to store
    the default mirror.
    
    (A subsequent patch will allow us to change the default mirror in the event of
    a failure.)
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d5fe68987341a59a3fd97c71695efcabb0c6fd5
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Fri Jan 6 00:20:04 2006 -0800

    [PATCH] device-mapper: scanf sector format change
    
    Use %llu not %Lu in sscanf/printf format strings.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6c276159c812ab25f47b7c7b683a5c97c442dd5
Author: Andrew Stribblehill <a.d.stribblehill@durham.ac.uk>
Date:   Fri Jan 6 00:20:03 2006 -0800

    [PATCH] device-mapper: remove unused definition
    
    This patch removes an unused #define.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d38fe204461dc542bb38f2b01a9cd115b367b36
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Fri Jan 6 00:20:02 2006 -0800

    [PATCH] device-mapper snapshot: metadata reading separation
    
    More snapshot metadata reading into separate function, to prepare for changing
    the place it gets called from.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81f1777a55e8c631b61e5fa5980fb7a2004287af
Author: goggin, edward <egoggin@emc.com>
Date:   Fri Jan 6 00:20:01 2006 -0800

    [PATCH] device-mapper ioctl: event on rename
    
    After changing the name of a mapped device, trigger a dm event.  (For
    userspace multipath tools.)
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d229a9589ff3b988d3f999cdcfa350f97a372673
Author: David Teigland <teigland@redhat.com>
Date:   Fri Jan 6 00:20:01 2006 -0800

    [PATCH] device-mapper: add dm_get_md
    
    Add dm_get_dev() to get a mapped device given its dev_t.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 637842cfdbe2b981f7088f7633e630570f58efaf
Author: David Teigland <teigland@redhat.com>
Date:   Fri Jan 6 00:20:00 2006 -0800

    [PATCH] device-mapper: add dm_find_md
    
    Abstract dm_find_md() from dm_get_mdptr() to allow use elsewhere.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f708e40fe040e79f6c393a282f0701c9f8dc174
Author: Neil Brown <neilb@suse.de>
Date:   Fri Jan 6 00:19:59 2006 -0800

    [PATCH] knfsd: reduce stack consumption
    
    A typical nfsd call trace is
     nfsd -> svc_process -> nfsd_dispatch -> nfsd3_proc_write ->
       nfsd_write ->nfsd_vfs_write -> vfs_writev
    
    These add up to over 300 bytes on the stack.
    Looking at each of these, I see that nfsd_write (which includes
     nfsd_vfs_write) contributes 0x8c to stack usage itself!!
    
    It turns out this is because it puts a 'struct iattr' on the stack so
    it can kill suid if needed.  The following patch saves about 50 bytes
    off the stack in this call path.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a334de28665b14f0a33df82699fa9a78cfeedf31
Author: David Shaw <dshaw@jabberwocky.com>
Date:   Fri Jan 6 00:19:58 2006 -0800

    [PATCH] knfsd: check error status from vfs_getattr and i_op->fsync
    
    Both vfs_getattr and i_op->fsync return error statuses which nfsd was
    largely ignoring.  This as noticed when exporting directories using fuse.
    
    This patch cleans up most of the offences, which involves moving the call
    to vfs_getattr out of the xdr encoding routines (where it is too late to
    report an error) into the main NFS procedure handling routines.
    
    There is still a called to vfs_gettattr (related to the ACL code) where the
    status is ignored, and called to nfsd_sync_dir don't check return status
    either.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93fbf1a5de8afde08988dda3735669099dee84d0
Author: Olaf Kirch <okir@suse.de>
Date:   Fri Jan 6 00:19:56 2006 -0800

    [PATCH] Keep nfsd from exiting when seeing recv() errors
    
    I submitted this one previously - svc_tcp_recvfrom currently returns
    any errors to the caller, including ECONNRESET and the like.
    
    This is something svc_recv isn't able to deal with:
    
    	len = svsk->sk_recvfrom(rqstp);
    	[...]
    	if (len == 0 || len == -EAGAIN) {
    		[...]
    		return -EAGAIN;
    	}
    
    	[...]
    	return len;
    
    The nfsd main loop will exit when it sees an error code other than
    EAGAIN.
    
    The following patch fixes this problem
    
    svc_recv is not equipped to deal with error codes other than EAGAIN,
    and will propagate anything else (such as ECONNRESET) up to nfsd,
    causing it to exit.
    
    Signed-off-by: Olaf Kirch <okir@suse.de>
    Cc: Trond Myklebust <trond.myklebust@fys.uio.no>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f93ea411b73594f7d144855fd34278bcf34a9afc
Author: Jan Kara <jack@suse.cz>
Date:   Fri Jan 6 00:19:55 2006 -0800

    [PATCH] jbd: split checkpoint lists
    
    Split the checkpoint list of the transaction into two lists.  In the first
    list we keep the buffers that need to be submitted for IO.  In the second
    list are kept buffers that were already submitted and we just have to wait
    for the IO to complete.  This should simplify a handling of checkpoint
    lists a bit and can eventually be also a performance gain.
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6fe2e70bbed3995d930f39452fb6ce3be7dc47dc
Author: Jayachandran C <c.jayachandran@gmail.com>
Date:   Fri Jan 6 00:19:54 2006 -0800

    [PATCH] kernel/module.c: removed dead code
    
    This patch fixes an issue reported by Coverity in kernel/module.c
    
    Error reported: Cannot reach this line of code "else return ptr;"
    
    Patch description:
      This is the error path, so 'err' will be negative, the else case
      is not required, this patch removes it.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 066bb8d03b6e52e4844d37145573d6a2bedaa339
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Fri Jan 6 00:19:53 2006 -0800

    [PATCH] fix remaining list_for_each_safe_rcu in -mm (take 2)
    
    I missed a use of list_for_each_rcu_safe() in -mm tree.  Here is an updated
    patch to fix it.  This time tested on a machine that actually uses IPMI...
    (Thanks to Serge Hallyn for spotting this.)
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Cc: Corey Minyard <minyard@acm.org>
    Cc: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81684ee645e15601ec935461d9069a3086179c06
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 00:19:53 2006 -0800

    [PATCH] include/linux/parport_pc.h: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1b9168d83962fbb05859c1ecaa57fd4f53cf38e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 00:19:52 2006 -0800

    [PATCH] simplify PARPORT_PC_PCMCIA dependencies
    
    Unless I miss something, this should be the simplest way to express the
    intended dependencies.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94b82095d0f5d6a72a0c619f54645727ebf66642
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:51 2006 -0800

    [PATCH] parport: export parport_get_port()
    
    Help external ppSCSI driver by exporting parport_get_port to match the
    parport_put_port.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a85081d1c3ab7935c3ade8f4b2700a860d6fb2e
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:51 2006 -0800

    [PATCH] parport: include fixes
    
    Small cleanup of includes meant for older implementation.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a19b41b35bf45fc27a46dccf26005b3f44c1aa1
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:49 2006 -0800

    [PATCH] parport: Kconfig dependency fixes
    
    Make drivers that use directly PC parport HW depend on PARPORT_PC rather than
    HW independent PARPORT.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 110bee75d2e03d3b4bcc74743dee5a21fe7b43bd
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:49 2006 -0800

    [PATCH] parport: DEBUG_PARPORT build fix
    
    Add missing "struct" keyword preventing compilation with DEBUG_PARPORT
    defined.  Also add some "const".
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6767b7cc674ee39635db75ed2f6f65ed0012239
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:48 2006 -0800

    [PATCH] parport: constification
    
    Trivial "const" additions to places in parport that truly are const.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b44d3bdd6fcf6233b381bf5bd0893ed235f497a9
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:47 2006 -0800

    [PATCH] parport: use complete slab buffer
    
    Use the complete slab buffer that is allocated by kmalloc.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c9cc3be1094b267a2da2e0016cbd6ced663da6d
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:46 2006 -0800

    [PATCH] parport: parport_daisy_select return value fix
    
    parport_daisy_select returned wrong status that is read at wrong time
    during daisy command execution.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c29a75ed0d94fae64b59345ea96e52424ae9c6a2
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:46 2006 -0800

    [PATCH] parport: daisy chain device id reading fix
    
    Device ID reading from daisy chain devices failed because the daisy
    device could not be opened.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 310c8c324f988625a2880deab67607bf4e5aeb8a
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:45 2006 -0800

    [PATCH] parport: daisy chain end detection fix
    
    Daisy chain end detection failed at least with older daisy chain devices that
    do not implement the last device signal.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 742ec650e9b63ea61891455bb6f76bac37025c78
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:44 2006 -0800

    [PATCH] parport: phase fixes
    
    Did not move the parport interface properly into IEEE1284_PH_REV_IDLE phase at
    end of data due to comparing bytes with nibbles.  Internal phase
    IEEE1284_PH_HBUSY_DNA became unused, so remove it.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c660629059abbbd0eb56e12f9bb4494f01800bbc
Author: Marko Kohtala <marko.kohtala@gmail.com>
Date:   Fri Jan 6 00:19:43 2006 -0800

    [PATCH] parport: buffer overflow fix
    
    Fix potential buffer overflow in case the device ID did not end in semicolon.
    Also might fail to negotiate back to IEEE1284_MODE_COMPAT in case of failure.
    parport_device_id did not return what Documentation/parport-lowlevel.txt said,
    so I changed it to match it.
    
    Determining device ID length is overly complicated, but Tim Waugh recalled on
    linux-parport seeing some buggy device that might need it.
    
    Signed-off-by: Marko Kohtala <marko.kohtala@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39ee059affaf57a152c64cd3a0adc3f48f02ed71
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:43 2006 -0800

    [PATCH] fuse: check file type in lookup
    
    Previously invalid types were quietly changed to regular files, but at
    revalidation the inode was changed to bad.  This was rather inconsistent
    behavior.
    
    Now check if the type is valid on initial lookup, and return -EIO if not.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ad84acab972f4dfc78e6fdb04c419f82c497d29
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:42 2006 -0800

    [PATCH] fuse: ensure progress in read and write
    
    In direct_io mode, send at least one page per reqest.  Previously it was
    possible that reqests with zero data were sent, and hence the read/write
    didn't make any progress, resulting in an infinite (though interruptible)
    loop.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3ec870d524c9150add120475c8ddcfa50574f98e
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:41 2006 -0800

    [PATCH] fuse: make maximum write data configurable
    
    Make the maximum size of write data configurable by the filesystem.  The
    previous fixed 4096 limit only worked on architectures where the page size is
    less or equal to this.  This change make writing work on other architectures
    too, and also lets the filesystem receive bigger write requests in direct_io
    mode.
    
    Normal writes which go through the page cache are still limited to a page
    sized chunk per request.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d3d752b471d2a3a1d5e4fe177e5e7d52abb4e4c
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:40 2006 -0800

    [PATCH] fuse: clean up request size limit checking
    
    Change the way a too large request is handled.  Until now in this case the
    device read returned -EINVAL and the operation returned -EIO.
    
    Make it more flexibible by not returning -EINVAL from the read, but restarting
    it instead.
    
    Also remove the fixed limit on setxattr data and let the filesystem provide as
    large a read buffer as it needs to handle the extended attribute data.
    
    The symbolic link length is already checked by VFS to be less than PATH_MAX,
    so the extra check against FUSE_SYMLINK_MAX is not needed.
    
    The check in fuse_create_open() against FUSE_NAME_MAX is not needed, since the
    dentry has already been looked up, and hence the name already checked.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 248d86e87d12da19eee602075f05a49a5215288b
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:39 2006 -0800

    [PATCH] fuse: fail file operations on bad inode
    
    Make file operations on a bad inode fail.  This just makes things a
    bit more consistent.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f9f11806af8ad3a107714a3ece56c1c4fafd047
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:39 2006 -0800

    [PATCH] fuse: add code documentation
    
    Document some not-so-trivial functions.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8cbdf1e6f6876b37d2a0d96fd15ea9f90f7d51c1
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:38 2006 -0800

    [PATCH] fuse: support caching negative dentries
    
    Add support for caching negative dentries.
    
    Up till now, ->d_revalidate() always forced a new lookup on these.  Now let
    the lookup method return a zero node ID (not used for anything else) meaning a
    negative entry, but with a positive cache timeout.  The old way of signaling
    negative entry (replying ENOENT) still works.
    
    Userspace should check the ABI minor version to see whether sending a zero ID
    is allowed by the kernel or not.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de5f12025572ef8fcffa4be5453061725acfb754
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:37 2006 -0800

    [PATCH] fuse: add frsize to statfs reply
    
    Add 'frsize' member to the statfs reply.
    
    I'm not sure if sending f_fsid will ever be needed, but just in case leave
    some space at the end of the structure, so less compatibility mess would be
    required.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 45714d65618407bce1fd0271bc58303ce14b0785
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:36 2006 -0800

    [PATCH] fuse: bump interface version
    
    Change interface version to 7.4.
    
    Following changes will need backward compatibility support, so store the minor
    version returned by userspace.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4633a22e7added835fd1d4b072dbcc4474aa3017
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:36 2006 -0800

    [PATCH] fuse: clean up page offset calculation
    
    Use page_offset() instead of doing page offset calculation by hand.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0aa7c6990e7de06131cdc14ef4abfcab017c24a0
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Fri Jan 6 00:19:34 2006 -0800

    [PATCH] fuse: clean up fuse_lookup()
    
    Simplify fuse_lookup() and related functions.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 524e3b623a9228efbdb70484b5214f27a1ca985d
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:34 2006 -0800

    [PATCH] I2O: Lindent run
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6ed39a6e1a88240eec629a3da17c3a47ada3b89
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:33 2006 -0800

    [PATCH] I2O: Optimizing
    
    - make i2o_iop_free() static inline (from Adrian Bunk)
    
    - changed kmalloc() + memset(0) into kzalloc()
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e1973a3cd0b9fe31469be62df3583bdc5a34f51
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:32 2006 -0800

    [PATCH] I2O: Beautifying
    
    Fix some typos and minor code beautifying.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dcceafe25a5f47cf69e5b46b4da6f15186ec8386
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:32 2006 -0800

    [PATCH] I2O: Bugfixes
    
    - Removed some kmalloc's with __GFP_ZERO and replace it with memset()
      because it didn't work properly.
    
    - Fixed returned message frame in i2o_cfg_passthru() which caused raidutils
      to display wrong error message in case a disk was missing.
    
    - Fixed size of printk() in i2o_scsi.c.
    
    - Fixed get_device() and put_device() in probing of the I2O controller.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24791bd48f643194d806654b587251b0f92233e8
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:31 2006 -0800

    [PATCH] I2O: Remove wrong I2O device class
    
    Removed wrong I2O device class, which was only needed to add sysfs attributes.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 793fd15d9fafe5b1c71e50d3c041f1463895dbde
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:30 2006 -0800

    [PATCH] I2O: SPARC fixes
    
    Fix lot of BE <-> LE bugs which prevent it from working on SPARC.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1a5ea70a6e9db6332b27fe2d96666e17aa1436b
Author: Markus Lidel <Markus.Lidel@shadowconnect.com>
Date:   Fri Jan 6 00:19:29 2006 -0800

    [PATCH] I2O: changed I2O API to create I2O messages in kernel memory
    
    Changed the I2O API to create I2O messages first in kernel memory and then
    transfer it at once over the PCI bus instead of sending each quad-word over
    the PCI bus.
    
    Signed-off-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 347a8dc3b815f0c0fa62a1df075184ffe4cbdcf1
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Jan 6 00:19:28 2006 -0800

    [PATCH] s390: cleanup Kconfig
    
    Sanitize some s390 Kconfig options.  We have ARCH_S390, ARCH_S390X,
    ARCH_S390_31, 64BIT, S390_SUPPORT and COMPAT.  Replace these 6 options by
    S390, 64BIT and COMPAT.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9bbc8346fb21fad3f678220b067450e436e45dbf
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Fri Jan 6 00:19:27 2006 -0800

    [PATCH] s390: fix invalid return code in sclp_cpi
    
    When the sclp_cpi module is loaded on a system which does not support the
    required SCLP call (e.g.  on z/VM), ENOSUPP is returned to user space.  The
    correct return value is EOPNOTSUPP.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b793060e768197d525e892fd1f84dbc8767cada
Author: Cornelia Huck <huckc@de.ibm.com>
Date:   Fri Jan 6 00:19:26 2006 -0800

    [PATCH] s390: Fix missing release function and cosmetic changes
    
    - Use kzalloc() in blacklist.c.
    - Kill unwanted casts in blacklist.c.
    - Provide release function for struct channel_subsystem.
    
    Signed-off-by: Cornelia Huck <huckc@de.ibm.com>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88fbf18399bde8f2900cf932acd40733dfa1effa
Author: Eric Rossman <edrossma@us.ibm.com>
Date:   Fri Jan 6 00:19:25 2006 -0800

    [PATCH] s390: add support for cex2a crypto cards
    
    Signed-off-by: Eric Rossman <edrossma@us.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb6958a594da49ece869793e6ec163b89fc5f79f
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:25 2006 -0800

    [PATCH] s390: multiple subchannel sets support
    
    Add support for multiple subchannel sets.  Works with arbitrary devices in
    subchannel set 1 and is transparent to device drivers.  Although currently
    only two subchannel sets are available, this will work with the architectured
    maximum number of subchannel sets as well.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 678a395b356a98368a93c3640252502b70c3676f
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:24 2006 -0800

    [PATCH] s390: convert /proc/cio_ignore
    
    Convert /proc/cio_ignore to a sequential file.  This makes multiple subchannel
    sets support easier.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a28c69448154a0901e8815922030c5dcd2f8e388
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:23 2006 -0800

    [PATCH] s390: introduce struct channel_subsystem
    
    struct channel_subsystem encapsulates several per channel subsystem
    properties, like status of chpids or the global path group id.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f97a56fb768e5fe9cd07c56ca47870136bb5530c
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:22 2006 -0800

    [PATCH] s390: introduce for_each_subchannel
    
    for_each_subchannel() is an iterator calling a function for every possible
    subchannel id until non-zero is returned.  Convert the current iterating
    functions to it.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8237fc4108060402d904bea5e1062e22e731969
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:21 2006 -0800

    [PATCH] s390: introduce struct subchannel_id
    
    This patch introduces a struct subchannel_id containing the subchannel number
    (formerly referred to as "irq") and switches code formerly relying on the
    subchannel number over to it.
    
    While we're touching inline assemblies anyway, make sure they have correct
    memory constraints.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8129ee164267dc030b8e1d541ee3643c0b9f2fa1
Author: Frank Pavlic <pavlic@de.ibm.com>
Date:   Fri Jan 6 00:19:20 2006 -0800

    [PATCH] s390: qdio V=V pass-through
    
    New feature V=V qdio pass-through.
    
    QDIO and HiperSockets processing in z/VM V=V guest environments (as well as
    V=R with z/VM running in LPAR mode) requires shadowing of all QDIO
    architecture queue elements.  Especially the shadowing of SBALs and SLSBs
    structures in the hypervisor, and the need to issue SIGA SYNC operations to
    observe state changes, eventually causes significant CPU processing overhead
    in the hypervisor.
    
    The QDIO pass-through support for V=V guests avoids the shadowing of SBALs and
    SLSBs.  This significantly reduces the hypervisor overhead for QDIO based I/O.
    
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05f29fcdb0c6c99484c8bea5e244fe2f4edc9337
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Fri Jan 6 00:19:19 2006 -0800

    [PATCH] s390: in-kernel crypto test vectors
    
    Add new test vectors to the AES test suite for AES CBC and AES with plaintext
    larger than AES blocksize.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf754ae8ef8bc443c067601d9401103e4001e7c5
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Fri Jan 6 00:19:18 2006 -0800

    [PATCH] s390: aes support
    
    Add support for the hardware accelerated AES crypto algorithm.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0a497c17fee428604e06320272ff74415eacdc31
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Fri Jan 6 00:19:18 2006 -0800

    [PATCH] s390: sha256 support
    
    Add support for the hardware accelerated sha256 crypto algorithm.
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c1e26e1ef7ab50f30e5fbf004fe96ed44321ca78
Author: Jan Glauber <jan.glauber@de.ibm.com>
Date:   Fri Jan 6 00:19:17 2006 -0800

    [PATCH] s390: in-kernel crypto rename
    
    Replace all references to z990 by s390 in the in-kernel crypto files in
    arch/s390/crypto.  The code is not specific to a particular machine (z990) but
    to the s390 platform.  Big diff, does nothing..
    
    Signed-off-by: Jan Glauber <jan.glauber@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d0f4c16febf258ba8c0f917ac3ba935fc5459566
Author: Andreas Krebbel <krebbel1@de.ibm.com>
Date:   Fri Jan 6 00:19:16 2006 -0800

    [PATCH] s390: add oprofile callgraph support
    
    Signed-off-by: Andreas Krebbel <krebbel1@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1c01b8a5963aec60488c1c97d67cffd8b5275e3f
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Fri Jan 6 00:19:15 2006 -0800

    [PATCH] s390: dasd failfast support
    
    To properly support multipath-failover handling, the linux block layer has
    introduced a special request flag, 'REQ_FAILFAST'.  This flag is now used to
    return requests immediately in case the device is not operational.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a7af289660dc749d7c58234191601046a9bf488
Author: Horst Hummel <horst.hummel@de.ibm.com>
Date:   Fri Jan 6 00:19:14 2006 -0800

    [PATCH] s390: BIODASDPRRD ioctl return code
    
    The IOCTL BIODASDPRRD had no return code for 'profiling is inactive' and
    therefore tunedasd wrote misleading message for request-counter = 0.
    Introduce return-code EIO for inactive profiling.
    
    Signed-off-by: Horst Hummel <horst.hummel@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cfb1b55595a0dfd87b5849e8d0216c029f34445f
Author: Carsten Otte <cotte@de.ibm.com>
Date:   Fri Jan 6 00:19:14 2006 -0800

    [PATCH] s390: move s390_root_dev_* out of the cio layer
    
    Extract the s390_root_dev_* functions from the common I/O layer as they are
    also used by non-ccw device drivers.
    
    Signed-off-by: Carsten Otte <cotte@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6810a2bce3aa6573faa9920487274f166fe95c6e
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Fri Jan 6 00:19:13 2006 -0800

    [PATCH] s390: re-activated path detection
    
    If we receive path not operational indications (pnom in pmcw nonzero), we
    switch off those paths.  To catch them becoming available again, we have to
    recalculate the lpm from the pmcw each time we start path verification.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 089545f0c71bab6511395c2a060d7f81a99bad58
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Jan 6 00:19:12 2006 -0800

    [PATCH] s390: cputime_t fixes
    
    There are some more places where the use of cputime_t instead of an integer
    type and the associated macros is necessary for the virtual cputime accounting
    on s390.  Affected are the s390 specific appldata code and BSD process
    accounting.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 088c4ec16aa6b865dcf690051ddac30eb2bf6bcc
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Jan 6 00:19:11 2006 -0800

    [PATCH] s390: update default configuration
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e3df37e7fb4e41bec84465ff31949737160ed58
Author: Cedric Le Goater <clg@fr.ibm.com>
Date:   Fri Jan 6 00:19:10 2006 -0800

    [PATCH] s390: rt_sigreturn fix
    
    Check return code of do_sigaltstack and force a SIGSEGV if it is -EFAULT.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Cedric Le Goater <clg@fr.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a63a4931c301a14ca79c41fec0b99d898dbba1fb
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Jan 6 00:19:09 2006 -0800

    [PATCH] s390: uaccess warnings
    
    Convert __access_ok to an inline C function and change __get_user primitive to
    avoid uaccess compiler warnings.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 56dc6a88ec76019e0d0729165cb5b98536270e1d
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Fri Jan 6 00:19:09 2006 -0800

    [PATCH] s390: cms volume label definitions
    
    Moved definition of CMS volume label to vtoc.h and modify partitions/ibm.c to
    use this volume label definition instead of anonymous array.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 973bd9937569146de0917f54f05b2942f8257912
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Jan 6 00:19:07 2006 -0800

    [PATCH] s390: atomic primitives
    
          Hugh Dickins <hugh@veritas.com>
    
    Fix the broken atomic_cmpxchg primitive.  Add atomic_sub_and_test,
    atomic64_sub_return, atomic64_sub_and_test, atomic64_cmpxchg,
    atomic64_add_unless and atomic64_inc_not_zero.  Replace old style
    atomic_compare_and_swap by atomic_cmpxchg.  Shorten the whole header by
    defining most primitives with the two inline functions atomic_add_return and
    atomic_sub_return.
    
    In addition this patch contains the s390 related fixes of Hugh's "mm: fill
    arch atomic64 gaps" patch.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d93c700a489eba08514222df414a23852a85d2b
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:06 2006 -0800

    [PATCH] uml: free network IRQ correctly
    
    Free the network IRQ when closing down the network devices at shutdown.
    Delete the device from the opened devices list on close.
    
    These prevent an -EBADF when later disabling SIGIO on all extant descriptors
    and a complaint from free_irq about freeing the IRQ twice.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a331a511a2fe522034f3958eecf58751be434ac
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:05 2006 -0800

    [PATCH] uml: fix whitespace in mconsole driver
    
    Fix up some bogus spacing in the mconsole driver.  Also delete the
    emacs formatting comment at the end.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4111b025dc64f33803d2147565147428dc51d014
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:05 2006 -0800

    [PATCH] uml: capture printk output for mconsole sysrq
    
    Pass sysrq output back to the mconsole client using the mechanism
    introduced for stack output.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f517d3fc862d3c8d8ba65c0b2472d399aceb9ed
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:04 2006 -0800

    [PATCH] uml: capture printk output for mconsole stack
    
    The stack command now sends the printk output back to the mconsole client.
    This is done by registering a special console for the mconsole driver.  This
    receives all printk output.  Normally, it is ignored, but when a stack command
    is issued, any printk output will be sent back to the client.
    
    This will capture any printk output, whether it is stack output or not, since
    we can't tell the difference.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b033e1fdeef3d8bacac3cd5cfa53c9d670d1f3d
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:03 2006 -0800

    [PATCH] uml: add mconsole_reply variant with length param
    
    This is needed for the console output patch, since we have a possibly
    non-NULL-terminated string there.  So, the new interface takes a string and a
    length, and the old interface calls strlen on its string and calls the new
    interface with the length.
    
    There's also a bit of whitespace cleanup.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44700a4469b6bb89e6f1edd32b8a4a915dd967c6
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:02 2006 -0800

    [PATCH] uml: better diagnostics for broken configs
    
    Produce a compile-time error if both MODE_SKAS and MODE_TT are disabled.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e464bf2bed027ea185992b44bf4b0326387a520d
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:01 2006 -0800

    [PATCH] uml: SIGWINCH handling cleanup
    
    Code cleanup - unregister_winch and winch_cleanup had some duplicate code.
    This is now abstracted out into free_winch.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7eebe8a9c51686927709a57b1f2725d371014abc
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:19:01 2006 -0800

    [PATCH] uml: umid cleanup
    
    This patch cleans up the umid code:
    
    - The only_if_set argument to get_umid is gone.
    
    - get_umid returns an empty string rather than NULL if there is no umid.
    
    - umid_is_random is gone since its users went away.
    
    - Some printfs were turned into printks because the code runs late enough
      that printk is working.
    
    - Error paths were cleaned up.
    
    - Some functions now return an error and let the caller print the error
      message rather than printing it themselves.  This eliminates the practice of
      passing a pointer to printf or printk in, depending on where in the boot
      process we are.
    
    - Major tidying of not_dead_yet - mostly error path cleanup, plus a comment
      explaining why it doesn't react to errors the way you might expect.
    
    - Calls to os_* interfaces that were moved under os are changed back to
      their native libc forms.
    
    - snprintf, strlcpy, and their bounds-checking friends are used more often,
      replacing by-hand bounds checking in some places.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2264c475e4bf7427e59921953c89a5693ecb506f
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:59 2006 -0800

    [PATCH] uml: separate libc-dependent umid code
    
    I reworked Gennady's umid OS abstraction patch because the code shouldn't
    be moved entirely to os.  As it turns out, I moved most of it anyway.  This
    patch is the minimal one needed to move the code and have it work.
    It turns out that the concept of the umid is OS-independent, but
    almost everything else about the implementation is OS-dependent.
    
    This is code movement without cleanup - a follow-on patch tidies
    everything up without shuffling code around.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4dcee8099802c71437a15b940f66106d9f88b2f
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:58 2006 -0800

    [PATCH] uml: Add throttling to console driver
    
    This patch adds support for throttling and unthrottling input when the tty
    driver can't handle it.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9159c9dfffe1746d58b015ceaa3b7b8e99ee9d5c
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:58 2006 -0800

    [PATCH] uml: Fix flip_buf full handling
    
    When the tty flip_buf is full, it's a good idea to delay the input processing
    for a jiffy, rather than just scheduling the tasklet immediately.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 165dc5911627a9c4752e909a0da661b96b6fd269
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:57 2006 -0800

    [PATCH] uml: Simplify console opening/closing and irq registration
    
    This patch simplifies the opening and closing of host console devices and the
    registration and deregistration of IRQs.  The intent is to make it obvious
    that an IRQ can't exist without an open file descriptor.
    
    chan_enable will now open the channel, and when both opening and IRQ
    registration are desired, this should be used.  Opening only is done for the
    initial console, so that interface still needs to exist.
    
    The free_irqs_later interface is now gone.  It was intended to avoid freeing
    an IRQ while it was being processed.  It did this, but it didn't eliminate the
    possiblity of free_irq being called from an interrupt, which is bad.  In its
    place is a list of irqs to be freed, which is processed by the signal handler
    just before exiting.  close_one_chan now disables irqs.
    
    When a host device disappears, it is just closed, and that disables IRQs.
    
    The device id registered with the IRQ is now the chan structure, not the tty.
    This is because the interrupt arrives on a descriptor associated with the
    channel.  This caused equivalent changes in the arguments to line_timer_cb.
    line_disable is gone since it is not used any more.
    
    The count field in the line structure is gone.  tty->count is used instead.
    
    The complicated logic in sigio_handler with freeing IRQs when necessary and
    making sure its idea of the next irq is correct is now much simpler.  The irq
    list can't be rearranged underneath it, so it is now a simple list walk.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f80171e81ed0d08dcdb6efe239d7b929aef498f
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:55 2006 -0800

    [PATCH] uml: move console configuration
    
    This patch changes when console devices are configured in order to prepare the
    ground for the next patch.
    
    parse_chan_pair is now done earlier, when initcalls are run, rather than when
    the device is opened.
    
    When a host device disappears, the channel list is closed, but not freed.
    This is required by the previous change.  line_config now takes the options
    structure as an argument, and line_open doesn't.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 418e55d49b0ec7d2e7a033f2dd083f5b2ab7d119
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:54 2006 -0800

    [PATCH] uml: line_setup interface change
    
    line_setup is changed to return the device which it set up, rather than just
    success or failure.  This will be important in the line-config patch.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9010772cdff36072dd509ec72c1a55fccde8e58e
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:54 2006 -0800

    [PATCH] uml: Add static initializations and declarations
    
    Some structure fields were being dynamically initialized when they could be
    initialized at compile-time instead.  This also makes some declarations static
    (in the C sense).
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d571cd18f225542460b5d9b83e5e0d507be71656
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:53 2006 -0800

    [PATCH] uml: Move mconsole support out of generic code
    
    A bit of restructuring which eliminates the all_allowed argument (which is
    mconsole-specific) to line_setup.  That logic is moved to the mconsole
    callback.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88890b88742debb97006df264b653d18acdc80d0
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:52 2006 -0800

    [PATCH] uml: Remove unneeded structure field
    
    This removes a structure field which turned out to be pointless, and
    references to it.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0834cc77af6a8a650f803d4a7c3c0f134b366f87
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:51 2006 -0800

    [PATCH] uml: use ARRAY_SIZE
    
    This patch replaces instances of "sizeof(foo)/sizeof(foo[0])" with
    ARRAY_SIZE(foo), which expands to the same thing.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d50084a2991f3d9490d5c0f3af72e6fe1515a493
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:50 2006 -0800

    [PATCH] uml: Formatting changes
    
    This patch makes a bunch of non-functional changes -
        return(foo); becomes return foo;
        some statements are broken across lines for readability
        some trailing whitespace is cleaned up
        open_one_chan took four arguments, three of which could be
           deduced from the first.  Accordingly, they were eliminated.
        some examples of "} else {" had a newline added
        some whitespace cleanup in the indentation
        lines_init got some control flow cleanup
        some long lines were broken
        removed another emacs-specific C formatting comment
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b57e9c27882a908f180d4daf72ee12c6f137178
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:49 2006 -0800

    [PATCH] uml: non-void functions should return something
    
    There are a few functions which are declared to return something, but don't.
    These are actually infinite loops which are forced to be declared as non-void.
     This makes them all return 0.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 970d6e3a3461ebc62bc3fc6d4962c936cb2ed97c
Author: Jeff Dike <jdike@addtoit.com>
Date:   Fri Jan 6 00:18:48 2006 -0800

    [PATCH] uml: use kstrdup
    
    There were a bunch of calls to uml_strdup dating from before kstrdup was
    introduced.  This changes those calls.  It doesn't eliminate the definition
    since there is still a couple of calls in userspace code (which should
    probably call the libc strdup).
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 118c1f27b838c5d1cf5338dc5abff52ceb364826
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Jan 6 00:18:47 2006 -0800

    [PATCH] cris: kgdb: remove double_this()
    
    Doesn't make much sense and unused.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Mikael Starvik <starvik@axis.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b14a72d6cbf73443b975ffb04871e0ffb240df58
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 6 00:18:46 2006 -0800

    [PATCH] m68knommu: remove enable_irq_nosync()
    
    m68k, m68knommu and h8300 define this, but it's not actually used
    anywhere.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32588918254cff7c03651dcbd3d8cc2301aba5bd
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Jan 6 00:18:45 2006 -0800

    [PATCH] m68knommu: enable_irq/disable_irq
    
    mach_enable_irq/mach_disable_irq are never actually set, so let's remove
    them.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Greg Ungerer <gerg@uclinux.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit adfc31c67f4515ed4bad1ef9555cbacdfc24e8d3
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:45 2006 -0800

    [PATCH] m32r: Remove unnecessary icu_data_t definitions
    
    This patch removes unnecessary struct icu_data_t definitions of
    arch/m32r/kernel/setup_*.c.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b791d4766c19ac014a7b81a551efe4a7511e12a
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:44 2006 -0800

    [PATCH] m32r: Fix M32104 cache flushing routines
    
    This patch fixes cache memory parameter setting for the M32104 target.  So
    far, its performance seemed to have been degraded due to incorrect cache
    parameter setting.
    
      * arch/m32r/boot/setup.S: Set SFR(Special Fuction Registers) region
        to be non-cachable explicitly.
      * arch/m32r/mm/cache.c: Fix cache flushing routines not to switch off
        the M32104 cache.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46ea178b7a5162405bf70954d769165cf2161309
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:43 2006 -0800

    [PATCH] m32r: Update _port2addr to use NONCACHE_OFFSET
    
    Modify _port2addr*() routines in arch/m32r/kernel/io_*.c to use
    NONCACHE_OFFSET instead of hard-coding of a constant address.
    
    This modification is also required to support an M3A-ZA36 FPGA eva board in
    case an MMU-less synthesizable m32r core is used.
    
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b5b776aa5730cbda9cba84ba0f8ccd53a775797
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:42 2006 -0800

    [PATCH] m32r: Update syscall macros for MMU-less targets
    
    This patch is for updating m32r's MMU-less support.
    
    Some legacy MMU-less m32r chips cannot return from a trap handler to the
    right-hand side 16-bit halfword code of a 32-bit instrucion code pair, because
    a "trap" instruction specification was expanded in M32R-II ISA.
    
    This modification forces "trap" instructions to be placed in word alignment
    location with a parallel "nop" code.
    
    Signed-off-by: Kazuhiro Inaoka <inaoka@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9287d95ea194abf32fab24c6909f8ea55ab0292f
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:41 2006 -0800

    [PATCH] m32r: Support M32104UT target platform
    
    This patch is for supporting a new target platform, Renesas M32104UT
    evaluation board.
    
    The M32104UT is an eval board based on an uT-Engine specification.  This board
    has an MMU-less M32R family processor, M32104.
    http://www-wa0.personal-media.co.jp/pmc/archive/te/te_m32104_e.pdf
    
    This board is one of the most popular M32R platform, so we have ported
    Linux/M32R to it.
    
    Signed-off-by: Naoto Sugai <Sugai.Naoto@ak.MitsubishiElectric.co.jp>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60c83c77c4a6a399d55e4f9ad156bccdfe51c96b
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Fri Jan 6 00:18:39 2006 -0800

    [PATCH] m32r: trivial fix to remove unused instructions
    
    A trivial fix to remove unused instructions.
    
    Signed-off-by: Naoto Sugai <Sugai.Naoto@ak.MitsubishiElectric.co.jp>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c1d286e6aa5581e9d214cbaec2bee0394bb8de8
Author: Dave Jones <davej@redhat.com>
Date:   Fri Jan 6 00:18:38 2006 -0800

    [PATCH] don't freeze firewire on suspend.
    
    We had a report from one loony user who tried out suspend to disk using a
    swap partition on a firewire drive.  As the firewire thread was put to
    sleep it didn't work out too well.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Cc: Pavel Machek <pavel@ucw.cz>
    Cc: Ben Collins <bcollins@debian.org>
    Cc: Jody McIntyre <scjody@modernduck.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 277c6e2ad7369558dbd7ffbcc6dcbe16458bf723
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:17:58 2006 -0800

    [PATCH] swsusp: save image header first
    
    This makes the swsusp_info structure become the header of the image in the
    literal sense (ie.  it is saved to the swap and read before any other image
    data with the help of the swsusp's swap map structure, so generally it is
    treated in the same way as the rest of the image).
    
    The main thing it does is to make swsusp_header contain the offset of the swap
    map used to track the image data pages rather than the offset of swsusp_info.
    Simultaneously, swsusp_info becomes the first image page written to the swap.
    
    The other changes are generally consequences of the above with a few
    exceptions (there's some consolidation in the image reading part as a few
    functions turn into trivial wrappers around something else).
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1adf6c8ea916bc4a2587a881ec7715fece63fb5e
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:17:16 2006 -0800

    [PATCH] swsusp: improve handling of swap partitions
    
    This changes the handling of swap partitions by swsusp to avoid locking of the
    swap devices that are not used for suspend and, consequently, simplifies the
    code.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a291a20bd6fcfafb2109031f0760a0d3e92ecd7
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:16:37 2006 -0800

    [PATCH] mm: add a new function (needed for swap suspend)
    
    This adds the function get_swap_page_of_type() allowing us to specify an index
    in swap_info[] and select a swap_info_struct structure to be used for
    allocating a swap page.
    
    This function (or another one of similar functionality) will be necessary for
    implementing the image-writing part of swsusp in the user space.  It can also
    be used for simplifying the current in-kernel implementation of the
    image-writing part of swsusp.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca0aec0f7a94bf9f07fefa8bfd23282d4e8ceb8a
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:15:56 2006 -0800

    [PATCH] swsusp: make image size limit tunable
    
    Make the suspend image size limit tunable via /sys/power/image_size.
    
    It is necessary for systems on which there is a limited amount of swap
    available for suspend.  It can also be useful for optimizing performance of
    swsusp on systems with 1 GB of RAM or more.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3a93a255ec33a04776ec50efb30b7a99168dda2
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:15:22 2006 -0800

    [PATCH] swsusp: limit image size
    
    Limit the size of the suspend image to approx.  500 MB, which should
    improve the overall performance of swsusp on systems with more than 1 GB of
    RAM.
    
    It introduces the constant IMAGE_SIZE that can be set to the preferred size
    of the image (in MB) and modifies the memory-shrinking part of swsusp to
    take this constant into account (500 is the default value of IMAGE_SIZE).
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c050ca78705592d440c22055865bf4de40fe2a4c
Author: Pavel Machek <pavel@ucw.cz>
Date:   Fri Jan 6 00:15:21 2006 -0800

    [PATCH] swsusp: Drop duplicate prototypes
    
    These two prototypes are already present in sched.h, remove duplicate
    version.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 45029c3207840edb9c9b795de0145ded1c675fce
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:20 2006 -0800

    [PATCH] oss: remove deprecated PM interface from opl3sa2 driver
    
    This change removes the old, deprecated interface from the opl3sa2 driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76cd48a397f126ea883835f5889ee1837596f021
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:19 2006 -0800

    [PATCH] oss: remove deprecated PM interface from nm256 driver
    
    This change removes the old, deprecated interface from the nm256 driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    Note that this driver has been obsoleted by an ALSA equivalent.
    
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53052539f3e2b29ccaf2064b0d3b8cee51d05621
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:18 2006 -0800

    [PATCH] oss: remove deprecated PM interface from maestro driver
    
    This change removes the old, deprecated interface from the maestro driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    The check_suspend() function and associated logic was not removed, even though
    it is now unnecessary.
    
    Note that this driver has been obsoleted by an ALSA equivalent.
    
    Acked-by: Zach Brown <zab@zabbo.net>
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94661e7c33e6e3001be07d76d3a87eaa41dad3df
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:17 2006 -0800

    [PATCH] oss: remove deprecated PM interface from cs46xx driver
    
    This change removes the old, deprecated interface from the cs46xx driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    Note this driver has PCI PM hooks which are set properly.  It also has the
    ability to trigger suspend/resume from an ioctl.  This functionality was not
    touched, though it could use a serious review if this driver continues to
    persist in the mainline tree..
    
    Note that this driver has been obsoleted by an ALSA equivalent.
    
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee77e2754247d011a11f572788040cda2493c998
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:14 2006 -0800

    [PATCH] oss: remove deprecated PM interface from cs4281 driver
    
    This change removes the old, deprecated interface from the cs4281 driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    Note that this driver has been obsoleted by an ALSA equivalent.
    
    Note that this driver has hooks for PCI power management, but does not
    implement the ->suspend()/->resume() methods.
    
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e7c045c14bffcab2d329e86b80dc8ff7d528e05b
Author: Patrick Mochel <mochel@digitalimplant.org>
Date:   Fri Jan 6 00:15:07 2006 -0800

    [PATCH] oss: remove deprecated PM interface from ad1848 driver
    
    This change removes the old, deprecated interface from the ad1848 driver,
    including the pm_{,un}register() calls, the local storage of the pmdev object
    and the reference to the old header files.  This change is done to assist in
    eradicating the users of the legacy interface so as to help facilitate the
    removal of the interface itself.
    
    Signed-off-by: Patrick Mochel <mochel@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5e2fa7857f6bf46605c77d949fa6698b9b0bc28
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:14:20 2006 -0800

    [PATCH] swsusp: fix enough_free_mem
    
    This patch fixes a problem with the function enough_free_mem() used by
    swsusp to verify if there is a sufficient number of memory pages available
    to it to create and save the suspend image.
    
    Namely, enough_free_mem() uses nr_free_pages() to obtain the number of free
    memory pages, which is incorrect, because this function returns the total
    number of free pages, including free highmem pages, and the highmem pages
    cannot be used by swsusp for storing the image data.
    
    The patch makes enough_free_mem() avoid counting the free highmem
    pages as available to swsusp.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 72a97e08394a3b2e75481ff680ec2a0591e3cba4
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:13:46 2006 -0800

    [PATCH] swsusp: improve freeing of memory
    
    This patch makes swsusp free only as much memory as needed to complete the
    suspend and not as much as possible.  In the most of cases this should speed
    up the suspend and make the system much more responsive after resume,
    especially if a GUI (eg.  X Windows) is used.
    
    If needed, the old behavior (ie to free as much memory as possible during
    suspend) can be restored by unsetting FAST_FREE in power.h
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7088a5c00103ef48782d6c359cd12b13a10666e6
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:13:05 2006 -0800

    [PATCH] swsusp: introduce the swap map structure
    
    This patch introduces the swap map structure that can be used by swsusp for
    keeping tracks of data pages written to the swap.  The structure itself is
    described in a comment within the patch.
    
    The overall idea is to reduce the amount of metadata written to the swap and
    to write and read the image pages sequentially, in a file-alike way.  This
    makes the swap-handling part of swsusp fairly independent of its
    snapshot-handling part and will hopefully allow us to completely separate
    these two parts in the future.
    
    This patch is needed to remove the suspend image size limit imposed by the
    limited size of the swsusp_info structure, which is essential for x86-64
    systems with more than 512 MB of RAM.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f2d97f02961e8b1f8a24befb88ab0e5c886586ff
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Fri Jan 6 00:12:24 2006 -0800

    [PATCH] swsusp: remove encryption
    
    This patch removes the image encryption that is only used by swsusp instead of
    zeroing the image after resume in order to prevent someone from reading some
    confidential data from it in the future and it does not protect the image from
    being read by an unauthorized person before resume.  The functionality it
    provides should really belong to the user space and will possibly be
    reimplemented after the swap-handling functionality of swsusp is moved to the
    user space.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0595bf3bca9d9932a05b06dd438f40f01d27cd33
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Fri Jan 6 00:12:22 2006 -0800

    [PATCH] Alpha: convert to generic irq framework (alpha part)
    
    Kconfig tweaks and tons of deletions.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Richard Henderson <rth@twiddle.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eee45269b0f5979c70bc151c6c2f4e5f4f5ababe
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Fri Jan 6 00:12:21 2006 -0800

    [PATCH] Alpha: convert to generic irq framework (generic part)
    
    Thanks to Christoph for doing most of the work.
    
    This allows automatic SMP IRQ affinity assignment other than default "all
    interrupts on all CPUs" which is rather expensive.  This might be useful if
    the hardware can be programmed to distribute interrupts among different
    CPUs, like Alpha does.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Christoph Hellwig <hch@lst.de>
    Cc: Richard Henderson <rth@twiddle.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1fa744e6e91a895750b9980d13fcfc5791a0cd91
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Fri Jan 6 00:12:20 2006 -0800

    [PATCH] cpu hotplug/x86_64: disable interrupt in play_dead
    
    With physical CPU hotplug, the CPU is hot removed and it should not receive
    any interrupts.  Disabling interrupt is much safer.  This basically is what we
    do in ia64 & x86.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 766c3f94d4492ee4ec60b65693e71ee4b1d6fd68
Author: Ben Collins <ben.collins@ubuntu.com>
Date:   Fri Jan 6 00:12:20 2006 -0800

    [PATCH] i386: Handle HP laptop rebooting properly.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76865c3f87e825dda0c458b02f30dd8ae64b7bdc
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Fri Jan 6 00:12:19 2006 -0800

    [PATCH] i386: ioapic virtual wire mode fix
    
    o Currently, during kexec reboot, IOAPIC is re-programmed back to virtual
      wire mode if there was an i8259 connected to it. This enables getting
      timer interrupts in second kernel in legacy mode.
    
    o After putting into virtual wire mode, IOAPIC delivers the i8259 interrupts
      to CPU0. This works well for kexec but not for kdump as we might crash
      on a different CPU and second kernel will not see timer interrupts.
    
    o This patch modifies the redirection table entry to deliver the timer
      interrupts to the cpu we are rebooting (instead of hardcoding to zero).
      This ensures that second kernel receives timer interrupts even on a
      non-boot cpu.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19d534842cc39df1b568722c18f96ae24fb0e136
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Fri Jan 6 00:12:18 2006 -0800

    [PATCH] mpspec: remove unneeded packed attribute
    
    GCC 4.1 gives the following warning: include/asm/mpspec.h:79: warning:
    `packed' attribute ignored for field of type `unsigned char'
    
    The packed attribute isn't really necessary anyways so just remove it.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Acked-by: Dave Jones <davej@codemonkey.org.uk>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bcf0f0d233fc76e7c59c7f731caad555428d0e8d
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Fri Jan 6 00:12:17 2006 -0800

    [PATCH] fix cpu frequency detection in arch/i386/kernel/timers/timer_tsc.c::recalibrate_cpu_khz()
    
    When we re-calibrate the frequency, it is likely that an interrupt (as for
    example the main system clock) will be triggered by the system.  Therefore
    the calibration may not be accurate.  This will also provide a fix to bug
    #5266.
    
    Many thanks to Larry Finger for helping resolving this issue.
    
    Signed-off-by: Bruno Ducrot <ducrot@poupinou.org>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3841b0a173cb6fc52163e67c03280543f2412db3
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Fri Jan 6 00:12:16 2006 -0800

    [PATCH] APM Screen Blanking fix
    
    - Fix screen blanking on BIOSes that return APM_NOT_ENGAGED when APM enabled
      screen blanking is not turned on.
    
      The original code only tried to set the state on device 0x100, and then
      0x1FF, and I added 0x101 to the mix too.
    
    - Clean up logic in apm_console_blank().
    
    - Prevent the error message from printing out twice.
    
    Cc: Jordan Crouse <jordan.crouse@amd.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7a4ad0998dcd682f4968e8ec5fc1259914a1c4a
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Fri Jan 6 00:12:15 2006 -0800

    [PATCH] Geode LX HW RNG Support
    
    Add support to hw_random for the Geode LX HRNG device.
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f90b8116032f4216d260e31f966a3585319387ac
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Fri Jan 6 00:12:14 2006 -0800

    [PATCH] Base support for AMD Geode GX/LX processors
    
    Provide basic support for the AMD Geode GX and LX processors.
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b7f430ee0a269464aa29159eb464e647ca313d3
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Fri Jan 6 00:12:13 2006 -0800

    [PATCH] arch/i386/kernel/cpuid.c: unused variable
    
    Removed the unused variable "rv".
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: H. Peter Anvin <hpa@zytor.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6926d570b6159c6a7f65921ca119a675b12fef86
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Fri Jan 6 00:12:12 2006 -0800

    [PATCH] arch/i386/kernel/msr.c: removed unused variable
    
    Removed the unused variable "rv".
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: H. Peter Anvin <hpa@zytor.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d832245d7cc16d50b29c1b708ccbe9c75ac376a3
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Jan 6 00:12:12 2006 -0800

    [PATCH] x86: fls() in asm
    
    There is a single instruction on i386 to find largest set bit; so it makes
    sense to use it (like we use bfs for ffs()).
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e31b88ba49460653bab87423287bb68743f5de5c
Author: Dave Jones <davej@redhat.com>
Date:   Fri Jan 6 00:12:11 2006 -0800

    [PATCH] x86: missing printk newline in apic boot option parser
    
    Missing newline in printk.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8af095d3a4c8300b4e63ee2c4bb198b565d9431
Author: Dave Jones <davej@redhat.com>
Date:   Fri Jan 6 00:12:10 2006 -0800

    [PATCH] x86: change_page_attr() fix
    
    The 'make rodata read-only' patch in -mm exposes a latent bug in the 32-bit
    change_page_attr() function, which causes certain CPUs (Those with NX
    basically) to reboot instantly after pages are marked read-only.
    
    The same bug got fixed a while back on x86-64, but never got propagated to
    i386.
    
    Stuart Hayes from Dell also picked up on this last June, but it never got
    fixed, as the only thing affected by it aparently was the nvidia driver.
    
    Blatantly stealing description from his post..
    
    "It doesn't appear to be fixed (in the i386 arch).  The
     change_page_attr()/split_large_page() code will still still set all the
     4K PTEs to PAGE_KERNEL (setting the _PAGE_NX bit) when a large page
     needs to be split.
    
     This wouldn't be a problem for the bulk of the kernel memory, but there
     are pages in the lower 4MB of memory that's free, and are part of large
     executable pages that also contain kernel code.  If change_page_attr()
     is called on these, it will set the _PAGE_NX bit on the whole 2MB region
     that was covered by the large page, causing a large chunk of kernel code
     to be non-executable."
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Dave Jones <davej@redhat.com>
    Cc: <Stuart_Hayes@Dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e72c8585e09f127a69a1608bb5ccd1e3fc0dd41e
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Fri Jan 6 00:12:09 2006 -0800

    [PATCH] make bigsmp the default mode if CONFIG_HOTPLUG_CPU
    
    If we are using hotplug enabled kernel, then make bigsmp the default mode.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1855a2c4ce708b823b8b824f8b12937b45f5462a
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Fri Jan 6 00:12:08 2006 -0800

    [PATCH] x86: convert bigsmp to use flat physical mode
    
    When we bring up a new CPU via INIT/startup IPI messages, the CPU that's
    coming up sends a xTPR message to the chipset.  Intel chipsets (at least)
    don't provide any architectural guarantee on what the chipset will do with
    this message.  For example, the E850x chipsets uses this xTPR message to
    interpret the interrupt operating mode of the platform.  When the CPU
    coming online sends this message, it always indicates that it is in logical
    flat mode.  For the CPU hotplug case, the platform may already be
    functioning in cluster APIC mode at this time, the chipset can get confused
    and mishandle I/O device and IPI interrupt routing.
    
    The situation eventually gets corrected when the new CPU sends another xTPR
    update when we switch it to cluster mode, but there's a window during which
    the chipset may be in an inconsistent state.  This patch avoids this
    problem by using the flat physical interrupt delivery mode instead of
    cluster mode for bigsmp (>8 cpu) support.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c898ec16e83331abde39118e22e9e38335bbb950
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Jan 6 00:12:07 2006 -0800

    [PATCH] allow flatmem to be disabled when only sparsemem is implemented
    
    On architectures that implement sparsemem but not discontigmem we want to
    be able to hide the flatmem option in some cases.  On ppc64 for example,
    when we select NUMA we must not select flatmem.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 215c3409eed16c89b6d11ea1126bd9d4f36b9afd
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:12:06 2006 -0800

    [PATCH] i386 sparsemem for single node systems
    
    Allow SPARSEMEM to be enabled on non-numa x86 systems.  This is made
    dependant on EXPERIMENTAL also being set.  When an in-tree user (such as
    simulated numa) exists it should be made dependant on that.
    
    The plan is to have no options and no selector as normal when
    !EXPERIMENTAL.  When EXPERIMENTAL we enable the FLATMEM and SPARSEMEM
    options for X86_PC whilst maintaining DISCONTIGMEM and SPARSEMEM for NUMA.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb152f53120d66c98c1f16518407df6a84f23714
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 00:12:05 2006 -0800

    [PATCH] x86/x86_64: mark rodata section read-only: make some datastructures const
    
    Mark some key kernel datastructures readonly.  This patch was previously
    posted on Jun 28th but was back then not merged because nothing was enforcing
    rodata anyway..  well that changed now :)
    
    Patch by Christoph Lameter <christoph@lameter.com> and Dave Jones
    <davej@redhat.com>
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67df197b1a07944c2e0e40ded3d4fd07d108e110
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 00:12:04 2006 -0800

    [PATCH] x86/x86_64: mark rodata section read-only: x86-64 support
    
    x86-64 specific parts to make the .rodata section read only
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c728252c7a072628bd3932ff87943d1e12423359
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 00:12:03 2006 -0800

    [PATCH] x86/x86_64: mark rodata section read only: generic x86-64 bugfix
    
    Bug fix required for the .rodata work on x86-64:
    
    when change_page_attr() and friends need to break up a 2Mb page into 4Kb
    pages, it always set the NX bit on the PMD, which causes the cpu to consider
    the entire 2Mb region to be NX regardless of the actual PTE perms.  This is
    fine in general, with one big exception: the 2Mb page that covers the last
    part of the kernel .text!  The fix is to not invent a new permission for the
    new PMD entry, but to just inherit the existing one minus the PSE bit.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63aaf3086baea7b94c218053af8237f9dbac5d05
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 00:12:02 2006 -0800

    [PATCH] x86/x86_64: mark rodata section read only: x86 parts
    
    x86 specific parts to make the .rodata section read only
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37b73c828185731f6236a6387c02d7b08c150810
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 00:12:01 2006 -0800

    [PATCH] x86/x86_64: mark rodata section read only: generic infrastructure
    
    Generic prep-work for marking the .rodata section readonly:
    * Align the rodata section at 4Kb boundary
    * call the mark_rodata_ro() function when available
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d89c145c0344fe2180336af6a309a59a8bc8c1c0
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:59 2006 -0800

    [PATCH] x86: handle -Wsign-compare in bitops
    
    Make i386's find_first_bit() use an unsigned integer as a counter to avoid
    getting warnings when -Wsign-compare is given.
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2684927c6b938ec7a679891e0ec1fa0709c521bd
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:59 2006 -0800

    [PATCH] x86: Deprecate useless bug
    
    Remove the "temporary debugging check" which has managed to live for quite
    some time, and is clearly unneeded.  The mm can never be live at this point,
    so clearly checking the LDT in the mm->context is redundant as well.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 92f17f0171e864a2cbe448c5b7b473e72a7d27b8
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:58 2006 -0800

    [PATCH] x86: Apm is on cpu zero only
    
    APM BIOS code has a protective wrapper that runs it only on CPU zero.  Thus,
    no need to set APM BIOS segments in the GDT for other CPUs.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2891dcdc4538e8f4ce50c9d1eea457cf2d81fb5b
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:57 2006 -0800

    [PATCH] x86: Stop deleting nt
    
    Stop deleting NT bit from EFLAGS.  See arch/i386/kernel/head.S line 223, which
    does something even better.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6a9918c9617ed21f71f2f20b45efe06822c8f00
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:56 2006 -0800

    [PATCH] x86: Fixed pnp bios limits
    
    PnP BIOS data, code, and 32-bit entry segments all have fixed limits as well;
    set them in the GDT rather than adding more code.  It would be nice to add
    these fixups to the boot GDT rather than setting the GDT for each CPU; perhaps
    I can wiggle this in later, but getting it in before the subsys init looks
    tricky.
    
    Also, make some progress on deprecating the ugly Q_SET_SEL macros.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fe9fe3c6f9a1ae7aa224bb7a66eb9aad9e4abef
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:55 2006 -0800

    [PATCH] x86: Pnp byte granularity
    
    The one remaining caller of set_limit, the PnP BIOS code, calls into the PnP
    BIOS, passing kernel parameters in and out.  These parameteres may be passed
    from arbitrary kernel virtual memory, so they deserve strict protection to
    stop a bad BIOS from smashing beyond the object size.
    
    Unfortunately, the use of set_limit was badly botching this by setting the
    limit in terms of pages, when it really should have byte granularity.
    
    When doing this, I discovered my BIOS had the buggy code during the "get
    system device node" call:
    
     mov ax, es:[bx]
    
    Which is harmless, but has a trivial workaround.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3fae1c37eea98097de34ba665796fea93b29f4aa
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:54 2006 -0800

    [PATCH] x86: Deprecate obsolete ldt accessors
    
    Old accessors to fetch LDT descriptors are unused and outdated and in the
    wrong header file.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99022c4695d3f45fcf7f3827aa46dd2d9e53e365
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:53 2006 -0800

    [PATCH] x86: Apm seg in gdt
    
    Since APM BIOS segment limits are now fixed, set them in head.S GDT and don't
    use the complicated _set_limit() macro expansion.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3012d2d209580c78b5927d55c60a10891be8befd
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:53 2006 -0800

    [PATCH] x86: Always relax segments
    
    APM BIOSes have many bugs regarding proper representation of the appropriate
    segment limits for calling the BIOS.  By default, APM_RELAX_SEGMENTS is always
    turned on to support running the APM BIOS on these buggy machines.  Keeping
    64k limits poses very little danger to the kernel, because the pages where the
    APM BIOS is located will always be in low physical memory BIOS areas, which
    should already be marked reserved, and only buggy BIOSes would possibly
    overstep the segment bounds with writes to data anyway.
    
    Since forcing stricter limits breaks many machines and is not default
    behavior, it seems reasonable to deprecate the older code which may cause APM
    BIOS to fault.
    
    If you really have a badly enough broken APM BIOS that you have to turn off
    APM_RELAX_SEGMENTS, seems like the best recourse here would be to disable the
    APM BIOS and / or not compile it into your kernel to begin with, and / or add
    your system to the known bad list.
    
    The reason I want to deprecate this code is there is underlying brokenness
    with the set_limit macros, and getting rid of many of the call sites rather
    than rewriting them seems to be the simplest and most correct course of
    action.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5702d0f742b2f462267bca147334f77a255bcc74
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:51 2006 -0800

    [PATCH] x86: Pnp segments in segment h
    
    Move PnP BIOS segment definitions into segment.h; the segments are reserved
    here, so they might as well be defined here as well.
    
    Note I didn't do this for APM BIOS, as Macintosh and other systems use those
    values to emulate APM in some scary way I don't want to understand.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff6e8c0d5e47f0ceeebde86ec2f5919dbd5beb67
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:50 2006 -0800

    [PATCH] x86: Cr4 is valid on some 486s
    
    So some 486 processors do have CR4 register.  Allow them to present it in
    register dumps by using the old fault technique rather than testing processor
    family.
    
    Thanks to Maciej for noticing this.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb05c3249a8e8a675e79d221f4a0874dc10ec903
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Jan 6 00:11:49 2006 -0800

    [PATCH] i386: fix bound check IDT gate
    
    Other than apparently commonly assumed, the bound instruction does not
    require the corresponding IDT entry to have DPL 3.
    
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Acked-by: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d43c6e8083ac8baeb1a167510aea34fcef396e33
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Jan 6 00:11:49 2006 -0800

    [PATCH] i386: move SIMD initialization
    
    Move some code unrelated to any dealing with hardware bugs from i386's
    bugs.h to a more logical place.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e43d674f44dc885a2476cab3537e639d9eaa31a9
Author: Jan Beulich <jbeulich@novell.com>
Date:   Fri Jan 6 00:11:48 2006 -0800

    [PATCH] i386: don't blindly enable interrupts in die()
    
    Rather than blindly re-enabling interrupts in die(), save their state
    upon entry and then restore that state.
    
    If the kernel is in really bad condition and faults with interrupts disabled,
    re-enabling them in die() may cause even more trouble, implying more chances
    of data corruption.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c4cb60e5b97677424e95baee9c29df54b26e6ba
Author: Zachary Amsden <zach@vmware.com>
Date:   Fri Jan 6 00:11:47 2006 -0800

    [PATCH] x86: GDT alignment fix
    
    Make GDT page aligned and page padded to support running inside of a
    hypervisor.  This prevents false sharing of the GDT page with other hot
    data, which is not allowed in Xen, and causes performance problems in
    VMware.
    
    Rather than go back to the old method of statically allocating the GDT
    (which wastes unneded space for non-present CPUs), the GDT for APs is
    allocated dynamically.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 599a6e8ca4ff7f453f847217ecc2718d68e3b0f6
Author: Domen Puncer <domen@coderock.org>
Date:   Fri Jan 6 00:11:46 2006 -0800

    [PATCH] mips: remove include/asm-mips/riscos-syscall.h
    
    Remove nowhere referenced file ("grep riscos -r ." didn't find anything).
    
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Acked-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fef2b580eb50281ae1d2413ab340f677f6722281
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:45 2006 -0800

    [PATCH] frv: improve signal handling
    
    The attached patch improves the signal handling:
    
     (1) It makes do_signal() static as it isn't called from anywhere outside of
         the arch code.
    
     (2) It removes the regs argument to all the static functions within that file,
         using __frame instead (which is the same thing held in a global register).
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8efc0ab50edbac5c65191b8a58dfdab3741b7901
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:44 2006 -0800

    [PATCH] frv: fix signal handling
    
    The attached patch makes FRV signal handling work properly:
    
     (1) After do_notify_resume() has been called, the work flags must be checked
         again (there may be another signal to deliver or the process might require
         rescheduling for instance).
    
     (2) After the signal frame is set up on the userspace stack, ptrace() should
         be given an opportunity to single-step into the signal handler.
    
     (3) The error state from setting up a signal frame should be passed back up
         the call chain.
    
     (4) The segfault handler shouldn't be preemptively reset in the arch if we
         fail to deliver a SEGV signal: force_sig() will take care of that.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ee1dd3fee22f15728f545d266403fc977e1eb99
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:44 2006 -0800

    [PATCH] FRV: Make futex code compilable on nommu [try #2]
    
    Make the futex code compilable and usable on NOMMU by making the attempt to
    handle page faults conditional on CONFIG_MMU.  If this is not enabled, then
    we can assume that EFAULT returned from futex_atomic_op_inuser() is not
    recoverable, and that the address lies outside of valid memory.
    
    handle_mm_fault() is made to BUG if called on NOMMU without attempting to
    invoke the actual handler (__handle_mm_fault).
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c40f7f373889930d176a515ec375b60a70b5b49
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:43 2006 -0800

    [PATCH] FRV: Implement futex operations for FRV
    
    The attached patch implements futex operations for the FRV architecture. The
    operations are applicable to both MMU and no-MMU modes; though the EFAULT
    handling will be a little bit of wasted space on the latter.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0e15190ead07056ab0c3844a499ff35e66d27cc
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:42 2006 -0800

    [PATCH] NOMMU: Make SYSV IPC SHM use ramfs facilities on NOMMU
    
    The attached patch makes the SYSV IPC shared memory facilities use the new
    ramfs facilities on a no-MMU kernel.
    
    The following changes are made:
    
     (1) There are now shmem_mmap() and shmem_get_unmapped_area() functions to
         allow the IPC SHM facilities to commune with the tiny-shmem and shmem
         code.
    
     (2) ramfs files now need resizing using do_truncate() rather than by modifying
         the inode size directly (see shmem_file_setup()). This causes ramfs to
         attempt to bind a block of pages of sufficient size to the inode.
    
     (3) CONFIG_SYSVIPC is no longer contingent on CONFIG_MMU.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 642fb4d1f1dd2417aa69189fe5ceb81e4fb72900
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:41 2006 -0800

    [PATCH] NOMMU: Provide shared-writable mmap support on ramfs
    
    The attached patch makes ramfs support shared-writable mmaps by:
    
     (1) Attempting to perform a contiguous block allocation to the requested size
         when truncate attempts to increase the file from zero size, such as
         happens when:
    
    	fd = shm_open("/file/on/ramfs", ...):
    	ftruncate(fd, size_requested);
    	addr = mmap(NULL, subsize, PROT_READ|PROT_WRITE|PROT_EXEC, MAP_SHARED,
    		    fd, offset);
    
     (2) Permitting any shared-writable mapping over any contiguous set of extant
         pages. get_unmapped_area() will return the address into the actual ramfs
         pages. The mapping may start anywhere and be of any size, but may not go
         over the end of file. Multiple mappings may overlap in any way.
    
     (3) Not permitting a file to be shrunk if it would truncate any shared
         mappings (private mappings are copied).
    
    Thus this patch provides support for POSIX shared memory on NOMMU kernels,
    with certain limitations such as there being a large enough block of pages
    available to support the allocation and it only working on directly mappable
    filesystems.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f6d4b0c21a6894dad7665d3dda4174c7c120784
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Fri Jan 6 00:11:40 2006 -0800

    [PATCH] therm_adt746x: Quiet fan speed change messages
    
    Only output the messages about fan speed changes with a verbose=1 module
    param.
    
    Signed-off-by: Fabio M. Di Nitto <fabbione@ubuntu.com>
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 683e2cc6dc5aa9bb4ba2f2e0662df9d7f0a1d6c2
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:   Fri Jan 6 00:11:39 2006 -0800

    [PATCH] ppc32: Re-add embed_config.c to ml300/ep405
    
    Commit 3e9e7c1d0b7a36fb8affb973a054c5098e27baa8 (ppc32: cleanup AMCC PPC40x
    eval boards to support U-Boot) broke the kernel for ML300 / EP405.
    
    It still compiles as there's a weak definition of the function in
    misc-embedded.c, but the kernel crashes as the bd_t fixup isn't performed.
    
    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f80257a25d9f73a0e6e377c7d6bf29b8938c042d
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:38 2006 -0800

    [PATCH] ppc32: Allows compilation of a MPC52xx kernel without PCI
    
    Some custom cards might not need PCI, without this patch, compilation fails.
    
    Signed-off-by: Roger Blofeld <blofeldus@yahoo.com>
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 041cb6241fa97c4881dd19d79f783b2e077acd28
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:37 2006 -0800

    [PATCH] ppc32: Fix MPC52xx PCI init in cas the bootloader didn't do it
    
    We were counting on the bootloader to init some stuff, like get the bus out of
    reset and enable accesses.
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db674ed450f113518285f410c93abecd93e71a2f
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:36 2006 -0800

    [PATCH] ppc32: Fix MPC52xx configuration space access
    
    This patch takes care of an errata of the MPC5200 by avoiding 32 bits access
    in type 1 configuration accesses.  All others accesses are still 32 bits wide.
     It also adds some mb() since the simple out_be(...) are not sufficient in
    this case.
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dbeb198d9366eb3d3ad64444ceecb5b1d5b5d7ef
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:35 2006 -0800

    [PATCH] ppc32: Remove __init qualifier from mpc52xx pci resources fixups
    
    The mpc52xx_pci_fixup_resources is not only called at init but also when there
    is a pci hotplug like when a cardbus card is plugged in.  So that function is
    needed after init too.
    
    Thanks to Asier Llano Palacios for reporting this.
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e21b9f2e9a580ce7375ec58953c1bb19aabe0db4
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:35 2006 -0800

    [PATCH] ppc32: Modify Freescale MPC52xx IRQ mapping to _not_ use irq 0
    
    AFAIK IRQ number 0 is a perfectly valid IRQ number.  But it seems there are
    numerous places where it's considered to be invalid or "no irq" value.  Since
    that value is problematic, the IRQ mapping is changed to not use it.
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4aa7c80193c561e52c06351e0f521e697954a859
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:34 2006 -0800

    [PATCH] ppc32: Fix static IO mapping for Freescale MPC52xx
    
    The current iomapping used MBAR_SIZE for the size argument of
    io_block_mapping, resulting in a call to setbat with a size argument of 64k
    which is invalid.
    
    This patch correct this and maps the whole 0xf0000000->0xffffffff range so
    that devices on the local bus are also included in the BAT mapping.
    
    Thanks to Bernhard Kuhn from Metrowerks for pointing this out.
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d62de3aa8ac762c09845aa38634a845da55f31dc
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:32 2006 -0800

    [PATCH] ppc32/serial: Change mpc52xx_uart.c to use the Low Density Serial port major
    
    Before this patch we were just using the "classic" /dev/ttySx devices.
    However when another on the system is loaded that uses those (like drivers for
    serial PCMCIA), that creates a conflict for the minors.  Therefore, we now use
    /dev/ttyPSC[0:5] (note the 0-based numbering !) with some minors we've been
    assigned in the "Low Density Serial port major"
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d8179c0b77b54e27321944e16f65defeda81e27
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:31 2006 -0800

    [PATCH] ppc32/serial: Fix compiler errors with GCC 4.x in mpc52xx_uart.c
    
    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7558824a8d16e244072bfebc9e5e3e3b1b9af261
Author: Sylvain Munaut <tnt@246tNt.com>
Date:   Fri Jan 6 00:11:30 2006 -0800

    [PATCH] ppc32: Remove useless file arch/ppc/platforms/mpc5200.c
    
    That file is a left-over of the 'old' OCP model that should have been erased
    during the change to platform model but I forgot it ...
    
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9662b4b37f8f00a212eb4131d1d177b6ed8ddbd
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Fri Jan 6 00:11:29 2006 -0800

    [PATCH] macintosh: don't store i2c_add_driver() return if no further processing done
    
    therm_pm72.c and windfarm_lm75_sensor.c both store the return from
    i2c_add_driver() but do no further processing on the result.  Simply return
    what i2c_add_driver() did, instead.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e13ac219816c58579f40b48220b2fa5d94c30e84
Author: Otavio Salvador <otavio@debian.org>
Date:   Fri Jan 6 00:11:26 2006 -0800

    [PATCH] arch/ppc/kernel/idle.c: don't declare cpu variable in non-SMP kernels
    
    Disable declaration of cpu variable in default_idle function when
    building non-SMP kernels.
    
    Signed-off-by: Otavio Salvador <otavio@debian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fa57f9c2b841872ffad9d8f7b3de23d6ba33c30d
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Fri Jan 6 00:11:26 2006 -0800

    [PATCH] ppc32: remove "jumbo" member from ocp_func_emac_data
    
    Remove the not needed anymore "jumbo" member from ocp_func_emac_data.
    Jumbo frame support is handled by PPC4xx EMAC driver internally now.
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1ae8f40767a3afc6244719a2c8fbcf546767d5b0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Jan 6 00:11:25 2006 -0800

    [PATCH] security/: possible cleanups
    
    make needlessly global code static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d9067bda99c68e1a17d93e78cf3a5a3f67e0c35
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:24 2006 -0800

    [PATCH] Keys: Remove key duplication
    
    Remove the key duplication stuff since there's nothing that uses it, no way
    to get at it and it's awkward to deal with for LSM purposes.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32725ad8430b58e42c5d54757ce7871e680d05cb
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Fri Jan 6 00:11:23 2006 -0800

    [PATCH] selinux: more ARRAY_SIZE cleanups
    
    Further ARRAY_SIZE cleanups under security/selinux.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e20a64a3913819133fefeca466211c7eb8adda1
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Fri Jan 6 00:11:22 2006 -0800

    [PATCH] selinux: ARRAY_SIZE cleanups
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]).
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b09eb1c06a14641209e6b86e9a5b28ea8287f193
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:21 2006 -0800

    [PATCH] mm: page_state opt docs
    
    Comment the new locking rules for page_state statistics.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a74609fafa2e5cc31d558012abaaa55ec9ad9da4
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:20 2006 -0800

    [PATCH] mm: page_state opt
    
    Optimise page_state manipulations by introducing interrupt unsafe accessors
    to page_state fields.  Callers must provide their own locking (either
    disable interrupts or not update from interrupt context).
    
    Switch over the hot callsites that can easily be moved under interrupts off
    sections.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d3cb487149bd706aa6aeb02042332a450978dc1c
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:11:20 2006 -0800

    [PATCH] atomic_long_t & include/asm-generic/atomic.h V2
    
    Several counters already have the need to use 64 atomic variables on 64 bit
    platforms (see mm_counter_t in sched.h).  We have to do ugly ifdefs to fall
    back to 32 bit atomic on 32 bit platforms.
    
    The VM statistics patch that I am working on will also make more extensive
    use of atomic64.
    
    This patch introduces a new type atomic_long_t by providing definitions in
    asm-generic/atomic.h that works similar to the c "long" type.  Its 32 bits
    on 32 bit platforms and 64 bits on 64 bit platforms.
    
    Also cleans up the determination of the mm_counter_t in sched.h.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 070f80326a215d8e6c4fd6f175e28eb446c492bc
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:11:19 2006 -0800

    [PATCH] build_zonelists_node(): rename args
    
    Give j and r meaningful names.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 02a68a5ebc7dd823da7496116f42290103e1e4a9
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:11:18 2006 -0800

    [PATCH] Fix zone policy determination
    
    The use k in the inner loop means that the highest zone nr is always used
    if any zone of a node is populated.  This means that the policy zone is not
    correctly determined on arches that do no use HIGHMEM like ia64.
    
    Change the loop to decrement k which also simplifies the BUG_ON.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4be38e351c5f455f6f490f5aff29053e33ab4f99
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:11:17 2006 -0800

    [PATCH] mm: move determination of policy_zone into page allocator
    
    Currently the function to build a zonelist for a BIND policy has the side
    effect to set the policy_zone.  This seems to be a bit strange.  policy
    zone seems to not be initialized elsewhere and therefore 0.  Do we police
    ZONE_DMA if no bind policy has been used yet?
    
    This patch moves the determination of the zone to apply policies to into
    the page allocator.  We determine the zone while building the zonelist for
    nodes.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a93205bdffd9d7278d4a66081cdb48452522a58
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:11:16 2006 -0800

    [PATCH] mm: simplify build_zonelists_node by removing the case statement.
    
    Simplify build_zonelists_node by removing the case statement.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3fe65122da05e1cd4c9140340d96ea2f95d0c49
Author: Con Kolivas <kernel@kolivas.org>
Date:   Fri Jan 6 00:11:15 2006 -0800

    [PATCH] mm: add populated_zone() helper
    
    There are numerous places we check whether a zone is populated or not.
    
    Provide a helper function to check for populated zones and convert all
    checks for zone->present_pages.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80bfed904c690642db9d4178950735299160950b
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:11:14 2006 -0800

    [PATCH] consolidate lru_add_drain() and lru_drain_cache()
    
    Cc: Christoph Lameter <clameter@engr.sgi.com>
    Cc: Rajesh Shah <rajesh.shah@intel.com>
    Cc: Li Shaohua <shaohua.li@intel.com>
    Cc: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Cc: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 210fe530305ee50cd889fe9250168228b2994f32
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:11:14 2006 -0800

    [PATCH] vmscan: balancing fix
    
    Revert a patch which went into 2.6.8-rc1.  The changelog for that patch was:
    
      The shrink_zone() logic can, under some circumstances, cause far too many
      pages to be reclaimed.  Say, we're scanning at high priority and suddenly
      hit a large number of reclaimable pages on the LRU.
    
      Change things so we bale out when SWAP_CLUSTER_MAX pages have been
      reclaimed.
    
    Problem is, this change caused significant imbalance in inter-zone scan
    balancing by truncating scans of larger zones.
    
    Suppose, for example, ZONE_HIGHMEM is 10x the size of ZONE_NORMAL.  The zone
    balancing algorithm would require that if we're scanning 100 pages of
    ZONE_HIGHMEM, we should scan 10 pages of ZONE_NORMAL.  But this logic will
    cause the scanning of ZONE_HIGHMEM to bale out after only 32 pages are
    reclaimed.  Thus effectively causing smaller zones to be scanned relatively
    harder than large ones.
    
    Now I need to remember what the workload was which caused me to write this
    patch originally, then fix it up in a different way...
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41e9b63b35b52cf918a4ffdb8d77862ab824aa8b
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:13 2006 -0800

    [PATCH] mm: pfault optimisation
    
    This atomic operation is superfluous: the pte will be added with the
    referenced bit set, and the page will be referenced through this mapping after
    the page fault handler returns anyway.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9617d95e6e9ffd883cf90a89724fe60d7ab22f9a
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:12 2006 -0800

    [PATCH] mm: rmap optimisation
    
    Optimise rmap functions by minimising atomic operations when we know there
    will be no concurrent modifications.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 224abf92b2f439a9030f21d2926ec8047d1ffcdb
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:11 2006 -0800

    [PATCH] mm: bad_page optimisation
    
    Cut down size slightly by not passing bad_page the function name (it should be
    able to be determined by dump_stack()).  And cut down the number of printks in
    bad_page.
    
    Also, cut down some branching in the destroy_compound_page path.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9328b8faae922e52073785ed6c1eaa8565648a0e
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:10 2006 -0800

    [PATCH] mm: dma32 zone statistics
    
    Add dma32 to zone statistics.  Also attempt to arrange struct page_state a
    bit better (visually).
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7756b9e4e321c3c83c7aa5b9532d3e7fd7ddeb4a
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:11:09 2006 -0800

    [PATCH] kill last zone_reclaim() bits
    
    Remove the last bits of Martin's ill-fated sys_set_zone_reclaim().
    
    Cc: Martin Hicks <mort@wildopensource.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bbfbb7cec9dd7266534b2b4b9c8be2fa425bbfc9
Author: Nikita Danilov <nikita@clusterfs.com>
Date:   Fri Jan 6 00:11:08 2006 -0800

    [PATCH] find_lock_page(): call __lock_page() directly.
    
    As find_lock_page() already checks with TestSetPageLocked() that page is
    locked, there is no need to call lock_page() that will try-lock page again
    (chances of page being unlocked in between are small).  Call __lock_page()
    directly, this saves one atomic operation.
    
    Also, mark truncate-while-slept path as unlikely while we are here.
    
    (akpm: ug.  But this is actually a common path for normal old read()s against
    a page which is under readahead I/O so ho-hum.)
    
    Signed-off-by: Nikita Danilov <danilov@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a226f6c899799fe2c4919daa0767ac579c88f7bd
Author: David Howells <dhowells@redhat.com>
Date:   Fri Jan 6 00:11:08 2006 -0800

    [PATCH] FRV: Clean up bootmem allocator's page freeing algorithm
    
    The attached patch cleans up the way the bootmem allocator frees pages.
    
    A new function, __free_pages_bootmem(), is provided in mm/page_alloc.c that is
    called from mm/bootmem.c to turn pages over to the main allocator.  All the
    bits of code to initialise pages (clearing PG_reserved and setting the page
    count) are moved to here.  The checks on page validity are removed, on the
    assumption that the struct page arrays will have been prepared correctly.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 008857c1a49ccffc31a54c3ea7e182833bd61304
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Fri Jan 6 00:11:01 2006 -0800

    [PATCH] Cleanup bootmem allocator and fix alloc_bootmem_low
    
    Patch cleans up the alloc_bootmem fix for swiotlb.  Patch removes
    alloc_bootmem_*_limit api and fixes alloc_boot_*low api to do the right
    thing -- allocate from low32 memory.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 085cc7d5de3cc662da7ea78296464a0d52f3f01f
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:01 2006 -0800

    [PATCH] mm: page_alloc cleanups
    
    Small cleanups that does not change generated code with the gcc's I've tested
    with.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a86b1f53166a260ced8f3c8c526945bf496f2e78
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:11:00 2006 -0800

    [PATCH] mm: page_state fixes
    
    read_page_state and __get_page_state only traverse online CPUs, which will
    cause results to fluctuate when CPUs are plugged in or out.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d92c5c9150a2a9ca3dc25da58d5042e17a96b6a
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:10:59 2006 -0800

    [PATCH] mm: remove pcp low
    
    struct per_cpu_pages.low is useless.  Remove it.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 13e7444b0ec59f96d81a4e8c379d5f38fc5f2cc1
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:10:58 2006 -0800

    [PATCH] mm: remove bad_range
    
    bad_range is supposed to be a temporary check.  It would be a pity to throw it
    out.  Make it depend on CONFIG_DEBUG_VM instead.
    
    CONFIG_HOLES_IN_ZONE systems were relying on this to check pfn_valid in the
    page allocator.  Add that to page_is_buddy instead.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 92be2e33b155ee76399f51f41fb061f850d02f08
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:10:57 2006 -0800

    [PATCH] mm: microopt conditions
    
    Micro optimise some conditionals where we don't need lazy evaluation.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77a8a78834561398fb4cb1480afa7b0e80b1dd53
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:10:57 2006 -0800

    [PATCH] mm: set_page_refs opt
    
    Inline set_page_refs.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c54ad30c784b84d0275152d0ca80985b21471811
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Jan 6 00:10:56 2006 -0800

    [PATCH] mm: pagealloc opt
    
    Slightly optimise some page allocation and freeing functions by taking
    advantage of knowing whether or not interrupts are disabled.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c484d41042e6ccb88089ca41e3b3eed1bafdae21
Author: Hugh Dickins <hugh@veritas.com>
Date:   Fri Jan 6 00:10:55 2006 -0800

    [PATCH] mm: free_pages_and_swap_cache opt
    
    Minor optimization (though it doesn't help in the PREEMPT case, severely
    constrained by small ZAP_BLOCK_SIZE).  free_pages_and_swap_cache works in
    chunks of 16, calling release_pages which works in chunks of PAGEVEC_SIZE.
    But PAGEVEC_SIZE was dropped from 16 to 14 in 2.6.10, so we're now doing more
    spin_lock_irq'ing than necessary: use PAGEVEC_SIZE throughout.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 161599ff39a3c3cdea0a1be05ac53accd2c45cdd
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:54 2006 -0800

    [PATCH] sparsemem: provide pfn_to_nid
    
    Before SPARSEMEM is initialised we cannot provide an efficient pfn_to_nid()
    implmentation; before initialisation is complete we use early_pfn_to_nid()
    to provide location information.  Until recently there was no non-init user
    of this functionality.  Provide a post init pfn_to_nid() implementation.
    
    Note that this implmentation assumes that the pfn passed has been validated
    with pfn_valid().  The current single user of this function already has
    this check.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2bdaf115b1c364d89484b59d5b937973f1c5a5c3
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:53 2006 -0800

    [PATCH] flatmem split out memory model
    
    There are three places we define pfn_to_nid().  Two in linux/mmzone.h and one
    in asm/mmzone.h.  These in essence represent the three memory models.  The
    definition in linux/mmzone.h under !NEED_MULTIPLE_NODES is both the FLATMEM
    definition and the optimisation for single NUMA nodes; the one under SPARSEMEM
    is the NUMA sparsemem one; the one in asm/mmzone.h under DISCONTIGMEM is the
    discontigmem one.  This is not in the least bit obvious, particularly the
    connection between the non-NUMA optimisations and the memory models.
    
    Two patches:
    
    flatmem-split-out-memory-model: simplifies the selection of pfn_to_nid()
    implementations.  The selection is based primarily off the memory model
    selected.  Optimisations for non-NUMA are applied where needed.
    
    sparse-provide-pfn_to_nid: implement pfn_to_nid() for SPARSEMEM
    
    This patch:
    
    pfn_to_nid is memory model specific
    
    The pfn_to_nid() call is memory model specific.  It represents the locality
    identifier for the memory passed.  Classically this would be a NUMA node,
    but not a chunk of memory under DISCONTIGMEM.
    
    The SPARSEMEM and FLATMEM memory model non-NUMA versions of pfn_to_nid()
    are folded together under NEED_MULTIPLE_NODES, while DISCONTIGMEM has its
    own optimisation.  This is all very confusing.
    
    This patch splits out each implementation of pfn_to_nid() so that we can
    see them and the optimisations to each.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 03b00ebcc804180829d513df9e92e5fe8f72aacf
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Jan 6 00:10:52 2006 -0800

    [PATCH] Shut up warnings in ipc/shm.c
    
    Fix two warnings in ipc/shm.c
    
    ipc/shm.c:122: warning: statement with no effect
    ipc/shm.c:560: warning: statement with no effect
    
    by converting the macros to empty inline functions.  For safety, let's do
    all three.  This also has the advantage that typechecking gets performed
    even without CONFIG_SHMEM enabled.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a94b3ab7eab4edcc9b2cb474b188f774c331adf7
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Fri Jan 6 00:10:51 2006 -0800

    [PATCH] mm: remove arch independent NODES_SPAN_OTHER_NODES
    
    The NODES_SPAN_OTHER_NODES config option was created so that DISCONTIGMEM
    could handle pSeries numa layouts.  However, support for DISCONTIGMEM has
    been replaced by SPARSEMEM on powerpc.  As a result, this config option and
    supporting code is no longer needed.
    
    I have already sent a patch to Paul that removes the option from powerpc
    specific code.  This removes the arch independent piece.  Doesn't really
    matter which is applied first.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5afa6dcf74c0efb60ce07c63d0a727be93c67c5
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:50 2006 -0800

    [PATCH] mm: pfn_to_pgdat not used in common code
    
    pfn_to_pgdat() isn't used in common code.  Remove definition.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f3fd602aef96c2a490e3bfd669d06475aeba8d8
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:50 2006 -0800

    [PATCH] mm: kvaddr_to_nid not used in common code
    
    kvaddr_to_nid() isn't used in common code nor in i386 code.  Remove these
    definitions.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6bda666a03f063968833760c5bb5c13062ab9291
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:10:49 2006 -0800

    [PATCH] hugepages: fold find_or_alloc_pages into huge_no_page()
    
    The number of parameters for find_or_alloc_page increases significantly after
    policy support is added to huge pages.  Simplify the code by folding
    find_or_alloc_huge_page() into hugetlb_no_page().
    
    Adam Litke objected to this piece in an earlier patch but I think this is a
    good simplification.  Diffstat shows that we can get rid of almost half of the
    lines of find_or_alloc_page().  If we can find no consensus then lets simply
    drop this patch.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21abb1478a87e26f5fa71dbcb7cf4264272c2248
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:10:47 2006 -0800

    [PATCH] Remove old node based policy interface from mempolicy.c
    
    mempolicy.c contains provisional interface for huge page allocation based on
    node numbers.  This is in use in SLES9 but was never used (AFAIK) in upstream
    versions of Linux.
    
    Huge page allocations now use zonelists to figure out where to allocate pages.
     The use of zonelists allows us to find the closest hugepage which was the
    consideration of the NUMA distance for huge page allocations.
    
    Remove the obsolete functions.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Adam Litke <agl@us.ibm.com>
    Acked-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5da7ca86078964cbfe6c83efc1205904587706fe
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:10:46 2006 -0800

    [PATCH] Add NUMA policy support for huge pages.
    
    The huge_zonelist() function in the memory policy layer provides an list of
    zones ordered by NUMA distance.  The hugetlb layer will walk that list looking
    for a zone that has available huge pages but is also in the nodeset of the
    current cpuset.
    
    This patch does not contain the folding of find_or_alloc_huge_page() that was
    controversial in the earlier discussion.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Cc: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96df9333c94d7d5aeceb21f6c5e7ae8ff34753cf
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Fri Jan 6 00:10:45 2006 -0800

    [PATCH] mm: dequeue a huge page near to this node
    
    This was discussed at
    http://marc.theaimsgroup.com/?l=linux-kernel&m=113166526217117&w=2
    
    This patch changes the dequeueing to select a huge page near the node
    executing instead of always beginning to check for free nodes from node 0.
    This will result in a placement of the huge pages near the executing
    processor improving performance.
    
    The existing implementation can place the huge pages far away from the
    executing processor causing significant degradation of performance.  The
    search starting from zero also means that the lower zones quickly run out
    of memory.  Selecting a huge page near the process distributed the huge
    pages better.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: William Lee Irwin III <wli@holomorphy.com>
    Cc: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e8f889b10d8d2223105719e36ce45688fedbd59
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Jan 6 00:10:44 2006 -0800

    [PATCH] Hugetlb: Copy on Write support
    
    Implement copy-on-write support for hugetlb mappings so MAP_PRIVATE can be
    supported.  This helps us to safely use hugetlb pages in many more
    applications.  The patch makes the following changes.  If needed, I also have
    it broken out according to the following paragraphs.
    
    1. Add a pair of functions to set/clear write access on huge ptes.  The
       writable check in make_huge_pte is moved out to the caller for use by COW
       later.
    
    2. Hugetlb copy-on-write requires special case handling in the following
       situations:
    
       - copy_hugetlb_page_range() - Copied pages must be write protected so
         a COW fault will be triggered (if necessary) if those pages are written
         to.
    
       - find_or_alloc_huge_page() - Only MAP_SHARED pages are added to the
         page cache.  MAP_PRIVATE pages still need to be locked however.
    
    3. Provide hugetlb_cow() and calls from hugetlb_fault() and
       hugetlb_no_page() which handles the COW fault by making the actual copy.
    
    4. Remove the check in hugetlbfs_file_map() so that MAP_PRIVATE mmaps
       will be allowed.  Make MAP_HUGETLB exempt from the depricated VM_RESERVED
       mapping check.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Cc: William Lee Irwin III <wli@holomorphy.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86e5216f8d8aa258ba836caffe2613d79cc9aead
Author: Adam Litke <agl@us.ibm.com>
Date:   Fri Jan 6 00:10:43 2006 -0800

    [PATCH] Hugetlb: Reorganize hugetlb_fault to prepare for COW
    
    This patch splits the "no_page()" type activity into its own function,
    hugetlb_no_page().  hugetlb_fault() becomes the entry point for hugetlb faults
    and delegates to the appropriate handler depending on the type of fault.
    Right now we still have only hugetlb_no_page() but a later patch introduces a
    COW fault.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Cc: William Lee Irwin III <wli@holomorphy.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85ef47f74afe96c8c23eaa605f28cc01443c905f
Author: Adam Litke <agl@us.ibm.com>
Date:   Fri Jan 6 00:10:42 2006 -0800

    [PATCH] Hugetlb: Rename find_lock_page to find_or_alloc_huge_page
    
    find_lock_huge_page() isn't a great name, since it does extra things not
    analagous to find_lock_page().  Rename it find_or_alloc_huge_page() which is
    closer to the mark.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Cc: William Lee Irwin III <wli@holomorphy.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0916794f00be44154102dedaeafe68b743078a2
Author: Adam Litke <agl@us.ibm.com>
Date:   Fri Jan 6 00:10:40 2006 -0800

    [PATCH] Hugetlb: Remove duplicate i_size check
    
    cleanup
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Cc: William Lee Irwin III <wli@holomorphy.com>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6b3ec238d12c8cc6cc71490c6e3127988460349
Author: Badari Pulavarty <pbadari@us.ibm.com>
Date:   Fri Jan 6 00:10:38 2006 -0800

    [PATCH] madvise(MADV_REMOVE): remove pages from tmpfs shm backing store
    
    Here is the patch to implement madvise(MADV_REMOVE) - which frees up a
    given range of pages & its associated backing store.  Current
    implementation supports only shmfs/tmpfs and other filesystems return
    -ENOSYS.
    
    "Some app allocates large tmpfs files, then when some task quits and some
    client disconnect, some memory can be released.  However the only way to
    release tmpfs-swap is to MADV_REMOVE". - Andrea Arcangeli
    
    Databases want to use this feature to drop a section of their bufferpool
    (shared memory segments) - without writing back to disk/swap space.
    
    This feature is also useful for supporting hot-plug memory on UML.
    
    Concerns raised by Andrew Morton:
    
    - "We have no plan for holepunching!  If we _do_ have such a plan (or
      might in the future) then what would the API look like?  I think
      sys_holepunch(fd, start, len), so we should start out with that."
    
    - Using madvise is very weird, because people will ask "why do I need to
      mmap my file before I can stick a hole in it?"
    
    - None of the other madvise operations call into the filesystem in this
      manner.  A broad question is: is this capability an MM operation or a
      filesytem operation?  truncate, for example, is a filesystem operation
      which sometimes has MM side-effects.  madvise is an mm operation and with
      this patch, it gains FS side-effects, only they're really, really
      significant ones."
    
    Comments:
    
    - Andrea suggested the fs operation too but then it's more efficient to
      have it as a mm operation with fs side effects, because they don't
      immediatly know fd and physical offset of the range.  It's possible to
      fixup in userland and to use the fs operation but it's more expensive,
      the vmas are already in the kernel and we can use them.
    
    Short term plan &  Future Direction:
    
    - We seem to need this interface only for shmfs/tmpfs files in the short
      term.  We have to add hooks into the filesystem for correctness and
      completeness.  This is what this patch does.
    
    - In the future, plan is to support both fs and mmap apis also.  This
      also involves (other) filesystem specific functions to be implemented.
    
    - Current patch doesn't support VM_NONLINEAR - which can be addressed in
      the future.
    
    Signed-off-by: Badari Pulavarty <pbadari@us.ibm.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Cc: Andrea Arcangeli <andrea@suse.de>
    Cc: Michael Kerrisk <mtk-manpages@gmx.net>
    Cc: Ulrich Drepper <drepper@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d7339071f6a8b50101d7ba327926b770f22d5d8b
Author: Hans Reiser <reiser@namesys.com>
Date:   Fri Jan 6 00:10:36 2006 -0800

    [PATCH] reiser4: vfs: add truncate_inode_pages_range()
    
    This patch makes truncate_inode_pages_range from truncate_inode_pages.
    truncate_inode_pages became a one-liner call to truncate_inode_pages_range.
    
    Reiser4 needs truncate_inode_pages_ranges because it tries to keep
    correspondence between existences of metadata pointing to data pages and pages
    to which those metadata point to.  So, when metadata of certain part of file
    is removed from filesystem tree, only pages of corresponding range are to be
    truncated.
    
    (Needed by the madvise(MADV_REMOVE) patch)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 900b2b463dc6e65ec474d6880412c63c25b3aea9
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:35 2006 -0800

    [PATCH] memhotplug: register_memory should be global
    
    register_memory is global and declared so in linux/memory.h.  Update the
    HOTPLUG specific definition to match.  This fixes a compile warning when
    HOTPLUG is enabled.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98a38ebdda69f1498be4f618d8d919695c8d6352
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:35 2006 -0800

    [PATCH] memhotplug: register_ and unregister_memory_notifier should be global
    
    Both register_memory_notifer and unregister_memory_notifier are global and
    declared so in linux/memory.h.  Update the HOTPLUG specific definitions to
    match.  This fixes a compile warning when HOTPLUG is enabled.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ac24eefd1d89bc6aa2817741c3bd5d4205b2efd
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Jan 6 00:10:33 2006 -0800

    [PATCH] memhotplug: __add_section remove unused pgdat definition
    
    __add_section defines an unused pointer to the zones pgdat.  Remove this
    definition.  This fixes a compile warning.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47f3a867f6310d6abfa185ab12baaba7ed1d69af
Author: Paul Jackson <pj@sgi.com>
Date:   Fri Jan 6 00:10:32 2006 -0800

    [PATCH] mm: fix __alloc_pages cpuset ALLOC_* flags
    
    Two changes to the setting of the ALLOC_CPUSET flag in
    mm/page_alloc.c:__alloc_pages()
    
    - A bug fix - the "ignoring mins" case should not be honoring ALLOC_CPUSET.
      This case of all cases, since it is handling a request that will free up
      more memory than is asked for (exiting tasks, e.g.) should be allowed to
      escape cpuset constraints when memory is tight.
    
    - A logic change to make it simpler.  Honor cpusets even on GFP_ATOMIC
      (!wait) requests.  With this, cpuset confinement applies to all requests
      except ALLOC_NO_WATERMARKS, so that in a subsequent cleanup patch, I can
      remove the ALLOC_CPUSET flag entirely.  Since I don't know any real reason
      this logic has to be either way, I am choosing the path of the simplest
      code.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a576219aca70e6700705a9836e098dbecd25fb56
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:09:50 2006 -0800

    [PATCH] swsusp: resume_store() retval fix
    
    - This function returns -EINVAL all the time.  Fix.
    
    - Decruftify it a bit too.
    
    - Writing to it doesn't seem to do what it's suppoed to do.
    
    Cc: Pavel Machek <pavel@ucw.cz>
    Cc: "Rafael J. Wysocki" <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 817c41d76e9eaf72044268b0e545a547abadc0bb
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Jan 6 00:09:50 2006 -0800

    [PATCH] alpha: dma_map_page() fix
    
    Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: Richard Henderson <rth@twiddle.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f1e030bf75774b6a283518e1534d598e14147d4
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Fri Jan 6 00:09:49 2006 -0800

    [PATCH] knfsd: fix hash function for IP addresses on 64bit little-endian machines.
    
    The hash.h hash_long function, when used on a 64 bit machine, ignores many
    of the middle-order bits.  (The prime chosen it too bit-sparse).
    
    IP addresses for clients of an NFS server are very likely to differ only in
    the low-order bits.  As addresses are stored in network-byte-order, these
    bits become middle-order bits in a little-endian 64bit 'long', and so do
    not contribute to the hash.  Thus you can have the situation where all
    clients appear on one hash chain.
    
    So, until hash_long is fixed (or maybe forever), us a hash function that
    works well on IP addresses - xor the bytes together.
    
    Thanks to "Iozone" <capps@iozone.org> for identifying this problem.
    
    Cc: "Iozone" <capps@iozone.org>
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b2f0260c74324abca76ccaa42d426af163125e7
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Fri Jan 6 00:09:47 2006 -0800

    [PATCH] nbd: fix TX/RX race condition
    
    Janos Haar of First NetCenter Bt.  reported numerous crashes involving the
    NBD driver.  With his help, this was tracked down to bogus bio vectors
    which in turn was the result of a race condition between the
    receive/transmit routines in the NBD driver.
    
    The bug manifests itself like this:
    
    CPU0				CPU1
    do_nbd_request
    	add req to queuelist
    	nbd_send_request
    		send req head
    		for each bio
    			kmap
    			send
    				nbd_read_stat
    					nbd_find_request
    					nbd_end_request
    			kunmap
    
    When CPU1 finishes nbd_end_request, the request and all its associated
    bio's are freed.  So when CPU0 calls kunmap whose argument is derived from
    the last bio, it may crash.
    
    Under normal circumstances, the race occurs only on the last bio.  However,
    if an error is encountered on the remote NBD server (such as an incorrect
    magic number in the request), or if there were a bug in the server, it is
    possible for the nbd_end_request to occur any time after the request's
    addition to the queuelist.
    
    The following patch fixes this problem by making sure that requests are not
    added to the queuelist until after they have been completed transmission.
    
    In order for the receiving side to be ready for responses involving
    requests still being transmitted, the patch introduces the concept of the
    active request.
    
    When a response matches the current active request, its processing is
    delayed until after the tranmission has come to a stop.
    
    This has been tested by Janos and it has been successful in curing this
    race condition.
    
    From: Herbert Xu <herbert@gondor.apana.org.au>
    
      Here is an updated patch which removes the active_req wait in
      nbd_clear_queue and the associated memory barrier.
    
      I've also clarified this in the comment.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Cc: <djani22@dynamicweb.hu>
    Cc: Paul Clements <Paul.Clements@SteelEye.com>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd6a59b22fd3bd044bb14978b885bcd042a10e8e
Author: Joshua Kwan <joshk@triplehelix.org>
Date:   Fri Jan 6 00:09:45 2006 -0800

    [PATCH] hfsplus oops fix
    
    nls_utf8 is available, and the check in hfsplus_fill_super checks the wrong
    pointer for NULLness (it checks the saved nls, not the new one that it
    needs to use.)
    
    Signed-off-by: Joshua Kwan <joshk@triplehelix.org>
    Cc: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e650c305ec3178818b317dad37a6d9c7fa8ba28d
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 6 12:38:30 2006 +0100

    [SCSI] scsi_end_async() needs to take an uptodate parameter
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 15fc858a0067c800f410a24551a7b461978abf0b
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 6 10:00:50 2006 +0100

    [BLOCK] Correct blk_execute_rq_nowait() prototype

commit ff5b8cf1491330836d75eede4e5632caa32b776a
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:58:37 2006 +0100

    [BLOCK] I/O barrier documentation update
    
    Update documentation to match new barrier implementation.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 3e087b575496b8aa445192f58e7d996b1cdfa121
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:57:31 2006 +0100

    [BLOCK] update IDE to use new blk_ordered for barriers
    
    Update IDE to use new blk_ordered.  This change makes the
    following behavior changes.
    
    * Partial completion of the barrier request is handled as
      failure of the whole ordered sequence.  No more partial
      completion for barrier requests.
    
    * Any failure of pre or post flush request results in failure
      of the whole ordered sequence.
    
    So, successfully completed ordered sequence guarantees that
    all requests prior to the barrier made to physical medium and,
    then, the while barrier request made to the physical medium.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 9a3dccc42556537a48f39ee9a9e7ab90a933f766
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:56:18 2006 +0100

    [BLOCK] add FUA support to libata
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 93c9338713d4e11102cd09b4670ad42a336b06a3
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:55:00 2006 +0100

    [BLOCK] update libata to use new blk_ordered for barriers
    
    Reflect changes in SCSI midlayer and updated to use new
    ordered request implementation
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 007365ad60387df30f02f01fdc2b6e6432f6c265
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:53:52 2006 +0100

    [BLOCK] scsi: add FUA support to sd
    
    Add FUA support for barriers to SCSI disk.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 461d4e90c8cd049718884cd17c955e231140d3be
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:52:55 2006 +0100

    [BLOCK] update SCSI to use new blk_ordered for barriers
    
    All ordered request related stuff delegated to HLD.  Midlayer
    now doens't deal with ordered setting or prepare_flush
    callback.  sd.c updated to deal with blk_queue_ordered
    setting.  Currently, ordered tag isn't used as SCSI midlayer
    cannot guarantee request ordering.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 797e7dbbee0a91fa1349192f18ad5c454997d876
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:51:03 2006 +0100

    [BLOCK] reimplement handling of barrier request
    
    Reimplement handling of barrier requests.
    
    * Flexible handling to deal with various capabilities of
      target devices.
    * Retry support for falling back.
    * Tagged queues which don't support ordered tag can do ordered.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 52d9e675361261a1eb1716b02222ec6177ec342b
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:49:58 2006 +0100

    [BLOCK] ll_rw_blk: separate out bio init part from __make_request
    
    Separate out bio initialization part from __make_request.  It
    will be used by the following blk_ordered_reimpl.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 8ffdc6550c47f75ca4e6c9f30a2a89063e035cf2
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Jan 6 09:49:03 2006 +0100

    [BLOCK] add @uptodate to end_that_request_last() and @error to rq_end_io_fn()
    
    add @uptodate argument to end_that_request_last() and @error
    to rq_end_io_fn().  there's no generic way to pass error code
    to request completion function, making generic error handling
    of non-fs request difficult (rq->errors is driver-specific and
    each driver uses it differently).  this patch adds @uptodate
    to end_that_request_last() and @error to rq_end_io_fn().
    
    for fs requests, this doesn't really matter, so just using the
    same uptodate argument used in the last call to
    end_that_request_first() should suffice.  imho, this can also
    help the generic command-carrying request jens is working on.
    
    Signed-off-by: tejun heo <htejun@gmail.com>
    Signed-Off-By: Jens Axboe <axboe@suse.de>

commit 64100099ed22f71cce656c5c2caecf5c9cf255dc
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Fri Jan 6 09:46:02 2006 +0100

    [BLOCK] mark some block/ variables cons
    
    the patch below marks various read-only variables in block/* as const,
    so that gcc can optimize the use of them; eg gcc will replace the use by
    the value directly now and will even remove the memory usage of these.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 80cfd548eed68cf90c5ae9cfcd6b02230cece756
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Jan 6 09:43:28 2006 +0100

    [BLOCK] bio: check for same page merge possibilities in __bio_add_page()
    
    For filesystems with a blocksize < page size, we can merge same page
    calls into the bio_vec at the end of the bio. This saves segments
    on systems with a page size > the "normal" 4kb fs block size.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 88ee5ef157202624de2b43b3512fdcb54fda1ab5
Author: Jens Axboe <axboe@suse.de>
Date:   Sat Nov 12 11:09:12 2005 +0100

    [BLOCK] ll_rw_blk: fastpath get_request()
    
    Originally from: Nick Piggin <nickpiggin@yahoo.com.au>
    
    Move current_io_context out of the get_request fastpth.  Also try to
    streamline a few other things in this area.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit ef9be1d336378de279d4e37779f1b83cebadbcc0
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Nov 11 14:27:09 2005 +0100

    [BLOCK] as-iosched: update alias handling
    
    Unlike other ioscheds, as-iosched handles alias by chaing them using
    rq->queuelist.  As aliased requests are very rare in the first place,
    this complicates merge/dispatch handling without meaningful
    performance improvement.  This patch updates as-iosched to dump
    aliased requests into dispatch queue as other ioscheds do.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit e91c021c487110386a07facd0396e6c3b7cf9c1f
Author: Mark A. Greer <mgreer@mvista.com>
Date:   Sun Dec 18 17:22:01 2005 +0100

    [PATCH] i2c: i2c-mv64xxx fix transaction abortion
    
    When the i2c-mv64xxx i2c driver is signalled to abort a transaction,
    it aborts it immediately by issuing a stop condition on the bus.
    This violates the i2c protocol and can cause what appears to be an i2c
    bus hang.  This patch delays issuing the stop condition until the i2c
    device can reasonably expect a stop condition.
    
    Also includes a minor fixup.
    
    Signed-off-by: Mark A. Greer <mgreer@mvista.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>

commit 7c72ccf09b6debe55b8e049377ad3183ed4f4cb3
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 17:25:18 2005 +0100

    [PATCH] i2c: i2c-nforce2 add nforce4 MCP-04 device ID
    
    One more supported PCI ID for the i2c-nforce2 driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a4787c0d232e16e727b37205dc647337b8974f35
Author: Martin Hicks <mort@bork.org>
Date:   Sun Dec 18 17:18:01 2005 +0100

    [PATCH] i2c: i2c-ibm_iic add I2C_CLASS_HWMON
    
    Add the ibm_iic driver to the HWMON class so it will scan the
    bus for connected hardware monitor sensors.
    
    Signed-off-by: Martin Hicks <mort@bork.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3fb81a3df63e1900a7b3f496806a3f8d2b4295dd
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 17:11:51 2005 +0100

    [PATCH] i2c: I2C_DF_NOTIFY removal comment cleanups
    
    The removal of I2C_DF_NOTIFY left some out of date comments in the
    code. Drop them.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fb687d73fa7685ffeed1a6b24fadb5f4db817783
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 16:51:55 2005 +0100

    [PATCH] i2c: update i2c_driver.command documentation
    
    Document i2c_driver.command as being deprecated, and don't suggest an
    empty implementation of this callback as it doesn't make any sense.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d564baee2984098c73fd0e55bc5c8a890878ef3b
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sun Dec 18 16:49:30 2005 +0100

    [PATCH] i2c: drop empty i2c_driver.command implementations
    
    Given that implementing i2c_driver.command is optional, there is no
    point in an empty implementation thereof.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Michael Geng <linux@MichaelGeng.de>
    Cc: Petr Vandrovec <vandrove@vc.cvut.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 04b4b8434a92b9ef127985113c0bd961957778b7
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 16:42:35 2005 +0100

    [PATCH] i2c: driver ID list cleanups
    
    Cleanups to i2c driver ID list:
    * Remove mostly bogus comments about driver ID ranges.
    * Drop experimental driver IDs, as the concept is pretty broken.
    * Drop now unused IDs of non-I2C (ISA) drivers.
    * Drop a few more IDs which are no more used.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a7be58a126d4cd9f0588df23f58796ed996c1835
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 16:40:14 2005 +0100

    [PATCH] hwmon: it87 use u8 for vrm
    
    VRM values fit in u8 by design now.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 734a12a36676ad3b9418fa5a829c518afec02b8a
Author: Rudolf Marek <r.marek@sh.cvut.cz>
Date:   Sun Dec 18 16:36:52 2005 +0100

    [PATCH] hwmon: add VRM/VID support for some VIA CPUs
    
    This patch adds the VIA CENTAUR CPUs to detection table.
    Table was updated to treat future Intel x86 CPUs as VRD10.
    Stepping field was added, because some VIA CPUs have
    different VRM specs across stepping. I changed the vrm type
    to u8 because all drivers use u8 anyway.
    
    Signed-off-by: Rudolf Marek <r.marek@sh.cvut.cz>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 99d855602c1d7968ca6b6cc99b773b0b47909690
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 16:34:28 2005 +0100

    [PATCH] hwmon: w83792d simplify in low bits handling
    
    Simplify the way the w83792d driver handles the extra resolution
    bits of voltage input channels.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Yuan Mu <Ymu@winbond.com.tw>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c9152deaa635cab09cb43c17cf80130b9e6ee29d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Dec 18 16:29:40 2005 +0100

    [PATCH] hwmon: w83792d misc cleanups
    
    Cleanup the w83792d driver a bit:
    * Discard unused lock and irrelevant comments inherited from the
      w83781d driver.
    * Simplify w83792d_{read,write}_value functions.
    * Drop useless address test during detection.
    * Drop useless bitmasking.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Yuan Mu <Ymu@winbond.com.tw>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 79472132f555ae1e912699e116e5c82f338872f6
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 6 15:33:15 2005 -0800

    [PATCH] I2C: move i2c-dev to use dynamic class devices
    
    i2c-dev doesn't use the reference counting logic of struct class_device so move
    it to the dynamic method.  This makes the code paths simpler and the driver
    smaller.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: Jean Delvare <khali@linux-fr.org>

commit d82c0bf88fa97c1993ea9d6051488e7cb012b440
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Dec 7 21:54:26 2005 +0100

    [PATCH] i2c: Documentation update
    
    Update the i2c documentation to reflect the recent change to
    i2c_add_driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2b48716d1d2f2edb1e7cbc5ecf1cb2cb39373e33
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 6 15:33:15 2005 -0800

    [PATCH] I2C: Remove .owner setting from i2c_driver as it's no longer needed
    
    Now that i2c_add_driver() doesn't need the module owner to be set by
    hand, we can delete it from the drivers.  This patch catches all of the
    drivers that I found in the current tree (if a driver sets the .owner by
    hand, it's not a problem, just not needed.)
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: Jean Delvare <khali@linux-fr.org>

commit de59cf9ed44f64991e52a9de6094729537f0420c
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 6 15:33:15 2005 -0800

    [PATCH] I2C: Make i2c_add_driver automatically set the proper module owner
    
    This prevents i2c drivers from messing up and forgetting to set the
    module owner of their driver.  It also reduces the size of their drivers
    by one line :)
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: Jean Delvare <khali@linux-fr.org>

commit e1c489b0e4fbb1687f8227fe78b4769c123768c1
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Nov 30 16:35:09 2005 -0800

    [PATCH] I2C: Fix up debug build error for previous i2c structure changes
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>

commit d45d204f0c3daa01a393dfe81415573f9459506a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:55:35 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 11 of 11
    
    Document the drop of the owner and name fields of the i2c_driver
    structure.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    CC: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b33a665dba55c83f08cdd62aba1cd2672bccdd80
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:54:10 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 10 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the drivers for arm arch.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    CC: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1a7edcdca618d25564690c2df27c2c5c6e9f6316
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:52:34 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 9 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the matroxfb driver.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Petr Vandrovec <petr@vandrovec.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e533449d291b5a28ce9527539750a0cb88146f6e
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:51:06 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 8 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the drivers for acorn arch.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e100fe103e679372b3d1d6e9d32fd3ab57484be2
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:48:35 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 7 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the drivers for ppc arch.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d74cdab1cad1e5895d8928eeeb2ac469f8410d2e
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:46:32 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 6 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the OSS drivers.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 604f28e2b8d34cbaf08f0351374645f161335a82
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:43:39 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 5 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the drivers/media/video and usb/media drivers.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a33ca23231a37e28d15da9546b1f3e83dc48284b
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:40:34 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 4 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the drivers for macintosh.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cdaf79349c7d24e1d33acb6497849c9e956a33ea
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:37:41 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 3 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the hwmon drivers.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a9718b0c1154dcbd955be6aaee47a314cde6a25a
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:36:00 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 2 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the miscellaneaous i2c chip drivers.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 35d8b2e6b8e86b0d5126f36613b5202d4eb978b6
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sat Nov 26 20:34:05 2005 +0100

    [PATCH] i2c: Drop i2c_driver.{owner,name}, 1 of 11
    
    We should use the i2c_driver.driver's .name and .owner fields
    instead of the i2c_driver's ones.
    
    This patch updates the core of the i2c drivers: it removes .name and
    .owner fields from the struct i2c_device and modify various
    functions to use struct device fields instead.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 482c788ded0aa9710722eaf9cf60886d3b923218
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 21:06:08 2005 +0100

    [PATCH] i2c: i2c_get_client is gone
    
    The i2c_get_client function doesn't exist anymore, so we shouldn't
    have a definition for it in i2c.h.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 92b429461228f0f06a994dd3d4ccf1c9ff7596bd
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 21:05:17 2005 +0100

    [PATCH] i2c: Chip driver porting guide update
    
    Update Documentation/i2c/porting-clients. Many recent changes to the i2c
    and hwmon subsystems were never reported there.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cf02df770228350254251fde520007a2709db785
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 21:03:41 2005 +0100

    [PATCH] i2c: Rework client usage count, 3 of 3
    
    Do not limit the usage count of i2c clients to 1. In other words,
    change the client usage count behavior from the old I2C_CLIENT_ALLOW_USE
    to the old I2C_CLIENT_ALLOW_MULTIPLE_USE. The rationale is that no
    driver actually needs the limiting behavior, and the unlimiting
    behavior is slightly easier to implement.
    
    Update the documentation to reflect this change.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cde7859bda0d1124392b44e50aa11df99707e1d9
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 21:00:54 2005 +0100

    [PATCH] i2c: Rework client usage count, 2 of 3
    
    Make I2C_CLIENT_ALLOW_USE the default for all i2c clients. It doesn't
    hurt if the usage count is actually never used for any given driver,
    and allows for nice code simplifications in i2c-core.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cb748fb20186d4b345c68a7f580429f379fdd268
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:58:35 2005 +0100

    [PATCH] i2c: Rework client usage count, 1 of 3
    
    No i2c client uses the I2C_CLIENT_ALLOW_MULTIPLE_USE flag, drop it.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d7b851dcced3611e4a4432308618b1ed1a9fc31
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Nov 27 08:57:10 2005 +0100

    [PATCH] i2c: Drop i2c_driver.flags, 3 of 3
    
    The flags member of the i2c_driver structure is no more used. Drop it.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8a9947552d43b0d20d5fa23ac0ba435d526be454
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:28:06 2005 +0100

    [PATCH] i2c: Drop i2c_driver.flags, 2 of 3
    
    Just about every i2c chip driver sets the I2C_DF_NOTIFY flag, so we
    can simply make it the default and drop the flag. If any driver really
    doesn't want to be notified when i2c adapters are added, that driver
    can simply omit to set .attach_adapter. This approach is also more
    robust as it prevents accidental NULL pointer dereferences.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ff179c8cf5caa17bf3d407edbb5872aa2eee6900
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:24:59 2005 +0100

    [PATCH] i2c: Drop i2c_driver.flags, 1 of 3
    
    The I2C_DF_DUMMY flag is gone since 2.5.70, it's about time to
    drop all ifdef'd out references thereto.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1de9e371b89e1cf4da123f0d92efa8eb134ca5e8
Author: Roger Lucas <roger@planbit.co.uk>
Date:   Sat Nov 26 20:20:05 2005 +0100

    [PATCH] hwmon: New vt8231 driver
    
    Port the vt8231 hardware monitoring driver from lm_sensors CVS to
    Linux 2.6.
    
    Signed-off-by: Roger Lucas <roger@planbit.co.uk>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d26f455eb0db0bf4d4b7177547f4310b645a32a
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:   Sat Nov 26 20:18:43 2005 +0100

    [PATCH] i2c: Add support for Barco LPT->DVI to i2c-parport
    
    The following patch adds support for the Barco LPT->DVI I2C adapter to
    the i2c-parport driver.
    
    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7e94436942a7517d08c0cd1a8831122a0fea289e
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Sat Nov 26 20:15:23 2005 +0100

    [PATCH] i2c: Remove duplicate rtc8564 BCD macros
    
    Remove duplicate of BCD macros.
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5b319400f5e2cd31a82b38405856ff2b46a9bb83
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Sat Nov 26 20:10:56 2005 +0100

    [PATCH] hwmon: Clarify the W83627THF VID documentation
    
    This patch clarifies the W83627THF VID documentation.
    
    Signed-off-by: Mark M. Hoffman <mhoffman@lightlink.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dd149c52223cfb05cdefb0755d3c2793e8d33ede
Author: Yuan Mu <ymu@winbond.com.tw>
Date:   Sat Nov 26 20:13:18 2005 +0100

    [PATCH] hwmon: W83627THF VID fixes
    
    This patch fixes the VID reading; no cpu0_vid and vrm files created if
    the chip is w83627thf and GPIO5 not enabled.
    
    Signed-off-by: Yuan Mu <ymu@winbond.com.tw>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9c516ef496c857aa4b1b41dc313010f11d39c496
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Nov 26 20:07:54 2005 +0100

    [PATCH] hwmon: Support the VRM 10 mode of the ADT7463
    
    Support the VRM 10 mode of the ADT7463.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 07421cabdc62519d0f747149b7c9b425b4d746cd
Author: Grant Coady <gcoady@gmail.com>
Date:   Sun Nov 6 23:13:06 2005 +0100

    [PATCH] hwmon: remove deprecated sysfs names of adm1025 and adm1026
    
    drivers, hwmon, adm1025 and adm1026: remove deprecated sysfs names.
    
    these names have been listed for removal for six months, time for them to go
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f9e8957937ebf60d22732a5ca9130f48a7603f60
Author: Michael Burian <dynmail1@gassner-waagen.at>
Date:   Mon Nov 7 22:30:14 2005 +0100

    [PATCH] i2c: Extend ds1337 initialization
    
    Add code to handle case where board firmware does not start the
    RTC.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    CC: James Chapman <jchapman@katalix.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2e3e13f8e9d9b2111404cdccaa4e1b988b70acce
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Sun Nov 6 23:04:51 2005 +0100

    [PATCH] i2c: i2c-i801 explicitly enables/disables PEC
    
    This patch tweaks i2c-i801.c so that the driver always sets the SMBAUXCTL
    register (which enables/disables PEC) explicitly before each transaction.
    
    Signed-off-by: Mark M. Hoffman <mhoffman@lightlink.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9f155b9802bb7049cd0f216c3fe903b58620df11
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Thu Jan 5 23:11:29 2006 -0500

    [PATCH] i386: PTRACE_POKEUSR: allow changing RF bit in EFLAGS register.
    
    Setting RF (resume flag) allows a debugger to resume execution after a
    code breakpoint without tripping the breakpoint again.  It is reset by
    the CPU after execution of one instruction.
    
    Requested by Stephane Eranian:
      "I am trying to the user HW debug registers on i386 and I am running
       into a problem with ptrace() not allowing access to EFLAGS_RF for
       POKEUSER (see FLAG_MASK).  [ ...  ] It avoids the need to remove the
       breakpoint, single step, and reinstall.  The equivalent functionality
       exists on IA-64 and is allowed by ptrace()"
    
    Cc: Stephane Eranian <eranian@hpl.hp.com>
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29552b1462799afbe02af035b243e97579d63350
Merge: 6c59f9d... 51e7a59...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 5 20:43:11 2006 -0800

    Merge http://oss.oracle.com/git/ocfs2

commit 6c59f9d9fb95934bf3d7d64249b338ce79953b5b
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Thu Jan 5 23:04:08 2006 -0500

    Update MAINTAINERS - Jody is no longer at Steamballoon.

commit 6020bafc9e30e04f4db65298d00e8e28ffb40652
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Thu Jan 5 23:00:38 2006 -0500

    Input: i8042 - add OQO Zepto to noloop dmi table.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 1f85145c5825a6f1fdf83e6c48e788dd3117c39a
Author: Michael Hanselmann <linux-kernel@hansmi.ch>
Date:   Thu Jan 5 23:00:26 2006 -0500

    Input: add missing keys from input.h to hid-debug.h
    
    Signed-off-by: Michael Hanselmann <linux-kernel@hansmi.ch>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit dbc26344350dff2932902a7723a4e89e71752803
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Jan 5 23:00:13 2006 -0500

    Input: atkbd - don't lose keymap settings when reconnecting keyboard
    
    Call serio_reconnect() instead of serio_rescan() when detecting that
    a new keyboard was plugged in. This should help KVM uses losing custom
    keymap settings when switching between boxes.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 2f27f8175831f9aad9f708da16814240327dba22
Author: Dave Jones <davej@redhat.com>
Date:   Thu Jan 5 19:31:51 2006 -0800

    [X86] Remove pointless versioning of mtrr driver.
    
    It's not like this has changed significantly, and probably never will.
    Reduce some bootup dmesg noise.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit fed8bf19ec20efc0641740b2d10aa589dbd6d1ab
Merge: e7c3aad... 46f25df...
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Jan 5 22:25:13 2006 -0500

    Merge rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 52cab57873c25d3c8324ee3e4d463db6e8e73fd7
Merge: 0a75c23... 46f25df...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Thu Jan 5 22:22:50 2006 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 46f25dffbaba48c571d75f5f574f31978287b8d2
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Thu Jan 5 16:35:42 2006 -0800

    [NET]: Change 1500 to ETH_DATA_LEN in some files
    
    These patches add the header linux/if_ether.h and change 1500 to
    ETH_DATA_LEN in some files.
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e924283bf93989979f27ef4f1228c5925f584a0a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 5 14:57:36 2006 -0800

    [IPVS]: Another file needs linux/interrupt.h
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 466200562ccd80f728f7ef602d2b97b4fdedd566
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Thu Jan 5 16:17:38 2006 -0800

    IB/mthca: create_eq with size not a power of 2
    
    Fix mthca_create_eq for when the EQ size is not a power of 2.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 38d1e793471d95728219f500bbb8bd25658d73b0
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Jan 5 16:13:46 2006 -0800

    IB/mthca: check port validity in modify_qp
    
    Modify_qp should check that the physical port number provided
    is a legal value.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit aa2f9367790ad81ef51d3f667124227ca3003d3b
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Jan 5 16:12:01 2006 -0800

    IB/mthca: check return value in mthca_dev_lim call
    
    Check error return on call to mthca_dev_lim for Tavor
    (as is done for memfree).
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit d7906de1d774ca70d696d3047223bb3e5e759d92
Merge: fbd91ac... 725a6ab...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 5 15:55:49 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-2.6

commit 725a6abfe37025975c125ace1c7da35f27ce5384
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 5 09:56:03 2006 +0000

    [PATCH] pcmcia: add some IDs for ide-cs and dtl1_cs
    
    Add some PCMCIA device IDs for the microdrive found in the Sharp Zaurus
    and a different revision of the Socket CF+ Bluetooth card.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 6e493882726e762d0eb7a0a5fcae42a122ae75a5
Author: Daniel Ritz <daniel.ritz-ml@swissonline.ch>
Date:   Fri Dec 30 15:12:35 2005 +0100

    [PATCH] pcmcia: cleanup cs.c, reduce size
    
    kill the socket_shutdown()/shutdown_socket() confusion by making it
    one single function. move cs_socket_put() in there. nicer to read and
    smaller:
    
    original:
       text	   data	    bss	    dec	    hex	filename
      25181	   1076	     32	  26289	   66b1	drivers/pcmcia/pcmcia_core.ko
    
    patched:
       text	   data	    bss	    dec	    hex	filename
      24973	   1076	     32	  26081	   65e1	drivers/pcmcia/pcmcia_core.ko
    
    Signed-off-by: Daniel Ritz <daniel.ritz@gmx.ch>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 3cf89b185971bf186cec657911f08354e7701635
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Dec 23 23:51:08 2005 +0300

    [PATCH] drivers/pcmcia/cistpl.c: fix endian warnings
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 8084b372adac9c24ff7abdd939b2e8816e7b88a3
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sun Dec 11 21:18:26 2005 +0100

    [PATCH] pcmcia: kzalloc conversion
    
    Convert users of kmalloc and memset to kzalloc
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 6423efaacbf0bce6372897e793d8450c1c08ec8d
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sun Dec 11 20:47:44 2005 +0100

    [PATCH] pcmcia: no probing of ioports on PARISC
    
    Do not wildly probe the IO ports we're trying to use on PARISC.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 002dbb2d0d42b4a2c1eef2012c2fe7af48163b3c
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Thu Dec 8 23:50:36 2005 +0100

    [PATCH] pcmcia: export stored values in sysfs
    
    Export the stored values instead of re-reading everything in the socket
    information sysfs files, and make them accessible to all users, not only
    to root.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 1371d3be045a6a1a8b828b838069b5fe6e0ab4c6
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Thu Dec 8 13:56:12 2005 -0200

    [PATCH] 8xx PCMCIA: support for MPC885ADS and MPC866ADS
    
    This adds PCMCIA support for both MPC885ADS and MPC866ADS.
    
    This is established not together with FADS, because 885 does not have
    io_block_mapping() for BCSR area.
    Also, some cleanups done both for 885ADS and MBX.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit a94515fa1f1609249dbebcfb93181ad0ba4b285a
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Thu Dec 8 13:53:20 2005 -0200

    [PATCH] m8xx_pcmcia: support MAP_AUTOSZ required for CF cards
    
    This fixes misconfiguration that could result in odd work of some old CF
    cards.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 3b27e9421a1433689704fe0a02e926d4ba971121
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Wed Dec 7 12:32:20 2005 +0100

    [PATCH] pcmcia: properly handle static mem, but dynamic io sockets
    
    Some PCMCIA sockets have statically mapped memory windows, but dynamically
    mapped IO windows. Using the "nonstatic" socket library is inpractical for
    them, as they do neither need a resource database (as we can trust the
    kernel resource database on m68k and ppc) nor lots of other features of that
    library. Let them get a small "iodyn" socket library (105 lines of code)
    instead.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit efe3cd105f2a19e72ce9280bb22c7c80752e4314
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Fri Jan 6 00:27:16 2006 +0100

    [PATCH] pcmcia: fix sound drivers
    
    Update the PCMCIA sound drivers to handle the recent changes to the PCMCIA
    core. A part of this merge was done by Takashi Iwai <tiwai@suse.de>.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit f8cfa618dccbdc6dab5297f75779566a388a98fd
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Nov 14 21:25:51 2005 +0100

    [PATCH] pcmcia: unify attach, EVENT_CARD_INSERTION handlers into one probe callback
    
    Unify the EVENT_CARD_INSERTION and "attach" callbacks to one unified
    probe() callback. As all in-kernel drivers are changed to this new
    callback, there will be no temporary backwards-compatibility. Inside a
    probe() function, each driver _must_ set struct pcmcia_device
    *p_dev->instance and instance->handle correctly.
    
    With these patches, the basic driver interface for 16-bit PCMCIA drivers
    now has the classic four callbacks known also from other buses:
    
            int (*probe)            (struct pcmcia_device *dev);
            void (*remove)          (struct pcmcia_device *dev);
    
            int (*suspend)          (struct pcmcia_device *dev);
            int (*resume)           (struct pcmcia_device *dev);
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit b463581154f3f3eecda27cae60df813fefcd84d3
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Nov 14 21:25:35 2005 +0100

    [PATCH] pcmcia: remove dev_list from drivers
    
    The linked list of devices managed by each PCMCIA driver is, in very most
    cases, unused. Therefore, remove it from many drivers.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit f3990715589d378a2d3aa9b8accd78bb4a2378b7
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Nov 14 21:25:23 2005 +0100

    [PATCH] pcmcia: remove old detach mechanism
    
    Remove the old "detach" mechanism as it is unused now.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit cc3b4866bee996c922e875b8c8efe9f0d8803aae
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Nov 14 21:23:14 2005 +0100

    [PATCH] pcmcia: unify detach, REMOVAL_EVENT handlers into one remove callback
    
    Unify the "detach" and REMOVAL_EVENT handlers to one "remove" function.
    Old functionality is preserved, for the moment.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 8e9e793d68fcda6cc84c18cedf85ca0f91d801a8
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Fri Jan 6 00:02:03 2006 +0100

    [PATCH] pcmcia: merge suspend into device model
    
    Merge the suspend and resume methods for 16-bit PCMCIA cards into the
    device model -- for both runtime power management and suspend to ram/disk.
    
    Bugfix in ds.c by Richard Purdie
    Signed-Off-By: Richard Purdie <rpurdie@rpsys.net>
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 98e4c28b7ec390c2dad6a4c69d69629c0f7e8b10
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Mon Nov 14 21:21:18 2005 +0100

    [PATCH] pcmcia: new suspend core
    
    Move the suspend and resume methods out of the event handler, and into
    special functions. Also use these functions for pre- and post-reset, as
    almost all drivers already do, and the remaining ones can easily be
    converted.
    
    Bugfix to include/pcmcia/ds.c
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 63e7ebd06402951bc8863ba5b7bc9b9f42044849
Author: Daniel Ritz <daniel.ritz-ml@swissonline.ch>
Date:   Thu Nov 3 21:12:14 2005 +0100

    [PATCH] yenta: make bridge specific init code configurable
    
    Make the bridge specific initialization code config options depending on
    CONFIG_EMBEDDED. Config options for TI/EnE, Toshiba, Ricoh and O2Micro are
    available. Disabling all of the specific tweaks cuts off more than half
    of yenta_socket.ko.
    
    Signed-off-by: Daniel Ritz <daniel.ritz@gmx.ch>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 2cff944720332535a24b7eae16cff32055a43048
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 16 21:29:26 2005 -0800

    [PATCH] pcmcia: validate_mem fix
    
    Also return a value if CONFIG_PCMCIA_PROBE is not set.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit de75914ee103a30d82ad21b39b7e04f70e4fa1f0
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Wed Sep 28 19:41:56 2005 +0200

    [PATCH] pcmcia: validate_mem shouldn't be void
    
    Add a return value to pcmcia_validate_mem.  Only if we have enough memory
    available to map the CIS, we should proceed in trying to determine information
    about the device.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 9da4bc6d6a38c1c3d850c046d0aee324c1a2e52a
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sat Nov 12 23:56:33 2005 +0100

    [PATCH] pcmcia: remove get_socket callback
    
    The .get_socket callback is never used by the PCMCIA core, therefore remove
    it.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 7f316b033b36adfbdf56bfb15c13de49798ab0b2
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Wed Sep 28 19:41:55 2005 +0200

    [PATCH] pcmcia: remove socket register_callback
    
    Remove the register_callback declaration in struct pccard_operations as it is
    unused.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit e4115805cf2020da94e8bd1296243605cda487ff
Author: Daniel Ritz <daniel.ritz@gmx.ch>
Date:   Tue Sep 20 14:17:37 2005 -0700

    [PATCH] yenta: optimize interrupt handler
    
    Don't waste cpu time in yenta interrupt handler when the interrupt was for
    another device.
    
    Signed-off-by: Daniel Ritz <daniel.ritz@gmx.ch>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 37f779554404ddca981ac4b4cc6692fc09b71e96
Author: Pavel Machek <pavel@ucw.cz>
Date:   Wed Sep 7 16:00:26 2005 -0700

    [PATCH] pcmcia: avoid macro usage in cistpl
    
    Fix macro abuse in pcmcia.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit fbd91ac22229fdb89f0dd2eaa11dd663f2ba1a92
Merge: 6e2324e... 38c0b2c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 5 14:18:15 2006 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 6e2324e0fbb3a075382359b1cbc392a3f4ec8792
Merge: e8eaedf... 5b373e1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Jan 5 14:01:23 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 38c0b2c2aaab5595a140ade4410e01d407fff751
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Jan 5 13:30:52 2006 -0800

    [IA64] Fix compile warnings in setup.c
    
    arch/ia64/kernel/setup.c: In function `show_cpuinfo':
    arch/ia64/kernel/setup.c:576: warning: long unsigned int format, different type arg (arg 12)
    arch/ia64/kernel/setup.c:576: warning: long unsigned int format, different type arg (arg 13)
    
    Introduced by 95235ca2c20ac0b31a8eb39e2d599bcc3e9c9a10
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 5b373e10aeadc2599c085a3357b7fad8b8e760b8
Author: Luis F. Ortiz <lfo@Polyad.Org>
Date:   Thu Jan 5 13:12:41 2006 -0800

    [ATYFB]: Fix onboard video on SPARC Blade 100 for 2.6.{13,14,15}
    
    	I have recently been switching from using 2.4.32 on my trusty
    old Sparc Blade 100 to using 2.6.15 .  Some of the problems I ran into
    were distorted video when the console was active (missing first
    character, skipped dots) and when running X windows (colored snow,
    stripes, missing pixels).  A quick examination of the 2.6 versus 2.4
    source for the ATY driver revealed alot of changes.
    
             A closer look at the code/data for the 64GR/XL chip revealed
    two minor "typos" that the rewriter(s) of the code made.  The first is
    a incorrect clock value (230 .vs. 235) and the second is a missing
    flag (M64F_SDRAM_MAGIC_PLL).  Making both these changes seems to have
    fixed my problem.  I tend to think the 235 value is the correct one,
    as there is a 29.4 Mhz clock crystal close to the video chip and 235.2
    (29.4*8) is too close to 235 to make it a coincidence.
    
    	The flag for M64F_SDRAM_MAGIC_PLL was dropped during the
    changes made by adaplas in file revision 1.72 on the old bitkeeper
    repository.
    
    	The change relating to the clock rate has been there forever,
    at least in the 2.6 tree.  I'm not sure where to look for the old 2.5
    tree or if anyone cares when it happened.
    
    On SPARC Blades 100's, which use the ATY MACH64GR video chipset, the
    clock crystal frequency is 235.2 Mhz, not 230 Mhz.  The chipset also
    requires the use of M64F_SDRAM_MAGIC_PLL in order to setup the PLL
    properly for the DRAM.
    
    Signed-off-by: Luis F. Ortiz <lfo@Polyad.Org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5b2e98cdf3a6ac6c57de6a2156c673d4b0262684
Author: Jared Hulbert <jaredeh@gmail.com>
Date:   Thu Jan 5 21:12:26 2006 +0000

    [ARM] 3206/1: Modifications to the bus arbiter controller for the Intel PXA27x
    
    Patch from Jared Hulbert
    
    The following patch changes the bus arbiter controller settings
    for the Intel PXA27x Application Processor Family.  Up to 5%
    better video performance.  It parks the bus on the core while not
    in use and sets the arbitration for other bus items.  The patch
    only applies changes to the Intel Mainstone development platform.
    
    This patch is not compatible with preproduction Intel PXA27x
    silicon.
    
    This patch is based on the Intel Linux Preview Kit released to the
    public on 25 Feb. 2005 found at
    ftp://ftp.arm.linux.org.uk/pub/linux/arm/people/xscale/mainstone/02-25-2005/.
    
    Signed-off-by: Justin A Treon <justin_treon@yahoo.com>
    Signed-off-by: Jared Hulbert <jaredeh@gmail.com>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 54e269ead6e672325866037b0617a72edd1396b9
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Thu Jan 5 20:59:29 2006 +0000

    [ARM] 3226/1: IXP4xx runtime expansion bus window size configuration
    
    Patch from Deepak Saxena
    
    The expansion bus on the IXP46x NPU can be configured for either 32MiB or
    16MiB windows and changing the configuration causes the base address for
    each chip select for each region to change. Because of this, we cannot
    hardcode the physical base as we currently do. This patch checks the
    expansion bus configuration registers at runtime to determine the
    appropriate window size. Note that this requires that the bootloader
    already configured the device sizes appropriately, but I feel that is
    valid assumption to make as the bootloader must configure and access
    the flash window, the output display (LCD, LEDs, etc) window, and
    other expansion bus devices.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2b9ac7c15c0c5c9d6057b9e297dabaebd208ffe8
Author: Dan Williams <dan.j.williams@gmail.com>
Date:   Thu Jan 5 20:53:02 2006 +0000

    [ARM] 3217/1: iop331 uarts as platform devices
    
    Patch from Dan Williams
    
    Convert old-style serial devices to platform devices so that printk's are visible during the boot process.
    
    Signed-off-by: Dan Williams <dan.j.williams@intel.com>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6a2273d6fc627d28a4de9beadf77ae6636b1e5d0
Author: Sascha Hauer <sascha@saschahauer.de>
Date:   Thu Jan 5 20:44:58 2006 +0000

    [ARM] 3231/1: mx1ads board support cleanup
    
    Patch from Sascha Hauer
    
    - remove unnecessary mappings
    - rename mx1ads_device to cs89x0_device, because
      that's what it is
    - fix io/irq resource for cs89x0 device
    
    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 945b957972844881002ab4f68534581f4427a30b
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 5 20:44:57 2006 +0000

    [ARM] 3230/1: Sharp Scoop: Fix Shared Power Control Issues
    
    Patch from Richard Purdie
    
    The SL-Cxx00 devices have a power control register in SCOOP that is
    shared by both CF and MMC/SD card slots. The CF reset code was resetting
    this register leading to various lockups as the MMC power was suddenly
    lost. This patch handles the CPR register in a more sensitive manner.
    
    It also removes some unneeded collie specific calls as the reset code
    handles this.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 53b7c2b243bd31f857dddabd9339f2dd6ae3fb67
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 5 20:44:55 2006 +0000

    [ARM] 3229/1: Remove uneeded ARM apm dependency on PM_LEGACY
    
    Patch from Richard Purdie
    
    ARM doesn't use ACPI so ARM's apm implementation has no need to depend
    on PM_LEGACY. This patch removes that dependency.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b7557de41a04346cb545d4dda7088760cb96e713
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 5 20:44:55 2006 +0000

    [ARM] 3228/1: SharpSL: Move PM code to arch/arm/common
    
    Patch from Richard Purdie
    
    This patch moves a large chunk of the sharpsl_pm driver to
    arch/arm/common so that it can be reused on other devices such as the
    SL-5500 (collie). It also abstracts some functions from the core into
    the machine and platform specific parts of the driver to aid reuse.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3125c68d70e3433c21234431a9df9e7336efa29f
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Jan 5 20:44:52 2006 +0000

    [ARM] 3227/1: Spitz: Add pxa27x OHCI platform specific code
    
    Patch from Richard Purdie
    
    Add platform code to enable the ohci device on the pxa27x based
    Sharp Zaurus Cxx00 devices.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e8eaedf2f8b368c26aa31a5a5a623b6867ef7f2b
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Thu Jan 5 12:28:57 2006 -0800

    [NETFILTER]: Use HOPLIMIT metric as TTL of TCP reset sent by REJECT
    
    HOPLIMIT metric is appropriate to TCP reset sent by REJECT target
    than hard-coded max TTL. Thanks to David S. Miller for hint.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0ae2cfe7f3d88f061aa2656c7e881d3a0697d622
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:21:52 2006 -0800

    [NETFILTER]: nf_conntrack_l3proto_ipv4.c needs net/route.h
    
    CC [M]  net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.o
    net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c: In function 'ipv4_refrag':
    net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.c:198: error: dereferencing pointer to incomplete type
    make[3]: *** [net/ipv4/netfilter/nf_conntrack_l3proto_ipv4.o] Error 1
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 22dea562bb56dbc3430c8f23f60ccd38527b1f5a
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:21:34 2006 -0800

    [NETFILTER]: Export ip6_masked_addrcmp, don't pass IPv6 addresses on stack
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b777e0ce7437a0e788e2aeb42aca9af2cce1f2e1
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:21:16 2006 -0800

    [NETFILTER]: make ipv6_find_hdr() find transport protocol header
    
    The original ipv6_find_hdr() finds the specified header in IPv6 packets.
    This makes it possible to get transport header so that we can kill similar
    loop in ip6_match_packet().
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1bd9bef6f9fe06dd0c628ac877c85b6b36aca062
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:20:59 2006 -0800

    [NETFILTER]: Call POST_ROUTING hook before fragmentation
    
    Call POST_ROUTING hook before fragmentation to get rid of the okfn use
    in ip_refrag and save the useless fragmentation/defragmentation step
    when NAT is used.
    
    The patch introduces one user-visible change, the POSTROUTING chain
    in the mangle table gets entire packets, not fragments, which should
    simplify use of the MARK and CLASSIFY targets for queueing as a nice
    side-effect.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit abbcc73982445c1457901c7fc1d0d110e7a587e3
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:20:40 2006 -0800

    [NETFILTER]: Remove okfn usage in ip_vs_core.c
    
    okfn should only be used from different contexts to avoid deep call chains,
    i.e. by nf_queue.
    
    Acked-by: Julian Anastasov <ja@ssi.bg>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a9b305c4e56f97d6a2ae4f21691bc13797498caf
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:20:02 2006 -0800

    [NETFILTER]: ctnetlink: Fix dumping of helper name
    
    Properly dump the helper name instead of internal kernel data.
    Based on patch by Marcus Sundberg <marcus@ingate.com>.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e7be6994ec68c38d8e23e647eac649b280c4fe5a
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Jan 5 12:19:46 2006 -0800

    [NETFILTER]: Fix module_param types and permissions
    
    Fix netfilter module_param types and permissions. Also fix an off-by-one in
    the ipt_ULOG nlbufsiz < 128k check.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 87711cb81c33e75fe8c95137fe62c8d462ff781c
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:19:23 2006 -0800

    [NETFILTER]: Filter dumped entries based on the layer 3 protocol number
    
    Dump entries of a given Layer 3 protocol number.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c1d10adb4a521de5760112853f42aaeefcec96eb
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:19:05 2006 -0800

    [NETFILTER]: Add ctnetlink port for nf_conntrack
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 205d67c7d942c057648148fefb17e46f77e3efd6
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:18:44 2006 -0800

    [NETFILTER]: ctnetlink: remove unused variable
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d4d6bb41e09f07668ca2655da707eab936e8e8f0
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:18:25 2006 -0800

    [NETFILTER]: ctnetlink: fix conntrack mark race
    
    Set conntrack mark before it is in hashes.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0368309cb45bbba99f84a01d5fc6a18780788480
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:18:08 2006 -0800

    [NETFILTER]: ctnetlink: ctnetlink_event cleanup
    
    Cleanup: Use 'else if' instead of a ugly 'goto' statement.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 47116eb201571ad1198a8d76dc3571e85ba7c8c9
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:17:50 2006 -0800

    [NETFILTER]: ctnetlink: use u_int32_t instead of unsigned int
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 984955b3d7f9943becf9915601f49a1fb7a41f7a
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:17:29 2006 -0800

    [NETFILTER]: ctnetlink: propagate ctnetlink_dump_tuples_proto return value back
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 90c4656eb4871c47a5d9fe7050590c9bb8b78b5a
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Thu Jan 5 12:17:03 2006 -0800

    [NETFILTER]: ctnetlink: Add sanity checkings for ICMP
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 684f7b296c0cb8238ce63f1828d33a00d5f3a26e
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Thu Jan 5 12:16:41 2006 -0800

    [NETFILTER]: ctnetlink: remove bogus checks in ICMP protocol at dumping
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d695aa8a1f133359485e15db06d53e15e7309e4d
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Thu Jan 5 12:16:16 2006 -0800

    [NETFILTER]: Decrease number of pointer derefs in nf_conntrack_core.c
    
    Benefits of the patch:
     - Fewer pointer dereferences should make the code slightly faster.
     - Size of generated code is smaller
     - improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3e4ead4fe5d0d9fdd7ad6749e6e608d39dd46e8a
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Thu Jan 5 12:15:58 2006 -0800

    [NETFILTER]: Decrease number of pointer derefs in nfnetlink_queue.c
    
    Benefits of the patch:
     - Fewer pointer dereferences should make the code slightly faster.
     - Size of generated code is smaller
     - improved readability
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4ffd2e4907184813101cefa7196102927cdbe104
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Jan 5 12:14:43 2006 -0800

    [IPVS]: Fix compilation
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5c3eee79128c372a81a83665be2332a000944280
Merge: 408045a... db9edfd...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Jan 5 08:52:11 2006 -0800

    Auto-update from upstream

commit 0a75c23a009ff65f651532cecc16675d05f4de37
Merge: 34b8c39... db9edfd...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Thu Jan 5 08:03:40 2006 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit dd68e88c72ac9ad25052065c4a443326eda6a052
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Jan 5 10:55:26 2006 +0000

    [SERIAL] 8520_pci: build fix
    
    _INLINE_ went away.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f3e2628bed0d5a88ced8239b35f1534557f9631c
Author: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
Date:   Thu Jan 5 10:31:23 2006 +0000

    [MMC] mmci: kunmap_atomic() unmaps virtual address, not page
    
    Signed-off-by: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ed349a8a0a780ed27e2a765f16cee54d9b63bfee
Author: Len Brown <len.brown@intel.com>
Date:   Thu Jan 5 02:40:11 2006 -0500

    [ACPI] fix pnpacpi regression resulting from ACPICA 20051117
    
    In ACPICA 20051117, acpi_walk_resources() started
    sending ACPI_RESOURCE_TYPE_END_TAG to the callback
    routine which wasn't prepared for it, causing
    _CRS to fail and PnPACPI to not recognize any devices:
    
    pnp: ACPI device : hid PNP0C02
    pnp: PnPACPI: unknown resource type 7
    pnp: PnPACPI: METHOD_NAME__CRS failure for PNP0c02
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit db9edfd7e339ca4113153d887e782dd05be5a9eb
Merge: 631b034... fd586ba...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 18:44:12 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/driver-2.6
    
    Trivial manual merge fixup for usb_find_interface clashes.

commit 631b034724364b413e8a52e7c2e03a9d77e4c2b4
Author: Chuck Ebbert <76306.1226@compuserve.com>
Date:   Tue Jan 3 22:36:14 2006 -0500

    [PATCH] i386: "invalid operand" -> "invalid opcode"
    
    According to the manual, INT 6 is "invalid opcode", not "invalid operand".
    
    Signed-off-by: Chuck Ebbert <76306.1226@compuserve.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3adfd4e2b8804e926a5245062ba8ee12e88d30c3
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Tue Jan 3 12:50:30 2006 -0800

    [PATCH] Fix IXP4xx watchdog errata workaround
    
    The IXP4xx driver bails out on all A0 CPUs, but it should only do
    so on IXP42x as IXP46x has functioning HW.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4da5cc2cec8caec1d357053e85a7a32f243f93a1
Merge: 25c862c... c6f4329...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:38:36 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/perex/alsa

commit 25c862cc9ea9b312c25a9f577f91b973131f1261
Merge: 52347f4... 8ded4ac...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:36:52 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sam/kbuild

commit 52347f4e810ba323d02cd2c26b5d738f4a2c3d5e
Merge: 1cb9e8e... 48d727a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:34:57 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/bunk/trivial

commit 1cb9e8e01d2c73184e2074f37cd155b3c4fdaae6
Merge: d779188... a18ceba...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:32:33 2006 -0800

    Merge branch 'upstream' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit d779188d2baf436e67fe8816fca2ef53d246900f
Merge: f61ea1b... ac67c62...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:31:56 2006 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit f61ea1b0c825a20a1826bb43a226387091934586
Merge: d347da0... 7b32b8e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:30:12 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/jejb/scsi-misc-2.6

commit d347da0deffa1d8f88f0d270eab040e4707c9916
Merge: c6c88bb... 74cb879...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:27:41 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/davem/net-2.6

commit c6c88bbde4d8b2ffe9886b7130b2e23781d424e5
Merge: 0356dbb... c8dd770...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:25:44 2006 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/gregkh/usb-2.6

commit 0356dbb7fe87ba59558902e536d9f960e87353c1
Merge: e28cc71... 95235ca...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:21:26 2006 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/cpufreq

commit e28cc71572da38a5a12c1cfe4d7032017adccf69
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Jan 4 16:20:40 2006 -0800

    Relax the rw_verify_area() error checking.
    
    In particular, allow over-large read- or write-requests to be downgraded
    to a more reasonable range, rather than considering them outright errors.
    
    We want to protect lower layers from (the sadly all too common) overflow
    conditions, but prefer to do so by chopping the requests up, rather than
    just refusing them outright.
    
    Cc: Peter Anvin <hpa@zytor.com>
    Cc: Ulrich Drepper <drepper@redhat.com>
    Cc: Andi Kleen <ak@suse.de>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd586bacf439f36dea9b9bf6e6133ac87df2730c
Author: Kay Sievers <kay.sievers@vrfy.org>
Date:   Mon Dec 19 01:42:56 2005 +0100

    [PATCH] net: swich device attribute creation to default attrs
    
    Recent udev versions don't longer cover bad sysfs timing with built-in
    logic. Explicit rules are required to do that. For net devices, the
    following is needed:
      ACTION=="add", SUBSYSTEM=="net", WAIT_FOR_SYSFS="address"
    to handle access to net device properties from an event handler without
    races.
    
    This patch changes the main net attributes to be created by the driver
    core, which is done _before_ the event is sent out and will not require
    the stat() loop of the WAIT_FOR_SYSFS key.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Acked-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1f1bf132d81ed723bc5fefbcec7d0779ce683a4f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Dec 12 01:31:03 2005 -0800

    [PATCH] drivers/base/power/runtime.c: #if 0 dpm_set_power_state()
    
    This patch #if 0's an unused global function.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e80a5dea8e056d8f398be1900d61c581d379f02f
Author: Steven Rostedt <rostedt@goodmis.org>
Date:   Wed Nov 23 09:15:44 2005 -0500

    [PATCH] sysfs: handle failures in sysfs_make_dirent
    
    I noticed that if sysfs_make_dirent fails to allocate the sd, then a
    null will be passed to sysfs_put.
    
    Signed-off-by: Steven Rostedt <rostedt@goodmis.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8218ef80932aa7e5e3d20c929a640c8d82133a9a
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 13 15:17:34 2005 -0800

    [PATCH] Driver core: Make block devices create the proper symlink name
    
    Block devices need to add the block device name to the symlink they put
    in the device directory, otherwise multiple symlinks of the same name
    can be created.  This matches the class system, which works the same
    way, we just forgot to convert block at the same time.
    
    Cc: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 874c6241b2e49e52680d32a50d4909c7768d5cb9
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Tue Dec 13 15:17:34 2005 -0800

    [PATCH] Driver core: only all userspace bind/unbind if CONFIG_HOTPLUG is enabled
    
    Thanks to drivers making their id tables __devinit, we can't allow
    userspace to bind or unbind drivers from devices manually through sysfs.
    So we only allow this if CONFIG_HOTPLUG is enabled.
    
    Cc: Dmitry Torokhov <dmitry.torokhov@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a96b204208443ab7e23c681f7ddabe807a741d0c
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Dec 10 01:36:28 2005 -0500

    [PATCH] Driver Core: Rearrange exports in platform.c
    
    Driver core: rearrange exports in platform.c
    
    The new way is to specify export right after symbol definition.
    Rearrange exports to follow new style to avoid mixing two styles
    in one file.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 93ce3061be212f6280e7ccafa9a7f698a95c6d75
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Dec 10 01:36:27 2005 -0500

    [PATCH] Driver Core: Add platform_device_del()
    
    Driver core: add platform_device_del function
    
    Having platform_device_del90 allows more straightforward error
    handling code in drivers registering platform devices.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e39b84337b8aed3044683a57741a19e5002225b9
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Sat Dec 10 22:48:20 2005 +1100

    [PATCH] Input: fix add modalias support build error
    
    Fix build when scripts/mod/file2alias.c includes linux/input.h, which
    tries to include /usr/include/linux/mod_devicetable.h:
    
     In file included from scripts/mod/file2alias.c:40:
     include/linux/input.h:21:35: linux/mod_devicetable.h: No such file or directory
     make[2]: *** [scripts/mod/file2alias.o] Error 1
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d8f430c15b3a345db990e285742c67c2f52f9a6
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed Dec 7 21:40:34 2005 +0100

    [PATCH] Input: add modalias support
    
    Here's the patch for modalias support for input classes.  It uses
    comma-separated numbers, and doesn't describe all the potential keys (no
    module currently cares, and that would make the strings huge).  The
    changes to input.h are to move the definitions needed by file2alias
    outside __KERNEL__.  I chose not to move those definitions to
    mod_devicetable.h, because there are so many that it might break compile
    of something else in the kernel.
    
    The rest is fairly straightforward.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    CC: Kay Sievers <kay.sievers@vrfy.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 263756ec228f1cdd49fc50b1f87001a4cebdfe12
Author: Kay Sievers <kay.sievers@vrfy.org>
Date:   Mon Dec 12 18:03:44 2005 +0100

    [PATCH] ide: MODALIAS support for autoloading of ide-cd, ide-disk, ...
    
    IDE: MODALIAS support for autoloading of ide-cd, ide-disk, ...
    
    Add MODULE_ALIAS to IDE midlayer modules: ide-disk, ide-cd, ide-floppy and
    ide-tape, to autoload these modules depending on the probed media type of
    the IDE device.
    
    It is used by udev and replaces the former agent shell script of the hotplug
    package, which was required to lookup the media type in the proc filesystem.
    Using proc was racy, cause the media file is created after the hotplug event
    is sent out.
    
    The module autoloading does not take any effect, until something like the
    following udev rule is configured:
      SUBSYSTEM=="ide",  ACTION=="add", ENV{MODALIAS}=="?*", RUN+="/sbin/modprobe $env{MODALIAS}"
    
    The module ide-scsi will not be autoloaded, cause it requires manual
    configuration. It can't be, and never was supported for automatic setup in
    the hotplug package. Adding a MODULE_ALIAS to ide-scsi for all supported
    media types, would just lead to a default blacklist entry anyway.
    
      $ modinfo ide-disk
      filename:       /lib/modules/2.6.15-rc4-g1b0997f5/kernel/drivers/ide/ide-disk.ko
      description:    ATA DISK Driver
      alias:          ide:*m-disk*
      license:        GPL
      ...
    
      $ modprobe -vn ide:m-disk
      insmod /lib/modules/2.6.15-rc4-g1b0997f5/kernel/drivers/ide/ide-disk.ko
    
      $ cat /sys/bus/ide/devices/0.0/modalias
      ide:m-disk
    
    It also adds attributes to the IDE device:
      $ tree /sys/bus/ide/devices/0.0/
      /sys/bus/ide/devices/0.0/
      |-- bus -> ../../../../../../../bus/ide
      |-- drivename
      |-- media
      |-- modalias
      |-- power
      |   |-- state
      |   `-- wakeup
      `-- uevent
    
      $ cat /sys/bus/ide/devices/0.0/{modalias,drivename,media}
      ide:m-disk
      hda
      disk
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f743ca5e10f4145e0b3e6d11b9b46171e16af7ce
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 22 23:36:13 2005 -0800

    [PATCH] kobject_uevent CONFIG_NET=n fix
    
    lib/lib.a(kobject_uevent.o)(.text+0x25f): In function `kobject_uevent':
    : undefined reference to `__alloc_skb'
    lib/lib.a(kobject_uevent.o)(.text+0x2a1): In function `kobject_uevent':
    : undefined reference to `skb_over_panic'
    lib/lib.a(kobject_uevent.o)(.text+0x31d): In function `kobject_uevent':
    : undefined reference to `skb_over_panic'
    lib/lib.a(kobject_uevent.o)(.text+0x356): In function `kobject_uevent':
    : undefined reference to `netlink_broadcast'
    lib/lib.a(kobject_uevent.o)(.init.text+0x9): In function `kobject_uevent_init':
    : undefined reference to `netlink_kernel_create'
    make: *** [.tmp_vmlinux1] Error 1
    
    Netlink is unconditionally enabled if CONFIG_NET, so that's OK.
    
    kobject_uevent.o is compiled even if !CONFIG_HOTPLUG, which is lazy.
    
    Let's compound the sin.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d960bb4db9f422b5c3c82e0dfd6c8213a4fc430d
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Mon Nov 28 10:15:39 2005 -0600

    [PATCH] Allow overlapping resources for platform devices
    
    There are cases in which a device's memory mapped registers overlap
    with another device's memory mapped registers.  On several PowerPC
    devices this occurs for the MDIO bus, whose registers tended to overlap
    with one of the ethernet controllers.
    
    By switching from request_resource to insert_resource we can register
    the MDIO bus as a proper platform device and not hack around how we
    handle its memory mapped registers.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e22dafbcd7a579c29a424d5203b5b33b131948a7
Author: Frank Pavlic <pavlic@de.ibm.com>
Date:   Sat Nov 26 20:48:40 2005 -0800

    [PATCH] klist: Fix broken kref counting in find functions
    
    The klist reference counting in the find functions that use
    klist_iter_init_node is broken.  If the function (for example
    driver_find_device) is called with a NULL start object then everything is
    fine, the first call to next_device()/klist_next increases the ref-count of
    the first node on the list and does nothing for the start object which is
    NULL.
    
    If they are called with a valid start object then klist_next will decrement
    the ref-count for the start object but nobody has incremented it.  Logical
    place to fix this would be klist_iter_init_node because the function puts a
    reference of the object into the klist_iter struct.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    Cc: Patrick Mochel <mochel@digitalimplant.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bf74ad5bc41727d5f2f1c6bedb2c1fac394de731
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Nov 17 16:54:12 2005 -0500

    [PATCH] Hold the device's parent's lock during probe and remove
    
    This patch (as604) makes the driver core hold a device's parent's lock
    as well as the device's lock during calls to the probe and remove
    methods in a driver.  This facility is needed by USB device drivers,
    owing to the peculiar way USB devices work:
    
    	A device provides multiple interfaces, and drivers are bound
    	to interfaces rather than to devices;
    
    	Nevertheless a reset, reset-configuration, suspend, or resume
    	affects the entire device and requires the caller to hold the
    	lock for the device, not just a lock for one of the interfaces.
    
    Since a USB driver's probe method is always called with the interface
    lock held, the locking order rules (always lock parent before child)
    prevent these methods from acquiring the device lock.  The solution
    provided here is to call all probe and remove methods, for all devices
    (not just USB), with the parent lock already acquired.
    
    Although currently only the USB subsystem requires these changes, people
    have mentioned in prior discussion that the overhead of acquiring an
    extra semaphore in all the prove/remove sequences is not overly large.
    
    Up to now, the USB core has been using its own set of private
    semaphores.  A followup patch will remove them, relying entirely on the
    device semaphores provided by the driver core.
    
    The code paths affected by this patch are:
    
    	device_add and device_del: The USB core already holds the parent
    	lock, so no actual change is needed.
    
    	driver_register and driver_unregister: The driver core will now
    	lock both the parent and the device before probing or removing.
    
    	driver_bind and driver_unbind (in sysfs): These routines will
    	now lock both the parent and the device before binding or
    	unbinding.
    
    	bus_rescan_devices: The helper routine will lock the parent
    	before probing a device.
    
    I have not tested this patch for conflicts with other subsystems.  As
    far as I can see, the only possibility of conflict would lie in the
    bus_rescan_devices pathway, and it seems pretty remote.  Nevertheless,
    it would be good for this to get a lot of testing in -mm.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6d20b035dee4300e9786c6e1cb77a765c7f9460a
Author: Paul Jackson <pj@sgi.com>
Date:   Fri Nov 25 20:04:26 2005 -0800

    [PATCH] driver kill hotplug word from sn and others fix
    
    The first of these changes s/hotplug/uevent/ was needed to
    compile sn2_defconfig (ia64/sn).  The other three files
    changed are blind changes of all remaining bus_type.hotplug
    references I could find to bus_type.uevent.
    
    This patch attempts to finish similar changes made in the
    gregkh-driver-kill-hotplug-word-from-driver-core Nov 22 patch.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 712f47cea7703a340406fde61e84eb86ce781988
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Nov 16 11:27:07 2005 -0800

    [PATCH] HOTPLUG: always enable the .config option, unless EMBEDDED
    
    With modules, dynamic /dev, and uevents, people really want
    CONFIG_HOTPLUG to be enabled in their kernels.  If not, they can still
    disable it, but it is discouraged.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 312c004d36ce6c739512bac83b452f4c20ab1f62
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Wed Nov 16 09:00:00 2005 +0100

    [PATCH] driver core: replace "hotplug" by "uevent"
    
    Leave the overloaded "hotplug" word to susbsystems which are handling
    real devices. The driver core does not "plug" anything, it just exports
    the state to userspace and generates events.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5f123fbd80f4f788554636f02bf73e40f914e0d6
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Fri Nov 11 14:43:07 2005 +0100

    [PATCH] merge kobject_uevent and kobject_hotplug
    
    The distinction between hotplug and uevent does not make sense these
    days, netlink events are the default.
    
    udev depends entirely on netlink uevents. Only during early boot and
    in initramfs, /sbin/hotplug is needed. So merge the two functions and
    provide only one interface without all the options.
    
    The netlink layer got a nice generic interface with named slots
    recently, which is probably a better facility to plug events for
    subsystem specific events.
    Also the new poll() interface to /proc/mounts is a nicer way to
    notify about changes than sending events through the core.
    The uevents should only be used for driver core related requests to
    userspace now.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 033b96fd30db52a710d97b06f87d16fc59fee0f1
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Fri Nov 11 06:09:55 2005 +0100

    [PATCH] remove mount/umount uevents from superblock handling
    
    The names of these events have been confusing from the beginning
    on, as they have been more like claim/release events. We needed these
    events for noticing HAL if storage devices have been mounted.
    
    Thanks to Al, we have the proper solution now and can poll()
    /proc/mounts instead to get notfied about mount tree changes.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0f76e5acf9dc788e664056dda1e461f0bec93948
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Fri Nov 11 04:58:04 2005 +0100

    [PATCH] add uevent_helper control in /sys/kernel/
    
    This deprecates the /proc/sys/kernel/hotplug file, as all
    this stuff should be in /sys some day, right? :)
    In /sys/kernel/ we have now uevent_seqnum and uevent_helper.
    The seqnum is no longer used by udev, as the version for this
    kernel depends on netlink which events will never get
    out-of-order.
    
    Recent udev versions disable the /sbin/hotplug helper with
    an init script, cause it leads to OOM on big boxes by running
    hundreds of shells in parallel. It should be done now by:
      echo "" > /sys/kernel/uevent_helper
    
    (Note that "-n" does not work, cause neighter proc nor sysfs
    support truncate().)
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0296b2281352e4794e174b393c37f131502e09f0
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Fri Nov 11 05:33:52 2005 +0100

    [PATCH] remove CONFIG_KOBJECT_UEVENT option
    
    It makes zero sense to have hotplug, but not the netlink
    events enabled today. Remove this option and merge the
    kobject_uevent.h header into the kobject.h header file.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 034382117725f6b6b26fbb138498139c5c012c1b
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Fri Nov 11 04:25:06 2005 +0100

    [PATCH] keep pnpbios usermod_helper away from hotplug_path[]
    
    These days we use udev to manage all kernel events. /proc/sys/kernel/hotplug
    will usually be disabled by an init-script. pnpnbios is not integrated with
    the driver core and should stay away from the now disabled /sbin/hotplug.
    
    Set the helper to /sbin/phpbios, even when there is probably no current
    user of this faciliy. If it's needed, it should definitely get proper driver
    core integration instead of forking binaries from the kernel.
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1d7d2f6f476cf7aa65f9f740a6c932fb75608110
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Wed Jan 4 14:42:39 2006 -0800

    IB/mthca: fix WQE size calculation in create-srq
    
    Thinko: 64 bytes is the minimum SRQ WQE size (not the maximum).
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 74cb8798222bb7d1aecb0acb91e6eeedf5feb948
Author: Thomas Young <tyo@ee.mu.oz.au>
Date:   Wed Jan 4 13:59:32 2006 -0800

    [TCP] tcp_vegas: Fix slow start
    
    Vegas' slow start was only adding one MSS per RTT rather than one for
    every ack. Slow start behavior should now match Reno.
    
    Signed-off-by: Thomas Young <tyo@ee.mu.oz.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9369986306d4692f37b61302d4e1ce3054d8833e
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Wed Jan 4 13:58:36 2006 -0800

    [NET]: More instruction checks fornet/core/filter.c
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 181a46a56e9f852060c54247209e93740329b6eb
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Jan 4 13:56:54 2006 -0800

    [NETFILTER]: Use macro for spinlock_t/rwlock_t initializations/definition.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 196433c5b788eb732fdcf92449274e302f089ce4
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Jan 4 13:56:31 2006 -0800

    [IPV6]: Use macro for rwlock_t initialization.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ca4033024858fcbd392465ba9cbf4c838aedfb58
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Jan 4 13:56:08 2006 -0800

    [ECONET]: Use macro for spinlock_t definition.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a020ff412f0ecbb1e4aae1681b287e5785dd77b5
Author: David Howells <dhowells@redhat.com>
Date:   Wed Jan 4 18:01:03 2006 +0000

    [PATCH] Fix pragma packing in ip2 driver
    
    This fixes the pragma packing in the ip2 driver by popping the previous
    setting rather than explicitly assuming that the correct setting is 4.
    
    This also gets around a compiler bug in the FRV compiler when building
    allmodconfig.
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8dd7709c534ab0d713aa698c99132b6c812b57c
Author: Sam Bishop <sam@bishop.dhs.org>
Date:   Thu Dec 22 17:11:02 2005 -0700

    [PATCH] USB: fix usb-skeleton limit resource usage patch.
    
    Prevents a compiler warning and uses down_interruptible() instead of down() in
    process context.
    
    Signed-off-by: Sam Bishop <sam@bishop.dhs.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cb5b3f6950b4fbad9d8d41756f49aba792804b5b
Author: Olav Kongas <ok@artecdesign.ee>
Date:   Thu Dec 22 12:44:52 2005 +0200

    [PATCH] USB: fix buffer size limiting in skeleton driver
    
    Fix buffer size limiting.
    
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f5691d70d4aeec0ac9cff11f0cabb7d5a1735705
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Wed Dec 21 17:24:54 2005 -0800

    [PATCH] USB: fix usb_find_interface for ppc64
    
    Fix usb_find_interface. You cannot case pointers to int and long on
    a big-endian 64-bitter without consequences.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a9714c845c0681a203a9ae22aa5165ec72c51d33
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Fri Dec 23 16:41:41 2005 +0000

    [PATCH] USB: Export IEEE-1284 device id in sysfs for usblp devices
    
    I looked at the userspace code which uses the LPIOC_GET_DEVICE_ID ioctl
    and I almost went blind. Let's export it in sysfs instead, and just as a
    string instead of with a big-endian length at the beginning of it.
    
    This also prints the message about finding the printer _after_ we know
    the minor device number it's going to have, rather than reporting all
    printers as 'usblp0'.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 318e479eb7ad9a948c6da381976d258464413816
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Wed Dec 21 17:03:24 2005 -0800

    [PATCH] USB: ioctl compat for usblp.c
    
    From: David Woodhouse <dwmw2>
    
    David has a G5 with a printer. I am quite surprised that nobody else noticed
    this before. Linus has a G5. Hackers hate printing in general, maybe.
    
    We do not use BKL anymore, because one of code paths had a sleeping call,
    so we had to use a semaphore. I am sure it's safe to use unlocked_ioctl.
    
    The new ioctls return long and retval is int. It looks completely fine to me.
    We never want these extra bits, and the sign extension ought to work right.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
    --

commit a083dec0ed537a75fbe8f2f83d198e9e672240d8
Author: Nathan Lynch <ntl@pobox.com>
Date:   Sun Dec 18 23:41:38 2005 -0600

    [PATCH] USB: zd1201: make sysfs device symlink
    
    Noticed that my zd1201 adapter isn't "seen" by hal and NetworkManager.
    The problem seems to be that unlike other network device drivers I
    checked, zd1201 does not do a SET_NETDEV_DEV(), which makes it so a
    "device" symlink is created under /sys/class/net/wlan0.
    
    With the following patch the device symlink shows up, and now I am
    happily using NetworkManager to control the adapter:
    
    $ ls -l /sys/class/net/wlan0
    total 0
    -r--r--r--  1 root root 4096 Dec 18 13:42 address
    -r--r--r--  1 root root 4096 Dec 18 13:42 addr_len
    -r--r--r--  1 root root 4096 Dec 18 13:42 broadcast
    -r--r--r--  1 root root 4096 Dec 18 13:42 carrier
    lrwxrwxrwx  1 root root    0 Dec 18 13:42 device -> ../../../devices/pci0001:10/0001:10:1b.1/usb4/4-1
    -r--r--r--  1 root root 4096 Dec 18 13:42 features
    
    Signed-off-by: Nathan Lynch <ntl@pobox.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ff90651883093576de2d60bebaae39b0dd2e62f6
Author: Oliver Neukum <oliver@neukum.org>
Date:   Wed Dec 21 19:27:29 2005 +0100

    [PATCH] USB: Limiting of resource use in skeleton driver
    
    this introduces limits whose lack in the skeleton driver someone recently
    complained about.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit aafbf24a1129480157af7ee780eddcea9b76ee5c
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Tue Dec 20 14:15:04 2005 -0800

    [PATCH] USB: replace __setup("nousb") with __module_param_call
    
    Fedora users complain that passing "nousbstorage" to the installer causes
    the rest of the USB support to disappear. The installer uses kernel command
    line as a way to pass options through Syslinux. The problem stems from the
    use of strncmp() in obsolete_checksetup().
    
    I used __module_param_call() instead of module_param because I wanted to
    preserve the old syntax in grub.conf, and it's the only macro which allows
    to remove the prefix.
    
    The fix is tested to accept the option "nousb" correctly now.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5e0f76c6bbc0d26cd9625876f7beeb7b002f39bf
Author: David Hollis <dhollis@davehollis.com>
Date:   Mon Dec 19 13:58:38 2005 -0500

    [PATCH] USB: asix.c - Add Linksys USB200M Rev 2 ids
    
    Attached patch adds device IDs for the Linksys USB200M Rev 2 device
    which uses the AX88772 chipset.
    
    Signed-off-by: David Hollis <dhollis@davehollis.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3e220e9505f3c993b666b5e22b1c466b69ee4f54
Author: Phil Dibowitz <phil@ipom.com>
Date:   Sun Dec 18 21:30:02 2005 -0800

    [PATCH] USB Storage: Fix unusual_devs.h order
    
    Alan Stern pointed out there was an ordering issue in unusual_devs.h,
    and this patch fixes it.
    
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ab93091dd7f3d3dff9e8d1811d8344af1c52493b
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Sat Dec 17 02:38:46 2005 -0800

    [PATCH] USB: ub 02 Removed unused variable
    
    Removed an unused variable
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4fb729f5863c29e4466afb4508186303f46458e7
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sat Dec 17 02:34:12 2005 -0800

    [PATCH] USB: ub 01 rename
    
    Rename misleading UB_MINORS_PER_MAJOR into UB_PARTS_PER_LUN.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2c26c9e6b4993a1a1231849feff4b6518a4fc239
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sat Dec 17 02:16:43 2005 -0800

    [PATCH] USB: ub 00 implement retries and resets
    
    Implement command retries and resets in ub. It is advantageous for users
    to know if their devices are getting bad. However, failing every I/O
    is not practical if you have a external USB enclosure with a hard drive.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6b495f4c5accec6261f522ea6898580dc9cb6316
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Tue Dec 13 15:30:20 2005 +0200

    [PATCH] USB: isp116x-hcd.c: Removed unused variable
    
    Removed unused variable
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0e8eb0f06b21bc05c42bcdbb6b273fce59ba9689
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Dec 11 20:34:02 2005 +0100

    [PATCH] USB: Remove unneeded kmalloc() return value casts
    
    Remove kmalloc() return value casts that we don't need from
    drivers/usb/*
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 740a4282ed5cf0fbcad9a1a1660f24e1b5d11ed2
Author: Ian Abbott <abbotti@mev.co.uk>
Date:   Tue Dec 13 16:18:47 2005 +0000

    [PATCH] USB: ftdi_sio: new IDs for Teratronik devices
    
    This patch adds vendor and product IDs to the ftdi_sio driver's device
    ID table for two devices from teratronik.de.  The device IDs were
    submitted by O. Wlfelschneider of Teratronik Elektronische Systeme
    GmbH.
    
    The charset of the patch is latin-1, same as the original files.
    
    Please apply, thanks!  (I've tried to avoid a clash with Andrew Morton's
    patch to add support for Posiflex PP-7700 printer to the same driver.)
    
    Signed-off-by: Ian Abbott <abbotti@mev.co.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit effac8be4e46aabf22788d24caaa1ae9c295d26d
Author: Pavel Fedin <sonic_amiga@rambler.ru>
Date:   Fri Dec 9 09:30:59 2005 +0300

    [PATCH] USB: Support for Posiflex PP-7000 retail printer in Linux
    
    This little patch adds recognition of Posiflex PP-7000 retail printer to
    ftdo_sio module. The printer uses FT232BM bridge programmed with custom
    VID/PID.  The patch posted to lkml and sf.net was for 2.6.11.1 kernel,
    here is one reworked for 2.6.12.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 735b0cbb5bbb981d726a465c157f20976794aab0
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Sat Dec 10 20:30:54 2005 +0200

    [PATCH] USB: add driver for ATI/Philips USB RF remotes
    
    Summary: Driver for ATI/Philips USB RF remotes
    
    This is a new input driver for ATI/Philips USB RF remotes (eg. ATI
    Remote Wonder II).
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 52950ed40dc97456209979af1d8f51b63cf6dcab
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sun Dec 11 16:20:08 2005 +0100

    [PATCH] USB: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]) and remove
    duplicates of ARRAY_SIZE. Some trailing whitespaces are also removed.
    
    Patch is compile-tested on i386.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f3d34ed48c80903544b509031fee64838d29f35f
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Dec 13 10:32:13 2005 -0500

    [PATCH] USB: fix local variable clash
    
    This patch (as621) fixes a local variable conflict I accidently
    introduced into usb_set_configuration.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3717f2952bd0aab30fe2a6af80657abbeb065461
Author: Paul Walmsley <paul@booyaka.com>
Date:   Wed Nov 30 13:57:45 2005 -0800

    [PATCH] USB: usb-storage: add debug entry for REPORT LUNS
    
    Bugs involving the REPORT LUNS SCSI-3 command are much easier to track
    down if usb-storage displays the command's name, rather than "(Unknown
    command)".
    
    Signed-off-by: Paul Walmsley <paul@booyaka.com>
    Cc: <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8836aeb86158163532c1835e74751708c2d74385
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 22:03:47 2005 -0800

    [PATCH] USB Storage: update MAINTAINERS
    
    Someone recently pointed out to me that the MAINTAINERS entry for
    usb-storage was, perhaps, in need of changing.
    
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e80b0fade09ef1ee67b0898d480d4c588f124d5f
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 22:02:44 2005 -0800

    [PATCH] USB Storage: add alauda support
    
    This patch adds another usb-storage subdriver, which supports two fairly
    old dual-XD/SmartMedia reader-writers (USB1.1 devices).
    
    This driver was written by Daniel Drake <dsd@gentoo.org> -- he notes
    that he wrote this driver without specs, however a vendor-supplied GPL
    driver for the previous generation of products ("sma03") did prove to be
    quite useful, as did the sddr09 driver which also has to deal with
    low-level physical block layout on SmartMedia.
    
    The original patch has been reformed by me, as it clashed with the
    libusual patches.
    
    We really need to consolidate some of this common SmartMedia code, and
    get together with the MTD guys to share it with them as well.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a6c976c6c4628ce0c9277c47e7545956d9d4f441
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 21:59:45 2005 -0800

    [PATCH] USB Storage: more sddr09 cleanups
    
    This is the third of three patches to prepare the sddr09 subdriver for
    conversion to the Sim-SCSI framework.  This patch (as596) moves the
    computation of the LBA to the start of the read/write routines, so that
    addresses completely beyond the end of the device can be detected and
    reported differently from transfers that are partially within the
    device's capacity.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Acked-by: Andries Brouwer <Andries.Brouwer@cwi.nl>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0dc08a357538de3d93305fbf99348663abdbf2cd
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 21:58:52 2005 -0800

    [PATCH] USB Storage: sddr09 cleanups
    
    This is the second of three patches to prepare the sddr09 subdriver for
    conversion to the Sim-SCSI framework.  This patch (as595) updates the
    code to use standard error values for return codes instead of our
    special-purpose USB_STOR_TRANSPORT_... codes.  The reverse update is
    then needed in the transport routine, but with the Sim-SCSI framework
    that routine will go away.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Acked-by: Andries Brouwer <Andries.Brouwer@cwi.nl>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f5b8cb9c91f2f7d54dc3f066db8d4e0f041de79b
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 21:57:51 2005 -0800

    [PATCH] USB Storage: cleanups of sddr09
    
    This is the first of three patches to prepare the sddr09 subdriver for
    conversion to the Sim-SCSI framework.  This patch (as594) straightens
    out the initialization procedures and headers:
    
    	Some ugly code from usb.c was moved into sddr09.c.
    
    	Set-up of the private data structures was moved into the
    	initialization routine.
    
    	The connection between the "dpcm" version and the standalone
    	version was clarified.
    
    	A private declaration was moved from a header file into the
    	subdriver's .c file.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Acked-by: Andries Brouwer <Andries.Brouwer@cwi.nl>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7931e1c6f8007d5fef8a0bb2dc71bd97315eeae9
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Sun Dec 4 21:56:51 2005 -0800

    [PATCH] USB Storage: make OneTouch PM-aware
    
    The OneTouch subdriver submits its own interrupt URB for notifications
    about button presses.  Consequently it needs to know about suspend and
    resume events, so it can cancel or restart the URB.
    
    This patch (as593) adds a hook to struct us_data, to be used for
    notifying subdrivers about Power Management events, and it implements
    the hook in the OneTouch driver.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Nick Sillik <n.sillik@temple.edu>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b9b09422570e5e35a9f590a1ead63e711aefac8c
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sat Dec 3 21:52:10 2005 -0800

    [PATCH] USB: Let usbmon collect less garbage
    
    Alan Stern pointed out that (in 2.6 kernel) one successful submission results
    in one callback, even for ISO-out transfers. Thus, the silly check can be
    removed from usbmon. This reduces the amount of garbage printed in case
    of ISO and Interrupt transfers.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 687f5f3428157bea4940dd967fd7b4e59c1b13b4
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 30 17:16:19 2005 -0500

    [PATCH] USB: UHCI: edit some comments
    
    This patch (as615b) edits a large number of comments in the uhci-hcd code,
    mainly removing excess apostrophes.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fa3465689f93331834a831bbe98e3863701e1068
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 30 11:57:51 2005 -0500

    [PATCH] USB: UHCI: change uhci_explen macro
    
    This patch (as616) changed the uhci_explen macro in uhci-hcd.h so that
    it now accepts the desired length, rather than length - 1 with special
    handling for 0.  This also fixes a minor bug that would show up only
    when a driver submits a 0-length bulk URB.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f0b80fbf294bc4f6ec179b09fd5b63df25188259
Author: Marcelo Feitoza Parisi <marcelo@feitoza.com.br>
Date:   Thu Dec 1 00:50:39 2005 +0300

    [PATCH] USB: ati_remote: use time_before() and friends
    
    They deal with wrapping correctly and are nicer to read.
    
    Signed-off-by: Marcelo Feitoza Parisi <marcelo@feitoza.com.br>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 95f209f93663103db2a8fb989e226ac68a98b036
Author: Horst Schirmeier <horst@schirmeier.com>
Date:   Thu Jul 28 15:32:20 2005 +0200

    [PATCH] USB: pl2303_update_line_status data length fix
    
    Minimum data length must be UART_STATE + 1, as data[UART_STATE] is being
    accessed for the new line_state. Although PL-2303 hardware is not
    expected to send data with exactly UART_STATE length, this keeps it on
    the safe side.
    
    Signed-off-by: Horst Schirmeier <horst@schirmeier.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 17fa6e552f2fc6bb06af767b0abf9cb642e13404
Author: fabien COSSE <fabien.cosse@wanadoo.fr>
Date:   Wed Nov 30 01:16:00 2005 -0800

    [PATCH] USB Storage: add unusual_devs entry for NIKON Coolpix 2000
    
    This patch adds an unusual_devs.h entry for NIKON Coolpix 2000 camera
    wich cause error: "Not Ready: Medium not present"
    Works fine with th patched kernel...
    
    Here are the informations in /proc/bus/usb/devices:
    
    T:  Bus=02 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  2 Spd=12  MxCh= 0
    D:  Ver= 1.10 Cls=00(>ifc ) Sub=00 Prot=00 MxPS= 8 #Cfgs=  1
    P:  Vendor=04b0 ProdID=0301 Rev= 0.10
    S:  Manufacturer=NIKON
    S:  Product=NIKON DSC E2000
    C:* #Ifs= 1 Cfg#= 1 Atr=c0 MxPwr=  0mA
    I:  If#= 0 Alt= 0 #EPs= 3 Cls=08(stor.) Sub=06 Prot=50
    Driver=usb-storage
    E:  Ad=01(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=82(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=83(I) Atr=03(Int.) MxPS=   8 Ivl=16ms
    
    Signed-off-by: Fabien COSSE <fabien.cosse@wanadoo.fr>
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a5e36d20897ff8317e722fceb4d9eea3e4a5906b
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Mon Nov 28 22:15:46 2005 +0000

    [PATCH] USB: Correct ohci-pxa27x suspend/resume struct confusion
    
    The device data in ohci-pxa27x is a struct hcd, not a struct ohci_hcd.
    This correct the suspend/resume calls to account for this and adds some
    code to invalidate the platform data when the module is removed.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4c4c9432a6c916729c7296c47fe93b053a73e20c
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Tue Nov 29 09:43:42 2005 +0100

    [PATCH] USB: mark various usb tables const
    
    patch below marks various USB tables and variables as const so that they
    end up in .rodata section and don't cacheline share with things that get
    written to. For the non-array variables it also allows gcc to optimize
    more.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9fe6fcd8ccb2c8c661dfd1e07e3122aef31a67d4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 29 14:01:55 2005 +0100

    [PATCH] USB: drivers/usb/misc/sisusbvga/sisusb.c: remove dead code
    
    The Coverity checker found this dead code.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2425e9fe67cb5e66c173c4f604ddd8a5970d89e9
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Nov 29 12:13:31 2005 -0500

    [PATCH] USB: Don't assume root-hub resume succeeds
    
    This patch (as614) makes a small change to the part of the hub driver
    responsible for remote wakeup of root hubs.  When these wakeups occur
    the driver is suspended, and in case the resume fails the driver should
    remain suspended -- it shouldn't try to proceed with its normal
    processing.
    
    This will hardly ever matter in normal use, but it did crop up while I
    was debugging a different problem.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3cf0a22e8b1b3f44288db773d315e72e89d51c4c
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Nov 29 12:08:15 2005 -0500

    [PATCH] USB Gadget: dummy_hcd: updates to hcd->state
    
    This patch (as613) moves the updates to hcd->state in the dummy_hcd
    driver to where they now belong.  It also uses the new
    HC_FLAG_HW_ACCESSIBLE flag in a way that simulates a real PCI
    controller, and it adds checks for attempts to resume the bus while the
    controller is suspended or to suspend the controller while the bus is
    active.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a21d4fed4b00eaf7e7c3b2e2b25de24f540bfa66
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Nov 29 12:04:24 2005 -0500

    [PATCH] USB Gadget: file_storage: remove "volatile" declarations
    
    This patch (as612) removes the "volatile" declarations from the
    file-storage gadget.  It turns out that they aren't needed for anything
    much; adding a few memory barriers does a sufficient job.
    
    The patch also removes a wait_queue.  Not much point having a queue when
    only one task is ever going to be on it!
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bd39b7f195e5a780a3c6710eb1c1450f158a1f31
Author: Chris Humbert <mahadri-kernel@drigon.com>
Date:   Mon Nov 28 09:29:23 2005 -0800

    [PATCH] USB: don't allocate dma pools for PIO HCDs
    
    USB: don't allocate dma pools for PIO HCDs
    
    hcd_buffer_alloc() and hcd_buffer_free() have a similar dma_mask
    check and revert to kmalloc()/kfree(), but hcd_buffer_create()
    doesn't check dma_mask and allocates unused dma pools.
    
    Signed-off-by: Chris Humbert <mahadri-kernel@drigon.com>
    Acked-by: David Brownell <david-b@pacbell.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d3202949c9ac6e135d98bde15a8f05ad3fa5849
Author: Daniel Ritz <daniel.ritz-ml@swissonline.ch>
Date:   Sun Nov 27 22:23:38 2005 +0100

    [PATCH] USB: input/touchkitusb: handle multiple packets
    
    Some versions of the controller seem to put multiple report packet into a
    single urb. also it can happen that a packet is split across multiple urbs.
    unpatched you get a jumpy cursor on some screens.
    the patch does:
    - handle multiple packets per urb
    - handle packets split across multiple urb
    - check packet type
    - cleanups
    
    Signed-off-by: Daniel Ritz <daniel.ritz@gmx.ch>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8a4613f01f5bb850cab34e3db572d97251d997b3
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Mon Nov 28 19:16:07 2005 -0200

    [PATCH] USB: usbserial: race-condition fix.
    
    There is a race-condition in usb-serial driver that can be triggered if
    a processes does 'port->tty->driver_data = NULL' in serial_close() while
    other processes is in kernel-space about to call serial_ioctl() on the
    same port.
    
    This happens because a process can open the device while there is
    another one closing it.
    
    The patch below fixes that by adding a semaphore to ensure that no
    process will open the device while another process is closing it.
    
    Note that we can't use spinlocks here, since serial_open() and
    serial_close() can sleep.
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 487f9c6710e7dff338e59820f6cfaeaaa87cb532
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Mon Nov 28 19:16:05 2005 -0200

    [PATCH] USB: usbserial: Adds missing checks and bug fix.
    
    Checks if 'port' is NULL before using it in all tty operations, this
    can avoid NULL pointer dereferences.
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 717f736d937d0e98e964375dac770bfa20f73b72
Author: Olav Kongas <ok@artecdesign.ee>
Date:   Sat Nov 26 01:58:36 2005 +0200

    [PATCH] USB: isp116x-hcd: minor cleanup
    
    When going to suspend, there's no point in setting HC state in
    host controller driver as USB core takes care of this.
    
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3aea4a76a3ec4e6484f6316a97efff8b144b2b11
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Nov 27 09:47:28 2005 -0500

    [PATCH] USB: Cleanups for usb gadget mass-storage
    
    Remove useless initalizers.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>

commit 12c3da346eb81b6a281031f62eda3bca993dff5a
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 23 12:09:52 2005 -0500

    [PATCH] USB: Store port number in usb_device
    
    This patch (as610) adds a field to struct usb_device to store the device's
    port number.  This allows us to remove several loops in the hub driver
    (searching for a particular device among all the entries in the parent's
    array of children).
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 55c527187c9d78f840b284d596a0b298bc1493af
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 23 12:03:12 2005 -0500

    [PATCH] USB: Consider power budget when choosing configuration
    
    This patch (as609) changes the way we keep track of power budgeting for
    USB hubs and devices, and it updates the choose_configuration routine to
    take this information into account.  (This is something we should have
    been doing all along.)  A new field in struct usb_device holds the amount
    of bus current available from the upstream port, and the usb_hub structure
    keeps track of the current available for each downstream port.
    
    Two new rules for configuration selection are added:
    
    	Don't select a self-powered configuration when only bus power
    	is available.
    
    	Don't select a configuration requiring more bus power than is
    	available.
    
    However the first rule is #if-ed out, because I found that the internal
    hub in my HP USB keyboard claims that its only configuration is
    self-powered.  The rule would prevent the configuration from being chosen,
    leaving the hub & keyboard unconfigured.  Since similar descriptor errors
    may turn out to be fairly common, it seemed wise not to include a rule
    that would break automatic configuration unnecessarily for such devices.
    
    The second rule may also trigger unnecessarily, although this should be
    less common.  More likely it will annoy people by sometimes failing to
    accept configurations that should never have been chosen in the first
    place.
    
    The patch also changes usbcore's reaction when no configuration is
    suitable.  Instead of raising an error and rejecting the device, now
    the core will simply leave the device unconfigured.  People can always
    work around such problems by installing configurations manually through
    sysfs.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 949bf6431189c62eeebd3b52201406ba9978f525
Author: Fengwei Yin <xaityyy@gmail.com>
Date:   Fri Nov 18 10:35:36 2005 +0800

    [PATCH] USB: One potential problem in gadget/serial.c
    
    It looks like that the gs_serial module maybe sleep with spinlock in gs_close.
    Sometimes, system hang when I remove the gs_serial module.
    
    From: Fengwei Yin <xaityyy@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3d48586cfa2e197515605ccf74527983d35638e3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 20 23:56:11 2005 +0100

    [PATCH] USB: small cleanups
    
    This patch contains the following cleanups:
    - make needlessly global functions static
    - every file should #include the headers containing the prototypes for
      it's global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4bf0ba861442d289eebfad8ea9ce365ab04fd582
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Nov 21 11:58:07 2005 -0500

    [PATCH] USB: Fix locking for USB suspend/resume
    
    The earlier USB locking updates didn't touch the suspend/resume
    routines.  They need updating as well, since now the caller holds the
    device semaphore.  This patch (as608) makes the necessary changes.  It
    also adds a line to store the correct power state when a device is
    resumed, something which was unaccountably missing.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7d069b7d80933004282c48edbe62526e4cb0aecc
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Nov 18 12:06:34 2005 -0500

    [PATCH] USB: Disconnect children during hub unbind
    
    This patch (as606b) is an updated version of my earlier patch to
    disconnect children from a hub device when the hub driver is unbound.
    Thanks to the changes in the driver core locking, we now know that the
    entire hub device (and not just the interface) is locked whenever the
    hub driver's disconnect method runs.  Hence it is safe to disconnect the
    child device structures immediately instead of deferring the job.
    
    The earlier version of the patch neglected to disable the hub's ports.
    We don't want to forget that; otherwise we'd end up with live devices
    using addresses that have been recycled.  This update adds the necessary
    code.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9ad3d6ccf5eee285e233dbaf186369b8d477a666
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Nov 17 17:10:32 2005 -0500

    [PATCH] USB: Remove USB private semaphore
    
    This patch (as605) removes the private udev->serialize semaphore,
    relying instead on the locking provided by the embedded struct device's
    semaphore.  The changes are confined to the core, except that the
    usb_trylock_device routine now uses the return convention of
    down_trylock rather than down_read_trylock (they return opposite values
    for no good reason).
    
    A couple of other associated changes are included as well:
    
    	Now that we aren't concerned about HCDs that avoid using the
    	hcd glue layer, usb_disconnect no longer needs to acquire the
    	usb_bus_lock -- that can be done by usb_remove_hcd where it
    	belongs.
    
    	Devices aren't locked over the same scope of code in
    	usb_new_device and hub_port_connect_change as they used to be.
    	This shouldn't cause any trouble.
    
    Along with the preceding driver core patch, this needs a lot of testing.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 75318d2d7cab77b14c5d3dbd5e69f2680a769e16
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Nov 21 14:53:03 2005 -0800

    [PATCH] USB: remove .owner field from struct usb_driver
    
    It is no longer needed, so let's remove it, saving a bit of memory.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2143acc6dc79bdbff812f02a7dc5ab9d4fc81fc8
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Nov 21 14:53:03 2005 -0800

    [PATCH] USB: make registering a usb driver automatically set the module owner
    
    This fixes the driver that forgot to set the module owner up.  Now we
    can remove the unneeded pointer from the usb driver structure.  The idea
    for how to do this was from Al Viro, who did this for the PCI drivers.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ba9dc657af86d05d2971633e57d1f6f94ed60472
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Nov 16 13:41:28 2005 -0800

    [PATCH] USB: allow usb drivers to disable dynamic ids
    
    This lets drivers, like the usb-serial ones, disable the ability to add
    ids from sysfs.
    
    The usb-serial drivers are "odd" in that they are really usb-serial bus
    drivers, not usb bus drivers, so the dynamic id logic will have to go
    into the usb-serial bus core for those drivers to get that ability.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 733260ff9c45bd4db60f45d17e8560a4a68dff4d
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Nov 16 13:41:28 2005 -0800

    [PATCH] USB: add dynamic id functionality to USB core
    
    Echo the usb vendor and product id to the "new_id" file in the driver's
    sysfs directory, and then that driver will be able to bind to a device
    with those ids if it is present.
    
    Example:
    	echo 0557 2008 > /sys/bus/usb/drivers/foo_driver/new_id
    adds the hex values 0557 and 2008 to the device id table for the foo_driver.
    
    Note, usb-serial drivers do not currently work with this capability yet.
    usb-storage also might have some oddities.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ddae41be6145f5f9cb4e6df35661a09121b90672
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Wed Nov 16 13:41:28 2005 -0800

    [PATCH] USB: reorg some functions out of the main usb.c file
    
    This will make the dynamic-id stuff easier to do, as it will be
    self-contained.
    
    No logic was changed at all.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5ba35bd8f9a4fa6b92ef707826c47a1466ece460
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Fri Dec 16 00:39:36 2005 -0800

    [PATCH] USB: make bias writeable in libusual
    
    Make the bias parameter writeable. Writing the parameter does not trigger
    a rebind of currently attached storage devices.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a00828e9ac62caed7b830d631914d7748817ccd1
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sat Oct 22 20:15:09 2005 -0700

    [PATCH] USB: drivers/usb/storage/libusual
    
    This patch adds a shim driver libusual, which routes devices between
    usb-storage and ub according to the common table, based on unusual_devs.h.
    The help and example syntax is in Kconfig.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1c50c317e2e7f15427149cbc216a63366468710e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Nov 14 11:45:38 2005 -0500

    [PATCH] USB: central handling for host controllers that were reset during suspend/resume
    
    This patch (as515b) adds a routine to usbcore to simplify handling of
    host controllers that lost power or were reset during suspend/resume.
    The new core routine marks all the child devices of the root hub as
    NOTATTACHED and tells khubd to disconnect the device structures as soon
    as possible.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8364d6b0be2dbbf162c6aea79615b5025a0d67c2
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Nov 14 12:16:30 2005 -0500

    [PATCH] USB: dummy_hcd: rename variables
    
    The recent platform_device update has reintroduced into dummy_hcd.c the
    dreaded dev->dev syndrome.  This harkens back to when an earlier version
    of that driver included the unforgettable line:
    
    	dev->dev.dev.driver_data = dev;
    
    This patch (as602) renames the platform_device variables to "pdev", in
    the hope of reducing confusion.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a4f81a61ebba5953cba1e76f66423a7eca4a5ee4
Author: A.YOSHIYAMA <yosshy@debian.or.jp>
Date:   Tue Nov 15 09:55:18 2005 +0200

    [PATCH] USB: usb-net: new device ID passed through module parameter
    
    adds new module parameter "devid" that points to a string with format
    "device_name:vendor_id:device_id:flags".  if provided at module load
    time, this string is being parsed and a new entry is created in
    usb_dev_id[] and pegasus_ids[] so the new device can later be recognized
    by the probe routine.  this might be helpful for someone who don't
    know/wish to build new module/kernel, but want to use his new usb-to-eth
    device that is not yet listed in pegasus.h
    
    Signed-off-by: Petko Manolov <petkan@nucleusys.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4a1728a28a193aa388900714bbb1f375e08a6d8e
Author: Petko Manolov <petkan@nucleusys.com>
Date:   Tue Nov 15 09:48:23 2005 +0200

    [PATCH] USB: usb-net: removes redundant return
    
    removes all redundant collecting of the return value from
    get/set_registers() and suchlike.  can't remember who put all of those
    some time ago, but they doesn't make any sense to me.  where needed only
    a few references remained;
    
    Signed-off-by: Petko Manolov <petkan@nucleusys.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 87c4252a35310fdbb2aabb880a39b83f83cadf62
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 9 16:59:56 2005 -0500

    [PATCH] USB: file-storage gadget: Add reference count for children
    
    This patch (as601) adds a proper reference count to the file-storage
    gadget's main data structure, to keep track of references held by child
    devices (LUNs in this case).  Before this, the driver would wait for
    each child to be released before unbinding.
    
    While there's nothing really wrong with that (you can't create a hang by
    doing "rmmod g_file_storage </sys/.../lun0/ro" since the open file will
    prevent rmmod from running), the code might as well follow the standard
    procedures.  Besides, this shrinks the size of the structure by a few
    words...  :-)
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c9a50cc9318772e62d56f2a9172bdfda72bdacbe
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 7 20:45:20 2005 -0800

    [PATCH] USB: hcd uses EXTRA_CFLAGS for -DDEBUG
    
    This modifies the HCD builds to automatically "-DDEBUG" if
    CONFIG_USB_DEBUG is selected.  It's just a minor source code cleanup,
    guaranteeing consistency.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 704aa0b7a9744d5f2b5c1fa68b826fcca73a2104
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 7 15:38:24 2005 -0800

    [PATCH] USB: wakeup flag updates (3/3) isp116x-hcd
    
    This makes the ISP116x HCD use the driver model wakeup flags for its
    controller, not the flags in the HCD glue (which will be removed).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit baefbc39d8e23942cc10db92f5bc42e3476f6bc1
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 7 15:34:41 2005 -0800

    [PATCH] USB: wakeup flag updates (2/3) uhci-hcd
    
    This makes UHCI stop using the HCD glue wakeup flags to report whether
    the controller can wake the system.  The existing code was wrong anyway;
    having a PCI PM capability doesn't imply it reports PME# is supported.
    
    I skimmed Intel's ICH7 datasheet and that basically says the wakeup
    signaling gets routed only through ACPI registers.  (On the other hand,
    many VIA chips provide the PCI PM capabilities...)  I think that doing
    this correctly with UHCI is going to require the ACPI folk to associate
    the /proc/acpi/wakeup identifiers (and wakeup enable/disable flags)
    with the relevant /sys/devices/pci*/...  devices.
    
    From: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0c8624f91d91df7cdeb9b2dace3269b8788c845f
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 7 15:31:25 2005 -0800

    [PATCH] USB: wakeup flag updates (1/3) sl811-hcd
    
    This makes the SL811 HCD use the driver model wakeup flags for its
    controller, not the flags in the HCD glue (which will be removed).
    
    From: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/sl811-hcd.c |    6 ++++--
     1 file changed, 4 insertions(+), 2 deletions(-)

commit d97cc2f2e938547a47daef29bc10ab38600a3310
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Dec 22 17:05:18 2005 -0800

    [PATCH] USB: ehci fix driver model wakeup flags
    
    On some systems, EHCI seems to be getting IRQs too early during driver
    setup ... before the root hub is allocated, in particular, making trouble
    for any code chasing down root hub pointers!  In this case, it seems to
    be safe to just ignore the root hub setting.  Thanks to Rafael J. Wysocki
    for getting this properly tested.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2c1c3c4cd5f796b1912c65aaf3bf48c0ddf11f5e
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 7 15:24:46 2005 -0800

    [PATCH] USB: EHCI updates (4/4) driver model wakeup flags
    
    This teaches the EHCI driver to use the new driver model wakeup flags,
    replacing the similar ones in the HCD glue.  It also adds a workaround
    for the current glitch whereby PCI init doesn't init the wakeup flags
    from the PCI PM capabilities.  (EHCI controllers don't worry about
    legacy mode; the PCI PM capability would always do the job.)
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8d7802ed3c617120863f84346638d1cf1c96137b
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Tue Nov 8 00:02:30 2005 +0100

    [PATCH] USB: Eagle and ADI 930 usb adsl modem driver fix
    
    More care on loading firmware, take into account fw->size can't be zero.
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b72458a80c75cab832248f536412f386e20a93a0
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Mon Nov 7 23:27:13 2005 +0100

    [PATCH] USB: Eagle and ADI 930 usb adsl modem driver
    
    A driver for USB ADSL modems based on the ADI eagle chipset using the
    usb_atm infrastructure.
    
    The managing part was taken from bsd ueagle driver, other parts were
    written from scratch.
    
    The driver uses the in-kernel firmware loader :
    - to load  a first usb firmware when the modem is in pre-firmware state
    - to load the dsp firmware that are swapped in host memory.
    - to load CMV (configuration and management variables) when the modem
    boot. (We can't use options or sysfs for this as there many possible
    values. See
    https://mail.gna.org/public/eagleusb-dev/2005-04/msg00031.html for a
    description of some)
    - to load fpga code for 930 chipset.
    
    The device had 4 endpoints :
    * 2 for data (use by usbatm). The incoming
    endpoint could be iso or bulk. The modem seems buggy and produce lot's
    of atm errors when using it in bulk mode for speed > 3Mbps, so iso
    endpoint is need for speed > 3Mbps. At the moment iso endpoint need a
    patched usbatm library and for this reason is not included in this patch.
    
    * One bulk endpoint for uploading dsp firmware
    
    * One irq endpoint that notices the driver
        - if we need to upload a page of the dsp firmware
        - an ack for read or write CMV and the value (for the read case).
    
    If order to make the driver cleaner, we design synchronous
    (read|write)_cmv :
    -send a synchronous control message to the modem
    -wait for an ack or a timeout
    -return the value if needed.
    
    In order to run these synchronous usb messages we need a kernel thread.
    
    The driver has been tested  with sagem fast 800 modems with different
    eagle chipset revision and with ADI 930 since April 2005.
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6912354a895fcd234155273fe8838a0d83259a9b
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Nov 3 11:44:49 2005 -0500

    [PATCH] USB: EHCI: fix conflation of buf == 0 with len == 0
    
    When the ehci-hcd driver prepares a control URB, it tests for a
    zero-length data stage by looking at the transfer_dma value instead of
    the transfer_buffer_length.  (In fact it does this even for non-control
    URBs, which is an additional aspect of the same bug.)
    
    However, under certain circumstances it's possible for transfer_dma to
    be 0 while transfer_buffer_length is non-zero.  This can happen when a
    freshly allocated page (mapped to address 0 and marked Copy-On-Write,
    but never written to) is used as the source buffer for an OUT transfer.
    This patch (as598) fixes the problem.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 959eea2191e8d74b16ef019b0f4bf875c14f4547
Author: Olav Kongas <ok@artecdesign.ee>
Date:   Thu Nov 3 17:38:14 2005 +0200

    [PATCH] USB: isp116x-hcd: cleanup
    
    The attached patch makes a cleanup of isp116x-hcd. Most of the volume of
    the patch comes from 2 sources: moving the code around to get rid of a
    few function prototypes and reworking register dumping functions/macros.
    Among other things, switched over from using procfs to debugfs.
    
    Cleanup. The following changes were made:
    
    - Rework register dumping code so it can be used for dumping
      to both syslog and debugfs.
    - Switch from procfs to debugfs..
    - Die gracefully on Unrecoverable Error interrupt.
    - Fix memory leak in isp116x_urb_enqueue(), if HC happens to
      die in a narrow time window.
    - Fix a 'sparce' warning (unnecessary cast).
    - Report Devices Removable for root hub ports by default
      (was Devices Permanently Attached).
    - Move bus suspend/resume functions down in code to get rid of
      a few function prototypes.
    - A number of one-line cleanups.
    - Add an entry to MAINTAINERS.
    
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     MAINTAINERS                    |    6
     drivers/usb/host/isp116x-hcd.c |  429 ++++++++++++++++-------------------------
     drivers/usb/host/isp116x.h     |   83 +++++--
     3 files changed, 230 insertions(+), 288 deletions(-)

commit 535488fcf1e4b2331e1c4a1eb67ca09468c13507
Author: Olav Kongas <ok@artecdesign.ee>
Date:   Fri Oct 28 15:04:45 2005 +0300

    [PATCH] USB: isp116x-hcd: support reiniting HC on resume
    
    Until now the isp116x-hcd had no support to reinitialize the HC on
    resume, if the controller lost its state during suspend. This patch,
    generated against your Oct 26 git tree, adds that support. The patch is
    basically the same as the one tested by Ivan Kalatchev, who reported the
    problem, on 2.6.13.
    
    Please apply,
    
    Support reinitializing the isp116x host controller from scratch on
    resume, if the controller has lost its state.
    
    Signed-off-by: Olav Kongas <ok@artecdesign.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 61a87adf2e7b410da8e41799c61c21a7b8c8b001
Author: David Kubicek <dave@awk.cz>
Date:   Tue Nov 1 18:51:34 2005 +0100

    [PATCH] USB: Converting cdc acm to a ring queue
    
    this patch by David converts the sending queue of the CDC ACM driver
    to a queue of URBs. This is needed for quicker devices. Please apply.
    
    Signed-Off-By: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/class/cdc-acm.c |  229 ++++++++++++++++++++++++++++++--------------
     drivers/usb/class/cdc-acm.h |   33 +++++-
     2 files changed, 185 insertions(+), 77 deletions(-)

commit 2e1dcc1600c1d83b26479edd076866595bbd3523
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sat Nov 12 14:22:14 2005 +0000

    [PATCH] USB: Add pxa27x OHCI PM functions
    
    Add power management functions for the pxa27x USB OHCI host controller.
    This is a totally rewritten version of the patch by Nicolas Pitre and
    Todd Poynor which accounts for recent USB changes.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 81f280e22f14d6d976620acaa1b346a90f4e1adc
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sat Nov 12 14:22:11 2005 +0000

    [PATCH] USB: pxa27x OHCI - Separate platform code from main driver
    
    To allow multiple platforms to use the PXA27x OHCI driver, the platform
    code needs to be moved into the board specific files in
    arch/arm/mach-pxa. This patch does this for mainstone and adds
    preliminary hooks to allow other boards to use the driver.
    
    This has been compile tested for mainstone and successfully run on Spitz
    (Sharp Zaurus SL-C3000) with the addition of an appropriate board
    support file.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ea8874dc3881c2a496a4bd6bc981f707cc6a0db1
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 19:43:24 2006 +0000

    [SERIAL] Remove _INLINE_
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 45e24601921fc1c4ca7932f7f7a475d3ad64ecad
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 19:19:06 2006 +0000

    [SERIAL] Move interrupt-time spinlocking inside serial8250_handle_port()
    
    All call sites for serial8250_handle_port() acquired the port spinlock
    and released it afterwards.  This is a needless duplication of code.
    Move the spinlocking inside serial8250_handle_port().
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 50aec3b561de4e435204ad315e5c5ab58ef9feda
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 18:13:03 2006 +0000

    [SERIAL] Use uart_match_port() to find a matching port in find_port()
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1624f003349b49050f42c7d9f5407dfc05efb912
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Jan 4 18:09:44 2006 +0000

    [SERIAL] Fix matching of MMIO ports
    
    The function uart_match_port() incorrectly compares the ioremap'd
    virtual addresses of ports instead of the physical address to find
    duplicate ports for MMIO based UARTs. This fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4c70b926c91ba9c1ce3dc92d418f8e4670c8f16d
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Jan 4 17:17:17 2006 +0000

    [ARM] 3225/1: add symbolic names for enp2611 gpio interrupts
    
    Patch from Lennert Buytenhek
    
    Add symbolic names for the five ixp2400 GPIO lines on the enp2611
    that are used as interrupts.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7a94283a7e8cd8a4ea29bf2cfedba511c706b0b4
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Jan 4 17:17:16 2006 +0000

    [ARM] 3224/1: add masked thread interrupt status registers for ixp2000
    
    Patch from Lennert Buytenhek
    
    In its interrupt handler, the (NAPI) ixp2000 netdev driver needs to use
    the masked thread interrupt status register (instead of the raw one) to
    prevent scheduling polling when polling is already running when a TXdone
    interrupt comes in.  The definitions for the masked status registers were
    not in yet, so this patch adds them.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b721243a6700b2ecc11f7b920d3d5d6718c5d148
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Jan 4 17:17:15 2006 +0000

    [ARM] 3223/1: remove ixdp2x01 cs89x0 hack
    
    Patch from Lennert Buytenhek
    
    Remove the ixdp2x01 cs89x0 hack from ixp2000's io implementation.
    Since the cs89x0 driver has been made properly aware of the odd way
    the cs89x0 is hooked up on the ixdp2x01, we don't need this hack
    anymore.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b1ad3a57d39001af413414c34feb5cd41d0f7917
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Wed Jan 4 17:17:14 2006 +0000

    [ARM] 3221/1: Update IXP4xx defconfig
    
    Patch from Deepak Saxena
    
    Add NAS 100d to machine build list and update to new 2.6.15 options.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    
    ---
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 313cbb5519405966e3e65fca86c0305ab24f2a3b
Author: Rod Whitby <rod@whitby.id.au>
Date:   Wed Jan 4 17:17:13 2006 +0000

    [ARM] 3218/1: PAGE_SHIFT undeclared in arch-ixp4xx/memory.h (adjust_zones moved out of line)
    
    Patch from Rod Whitby
    
    PAGE_SHIFT is undeclared in include/asm-arm/arch-ixp4xx/memory.h, identified by the following kernel compilation error:
    
    CC [M] sound/core/memory.o
    In file included from include/asm/memory.h:27,
    from include/asm/io.h:28,
    from sound/core/memory.c:24:
    include/asm/arch/memory.h: In function `__arch_adjust_zones':
    include/asm/arch/memory.h:28: error: `PAGE_SHIFT' undeclared (first use
    in this function)
    
    This patch replaces my previous attempt at fixing this problem (Patch 3214/1) and is based on the following feedback:
    
    Russell King wrote:
    > The error you see came up on SA1100.  The best solution was to move
    > the __arch_adjust_zones() function out of line.  I suggest ixp4xx
    > does the same.
    
    I have moved the function out of line into arch/arm/mach-ixp4xx/common-pci.c as suggested.
    
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8d27e6992bc6a7ca7eaa1d29fb1a8d6cb6022c45
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Wed Jan 4 17:17:12 2006 +0000

    [ARM] 3220/1: Remove gpio_isr_line_clear() from NAS 100d
    
    Patch from Deepak Saxena
    
    This patch removes referneces to gpio_isr_line_clear() from the
    NAS 100d platform implementation.
    
    Depends on 3192/1 and 3215/1
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3145d8a6cc83ee15adf18f598873e53a54cd1841
Author: Rod Whitby <rod@whitby.id.au>
Date:   Wed Jan 4 17:17:11 2006 +0000

    [ARM] 3215/1: Iomega NAS 100d (MACH_NAS100D) machine support
    
    Patch from Rod Whitby
    
    This patch adds support for a new arm/ixp4xx machine - the Iomega NAS 100d network attached storage product.  The NAS100D is a consumer device containing a 266MHz Intel IXP420 processor, 16MB of flash, 64MB of RAM, a 160Gb internal IDE hard disk, and 802.11b/g wireless on an Atheros mini-PCI card.
    
    Work on porting the latest 2.6.x kernel to this device is being done by
    the NSLU2-Linux project (the same team who maintains the port to the
    Linksys NSLU2 device).  In particular, the majority of this patch was
    authored by Alessandro Zummo, based on the work done for MACH_NSLU2
    support by the NSLU2-Linux core team of developers.
    
    MACH_NAS100D (as implemented by this patch) can be enabled in jumbo
    ixp4xx kernels without any affect on the other machines supported by
    that kernel.
    
    This patch applies cleanly against 2.6.15-rc7 and should be trivial to
    apply to later kernel versions. It does not depend upon any other
    patches.
    
    Modified files (and number of lines inserted):
     arch/arm/mach-ixp4xx/Kconfig           |    8
     arch/arm/mach-ixp4xx/Makefile          |    1
     include/asm-arm/arch-ixp4xx/hardware.h |    1
     include/asm-arm/arch-ixp4xx/irqs.h     |    9
     include/asm-arm/arch-ixp4xx/nas100d.h  |   75
     arch/arm/mach-ixp4xx/nas100d-pci.c     |   77
     arch/arm/mach-ixp4xx/nas100d-power.c   |   69
     arch/arm/mach-ixp4xx/nas100d-setup.c   |  133
    
    -- Rod Whitby (NSLU2-Linux project lead)
    
    Signed-off-by: Rod Whitby <rod@whitby.id.au>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f7e8bbb8207c17afbd716e7e5fc785b78fa08571
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Wed Jan 4 17:17:10 2006 +0000

    [ARM] 3192/1: Remove gpio_isr_line_clear() API from IXP4xx
    
    Patch from Deepak Saxena
    
    Other than interrupt masking purposes, this API is only used when
    configuring interrupt lines and this patch moves that functionality
    directly into the ixp4xx_set_irq_type() implementation as board level
    PCI code should not need to worry about those details.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 26e92861be9c0da3be30718de693976b3f6a8026
Author: Gareth Howlett <ghowlett@connecttech.com>
Date:   Wed Jan 4 17:00:42 2006 +0000

    [SERIAL] Add support for more Connect Tech PCI serial boards
    
    I've also fixed the sort-ordering comments on this naming convention.
    
    Signed-off-by: Stuart MacDonald <stuartm@connecttech.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2af7cd68f1ed20e2e72c91988c3d4f457fa29ebc
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 16:55:09 2006 +0000

    [Serial] Don't miss modem status changes
    
    Reading the MSR register on 8250-compatible UARTs results in any
    modem status interrupts being cleared.  To avoid missing any
    status changes, arrange for get_mctrl() to read the current
    status via check_modem_status(), which will process any pending
    state changes for us.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 34b8c399dc04c8e51f014b73458e654570698597
Merge: eaceec7... 8802684...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Wed Jan 4 11:43:17 2006 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit e9c091b47409255cefa1672041479d850b7b991a
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 16:24:05 2006 +0000

    [MMC] mmci: add data cache coherency
    
    Since MMCI currently uses PIO to read data, we have to take steps
    to ensure data cache coherency on aliasing CPU caches.  Add the
    necessary flush_dcache_page() calls.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b3a962455b106a1677f91c754e5315753c3d44c3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:55:41 2006 +0000

    [ARM] Remove SA1100 PM prepare/finish ops
    
    These are empty, unnecessary functions, so remove them.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d7b4a75677f8f2a559b0c55a550b364e79a8d302
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:52:45 2006 +0000

    [ARM] Move DMA exports to be next to each function
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 95ba9fb06be4a8714c98df6097eab1808c72fa98
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:51:51 2006 +0000

    [ARM] Remove definition of MAX_DMA_CHANNELS to zero
    
    Since we now only build arch/arm/kernel/dma.c on machine types
    which set ISA_DMA_API, we don't need to define MAX_DMA_CHANNELS
    to 0 to indicate this - this definition becomes superfluous.
    Remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 065909b91581cf2438d901a7811a82af3476bdab
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:44:16 2006 +0000

    [ARM] Refine selection of ISA_DMA_API and generic dma.c code
    
    ISA_DMA_API tells the rest of the kernel if the ISA DMA API is
    available.  Select this symbol only on machine types which make
    use of the ISA DMA API.
    
    Make building of arch/arm/kernel/dma.c depend on this symbol -
    if a machine does not support the ISA DMA API, it's pointless
    building this file.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d4c6fc9976dd70a27abc988ddbd6a746c1dba0a7
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:30:48 2006 +0000

    [ARM] Move common definition of MAX_DMA_ADDRESS to asm/dma.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6842b9299272a9471a7e94e046b953f6ffe3db9d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:17:08 2006 +0000

    [ARM] Use core_initcall() to initialise ARM DMA
    
    There's no need to have DMA initialised at the same time as
    interrupts.  Move it to a core_initcall().
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7cdad482974792419cfe4b0affca689170116f49
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 15:08:30 2006 +0000

    [ARM] Remove '__address' from scatterlist and convert to DMA API
    
    The old __address element in struct scatterlist remained from older
    kernels because the ARM DMA emulation code made use of it.  Move
    this field into struct dma_struct, and convert DMA emulation code
    to setup a SG entry as required.
    
    Also, convert DMA emulation code to use the new DMA API rather
    than the PCI DMA API.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 333c9624b728a9e83b741ea75836aa114ec35272
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 14:41:29 2006 +0000

    [ARM] Move ISA DMA bus_to_virt() out of set_dma_addr()
    
    Allow the compiler to optimise the bus_to_virt(virt_to_bus())
    transformation in the ARM ISA DMA interface.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 109a9378807cb9093a88fbf9707420de97601e14
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 14:06:31 2006 +0000

    [ARM] Remove unused dma.c files
    
    CLPS711x, EPXA10DB and Integrator contained a dma.c file which has never
    been built.  Remove these redundant files.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ce11a161c11868f268964274edc7a26a3e063e08
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Jan 4 12:40:39 2006 +0000

    [MMC] Fix missing ','
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c6f43290ae687c11cdcd150d8bfeb57ec29cfa5b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Wed Jan 4 10:26:16 2006 +0100

    [ALSA] ad1889 - remove CVS ID from the driver identification
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 676338a1623ee9b60a6efb19ef8f743ab3b2eecb
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 3 19:56:55 2006 +0100

    [ALSA] opl3 - Fix the unreleased resources
    
    Modules: OPL3
    
    Fix the unreleased resources in the error path of snd_opl3_create().
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3e23c658833f135508127c955d40d7c9387f71dd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 3 19:54:44 2006 +0100

    [ALSA] Revert the nested-device patch
    
    Modules: ALSA Core
    
    Revert the nested-device patch to keep the compatibility with the
    current HAL configuration.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2ad5dd8dc31137a050f205525a5cd1a4be76c3f1
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Jan 3 14:27:21 2006 +0100

    [ALSA] dummy driver - added CA0106 emulation defines
    
    Modules: Generic drivers
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 7790db18be736c87b0cdfa8da8aca11627fc5e54
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Wed Jan 4 10:13:22 2006 +0100

    [ALSA] version 1.0.11rc2

commit aea19aa0780d4b006372fedab8434226e1cc7686
Author: Karol Kozimor <sziwan@hell.org.pl>
Date:   Tue Jan 3 23:05:00 2006 -0500

    [ACPI_ASUS] fix asus module param description
    
    Signed-off-by: Karol Kozimor <sziwan@hell.org.pl>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit bb84db937a875045de9e6d08d177ad3223ae0ae3
Author: Karol Kozimor <sziwan@hell.org.pl>
Date:   Tue Jan 3 23:03:00 2006 -0500

    [ACPI_ASUS] M6R display reading
    
    This patch corrects the node to read display settings on M6R laptops.
    
    Signed-off-by: Karol Kozimor <sziwan@hell.org.pl>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit f190055ff5c08a877d3e1ac2e0300fd92c264b06
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Wed Jan 4 02:02:20 2006 -0200

    [IPVS]: Add missing include <linux/net.h>
    
      CC [M]  net/ipv4/ipvs/ip_vs_conn.o
      /pub/scm/linux/kernel/git/acme/net-2.6/net/ipv4/ipvs/ip_vs_conn.c: In
      function 'ip_vs_conn_new':
      /pub/scm/linux/kernel/git/acme/net-2.6/net/ipv4/ipvs/ip_vs_conn.c:606:
      warning: implicit declaration of function 'net_ratelimit'
      /pub/scm/linux/kernel/git/acme/net-2.6/net/ipv4/ipvs/ip_vs_conn.c: In
      function 'ip_vs_random_dropentry':
      /pub/scm/linux/kernel/git/acme/net-2.6/net/ipv4/ipvs/ip_vs_conn.c:810:
      warning: implicit declaration of function 'net_random'
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 80e40daa4797a156781d1594642b654eb1c461df
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Wed Jan 4 01:58:06 2006 -0200

    [TCP]: syn_flood_warning is only needed if CONFIG_SYN_COOKIES is selected
    
      CC      net/ipv4/tcp_ipv4.o
      /pub/scm/linux/kernel/git/acme/net-2.6/net/ipv4/tcp_ipv4.c:665: warning:
      'syn_flood_warning' defined but not used
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit e4dfd449c80a41bb615b23d0fc198ba08360a1f8
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Wed Jan 4 01:46:34 2006 -0200

    [DCCP] ackvec: use u8 for the buf offsets
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6742bbcbb8a0959e1dff0ce055768e3217d9967a
Author: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
Date:   Wed Jan 4 01:45:17 2006 -0200

    [DCCP] ackvec: Fix spelling of "throw"
    
    Signed-off-by: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 40efc6fa179f440a008333ea98f701bc35a1f97f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 3 16:03:49 2006 -0800

    [TCP]: less inline's
    
    TCP inline usage cleanup:
     * get rid of inline in several places
     * replace __inline__ with inline where possible
     * move functions used in one file out of tcp.h
     * let compiler decide on used once cases
    
    On x86_64:
       text	   data	    bss	    dec	    hex	filename
    3594701	 648348	 567400	4810449	 4966d1	vmlinux.orig
    3593133	 648580	 567400	4809113	 496199	vmlinux
    
    On sparc64:
       text	   data	    bss	    dec	    hex	filename
    2538278	 406152	 530392	3474822	 350586	vmlinux.ORIG
    2536382	 406384	 530392	3473158	 34ff06	vmlinux
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3c19065a1e2c862becc576bc65e54f2bc1cbffe6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 3 15:27:38 2006 -0800

    [IEEE80211] ipw2200: Simplify multicast checks.
    
    From: Stephen Hemminger <shemminger@osdl.org>
    
    is_multicast_ether_addr() accepts broadcast too, so the
    is_broadcast_ether_addr() calls are redundant.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 88df8ef59a3eb54b1e2412765ff2736d2376d1ca
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 3 15:25:45 2006 -0800

    [NET]: Don't exclude broadcast addresses from is_multicast_ether_addr()
    
    The check for multicast shouldn't exclude broadcast type addresses.
    This reverts the incorrect change done in 2.6.13.
    
    The broadcast address is a multicast address and should be excluded
    from being a valid_ether_address for use in bridging or device address.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 21500bb32acd4c34b50e5d985712e29792c1b9ad
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Jan 3 22:57:35 2006 +0000

    [MMC] wbsd: convert to the new platfrom device interface
    
    platform_device_register_simple() is going away, switch to
    using platfrom_device_alloc() + platform_device_add(). Also
    make sure that wbsd_driver gets unregistered when wbsd_init
    fails.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Acked-by: Pierre Ossman <drzeus@drzeus.cx>

commit 63648fb5c0173614064e329503cc75c907dcb1a1
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Jan 3 22:56:56 2006 +0000

    [MMC] wbsd: make use of ARRAY_SIZE() macro
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Acked-by: Pierre Ossman <drzeus@drzeus.cx>

commit a6f6c96b65d7f65a7a7bf5cbe874eda182a6b2cc
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Jan 3 22:38:44 2006 +0000

    [MMC] Improve MMC card block size selection
    
    Select a block size for IO based on the read and write block size
    combinations, and whether the card supports partial block reads
    and/or partial block writes.
    
    If we are able to satisfy block reads but not block writes, mark
    the device read only.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cd8787ab04d23f925f440b712b43a6fd5cb31ece
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 3 14:38:34 2006 -0800

    [IPV4] fib_trie: build fix
    
    Need this to fix build of fib_trie in net-2.6.16 (rebased) tree.
    The code needs the new inet_make_mask inline.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 554c9a8ec37729bff69951cb740074abbae21afa
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Jan 3 14:35:54 2006 -0800

    [BRIDGE]: Fix faulty check in br_stp_recalculate_bridge_id()
    
    One of the conversions from memcmp to compare_ether_addr is incorrect.
    We need to do relative comparison to determine min MAC address to
    use in bridge id.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e84a9f5e9cd2b229dda24002334bc3cd36c1109d
Author: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
Date:   Tue Jan 3 14:26:15 2006 -0800

    [DCCP]: Notify CCID only after ACK vectors have been processed.
    
    The CCID should be notified of packet reception only when a packet is
    valid.  Therefore, the ACK vector needs to be processed before
    notifying the CCID.  Also, the CCID might need information provided by
    the ACK vector.
    
    Signed-off-by: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9e377202d2c968dde8efd6121d94c7f0a77787aa
Author: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
Date:   Tue Jan 3 14:25:49 2006 -0800

    [DCCP]: Send an ACK vector when ACKing a response packet
    
    If ACK vectors are used, each packet with an ACK should contain an ACK
    vector.  The only exception currently is response packets.  It
    probably is not a good idea to store ACK vector state before the
    connection is completed (to help protect from syn floods).
    
    Signed-off-by: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 709dd3aaf5304993083c2297c73f5531c36fba5a
Author: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
Date:   Tue Jan 3 14:25:17 2006 -0800

    [DCCP]: Do not process a packet twice when it's not in state DCCP_OPEN.
    
    When packets are received, the connection is either in DCCP_OPEN
    [fast-path] or it isn't.  If it's not [e.g. DCCP_PARTOPEN] upper
    layers will perform sanity checks and parse options.  If it is in
    DCCP_OPEN, dccp_rcv_established() will do it.  It is important not to
    re-parse options in dccp_rcv_established() when it is not called from
    the fast-path.  Else, fore example, the ack vector will be added twice
    and the CCID will see the packet twice.
    
    The solution is to always enfore sanity checks from the upper layers.
    When packets arrive in the fast-path, sanity checks will be performed
    before calling dccp_rcv_established().
    
    Note(acme): I rewrote the patch to achieve the same result but keeping
    dccp_rcv_established with the previous semantics and having it split
    into __dccp_rcv_established, that doesn't does do any sanity check,
    code in state != DCCP_OPEN use this lighter version as they already do
    the sanity checks.
    
    Signed-off-by: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5062430c5cc526655e3d10c670fc9c263656f66c
Author: Patrick Caulfield <patrick@tykepenguin.com>
Date:   Tue Jan 3 14:24:02 2006 -0800

    [DECNET]: Only use local routers
    
    The attached patch makes DECnet routing only use routers from the same
    area - rather than the highest rated router seen.
    
    In theory there should not be an out-of-area router on a local network
    but some networks are bridged rather than properly routed. VMS seems
    to behave similarly: if I bring up a VMS node with no router then it
    can't see anything else on the global network.
    
    Signed-off-by: Patrick Caulfield <patrick@tykepenguin.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4b5bdf5cc3695dc5caba011b9c616b40e6299638
Author: Roberto Nibali <ratz@drugphish.ch>
Date:   Tue Jan 3 14:22:59 2006 -0800

    [IPVS]: Cleanup IP_VS_DBG statements.
    
    From: Roberto Nibali <ratz@drugphish.ch>
    
    The attached patch (against current -GIT) is a cleanup patch which does
    following:
    
    o lookup debug messages shifted back to 9
    o added more informational value to flags and refcnt since those
    entries can be in multiple referenced structures
    o cleanup 80 char violation
    
    It's the prepatch to the session pool implementation and helps very much
    to debug and monitor important variables and structures regarding the
    threshold limitation and persistency without the thousands of lookup
    messages which noone is interested in.
    
    Signed-off-by: Horms <horms@verge.net.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fd30333d0fab9e870af89e112454996c188655e9
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Jan 3 14:19:25 2006 -0800

    [TG3]: fixup tot_len calculation
    
    Turning struct iphdr::tot_len into __be16 added sparse warning.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b5e5fa5e093e42cab4ee3d6dcbc4f450ad29a723
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Jan 3 14:18:33 2006 -0800

    [NET]: Add a dev_ioctl() fallback to sock_ioctl()
    
    Currently all network protocols need to call dev_ioctl as the default
    fallback in their ioctl implementations.  This patch adds a fallback
    to dev_ioctl to sock_ioctl if the protocol returned -ENOIOCTLCMD.
    This way all the procotol ioctl handlers can be simplified and we don't
    need to export dev_ioctl.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5ff7630e4aa6c3969094dc30ff1cdaa6f52b0ed0
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Jan 3 14:14:46 2006 -0800

    [NETROM]: Remove unessecary lock_sock calls in netrom_ioctl()
    
    lock_sock is needed only in very few cases, so do it there instead of
    around the switch statement.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b461d2f2188c1c578ed651e4cdf608be7a993cd4
Author: Per Liden <per.liden@ericsson.com>
Date:   Tue Jan 3 14:13:29 2006 -0800

    [NETLINK] genetlink: fix cmd type in genl_ops to be consistent to u8
    
    Signed-off-by: Per Liden <per.liden@ericsson.com>
    ACKed-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fd19f329a32bdc4eb07885e0b3889567cfe00aa7
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Tue Jan 3 14:10:46 2006 -0800

    [AF_UNIX]: Convert to use a spinlock instead of rwlock
    
    From: Benjamin LaHaise <bcrl@kvack.org>
    
    In af_unix, a rwlock is used to protect internal state.  At least on my
    P4 with HT it is faster to use a spinlock due to the simpler memory
    barrier used to unlock.  This patch raises bw_unix to ~690K/s.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4947d3ef8de7b4f42aed6ea9ba689dc8fb45b5a5
Author: Benjamin LaHaise <bcrl@kvack.org>
Date:   Tue Jan 3 14:06:50 2006 -0800

    [NET]: Speed up __alloc_skb()
    
    From: Benjamin LaHaise <bcrl@kvack.org>
    
    In __alloc_skb(), the use of skb_shinfo() which casts a u8 * to the
    shared info structure results in gcc being forced to do a reload of the
    pointer since it has no information on possible aliasing.  Fix this by
    using a pointer to refer to skb_shared_info.
    
    By initializing skb_shared_info sequentially, the write combining buffers
    can reduce the number of memory transactions to a single write.  Reorder
    the initialization in __alloc_skb() to match the structure definition.
    There is also an alignment issue on 64 bit systems with skb_shared_info
    by converting nr_frags to a short everything packs up nicely.
    
    Also, pass the slab cache pointer according to the fclone flag instead
    of using two almost identical function calls.
    
    This raises bw_unix performance up to a peak of 707KB/s when combined
    with the spinlock patch.  It should help other networking protocols, too.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dacd9b80355525be0e3c519687868410e304ad1c
Author: Yu Luming <luming.yu@intel.com>
Date:   Sat Dec 31 01:45:00 2005 -0500

    [ACPI] fix acpi_os_wait_sempahore() finite timeout case (AE_TIME warning)
    
    Before this fix, the finite timeout case
    behaved like the no-timeout (trylock) case.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=4588
    
    Signed-off-by: Luming Yu <luming.yu@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 17ba15fb6264f27374bc87f4c3f8519b80289d85
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Dec 27 20:57:40 2005 -0800

    [PPPOX]: Fix assignment into const proto_ops.
    
    And actually, with this, the whole pppox layer can basically
    be removed and subsumed into pppoe.c, no other pppox sub-protocol
    implementation exists and we've had this thing for at least 4
    years.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8639a11e23d9eb0a6ceac2feed27acdfbb158f95
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 27 15:17:57 2005 -0200

    [TCP]: Don't use __constant_htonl for a non const arg
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 14c850212ed8f8cbb5972ad6b8812e08a0bc901c
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 27 02:43:12 2005 -0200

    [INET_SOCK]: Move struct inet_sock & helper functions to net/inet_sock.h
    
    To help in reducing the number of include dependencies, several files were
    touched as they were getting needed headers indirectly for stuff they use.
    
    Thanks also to Alan Menegotto for pointing out that net/dccp/proto.c had
    linux/dccp.h include twice.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 25995ff577675b58dbd848b7758e7bad87411947
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 27 02:42:22 2005 -0200

    [SOCK]: Introduce sk_receive_skb
    
    Its common enough to to justify that, TCP still can't use it as it has the
    prequeueing stuff, still to be made generic in the not so distant future :-)
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ce1d4d3e88b3a69d23c3feb436a0b36b6ca0642b
Author: Christoph Hellwig <hch@lst.de>
Date:   Thu Dec 22 21:08:46 2005 -0800

    [NET]: restructure sock_aio_{read,write} / sock_{readv,writev}
    
    Mid-term I plan to restructure the file_operations so that we don't need
    to have all these duplicate aio and vectored versions.  This patch is
    a small step in that direction but also a worthwile cleanup on it's own:
    
    (1) introduce a alloc_sock_iocb helper that encapsulates allocating a
        proper sock_iocb
    (2) add do_sock_read and do_sock_write helpers for common read/write
        code
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cbeb321a64af5437fbde249605b191ff0fdfa21c
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Dec 22 12:58:55 2005 -0800

    [NET]: Fix sock_init() return value.
    
    It needs to return zero now that it is an initcall.
    
    Also, net/nonet.c no longer needs a dummy sock_init().
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f34fbb971368c20f757f8758833a534590b16518
Author: Jaco Kroon <jaco@kroon.co.za>
Date:   Thu Dec 22 12:51:46 2005 -0800

    [PKTGEN]: Deinitialise static variables.
    
    static variables should not be explicitly initialised to 0.  This causes
    them to be placed in .data instead of .bss.  This patch de-initialises 3
    static variables in net/core/pktgen.c.
    
    There are approximately 800 more such variables in the source tree
    (2.6.15rc5).  If there is more interrest I'd be willing to track down the
    rest of these as well and de-initialise them as well.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 90ddc4f0470427df306f308ad03db6b6b21644b8
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Thu Dec 22 12:49:22 2005 -0800

    [NET]: move struct proto_ops to const
    
    I noticed that some of 'struct proto_ops' used in the kernel may share
    a cache line used by locks or other heavily modified data. (default
    linker alignement is 32 bytes, and L1_CACHE_LINE is 64 or 128 at
    least)
    
    This patch makes sure a 'struct proto_ops' can be declared as const,
    so that all cpus can share all parts of it without false sharing.
    
    This is not mandatory : a driver can still use a read/write structure
    if it needs to (and eventually a __read_mostly)
    
    I made a global stubstitute to change all existing occurences to make
    them const.
    
    This should reduce the possibility of false sharing on SMP, and
    speedup some socket system calls.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 77d76ea310b50a9c8ff15bd290fcb4ed4961adf2
Author: Andi Kleen <ak@suse.de>
Date:   Thu Dec 22 12:43:42 2005 -0800

    [NET]: Small cleanup to socket initialization
    
    sock_init can be done as a core_initcall instead of calling
    it directly in init/main.c
    
    Also I removed an out of date #ifdef.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7708610b1bff4a0ba8a73733d3c7c4bda9f94b21
Author: Frank Filz <ffilz@us.ibm.com>
Date:   Thu Dec 22 11:37:30 2005 -0800

    [SCTP]: Add support for SCTP_DELAYED_ACK_TIME socket option.
    
    Signed-off-by: Frank Filz <ffilz@us.ibm.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 52ccb8e90c0ace233b8b740f2fc5de0dbd706b27
Author: Frank Filz <ffilz@us.ibm.com>
Date:   Thu Dec 22 11:36:46 2005 -0800

    [SCTP]: Update SCTP_PEER_ADDR_PARAMS socket option to the latest api draft.
    
    This patch adds support to set/get heartbeat interval, maximum number of
    retransmissions, pathmtu, sackdelay time for a particular transport/
    association/socket as per the latest SCTP sockets api draft11.
    
    Signed-off-by: Frank Filz <ffilz@us.ibm.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fd9662555cc35f8bf9242cd7bba8b44ae168a68b
Author: Robert Olsson <robert.olsson@its.uu.se>
Date:   Thu Dec 22 11:25:10 2005 -0800

    [IPV4] fib_trie: Add credits.
    
    Signed-off-by: Robert Olsson <robert.olsson@its.uu.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9eb2d627190a8afe4b9276b24615a9559504fa60
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:32:36 2005 -0800

    [TCP] cubic: use Newton-Raphson
    
    Replace cube root algorithim with a faster version using Newton-Raphson.
    Surprisingly, doing the scaled div64_64 is faster than a true 64 bit
    division on 64 bit CPU's.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 89b3d9aaf46791177c5a5fa07a3ed38a035b5ef5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:32:08 2005 -0800

    [TCP] cubic: precompute constants
    
    Revised version of patch to pre-compute values for TCP cubic.
      * d32,d64 replaced with descriptive names
      * cube_factor replaces
    	 srtt[scaled by count] / HZ * ((1 << (10+2*BICTCP_HZ)) / bic_scale)
      * beta_scale replaces
    	8*(BICTCP_BETA_SCALE+beta)/3/(BICTCP_BETA_SCALE-beta);
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 90933fc8ba5cc9034e3c04ee19938a22b0b4fe4e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:31:36 2005 -0800

    [FLS64]: x86_64 version
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3821af2fe13700cab6fd67367128fa180e43f8b8
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:30:53 2005 -0800

    [FLS64]: generic version
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c865e5d99e25a171e8262fc0f7ba608568633c64
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:03:44 2005 -0800

    [PKT_SCHED] netem: packet corruption option
    
    Here is a new feature for netem in 2.6.16. It adds the ability to
    randomly corrupt packets with netem. A version was done by
    Hagen Paul Pfeifer, but I redid it to handle the cases of backwards
    compatibility with netlink interface and presence of hardware checksum
    offload. It is useful for testing hardware offload in devices.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8cbb512e50fb702b5b1d444f76ebcdb53577b2ec
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:01:30 2005 -0800

    [BRIDGE]: add version number
    
    Add version info to bridge module.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit edb5e46fc03d0a45f2b41e3717631f7af7e9fc19
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:00:58 2005 -0800

    [BRIDGE]: limited ethtool support
    
    Add limited ethtool support to bridge to allow disabling
    features.
    
    Note: if underlying device does not support a feature (like checksum
    offload), then the bridge device won't inherit it.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0e5eabac4995e128f06b90df64b93604625de6de
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 19:00:18 2005 -0800

    [BRIDGE]: filter packets in learning state
    
    While in the learning state, run filters but drop the result.
    This prevents us from acquiring bad fdb entries in learning state.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4433f420e57afae0ab308b1e2b979f09c86bc115
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 20 15:19:51 2005 -0800

    [BRIDGE]: handle speed detection after carrier changes
    
    Speed of a interface may not be available until carrier
    is detected in the case of autonegotiation. To get the correct value
    we need to recheck speed after carrier event.  But the check needs to
    be done in a context that is similar to normal ethtool interface (can sleep).
    
    Also, delay check for 1ms to try avoid any carrier bounce transitions.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4505a3ef720845b5db3ddb440de13cd4800fd508
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 21 18:51:49 2005 -0800

    [BRIDGE]: allow setting hardware address of bridge pseudo-dev
    
    Some people are using bridging to hide multiple machines from an ISP
    that restricts by MAC address. So in that case allow the bridge mac
    address to be set to any of the existing interfaces.  I don't want to
    allow any arbitrary value and confuse STP.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fbe9cc4a87030d5cad5f944ffaef6af7efd119e4
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Dec 13 23:26:29 2005 -0800

    [AF_UNIX]: Use spinlock for unix_table_lock
    
    This lock is actually taken mostly as a writer,
    so using a rwlock actually just makes performance
    worse especially on chips like the Intel P4.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d83d8461f902c672bc1bd8fbc6a94e19f092da97
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:26:10 2005 -0800

    [IP_SOCKGLUE]: Remove most of the tcp specific calls
    
    As DCCP needs to be called in the same spots.
    
    Now we have a member in inet_sock (is_icsk), set at sock creation time from
    struct inet_protosw->flags (if INET_PROTOSW_ICSK is set, like for TCP and
    DCCP) to see if a struct sock instance is a inet_connection_sock for places
    like the ones in ip_sockglue.c (v4 and v6) where we previously were looking if
    sk_type was SOCK_STREAM, that is insufficient because we now use the same code
    for DCCP, that has sk_type SOCK_DCCP.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 22712813620fa8e682dbfb253a60ca0131da1e07
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:25:56 2005 -0800

    [TCP]: Move the TCPF_ enum to tcp_states.h
    
    Upcoming patches will make, for instance, ip_sockglue.c need just this enum
    and not all of tcp.h.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d8313f5ca2b1f86b7df6c99fc4b3fffa1f84e92b
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:25:44 2005 -0800

    [INET6]: Generalise tcp_v6_hash_connect
    
    Renaming it to inet6_hash_connect, making it possible to ditch
    dccp_v6_hash_connect and share the same code with TCP instead.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a7f5e7f164788a22eb5d3de8e2d3cee1bf58fdca
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:25:31 2005 -0800

    [INET]: Generalise tcp_v4_hash_connect
    
    Renaming it to inet_hash_connect, making it possible to ditch
    dccp_v4_hash_connect and share the same code with TCP instead.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6d6ee43e0b8b8d4847627fd43739b98ec2b9404f
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:25:19 2005 -0800

    [TWSK]: Introduce struct timewait_sock_ops
    
    So that we can share several timewait sockets related functions and
    make the timewait mini sockets infrastructure closer to the request
    mini sockets one.
    
    Next changesets will take advantage of this, moving more code out of
    TCP and DCCP v4 and v6 to common infrastructure.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fc44b9805324c0ad2733ea2feea9935cc056709d
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:25:06 2005 -0800

    [DCCP]: Use reqsk_free in dccp_v4_conn_request
    
    Now we have the destructor (dccp_v4_reqsk_destructor) in our
    request_sock_ops vtable.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3df80d9320bcaea72b1b4761a319c79cb3fdaf5f
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:24:53 2005 -0800

    [DCCP]: Introduce DCCPv6
    
    Still needs mucho polishing, specially in the checksum code, but works
    just fine, inet_diag/iproute2 and all 8)
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 399c07def62a77678d633f5b3005431423a424a8
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:24:28 2005 -0800

    [IPV6]: Export ipv6_opt_accepted
    
    It was already non-TCP specific, will be used by DCCPv6.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f21e68caa0ddffddf98a1e729e734a470957b6ec
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:24:16 2005 -0800

    [DCCP]: Prepare the AF agnostic core for the introduction of DCCPv6
    
    Basically exports a similar set of functions as the one exported by
    the non-AF specific TCP code.
    
    In the process moved some non-AF specific code from dccp_v4_connect to
    dccp_connect_init and moved the checksum verification from
    dccp_invalid_packet to dccp_v4_rcv, so as to use it in dccp_v6_rcv
    too.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 34ca6860810342441f801226b19ae6c9e0ecb34f
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:23:32 2005 -0800

    [DCCP]: Just rename dccp_v4_prot to dccp_prot
    
    To match TCP equivalent.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3cf3dc6c2e05e67b12e522f547c0b71d509a516c
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:23:20 2005 -0800

    [IPV6]: Export some symbols for DCCPv6
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0fa1a53e1f055a6c790f40e7728f42a825b29248
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:23:09 2005 -0800

    [IPV6]: Introduce inet6_timewait_sock
    
    Out of tcp6_timewait_sock, that now is just an aggregation of
    inet_timewait_sock and inet6_timewait_sock, using tw_ipv6_offset in struct
    inet_timewait_sock, that is common to the IPv6 transport protocols that use
    timewait sockets, like DCCP and TCP.
    
    tw_ipv6_offset plays the struct inet_sock pinfo6 role, i.e. for the generic
    code to find the IPv6 area in a timewait sock.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b9750ce13c08aa8a71a9b138d741f3046aefd991
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:22:54 2005 -0800

    [IPV6]: Generalise some functions
    
    Using sk->sk_protocol instead of IPPROTO_TCP.
    
    Will be used by DCCPv6 in the next changesets.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 830a1e5c212fb3fdc83b66359c780c3b3a294897
Author: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
Date:   Tue Dec 13 23:22:32 2005 -0800

    [AF_UNIX]: Remove superfluous reference counting in unix_stream_sendmsg
    
    AF_UNIX stream socket performance on P4 CPUs tends to suffer due to a
    lot of pipeline flushes from atomic operations.  The patch below
    removes the sock_hold() and sock_put() in unix_stream_sendmsg().  This
    should be safe as the socket still holds a reference to its peer which
    is only released after the file descriptor's final user invokes
    unix_release_sock().  The only consideration is that we must add a
    memory barrier before setting the peer initially.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c1cbe4b7ad0bc4b1d98ea708a3fecb7362aa4088
Author: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
Date:   Tue Dec 13 23:22:19 2005 -0800

    [NET]: Avoid atomic xchg() for non-error case
    
    It also looks like there were 2 places where the test on sk_err was
    missing from the event wait logic (in sk_stream_wait_connect and
    sk_stream_wait_memory), while the rest of the sock_error() users look
    to be doing the right thing.  This version of the patch fixes those,
    and cleans up a few places that were testing ->sk_err directly.
    
    Signed-off-by: Benjamin LaHaise <benjamin.c.lahaise@intel.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f1f71e03b17db3b9edb0264a8be7719bd5c35582
Author: Roberto Nibali <ratz@drugphish.ch>
Date:   Tue Dec 13 23:17:20 2005 -0800

    [IPVS]: remove dead code
    
    This patch removes dead code. I don't see the reason to keep this cruft
    around, besides cluttering the nice and functionally working code.
    
    Signed-off-by: Roberto Nibali <ratz@drugphish.ch>
    Signed-off-by: Horms <horms@verge.net.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 65a45441d7e91ef6107fadbc55f775db4ba23874
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 13 23:17:02 2005 -0800

    [UDP]: udp_checksum_init return value
    
    Since udp_checksum_init always returns 0 there is no point in
    having it return a value.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3305b80c214c642b89cd5c21af83bc91ec13f8bd
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Dec 13 23:16:37 2005 -0800

    [IP]: Simplify and consolidate MSG_PEEK error handling
    
    When a packet is obtained from skb_recv_datagram with MSG_PEEK enabled
    it is left on the socket receive queue.  This means that when we detect
    a checksum error we have to be careful when trying to free the packet
    as someone could have dequeued it in the time being.
    
    Currently this delicate logic is duplicated three times between UDPv4,
    UDPv6 and RAWv6.  This patch moves them into a one place and simplifies
    the code somewhat.
    
    This is based on a suggestion by Eric Dumazet.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 57cca05af1e20fdc65b55be52c042c234f86c866
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:16:16 2005 -0800

    [DCCP]: Introduce dccp_ipv4_af_ops
    
    And make the core DCCP code AF agnostic, just like TCP, now its time
    to work on net/dccp/ipv6.c, we are close to the end!
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit af05dc9394feb193d221bc9d4c6db768facb4b40
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:16:04 2005 -0800

    [ICSK]: Move v4_addr2sockaddr from TCP to icsk
    
    Renaming it to inet_csk_addr2sockaddr.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8292a17a399ffb7c5c8b083db4ad994e090055f7
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:15:52 2005 -0800

    [ICSK]: Rename struct tcp_func to struct inet_connection_sock_af_ops
    
    And move it to struct inet_connection_sock. DCCP will use it in the
    upcoming changesets.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ca304b6104ffdd120bb6687a88a0625e58bc71cd
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:15:40 2005 -0800

    [IPV6]: Introduce inet6_rsk()
    
    And inet6_rsk_offset in inet_request_sock, for the same reasons as
    inet_sock's pinfo6 member.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8129765ac07c2455c927051e3a8b048b619b56ee
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:15:24 2005 -0800

    [IPV6]: Generalise tcp_v6_search_req & tcp_v6_synq_add
    
    More work is needed tho to introduce inet6_request_sock from
    tcp6_request_sock, in the same layout considerations as ipv6_pinfo in
    inet_sock, next changeset will do that.
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c2977c2213993bff51911f4117281b31c4612591
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:15:12 2005 -0800

    [ICSK]: make inet_csk_reqsk_queue_hash_add timeout arg unsigned long
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 90b19d31695371bd3ed256d4c9e280861cd6ae7e
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:15:01 2005 -0800

    [IPV6]: Generalise __tcp_v6_hash, renaming it to __inet6_hash
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 971af18bbfabb7b7c9c548da34a51e30869c08fc
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Tue Dec 13 23:14:47 2005 -0800

    [IPV6]: Reuse inet_csk_get_port in tcp_v6_get_port
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 89cee8b1cbb9dac40c92ef1968aea2b45f82fd18
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Dec 13 23:14:27 2005 -0800

    [IPV4]: Safer reassembly
    
    Another spin of Herbert Xu's "safer ip reassembly" patch
    for 2.6.16.
    
    (The original patch is here:
    http://marc.theaimsgroup.com/?l=linux-netdev&m=112281936522415&w=2
    and my only contribution is to have tested it.)
    
    This patch (optionally) does additional checks before accepting IP
    fragments, which can greatly reduce the possibility of reassembling
    fragments which originated from different IP datagrams.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arthur Kepner <akepner@sgi.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5228a4f49db32d22a39c653281b527ef371129c
Author: Bart De Schuymer <bdschuym@pandora.be>
Date:   Tue Dec 13 23:14:08 2005 -0800

    [NETFILTER] ebtables: Support nf_log API from ebt_log and ebt_ulog
    
    This makes ebt_log and ebt_ulog use the new nf_log api.  This enables
    the bridging packet filter to log packets e.g. via nfnetlink_log.
    
    Signed-off-by: Bart De Schuymer <bdschuym@pandora.be>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 318360646941d6f3d4c6e4ee99107392728a4079
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Tue Dec 13 23:13:48 2005 -0800

    [NETFILTER] ip_tables: NUMA-aware allocation
    
    Part of a performance problem with ip_tables is that memory allocation
    is not NUMA aware, but 'only' SMP aware (ie each CPU normally touch
    separate cache lines)
    
    Even with small iptables rules, the cost of this misplacement can be
    high on common workloads.  Instead of using one vmalloc() area
    (located in the node of the iptables process), we now allocate an area
    for each possible CPU, using vmalloc_node() so that memory should be
    allocated in the CPU's node if possible.
    
    Port to arp_tables and ip6_tables by Harald Welte.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit df3271f3361b61ce02da0026b4a53e63bc2720cb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 13 23:13:28 2005 -0800

    [TCP] BIC: CUBIC window growth (2.0)
    
    Replace existing BIC version 1.1 with new version 2.0.
    The main change is to replace the window growth function
    with a cubic function as described in:
      http://www.csc.ncsu.edu/faculty/rhee/export/bitcp/cubic-paper.pdf
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 05d054503a9c4652212b8730150608787547ecc3
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 13 23:13:13 2005 -0800

    [TCP] BIC: spelling and whitespace
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 018da8f44c066d5fc390011b8c953135f973b3a9
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 13 23:13:00 2005 -0800

    [TCP] BIC: remove low utilization code.
    
    The latest BICTCP patch at:
    http://www.csc.ncsu.edu:8080/faculty/rhee/export/bitcp/index_files/Page546.htm
    
    disables the low_utilization feature of BICTCP because it doesn't work
    in some cases. This patch removes it.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d28d1e080132f28ab773291f10ad6acca4c8bba2
Author: Trent Jaeger <tjaeger@cse.psu.edu>
Date:   Tue Dec 13 23:12:40 2005 -0800

    [LSM-IPSec]: Per-packet access control.
    
    This patch series implements per packet access control via the
    extension of the Linux Security Modules (LSM) interface by hooks in
    the XFRM and pfkey subsystems that leverage IPSec security
    associations to label packets.  Extensions to the SELinux LSM are
    included that leverage the patch for this purpose.
    
    This patch implements the changes necessary to the SELinux LSM to
    create, deallocate, and use security contexts for policies
    (xfrm_policy) and security associations (xfrm_state) that enable
    control of a socket's ability to send and receive packets.
    
    Patch purpose:
    
    The patch is designed to enable the SELinux LSM to implement access
    control on individual packets based on the strongly authenticated
    IPSec security association.  Such access controls augment the existing
    ones in SELinux based on network interface and IP address.  The former
    are very coarse-grained, and the latter can be spoofed.  By using
    IPSec, the SELinux can control access to remote hosts based on
    cryptographic keys generated using the IPSec mechanism.  This enables
    access control on a per-machine basis or per-application if the remote
    machine is running the same mechanism and trusted to enforce the
    access control policy.
    
    Patch design approach:
    
    The patch's main function is to authorize a socket's access to a IPSec
    policy based on their security contexts.  Since the communication is
    implemented by a security association, the patch ensures that the
    security association's negotiated and used have the same security
    context.  The patch enables allocation and deallocation of such
    security contexts for policies and security associations.  It also
    enables copying of the security context when policies are cloned.
    Lastly, the patch ensures that packets that are sent without using a
    IPSec security assocation with a security context are allowed to be
    sent in that manner.
    
    A presentation available at
    www.selinux-symposium.org/2005/presentations/session2/2-3-jaeger.pdf
    from the SELinux symposium describes the overall approach.
    
    Patch implementation details:
    
    The function which authorizes a socket to perform a requested
    operation (send/receive) on a IPSec policy (xfrm_policy) is
    selinux_xfrm_policy_lookup.  The Netfilter and rcv_skb hooks ensure
    that if a IPSec SA with a securit y association has not been used,
    then the socket is allowed to send or receive the packet,
    respectively.
    
    The patch implements SELinux function for allocating security contexts
    when policies (xfrm_policy) are created via the pfkey or xfrm_user
    interfaces via selinux_xfrm_policy_alloc.  When a security association
    is built, SELinux allocates the security context designated by the
    XFRM subsystem which is based on that of the authorized policy via
    selinux_xfrm_state_alloc.
    
    When a xfrm_policy is cloned, the security context of that policy, if
    any, is copied to the clone via selinux_xfrm_policy_clone.
    
    When a xfrm_policy or xfrm_state is freed, its security context, if
    any is also freed at selinux_xfrm_policy_free or
    selinux_xfrm_state_free.
    
    Testing:
    
    The SELinux authorization function is tested using ipsec-tools.  We
    created policies and security associations with particular security
    contexts and added SELinux access control policy entries to verify the
    authorization decision.  We also made sure that packets for which no
    security context was supplied (which either did or did not use
    security associations) were authorized using an unlabelled context.
    
    Signed-off-by: Trent Jaeger <tjaeger@cse.psu.edu>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit df71837d5024e2524cd51c93621e558aa7dd9f3f
Author: Trent Jaeger <tjaeger@cse.psu.edu>
Date:   Tue Dec 13 23:12:27 2005 -0800

    [LSM-IPSec]: Security association restriction.
    
    This patch series implements per packet access control via the
    extension of the Linux Security Modules (LSM) interface by hooks in
    the XFRM and pfkey subsystems that leverage IPSec security
    associations to label packets.  Extensions to the SELinux LSM are
    included that leverage the patch for this purpose.
    
    This patch implements the changes necessary to the XFRM subsystem,
    pfkey interface, ipv4/ipv6, and xfrm_user interface to restrict a
    socket to use only authorized security associations (or no security
    association) to send/receive network packets.
    
    Patch purpose:
    
    The patch is designed to enable access control per packets based on
    the strongly authenticated IPSec security association.  Such access
    controls augment the existing ones based on network interface and IP
    address.  The former are very coarse-grained, and the latter can be
    spoofed.  By using IPSec, the system can control access to remote
    hosts based on cryptographic keys generated using the IPSec mechanism.
    This enables access control on a per-machine basis or per-application
    if the remote machine is running the same mechanism and trusted to
    enforce the access control policy.
    
    Patch design approach:
    
    The overall approach is that policy (xfrm_policy) entries set by
    user-level programs (e.g., setkey for ipsec-tools) are extended with a
    security context that is used at policy selection time in the XFRM
    subsystem to restrict the sockets that can send/receive packets via
    security associations (xfrm_states) that are built from those
    policies.
    
    A presentation available at
    www.selinux-symposium.org/2005/presentations/session2/2-3-jaeger.pdf
    from the SELinux symposium describes the overall approach.
    
    Patch implementation details:
    
    On output, the policy retrieved (via xfrm_policy_lookup or
    xfrm_sk_policy_lookup) must be authorized for the security context of
    the socket and the same security context is required for resultant
    security association (retrieved or negotiated via racoon in
    ipsec-tools).  This is enforced in xfrm_state_find.
    
    On input, the policy retrieved must also be authorized for the socket
    (at __xfrm_policy_check), and the security context of the policy must
    also match the security association being used.
    
    The patch has virtually no impact on packets that do not use IPSec.
    The existing Netfilter (outgoing) and LSM rcv_skb hooks are used as
    before.
    
    Also, if IPSec is used without security contexts, the impact is
    minimal.  The LSM must allow such policies to be selected for the
    combination of socket and remote machine, but subsequent IPSec
    processing proceeds as in the original case.
    
    Testing:
    
    The pfkey interface is tested using the ipsec-tools.  ipsec-tools have
    been modified (a separate ipsec-tools patch is available for version
    0.5) that supports assignment of xfrm_policy entries and security
    associations with security contexts via setkey and the negotiation
    using the security contexts via racoon.
    
    The xfrm_user interface is tested via ad hoc programs that set
    security contexts.  These programs are also available from me, and
    contain programs for setting, getting, and deleting policy for testing
    this interface.  Testing of sa functions was done by tracing kernel
    behavior.
    
    Signed-off-by: Trent Jaeger <tjaeger@cse.psu.edu>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d78fef14c2218ba9666687aabc57392c54569048
Merge: 04348e6... 8802684...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Jan 3 16:03:07 2006 -0500

    Pull linus into release branch

commit 51e7a5987058c6b4d0c1337587f2ec0c34ffa708
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Mon Dec 19 11:21:42 2005 -0800

    [PATCH] o Update Kconfig documentation to reflect support for readonly mounts.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit 82353b594c784deabb8d9764b477e65c2b3726f9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Dec 19 11:16:07 2005 -0800

    [PATCH] This patch contains the following cleanups:
    
    - cluster/sys.c: make needlessly global code static
    - dlm/: "extern" declarations for variables belong into header files
            (and in this case, they are already in dlmdomain.h)
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>

commit b4e40a51881931bfcbc78a585e875bb2784d6d10
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Dec 15 14:31:24 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    Link the code into the kernel build system. OCFS2 is marked as
    experimental.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit ccd979bdbce9fba8412beb3f1de68a9d0171b12c
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Dec 15 14:31:24 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    The OCFS2 file system module.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 8df08c89c668e1bd922a053fdb5ba1fadbecbb38
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    dlmfs: A minimal dlm userspace interface implemented via a virtual
    file system.
    Most of the OCFS2 tools make use of this to take cluster locks when
    doing operations on the file system.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 6714d8e86bf443f6f7af50f9d432025649f091f5
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    A distributed lock manager built with the cluster file system use case
    in mind. The OCFS2 dlm exposes a VMS style API, though things have
    been simplified internally. The only lock levels implemented currently
    are NLMODE, PRMODE and EXMODE.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 98211489d4147e41b11703e4245846d60b3acce4
Author: Zach Brown <zach.brown@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    Node messaging via tcp. Used by the dlm and the file system for point
    to point communication between nodes.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit a7f6a5fb4bde142b622706e2006ba33f793e13ed
Author: Mark Fasheh <mark.fasheh@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    Disk based heartbeat. Configured and started from userspace, the
    kernel component handles I/O submission and event generation via
    callback mechanism.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 0c83ed8eeb28a045cdbd0b216679938aa9e665fe
Author: Kurt Hackel <kurt.hackel@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    A simple node information service, filled and updated from
    userspace. The rest of the stack queries this service for simple node
    information.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 52fd3d6fea441835fe3a35b7280e5e128bdeca9b
Author: Zach Brown <zach.brown@oracle.com>
Date:   Thu Dec 15 14:31:23 2005 -0800

    [PATCH] OCFS2: The Second Oracle Cluster Filesystem
    
    Very simple printk wrapper which adds the ability to enable various
    sets of debug messages at run-time.
    
    Signed-off-by: Mark Fasheh <mark.fasheh@oracle.com>
    Signed-off-by: Kurt Hackel <kurt.hackel@oracle.com>

commit 994fc28c7b1e697ac56befe4aecabf23f0689f46
Author: Zach Brown <zach.brown@oracle.com>
Date:   Thu Dec 15 14:28:17 2005 -0800

    [PATCH] add AOP_TRUNCATED_PAGE, prepend AOP_ to WRITEPAGE_ACTIVATE
    
    readpage(), prepare_write(), and commit_write() callers are updated to
    understand the special return code AOP_TRUNCATED_PAGE in the style of
    writepage() and WRITEPAGE_ACTIVATE.  AOP_TRUNCATED_PAGE tells the caller that
    the callee has unlocked the page and that the operation should be tried again
    with a new page.  OCFS2 uses this to detect and work around a lock inversion in
    its aop methods.  There should be no change in behaviour for methods that don't
    return AOP_TRUNCATED_PAGE.
    
    WRITEPAGE_ACTIVATE is also prepended with AOP_ for consistency and they are
    made enums so that kerneldoc can be used to document their semantics.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>

commit 7063fbf2261194f72ee75afca67b3b38b554b5fa
Author: Joel Becker <joel.becker@oracle.com>
Date:   Thu Dec 15 14:29:43 2005 -0800

    [PATCH] configfs: User-driven configuration filesystem
    
    Configfs, a file system for userspace-driven kernel object configuration.
    The OCFS2 stack makes extensive use of this for propagation of cluster
    configuration information into kernel.
    
    Signed-off-by: Joel Becker <joel.becker@oracle.com>

commit 408045afbdb46e109a1a44e67af688e9ddf7ad66
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Wed Dec 21 15:21:36 2005 -0700

    [IA64] incorrect return from ia64_pci_legacy_write()
    
    The function ia64_pci_legacy_write() returns 0 for everything
    except errors.  This return value gets sent back to the user from
    pci_write_legacy_io(), making it look like every write fails.  The trivial
    patch below copies the behavior of the SGI sn machvec and does what
    would be expected from something implementing a write() function.
    
    Signed-off-by: Alex Williamson <alex.williamson@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a8d3584a2df28827094f6338cde1303c467bc1f0
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Jan 3 18:41:37 2006 +0000

    [ARM] Remove clk_use()/clk_unuse()
    
    It seems that clk_use() and clk_unuse() are additional complexity
    which isn't required anymore.  Remove them from the clock framework
    to avoid the additional confusion which they cause, and update all
    ARM machine types except for OMAP.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f47fc0ac7ead5ed91a11fcabfad6ee44c17ee934
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Jan 3 18:34:20 2006 +0000

    [ARM] Add additional documentation to the clock source framework
    
    It seems that there's some confusion over how the clock source
    framework should be used.  Add some additional comments to explain
    the ambiguous areas.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 78ff18a412da24a4b79c6a97000ef5e467e813da
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Jan 3 17:39:34 2006 +0000

    [ARM] Cleanup ARM includes
    
    arch/arm/kernel/entry-armv.S has contained a comment suggesting
    that asm/hardware.h and asm/arch/irqs.h should be moved into the
    asm/arch/entry-macro.S include.  So move the includes to these
    two files as required.
    
    Add missing includes (asm/hardware.h, asm/io.h) to asm/arch/system.h
    includes which use those facilities, and remove asm/io.h from
    kernel/process.c.
    
    Remove other unnecessary includes from arch/arm/kernel, arch/arm/mm
    and arch/arm/mach-footbridge.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9d4f13e531b4722fe40cc8e28c02a495bdd49267
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Jan 3 17:28:33 2006 +0000

    [ARM] Make kernel link address depend on PAGE_OFFSET
    
    We are coding the kernel link address into the makefiles, which is
    invisibly dependent on PAGE_OFFSET.  If PAGE_OFFSET is changed, the
    makefiles also need to be changed.
    
    Make adjustments such that the makefiles encode just the offset from
    PAGE_OFFSET for the kernel link address, and use PAGE_OFFSET in the
    linker scripts directly.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a18ceba7b40e24a9da87249bd74f16ea5abd6894
Merge: aaadff8... 8802684...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Jan 3 10:58:53 2006 -0500

    Merge branch 'master'

commit ac67c6247361b3b8644b34e5301a46d5069c1373
Merge: c4c48d8... 8802684...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Jan 3 10:49:18 2006 -0500

    Merge branch 'master'

commit 8ded4ac018ea706bf7ee926601a27184665c9c28
Merge: febf7ea... 6073aa6...
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Jan 3 15:59:28 2006 +0100

    Merge branch 'master'

commit d087e4bdd24ebe3ae3d0b265b6573ec901af4b4b
Merge: 292d4ed... 8802684...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Jan 3 12:51:07 2006 +0000

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit 48d727a9f93e617d6d443507acf7d1b849c63366
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Tue Jan 3 13:44:23 2006 +0100

    Documentation/filesystems/00-INDEX: remove entry for fat_cvf.txt
    
    Remove non-existing entry for fat_cvf.txt (was it ever supported?).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit be9b7e8c02a5f864e29b17f6d86abcde258ef2fa
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Jan 3 13:42:38 2006 +0100

    [ALSA] Remove xxx_t typedefs: SPARC CS4231
    
    Remove xxx_t typedefs from the SPARC CS4231 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit df7b5d13c6c850bc2e3ca6ccfb1038f36bbbcf19
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 3 13:42:12 2006 +0100

    arch/arm26/nwfpe/fpmodule.c: remove kernel 2.0 #ifdef
    
    This patch removes an #ifdef for kernel 2.0 .
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit f4b09ebc8baa51ec8394c4173e3de9d62b2cc97a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 3 13:37:51 2006 +0100

    update the email address of Randy Dunlap
    
    This patch removes all references to the bouncing address
    rddunlap@osdl.org and one dead web page from the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Randy Dunlap <rdunlap@xenotime.net>

commit e3e1bfe4f28de86d065bc041456161a3f3a9aef7
Author: Jim Cromie <jim.cromie@gmail.com>
Date:   Tue Jan 3 13:35:41 2006 +0100

    Documentation/filesystems/vfs.txt: typo fix
    
    This patch removes an extra occurrence of 'generic'.
    
    Acked-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit f62870db3c73683fe566a05efa2a05f3faeb44f5
Author: Kees Cook <kees@outflux.net>
Date:   Tue Jan 3 13:33:31 2006 +0100

    Documentation/SubmittingPatches: update Trivial Patch Monkey information
    
    While looking for where to send trivial patches, I found old contact
    information in Documentation/SubmittingPatches.
    
    Signed-off-by: Kees Cook <kees@outflux.net>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 5e03e2c48fc2952f6a9e986cfa194fe905d0f569
Author: Adam D. Moss <adam@gimp.org>
Date:   Tue Jan 3 13:31:01 2006 +0100

    update for Documentation/sysrq.txt
    
    This patch for 2.4.x updates the dead email address for 'Mydraal'
    and since he no longer wishes to field questions concerning
    SysRq or this document removes the statement stating otherwise.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 4a4efbdee278b2f4ed91aad2db5c006ff754276e
Author: Matt Mackall <mpm@selenic.com>
Date:   Tue Jan 3 13:27:11 2006 +0100

    s/retreiv/retriev/g
    
    As everyone knows, the rule is: "i before e.. um.. always."
    
    Signed-off-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 7a1119b1fc87cc347d3932b8aee051e86b32818f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 3 13:21:37 2006 +0100

    fs/qnx4/bitmap.c: #if 0 qnx4_new_block()
    
    qnx4_new_block() is neither implemented nor used.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Anders Larsen <al@alarsen.net>

commit 4d399cae3f5ec1f59b9e88084aae09c4f00760c9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Jan 3 13:19:13 2006 +0100

    remove pointers to the defunct UDF mailing list
    
    This patch removes pointers to the defunct UDF mailing list.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 68094e3251a664ee1389fcf179497237cbf78331
Author: Pierre Ossman <drzeus-list@drzeus.cx>
Date:   Tue Nov 29 09:09:32 2005 +0100

    [ALSA] [PATCH] alsa: Improved PnP suspend support
    
    Also use the PnP functions to start/stop the devices during the suspend so
    that drivers will not have to duplicate this code.
    
    Cc: Adam Belay <ambx1@neo.rr.com>
    Cc: Jaroslav Kysela <perex@suse.cz>
    Cc: Takashi Iwai <tiwai@suse.de>
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4c98cfef2efa6b6662ac28c4f0069964bbd9fdf9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Nov 29 09:09:32 2005 +0100

    [ALSA] PATCH] Add PM support to PnP drivers
    
    Add suspend/resume callback to pnp_driver and pnp_card_driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 0ba656d0b2319b76fbebd01c1c9ba5ca8eb33fb1
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Mon Dec 26 15:30:03 2005 +0100

    [ALSA] snd-emu10k1: Add new SB Live 5.1 PCI-ID.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit e3b9bc0e78a330d0dc6669ace7925e8c132e08a7
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Sat Dec 24 16:54:51 2005 +0100

    [ALSA] snd-emu10k1: Correct control names for Audigy 4 Pro.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 041dec01736c59df43b0600c0fd154e50d8ccf6e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Dec 23 12:27:52 2005 +0100

    [ALSA] hda-codec - Add model entry for Shuttle ST20G5
    
    Modules: HDA Codec driver
    
    Added the model entry for Shuttle ST20G5.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit eff49137dd432eeae16e4627b8595c71e1362307
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 22 17:01:20 2005 +0100

    [ALSA] emu10k1 - Clean up p16v code
    
    Modules: EMU10K1/EMU10K2 driver
    
    Clean up and optimize the codes in p16v.c
    
    - Add proper __devinit* tags
    - Reduce unnecessary functions using a closure
    - Fix whitespaces
    - Rename 'Unknown' to 'Side' controls
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f951fd3cc4b04c338b4fcf94b4844e921337dfaa
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Thu Dec 22 13:05:23 2005 +0100

    [ALSA] snd-emu10k1: Add comments regarding chips present on the card.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 54efc96d4a26f1d55be36324e9cc658a581a40ba
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Thu Dec 22 12:58:41 2005 +0100

    [ALSA] snd-emu10k1: Add some comments regarding chip types.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit aad9095322c0c7d9637f29b71167458c36a4cdf6
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 22:26:26 2005 +0100

    [ALSA] snd-ca0106: Fix SPI driver code. Fixes speaker output.
    
    Modules: CA0106 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 18f3c59f2b14225bd23c41a87a5eec39439bc8b9
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 22:05:29 2005 +0100

    [ALSA] snd-emu10k1: Tidy SPI code.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit c6a02ca29388a806df3df73015ee494a6e055309
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 15:56:01 2005 +0100

    [ALSA] snd-emu10k1: Fix whitespace.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 28bcbdddaffcb2ccf08d06db7cecf047ec66057d
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 15:41:50 2005 +0100

    [ALSA] snd-emu10k1: Fix whitespace.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit ccadc3e38b72629fdfd1290343fdb11813dfecc2
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 15:31:02 2005 +0100

    [ALSA] snd-emu10k1: Enable speakers on Audigy 2 ZS Notebook.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Description:
    This enables the 7.1 speaker output of the Audigy 2 ZS Notebook.
    Further towards fixing ALSA bug#927
    TODO:
    SPDIF/IEC958 output. (untested, might already work)
    Sound capture. (untested, might already work.)
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 27fe864ec9e61041fc0b6f680207ae84f359b502
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Wed Dec 21 15:06:08 2005 +0100

    [ALSA] snd-emu10k1: Removes some distortion from Audigy 2 ZS Notebook.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Description:
    Part way to fix ALSA bug#927
    Add support for the SPI interface on the CA0108 chip.
    This is used to control the registers on the DAC.
    Headphone output tested.
    Other outputs and Capture not tested yet.
    Note: The red LED does not come on, but sound is still OK.
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit a5875159dd6cec0ec743971343aee8dceac281d7
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Tue Dec 20 22:30:49 2005 +0100

    [ALSA] snd-ca0106: Fixes sound output for Creative Audigy SE aka.SB0570.
    
    Modules: CA0106 driver
    
    Fixes ALSA bug#1636
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 39596dc898270fcaaa8a712b63fc033f86d874cf
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Fri Dec 16 21:59:59 2005 +0100

    [ALSA] snd-ca0106: update SPDIF to IEC958 in mixer control names.
    
    Modules: CA0106 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit dac8dddd87b1246d9d6b79352bd6f043eb804cf2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Dec 14 12:00:46 2005 +0100

    [ALSA] via82xx - Add a quirk for Targa Traveller 811
    
    Modules: VIA82xx driver
    
    Add an ac97 quirk entry for Targa Traveller 811.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 607da7f834592a723797b21c2463507a44d9cfa7
Author: Rene Herman <rene.herman@keyaccess.nl>
Date:   Wed Dec 14 11:57:27 2005 +0100

    [ALSA] es1968 - Fix conflict with ISA boards
    
    Modules: ES1968 driver
    
    Fix disablement of TDMA and legacy support to prevent confliction of
    resources with ISA boards.  Confirmed with Terratec DMX and CS4236.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ea265c0a433fda15fb69b9fd733e0ea4215c216e
Author: Nicolas Pitre <nico@cam.org>
Date:   Mon Dec 12 15:41:47 2005 +0100

    [ALSA] make the pxa2xx-ac97 module more robust against PXA27x bugs
    
    Modules: ARM PXA2XX driver
    
    The SDONE and CDONE interrupt on the PXA27x might become unusable in
    some conditions.  Let's use an hybrid approach (interrupt with timeout)
    to have the best possible behavior in all conditions.
    
    Also let's not care about CAR_CAIP anymore.  This is useless.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit aa1e77e691025149908f7641e77de93ffd7f1188
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Dec 12 09:36:01 2005 +0100

    [ALSA] seq: reorganize sequencer client numbers
    
    Modules: ALSA sequencer
    
    Reduce the maximum possible number of global clients to 16 to make
    more numbers available for card clients, and allow dynamically allocated
    card client numbers to share the same range as application client
    numbers to make sure that all 32 cards can be used at the same time.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 7b6d92451ad5e1136dc347347e888b94638b8ba9
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Dec 12 09:33:37 2005 +0100

    [ALSA] seq: set client name in snd_seq_create_kernel_client()
    
    All users of snd_seq_create_kernel_client() have to set the client name
    anyway, so we can just pass the name as parameter.  This relieves us
    from having to muck around with a struct snd_seq_client_info in these
    cases.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 83e8ad6984dccd6d848ac91ba0df379ff968180b
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Dec 12 09:30:43 2005 +0100

    [ALSA] seq: remove struct snd_seq_client_callback
    
    The fields of struct snd_seq_client_callback either aren't used or are
    always set to the same value, so we can get rid of it altogether.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 255bd169ab645970f77d3fd7ac800781f96ddccb
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Dec 12 09:28:51 2005 +0100

    [ALSA] seq: remove superfluous fields
    
    Modules: ALSA sequencer
    
    None of the fields of struct snd_seq_kernel_client was actually used, so
    remove them.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 22fb2a708d2f390808f20609213fd6a588bf7612
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Dec 12 09:27:14 2005 +0100

    [ALSA] ymfpci: show chip model
    
    Modules: YMFPCI driver
    
    Instead of 'DS-XG', show the correct chip model (DS-1/1L/1S/1E) where possible.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 7632c7b4443057e1294208a0d9a55d8558f2f6ca
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Dec 7 18:25:47 2005 +0100

    [ALSA] hda-codec - Add the model entry for ASUS P5GD1-HVM
    
    Modules: HDA Codec driver
    
    Add the model entry (ALC880 6stack) for ASUS P5GD1-HVM.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 235475cb7715852c42118fd8d8ec67b534ab6e8b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Dec 7 15:28:07 2005 +0100

    [ALSA] pcm - Fix wrong asserts
    
    Modules: PCM Midlevel
    
    Fixed wrong or supreflous snd_assert()'s.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4a471b7ddfe76e39c1633d5a23a687f4b5fc0d8d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Dec 7 13:56:29 2005 +0100

    [ALSA] hda-codec - Small clean up and fixes
    
    Modules: HDA Codec driver,HDA generic driver
    
    - Common labels for input pins
    - Fix and clean up of Realtek codec parsers
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f7a9275d949cb0bf1f259a1546e52a0bf518151c
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Dec 7 09:13:42 2005 +0100

    [ALSA] unregister platform devices
    
    Call platform_device_unregister() for all platform devices that we've
    registered.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 416c1079d30f1a52399b96f6772e993274b774ae
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Dec 7 09:11:05 2005 +0100

    [ALSA] Nest sound devices
    
    Modules: ALSA Core
    
    Make the control device parent of all other ALSA devices of a card.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 156b2aa3bef17c964006c6448aadd440781d7e7d
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Dec 7 09:07:25 2005 +0100

    [ALSA] ens1371: fix compilation without SUPPORT_JOYSTICK
    
    Modules: ENS1370/1+ driver
    
    Move the spdif and lineio parameters around so that they are compiled
    even when SUPPORT_JOYSTICK isn't set.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit a3bcba384c2f2448ad204ea52baa15f1227d0d40
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Dec 6 19:05:29 2005 +0100

    [ALSA] hda-codec - Fix Oops with ALC260 auto-probe
    
    Modules: HDA Codec driver
    
    - Fix Oops with auto-probing of ALC260 with digital I/O
    - Fix a typo
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c5f2ea08fbd8911e2c975094780d2b16e65f27e0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Dec 6 18:54:31 2005 +0100

    [ALSA] hda-codec - Fix ALC codec probing
    
    Modules: HDA Codec driver
    
    - Fix ALC882 BIOS auto-probe
    - Fix ALC262 basic model
    - Add assert for debugging Oops
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a8ee72952bd7bd21df944ef1512a1e582abe0528
Author: Gergely Tamas <dice@mfa.kfki.hu>
Date:   Tue Dec 6 14:10:57 2005 +0100

    [ALSA] emu10k1 - Add entry for SB Live 5.1 Digital OEM [SB0220]
    
    Modules: EMU10K1/EMU10K2 driver
    
    Added the chip-detail entry for SB Live 5.1 Digital OEM [SB0220, (c) 2003].
    
    Signed-off-by: Gergely Tamas <dice@mfa.kfki.hu>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a0faefedf7d81b6ead6a33e5576a6439606d7ed5
Author: Matthew Garrett <mjg59@srcf.ucam.org>
Date:   Tue Dec 6 13:59:12 2005 +0100

    [ALSA] Add a new quirk for mute-LED and HP-only.
    
    Modules: AC97 Codec,ATIIXP driver,Intel8x0 driver
    
    This patch adds a new quirk for ac97 hardware that combines the existing
    AC97_TUNE_MUTE_LED and AC97_TUNE_HP_ONLY quirks.  This is needed for several
    current HP laptops.  Additionally, it adds the HP nx6125 to the
    AC97_TUNE_MUTE_LED list.
    
    Fixed for the latest version of ALSA by Takashi Iwai <tiwai@suse.de>.
    
    Signed-off-by: Matthew Garrett <mjg59@srcf.ucam.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e12229b4d2b7863b1baaeca759aa87703bf9fdf8
Author: Markus Bollinger <bollinger@digigram.com>
Date:   Tue Dec 6 13:55:26 2005 +0100

    [ALSA] Add PCXHR driver
    
    Modules: Documentation,PCI drivers,Digigram PCXHR driver
    
    Add Digigram PCXHR driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 46a1736d7c07687e7456f72b238a68034fd5a624
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Dec 5 21:16:37 2005 +0100

    [ALSA] via82xx - Add dxs entry for ASRock mobo
    
    Modules: VIA82xx driver
    
    Added dxs_support entry for ASRock mobo.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 031c95d4338127a9599fcb7d449f4aa6f086786b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Dec 5 20:51:43 2005 +0100

    [ALSA] ac97 - Small fix for ALC65x codec
    
    Modules: AC97 Codec
    
    Small fix for ALC65x codec, sync with Realtek's driver codes:
    - Rename 'IEC958 Playback Route' to 'IEC958 Playback Source' so that
      mixer can handle it properly
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit df694daa3c0135202e4702cb2d11e68a43f6c51e
Author: Kailang Yang <kailang@realtek.com.tw>
Date:   Mon Dec 5 19:42:22 2005 +0100

    [ALSA] hda-codec - Add the support of ALC262,ALC883,ALC885,ALC861
    
    Modules: HDA Codec driver,HDA generic driver
    
    This patch adds the support of ALC262,ALC883,ALC885,ALC861 to driver
    More models and improvements for ALC880, ALC260 and ALC882 codecs, too.
    
    Signed-off-by: Kailang Yang <kailang@realtek.com.tw>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 59acf76e0268e3f0156ef5113e89d838a8c02bb6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Dec 5 19:22:34 2005 +0100

    [ALSA] ice1724 - Add support of M-Audio Revolution 5.1
    
    Modules: ICE1724 driver
    
    Added the basic support of M-Audio Revolution 5.1.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bd01e7bc9e975d7d3d6fe4eb2f2cf7ae83041c49
Author: Andreas Schwab <schwab@suse.de>
Date:   Mon Dec 5 15:12:20 2005 +0100

    [ALSA] emu10k1 - Fix missing declarations
    
    Modules: EMU10K1/EMU10K2 driver
    
    sound/pci/emu10k1/emufx.c: In function 'snd_emu10k1_efx_alloc_pm_buffer':
    sound/pci/emu10k1/emufx.c:2402: error: implicit declaration of function 'vmalloc'
    sound/pci/emu10k1/emufx.c:2402: warning: assignment makes pointer from integer without a cast
    sound/pci/emu10k1/emufx.c: In function 'snd_emu10k1_efx_free_pm_buffer':
    sound/pci/emu10k1/emufx.c:2413: error: implicit declaration of function 'vfree'
    
    Signed-off-by: Andreas Schwab <schwab@suse.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 19b99fbaed2e2971b756311435c67e84431d8515
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Sun Dec 4 18:03:03 2005 +0100

    [ALSA] emu10k1: Partial support for Creative emu1212m
    
    Modules: EMU10K1/EMU10K2 driver
    
    Distorted sound now comes from the Audio Out socket. Still more work to do.
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 481ba7727fa08deb389b5a2e550e04df24d3f37d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 11:19:41 2005 +0100

    [ALSA] powermac - Revert the last addition for 17' powerbook
    
    Modules: PPC PMAC driver
    
    The last addition of 17' powerbook support seems buggy
    (it's not Toonie indeed).  Removed again.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 58da3a23fe12b1c4730cb85af203950c7707220c
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Thu Dec 1 11:14:00 2005 +0100

    [ALSA] au88x0: Remove unneeded call to pci_dma_supported()
    
    Modules: au88x0 driver
    
    pci_dma_supported() is called right before pci_set_dma_mask() which already
    calls pci_dma_supported().  The attached patch removes the unneeded call to
    pci_dma_supported()
    
    Additionally the custom VORTEX_DMA_MASK macro is replaced by DMA_32BIT_MASK
    from linux/dma-mapping.h
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 59d48582508c6e3ed6f60bdd7d13e3e2893416b4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 10:51:58 2005 +0100

    [ALSA] pcm - Make the support of old API selectable
    
    Modules: ALSA Core,PCM Midlevel
    
    Make the support of old API selectable via config option.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit adf1b3d25e50dbab48fdd21006bea2dd5a4cb3a8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 10:49:58 2005 +0100

    [ALSA] Optimize for config without PROC_FS (pci drivers)
    
    Optimize the code when compiled without CONFIG_PROC_FS for some pci drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8cb7b63f5baf7b5e788f0d632d5ebd018856416f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 10:48:37 2005 +0100

    [ALSA] dbri - Don't return errors without CONFIG_PROC_FS
    
    Modules: SPARC DBRI driver
    
    Don't return errors if the proc file can't be created (for the case
    without CONFIG_PROC_FS).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 04f141a8800d022981f0405a8d307c98aba55105
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 10:43:51 2005 +0100

    [ALSA] Optimize for config without PROC_FS (seq and oss parts)
    
    Modules: ALSA<-OSS emulation,ALSA sequencer,ALSA<-OSS sequencer
    
    Optimize the code when compiled without CONFIG_PROC_FS (in seq and oss
    emulation parts).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e28563cceb9f258ebe3c50fc27d8f4ff0ac4bfa4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Dec 1 10:42:42 2005 +0100

    [ALSA] Optimize for config without PROC_FS
    
    Modules: HWDEP Midlevel,ALSA Core,PCM Midlevel,Timer Midlevel
    
    Optimize the code when compiled without CONFIG_PROC_FS.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7cd01dd840824e7c6023ad1dbfdb94a2183a7adb
Author: Kyle Moffett <mrmacman_g4@mac.com>
Date:   Wed Nov 30 10:54:28 2005 +0100

    [ALSA] snd_powermac: Add ID for Spring 2005 17' Powerbook
    
    Modules: PPC PMAC driver
    
    The audio chip in my Spring 2005 17' PowerBook was incorrectly
    recognized as an AWACS chip.  This adds the chip ID to the
    snd_powermac driver such that it is recognized as a Toonie (I don't
    know if that's correct, but it's the only one that makes it work at
    all). and sorts the ID lists numerically.  NOTE:  This chip is only
    minimally supported at this point; it has system beep support and
    very low volume speaker output, and that's about it.
    
    Signed-off-by: Kyle Moffett <mrmacman_g4@mac.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9d70d91c4663d580bd18317dac3c7dc3bee79480
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Nov 30 10:12:26 2005 +0100

    [ALSA] ad1848 - Fix compilation without CONFIG_PM
    
    Modules: AD1848 driver
    
    Fix compilation without CONFIG_PM.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 403d19446bd0cabee70110415d2f3bc466f46448
Author: Matt Porter <mporter@embeddedalley.com>
Date:   Tue Nov 29 15:00:51 2005 +0100

    [ALSA] hda-codec - update sigmatel support and bug fixes
    
    Modules: HDA Codec driver
    
    - Explictly set pin control as input for all input pins
    - Fix bug in 922x mixer (no mute on adc0vol)
    - Remove broken ch_mode control
    - Add support for jack retasking mixer controls to use rear line and
      mic as surround outputs
    - Add board tables to support autodetect and pin config defaults for
      systems with broken bioses
    - Add support for several Intel mobos
    - Add support for DFI mobo with reference boards attached
      (gets rid of compile time switch to use reference boards)
    
    Signed-off-by: Matt Porter <mporter@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9056412f21bb6b76ceb98329409a958198b2d591
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Tue Nov 29 14:48:41 2005 +0100

    [ALSA] sound: align device drivers menus
    
    Modules: Sound Core,Generic drivers
    
    AC97 Kconfig entries broke the ALSA device drivers menu, so move them to a
    location where that won't happen, enabling all device sub-menus to be
    presented together.
    
    Fixed for the latest ALSA tree by Takashi Iwai <tiwai@suse.de>.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 954fa19ab7a14c3f54044780a90cd6a95149f90b
Author: Matt Porter <mporter@embeddedalley.com>
Date:   Tue Nov 29 14:46:01 2005 +0100

    [ALSA] hda-intel - Fix HDA probe_mask default
    
    Modules: HDA Intel driver
    
    The probe_mask module parameter comment notes that the intended
    default is -1. Fix it to be so, otherwise all codecs are skipped
    and init fails.
    
    Signed-off-by: Matt Porter <mporter@embeddedalley.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 015b6a198f51d660797b78c6c7ee60d0252ebf40
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Nov 28 10:50:59 2005 +0100

    [ALSA] ens1371: added spdif and lineio module options
    
    Modules: ENS1370/1+ driver
    
    - spdif module option: some hardware revisions are without spdif output
    - lineio module option: force shared line in / rear out jack settings
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 16f47bb66000a917a33a0da67ef2823b239c36f6
Author: Matthew Garrett <mjg59@srcf.ucam.org>
Date:   Fri Nov 25 12:03:20 2005 +0100

    [ALSA] ac97 - Add extra IDs for headphone autosense
    
    Modules: AC97 Codec
    
    The following patch adds some extra IDs for the list of hardware which
    should have headphone line sense enabled by default.
    
    Signed-off-by: Matthew Garrett <mjg59@srcf.ucam.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f8c7c7b8dd2828b42c1230c6b0235e7d1dcf57e5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 24 16:17:20 2005 +0100

    [ALSA] hda-codec - Fix surrounds on 3stack mode of AD1988
    
    Modules: HDA Codec driver
    
    Fixed the swapped surround/CLFE on 3stack mode of AD1988.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d32410b1095cf93e8e31f8919de46f496d7b3ce0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 24 16:06:23 2005 +0100

    [ALSA] hda-codec - Fix/enhance AD1988 support
    
    Modules: HDA Codec driver
    
    Fix/enhance AD1988 support code.
    
    - Fix for h/w bug of AD1988A rev 2
    - The BIOS auto-configuration is added and used as fallback
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b2ec642362eef10f660e2b857dda12e2d61e0198
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 24 16:05:04 2005 +0100

    [ALSA] hda-codec - Fix channel mode helper
    
    Modules: HDA Codec driver
    
    Fix the channel mode helper (for put callback).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 606ad75fb5372c0edb5ee6276c8e29fcb525f3e1
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 24 16:03:40 2005 +0100

    [ALSA] hda-intel - Use position buffer as default
    
    Modules: HDA Intel driver
    
    - Use the position buffer for obtaining the current DMA position
      as default.  This seems more stable than others.
    - Add probe_mask module option (mainly for test boards with multiple
      codecs).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5014f193166d14e47525a34d65a1c7d77b0f6f38
Author: Libin Yang <libin.yang@intel.com>
Date:   Wed Nov 23 15:48:36 2005 +0100

    [ALSA] hda-codec - Fix auto-probe of ALC880
    
    Modules: HDA Codec driver
    
    This patch is to fix the problem of calculating the nid incorrectly
    when auto-probe for ALC880. The problem to be fixed often behaves
    with such words when using dmesg, 'num_steps = 0 for NID=0x8' when
    auto-probe for ALC880.
    
    The patch contains:
    - alsa-kernel/pci/hda/patch_realtek.c: replace 'alc880_dac_to_idx'
      with 'alc880_idx_to_dac' in function 'alc880_auto_fill_dac_nids()'
    
    Signed-off-by: Libin Yang <libin.yang@intel.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 18612048b3e951f7e0ae9be65efe9e8cfde868a6
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Nov 23 13:14:50 2005 +0100

    [ALSA] sound/: possible cleanups
    
    Modules: RawMidi Midlevel,HDA generic driver
    
    This patch contains the following possible cleanups:
    - pci/hda/hda_proc.c should #include 'hda_local.h' for including the
      prototype of it's global function snd_hda_codec_proc_new()
    - core/rawmidi.c: make the needlessly global and EXPORT_SYMBOL'ed
      function snd_rawmidi_info() static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9a1a2a1d4eeda00df45ccf7a3a375d1887f1efb3
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Nov 22 15:46:41 2005 +0100

    [ALSA] Fix a missing include
    
    Modules: ALSA Core
    
    Fix missing include <linux/device.h>
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6a81dbf23df5400e4f8182e9f2eb52fabcf42015
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Nov 22 14:33:27 2005 +0100

    [ALSA] ice1712 - Fix Front Digital Input of Terratec DMX 6Fire
    
    Modules: ICE1712 driver
    
    Fix the inverted switch of 'Front Digital Input' of Terratec DMX 6Fire.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 1f14a657d87aa0e1a6c08c2e31588fbca34a8844
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Nov 21 16:40:00 2005 +0100

    [ALSA] usb-audio: fix Edirol UA-20 support
    
    Modules: USB generic driver
    
    Somebody at Edirol fucked up and released a new revision of the UA-20
    without class-specific descriptors, so now we have to hard-code the
    sample format.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 2e5b9567f7444673a93cbacdcbeb3feacdb4914f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Nov 21 16:36:15 2005 +0100

    [ALSA] hda-codec - Fix AD1988 support
    
    Modules: HDA Codec driver
    
    Fix AD1988 support.  As default, 6stack model is used.
    Still no auto-BIOS setup is implemented.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d25695056ff2e1e048cfc8d7dbafaf80c3c46d5d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Nov 21 16:33:51 2005 +0100

    [ALSA] hda-codec - Allocate connection lists dynamically in generic parser
    
    Modules: HDA generic driver
    
    Allocate connection lists dynamically in generic parser.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 54d174031576a2855c49611d83d4946bde81b504
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Nov 21 16:33:22 2005 +0100

    [ALSA] hda-codec - Fix connection list parsing
    
    Modules: HDA Codec driver,HDA generic driver
    
    - Fix connection list parsing (with ranged flag).
    - Increase the max number of connections
    - Introduce widget capabilities cache
    - Power up/down widgets at init, suspend and resume
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 1b98ea4791892399d8c23c93e117567eeff38887
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Nov 21 07:31:31 2005 +0100

    [ALSA] rawmidi: adjust runtime->avail when changing output buffer size
    
    Modules: RawMidi Midlevel
    
    When the output buffer size is changed, runtime->avail must be
    adjusted to the new size; otherwise, draining of a bigger buffer would
    appear to fail because avail does not reach buffer_size.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 0ef797c5ca8a73853c827cf495caed44676cfe17
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Nov 21 07:30:20 2005 +0100

    [ALSA] adjust documentation for higher card limit
    
    Modules: Documentation
    
    Fix all places in the docs where the card number limit is mentioned.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit d001544ded23ddb1116f945ccc2d89a7f98ab7e8
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:09:05 2005 +0100

    [ALSA] dynamic minors (6/6): increase maximum number of sound cards
    
    Modules: ALSA Core,Memalloc module,ALSA sequencer
    
    With dynamic minor numbers, we can increase the number of sound cards.
    
    This requires that the sequencer client numbers of some kernel drivers
    are allocated dynamically, too.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 204bdb1b50013c7aa3922d8b66df943123087bd8
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:08:28 2005 +0100

    [ALSA] dynamic minors (5/6): reduce maximum number of MIDI devices per card
    
    Modules: ALSA sequencer,Generic drivers
    
    To allow increasing the maximum number of sound cards, we have to limit
    the number of sequencer clients per card because client numbers are
    still allocated statically.
    
    Reducing the number of clients to four limits the number of sequencer
    MIDI ports to 1024 per card.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 332682b1cd540dd7abbbbfc1905af8139e76e1b7
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:07:47 2005 +0100

    [ALSA] dynamic minors (4/6): dynamic minor number allocation
    
    Modules: ALSA Core,ALSA Minor Numbers
    
    Add an option to allocate device file minor numbers dynamically.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit f87135f56cb266e031f5ec081dfbde7e43f55e80
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:06:59 2005 +0100

    [ALSA] dynamic minors (3/6): store device-specific object pointers dynamically
    
    Instead of storing the pointers to the device-specific structures in an
    array, put them into the struct snd_minor, and look them up dynamically.
    
    This makes the device type modules independent of the minor number
    encoding.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 6983b7240cd229787c3ee00e663ea94ea649d96a
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:05:49 2005 +0100

    [ALSA] dynamic minors (2/6): simplify storage of snd_minor structures
    
    Modules: ALSA Core
    
    Store the snd_minor structure pointers in one array instead of using a
    separate list for each card.  This simplifies the mapping from device
    files to minor struct by removing the need to know about the encoding
    of the card number in the minor number.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 2af677fc884fc6dc79e65c99050ea607ac8bab9b
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 14:03:48 2005 +0100

    [ALSA] dynamic minors (1/6): store device type in struct snd_minor
    
    Instead of a comment string, store the device type in the snd_minor
    structure.  This makes snd_minor more flexible, and has the nice side
    effect that we don't need anymore to create a separate snd_minor
    template for registering a device but can pass the file_operations
    directly to snd_register_device().
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit a106cd3d9e88c8761bd0eac2ce402cc82bd11fea
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 13:59:56 2005 +0100

    [ALSA] rawmidi: protect against invalid device number in snd_rawmidi_info_select()
    
    Modules: RawMidi Midlevel
    
    In snd_rawmidi_info_select(), check that the device identified by the
    passed device number actually exists.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit ac09a9251d3b7678150ee512de8de1bd98628d11
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Nov 20 13:58:28 2005 +0100

    [ALSA] cs5535audio: move sound/driver.h to the top
    
    Modules: CS5535 driver
    
    Move the #include of <sound/driver.h> to the top which is
    required for compilation on earlier kernels.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit a2c855bbd76e7044c54a9d84ae46f6eead1b8f89
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Nov 18 18:52:39 2005 +0100

    [ALSA] Fix a compile warning
    
    Modules: CS4231 driver
    
    Fix a compile warning (unused variable).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b32425ac93370e1ba5556110e662f896b2e143b3
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Nov 18 18:52:14 2005 +0100

    [ALSA] Fix possible races in timer callbacks
    
    Fix possible races in timer callbacks.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2eb061f41cf74f829bfe90a9c79c765172be9f0b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Fri Nov 18 07:44:13 2005 +0100

    [ALSA] intel8x0 - Added swap_hp quirk for Fujitsu-Siemens Celsius H320 [0x10cf:0x12f2]
    
    Modules: Intel8x0 driver
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit a9824c868a2c7e310e6263ea4bc9f35cbbec8227
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:51:00 2005 +0100

    [ALSA] Add CS4232 PnP BIOS support
    
    Modules: CS4231 driver,CS4236+ driver
    
    Add CS4232 PnP BIOS support.  Still experimental.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fa55f837bb1bfc3d9ac9988d6f5450a603fa079a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:48:30 2005 +0100

    [ALSA] Fix resume of cs4231
    
    Modules: CS4231 driver
    
    Use mce_down() again in the resume callback.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 73e77ba0235532bd7523ba90883d325f6e095acf
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:44:01 2005 +0100

    [ALSA] Add error messages
    
    Add error messages in the critial error path to be more verbose.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 00a4e3d9f8df8a90966b75d517154718b4a2242a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:41:08 2005 +0100

    [ALSA] Merge ad1816a-lib module to ad1816a
    
    Modules: AD1816A driver
    
    Merge ad1816a-lib module to ad1816.
    There is no more reason to split.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5fe76e4dc60a2c3ff9b1143f5275a953db685e26
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:26:09 2005 +0100

    [ALSA] document - Update PM support
    
    Modules: Documentation
    
    Update the description about the PCI PM support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a4efc230c60ad15584e723755316e67b3c708d67
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:24:26 2005 +0100

    [ALSA] document - Add PM support
    
    Modules: Documentation
    
    Mark the drivers newly supporting PM in the documentation.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 27441127b086230cc4c57d6cd9a615272fb47bcd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:22:43 2005 +0100

    [ALSA] Remove snd_legacy_auto_probe()
    
    Modules: ALSA Core
    
    Remove unsed snd_legacy_auto_probe() function.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ebfbd2b83da14c7118da0efd1b59d8b641da08c2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:21:46 2005 +0100

    [ALSA] Remove snd_card_generic_dev()
    
    Remove the obsolete snd_card_generic_dev().
    CONFIG_SND_GENERIC_DRIVER is also removed from Kconfig.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fa8174db0fd032c3d48cc0873946358c68e44d4f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:20:15 2005 +0100

    [ALSA] Remove SND_GENERIC_DRIVER from arm/Kconfig
    
    Modules: ARM
    
    Remove the obsolete SND_GENERIC_DRIVER from arm/Kconfig.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2b3f558727244efb6edb0866952331f537da13a4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:19:50 2005 +0100

    [ALSA] Use platform_device
    
    Modules: SA11xx UDA1341 driver
    
    Rewrite the probe/remove with platform_device.
    Fix PM support, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 792a6c51875c9d3b4a7b9af553b7fd18e8d84684
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:19:25 2005 +0100

    [ALSA] Fix PM support
    
    Modules: ARM AACI PL041 driver,ARM PXA2XX driver
    
    Fix PM support of aaci and pxa2xx drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5e12bea0833e47117c31f13b528e31dc8112de57
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:17:08 2005 +0100

    [ALSA] powermac - Use platform_device
    
    Modules: PPC,PPC PMAC driver,PPC PowerMac driver
    
    Rewrite the probe/remove with platform_device.
    Move the PM support to platform_device's callbacks.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e4f163d96080dda40fd02df725f3672d035e4c5a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:15:58 2005 +0100

    [ALSA] pdaudiocf - Fix PM support
    
    Modules: PDAudioCF driver
    
    Fix the PM support on pdaudiocf driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7f52bdb61bdb945b29c2a3b3a6d0f8e6e80b8ec8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:15:20 2005 +0100

    [ALSA] Remove SND_GENERIC_DRIVER from isa/Kconfig
    
    Modules: ISA
    
    Remove the obsolete SND_GENERIC_DRIVER from isa/Kconfig.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d29b761e6162d3b91079b25334270a2c36f6157d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:14:11 2005 +0100

    [ALSA] wavefront - Use platform_device
    
    Modules: Wavefront drivers
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 99a0b7687ef991a577506a1974be146f02f18d74
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:13:59 2005 +0100

    [ALSA] opti9xx - Use platform_device
    
    Modules: Opti9xx drivers
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 654aa661779703d3b22ba04a83ddeb1a0dd7a09a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:13:43 2005 +0100

    [ALSA] gus - Use platform_device
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2a571ed13c853d132433c7e81509351823a7c8c6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:13:30 2005 +0100

    [ALSA] es1688 - Use platform_device
    
    Modules: ES1688 driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 277e926c9b2722317a6bf89ed921d97f6784e0cc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:13:12 2005 +0100

    [ALSA] sscape - Use platform_device
    
    Modules: Sound Scape driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit feb158e6ada20b7871f625e1edd429216ac00d3c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:12:43 2005 +0100

    [ALSA] sgalaxy - Use platform_device, add PM support
    
    Modules: Sound Galaxy driver
    
    Rewrite the probe/remove with platform_device.
    Also, add the PM support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f7e0ba3e440d4aab381dca6d7a7eee8f2faf210b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:12:07 2005 +0100

    [ALSA] es18xx - Use platform_device
    
    Modules: ES18xx driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 704e05204c623136ea12411dc4286d1caea6cd7c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:11:53 2005 +0100

    [ALSA] opl3sa2 - Use platform_device
    
    Modules: OPL3SA2 driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit acdcbc15426b91b0041756a92ea4932c60def189
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:11:35 2005 +0100

    [ALSA] cmi8330 - Use platform_device, add PM support
    
    Modules: CMI8330 driver
    
    Rewrite the probe/remove with platform_device.
    Also, add the PM support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 175cdcfb113e2a72f9d1a2ced4b80e0ff17fcaae
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:05:02 2005 +0100

    [ALSA] ad1816a - Clean up PnP code
    
    Modules: AD1816A driver
    
    Clean up PnP code of ad1816a driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e2fa213591518bb1387f6042b8572c76ecdc6c6e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:04:35 2005 +0100

    [ALSA] dt019x - Add PM support
    
    Modules: DT019x driver
    
    Add PM support to dt019x driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b6cc25cae365bada36c9f006e314b998eb2c5e7c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:04:12 2005 +0100

    [ALSA] azt2320 - Add PM support
    
    Modules: AZT2320 driver
    
    Add PM support to azt2320 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 480615f33fa48e1a4db33e40b21d4009250f5b23
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:03:53 2005 +0100

    [ALSA] als100 - Add PM support
    
    Modules: ALS100 driver
    
    Add PM support to als100 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6bba41ac974ad77aa21d112a368ee565b55f303b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:00:53 2005 +0100

    [ALSA] cs4236 - Use platform_device
    
    Modules: CS4236+ driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8b91375736ca602a5fc0695b53caa89b6ef263c9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:00:41 2005 +0100

    [ALSA] cs4231 - Use platform_device
    
    Modules: CS4231 driver
    
    Rewrite the probe/remove with platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7bb35e20e8a00cf9e3f4e9df0457eee9f312a637
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 17:00:17 2005 +0100

    [ALSA] cs4231 - Fix PM support
    
    Modules: CS4231 driver
    
    Fix PM support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 686688458e5814ac0aca44fc2033218a848fd2d0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:58:26 2005 +0100

    [ALSA] ad1848 - Use platform_device, add PM
    
    Modules: AD1848 driver
    
    Rewrite the probe/remove with platform_device.
    Add the PM support, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c66d7f72569e304acc134b2561b148fe7c23c0f7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:57:48 2005 +0100

    [ALSA] ad1848 - Add PM support
    
    Modules: AD1848 driver
    
    Add PM support to ad1848 support code.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7a8fef1f95e563a93c7d70048b63c1ca20685a1b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:56:11 2005 +0100

    [ALSA] es968 - Add PM support
    
    Modules: ES968 driver
    
    Add PM support to es968 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 67be445871bb35c450100753b72392ad6ddc0245
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:55:22 2005 +0100

    [ALSA] sb8 - Use platform_device and add PnP support
    
    Modules: SB8 driver
    
    Rewrite the probe/remove with platform_device.
    Add PM support, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6f045616aff91022966b5c37ba6845791dd125dc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:54:56 2005 +0100

    [ALSA] sb16 - Use platform_device and add PnP support
    
    Modules: SB16/AWE driver
    
    Rewrite the probe/remove with platform_device.
    Add PM support using PnP suspend/resume callbacks.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 703529140cfb774366b839f38f027f283cb948b4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:16:36 2005 +0100

    [ALSA] als4000 - Add PM support
    
    Modules: ALS4000 driver
    
    Add PM support to PCI ALS4000 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5bdb6a1629408f657f5f2c42b3c07c689c411499
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:16:10 2005 +0100

    [ALSA] Add PM support to SB-support code
    
    Modules: SB drivers,SB16/AWE driver
    
    Add PM support to SB-support code.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cb60e5f5b2b19284479825cdaa6dd6b7078cf5d2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:14:49 2005 +0100

    [ALSA] cmipci - Add PM support
    
    Modules: CMIPCI driver
    
    Add PM support to CMIPCI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b1e9ed26a9e472548a63a59014708fdae013b7a3
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:14:33 2005 +0100

    [ALSA] fm801 - Add PM support
    
    Modules: FM801 driver
    
    Add PM support to fm801 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 09668b441dacdf4640509b640ad73e24efd5204f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:14:10 2005 +0100

    [ALSA] emu10k1 - Add PM support
    
    Modules: EMU10K1/EMU10K2 driver
    
    Add PM support to emu10k1 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fe8be10786c040bce53c18048d75b1b23aec64ae
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:13:41 2005 +0100

    [ALSA] ens137x - Fix and ADD PM support
    
    Modules: ENS1370/1+ driver
    
    Fix PM support on ens1371 driver.
    Add PM support on ens1370 (together with AK4531), too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 11d3824ad7d6240d7ce44bdf1d9e81e62a903f72
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:13:05 2005 +0100

    [ALSA] ak4531 - Add PM support
    
    Modules: AK4531 codec
    
    Add PM support to AK4531 codec driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3fcf7d2cd8e0ebce10e4bf89da175ff9bd6aa2da
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:11:24 2005 +0100

    [ALSA] nm256-intel - Fix PM support
    
    Modules: NM256 driver
    
    Fix PM support on NM256 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 421a12520d4ed4a0c96640fb672ef24ad8019beb
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:11:09 2005 +0100

    [ALSA] hda-intel - Fix PM support
    
    Modules: HDA Intel driver
    
    Fix PM support on HDA-Intel driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bf53c3b3f368cdc2aa9a59f220337ede854f507d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:10:51 2005 +0100

    [ALSA] ali5451 - Fix PM support
    
    Modules: ALI5451 driver
    
    Fix PM support on ALI5451 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 57feb83507d598de04e986cfa463acda9f2a67a8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:10:35 2005 +0100

    [ALSA] via82xx - Fix PM support
    
    Modules: VIA82xx driver,VIA82xx-modem driver
    
    Fix PM support on VIA82xx and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 0e2364a7013688c06d1a9454a2c20567027f6a6e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:10:19 2005 +0100

    [ALSA] maestro3 - Fix PM support
    
    Modules: Maestro3 driver
    
    Fix PM support on maestro3 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5809c6c41ae95ce3f45ad14d31503deb1fa8268a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:10:01 2005 +0100

    [ALSA] intel8x0 - Fix PM support
    
    Modules: Intel8x0 driver,Intel8x0-modem driver
    
    Fix PM support on Intel8x0 and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ded462356886e5f80f6a20b227f7e5cf7cfc5159
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:09:43 2005 +0100

    [ALSA] ymfpci - Fix PM support
    
    Modules: YMFPCI driver
    
    Fix PM support on YMFPCI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fb0700b4debbf45fb0465b40188bdc5396947bda
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:09:25 2005 +0100

    [ALSA] trident - Fix PM support
    
    Modules: Trident driver
    
    Fix PM support on Trident driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cb28e45ba2aa42393596a364d4f947027db8a1b5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:09:04 2005 +0100

    [ALSA] cs46xx - Fix PM support
    
    Modules: CS46xx driver
    
    Fix PM support on CS46xx driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 1d4b822be64b119b47c172aaac7ee76949470e28
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:08:43 2005 +0100

    [ALSA] es1968 - Fix PM support
    
    Modules: ES1968 driver
    
    Fix PM support on ES1968 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b34a580ec5b2eb7d3a7645552821e9dadb42bdab
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:08:27 2005 +0100

    [ALSA] es1938 - Fix PM support
    
    Modules: ES1938 driver
    
    Fix PM support on ES1938 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 38c0a158ee23027e6a4fe47311e05d9c34c94da4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:08:11 2005 +0100

    [ALSA] cs4281 - Fix PM support
    
    Modules: CS4281 driver
    
    Fix PM support on CS4281 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 92304cc7ecfc87d8336696ab5fe6a1c0eec2ff00
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:07:46 2005 +0100

    [ALSA] atiixp - Fix PM support
    
    Modules: ATIIXP driver,ATIIXP-modem driver
    
    Fix PM support on ATIIXP and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 0ed1cad172176a4595f82e8cd9055938ad54bd4b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:06:05 2005 +0100

    [ALSA] vx-driver - Fix PM support
    
    Fix PM support on VX drivers (vxpocket and vx222).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 597c3c96691c861e837f9024084b4943fa5fc0fd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:04:14 2005 +0100

    [ALSA] Remove SND_GENERIC_DRIVER from drivers/Kconfig
    
    Modules: Generic drivers
    
    Remove SND_GENERIC_DRIVER from drivers/Kconfig.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b3fe95123f0db79dd0345d249c312823178c11f5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:03:39 2005 +0100

    [ALSA] mpu401 - Use platform_device
    
    Modules: MPU401 UART
    
    Rewrite the probe/remove code using platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3564fbb880f9a62ddbb81b7440c32e0e6619c52d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:03:26 2005 +0100

    [ALSA] virmidi - Use platform_device
    
    Modules: Generic drivers
    
    Rewrite the probe/remove code using platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9caf6b5908e1e3b10478e9201ca1be809145253f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:02:30 2005 +0100

    [ALSA] serial-u16550 - Use platform_device
    
    Modules: Generic drivers
    
    Rewrite the probe/remove code using platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4e4c62bd45c40e8e04d09a5f383bffb149abaa63
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Tue Jan 3 22:25:29 2006 +1100

    drm: remove is_pci flag completely...
    
    this snuck back in, in the last merge.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 077d0ac5b63185abb848ae81e2949a1e9aedc1bb
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:02:15 2005 +0100

    [ALSA] mtpav - Use platform_device
    
    Modules: Generic drivers
    
    Rewrite the probe/remove code using platform_device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6e65c1cc4458b2784224759b6137a50d4f65e610
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:01:56 2005 +0100

    [ALSA] dummy - Use platform_device
    
    Modules: Generic drivers
    
    Rewrite the probe/remove code using platform_device.
    Added the suspend/resume support, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e26e7545e9542425f140cb4c605a7ab5a3b13e00
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 16:00:01 2005 +0100

    [ALSA] ac97 - NULL check in snd_ac97_suspend/resume
    
    Modules: AC97 Codec
    
    Add NULL check in snd_ac97_suspend() and snd_ac97_resume() so that
    the caller doesn't have to do it by itself.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 603bf524aa4cba95e4fcd64dbfffc41f804c65ab
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:59:14 2005 +0100

    [ALSA] pcm - NULL check in snd_pcm_suspend*()
    
    Modules: PCM Midlevel
    
    Add NULL check in snd_pcm_suspend*() so that the caller doesn't have to do it
    by itself.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a381a7a66486f11606eccb8866e29848f995278f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:55:49 2005 +0100

    [ALSA] Decentralize PM control
    
    Modules: ALSA Core,Control Midlevel,/oss/Makefile
    
    Remove the centralized PM control in the sound core.
    Each driver is responsible to get callbacks from bus/driver now.
    
    SND_GENERIC_DRIVER is removed together with this action.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fd66e0d0591dd12eb0bea1e9f3aa194bb93cebbd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:31:34 2005 +0100

    [ALSA] hda-codec - Add AD1988 support
    
    Modules: HDA Codec driver
    
    Add AD1988 codec support to hda-codec driver.
    Still experimental, and no BIOS configuration parser is implemented yet.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9398441edaf0dc64eca828e3ce7a0326c8640d4c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:30:43 2005 +0100

    [ALSA] ac97-codec - Better ac97_bus name
    
    Modules: AC97 Codec
    
    Generate a better name string for ac97_bus sysfs interface including
    the name of ac97 codec chip.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 446ab5f5039df4209a2e28752bd48c99007d3d82
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:12:54 2005 +0100

    [ALSA] Remove xxx_t typedefs: Documentation
    
    Modules: Documentation
    
    Remove xxx_t typedefs from documentation.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a0d6f880faad2ceba3af3b8c34ddefd15119ced1
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:12:31 2005 +0100

    [ALSA] Remove xxx_t typedefs: MIPS AU1x00
    
    Modules: MIPS AU1x00 driver
    
    Remove xxx_t typedefs from the MIPS AU1x00 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 67b1020d88a77a73bd9ccbc21733c155a4d7d44c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:12:11 2005 +0100

    [ALSA] Remove xxx_t typedefs: PARISC Harmony
    
    Modules: PARISC Harmony driver
    
    Remove xxx_t typedefs from the PARIC Harmony driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 475675d6931ec03cf9575b26e30800fe64898ee0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:11:51 2005 +0100

    [ALSA] Remove xxx_t typedefs: SPARC DBRI
    
    Modules: SPARC DBRI driver
    
    Remove xxx_t typedefs from the SPARC DBRI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit dcc94db78362759931ff538f1579d4a1cec8bd64
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:11:19 2005 +0100

    [ALSA] Remove xxx_t typedefs: SPARC AMD7930
    
    Modules: SPARC AMD7930 driver
    
    Remove xxx_t typedefs from the SPARC AMD7930 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit af0fbfb58dbb2081ae91789892933321ee95d71f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:10:58 2005 +0100

    [ALSA] Remove xxx_t typedefs: ARM SA11xx-UDA1341
    
    Modules: SA11xx UDA1341 driver
    
    Remove xxx_t typedefs from the ARM SA11xx-UDA1341 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d18f83764e376dea9e14a8ac53d1e14004fa9c13
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:10:38 2005 +0100

    [ALSA] Remove xxx_t typedefs: ARM PXA2xx
    
    Modules: ARM PXA2XX driver
    
    Remove xxx_t typedefs from the ARM PXA2xx driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ceb9e476c89f50e9ba7de914bbec2c05e9647915
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:10:16 2005 +0100

    [ALSA] Remove xxx_t typedefs: ARM AACI
    
    Modules: ARM AACI PL041 driver,ARM DMA routines
    
    Remove xxx_t typedefs from the ARM AACI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 65b29f5039b38a5854b5e12238b0688a33e235cc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:09:46 2005 +0100

    [ALSA] Remove xxx_t typedefs: PowerMac
    
    Remove xxx_t typedefs from the PowerMac driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bbe85bbd02b2220c819ad1e33c9d6327131ad281
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:08:26 2005 +0100

    [ALSA] Remove xxx_t typedefs: USB-USX2Y
    
    Modules: USB USX2Y
    
    Remove xxx_t typedefs from the USB-USX2Y driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 86e07d34658bb85b3424f4db64fa28f884edbe8d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:08:02 2005 +0100

    [ALSA] Remove xxx_t typedefs: USB-Audio
    
    Modules: USB generic driver
    
    Remove xxx_t typedefs from the USB-Audio driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit db13154843cb2c99a93e9feed575e906f6e0e455
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:07:38 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCMCIA PDaudioCF
    
    Modules: PDAudioCF driver
    
    Remove xxx_t typedefs from the PCMCIA PDaudioCF driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e437e3d7c7fb656010f8f767d20215e67b847685
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:06:15 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI VIA82xx
    
    Modules: VIA82xx driver,VIA82xx-modem driver
    
    Remove xxx_t typedefs from the PCI VIA82xx and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 016e401c2e64ce5c440b1f68eae4a53273aa0bc2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:05:57 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI Sonicvibes
    
    Modules: SonicVibes driver
    
    Remove xxx_t typedefs from the PCI Sonicvibes driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a3aefd883dc8c17c2231d763630ffe5cd118d7e8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:05:37 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI RME96
    
    Modules: RME96 driver
    
    Remove xxx_t typedefs from the PCI RME96 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 017ce80236c28bae9c2573307f1e76724232f287
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:05:25 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI RME32
    
    Modules: RME32 driver
    
    Remove xxx_t typedefs from the PCI RME32 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3470c29dbde2aa8320acb29a654b5a72756ee58b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:05:09 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI Maestro3
    
    Modules: Maestro3 driver
    
    Remove xxx_t typedefs from the PCI Maestro3 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6b75a9d8b6c794d4c41d1b875c3e8e920b09e151
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:04:53 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI Intel8x0
    
    Modules: Intel8x0 driver,Intel8x0-modem driver
    
    Remove xxx_t typedefs from the PCI Intel8x0 and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a5f22156e03d40f1da24a1b19a8a84c4fb3208f2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:04:28 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI FM801
    
    Modules: FM801 driver
    
    Remove xxx_t typedefs from the PCI FM801 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 969165a8b5d9a5b3e3c205c312a13a1872844297
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:04:14 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ES1968
    
    Modules: ES1968 driver
    
    Remove xxx_t typedefs from the PCI ES1968 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e571f59436d1827b5f00f3fba90b30ad7a5ff01e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:04:01 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ES1938
    
    Modules: ES1938 driver
    
    Remove xxx_t typedefs from the PCI ES1938 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit eb3414b4652344972e86c85ce094cc4a780e1a55
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:03:46 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ENS137x
    
    Modules: ENS1370/1+ driver
    
    Remove xxx_t typedefs from the PCI ENS137x drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 93e35f956a1720eedcf95b8337dde25bde22d624
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:03:28 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI CS4281
    
    Modules: CS4281 driver
    
    Remove xxx_t typedefs from the PCI CS4281 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2cbdb686dd8df8d80742738ab50acfcfe9a95939
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:03:13 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI CMIPCI
    
    Modules: CMIPCI driver
    
    Remove xxx_t typedefs from the PCI CMIPCI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9f362dce9d6315fa24aab6290cb9628563160f75
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:02:58 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI BT87x
    
    Modules: BT87x driver
    
    Remove xxx_t typedefs from the PCI BT87x driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 95de77660bb54e603d32f2ce342ae16e6de1b2d4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:02:42 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI AZT3328
    
    Modules: AZT3328 driver
    
    Remove xxx_t typedefs from the PCI AZT3328 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 74ee4ff1e62d9798361763f152c6f07d491be819
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:02:23 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ATIIXP
    
    Modules: ATIIXP driver,ATIIXP-modem driver
    
    Remove xxx_t typedefs from the PCI ATIIXP and modem drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 17c39d9a59cbf4b3a51a2694134754fc1d3668e7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:02:01 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ALS4000
    
    Modules: ALS4000 driver
    
    Remove xxx_t typedefs from the PCI ALS4000 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 02c2de69d0bb0ed39b413188241beb4a29d05378
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:01:46 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI AD1889
    
    Modules: AD1889 driver
    
    Remove xxx_t typedefs from the PCI AD1889 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 10754f53450a2c2aababe69f20edd7d2077e588d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:01:29 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI NM256
    
    Modules: NM256 driver
    
    Remove xxx_t typedefs from the PCI NM256 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 67b48b880062ba1775f424c2dd2c68bc30ec180f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:01:08 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI miXart
    
    Modules: MIXART driver
    
    Remove xxx_t typedefs from the PCI miXart driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fcfd3332e3bf5f63116044c168110820996cd1fe
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:00:46 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI KORG1212
    
    Modules: KORG1212 driver
    
    Remove xxx_t typedefs from the PCI KORG1212 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ab0c7d72c32d703d1a2833ce2a1920cd3b46b131
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 15:00:18 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ICE1724
    
    Modules: ICE1724 driver,ICE1712 driver
    
    Remove xxx_t typedefs from the PCI ICE1724 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6ca308d4edd51c4f34ffff94ae0bbf193087d89f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:59:52 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ICE1712
    
    Modules: ICE1712 driver
    
    Remove xxx_t typedefs from the PCI ICE1712 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a98f90fd826913519c3f704ea24fb9bea1e0e494
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:59:02 2005 +0100

    [ALSA] Remove xxx_t typedefs: HDA-Intel
    
    Modules: HDA Intel driver
    
    Remove xxx_t typedefs from the HDA-Intel driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c8b6bf9b5ef1f595a65a3414a5ca2588e8d993b2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:57:47 2005 +0100

    [ALSA] Remove xxx_t typedefs: HD-Audio codec
    
    Modules: HDA Codec driver,HDA generic driver
    
    Remove xxx_t typedefs from the HD-Audio codec support codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 66f8df6bdd388d209c38197785148c994c8a738d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:56:21 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI CS5535
    
    Modules: CS5535 driver
    
    Remove xxx_t typedefs from the PCI CS5535 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d1fabd9cbc2f17b525a39adc16331443dddbb15b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:56:03 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI ALI5451
    
    Modules: ALI5451 driver
    
    Remove xxx_t typedefs from the PCI ALI5451 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e4a3d145455159955d6ac1df976b2ed2a135b858
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:55:40 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI CA0106
    
    Modules: CA0106 driver
    
    Remove xxx_t typedefs from the PCI CA0106 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2fd16874aa6322e8b61879a78f3b485999506833
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:55:19 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI AU88x0
    
    Modules: au88x0 driver
    
    Remove xxx_t typedefs from the PCI AU88x0 drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 208a1b4cb5ad97510aa9cbe51d09e55656691cb4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:53:41 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI YMFPCI
    
    Modules: YMFPCI driver
    
    Remove xxx_t typedefs from the PCI YMFPCI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bee1a5be8b6210a0a4e27e38d0f76847b0a014ae
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:53:15 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI Trident
    
    Modules: Trident driver
    
    Remove xxx_t typedefs from the PCI Trident driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit abfd67bd6fcc07b54d54e00a9105900f478323a6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:52:53 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI RME9652
    
    Modules: RME9652 driver
    
    Remove xxx_t typedefs from the PCI RME9652 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 98274f0701f9e6579ae493ac190227fe93d11e20
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:52:34 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI HDSP-MADI
    
    Modules: HDSPM driver,RME9652 driver
    
    Remove xxx_t typedefs from the PCI HDSP-MADI driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 55e957d8328ef1c75238b95033d8a61994b6adcc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:52:13 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI HDSP
    
    Modules: RME HDSP driver
    
    Remove xxx_t typedefs from the PCI HDSP driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4b32f1aae23f566e98fda140836023dd8275b5de
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:50:31 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI emu10k1x
    
    Modules: EMU10K1/EMU10K2 driver
    
    Remove xxx_t typedefs from the PCI emu10k1x driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit eb4698f347ec908c365504c4edddadd1acd406ea
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:50:13 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI emu10k1
    
    Modules: EMU10K1/EMU10K2 driver
    
    Remove xxx_t typedefs from the PCI emu10k1 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3d19f804ef5f1d15fe001fc8d1ed58fac9d591fb
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:48:14 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCI CS46xx
    
    Modules: CS46xx driver
    
    Remove xxx_t typedefs from the PCI CS46xx driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit af26367f69a474ed809e4a59abb5855b47daaff4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:46:59 2005 +0100

    [ALSA] Remove xxx_t typedefs: VXdriver
    
    Remove xxx_t typedefs from the VXdriver codes
    (vx_core support, vx222 and vxpocket).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9f38945fab04a0a0ea50880fa634f9bfa28f6226
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:44:47 2005 +0100

    [ALSA] Remove xxx_t typedefs: AK4531 codec
    
    Modules: AK4531 codec
    
    Remove xxx_t typedefs from the AK4531 codec support code.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 11ff5c62b1327cc7bdcfcf66b4b718495fea0043
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:42:36 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA SB/AD-clone
    
    Modules: ALS100 driver,AZT2320 driver,DT019x driver,Sound Galaxy driver
    
    Remove xxx_t typedefs from the ISA SB/AD-clone drivers
    (als100, azt2320, dt019x, sgalaxy).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit be6245373f46eb21839ba1b54c83bc7cc8274208
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:42:05 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA SoundScape
    
    Modules: Sound Scape driver
    
    Remove xxx_t typedefs from the ISA SoundScape driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ec6c5ae353fd9b1141da67094e125e75d031d740
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:41:45 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA OPL3SA2
    
    Modules: OPL3SA2 driver
    
    Remove xxx_t typedefs from the ISA OPL3SA2 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8047c910ff27811060e6983ac446ed5a0fe550c6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:41:22 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA ES18xx
    
    Modules: ES18xx driver
    
    Remove xxx_t typedefs from the ISA ES18xx driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e3561703723fcc2315f852cb85e80533a2c58e3e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:41:02 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA CMI8330
    
    Modules: CMI8330 driver
    
    Remove xxx_t typedefs from the ISA CMI8330 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 542172f31d41e689988aedcf0d6e67dfe757736a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:39:06 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA Wavefront
    
    Modules: Wavefront drivers
    
    Remove xxx_t typedefs from the ISA Wavefront driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 346c7a689542285aef9b899eda7693d4b912d60d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:37:56 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA Opti9xx
    
    Modules: Opti9xx drivers
    
    Remove xxx_t typedefs from the ISA Opti 9xx drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5e2da20648e39a0e3cb33861499b686a6fe38112
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:36:44 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA GUS
    
    Remove xxx_t typedefs from the ISA GUS drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 029d64b0cfa30abc10f722e2f67d282abe09c9da
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:34:36 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA SB8/SB16/SBAWE
    
    Remove xxx_t typedefs from the ISA SB8/SB16/SBAWE drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d3a7e476740dc23588ea65fa0df1aacdf8e70003
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:31:42 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA ES1688
    
    Modules: ES1688 driver
    
    Remove xxx_t typedefs from the ISA ES1688 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ba2375a45c528fd902676ea01014ea0f8931464b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:30:42 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA CS423x
    
    Modules: CS4231 driver,CS4236+ driver
    
    Remove xxx_t typedefs from the ISA CS423x drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c8ff6647bb8a1865608b2d0c8565ca0ac47fb9b7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:29:37 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA AD1848
    
    Modules: AD1848 driver
    
    Remove xxx_t typedefs from the ISA AD1848 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cbdd0dd15f06a989c519089bb24023a5bfa66eaf
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:28:35 2005 +0100

    [ALSA] Remove xxx_t typedefs: ISA AD1816A
    
    Modules: AD1816A driver
    
    Remove xxx_t typedefs from the ISA AD1816A driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4a4d2cfd8cbca3076742547157ea135d0be77928
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:27:28 2005 +0100

    [ALSA] Remove xxx_t typedefs: Generic drivers
    
    Modules: Generic drivers
    
    Remove xxx_t typedefs from the generic drivers
    (dummy, mtpav, serial-u16550 and virmidi).
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 03da312ac080b4f5c9359c233b8812cc93a035fe
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:24:47 2005 +0100

    [ALSA] Remove xxx_t typedefs: Emu-X synth
    
    Modules: Common EMU synth,SoundFont,Synth
    
    Remove xxx_t typedefs from the Emu-X synth support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ee42381e71c56328db9e9d64d19a4de7a2f09a93
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:21:36 2005 +0100

    [ALSA] Remove xxx_t typedefs: AC97
    
    Modules: AC97 Codec
    
    Remove xxx_t typedefs from the AC97 codec support.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit dc4cafbadad1ae2322e598f2cb72720ef4095fee
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:19:28 2005 +0100

    [ALSA] Remove xxx_t typedefs: I2C drivers
    
    Modules: AK4114 receiver,AK4117 receiver,AK4XXX AD/DA converters
    
    [Missing files in last commit]
    Remove xxx_t typedefs from the i2c drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 97f02e05f246a2346275c1c93a3079e8933e74b2
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:17:19 2005 +0100

    [ALSA] Remove xxx_t typedefs: I2C drivers
    
    Remove xxx_t typedefs from the i2c drivers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a42dd420bea7a5cd130162183d95f640c299a337
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:13:47 2005 +0100

    [ALSA] Remove xxx_t typedefs: OPL4
    
    Modules: OPL4
    
    Remove xxx_t typedefs from the OPL4 driver
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 5b1646a8eceff0a4ff06f309abb6e7f43f99a498
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:13:14 2005 +0100

    [ALSA] Remove xxx_t typedefs: OPL3
    
    Modules: OPL3,Raw OPL FM
    
    Remove xxx_t typedefs from the OPL3 driver
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e1fad17bb4084dc7c435360185417aed55656ec8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:12:45 2005 +0100

    [ALSA] Remove xxx_t typedefs: MPU401
    
    Modules: MPU401 UART
    
    Remove xxx_t typedefs from the MPU401-UART and MPU401 drivers
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 87e1f0e2b206eaf8265997a8d0cb7126ea11c844
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:08:02 2005 +0100

    [ALSA] Backward-compatibility typedefs
    
    Modules: ALSA Core
    
    Backward-compatibility typedefs are stored in the new header, typedefs.h,
    for out-of-tree drivers.  This will be removed in future.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 080dece3460b534bedc4ef4ba3abaa57e9486331
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:05:16 2005 +0100

    [ALSA] Remove xxx_t typedefs: Sequencer OSS-emulation
    
    Modules: ALSA<-OSS sequencer,ALSA sequencer
    
    Remove xxx_t typedefs from the core sequencer OSS-emulation codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 19ac31e82cc7328c01bf26f824f33c7c38cb6075
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:04:44 2005 +0100

    [ALSA] Remove xxx_t typedefs: Instrument layer
    
    Modules: Instrument layer
    
    Remove xxx_t typedefs from the core instrument layer codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c7e0b5bf9fff1b726495081447c107a2333fb82c
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:04:02 2005 +0100

    [ALSA] Remove xxx_t typedefs: Sequencer
    
    Modules: ALSA sequencer
    
    Remove xxx_t typedefs from the core sequencer codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6ac77bc180fbd985988015020c2e2347e802959d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:01:49 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCM OSS-emulation
    
    Modules: ALSA<-OSS emulation
    
    Remove xxx_t typedefs from the core PCM OSS-emulation codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f956b4a3ae790e1bdde865ac42dd1b99b64a6256
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:01:22 2005 +0100

    [ALSA] Remove xxx_t typedefs: Mixer OSS-emulation
    
    Modules: ALSA<-OSS emulation
    
    Remove xxx_t typedefs from the core mixer OSS-emulation codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 174c1f65e5b81f616a5b5c8e41fc2b5eeb7a71af
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 14:00:19 2005 +0100

    [ALSA] Remove xxx_t typedefs: OSS-emulation
    
    Modules: ALSA Core
    
    Remove xxx_t typedefs from the core OSS-emulation codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 877211f5e1b1196179ba1290e8e1a3dc00427c55
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:59:38 2005 +0100

    [ALSA] Remove xxx_t typedefs: PCM
    
    Modules: PCM Midlevel
    
    Remove xxx_t typedefs from the core PCM codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 24c1f93188b4438c7f30df5b4cd78340cdb28daf
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:58:48 2005 +0100

    [ALSA] Remove xxx_t typedefs: Proc handler
    
    Modules: ALSA Core
    
    Remove xxx_t typedefs from the core proc handler codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d9a98de218ce18befabb5782c43cb4a2766b4b02
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:58:21 2005 +0100

    [ALSA] Remove xxx_t typedefs: Hwdep
    
    Modules: HWDEP Midlevel
    
    Remove xxx_t typedefs from the core hwdep codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 48c9d417d7269da2a2da5b602fcb5fdbee36305e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:56:51 2005 +0100

    [ALSA] Remove xxx_t typedefs: Raw MIDI
    
    Modules: RawMidi Midlevel
    
    Remove xxx_t typedefs from the core raw MIDI codes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 53d2f744afc1fcb4fb68975a443fb66eb6c44da4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:56:05 2005 +0100

    [ALSA] Remove xxx_t typedefs: Timer
    
    Modules: RTC timer driver,Timer Midlevel
    
    Remove xxx_t typedefs from the core timer.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 82e9bae6fd253af4aea9c690223c7800313632ad
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:53:23 2005 +0100

    [ALSA] Remove xxx_t typedefs: Controls
    
    Modules: Control Midlevel
    
    Remove xxx_t typedefs from the core controls.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 512bbd6a85230f16389f0dd51925472e72fc8a91
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 13:51:18 2005 +0100

    [ALSA] Remove xxx_t typedefs: Core component
    
    Modules: ALSA Core
    
    Remove xxx_t typedefs from the core component.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3f05f868f1112b970e7fb9c0aa42cc99370098fe
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:12:06 2005 +0100

    [ALSA] nm256 - Code clean up
    
    Modules: NM256 driver
    
    Clean up snd-nm256 driver code:
    
    - Simplify chip constructor function
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8d88bc3d361bdd81a214eb9c5d06b291d06c603a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:09:23 2005 +0100

    [ALSA] hda-codec - Fix assignment of speaker pin
    
    Modules: HDA Codec driver,HDA generic driver
    
    Fix the auto-assignment of speaker pin.  Handle it independently from
    line-out pins.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a2a20939b1cc82222eb67a4631009338791f1acd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:08:23 2005 +0100

    [ALSA] hda-codec - Fix a typo
    
    Modules: HDA Codec driver
    
    Fix a typo in hda_codec.h.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9f146bb6e68610ab2b62c76e7485900545515613
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:07:49 2005 +0100

    [ALSA] hda-codec - Prepare unsol workqueue on demand
    
    Modules: HDA Codec driver
    
    Prepare unsol workqueue only when a codec really supports.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d2a6d7dc757da6b57d77bd8b460cf4faa9fd152d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:06:29 2005 +0100

    [ALSA] hda-codec - Add channel-mode helper
    
    Modules: HDA Codec driver,HDA generic driver
    
    Add common channel-mode helper functions for all codec patches.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 59de641ca37b88dd34d0e1d853800b488f642624
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:05:34 2005 +0100

    [ALSA] Small update of Procfile.txt
    
    Modules: Documentation
    
    Small update of Procfile.txt for hda and usb proc files.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 10e4097fb47b57d095204d3fad10b25e3b4d42a3
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 11:04:55 2005 +0100

    [ALSA] [Trivial] Fix ac97_quirk option in document
    
    Modules: Documentation
    
    Fix a wrong option value for ac97_quirk option in the document.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit ba7301c7d985d206a5688c69d0a74de3988f6d6c
Author: Andreas Mohr <andi@lisas.de>
Date:   Thu Nov 17 11:03:31 2005 +0100

    [ALSA] ALS4000 update
    
    Modules: SB drivers,ALS4000 driver
    
    some update for the ALS4000 driver (tested with hardware in my PC):
    
    - use common control names according to ControlNames.txt
    - add some controls (Master Mono, 3D control)
    - optimize struct snd_card_als4000_t layout (performance/size)
    - save some bytes via unified error path
    - constify some read-only data
    - add ToDo list
    - move GPL license text to top
    - add comments
    
    Signed-off-by: Andreas Mohr <andi@lisas.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a57d15158113cb7f10e662e6df07f445c986a12d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:50:13 2005 +0100

    [ALSA] emux - Avoid cast of function pointers
    
    Modules: Common EMU synth
    
    Pass the proper functions instead of cast of function pointers, which
    can be dangerous with compiler optimizations.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cb432379eff40d5656ca9f24afc435b4df353d13
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:48:52 2005 +0100

    [ALSA] usx2y - Code clean up
    
    Modules: USB USX2Y
    
    Clean up snd-usb-usx2y driver code:
    
    - Avoid unnecessary cast
    - Fix spaces/indents
    - Use kzalloc()
    - Remove weird debug prints
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9fd9156c6b0dfb8630f68d11dc48a3e824aa64e6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:45:48 2005 +0100

    [ALSA] korg1212 - Clean up debug prints
    
    Modules: KORG1212 driver
    
    Clean up debug prints in korg1212 driver.
    Also, clean up spaces/indents in some places.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e017fa5772cd2536b2b2fb210f5a6e86cceaa633
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:44:51 2005 +0100

    [ALSA] emu10k1 - Minor clean up of memory block handling
    
    Modules: EMU10K1/EMU10K2 driver
    
    Minor clean up of emu10k1 memory block allocation.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 89173bd41439bc6304e3e20f742e52266208ccad
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:43:53 2005 +0100

    [ALSA] emu10k1x - Minor clean up
    
    Modules: EMU10K1/EMU10K2 driver
    
    Minor clean up of the emu10k1x interrupt handler code.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b9b4bdd9f1c98388f13591608d574650a9873717
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:42:40 2005 +0100

    [ALSA] ac97 - Remove ac9_enum definition from public header
    
    Modules: AC97 Codec
    
    Remove the definition of ac97_enum struct from the public ac97_codec.h.
    It's used only in the module.
    
    The location of struct ac97_pcm is moved closer to its accessor
    to improve readability.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 95a98265eb7b112b3268761053d643635171e219
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:40:18 2005 +0100

    [ALSA] ca0106 - Code clean up
    
    Modules: CA0106 driver
    
    Clean up snd-ca0106 driver code:
    
    - Fix spaces and indents
    - Remove unnecessary spinlocks
    - Clean up the mixer callbacks using private_value
    - Clean up mixer constructors using an array
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 954bea35571461b083390a82b03f077f901fe678
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:37:40 2005 +0100

    [ALSA] intel8x0 - Clean up delay function
    
    Modules: Intel8x0 driver,Intel8x0-modem driver
    
    Remove superfluous delay macro.
    Call appropriate functions directly.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c9a49bb1957f45e0146c17a865f1444fd06c0f97
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:36:57 2005 +0100

    [ALSA] cs4281 - Clean up delay function
    
    Modules: CS4281 driver
    
    Remove the own delay function.
    Call appropriate functions directly.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bfdcbace6c76cab54f1651349816dc35cc8f12b8
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:35:53 2005 +0100

    [ALSA] Remove superfluous macros
    
    Modules: ATIIXP driver,ATIIXP-modem driver
    
    Remove superfluous macros for delay.
    Call appropriate functions directly.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 03f9ae2505cf2f5d56c197b4045ed9dba5ce8912
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:34:40 2005 +0100

    [ALSA] harmony - Code clean up
    
    Modules: PARISC Harmony driver
    
    Clean up snd-harmony driver code:
    
    - Give standard module options
    - Fix spinlocks
    - Fix the error path of request_irq()
    - Clean up redundant codes
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 33ea25c113a7d63645b10ed89851e08f7c984d1a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:32:43 2005 +0100

    [ALSA] au1x00 - Code clean up
    
    Modules: MIPS AU1x00 driver
    
    Clean up snd-au1x00 driver code:
    
    - Remove global variables
    - Remove old compatibility codes
    - Fix DMA-link allocation/release functions in hw_params and hw_free
      callbacks (they may be called multiple times)
    - Fix spinlocks
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6560c349c501388a1f3030d02fb49e7067e6597e
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:29:33 2005 +0100

    [ALSA] Clean up includes in asound.h & asequencer.h
    
    Modules: ALSA sequencer,ALSA Core
    
    Clean up includes in asound.h and asequencer.h.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bc1ff7fc0ae6ec2d7f2202d9126901aeb3f596cd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:28:15 2005 +0100

    [ALSA] [Trivial] Fix spaces in gus.h
    
    Modules: GUS Library
    
    Fix spaces in gus.h.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f739aeccedc7681a249bdae435e9af3e5476ad1d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:27:08 2005 +0100

    [ALSA] Clean up ISA cs4231 code
    
    Modules: CS4231 driver
    
    Clean up ISA cs4231 code, removing experimental EBUS/SBUS merge,
    to improve readability.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 0948e3c8bb187b3dea38be1e1ffd1797866014f1
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:25:22 2005 +0100

    [ALSA] Clean up sa11xx-uda1341 driver
    
    Modules: SA11xx UDA1341 driver,L3 drivers,UDA1341
    
    Clean up sa11xx-uda1341 driver:
    
    - Fix buggy destructor
    - Remove the global variable
    - Move array definitions from uda1341.h
    - Make functions in uda1341.c static
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c8714ba160a498e249dbd32c637b85a1efa1013b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:22:32 2005 +0100

    [ALSA] Remove tea6330t struct definition from public header
    
    Modules: I2C tea6330t
    
    Remove tea6330t struct definition from public header.
    It's anyway unaccessible from outside.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit bdbae7e62837c22c5399df0789a24e9d8a1d675f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:21:19 2005 +0100

    [ALSA] Remove snd_vx_delay() function
    
    Replace snd_vx_delay() with appropriate delay/sleep functions.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c8eb6ba16a5803fab9cc0d1d0dd04a75bf91b6d5
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:20:23 2005 +0100

    [ALSA] snd-dummy - Code clean-up
    
    Modules: Generic drivers
    
    Clean up snd-dummy driver code.
    - Make common PCM callbacks
    - Simplify open callback
    - Remove unnecessary irqsave in control callbacks
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 47eaebfd31610d2a55fbaccd1e7c37690d42ce30
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:18:00 2005 +0100

    [ALSA] Use standard bitmap functions
    
    Modules: ALSA<-OSS emulation
    
    Use standard bitmap functions instead of in-house ones.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 230b5c1a612ae903c560b55a15df287b0ff437ea
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:17:05 2005 +0100

    [ALSA] Sort Kconfig entries
    
    Modules: ISA,PCI drivers
    
    Sort Kconfig entries in alphabetical order.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 3e8731740e17f01ec1ecce556ccdc4c42279ce1b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Nov 17 10:15:37 2005 +0100

    [ALSA] Minor clean up and fixes for CS5535 audio driver
    
    Modules: Documentation,CS5535 driver
    
    Minor clean up and fixes for CS5535 audio driver.
    Added an entry in ALSA-Configuration.txt, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9b4ffa48ae855c8657a36014c5b0243ff69f4722
Author: Jaya Kumar <jayakumar.alsa@gmail.com>
Date:   Thu Nov 17 10:12:23 2005 +0100

    [ALSA] Add support for the CS5535 Audio device
    
    Add support for the CS5535 Audio device.  I've fixed up some errors as per
    Takashi's advice from the thread:
    
    http://lkml.org/lkml/2005/9/15/119
    
     From: Alan Cox <alan@lxorguk.ukuu.org.uk>
    
            cs5535 is a 32bit x86 only device using weird CPU features
    
    Signed-off-by: Jaya Kumar <jayakumar.alsa@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c3e6f7d8763fa0400d28c57633eb323515ba05fc
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Nov 16 18:43:35 2005 +0100

    [ALSA] Remove superfluous pcm_free callbacks
    
    Remove superflous pcm_free callbacks.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f31a31b9024f21b2ad8f5a7c30e265a652e2e211
Author: Kurt J. Bosch <kjb-temp-2005@gmx.de>
Date:   Wed Nov 16 18:41:21 2005 +0100

    [ALSA] Fix missing suspend/resume-code for ens1371
    
    Modules: ENS1370/1+ driver
    
    This patch fixes missing suspend/resume-code for snd-ens1371
    (but not for snd-ens1370)
    
    Signed-off-by: Kurt J. Bosch <kjb-temp-2005@gmx.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 26741b5512a99ee35f398ef018d23a38e8dc6e8a
Author: Daniel Mueller <daniel.mueller@siemens.com>
Date:   Mon Nov 14 17:40:44 2005 +0100

    [ALSA] hda-codec - Fix HDA sound and V.92 modem for notebook Siemens FieldPG-M
    
    Modules: HDA Codec driver
    
    The patch fixes the problem of mute onboard HDA sound output,
    buildin V.92 modem idendification and functionality.
    
    Signed-off-by: Daniel Mueller <daniel.mueller@siemens.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b4a621f547ce78d6a415b3be2febd29b55e3235c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Nov 14 08:48:59 2005 +0100

    [ALSA] ac97 - procfs - print PCI subsystem vendor/device values
    
    Modules: AC97 Codec
    
    For debugging and problem finding purposes, show also the PCI subsystem
    vendor/device values in the ac97#X proc file.
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 6ef7e8614c03f90ecb924938f5cc074af2723d35
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Fri Nov 11 23:45:23 2005 +0100

    [ALSA] snd-emu10k1: Found some new registers to display in debug mode.
    
    Modules: EMU10K1/EMU10K2 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit e2b15f8f7dfc7a60ab89162502732120792a644f
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Fri Nov 11 23:39:05 2005 +0100

    [ALSA] snd-emu10k1: Attenuate output volume to reduce distortion
    
    Modules: EMU10K1/EMU10K2 driver
    
                          on Audigy 2 ZS Notebook.
    
    Set the master volume to about 6 or 8% in alsamixer. This will
    attenuate the output enough for better sound quality.
    Note: Only stereo enabled at present.
    The distortion is caused by the output path after the DSP
    adding 12dB gain to the output while still in digital mode,
    resulting in wrap around distortion.
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 755e137138007200c3e2549fbd8390a4e7708ed9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Nov 11 21:05:27 2005 +0100

    [ALSA] ali5451 - Fix and clean up codec accessor
    
    Modules: ALI5451 driver
    
    Fix the codec accessors to avoid soft lockup.
    Spin locks are revised, too.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fd6715e564a53bc3fca22e4f0a9d76b6b72afdb5
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Nov 10 07:51:31 2005 +0100

    [ALSA] ice1724 (juli) - forced analog doughter board detection
    
    Modules: ICE1712 driver
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit c1b8f5f0e4aabd4b47648dd9465fb750e07da9fb
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Nov 8 17:44:37 2005 +0100

    [ALSA] via82xx - Add dxs entry for MSI KT800 Delta-FSR
    
    Modules: VIA82xx driver
    
    Added the dxs entry for MSI KT800 Delta-FSR.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f6f8bb642350dafc21676ccd4fab333282064b8d
Author: Lee Revell <rlrevell@joe-job.com>
Date:   Mon Nov 7 14:59:19 2005 +0100

    [ALSA] Add support for Audigy 2 subsystem 2006
    
    Modules: EMU10K1/EMU10K2 driver
    
    Add support for Audigy 2 subsystem 2006.
    
    Signed-off-by: Lee Revell <rlrevell@joe-job.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2f020aa71197eddef749ad6202ca5a66c0c6e382
Author: Lee Revell <rlrevell@joe-job.com>
Date:   Mon Nov 7 14:54:24 2005 +0100

    [ALSA] emu10k1 - Enable side surround channels for Audigy2 EX
    
    Modules: EMU10K1/EMU10K2 driver
    
    Enable side surround channels for Audigy2 EX.  Tested by Rick Wright
    <riwright@vt.edu>.
    
    Signed-off-by: Lee Revell <rlrevell@joe-job.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 362775e2125b74cd04f83fd4ef5b72ef1ee6d3a1
Author: Randy Dunlap <randy_d_dunlap@linux.intel.com>
Date:   Mon Nov 7 14:43:23 2005 +0100

    [ALSA] sound/hda: rate-limit timeout message
    
    Modules: HDA Intel driver
    
    Rate-limit the azx_get_response timeout message.  A continuous 2 per second
    is too much.
    
    Signed-off-by: Randy Dunlap <randy_d_dunlap@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d031166fecac97fc6b5c35636deace8a3c9ec5f6
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Nov 7 14:38:44 2005 +0100

    [ALSA] hda-codec - Allocate amp hash array dynamically
    
    Modules: HDA Codec driver
    
    Allocate amp hash array dynamically instead of static array.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit febf7ea4bedcd36fba0843db726bba28d22bf89a
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Jan 3 11:35:26 2006 +0100

    gitignore: ignore more generated files
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 97f2aab6698f3ab2552c41c1024a65ffd0763a6d
Merge: d985c10... 8802684...
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Tue Jan 3 18:18:01 2006 +1100

    drm: merge in Linus mainline

commit d985c1088146607532093d9eaaaf99758f6a4d21
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 21:32:48 2006 +1100

    drm: major update from CVS for radeon and core
    
    This patch pull in a lot of changes from CVS to the main core DRM,
    and updates the radeon driver to 1.21.0 that supports r300 texrect
    and radeon card type ioctl.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b0cae664ebc85f2431c5a7c9e192a2a2ef72ecc7
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 21:23:07 2006 +1100

    drm: update drm pci ids list
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit fe34765be1ee9465b10406e6e5dddbd43ddc4fbe
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 21:19:39 2006 +1100

    drm: drm_ioctl.c sync with fixes from CVS
    
    Apply the fixes from CVS that were outstanding for this file
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b3a80a223d5f1af1e1713383376e5472cec4e20c
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 21:15:01 2006 +1100

    drm: update lock flags from userspace
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 0d6aa60b4ac9689b750e35cd66f5d7c053aff0f4
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 20:14:23 2006 +1100

    drm: update to i915 1.3.0
    
    Add support for vblank ioctls to i915 driver
    
    From: Dave Airlie <airlied@linux.ie>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit f0c408b564ddefa0959ada4e2c2248f4a57f1842
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 19:52:09 2006 +1100

    drm: update drm_memory_debug.h
    
    Update from DRM CVS for drm memory debug
    
    From: Jon Smirl <jonsmirl@gmail.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 1e7d51902a8bd08e37113aaf182d12233b157151
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 19:25:35 2006 +1100

    drm: proper fix for drm_context
    
    Bad patch in last version
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b5e9fc13dd0f25a2f422000c185f491bfd4f7335
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 19:23:44 2006 +1100

    drm: fix issue with contexts running out of RAM
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit f26c473cdf557ea6e8f267d34eee82d30473a363
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 17:18:39 2006 +1100

    drm: update PCIGART support from CVS
    
    In order to work on FreeBSD the gart needed to use a local mapping
    This patch moves the mainline to the new code and aligns some comment
    changes
    
    From: Eric Anholt <anholt@freebsd.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 0a406877e638a6f43ed4591bb08d528415d7d53a
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 16:49:02 2006 +1100

    drm: remove old reclaim_buffers from ix0 drivers
    
    From: Dave Airlie <airlied@linux.ie>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 269dc51296f4e985741d2fd567e7be4e7a0a9f29
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 16:23:01 2006 +1100

    drm: bring savage inline with latest CVS
    
    apply some whitespace cleanup and add wrappers for MTRR for OS calls
    
    From: Eric Anholt <anholt@freebsd.org> + Dave Airlie <airlied@linux.ie>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 3528af1b189d0fbb4c7a3f121f46d9987b9af5b6
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 16:11:44 2006 +1100

    drm: fix a LOR issue on FreeBSD for savage driver
    
    Correct a LOR issue on FreeBSD by allocating temporary space and doing a single
    DRM_COPY_FROM_USER rather than DRM_VERIFYAREA_READ followed by tons of
    DRM_COPY_FROM_USER_UNCHECKED.  I don't like the look of the temporary space
    allocation, but I like the simplification in the rest of the file.  Tested
    with glxgears, tuxracer, and q3 on a savage4.
    
    From: Eric Anholt <anholt@freebsd.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 952d751a140e961f7ac67f743cf94d1a37c736e8
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 14:44:12 2006 +1100

    drm: bring sis + tdfx up to latest CVS
    
    Cleanup SIS + TDFX drivers with latest changes from CVS.
    
    From: Eric Anholt <anholt@freebsd.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 443448d05468277abe99c9b24b9df538dd840f35
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 14:26:20 2006 +1100

    drm: via driver update to CVS version
    
    This updates the DRM via driver to the latest CVS version, which contains
    support for DMA blitting.
    
    It also contains some whitespace and other minor fixes
    
    From: Thomas Hellstrom <unichrome@shipmail.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit a7a2cc315c8a5e51b08538d102ec3229c966ac87
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Jan 2 13:54:04 2006 +1100

    drm: move ioctl flags to a bit field of flags
    
    From: Dave Airlie
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 00213b17cec87d2cd4df75bcc79aea7a91d8532d
Author: Petr Baudis <pasky@ucw.cz>
Date:   Thu Dec 22 04:44:04 2005 +0100

    kconfig: Remove support for lxdialog --checklist
    
    Remove support for lxdialog --checklist
    
    The checklist lxdialog functionality is not used by menuconfig
    (only the radiolist variant is used) and supporting it would
    significantly complicate the forthcoming liblxdialog API.
    
    Signed-off-by: Petr Baudis <pasky@suse.cz>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 352dd1df32e672be4cff71132eb9c06a257872fe
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Tue Dec 27 23:43:31 2005 -0500

    gitignore: misc files
    
    Ignore all files generated from *_shipped files, plus a few others.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 02959a875caec8cabd36111046ad537251ef405f
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Tue Dec 27 23:39:51 2005 -0500

    gitignore: x86_64 files
    
    Add filters for x86_64 generated files.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 42f122c8f7e7134c824907358a5df94cfa38946d
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Tue Dec 27 23:19:04 2005 -0500

    gitignore: asm-offsets.h
    
    Ignore asm-offsets.h for all arches.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 6073aa643f52fd12b02f0532dc96287f4c3293b5
Author: Jan-Benedict Glaw <jbglaw@lug-owl.de>
Date:   Sun Jan 1 14:23:47 2006 +0100

    kbuild: tar-pkg with out-out-tree building
    
    Fix out-of-tree builds for the tar-pkg targets
    
    When I wrote the buildtar script, I didn't even think about
    out-of-tree builds because I didn't use these back then. This patch
    throughoutly uses ${objtree} instead of `pwd`.
    
    Also, the kernel version is no longer manually built. Instead, it will
    properly use $KERNELRELEASE .  Installing modules is only done if
    CONFIG_MODULES is set.
    
    Signed-off-by: Jan-Benedict Glaw <jbglaw@lug-owl.de>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit fdf7f2e91981938702ab2f58f44dc5685dd1bdc1
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Dec 31 10:29:42 2005 -0800

    [CIFS] Fix typos in rfc1002pdu.h
    
    Pointed out by Leo Comitale
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit eea60caef610c7a6c58c0de9c80ae1e438e01301
Merge: da8543e... 82c9df8...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Dec 31 10:27:22 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 04348e69e7e78ad69a09b2e1157f628d6c764370
Author: Len Brown <len.brown@intel.com>
Date:   Fri Dec 30 02:44:59 2005 -0500

    [ACPI] reduce kernel size: move 5BK .bss to 2.5KB .init.data
    
    put __initdata on sdt_entry[], as it is accessed only by __init functions.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=1311
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit c1a959d8ef4e343f11c8c0f9a693815b6dc76886
Merge: 6968e50... 9e625ff...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Dec 30 00:35:53 2005 -0500

    Pull linus into release branch

commit 6968e50c2b53805219618203db3d98566dfa1fdd
Author: Len Brown <len.brown@intel.com>
Date:   Fri Dec 30 00:32:49 2005 -0500

    [ACPI] linux-acpi@vger.kernel.org replaces acpi-devel@lists.sourceforge.net
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit b697b5372ecfe0c57ee26e0c3787fc2306109228
Author: Karol Kozimor <sziwan@hell.org.pl>
Date:   Thu Dec 22 12:42:00 2005 -0500

    [ASUS_ACPI] work around Samsung P30s oops
    
    The code used to rely on a certain method to return a NULL buffer, which
    is now hardly possible with the implicit return code on by default. This
    sort of fixes bugs #5067 and #5092 for now.
    
    Note: this patch makes the driver unusable on said machines (and on said
    machines only) iff acpi=strict is specified, but it seems noone really uses
    that.
    
    Signed-off-by: Karol Kozimor <sziwan@hell.org.pl>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 0a5296dc34593e08c9e54b60e8f93684efff2f92
Merge: 41c0d86... 3603bc8...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 28 23:43:17 2005 -0500

    Pull linus into release branch

commit 41c0d8680f7f24e1abaaeeabc6723277b2e34b81
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 28 12:43:51 2005 -0500

    [ACPI] document processor.nocst parameter
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 3173cdfe02995f6c6841a28b5148f94cefd8ab77
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 28 03:20:03 2005 -0500

    [ACPI] fix osl.c build warning
    
    typecheck complains on i386 that u32 != unsigned long
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit defba1d8f233c0d5cf3e1ea6aeb898eca7231860
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Dec 16 17:05:00 2005 -0500

    [ACPI] ACPICA 20051216
    
    Implemented optional support to allow unresolved names
    within ASL Package objects. A null object is inserted in
    the package when a named reference cannot be located in
    the current namespace. Enabled via the interpreter slack
    flag which Linux has enabled by default (acpi=strict
    to disable slack).  This should eliminate AE_NOT_FOUND
    exceptions seen on machines that contain such code.
    
    Implemented an optimization to the initialization
    sequence that can improve boot time. During ACPI device
    initialization, the _STA method is now run if and only
    if the _INI method exists. The _STA method is used to
    determine if the device is present; An _INI can only be
    run if _STA returns present, but it is a waste of time to
    run the _STA method if the _INI does not exist. (Prototype
    and assistance from Dong Wei)
    
    Implemented use of the C99 uintptr_t for the pointer
    casting macros if it is available in the current
    compiler. Otherwise, the default (void *) cast is used
    as before.
    
    Fixed some possible memory leaks found within the
    execution path of the Break, Continue, If, and CreateField
    operators. (Valery Podrezov)
    
    Fixed a problem introduced in the 20051202 release where
    an exception is generated during method execution if a
    control method attempts to declare another method.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit cb654695f6b912cef7cb3271665b6ee0d416124c
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 28 02:43:51 2005 -0500

    [ACPI] acpi_register_gsi() fix needed for ACPICA 20051021
    
    Use the #define for ACPI_LEVEL_SENSITIVE instead of assuming
    non-zero, because ACPICA 20051021 changes its value to zero.
    
    Also, use uniform variable names:
    edge_level -> triggering
    active_high_low -> polarity
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit e7c3aad53dba54d375b632f2a21b680546828dec
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 28 01:26:24 2005 -0500

    Input: wistron - convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away,
    implement ->probe() and ->remove() functions so manual binding and
    unbinding would work.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 9d6c25029db6de7fc375b07da936c3341af0accf
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 28 01:25:53 2005 -0500

    Input: maceps2 - convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away,
    implement ->probe() and ->remove() functions so manual binding and
    unbinding will work with this driver.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 26421c7acc02847c724eb9f92797f84dbf9be007
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 28 01:25:42 2005 -0500

    Input: q40kbd - convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away,
    implement ->probe() and ->remove() functions so manual binding and
    unbinding will work with this driver.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 916d83cfe5da1cda454d8b0ae233f06b58bd7f91
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 28 01:25:30 2005 -0500

    Input: ct82c710 - convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away,
    implement ->probe() and ->remove() functions so manual binding and
    unbinding will work with this driver.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 87fd6318a6c381ba1e10a4f56907d11ae4a987b9
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 28 01:25:11 2005 -0500

    Input: i8042 - convert to the new platform device interface
    
    Do not use platform_device_register_simple() as it is going away,
    implement ->probe() and ->remove() functions so manual binding and
    unbinding will work with this driver.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 752625cff3eba81cbc886988d5b420064c033948
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Dec 26 23:34:03 2005 +0100

    kbuild: always run 'make silentoldconfig' when tree is cleaned
    
    If the file .kconfig.d is missing then make sure to run
    'make silentoldconfig', since we have no way to detect if
    a Kconfig file has been updated.
    
    -kconfig.d is created by kconfig and is removed as part
    of 'make clean' so the situation is likely to occur in reality.
    
    Jan Beulich <JBeulich@novell.com> reported this bug.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 54e08a2392e99ba9e48ce1060e0b52a39118419c
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Mon Dec 26 02:47:18 2005 +0100

    kbuild: tags file generation fixup
    
    Here is a fixup for tags file generation, for proper tags of
    __releases/__acquires functions.
    
    Signed-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 0d5416433190ee80a8146137dd84613bb9c7ae92
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Dec 26 23:04:02 2005 +0100

    kbuild: remove EXPERIMENTAL tag from Module versioning
    
    Module versioning support has been stable for a loong time
    so let's get rid of the EXPERIMENTAL tag.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit c40f56409d01f6f1ea80ed4c229096749c2335df
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Dec 26 22:53:25 2005 +0100

    kbuild: Create _shipped files for genksyms
    
    Generate _shipped files so the genksyms change in previous commit is enabled.
    The files are generated with latest versions of the tools:
    
    bison (GNU Bison) 2.0
    flex version 2.5.4
    GNU gperf 3.0.1
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit a89a0a2354ae666612968e254d650bfd04f11eb6
Author: Robin Holt <holt@sgi.com>
Date:   Tue Dec 20 19:45:50 2005 -0600

    kbuild: Fix genksyms handling of DEFINE_PER_CPU(struct foo_s *, bar);
    
    This is a one-line change to parse.y.
    To take advantage of this the scripts/genksyms/*_shipped files needs to
    be rebuild - this is the next patch.
    
    When a .c file contains:
    DEFINE_PER_CPU(struct foo_s *, bar);
    
    the .cpp output looks like:
    __attribute__((__section__(".data.percpu"))) __typeof__(struct foo_s *) per_cpu__bar;
    
    With the existing parse.y, the value inside the paranthesis of
    __typeof__() does not evaluate as a type_specifier and therefore
    per_cpu__bar does not get assigned a type for genksyms which results in
    the EXPORT_PER_CPU_SYMBOL() not generating a CRC value.
    
    I have compared the Modules.symvers with and without this
    patch and for ia64's defconfig, the only change is:
    Before 0x00000000    per_cpu____sn_nodepda   vmlinux
    After  0x9d3f3faa    per_cpu____sn_nodepda   vmlinux
    
    per_cpu____sn_nodepda was the original source of my problems.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit f83b5e323f57d6e1f35a839d663e91cebe985e54
Author: Ustyugov Roman <dr_unique@ymg.ru>
Date:   Fri Sep 23 08:42:11 2005 +0400

    kbuild: set correct KBUILD_MODNAME when using well known kernel symbols as module names
    
    This patch fixes a problem when we use well known kernel symbols as module
    names.
    
    For example, if module source name is current.c, idle_stack.c or etc.,
    we have a bad KBUILD_MODNAME value.
    For example, KBUILD_MODNAME will be "get_current()" instead of "current", or
    "(init_thread_union.stack)" instead of "idle_task".
    
    The trick is to define a stringify macro on the commandline - named
    KBUILD_STR for namespace reasons - and then to stringify the module
    name.
    
    There are a few uses of KBUILD_MODNAME throughout the tree but the usage
    is for debug and will not be harmed by this change so left untouched for now.
    
    While at it KBUILD_BASENAME was changed too. Any spinlock usage in the
    unix module would have created wrong section names without it.
    Usage in spinlock.h fixed so it no longer stringify KBUILD_BASENAME.
    
    Original patch from Ustyogov Roman - all bugs introduced by me.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 4d99f93bdaa1ab49188cac67b4aae9180f8e3960
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Dec 25 23:21:14 2005 +0100

    kbuild: escape '#' in .target.cmd files
    
    Commandlines are contained in the .<target>.cmd files and in case they
    contain a '#' char make see this as start of comment.
    Teach fixdep to escape the '#' char so make will assing the full commandline.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit f6333eb4e788bf70d6455c9004b6b676df62c500
Author: John Kacur <jkacur@rogers.com>
Date:   Sat Oct 29 00:25:13 2005 -0400

    kbuild: Add ctags support for function prototypes and external variable declarations
    
    This patch adds function prototypes and external variable declarations
    to the set of tag kinds when running ctags. I find this useful when
    perusing the kernel. Please apply.
    
    Signed-off-by: John Kacur <jkacur@rogers.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 9572b28faf72859c6b91891c627870cfa282d19d
Author: Luke Yang <luke.adi@gmail.com>
Date:   Wed Dec 21 10:27:23 2005 +0800

    kbuild: Fix crc-error warning on modules
    
       This is the patch for the following issue:
    
     In include/linux/module.h, "__crc_" and "__ksymtab_" are hard
    coded to be the   prefix for some kinds of symbols (CRC symbol and
    ksymtab section). But in script /mod/modpost.c,
    MODULE_SYMBOL_PREFIX##"__crc_" is used as the prefix to search CRC
    symbols. So if an architecture (such as h8300 or Blackfin) defines
    MODULE_SYMBOL_PREFIX as not NULL ("_"), modpost will always warn about
    "no invalid crc".
      And it is the same with KSYMTAB_PFX.
    
    Signed-off-by: Luke Yang <luke.adi@gmail.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit c4c48d83e9ffb1c25cccd59d5ea9dda6ded01faf
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 20 15:08:10 2005 -0800

    [PATCH] sky2: version 0.11
    
    Version number change.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6e15b7124990e4b91645601e7a90d3fe72873336
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 20 15:08:09 2005 -0800

    [PATCH] sky2: handle hardware packet overrun
    
    It is possible for hardware to get confused when an oversized frame
    is received. In that case, just drop the packet and increment a counter.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6ed995bb29f042eece8392d9bae0b83f84bcdb23
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 20 15:08:08 2005 -0800

    [PATCH] sky2: don't lose multicast addresses
    
    Don't lose multicast addresses when link goes down or ring
    parameters change.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1b537565a85cbe5cc9d5174d348a9014381af718
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 20 15:08:07 2005 -0800

    [PATCH] sky2: handle out of memory on admin changes
    
    Don't die if we run out of memory on mtu or ring parameter change.
    For other admin operations, don't rebuild Rx ring, just restart the PHY.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit edd702e847fb8a9774a2ed8d50d2b8299b8c7f89
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Dec 15 12:18:00 2005 -0800

    [PATCH] skge: error handling on resume
    
    Also have to handle out of memory condition on resume.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b35de2eb389aa1889941ec3d02fff6d7a2569825
Author: Jens Osterkamp <Jens.Osterkamp@de.ibm.com>
Date:   Thu Dec 15 13:42:21 2005 +0100

    [PATCH] spidernet: fix Kconfig after BPA->CELL rename
    
    We changed the name of the Kconfig symbols along with
    the move to arch/powerpc. This one hunk got lost during
    the conversion.
    
    From: Jens.Osterkamp@de.ibm.com
    Cc: netdev@vger.kernel.org
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 26b7625c46d5d72570252d30fec6814682476684
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Dec 14 19:25:23 2005 -0800

    [PATCH] git-netdev-all: s2io warning fix
    
    drivers/net/s2io.c: In function `s2io_txdl_getskb':
    drivers/net/s2io.c:2023: warning: cast from pointer to integer of different size
    drivers/net/s2io.c: In function `s2io_open':
    drivers/net/s2io.c:3325: warning: long long unsigned int format, u64 arg (arg 3)
    drivers/net/s2io.c:3333: warning: long long unsigned int format, u64 arg (arg 3)
    drivers/net/s2io.c: In function `s2io_eeprom_test':
    drivers/net/s2io.c:4749: warning: long long unsigned int format, long unsigned int arg (arg 3)
    drivers/net/s2io.c:4749: warning: long long unsigned int format, u64 arg (arg 4)
    drivers/net/s2io.c:4768: warning: long long unsigned int format, long unsigned int arg (arg 3)
    drivers/net/s2io.c:4768: warning: long long unsigned int format, u64 arg (arg 4)
    
    I had to update this patch because more warnings have just appeared.
    
    You cannot print a u64 with %l or %ll.  You do not know what type the
    architecture is using.  It must be cast to a type which matches the printf
    control string - unsigned long long.
    
    The patch also fixes some overly-long strings.  Please try to keep the code
    looking neat in an 80-col window.
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: Ananda Raju <Ananda.Raju@neterion.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f15943f500c2d3edaee6b4c23dfd738715e74618
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:49 2005 -0800

    [PATCH] skge: version number (1.3)
    
    Enough changes for one version.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3b8bb472ad8eee6f42bc82647ff5d6d9bfe49e20
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:48 2005 -0800

    [PATCH] skge: handle out of memory on ring parameter change
    
    If changing ring parameters is unable to allocate memory, we need
    to return an error and take the device down.
    
    Fixes-bug: http://bugzilla.kernel.org/show_bug.cgi?id=5715
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2770b5172e9b3d135b16d1e5d8344919ac09319d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:47 2005 -0800

    [PATCH] skge: get rid of Yukon2 defines
    
    Don't need to keep Yukon-2 related definitions around for Skge
    driver that is only for Yukon-1 and Genesis.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7731a4ea1bbb7c9336bcdec8ef4050cf08a35268
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:46 2005 -0800

    [PATCH] skge: handle out of memory on MTU size changes
    
    Changing the MTU size causes the receiver to have to reallocate buffers.
    If this allocation fails, then we need to return an error, and take
    the device offline. It can then be brought back up or reconfigured
    for a smaller MTU.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e8df8554605f014765732605667145c0824a12b7
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:45 2005 -0800

    [PATCH] skge: avoid up/down on pause param changes
    
    Change the pause settings doesn't need to cause link to go down/up.
    It can be handled by the phy_reset code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee294dcda1d5dea5b909164cdc459a8483ee2983
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 15:47:44 2005 -0800

    [PATCH] skge: avoid up/down on speed changes
    
    Change the speed settings doesn't need to cause link to go down/up.
    It can be handled by doing the same logic as nway_reset.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit aa84505fb0fb9504c61d77e8e6930a417fc404d6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 14:38:44 2005 -0800

    [PATCH] chelsio: transmit routine return values
    
    The Chelsio driver does not return the correct values from
    the transmit routine. It works because the values don't conflict,
    but it is using the wrong defines. And -ENOMEM is not a legal return
    value.
    
    Since t1_sge_tx is only called in one place, making it static
    allows compiler to be potentially inline it.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit aaadff81195056c7c14e0d834b3318c624c0fd78
Merge: c6329f4... df7addb...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Dec 24 09:31:05 2005 -0500

    Merge branch 'master'

commit ebc62fb36ca40539fb08575f94c7da75d1b9db85
Merge: 418fbfe... df7addb...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Dec 24 09:28:21 2005 -0500

    Merge branch 'master'

commit 63c94b68ec30847a6e2b36651703f41066f91480
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Mon Dec 5 20:51:00 2005 -0500

    [ACPI] build EC driver on IA64
    
    Signed-off-by: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 8ea3694fcb7e5471cf84313a10e012b48e33c892
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 01:02:54 2005 -0500

    Input: logips2pp - add signature of MouseMan Wheel Mouse (87)
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit f5b64078d75528f36b78d30e945bb1b05cb05f26
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:52:35 2005 -0500

    Input: sparcspkr - register with driver core as a platfrom device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 1f75e6bdfa011c0c2afa65ed1585200a3bc92ddf
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:52:29 2005 -0500

    Input: m68kspkr - register with driver core as a platfrom device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 59317747359dbc26af920813b3df358333a3840c
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:52:22 2005 -0500

    Input: pcspkr - register with driver core as a platfrom device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 1f1a91e033f4ec60a70669e2e3e358d7e4f32495
Author: Daniele Gozzi <daniele.gozzi@gmail.com>
Date:   Wed Dec 21 00:52:10 2005 -0500

    Input: lifebook - add DMI signature of Fujitsu Lifebook B142
    
    This DMI data was found in Fujitsu LifeBook B142 (Product S/N
    FPC01003B, italian keyboard); re: bugzilla #5335
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 41293e5368d9ba9760935cf510d2631c257f2b74
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:52:00 2005 -0500

    Input: add help entry for FM801 gameport driver to Kconfig
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 4eb38ac0629716871591b594fe0c611b19613983
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:51:51 2005 -0500

    Input: i8042 - disable MUX mode for Sharp MM20
    
    Add yet another entry to the ever-growing list of boxes with
    non-working MUX implementation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit ba44995a1e84b6cebf32e61d9492e8e133d192ce
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Dec 21 00:51:31 2005 -0500

    Input: psmouse - don't leave mouse asleep
    
    It looks like quite a few mice out there treat PSMOUSE_RESET_DIS
    as a powerdown request and turn off the light rendering the mouse
    unusable.
    
    Vojtech recommended to switch from PSMOUSE_RESET_DIS to full reset,
    however we don't want to do that everywhere as full reset is pretty
    slow. Instead we only use it before probing for "generic" protocols,
    such as IntelliMouse and Explorer, to make sure that the mouse will
    be woken up if it went to sleep as a result of PSMOUSE_RESET_DIS
    issued earlier.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit f5e9c9ca54e31c0f629bae487eadaa5b8515b86d
Author: Larry Finger <Larry.Finger@lwfinger.net>
Date:   Wed Dec 21 00:51:13 2005 -0500

    Input: ALPS - add signature for HP ze1115
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e1e02c9f766e5cf20d951d35e6d2bc2683aa87ef
Author: Michael Hanselmann <linux-kernel@hansmi.ch>
Date:   Wed Dec 21 00:50:23 2005 -0500

    Input: appletouch - add support for Geyser 2
    
    This patch adds support for the Geyser 2 touchpads used on post Oct 2005
    Apple PowerBooks to the appletouch driver.
    
    Signed-off-by: Michael Hanselmann <linux-kernel@hansmi.ch>
    Acked-by: Rene Nussbaumer <linux-kernel@killerfox.forkbomb.ch>
    Acked-by: Johannes Berg <johannes@sipsolutions.net>
    Acked-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 041387d98460b3947587929ef3a4773b8c48538f
Merge: 56f0356... b05948d...
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Dec 20 23:03:50 2005 -0500

    Manual merge with Linus (conflict in drivers/input/misc/wistron_bnts.c)

commit c32017a43d552b78717160bf6aab2af8a7ff84c4
Author: Dave Jones <davej@redhat.com>
Date:   Tue Dec 20 14:46:07 2005 -0800

    [X86] Rename MTRR mutex to something more sensible.
    
    I spotted 'main_lock' whilst grovelling through a vmlinux with objdump.
    Even if it is static, it's a horrible name.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit f8a363b83f18356ebf0df0904fa4807ae48b21f2
Author: Dave Jones <davej@redhat.com>
Date:   Tue Dec 20 12:13:30 2005 -0800

    [X86] Remove Winchip 4 ID.
    
    This CPU never made it into production.  It went on to
    become the basis for the VIA Samuel.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 418fbfe979d96efc7b91f29b2085d51541c61f0b
Merge: 8b132f4... ff60dde...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Dec 19 00:09:53 2005 -0500

    Merge branch 'master'

commit 7b32b8e018d8f8cc94c808a5fa84a3f889441b91
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Fri Dec 16 21:11:37 2005 -0700

    [SCSI] Missing const in sr_vendor
    
    Fix compile warnings with current scsi-misc git tree
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9cc5d74c847dd3a9ea121b5bbca07bd5791c54ee
Author: Bodo Eggert <7eggert@gmx.de>
Date:   Wed Nov 23 20:11:34 2005 +0100

    kbuild: document INSTALL_MOD_PATH in 'make help'
    
    Signed-Off-By: Bodo Eggert <7eggert@gmx.de>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 98a1e444111c9fd3f7a2b55225f7febf4209c020
Author: Brian Strand <bstrand@switchmanagement.com>
Date:   Tue Nov 22 01:23:08 2005 +0000

    kbuild: patch to Documentation/kbuild/modules.txt
    
    First off, thanks for the kbuild docs, they are very useful!  Second,
    I've attached a patch to modules.txt (from 2.6.14.2) with a "compile"
    fix to a Makefile example, and some trivial spelling/grammar nits.
    Please let me know if you want the patch in some other format (eg not
    MIME), or if I should go bother someone else about it.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit cb1a7b4df7e2ffc7c97891e8f350ce5db50df3b9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Dec 14 00:26:07 2005 +0100

    [PATCH] kbuild: remove the deprecated check_gcc
    
    check_gcc has been deprecated for quite some time.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 6f6046cff2e8f04d6b916b10ebaa7b40d7e7967a
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Fri Dec 16 21:35:19 2005 +0100

    kconfig: move lxdialog to scripts/kconfig/lxdialog
    
    The only lxdialog user i kconfig - for menuconfig.
    So move it to reflect this.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 19c65091c133a98b20d867c94b1b1380a79e4b81
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Fri Dec 16 12:50:53 2005 -0500

    [SCSI] Merge sym53c8xx_comm.h and sym53c8xx_defs.h into ncr driver
    
    When the sym1 driver was in the tree, it used to share various parts of
    its infrastructure with the ncr driver.  Now it's gone, these files are
    just an annoyance, so merge sym53c8xx_comm.h into ncr53c8xx.c and merge
    sym53c8xx_defs.h into ncr53c8xx.h.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cd453c6353ea30171d966fd1dd87c37b05bccee1
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Fri Dec 16 12:50:53 2005 -0500

    [SCSI] Use spi_print_msg in ncr53c8xx driver
    
    The ncr53c8xx driver had its own loop to print scsi messages.  Use the
    SPI one instead.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8f23d475581adac949315e3339421e12554932c9
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Nov 29 16:24:52 2005 -0600

    [SCSI] 53c700: update endian processing macros
    
    This update now allows this driver to be used on big endian bus
    machines that aren't parisc.  To do that, the driver must set a
    CONFIG_53C700_BE_BUS in Kconfig to compile the right macro versions.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c4342d8a4d95e18b957b898dbf5bfce28fca2780
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Dec 15 19:59:01 2005 -0800

    IB/mthca: Fix corner cases in max_rd_atomic value handling in modify QP
    
    sae and sre bits should only be set when setting sra_max.  Further, in
    the old code, if the caller specifies max_rd_atomic = 0, the sre and
    sae bits are still set, with the result that the QP ends up with
    max_rd_atomic = 1 in effect.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ef72582e7a02e1069c6e6bf5eecf6f388b1467c6
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Dec 15 16:22:01 2005 -0500

    [SCSI] Add PPR support to spi_print_msg
    
    Introduce a new helper, print_nego() to handle SDTR/WDTR/PPR.
    Split out the guts of show_spi_transport_period_helper() into period_to_str()
    and use it in print_nego to get the period factor conversion right.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b32aaffcdc694650d299a59501c5b3e267fca343
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Dec 15 16:22:01 2005 -0500

    [SCSI] Use ARRAY_SIZE in spi_print_msg
    
    Replace the custom NO_*_MSGS definitions with uses of ARRAY_SIZE.
    This fixes a bug in the definition of NO_EXTENDED_MSGS.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 479721538957d514df6dcb29f66e5edd26393bb1
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Dec 15 16:22:01 2005 -0500

    [SCSI] Fix printing of two-byte messages
    
    A missing comma meant that "Ordered Queue Tag" and "Ignore Wide Residue"
    were being concatenated together.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1abfd370134553f3b47e3e40a0526e05001409c2
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Dec 15 16:22:01 2005 -0500

    [SCSI] Rename scsi_print_msg to spi_print_msg
    
    Rename scsi_print_msg to spi_print_msg and move its prototype from
    scsi_dbg.h to scsi_transport_spi.h
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 410ca5c7c6ed08bda165e8137bff26c3fbee5a1b
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Dec 15 16:22:01 2005 -0500

    [SCSI] Move scsi_print_msg to SPI class
    
    scsi_print_msg() is an SPI-specific concept.  This patch moves it from
    constants.c to scsi_transport_spi.c and updates the Kconfig to link in
    the SPI class for the drivers which use scsi_print_msg().
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7b16318dea8d9840dac567a2ae8c50ecdea36aea
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Dec 15 20:17:02 2005 -0600

    Fix up SCSI mismerge
    
    I forgot to do a git-update-cache on the merged files ...

commit 2a1e1379bae53f647c463a677cc2ec71b591c348
Merge: 787926b... 7b66665...
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Dec 15 17:35:24 2005 -0600

    Merge by hand (conflicts in scsi_lib.c)
    
    This merge is pretty extensive.  The conflict is over the new
    req->retries parameter, so I had to change the prototype to
    scsi_setup_blk_pc_cmnd() and the usage in sd, sr and st.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 787926b1b2d21d42ca462dc736b77f1a4a30c503
Author: Kai Makisara <Kai.Makisara@kolumbus.fi>
Date:   Sun Nov 13 10:04:44 2005 +0200

    [SCSI] Fix st oops with new scsi_execute infrastructure
    
    Patch from Kai minus last sg_segs clearing which was merged already.
    
    > > Was there a oops or lockup or any debug output you can send me? I will try
    > > some more large request tests with scsi_debug. You also have to compile your
    > > kernel with SCSI_MAX_PHYS_SEGMENTS == 255 to get larger requests now.
    >
    It was an oops in sgl_unmap_user_pages(). The reason is this:
    
    		/* XXX: just for debug. Remove when PageReserved is removed */
    		BUG_ON(PageReserved(page));
    
    I was using /dev/zero as input and it triggers this. When I used a file as
    input, this did not trigger. Should this BUG_ON be removed?
    
    In the same log I noticed that there was another ->sg_segs inconsistency.
    Also, the field ->last_SRpnt was not reset when scsi_execute_async()
    failed. This caused the error message "Async command already active"
    later and prevented proper close.
    
    While doing the changes, I noticed that the current code (since
    2.6.0-test4) does not set the pages dirty when reading with direct i/o.
    
    All of these st problems (including the one I sent earlier) are fixed in
    the patch at the end of this message. These fixes should probably be
    included already in 2.6.15.
    
    After these fixes, the tape seems to operate as expected. Without other
    changes, the largest block size with sym53c896 SCSI adapter is 384 kB. The
    maximum number of sg segments is set to 96 and clustering is disabled in
    the driver. 96 x 4 kB = 384 kB. OK.
    
    I enabled clustering and set max_sectors to 10000 in the SCSI HBA driver.
    Now the block size limit is 5000 kB as expected.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit defd94b75409b983f94548ea2f52ff5787ddb848
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Dec 5 02:37:06 2005 -0600

    [SCSI] seperate max_sectors from max_hw_sectors
    
    - export __blk_put_request and blk_execute_rq_nowait
    needed for async REQ_BLOCK_PC requests
    - seperate max_hw_sectors and max_sectors for block/scsi_ioctl.c and
    SG_IO bio.c helpers per Jens's last comments. Since block/scsi_ioctl.c SG_IO was
    already testing against max_sectors and SCSI-ml was setting max_sectors and
    max_hw_sectors to the same value this does not change any scsi SG_IO behavior. It only
    prepares ll_rw_blk.c, scsi_ioctl.c and bio.c for when SCSI-ml begins to set
    a valid max_hw_sectors for all LLDs. Today if a LLD does not set it
    SCSI-ml sets it to a safe default and some LLDs set it to a artificial low
    value to overcome memory and feedback issues.
    
    Note: Since we now cap max_sectors to BLK_DEF_MAX_SECTORS, which is 1024,
    drivers that used to call blk_queue_max_sectors with a large value of
    max_sectors will now see the fs requests capped to BLK_DEF_MAX_SECTORS.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d1646f86a2a05a956adbb163c81a81bd621f055e
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Dec 15 14:36:24 2005 -0800

    IB/mthca: Fix IB_QP_ACCESS_FLAGS handling.
    
    This patch corrects some corner cases in managing the RAE/RRE bits in
    the mthca qp context.  These bits need to be zero if the user requests
    max_dest_rd_atomic of zero.  The bits need to be restored to the value
    implied by the qp access flags attribute in a previous (or the
    current) modify-qp command if the dest_rd_atomic variable is changed
    to non-zero.
    
    In the current implementation, the following scenario will not work:
    RESET-to-INIT 	set QP access flags to all disabled (zeroes)
    INIT-to-RTR     set max_dest_rd_atomic=10, AND
    		set qp_access_flags = IB_ACCESS_REMOTE_READ | IB_ACCESS_REMOTE_ATOMIC
    
    The current code will incorrectly take the access-flags value set in
    the RESET-to-INIT transition.
    
    We can simplify, and correct, this IB_QP_ACCESS_FLAGS handling: it is
    always safe to set qp access flags in the firmware command if either
    of IB_QP_MAX_DEST_RD_ATOMIC or IB_QP_ACCESS_FLAGS is set, so let's
    just set it to the correct value, always.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 576d2e4e40315e8140c04be99cd057720d8a3817
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Dec 15 14:20:23 2005 -0800

    IB/mthca: Fix SRQ cleanup during QP destroy
    
    When cleaning up a CQ for a QP attached to SRQ, need to free an SRQ
    WQE only if the CQE is a receive completion.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6c7d2a75b512c64c910b69adf32dbaddb461910b
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Thu Dec 15 13:55:50 2005 -0800

    IB/mthca: Fix thinko in mthca_table_find()
    
    break only escapes from the innermost loop, and we want to escape both
    loops and return an answer.  Noticed by Ishai Rabinovitch.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 729b4d4ce1982c52040bbf22d6711cdf8db07ad8
Author: Alexey Starikovskiy <alexey.y.starikovskiy@intel.com>
Date:   Thu Dec 1 04:29:00 2005 -0500

    [ACPI] fix reboot upon suspend-to-disk
    
    http://bugzilla.kernel.org/show_bug.cgi?id=4320
    
    Signed-off-by: Alexey Starikovskiy <alexey.y.starikovskiy@intel.com>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 8b05b773b6030de5b1bab1cbb0bf1ff8c34cdbe0
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 8 04:06:44 2005 -0600

    [SCSI] convert st to use scsi_execute_async
    
    convert st to always send scatterlists and kill scsi_request
    usage.
    
    This is the same as last time as it was posted, but with Kai's patches
    merged and we now pass the bytes value to scsi_execute_async.
    
    TODO:
    
    - move DIO code to common place or make block layers usable for ULDs.
    - move buffer allocation code to common place for all ULDs to use. And
    make buffer allocation code handle all queue limits so we can find
    out about problems before calling scsi_execute_async.
    - move indirect (copy_to/from_user) paths commone place or make block
    layers usable for ULDs.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d6b10348f9397943eb968419a2b7f08895e38472
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 8 04:06:41 2005 -0600

    [SCSI] convert sg to scsi_execute_async
    
    Convert sg to always send scatterlists, and kill scsi_request usage.
    
    TODO:
    
    - move DIO code to common place or make block layers usable for ULDs.
    - move buffer allocation code to common place for all ULDs to use. And
    make buffer allocation code obey all queue limits so we can find
    out about problems before calling scsi_execute_async. Currently, sg.c
    could allocate a buffer that is too large, and send the request
    to scsi_execute_async. scsi_execute_async will then check it against
    all the queue limits and return a failure in this case. It would nicer
    to know about the queue limit violation right away.
    - move indirect (copy_to/from_user) paths commone place or make block
    layers usable for ULDs.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit aa7b5cd750c766f66a92c9f78ba176bc77512b7e
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 05:31:41 2005 -0600

    [SCSI] add kmemcache for scsi_io_context
    
    Add kmemcache of scsi io contexts.
    
    In the future when we finalize on where these functions will live
    we can add a mempool for it and do a bioset for out REQ_BLOCK_PC
    bios. This is needed becuase the dm-multipath handlers will
    want to use the scsi_exectute* functions for failover and we cannot
    have them and the bio device allocating from the same mempool.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0d95716d6a1308c465d8c17ed1a217628936bb0c
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 05:31:40 2005 -0600

    [SCSI] complete the whole command when it is REQ_BLOCK_PC
    
    sd does not allow scsi_io_completion to retry commands for
    SG_IO requests, and it make sense that it should not happen for st
    SG_IO commands too. If for st we hit the bottom of scsi_io_completion
    we will probably screw things up pretty bad. This patch returns to the
    block layer that the whole command completed and relies on the caller to check
    the request errors field. For initialization commands like in sd, this adds
    the previous behavior where scsi_io_completion did not process the error.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 17e01f216b611fc46956dcd9063aec4de75991e3
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 05:31:37 2005 -0600

    [SCSI] add retries field to request for REQ_BLOCK_PC use
    
    For tape we need to control the retries. This patch adds a retries
    counter on the request for REQ_BLOCK_PC commands originating from
    scsi_execute* to use. REQ_BLOCK_PC commands comming from the block
    layer SG_IO path continue to use the retires set in the ULD init_command.
    (scsi_execute* does not set the gendisk so we do not execute
    the init_command in that path).
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6e68af666f5336254b5715dca591026b7324499a
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 05:30:27 2005 -0600

    [SCSI] Convert SCSI mid-layer to scsi_execute_async
    
    Add scsi helpers to create really-large-requests and convert
    scsi-ml to scsi_execute_async().
    
    Per Jens's previous comments, I placed this function in scsi_lib.c.
    I made it follow all the queue's limits - I think I did at least :), so
    I removed the warning on the function header.
    
    I think the scsi_execute_* functions should eventually take a request_queue
    and be placed some place where the dm-multipath hw_handler can use them
    if that failover code is going to stay in the kernel. That conversion
    patch will be sent in another mail though.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6e39b69e7ea9205c5f80aeac3ef999ab8fb1a4cc
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 05:30:24 2005 -0600

    [SCSI] export blk layer functions needed for blk_execute_rq_nowait
    
    To send async requests we need these two functions exported.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9e1fe9314cb5649b2dc73690f2cd8d0068e633d9
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Wed Dec 14 19:27:20 2005 +0100

    [SCSI] handle scsi_add_host failure for aic7xxx and fix compiler warning
    
    Add scsi_add_host() failure handling for aic7xxx
    Also silence a compiler warning :
     drivers/scsi/aic7xxx/aic7xxx_osm.c: In function `ahc_linux_register_host':
     drivers/scsi/aic7xxx/aic7xxx_osm.c:1100: warning: ignoring return value of `scsi_add_host', declared with attribute warn_unused_result
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e7a1ca1d27e20ea2c0ba161c57e3c1d4112b60f7
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Wed Dec 14 19:27:28 2005 +0100

    [SCSI] handle scsi_add_host failure for aic79xx and fix compiler warning
    
    Add scsi_add_host() failure handling for aic79xx
    Also silence a compiler warning :
     drivers/scsi/aic7xxx/aic79xx_osm.c: In function `ahd_linux_register_host':
     drivers/scsi/aic7xxx/aic79xx_osm.c:1099: warning: ignoring return value of `scsi_add_host', declared with attribute warn_unused_result
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c6329f4df2263ab5a40601a5236639e61b682f51
Merge: 2bd0fa3... 65ab592...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 22:20:12 2005 -0500

    Merge branch 'master'

commit 8b132f4ee7304fec4fa27dec67879bc0172e916a
Merge: d22a8cc... 65ab592...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 22:15:52 2005 -0500

    Merge branch 'master'

commit 829b84675edbe05f11c289946216da4f5c6b8e94
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Dec 13 10:29:31 2005 -0700

    [SCSI] Make scsi_transport_spi.h includable by itself
    
    Add forward declarations to allow scsi_transport_spi.h to be compiled by
    itself.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 38d76df2f5483478dee803cb6e39da5e506a6643
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Dec 9 11:34:45 2005 -0500

    [SCSI] sd: Always do write-protect check
    
    Since nobody has offered an explanation for why the sd driver makes a
    write-protect check only for devices with removable media, I'm submitting
    this patch to get rid of the removable-media test.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4e06cbd42c41f9e49fcfe5ee45c749eefaae9cf4
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Thu Dec 1 16:51:02 2005 -0700

    [SCSI] pci_ids.h: add subclass code for SAS Controllers
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f61c1c41b6b959d08d87eee876406bdbcac77b7c
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:27 2005 -0700

    [SCSI] mptfusion - bump version
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c7c82987b4844f555d309ccbd42abe95d46822ff
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:25 2005 -0700

    [SCSI] mptfusion - mapping fixs required support for transport layers.
    
    This utilizes the hostdata area that is hung off of scsi_target and
    scsi_device for saving unique firmware mapping. This will be required
    for supporting new Fibre and SPI transport support.
    
    This also fixs problems in error handling error code for SAS
    controllers, in which the incorrect mapping was passed to the
    firmware.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f2ea8671a8376e09cf759aa8cb3de8b8d3bced9e
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:23 2005 -0700

    [SCSI] mptfusion - prep for removing domain validation
    
    This moves some functions around from within the #define
    MPTSCSIH_ENABLE_DOMAIN_VALIDATION area, in preperation for generic
    domain validation.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a9b2937a1eab2939d0eed3830ead88664ed7445d
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:20 2005 -0700

    [SCSI] mptfusion - bus_type, change SCSI to SPI
    
    This changes to SPI for the bus_type enumeration.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7acec1e7556a861416bb6b10f3e3cbb6e82fc01d
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:17 2005 -0700

    [SCSI] mptfusion - cleaning up xxx_probe error handling
    
    This cleans the returning failure conditions of the
    mptsas/mptfc/mptspi probe routines.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f78496da6a85f4b5f4532d7bf85b05fa655146a8
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Wed Nov 16 18:54:14 2005 -0700

    [SCSI] mptfusion - adding = THIS_MODULE
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1cb25a27d0a3f8296e67e5cc915048db10910d4f
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:42:49 2005 -0500

    [SCSI] lpfc 8.1.1 : Change version number to 8.1.1
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fefcb2b677fbfce894133e59a34395f8988d4610
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 15:08:56 2005 -0500

    [SCSI] lpfc 8.1.1 : kill use of pci_read_config_xxx
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 445cf4f4d2aa28f6ddd1d7a5f0986341ad61ec91
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:42:38 2005 -0500

    [SCSI] lpfc 8.1.1 : Added code to adjust lun queue depth to avoid target overloading
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 875fbdfe9b1b4c8f12622a8d8d81428ff0984875
Author: James Smart <James.Smart@Emulex.Com>
Date:   Tue Nov 29 16:32:13 2005 -0500

    [SCSI] lpfc 8.1.1 : Add polled-mode support
    
    - Add functionality to run in polled mode only. Includes run time
      attribute to enable mode.
    - Enable runtime writable hba settings for coallescing and delay parameters
    
    Customers have requested a mode in the driver to run strictly polled.
    This is generally to support an environment where the server is extremely
    loaded and is looking to reclaim some cpu cycles from adapter interrupt
    handling.
    
    This patch adds a new "poll" attribute, and the following behavior:
    
    if value is 0 (default):
      The driver uses the normal method for i/o completion. It uses the
      firmware feature of interrupt coalesing. The firmware allows a
      minimum number of i/o completions before an interrupt, or a maximum
      time delay between interrupts.  By default, the driver sets these
      to no delay (disabled) or 1 i/o - meaning coalescing is disabled.
    
      Attributes were provided to change the coalescing values, but it was
      a module-load time only and global across all adapters.
      This patch allows them to be writable on a per-adapter basis.
    
    if value is 1 :
      Interrupts are left enabled, expecting that the user has tuned the
      interrupt coalescing values. When this setting is enabled, the driver
      will attempt to service completed i/o whenever new i/o is submitted
      to the adapter. If the coalescing values are large, and the i/o
      generation rate steady, an interrupt will be avoided by servicing
      completed i/o prior to the coalescing thresholds kicking in. However,
      if the i/o completion load is high enough or i/o generation slow, the
      coalescion values will ensure that completed i/o is serviced in a timely
      fashion.
    
    if value is 3 :
      Turns off FCP i/o interrupts altogether. The coalescing values now have
      no effect. A new attribute "poll_tmo" (default 10ms) exists to set
      the polling interval for i/o completion. When this setting is enabled,
      the driver will attempt to service completed i/o and restart the
      interval timer whenever new i/o is submitted. This behavior allows for
      servicing of completed i/o sooner than the interval timer, but ensures
      that if no i/o is being issued, then the interval timer will kick in
      to service the outstanding i/o.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5cc36b3cd0e3610ad7c7e2514160998276798fc0
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:42:19 2005 -0500

    [SCSI] lpfc 8.1.1 : Bring model descriptions in sync with Emulex standard generic names
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e4adb20406385d1cc8fdb15e92ed7ac3d0ae41f6
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:42:12 2005 -0500

    [SCSI] lpfc 8.1.1 : Add support for more members of the Light Pulse 11xxx (4Gb) family
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6175c02a0b12f92c03b56c756c4f1e131ae1456c
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:42:05 2005 -0500

    [SCSI] lpfc 8.1.1 : Fixes to error handlers
    
    - Release task management command before counting outstanding commands.
      TMF was being erroneously counted as an active outstanding command.
    - Serialize EH calls and block requests when EH function is running.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 63c59c3b8ff444b771a245f59935c0202ece963b
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:41:53 2005 -0500

    [SCSI] lpfc 8.1.1 : Remove locking wrappers around error handlers
    
    Remove locking wrappers around error handlers. Wrappers were added in
    early 2.6.13 api change
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 23dc04f1ec0d2f8fdda82ad1f9aa87b6ed74cd4a
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:41:44 2005 -0500

    [SCSI] lpfc 8.1.1 : Adjust use of scsi_block_requests and interaction w/ FC transport
    
    - Remove unnecessary scsi_block_requests calls on rport deletes.
      This was deadlocking the sdev removals as they wanted to flush commands.
    - No longer block requests when adding the remote port (to block
      discovery). Instead, register, then change port role. Maps to Qlogic
      behavior, and closer to the register-node-upon-first-ELS behavior.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6281bfe0002acd7765cb4afe0304c36962ad6b15
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:41:33 2005 -0500

    [SCSI] lpfc 8.1.1 : Fixes for short cable pulls
    
    Cause: Link bounces were causing discovery ELS's to be killed.
    Driver was not properly flushing ELS commands upon the subsequent
    link bounces. Thus, processing of ELS post link bounce erroneously
    assumed discovery failure and device loss.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2fb70f79936e7180e8b0287a4053b8ba89182717
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:41:24 2005 -0500

    [SCSI] lpfc 8.1.1 : Correct some 8bit to 16bit field conversions/comparisons
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1de933f35b17622f977eff1630eb1f2c92e9450c
Author: James Smart <James.Smart@Emulex.Com>
Date:   Mon Nov 28 11:41:15 2005 -0500

    [SCSI] lpfc 8.1.1: Miscellaneous Cleanups
    
    Miscellaneous Cleanups:
    - Remove ProgType READ_REV mailbox command value check in lpfc_config_port_prep.
    - Convert simple printk to an lpfc_printf_log in queuecommand.
    - Modify lpfc_abort_handler message 0749 to display more accurate text and data.
    - Minor style cleanup: fix 3 long lines in lpfc_hw.h
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0a21ef1e603096a8f57fcd7fa0b8b53e7147d3b9
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Dec 1 12:51:50 2005 -0600

    [SCSI] qla2xxx: fix compile error caused by pci_dev.owner move
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7f23e146a122966bd58e5da9c16a0e12385f09fc
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Dec 1 12:50:13 2005 -0600

    [SCSI] correct some dropped const compiler warnings
    
    Make the vendor, model and rev fields in scsi_device pointers to const
    and update a few prototypes of functions using them.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8a47cd340b4a299087f926ff2780d1eb08513f04
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Wed Nov 30 02:27:19 2005 -0600

    [SCSI] iscsi: check header digests for mgmt tasks
    
    From Wang Zhenyu:
    
    check header digest for cmd and mgmt tasks
    
    Signed-off-by: Wang Zhenyu <zhenyu.z.wang@intel.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4d841d6bd94d55642f8dbb11d6b672b3b50ff82e
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:13:01 2005 -0600

    [SCSI] iscsi: update version
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9e3961ba2be51a88c6223143568c80e0616d93ce
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:12:59 2005 -0600

    [SCSI] iscsi: lower queue depth
    
    From Wang Zhenyu:
    
    High queue depth was a problem for some targets so make queue_depth adjustable
    
    From Mike Christie
    
    Make default queue_depth a little lower
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f6cfba1d21e9e4afd80e2274aa4df3dc1bd0aab7
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:12:57 2005 -0600

    [SCSI] iscsi: data digest calculation fix
    
    From Wang Zhenyu:
    
    data digest fix (the bug caused data corruption w/Wasabi StorageBuilder target)
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 733bb6a70cb351786f3c2290ab22f71b612e6893
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:12:54 2005 -0600

    [SCSI] iscsi: iscsi response fix
    
    from Wang Zhenyu:
    
    Must check SCSI CMD and R2T response according to the spec
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e6273993dbcb8d805dd868e2128c3503a3bb1964
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:12:49 2005 -0600

    [SCSI] iscsi: redirect fix
    
    From tomof@acm.org:
    
    There is one more issue about Equallogic systems. They send
    re-direction info with FIN. I think that the kernel module needs to
    let iscsid to read data from the socket before killing it.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0d2f16559a9015c4daa8babfc443bf2b8740fbd9
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Tue Nov 29 23:12:46 2005 -0600

    [SCSI] iscsi: opcode check fix
    
    Must check only valid opcode bits.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ad94c9340a76db187166f2342ba0ff568dc7801f
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:48 2005 -0500

    [SCSI] sym2: Version 2.2.2
    
    Update version number to 2.2.2
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 66e8d1cc64e95be78e6138cc88635f7e3108ef58
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:46 2005 -0500

    [SCSI] sym2: Report disabled devices and LUNs more attractively
    
    Rather than print a list of targets at driver init time, print each
    disabled target as we attempt to scan it.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b37df48923b76155de2a728e1155ed263dba5f53
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:44 2005 -0500

    [SCSI] sym2: Allow NVRAM settings to limit speed and width
    
    The NVRAM for both Tekram and Symbios boards allows the user to set the
    speed and width for individual targets.  I took that code out in March
    2004 when we introduced Domain Validation, but it seems there's still
    a legitimate need for it in some configurations.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 33333bacf523bb4bb903058fec6041a5952c93c6
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:42 2005 -0500

    [SCSI] sym2: Use scsi_print_msg
    
    sym_show_msg was almost a duplicate of scsi_print_msg, except not as
    featureful.  So use the common code instead.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1e8eb21ea7b5c318d881eab878f3e545e55fa273
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:36 2005 -0500

    [SCSI] sym2: Use DMA_40BIT_MASK constant
    
    Now that this constant has been added to dma-mapping.h, we don't need our
    own definition
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 44f30b0f59d628eb6f57cfa9d8ab06da670e5306
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:33 2005 -0500

    [SCSI] sym2: Remove code to handle DMA_BIDIRECTION requests
    
    The upper layer doesn't send these down since 2.4.x (or 2.6 in
    practice), so no need to handle it.  Inline sym_setup_data_pointers
    into its only caller so we can fail gracefully in the case we'd get
    one neverless.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 84e203a279d3de1c8a41a73ab45e55a89bc19345
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:31 2005 -0500

    [SCSI] sym2: Manage sym_lcb properly
    
    Allocate the lcb in slave_alloc and free it in slave_destroy.  This allows
    us to remove all the code that checks to see if it's already been allocated.
    
    From: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 760c9de589175f5285668d17825c259aec08370c
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:29 2005 -0500

    [SCSI] sym2: Remove last vestiges of sym_sniff_inquiry
    
    The SYM_OPT_SNIFF_INQUIRY define is never set any more, and the
    sym_sniff_inquiry() function doesn't exist
    
    From: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 47be1e0ee1f484c8127f306e06ed3be91add07ee
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:27 2005 -0500

    [SCSI] sym2: Remove FreeBSD ifdefs
    
    Remove FreeBSD ifdefs from sym2 driver
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit dc25fcfbba513f8de8d1531b47fc9daa33d84f5a
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Nov 10 07:45:55 2005 -0700

    [SCSI] Mention scsi_scan_host() in scsi_mid_low_api.txt
    
    Update to mention scsi_scan_host()
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c6ce15d7cdb3f6cb3ff442ac01eb6c5f0fe321af
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Wed Nov 9 15:49:33 2005 -0800

    [SCSI] qla2xxx: Resync with latest released ISP24xx firmware -- 4.00.16.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 331e34768657ead5a5b169337351e045305cafcb
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Wed Nov 9 15:49:19 2005 -0800

    [SCSI] qla2xxx: Add support for embedded ISP24xx firmware.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 5433383ef33ed40c9c8a86a4355da344234af2a5
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Wed Nov 9 15:49:04 2005 -0800

    [SCSI] qla2xxx: Add full firmware(-request) hotplug support for all ISPs.
    
    Transition driver to exclusively use the request_firmware()
    interfaces to retrieve firmware-blobs from user-space.  This
    will be the default behaviour going forward until the
    embedded firmware-binary images are removed from the
    upstream kernel.
    
    Upon request, the driver caches the firmware image until the
    driver is unloaded.
    
    NOTE: The option is present to allow the user to continue to
    use the firmware-loader modules, but, should be considered
    deprecated.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 26a68019c86e1d1782984a7a5babff762cde1501
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Nov 29 21:03:34 2005 +0100

    [SCSI] scsi_lib: stricter checks for clearing use_10_for_rw
    
    Check the asc and ascq for being "invalid command opcode" as well.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 493ff4ee7f93a2b53ed60197e05aa145eec8f8f5
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Nov 17 11:13:43 2005 -0700

    [SCSI] Delete trailing full stop
    
    None of the other domain validation messages have a trailing full stop,
    so I don't see why this one should.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0ad78200baf1f85a21e6b26c225717ad80980d8f
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Nov 28 16:22:25 2005 +0100

    [SCSI] Mark some core scsi data structures const
    
    patch below marks a few scsi core datastructures as const, so that they end up
    in the .rodata section and don't cacheline share with things that get dirtied
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ce155ccecd4094e7b5e68058d26db691713240fc
Author: Brian King <brking@us.ibm.com>
Date:   Thu Nov 17 09:35:12 2005 -0600

    [SCSI] ipr: Driver initialization fix for kexec/kdump
    
    When kexec booting a kernel when the previous kernel did not
    call ipr's shutdown method, the ipr adapter does not get
    properly initialized, which can result in the ipr adapter
    completing commands issued by the previous kernel. Fix ipr
    to detect this scenario by reading the adapter's interrupt
    mask register and the microprocessor interrupt register.
    If the interrupt mask register indicates that interrupts
    are enabled or the reset alert bit is set when the card is
    probed, this means the card is in an unknown state and we
    hard reset the card.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ed7e8ef7f12f5c3c8bbb85eeb0a1ded91c7c5dbf
Author: Ju, Seokmann <Seokmann.Ju@engenio.com>
Date:   Thu Nov 17 13:17:25 2005 -0500

    [SCSI] megaraid_{mbox,mm} : remove PCI Id overlaping between megaraid_legacy and megaraid_{mbox,mm}
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3492b328834319c9503c0a34c50fb3f009556443
Author: Ju, Seokmann <Seokmann.Ju@engenio.com>
Date:   Thu Nov 17 13:13:31 2005 -0500

    [SCSI] megaraid_legacy: removed PCI ID overlap from the driv er
    
    This patch fixes
    	- PCI ID overlap issue
    	- node name changed to 'megaraid_legacy'
    I hope this patch addresses concerns brought by Daniel Drake.
    
    Signed-off by: Seokmann Ju <seokmann.ju@enginio.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit da8543ef125afc7bba4da526b61a1ae07dc25109
Merge: ec637e3... 90ac8f7...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Dec 13 10:15:39 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d22a8ccff761c81f2930bd90fa5712e51a0e9a62
Merge: 783e338... 98684a9...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 11:36:18 2005 -0500

    Merge branch 'upstream-fixes'

commit eaceec7f6cc5223d0f146086884d67746b8aa81d
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Dec 13 11:05:05 2005 -0500

    sbp2: remove duplicate code from sbp2_start_device()
    Use sbp2_remove_device() to free FIFO and ORB DMAs in a failure case.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit cf8d2c0965b891a5efce8c3a9a07a522e91ddba2
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Dec 13 11:05:03 2005 -0500

    sbp2: split sbp2_create_command_orb() for better readability
    
    sbp2_create_command_orb() code cleanup:
     - add two helper functions to reduce nesting depth
     - omit the return value which was always ignored
     - remove unnecessary declaration from sb2.h
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 209171a17a908605e516d11436371337a5d87f06
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Tue Dec 13 11:05:00 2005 -0500

    ohci1394: log number of implemented isochronous contexts
    
    Print the number of IR and IT contexts which a hardware implements
    as an informational log message when ohci1394 initializes.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 2bd0fa3b62e8565a80f9535e0f2bd51bba46213f
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Dec 13 03:05:03 2005 -0500

    [PATCH] add boot option to control Intel SATA/PATA combined mode
    
    Combined mode sucks.  Especially when both libata and the legacy IDE
    drivers try to drive ports on the same device, since that makes DMA
    rather difficult.
    
    This patch addresses the problem by allowing the user to control which
    driver binds to the ports in a combined mode configuration.  In many
    cases, they'll probably want the libata driver to control both ports
    since it can use DMA for talking with ATAPI devices (when
    libata.atapi_enabled=1 of course).  It also allows the user to get old
    school behavior by letting the legacy IDE driver bind to both ports.
    But neither is forced, the patch doesn't change current behavior unless
    one of combined_mode=ide or combined_mode=libata is passed
    on the boot line.  Either of those options may require you to access
    your devices via different device nodes (/dev/hd* in the ide case
    and /dev/sd* in the libata case), though of course if you have udev
    installed nicely you may not notice anything.  :)
    
    Let me know if the documentation is too cryptic, I'd be happy to expand
    on it if necessary.  I think most users will want to boot with
    'combined_mode=libata' and add 'options libata atapi_enabled=1'
    to their modules.conf to get good DVD playing and disk behavior
    (haven't tested CD or DVD writing though).
    
    I'd much rather things behave sanely by default (i.e. DMA for devices on
    both ports), but apparently that's difficult given the various chip
    bugs and hardware configs out there (not to mention that people's
    drives may suddenly change from /dev/hdc to /dev/sdb), so this boot
    option may be the correct long term fix.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e508a391a0705f770ef1c4f1c304678b0e8e4fe8
Merge: d00d598... 5063019...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 02:30:04 2005 -0500

    Merge branch 'upstream-fixes'

commit d00d598ffbba974d9045ba8b95296655fe2162c5
Merge: b563230... be0d9b6...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 01:43:33 2005 -0500

    Merge branch 'master'

commit b5632303401c231bf270ef36f1013e52caf4caf9
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Dec 13 14:51:25 2005 +0900

    [PATCH] libata: remove unused qc->waiting
    
    There is no user of qc->waiting left after ata_exec_internal()
    changes.  Kill the field.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 82033adf0a4b26eb0c0c90e224848431e2a59bc6
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Dec 13 14:50:38 2005 +0900

    [PATCH] libata: remove unused functions
    
    There is no user of ata_qc_wait_err() and ata_qc_complete_noop() after
    ata_exec_internal() changes.  Remove unused functions.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a012370322eafee642369784ff71afe81f5a8592
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Dec 13 14:49:31 2005 +0900

    [PATCH] libata: use ata_exec_internal()
    
    This patch converts all users of libata internal commands to use
    ata_exec_internal().
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a2a7a662f80d8b7f2295a36de1f9b033ed0b910c
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Dec 13 14:48:31 2005 +0900

    [PATCH] libata: implement ata_exec_internal()
    
    This patch implements ata_exec_internal() function which performs
    libata internal command execution.  Previously, this was done by each
    user by manually initializing a qc, issueing it, waiting for its
    completion and handling errors.  In addition to obvious code
    factoring, using ata_exec_internal() fixes the following bugs.
    
    * qc not freed on issue failure
    * ap->qactive clearing could race with the next internal command
    * race between timeout handling and irq
    * ignoring error condition not represented in tf->status
    
    Also, qc & hardware are not accessed anymore once it's completed,
    making internal commands more conformant with general semantics.
    ata_exec_internal() also makes it easy to issue internal commands from
    multiple threads if that becomes necessary.
    
    This patch only implements ata_exec_internal().  A following patch
    will convert all users.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
    --
    
    Jeff, all patches have been regenerated against upstream branch as of
    today.  (575ab52a218e4ff0667a6cbd972c3af443ee8713)
    
    Also, I took out a debug printk from ata_exec_internal (don't know how
    that one got left there).  Other than that, all patches are identical
    to the previous posting.
    
    Thanks. :-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 783e3385a134305d49d7b431df6e591265e7ec14
Merge: fd80324... 1cf9e8a...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 00:07:46 2005 -0500

    Merge branch 'upstream-fixes'

commit fd803241744ad6e4262b6588c6af89e8fb794098
Author: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
Date:   Tue Dec 13 00:06:22 2005 -0500

    e1000: Fixes for 8357x
    
    - TSO workaround
    - Fixes eeprom version reporting
    - Fix loopback test
    - Fix for WOL
    
    Signed-off-by: Jeff Kirsher <jeffrey.t.kirsher@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>

commit ff7eba15ae65e4299fd9e0fbf067477ce6b43d91
Merge: fed954d... 3c92cae...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 00:01:02 2005 -0500

    Merge branch 'e1000'

commit 25d3f1622fdbc73db3f6860961b5fb3035a39f32
Merge: dc3edd5... 0e67050...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Mon Dec 12 23:58:44 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit ec637e3ffb6b978143652477c7c5f96c9519b691
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Dec 12 20:53:18 2005 -0800

    [CIFS] Avoid extra large buffer allocation (and memcpy) in cifs_readpages
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 575ab52a218e4ff0667a6cbd972c3af443ee8713
Merge: c621b14... dfa1598...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Dec 12 23:51:01 2005 -0500

    Merge branch 'upstream-fixes'

commit c621b140603dfb4a89809e00f965d42c054871e0
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Thu Dec 8 19:22:28 2005 +0000

    [PATCH] libata: ata_piix 450NX errata
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit dc3edd5412341b02d84144ddfd5bf6ccaaeeb1ac
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 12 23:03:30 2005 -0500

    sbp2: did not clean up after scsi_add_device() failed
    
    If scsi_add_device() at the end of sbp2_start_device() fails, e.g. due to
    transport errors during SCSI inquiry, sbp2 needs to log out of the device
    and release all associated resources.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 43863eba763e0c91e33e342ce5b7650fea594a53
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 12 23:03:24 2005 -0500

    sbp2: delete sbp2scsi_direction_table
    
    DMA_BIDIRECTIONAL data direction may be handled properly by Linux in the
    future.  For now, reject it instead to convert it to another direction.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 51c1d80e929bace26d2d795bd77fcc14b02ba3bb
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 12 23:03:19 2005 -0500

    ieee1394: run high-level updates before high-level probes
    
    After a bus reset, let nodemgr call high-level update hooks first for nodes
    which do not need to be probed.  The main benefit is for a bus with more
    than one SBP-2 device:  SBP-2 reconnects will be performed before SBP-2
    logins, thus have a much higher chance to succeed, and their SCSI devices
    will not be blocked much longer than necessary.  This was demonstrated for
    Linux 2.4 by Dave Cinege a while ago.
    
    A better approach would be to perform time-consuming probes in parallel by a
    subthread.  I actually plan to implement this for sbp2 but it may take a
    while to get that done and tested.  Until then, this tweak is a huge
    improvement for users with multiple SBP-2 devices.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 9da305eb089c94c535d1790fd2dec16f44c1689f
Merge: d96212e... 14ee0a1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Dec 12 22:03:53 2005 -0500

    Merge branch 'master'

commit d96212ed87d032d2d830e265aae14038dc1f8ad8
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Thu Dec 8 19:19:50 2005 +0000

    [PATCH] libata: add ata_piix notes
    
    Ok lets start with the 'easy' stuff. This includes my research and
    summary of chip errata into the new driver so that people can refer to
    it when updating ata_piix.
    
    No code changes
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fed954dafc0ab03e00501862df397e8f8e2211fd
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:12 2005 -0800

    [PATCH] sky2: version 0.10
    
    Change version number.  Still don't have enough history on this
    to call it 1.0 yet.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 75d070c56fa77913b165947f046304efcd38e516
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:11 2005 -0800

    [PATCH] sky2: disable rx checksum on Yukon XL
    
    Under load, my SysKonnect SK-9S22 sees duplicate checksums from
    earlier packets.  Doesn't happen on other platforms so just disable
    receive checksum there.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 585b56012f08a6edc598d17b28a6c434134bfaff
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:10 2005 -0800

    [PATCH] sky2: turn on tx flow control
    
    Turn symmetric flow control on by default. This was an oversight
    in the initial versions.
    
    Signed-off-by: Stephen HEmminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d70cd51ac0585a9273abea4c333e8f0dd8385d27
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:09 2005 -0800

    [PATCH] sky2: prefetch tuning
    
    Add a couple more prefetches to where we walk the rings.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8c463ef7928d7a42bb9ca410df9b294dc01c1850
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:08 2005 -0800

    [PATCH] sky2: quiet ring full message in case of race
    
    Don't print ring full message if we lose race.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8cc048e338ad4034255f3ff72ef1f631963e1263
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:07 2005 -0800

    [PATCH] sky2: handle tx timeout
    
    Put more logic in to try and handle transmit timeout recovery.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 69634ee7366d05b26b2650584bed180edf923125
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:06 2005 -0800

    [PATCH] sky2: interrupt coalescing tuning
    
    Adjust interrupt deferral values for better performance and avoid
    starvation issues under stress.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3e4b32e11674a40cf50e48a79764f12988641e20
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:05 2005 -0800

    [PATCH] sky2: interrupt/poll optimization
    
    Optimize poll routine by not clearing interrupt till after
    processing, and checking for more work before re-enable.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit af2a58acb12f6b19e6f04b730203e199abedc44a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:04 2005 -0800

    [PATCH] sky2: transmit complete routine optimization
    
    Hand optimize transmit completion routine.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 13b97b74b964f9da9b5dab6c57708bccd3ada542
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:03 2005 -0800

    [PATCH] sky2: transmit complete index optimization
    
    Change transmit complete handling to use the status values
    in the poll list because they are in-cache, rather than reading
    non-cached memory for chips status.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0e3ff6aab1ff2d093996bd7b8c9c06c3d823855c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:02 2005 -0800

    [PATCH] sky2: transmit logic fixes
    
    Some transmit side small fixes:
     * When computing number of list elements per transmit, do full
       comparision to check for checksuming.
     * Get rid of racy check for tx_complete
     * Change stop test to match wake condition.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6cdbbdf3055f4657c9d6ccc79257bbcac1a9a1fc
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:01 2005 -0800

    [PATCH] sky2: tx/rx ring data structure split
    
    Split Tx and Rx ring into two different data structures.
    Tx needs the next value (to handle partial status), and
    Rx always needs the mapaddr (to handle resubmitting same buffer).
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 734d18684695dd1c6a9527b50e01bba4acab4738
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:35:00 2005 -0800

    [PATCH] sky2: map length optimization
    
    Don't need to keep track of mapping length in ring structure
    because we can get the same info from other info.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 129372d0524c9124d5693f63c1d3c1ce2e3714ce
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:59 2005 -0800

    [PATCH] sky2: ring distance optimization
    
    Faster way to compute ring distance.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f2e46561cc1afa82b18b2fc6efc8510ec57c7d7d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:58 2005 -0800

    [PATCH] sky2: no irq disable needed during tx
    
    Don't need to disable interrupts during the transmit routine.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 91c86df5a8a44157b456bf1e91fc6d878582e68c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:57 2005 -0800

    [PATCH] sky2: phy processing in workqueue rather than tasklet
    
    Do phy processing in a work queue rather than a tasklet.
    This means we can let bottom halves run.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fb17358fe31e01baf902a9fd1fce0e29e3493517
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:56 2005 -0800

    [PATCH] sky2: ethtool get/set interrupt coalescing
    
    Add support for get/set the interrupt coalescing settings.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bdb5c58ebe4301f9c3470cc35adeff1ef7ee99eb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:55 2005 -0800

    [PATCH] sky2: copy threshold as module parameter
    
    Make the copy threshold a module parameter for those who
    may want to turn it off.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6e23231b6509f17a251e6dfddb607d300680ac25
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:54 2005 -0800

    [PATCH] sky2: device structure alignment
    
    It is a useful optimization to rearrange the structure
    slightly to align receive and transmit portions.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 92f965e8c5433408d5a3805c6882b657eb6cbdb1
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Dec 9 11:34:53 2005 -0800

    [PATCH] sky2: don't die if we see chip rev 0xb5
    
    There maybe new versions of Yukon2 in the future, so make the
    driver more robust to handle this.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b1086eef813ecee09bd6b8ae364acf0fad065cba
Merge: 003a20c... 49d7bc6...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Dec 12 15:24:45 2005 -0500

    Merge branch 'master'

commit 56f0356321a876a1a356712f2486d6188a3b4992
Author: Michael Hanselmann <linux-kernel@hansmi.ch>
Date:   Sun Dec 11 22:33:26 2005 -0500

    Input: add the fn key to hid-debug.h
    
    Signed-off-by: Michael Hanselmann <linux-kernel@hansmi.ch>
    Acked-by: Johannes Berg <johannes@sipsolutions.net>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 74a89c966ebc4ec4b80fa93eee0b37ff7de7f4e6
Author: Ashutosh Naik <ashutosh.naik@gmail.com>
Date:   Sun Dec 11 12:41:32 2005 -0500

    Input: wistron - add Acer TravelMate 240 to DMI table
    
    Signed-off-by: Ashutosh Naik <ashutosh.naik@gmail.com>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 58057b9e57849ae28fbcb013edfe6b5a63edc799
Author: Jasper Spaans <jasper@vs19.net>
Date:   Sun Dec 11 12:41:22 2005 -0500

    Input: logips2pp - add new signature (85)
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 84c12b2410ea3b88523270064222fbf505dbf15e
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Dec 11 12:41:03 2005 -0500

    Input: mousedev - make module parameters visible in sysfs
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 3a51f7c40437077ac4a463307e9a4ae6b78755a8
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Dec 11 12:40:37 2005 -0500

    Input: evdev - consolidate compat and regular code
    
    Compat and normal code mirror each other and are hard to maintain.
    When EV_SW was added compat_ioctl case was missed. Here is my attempt
    at consolidating the code.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 28f55ebce5bd2fceec8adc7c8860953d3e4532a8
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Dec 2 18:27:00 2005 -0500

    [ACPI] ACPICA 20051202
    
    Modified the parsing of control methods to no longer
    create namespace objects during the first pass of the
    parse. Objects are now created only during the execute
    phase, at the moment the namespace creation operator
    is encountered in the AML (Name, OperationRegion,
    CreateByteField, etc.) This should eliminate ALREADY_EXISTS
    exceptions seen on some machines where reentrant control
    methods are protected by an AML mutex. The mutex will now
    correctly block multiple threads from attempting to create
    the same object more than once.
    
    Increased the number of available Owner Ids for namespace
    object tracking from 32 to 255. This should eliminate the
    OWNER_ID_LIMIT exceptions seen on some machines with a
    large number of ACPI tables (either static or dynamic).
    
    Enhanced the namespace dump routine to output the owner
    ID for each namespace object.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit c51a4de85de720670f2fbc592a6f8040af72ad87
Author: Bob Moore <robert.moore@intel.com>
Date:   Thu Nov 17 13:07:00 2005 -0500

    [ACPI] ACPICA 20051117
    
    Fixed a problem in the AML parser where the method thread
    count could be decremented below zero if any errors
    occurred during the method parse phase. This should
    eliminate AE_AML_METHOD_LIMIT exceptions seen on some
    machines. This also fixed a related regression with the
    mechanism that detects and corrects methods that cannot
    properly handle reentrancy (related to the deployment of
    the new OwnerId mechanism.)
    
    Eliminated the pre-parsing of control methods (to detect
    errors) during table load. Related to the problem above,
    this was causing unwind issues if any errors occurred
    during the parse, and it seemed to be overkill. A table
    load should not be aborted if there are problems with
    any single control method, thus rendering this feature
    rather pointless.
    
    Fixed a problem with the new table-driven resource manager
    where an internal buffer overflow could occur for small
    resource templates.
    
    Implemented a new external interface, acpi_get_vendor_resource()
    This interface will find and return a vendor-defined
    resource descriptor within a _CRS or _PRS
    method via an ACPI 3.0 UUID match. (from Bjorn Helgaas)
    
    Removed the length limit (200) on string objects as
    per the upcoming ACPI 3.0A specification. This affects
    the following areas of the interpreter: 1) any implicit
    conversion of a Buffer to a String, 2) a String object
    result of the ASL Concatentate operator, 3) the String
    object result of the ASL ToString operator.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 96db255c8f014ae3497507104e8df809785a619f
Author: Bob Moore <robert.moore@intel.com>
Date:   Wed Nov 2 00:00:00 2005 -0500

    [ACPI] ACPICA 20051102
    
    Modified the subsystem initialization sequence to improve
    GPE support. The GPE initialization has been split into
    two parts in order to defer execution of the _PRW methods
    (Power Resources for Wake) until after the hardware is
    fully initialized and the SCI handler is installed. This
    allows the _PRW methods to access fields protected by the
    Global Lock. This will fix systems where a NO_GLOBAL_LOCK
    exception has been seen during initialization.
    
    Fixed a regression with the ConcatenateResTemplate()
    ASL operator introduced in the 20051021 release.
    
    Implemented support for "local" internal ACPI object
    types within the debugger "Object" command and the
    acpi_walk_namespace() external interfaces. These local
    types include RegionFields, BankFields, IndexFields, Alias,
    and reference objects.
    
    Moved common AML resource handling code into a new file,
    "utresrc.c". This code is shared by both the Resource
    Manager and the AML Debugger.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 0897831bb54eb36fd9e2a22da7f0f64be1b20d09
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Oct 21 00:00:00 2005 -0400

    [ACPI] ACPICA 20051021
    
    Implemented support for the EM64T and other x86_64
    processors. This essentially entails recognizing
    that these processors support non-aligned memory
    transfers. Previously, all 64-bit processors were assumed
    to lack hardware support for non-aligned transfers.
    
    Completed conversion of the Resource Manager to nearly
    full table-driven operation. Specifically, the resource
    conversion code (convert AML to internal format and the
    reverse) and the debug code to dump internal resource
    descriptors are fully table-driven, reducing code and data
    size and improving maintainability.
    
    The OSL interfaces for Acquire and Release Lock now use a
    64-bit flag word on 64-bit processors instead of a fixed
    32-bit word. (Alexey Starikovskiy)
    
    Implemented support within the resource conversion code
    for the Type-Specific byte within the various ACPI 3.0
    *WordSpace macros.
    
    Fixed some issues within the resource conversion code for
    the type-specific flags for both Memory and I/O address
    resource descriptors. For Memory, implemented support
    for the MTP and TTP flags. For I/O, split the TRS and TTP
    flags into two separate fields.
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 50eca3eb89d73d9f0aa070b126c7ee6a616016ab
Author: Bob Moore <robert.moore@intel.com>
Date:   Fri Sep 30 19:03:00 2005 -0400

    [ACPI] ACPICA 20050930
    
    Completed a major overhaul of the Resource Manager code -
    specifically, optimizations in the area of the AML/internal
    resource conversion code. The code has been optimized to
    simplify and eliminate duplicated code, CPU stack use has
    been decreased by optimizing function parameters and local
    variables, and naming conventions across the manager have
    been standardized for clarity and ease of maintenance (this
    includes function, parameter, variable, and struct/typedef
    names.)
    
    All Resource Manager dispatch and information tables have
    been moved to a single location for clarity and ease of
    maintenance. One new file was created, named "rsinfo.c".
    
    The ACPI return macros (return_ACPI_STATUS, etc.) have
    been modified to guarantee that the argument is
    not evaluated twice, making them less prone to macro
    side-effects. However, since there exists the possibility
    of additional stack use if a particular compiler cannot
    optimize them (such as in the debug generation case),
    the original macros are optionally available.  Note that
    some invocations of the return_VALUE macro may now cause
    size mismatch warnings; the return_UINT8 and return_UINT32
    macros are provided to eliminate these. (From Randy Dunlap)
    
    Implemented a new mechanism to enable debug tracing for
    individual control methods. A new external interface,
    acpi_debug_trace(), is provided to enable this mechanism. The
    intent is to allow the host OS to easily enable and disable
    tracing for problematic control methods. This interface
    can be easily exposed to a user or debugger interface if
    desired. See the file psxface.c for details.
    
    acpi_ut_callocate() will now return a valid pointer if a
    length of zero is specified - a length of one is used
    and a warning is issued. This matches the behavior of
    acpi_ut_allocate().
    
    Signed-off-by: Bob Moore <robert.moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 44b5b0303327cfb23f135b95b2fe5436c81ed27c
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Dec 9 16:40:14 2005 -0800

    IB/mthca: don't change driver's copy of attributes if modify QP fails
    
    Only change the driver's copy of the QP attributes in modify QP after
    checking the modify QP command completed successfully.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6aa2e4e8063114bd7cea8616dd5848d3c64b4c36
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Dec 9 16:38:04 2005 -0800

    IB/mthca: correct log2 calculation
    
    Fix thinko in rd_atomic calculation: ffs(x) - 1 does not find the next
    power of 2 -- it should be fls(x - 1).
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 94361cf74a6fca1973d2fed5338d5fb4bcd902fa
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Dec 9 16:32:21 2005 -0800

    IB/mthca: check RDMA limits
    
    Add limit checking on rd_atomic and dest_rd_atomic attributes:
    especially for max_dest_rd_atomic, a value that is larger than HCA
    capability can cause RDB overflow and corruption of another QP.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 52d0df153c987e4ad57d15f5df91848f65858e5d
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Dec 9 13:48:50 2005 -0800

    IB/mthca: fix memory user DB table leak
    
    Free the memory allocated in mthca_init_user_db_tab() when releasing
    the db_tab in mthca_cleanup_user_db_tab().
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0efc4883a6b3de12476cd7a35e638c0a9f5fd75f
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Dec 9 13:46:32 2005 -0800

    IB/umad: fix memory leaks
    
    Don't leak packet if it had a timeout, and don't leak timeout struct
    if queue_packet() fails.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 95235ca2c20ac0b31a8eb39e2d599bcc3e9c9a10
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Fri Dec 2 10:43:20 2005 -0800

    [CPUFREQ] CPU frequency display in /proc/cpuinfo
    
    What is the value shown in "cpu MHz" of /proc/cpuinfo when CPUs are capable of
    changing frequency?
    
    Today the answer is: It depends.
    On i386:
    SMP kernel - It is always the boot frequency
    UP kernel - Scales with the frequency change and shows that was last set.
    
    On x86_64:
    There is one single variable cpu_khz that gets written by all the CPUs. So,
    the frequency set by last CPU will be seen on /proc/cpuinfo of all the
    CPUs in the system. What you see also depends on whether you have constant_tsc
    capable CPU or not.
    
    On ia64:
    It is always boot time frequency of a particular CPU that gets displayed.
    
    The patch below changes this to:
    Show the last known frequency of the particular CPU, when cpufreq is present. If
    cpu doesnot support changing of frequency through cpufreq, then boot frequency
    will be shown. The patch affects i386, x86_64 and ia64 architectures.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 9a7d82a89a8bf55b112f2a5c3b3f405eb95a4303
Author: Mattia Dongili <malattia@linux.it>
Date:   Wed Nov 30 22:00:59 2005 +0100

    [CPUFREQ] Move PMBASE reading away and do it only once at initialization time
    
    This patch moves away PMBASE reading and only performs it at
    cpufreq_register_driver time by exiting with -ENODEV if unable to read
    the value.
    
    Signed-off-by: Mattia Dongili <malattia@linux.it>
    Acked-by: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 1a10760c91c394dfe4adfefeeaf85cd8098c4894
Author: Mattia Dongili <malattia@linux.it>
Date:   Fri Dec 2 21:59:41 2005 +0100

    [CPUFREQ] Measure transition latency at driver initialization
    
    The attached patch introduces runtime latency measurement for ICH[234]
    based chipsets instead of using CPUFREQ_ETERNAL. It includes
    some sanity checks in case the measured value is out of range and
    assigns a safe value of 500uSec that should still be enough on
    problematics chipsets (current testing report values ~200uSec). The
    measurement is currently done in speedstep_get_freqs in order to avoid
    further unnecessary transitions and in the hope it'll come handy for SMI
    also.
    
    Signed-off-by: Mattia Dongili <malattia@linux.it>
    Acked-by: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Dave Jones <davej@redhat.com>
    
     speedstep-ich.c |    4 ++--
     speedstep-lib.c |   32 +++++++++++++++++++++++++++++++-
     speedstep-lib.h |    1 +
     speedstep-smi.c |    1 +
     4 files changed, 35 insertions(+), 3 deletions(-)

commit fc457fa7c0cdbfe96812ba377e508880d600298f
Merge: cc6e8de... e4f5c82...
Author: Dave Jones <davej@redhat.com>
Date:   Tue Dec 6 19:14:09 2005 -0800

    Merge ../linus/

commit cc6e8de8f0fab61760bb7091fb19eef1406e17be
Author: Dave Jones <davej@redhat.com>
Date:   Tue Dec 6 15:03:55 2005 -0800

    [CPUFREQ] Change loglevels on powernow-k8 bios error printk's.
    
    If a user has booted with 'quiet', some important messages don't
    get displayed which really should. We've seen at least one case
    where powernow-k8 stopped working, and the user needed a BIOS update
    that they didn't know about.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 3d5271f9883cba7b54762bc4fe027d4172f06db7
Merge: 378b255... 9115a6c...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Dec 6 17:31:30 2005 -0500

    Pull release into acpica branch

commit 9115a6c787596e687df03010d97fccc5e0762506
Merge: 927fe18... e4f5c82...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Dec 6 16:27:40 2005 -0500

    Auto-update from upstream

commit fe79e683ccdb29c13b3e0d18507474b4e2d9aab6
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Dec 6 11:34:59 2005 +0800

    [PATCH] libata: err_mask misc fix
    
      1. ata_pio_complete():
         It seems unnecessary to wait for the clearing of the DRQ bit.
         (Waiting for BSY=0 should be enough.
         ata_ok() also checks the correctness of the status bits later.)
    
      2. ata_pio_block():
         - added error checking, before transfering data.
         - minor comments fix
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d8fe452b3e8e9ea6d62a3d116a092999fabae407
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Mon Dec 5 15:42:17 2005 +0800

    [PATCH] libata: determine the err_mask directly in atapi_packet_task()
    
      - set qc->err_mask directly when we found the error
      - remove the code to determine err_mask from device status
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1c8489840e6b080e810e588423c1b6dd5913cf18
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Mon Dec 5 15:40:15 2005 +0800

    [PATCH] libata: determine the err_mask when the error is found
    
      - move "qc->err_mask |= AC_ERR_ATA_BUS" to where the error is found
      - add "assert(qc->err_mask)" to ata_pio_error() to make sure qc->err_mask was available when we enter the error state
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a22e2eb0710798009b8e696ae911aef745089dd6
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Mon Dec 5 15:38:02 2005 +0800

    [PATCH] libata: move err_mask to ata_queued_cmd
    
      - remove err_mask from the parameter list of the complete functions
      - move err_mask to ata_queued_cmd
      - initialize qc->err_mask when needed
      - for each function call to ata_qc_complete(), replace the err_mask parameter with qc->err_mask.
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ===============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c14b8331ec4843e4f2b67a4d847a0d812a50e43c
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Mon Dec 5 15:36:08 2005 +0800

    [PATCH] libata: minor patch before moving err_mask
    
      - add qc to ata_pio_poll()
      - reorder the initialization of qc in ata_pio_complete()
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ===================
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3c92cae74b24bdd521ad67eff260a8e4ce540d2b
Merge: fd8a882... 436b0f7...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 6 04:40:05 2005 -0500

    Merge branch 'master'

commit 003a20c81ec278595820d3829b544e90919f6f61
Merge: 2fde990... 436b0f7...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 6 04:39:48 2005 -0500

    Merge branch 'master'

commit f38f2a2c6f32bb29bacb95acd8f8a0d6b7270fa9
Merge: 4ef679e... 436b0f7...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 6 04:12:02 2005 -0500

    Merge branch 'master'

commit c82e6abfb3182c84d0204b178363086b09881a4a
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Thu Dec 1 18:16:00 2005 -0500

    [ACPI] IA64 ZX1 buildfix for _PDC patch
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5483
    
    ZX1 config doesn't include cpufreq, so move move acpi-processor.c
    up out of ia64/cpufreq directory.
    
    no functional changes
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 1e8df53c925024548cca4374f03bed1a7e2b0c45
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 5 16:47:46 2005 -0500

    [ACPI] Embedded Controller (EC) driver printk syntax update
    
    no functional changes
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 53f11d4ff8797bcceaf014e62bd39f16ce84baec
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 5 16:46:36 2005 -0500

    [ACPI] Enable Embedded Controller (EC) interrupt mode by default
    
    "ec_intr=0" reverts to polling
    "ec_burst=" no longer exists.
    
    Signed-off-by: Len Brown <len.brown@intel.com>
    Acked-by: Luming Yu <luming.yu@intel.com>

commit 02b28a33aae93a3b53068e0858d62f8bcaef60a3
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 5 16:33:04 2005 -0500

    [ACPI] Embedded Controller (EC) driver syntax update
    
    "intr" largely replaces "burst" for syntax to follow semantics
    "poll" largely replaces "polling" for economy of expression
    append "interrupt mode" or "polling mode" to dmesg line
    
    no functional changes
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit e38dc0ae24635a2a8a68d87cd0f4a13e74a52d98
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 5 16:29:02 2005 -0500

    ieee1394: remove nonexistent functions from nodemgr.h
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 61c7f775ca25ccfc0e51486103a724fb1a3a08f2
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 5 16:28:59 2005 -0500

    ieee1394: write broadcast_channel only to select nodes (fixes device recognition)
    
    Some old 1394-1995 SBP-2 bridges would hang if they received a broadcast write
    request to BROADCAST_CHANNEL before the config ROM was read.  Affected devices
    include Datafab MD2-FW2 2.5" HDD and SmartDisk VST FWCDRW-V8 portable CD writer.
    The write request is now directed to specific nodes instead of being broadcast
    to all nodes at once, and it is only performed if a previous read request at
    this register succeeded.
    
    Fixes an old interoperability problem which was perceived as a 2.6.14-specific
    regression: http://marc.theaimsgroup.com/?t=113190586800003
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit c4fc108a8275f5eb77c9859725643a6870d20ef6
Merge: 741854e... e4f5c82...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Mon Dec 5 15:52:41 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit c89a86bb96307019867d11874ef0b86adaa0598e
Merge: 07475ff... e4f5c82...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Dec 5 11:15:30 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 292d4ed32e35df4755052b5002e533348d1648fd
Merge: 3c6af7f... e4f5c82...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Dec 5 15:48:41 2005 +0000

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit fd8a882b612de93b351996ed42a9557afc1f8c34
Merge: c8a4f06... 3b6efee...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Dec 3 21:08:17 2005 -0500

    Merge branch 'master'

commit 2fde9901f6702ab82b5b2740fec9a7f9a80ddde4
Merge: f89c2b4... 3b6efee...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Dec 3 21:03:28 2005 -0500

    Merge branch 'master'

commit 4ef679e6caf1261b6380a610a705a90d7e2738c6
Merge: 98ac62d... 9a40525...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Dec 3 20:34:14 2005 -0500

    Merge branch 'upstream-fixes'

commit f89c2b464558a21fd3be8d578b7d13e810fb6b8a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Dec 1 08:41:32 2005 -0800

    [PATCH] sky2: interrupt not cleared.
    
    One of the rearrangements dropped this and it means
    sky2 spins in napi/interrupt.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d359b6ff6a79e250422fdfa991b36d37c286eda1
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Dec 1 11:12:47 2005 -0800

    [PATCH] ixp2000: change netif_schedule_test to __netif_schedule_prep
    
    Sky2 update changed name of netif_schedule_test to __netif_schedule_prep
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 07475ffba5800c53573180dd521273642adcd0e9
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Dec 3 14:11:37 2005 -0800

    [CIFS] Display large/small total buffer allocations in /proc/fs/cifs/Stats
    when CONFIG_CIFS_STATS2 is on (helps in debugging performance)
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 4498eed50a114565debd38f173acd62cce6e7cb8
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Dec 3 13:58:57 2005 -0800

    [CIFS] Add extended stats (STATS2) for total buffer allocations for
    better performance debugging.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 84afc29b185334f489975a003b128e1b15e24a54
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Dec 2 13:32:45 2005 -0800

    [CIFS] Readpages and readir performance improvements - eliminate extra
    memcpy.  Part 1
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit bf8206791750854bc6668266b694e8fe2cacb924
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Dec 1 22:32:42 2005 -0800

    [CIFS] Kerberos and CIFS ACL support part 1
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 06a2a3855e20ed3df380d69b37130ba86bec8001
Author: Luming Yu <luming.yu@intel.com>
Date:   Tue Sep 27 00:43:00 2005 -0400

    [ACPI] Disable EC burst mode w/o disabling EC interrupts
    
    Need to de-couple the concept of polling/interrupts
    vs burst/non-burst.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=4980
    
    Signed-off-by: Luming Yu <luming.yu@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit cf82478840188f8c8494c1d7a668a8ae170d0e07
Author: Janosch Machowinski <jmachowinski@gmx.de>
Date:   Sat Aug 20 08:02:00 2005 -0400

    [ACPI] handle BIOS with implicit C1 in _CST
    
    The ASUS M6Ne specifies C2, implying C1
    but not explicitly specifying it.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=4485
    
    Signed-off-by: Janosch Machowinski <jmachowinski@gmx.de>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 83451879ab213e152c6fe5c743f257ba58d7acd1
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Dec 1 17:12:59 2005 -0800

    [CIFS] Use fsuid (fsgid) more consistently instead of uid/gid in
    assembling smb requests when setuids and Linux protocol extensions enabled
    and in checking more matching sessions in multiuser mount mode.
    
    Pointed out by Shaggy.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 741854e4f9a23421e194df8d846899172ff393d6
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Dec 1 18:52:03 2005 -0500

    ieee1394: whitespace cleanup in hosts.[ch], ieee1394_core.[ch]
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 546513f9fd96cba613cc2d025ee03d32d79394b7
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Dec 1 18:52:01 2005 -0500

    ieee1394: hpsb_send_phy_config() cleanup
    
    Eliminate some code in hpsb_send_phy_config() which is provided
    by hpsb_make_phypacket().
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit d7758461b9a8253f1c125e5907579e0594d29e3b
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Dec 1 18:51:56 2005 -0500

    ieee1394: add definitions for phy packet constants
    
    Introduce new macros related to phy packets and use them in ieee1394_core and
    nodemgr.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 14c0fa243b358c24040ff5f44b60c47aaf6430c3
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Dec 1 18:51:52 2005 -0500

    ieee1394: resume remote ports when starting a host (fixes device recognition)
    
    After initializing an IEEE 1394 host, broadcast a resume packet.  This makes
    remote nodes visible which suspended their ports while the host was down.
    Such nodes had to be unplugged and replugged in order to be recognized.
    
    Motorola DCT6200 cable reciever was affected, probably other devices too.
    http://marc.theaimsgroup.com/?t=113202715800001
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 0f52bf905884c6dd7f994c9e2f533b2c02f0bd4b
Author: Brice Goglin <Brice.Goglin@ens-lyon.org>
Date:   Thu Dec 1 01:41:46 2005 -0800

    [PATCH] Duplicate IPW_DEBUG option for ipw2100 and 2200
    
    There are currently two IPW_DEBUG options in drivers/net/wireless/Kconfig
    (one for ipw2100 and one for ipw2200).  The attached patch splits it into
    IPW2100_DEBUG and IPW2200_DEBUG.
    
    Signed-off-by: Brice Goglin <Brice.Goglin@ens-lyon.org>
    Cc: "James P. Ketrenos" <ipw2100-admin@linux.intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c75f4742e2306a319baaa556e53209d4e7c47f0d
Author: Takis <panagiotis.issaris@gmail.com>
Date:   Thu Dec 1 01:41:45 2005 -0800

    [PATCH] ipw2200: kzalloc conversion and Kconfig dependency fix
    
    - Use kzalloc for IPW2200
    - Fix config dependency for IPW2200
    
    Signed-off-by: Panagiotis Issaris <takis@issaris.org>
    Cc: James Ketrenos <jketreno@linux.intel.com>
    Cc: Yi Zhu <yi.zhu@intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 62d65a8062530a4b2673999deb9be368fa60ca87
Merge: f89b232... ea182d4...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 04:51:26 2005 -0500

    Merge branch 'upstream-fixes'

commit d4921914de19339d7cd987d2ed6d48754821f41a
Author: Gabriel A. Devenyi <ace@staticwave.ca>
Date:   Thu Dec 1 01:09:22 2005 -0800

    [PATCH] cpufreq-nforce2.c fix u32<0 test
    
    Thanks to LinuxICC (http://linuxicc.sf.net), a comparison of a u32 less
    than 0 was found, this patch changes the variable to a signed int so that
    comparison is meaningful.
    
    Signed-off-by: Gabriel A. Devenyi <ace@staticwave.ca>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 537208c8072280ab87916710d5a3f7ef11ab94ff
Author: Alexander Clouter <alex-kernel@digriz.org.uk>
Date:   Thu Dec 1 01:09:23 2005 -0800

    [PATCH] cpufreq: documentation for 'ondemand' and 'conservative'
    
    Added a more verbose entry for the 'ondemend' governor and an entry for the
    'conservative' governor to the documentation.
    
    Signed-off-by: Alexander Clouter <alex-kernel@digriz.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 001893cda2f280ab882164737a0b608208524809
Author: Alexander Clouter <alex@digriz.org.uk>
Date:   Thu Dec 1 01:09:25 2005 -0800

    [PATCH] cpufreq_conservative/ondemand: invert meaning of 'ignore nice'
    
    The use of the 'ignore_nice' sysfs file is confusing to anyone using it.
    This removes the sysfs file 'ignore_nice' and in its place creates a
    'ignore_nice_load' entry that defaults to '0'; meaning nice'd processes
    _are_ counted towards the 'business' calculation.
    
    WARNING: this obvious breaks any userland tools that expected ignore_nice'
    to exist, to draw attention to this fact it was concluded on the mailing
    list that the entry should be removed altogether so the userland app breaks
    and so the author can build simple to detect workaround.  Having said that
    it seems currently very few tools even make use of this functionality; all
    I could find was a Gentoo Wiki entry.
    
    Signed-off-by: Alexander Clouter <alex-kernel@digriz.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit f89b23217372ed9bdba8804c1616d445402d1e05
Author: Dan Streetman <ddstreet@ieee.org>
Date:   Fri Nov 11 11:41:42 2005 -0500

    [PATCH] airo.c: add support for IW_ENCODE_TEMP (i.e. xsupplicant)
    
    Hello Jeff,
    
    this patch changes causes the airo driver to not reset the card when a
    temporary WEP key is set, when the IW_ENCODE_TEMP flag is used.  This is
    needed for xsupplicant as 802.1x, LEAP, etc. change WEP keys frequently
    after authentication and resetting the card causes infinite
    reauthentication.
    
    Javier and Jean agree with the patch, Javier suggested I send this to
    you, can you apply this?
    
    Thanks.
    
    Signed-off-by: Dan Streetman <ddstreet@ieee.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 98ac62defe529d04a192688f40d801a2d8fbcf98
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Nov 28 10:06:23 2005 +0100

    [PATCH] mark several libata datastructures const
    
    Hi,
    
    the patch below marks several libata (and libata-driver) structures
    const so that they end up in the .rodata segment and don't false-share
    cachelines with things that get dirtied often.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 127477840b9fd205958203648b9fa89860d69a43
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:50:08 2005 +0100

    [PATCH] ixp2000: add driver version, bump version to 0.2
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8ce51d69b755c39e714826899631629209896b70
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:50:04 2005 +0100

    [PATCH] ixp2000: add netpoll support
    
    Add netpoll support to the ixp2000 driver.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cffbfcaf00c4a36592fabd54ae9f960b552322b6
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:59 2005 +0100

    [PATCH] enp2611: disable/enable SERDES carrier on interface down/up
    
    Disable/enable the SERDES carrier when an interface is administratively
    downed/upped.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c6e429bdd6f0142558896e29c21a526c1ffdd1f3
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:55 2005 +0100

    [PATCH] pm3386: implement reset
    
    Implement pm3386 reset.  A reset zeroes out the internally stored MAC
    addresses, so we need to save and reload them by hand.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit df86550602f320d28fdaeb577c25f9821525bfa0
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:51 2005 +0100

    [PATCH] pm3386: add hook for setting carrier
    
    Add a pm3386 hook for disabling/enabling the SERDES carrier, so that
    we can disable it when the interface is administratively downed, and
    enable it when it is upped.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0b85c0ebde63a41d57b6214977ac2752bf5a086f
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:47 2005 +0100

    [PATCH] pm3386: add hook for setting MAC address
    
    When we reset the pm3386, it loses its internally stored MAC addresses
    that were programmed into it by the bootloader (and are used by the
    hardware for the generation of PAUSE frames.)  Add a hook to allow
    setting these addresses so that we can program them back by hand.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7ed98bfdea45dbdc66261660357659470935a03a
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:43 2005 +0100

    [PATCH] ixp2000: report MAC addresses for each port on init
    
    After initialising, report the MAC address that we're using for
    each port.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 350f19632d18e808aa1f2ca96f2be86c67de67ff
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:40 2005 +0100

    [PATCH] enp2611: report link up/down events
    
    Report carrier going up/down.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c44185d4dcb92384c22e6c01dc09c25adae36a82
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:35 2005 +0100

    [PATCH] enp2611: use 'dev' in link status timer
    
    We assign nds[i] to a local variable 'dev', which we never use
    afterwards.  Use the local variable instead.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit de287fd596e2e9ea9a29c397322d0a8b8a470cd1
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:30 2005 +0100

    [PATCH] enp2611: don't check netif_running() in link status timer
    
    Even after an interface has gone !netif_running(), we still want to
    catch the 'carrier went down' event for our internal bookkeeping.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee61249468ec9bb8d032896ae2e8ba8a8b8c3972
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:25 2005 +0100

    [PATCH] ixp2000: use netif_rx_schedule_test
    
    The sky2 driver introduced netif_rx_schedule_test().  This is
    exactly what we need, so remove our local version of this function
    (which was called netif_rx_schedule_prep_notup) and use the generic
    one instead.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6744a5069bdadd96324290d015103163a0f7a45b
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:21 2005 +0100

    [PATCH] caleb/pm3386: include proper header files
    
    Make caleb.c and pm3386.c include their own header files, to catch
    incorrect prototype definitions.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f48a8815f8535c62714cb596281d8480ba9e78ea
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:15 2005 +0100

    [PATCH] pm3386: remove unnecessary udelays
    
    Remove a number of unnecessary udelay() calls.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 178f171da7f0ea5cfc1c45932680c81b3a8a0bd6
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:10 2005 +0100

    [PATCH] pm3386: zero stats properly
    
    Zero our stats structure properly.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0c49919a4706cc8c72ff381da7f3ae094e6df03a
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Wed Nov 23 12:49:05 2005 +0100

    [PATCH] ixp2000: register netdevices last
    
    Do not register our netdevices with the kernel until we've actually
    finished setting up the hardware and microcode.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 35b8fcab1b293cadd54cdf9e9636cc576d2cad88
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:54 2005 -0800

    [PATCH] sk98lin: remove /proc interface
    
    Remove device specific proc interface. It doesn't handle
    renames correctly; it ain't worth fixing.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8f7a17d12a8cfd0ab4a50dded8390f6c44f1f205
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:53 2005 -0800

    [PATCH] sk98lin: remove redundant fields in device info
    
    Shrink size of per device data by removing redundant fields
    or things that are only used at boot up.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 09f5a214389fe467c2ff15aa2b85349bbde15bce
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:52 2005 -0800

    [PATCH] sk98lin: allow ethtool checksum on/off per port
    
    Allow control of checksumming parameters via ethtool.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e9022ee6c348d41cb62c55e15a9711f7a96f2399
Merge: 5f4f9dc... be0df20...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 02:22:47 2005 -0500

    Merge branch 'upstream-fixes'

commit 5f4f9dc113a7aedca072851f3a51cc563f8e143f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:23 2005 -0800

    [PATCH] sky2: update version number
    
    Update version number and print version in boot message.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 50241c4c59453fae01555f67daa96d799d85b968
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:22 2005 -0800

    [PATCH] sky2: use pci_register_driver
    
    Switch to using pci_register_driver as per current convention.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit af4ed7e6ba0cba388cf691f3a330089bd46e4d9e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:21 2005 -0800

    [PATCH] sky2: remove pci-express hacks
    
    Eliminate special case tuning for PCI-Express. This code
    causes receive hangs and doesn't help performance much anyway.
    
    Signed-off-by: Stephen Hemminger <shemmnger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 65497dacd8104004f5115dcb2dfe1bf697154ce9
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:20 2005 -0800

    [PATCH] sky2: byteorder annotation
    
    Use byteorder annotation for hardware structures
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2224795d7e4c7f7e44fe21f0fa067d62539308fb
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:19 2005 -0800

    [PATCH] sky2: dual port tx completion
    
    Sometimes on dual port cards, one tx complete may cover both
    ports. To handle that rearrange poll routine to lookup at
    end.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 018d1c667ef4dce5299dd79d38447840789c97d6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:18 2005 -0800

    [PATCH] sky2: race with MTU change
    
    Avoid possible race conditions when doing MTU and change and shutdown.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0a1225769763779288d759e904c4f5a660844ce4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:17 2005 -0800

    [PATCH] sky2: change netif_rx_schedule_test to __netif_schedule_prep
    
    I didn't like the name netif_rx_schedule_test(), in earlier patches
    and changed to __netif_rx_schedule_prep to be more consistent.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a018e3305fe1e500e28830666b1757b75c6b4df5
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:16 2005 -0800

    [PATCH] sky2: handle DMA boundary crossing
    
    Handle the case of DMA spanning 32 bit boundary.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5a5b1ea026572ac0e5e03d7322deb546d60f9e6e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:15 2005 -0800

    [PATCH] sky2: add Yukon-EC ultra support
    
    Add support for Yukon-EC Ultra chip as implemented in SysKonnect's
    driver version 8.26.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 13210ce5c06ed9537558b85e9c0df4248b28f1f7
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:14 2005 -0800

    [PATCH] sky2: improve receive performance
    
    Changes to receive side processing:
    	* bigger receive ring
    	* clean up polling loop
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 42eeea0145a1c7570624ddeaa15d3f357a52edf8
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:13 2005 -0800

    [PATCH] sky2: fix receive flush/pause issues
    
    Fix issues with pause and flush. This code works on
    all chip versions tested.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ef743d3359813795fb38c4308bff2311eb30651f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:12 2005 -0800

    [PATCH] sky2: add MII support
    
    Add MII ioctl interface to sky2.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 214376434863f9ca109a7853fbbd6db284d3fba7
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 30 11:45:11 2005 -0800

    [PATCH] sky2: eliminate special case for EC-A1
    
    Eliminate special case for EC-A1. The overhead isn't so
    great that having config option is worth it.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6946d28a9f47f50fe3dd916e8b4229de9769108e
Merge: 6c9e5eb... 5666c09...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 01:58:36 2005 -0500

    Merge branch 'master'

commit e538af42e416ac17368593370f7e1f5a71d55197
Merge: 2226340... 5666c09...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 01:54:02 2005 -0500

    Merge branch 'master'

commit c8a4f06e4b27dba425ed49fa603d9257e4cd9ece
Merge: 4ab4326... 5666c09...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 01:53:40 2005 -0500

    Merge branch 'master'

commit 05131ecc99ea9da7f45ba3058fe8a2c1d0ceeab8
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Sun Oct 23 16:31:00 2005 -0400

    [ACPI] Avoid BIOS inflicted crashes by evaluating _PDC only once
    
    Linux invokes the AML _PDC method (Processor Driver Capabilities)
    to tell the BIOS what features it can handle.  While the ACPI
    spec says nothing about the OS invoking _PDC multiple times,
    doing so with changing bits seems to hopelessly confuse the BIOS
    on multiple platforms up to and including crashing the system.
    
    Factor out the _PDC invocation so Linux invokes it only once.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5483
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 1a38416cea8ac801ae8f261074721f35317613dc
Author: David Shaohua Li <shaohua.li@intel.com>
Date:   Wed Nov 23 12:36:00 2005 -0500

    [ACPI] SMP S3 resume: evaluate _WAK after INIT
    
    On SMP resume from S3, we reset (INIT) the non-boot
    processors to boot them cleanly.  But the BIOS needs
    to execute _WAK after INIT in order to properly
    initialized these processors upon resume.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5651
    
    Signed-off-by: David Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 378b2556f4e09fa6f87ff0cb5c4395ff28257d02
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 30 21:03:21 2005 -0500

    [ACPI] 8250_acpi.c buildfix
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit c780f964902a8c4e7f702ff3e0a2b754e82b3ca3
Author: MAEDA Naoaki <maeda.naoaki@jp.fujitsu.com>
Date:   Wed Nov 30 18:00:24 2005 -0500

    [ACPI] ia64 build fix
    
    arch/ia64/kernel/acpi-ext.c: In function `acpi_vendor_resource_match':
    arch/ia64/kernel/acpi-ext.c:38: error: structure has no member named `id'
    
    Signed-off-by: MAEDA Naoaki <maeda.naoaki@jp.fujitsu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 6c9e5eb522bca694a0311898039d2707e9bc7783
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 30 16:42:55 2005 -0500

    [libata sata_promise] minor whitespace cleanup

commit 6df8900676c3f5c133328332fb8ad889fd0cc9e3
Author: Dave Jones <davej@redhat.com>
Date:   Wed Nov 30 13:33:30 2005 -0800

    [CPUFREQ] Fix indentation in powernow-k8
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit de1bb1a64c29bae4f5330c70bd1dc6a62954c9f4
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Wed Nov 30 10:01:13 2005 -0800

    IB/cm: avoid reusing local ID
    
    Use an increasing local ID to avoid re-using identifiers while
    messages may still be outstanding on the old ID.  Without this, a
    quick connect-disconnect-connect sequence can fail by matching
    messages for the new connection with the old connection.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 227eca83690da7dcbd698d3268e29402e0571723
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Wed Nov 30 10:00:25 2005 -0800

    IB/cm: correct reported reject code
    
    Change reject code from TIMEOUT to CONSUMER_REJECT when destroying a
    cm_id in the process of connecting.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit a3c8ab4fe8f006d742c24be677518bfa9862e732
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Wed Nov 30 09:55:22 2005 -0800

    IB/mthca: fix QP size limits for mem-free HCAs
    
    Unlike tavor, the max work queue size is an exact power of 2 for arbel
    mode, despite what the documentation (of the QUERY_DEV_LIM firmware
    command) says.  Without this patch, on Arbel, we can start with a QP
    of a valid size and get above the reported limit after rounding to the
    next power of two.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 01fc99864ecc678c4f1f476b2a8b64ebcb14e733
Merge: a880b11... d2ef5eb...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Wed Nov 30 00:45:31 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit be37bdbce7ceaacf4f20c6cc759efbe75ebd1196
Merge: 019a61b... d70aa5e...
Author: Dave Jones <davej@redhat.com>
Date:   Tue Nov 29 12:48:34 2005 -0800

    Merge ../linus

commit 019a61b99338d0ac05de25317b85da88e7ec4b35
Author: Langsdorf, Mark <mark.langsdorf@amd.com>
Date:   Tue Nov 29 14:18:03 2005 -0600

    [PATCH] Support 100 MHz frequency transitions
    
    Future versions of the Opteron processor may support
    frequency transitions of 100 MHz, instead of the=20
    current 200 MHz.  This patch enables the powernow-k8
    driver to transition to an odd FID code, indicating
    a multiple of 100 MHz frequency.
    
    Signed-off-by: Jacob Shin <jacob.shin@amd.com>
    Signed-off-by: Mark Langsdorf <mark.langsdorf@amd.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit b71d4da092801634d04190693a38ca03bdbe2505
Merge: 656563e... 624f54b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 29 03:55:47 2005 -0500

    Merge branch 'master'

commit 4ab432677957e0a064bba3690004d3244de8ad6c
Merge: 3076552... 624f54b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 29 03:51:15 2005 -0500

    Merge branch 'master'

commit 2226340eb8df9c42f9fca74582d08d5117fc0cec
Merge: 2e06cb5... 624f54b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 29 03:50:33 2005 -0500

    Merge branch 'master'

commit a880b11a95fab4618da412d99fc7365d723e702d
Merge: 899a1fc... 458af54...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Mon Nov 28 17:46:32 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 2e06cb5859fdaeba0529806eb1bf161ffd0db201
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 28 13:54:22 2005 -0500

    [bonding] Remove superfluous changelog.
    
    No need to record this information in source code, its all in the git
    repository, and kernel archives.

commit 3c6af7fa787f21f8873a050568ed892312899eb5
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Thu Nov 24 13:41:33 2005 +0000

    NTFS: Fix a potential overflow by casting (index + 1) to s64 before doing a
          left shift using PAGE_CACHE_SHIFT in fs/ntfs/file.c.  Thanks to Andrew
          Morton pointing this out to.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 899a1fc084ef3dcb57737d8847bf219cbf353ed3
Merge: c64d472... 989e4d6...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Tue Nov 22 12:38:34 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit c64d472abc68dcad4d34f365545058c3f11973d8
Author: Jens-Michael Hoffmann <jensmh@gmx.de>
Date:   Tue Nov 22 12:37:10 2005 -0500

    ieee1394/raw1394: LIndent fixes
    
    This patch contains fixes by LIndent.
    
    Signed-off-by: Jens-Michael Hoffmann <jensmh@gmx.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 066ef9c2fb30a22eca7724326e210f0405c51f29
Author: Jens-Michael Hoffmann <jensmh@gmx.de>
Date:   Tue Nov 22 12:35:23 2005 -0500

    ieee1394/iso: LIndent fixes
    
    This patch contains fixes by LIndent.
    
    Signed-off-by: Jens-Michael Hoffmann <jensmh@gmx.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 16c333a34a1a0441c54c4fe5cf6052716f95c2fa
Author: Jens-Michael Hoffmann <jensmh@gmx.de>
Date:   Tue Nov 22 12:34:16 2005 -0500

    ieee1394/ieee1394_transactions: LIndent fixes
    
    This patch contains fixes by LIndent.
    
    Signed-off-by: Jens-Michael Hoffmann <jensmh@gmx.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 6649e92d792efa00a823781bcee2dba7f21199ba
Author: Jens-Michael Hoffmann <jensmh@gmx.de>
Date:   Tue Nov 22 12:18:28 2005 -0500

    ieee1394/dma: LIndent fixes
    
    This patch contains fixes by LIndent.
    
    Signed-off-by: Jens-Michael Hoffmann <jensmh@gmx.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit a96074e76f87a4f658af4ecfd95edc89cfd61fc1
Author: Jody McIntyre <scjdy@steamballoon.com>
Date:   Tue Nov 22 12:17:14 2005 -0500

    csr1212: add check for !valid
    
    Don't read the keyval if there's already a valid one in place.  May not be
    necessary but shouldn't hurt.
    
    Signed-off-by: Jody McIntyre <scjdy@steamballoon.com>

commit 5303a986c33ae6c75d5ffb57d06ccf9246a8725a
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Tue Nov 22 12:17:11 2005 -0500

    csr1212: check results of keyval reads
    
    csr1212_parse_csr() did not properly check return values when reading
    keyvals.  Fix this by using _csr1212_read_keyval() instead of
    csr1212_get_keyval() and checking the return code.
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>

commit b12479ddce4aed112e0018fdf8bbb7cfb349ebdc
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Nov 21 17:32:18 2005 -0500

    raw1394: fix memory deallocation in modify_config_rom
    
    raw1394: use correct deallocation macro for CSR cache
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit d734f92b0dc4c04daa2e0106354972cbbc2e0fbe
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 21 17:32:14 2005 -0500

    drivers/ieee1394/raw1394.c: fix a NULL pointer
    
    The coverity checker spotted that this was a NULL pointer dereference in
    the "if (copy_from_user(...))" case since the next step is to
    kfree(cache->filled_head).
    
    There's no need to free cache at this point, and it's getting free'd
    later.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit e067e1f98d54d62fd598126f95e7684e5b63e67f
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Mon Nov 21 22:59:32 2005 +0100

    kconfig: truncate too long menu lines in menuconfig
    
    menu lines wrapped over too lines when too long - truncate them.
    Also fixed a coding style issue
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 8aae8284fece2b8fc404ccd40b7a30aa96f317b5
Author: Jacob Shin <jacob.shin@amd.com>
Date:   Mon Nov 21 07:23:08 2005 -0800

    [CPUFREQ] Improve Error reporting in powernow-k8
    
    This patch cleans up some error messages in the
    powernow-k8 driver and makes them more understandable.
    
    Signed-off-by: Jacob Shin <jacob.shin@amd.com>
    Signed-off-by: Mark Langsdorf <mark.langsdorf@amd.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 59d3cf7a40dfdbb8e86758ade172831c19630050
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Nov 20 23:34:35 2005 +0100

    kconfig: make lxdialog/menubox.c more readable
    
    Utilising a small macro for print_item made wonders for readability
    for this file.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 7c3badf96e0dc8aa89ebf8919653339a5ee8e035
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Nov 20 23:03:49 2005 +0100

    kconfig: Fix indention when using menuconfig in text-onle consoles
    
    When using menuconfig in a text-only console (no X started)
    the indention was often two spaces wrong. This proved to be a ncurses
    issue which are worked around by calling wrefresh more often.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 0e175d05a4e72f85918da3ea4bd9f5d3d78face4
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Nov 20 22:41:21 2005 +0100

    kconfig: Left aling menu items in menuconfig
    
    Keeping menu lines on a fixed position creates less visual
    noise when navigating the menus.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 656563e32c3f1dfdc35b3944305ece1c5dfeade5
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 20 03:36:45 2005 -0500

    [libata] Print out SATA speed, if link is up
    
    Make the SATA phy probe messages a bit more informative.
    
    Note this only applies to drivers that use __sata_phy_reset(),
    which excludes some drivers.

commit 30765528d156e58d41ed07cae8726c9105111b9d
Merge: e1d7a2d... 3bedff1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 20 01:05:46 2005 -0500

    Merge branch 'master'

commit 4af452bd03ec73efb1d3bf560d6d22b12d96752e
Merge: 625876f... 3bedff1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 20 01:05:35 2005 -0500

    Merge branch 'master'

commit 1b15688b31d8c88881102426279e8cc03953860b
Merge: 4b317d2... 3bedff1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 20 00:40:19 2005 -0500

    Merge branch 'master'

commit 977545e35289b13981614a57fd6c9b82d55e3b4a
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Nov 19 21:35:22 2005 -0500

    sbp2: slimmer interface to scsi_mod
    
    - sbp2scsi_reset does not need to take host_lock
    - sbp2scsi_reset, as our device reset handler, does not need to stand in as
      bus reset or host reset handler
    - let scsi_mod use scsi_host_template.name instead of .info
      (sbp2 is not an emulation anway)
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit e4cda1654e5c0be4b68e29011e8dc04977286df9
Author: Damien Douxchamps <ddouxchamps@users.sf.net>
Date:   Sat Nov 19 21:32:03 2005 -0500

    Fix incorrect video1394 timestamps.
    
    This patch fixes the incoherent timestamps generated by video1394 since
    the single-buffer patch was applied in 2.6.11. Credits have also been
    removed from the header and a "//" comment was changed to "/* */".
    
    Signed-off-by: Damien Douxchamps <ddouxchamps@users.sf.net>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit e27d3014f301e6aee7b65b62ad1da2940e1fd8de
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Nov 19 21:23:48 2005 -0500

    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit fa7009d5b59b8acd8071f7b3057d36eeeaf08146
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Nov 19 23:38:06 2005 +0100

    kconfig: Add print_title helper in lxdialog
    
    Simplify check for long title and use a helper function in util.c
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit a06104af7dcf2f5bafaf18f373c8b2554cbfe014
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Nov 19 22:17:55 2005 +0100

    kconfig: lxdialog is now sparse clean
    
    Replacing a gcc idiom with malloc and deleting an unused global
    variable made lxdialog sparse clean.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit dec69da856653772d7ee7b2f98dc69da27274a22
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Nov 19 21:56:20 2005 +0100

    kconfig: fixup after Lindent
    
    Readability are more important then the 80 coloumn limit, so fold
    several lines to greatly improve readability.
    Also keep return type on same line as function definition.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit b1c5f1c635f4a821f834ed51ccd8a2a1515fffd2
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sat Nov 19 19:13:34 2005 +0100

    kconfig: Lindent scripts/lxdialog
    
    The lxdialog code was not easy to read. So as first step the code
    was run through Lindent.
    Fix-ups will come in next patchset.
    
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 4b317d212cc23a1d635ca8329c802224178afddf
Merge: 79bfb0a... b286e39...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 19:55:06 2005 -0500

    Merge branch 'master'

commit 625876f32ed63af262db3d0ac8178d2c0f510636
Merge: c902f98... b286e39...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 19:54:12 2005 -0500

    Merge branch 'master'

commit 35267ab61f0bf7a867ac87e19714b858d08d440a
Merge: a9931a6... 8907e94...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Fri Nov 18 15:16:15 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit c902f981b79b512eb3d0c0410f8cae88c78beb57
Merge: 97bae8d... f7492f1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 15:07:11 2005 -0500

    Merge branch 'upstream-fixes'

commit e1d7a2de6c4249072dd886c129410e11e637ceff
Merge: fc71fe4... 6b27adb...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:58:20 2005 -0500

    Merge branch 'linville-e1000' of git://git.tuxdriver.com/git/netdev-jwl

commit 6b27adb607282addcfe2707783dfcc28ba3a753b
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Nov 8 15:59:30 2005 -0500

    [PATCH] e1000: zero-out pointers in e1000_free_desc_rings
    
    In e1000_free_desc_rings, zero-out pointers after the memory they
    point to is freed.  The test rings are static and get re-used, and
    failures during subsequent test setups can cause e1000_free_desc_rings
    to get called with dirty pointers.  Dirty pointers can cause oopses
    or crashes...
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e98fc4aae10b925ad5aa739c483abf78d80b66db
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Nov 8 15:45:02 2005 -0500

    [PATCH] e1000: avoid leak when e1000_setup_loopback_test fails
    
    In e1000_loopback_test, make sure to call e1000_free_desc_rings if
    e1000_setup_loopback_test fails.  Currently in that case it will not
    get called, causing a leak.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 97bae8dc961f59e81e85c7f92ff04f5ff73c20e8
Merge: 15d014d... cea00da...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:36:39 2005 -0500

    Merge branch 'upstream-fixes'

commit 15d014d13149aedd76cbff1b5c3bbfe839391457
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Fri Nov 11 18:23:13 2005 +0100

    [PATCH] intel ixp2000 network driver
    
    The way the hardware and firmware work is that there is one shared RX
    queue and IRQ for a number of different network interfaces.  Due to this,
    we would like to process received packets for every interface in the same
    NAPI poll handler, so we need a pseudo-device to schedule polling on.
    
    What the driver currently does is that it always schedules polling for
    the first network interface in the list, and processes packets for every
    interface in the poll handler for that first interface -- however, this
    scheme breaks down if the first network interface happens to not be up,
    since netif_rx_schedule_prep() checks netif_running().
    
    sky2 apparently has the same issue, and Stephen Hemminger suggested a
    way to work around this: create a variant of netif_rx_schedule_prep()
    that does not check netif_running().  I implemented this locally and
    called it netif_rx_schedule_prep_notup(), and it seems to work well,
    but it's something that probably not everyone would be happy with.
    
    The ixp2000 is an ARM CPU with a high-speed network interface in the
    CPU itself (full duplex 4Gb/s or 10Gb/s depending on the IXP model.)
    The CPU package also contains 8 or 16 (again depending on the IXP
    model) 'microengines', which are somewhat primitive but very fast
    and efficient processor cores which can be used to offload various
    things from the main CPU.
    
    This driver makes the high-speed network interface in the CPU visible
    and usable as a regular linux network device.  Currently, it only
    supports the Radisys ENP2611 IXP board, but adding support for other
    board types should be fairly easy.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7f7f53168dbee6d6a462acea666fddd18aad4f08
Author: Andy Fleming <afleming@freescale.com>
Date:   Fri Nov 11 12:38:59 2005 -0600

    [PATCH] Gianfar update and sysfs support
    
    This seems to have gotten lost, so I'll resend.
    
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    
    * Added sysfs support to gianfar for modifying FIFO and stashing parameters
    * Updated driver to support 10 Mbit, full duplex operation
    * Improved comments throughout
    * Cleaned up and optimized offloading code
    * Fixed a bug where rx buffers were being improperly mapped and unmapped
    * (only manifested if cache-coherency was off)
    * Added support for using the eTSEC exact-match MAC registers
    * Bumped the version to 1.3
    * Added support for distinguishing between reduced 100 and 10 Mbit modes
    * Modified default coalescing values to lower latency
    * Added documentation
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fed5eccdcf542742786701b2514b5cb7ab282b93
Author: Ananda Raju <Ananda.Raju@neterion.com>
Date:   Mon Nov 14 15:25:08 2005 -0500

    [PATCH] s2io: UFO support
    
    This patch implements the UFO support in S2io driver. This patch uses the UFO
    interface available in linux-2.6.15 kernel.
    
    Signed-off-by: Ananda Raju <ananda.raju@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1f8fc99300c6247cace008c470f31eb86e9e7802
Merge: 638cbac... 7635d34...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:23:52 2005 -0500

    Merge branch 'upstream-jgarzik' of git://git.tuxdriver.com/git/netdev-jwl

commit 638cbac8de9b57345a9446e107b6aebc10b58970
Merge: f055408... fc71fe4...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:23:21 2005 -0500

    Merge branch 'master'

commit 79bfb0a98fdc73ed6a18469cef245cbf50a1d8bb
Merge: 67cb6e8... fc71fe4...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 11:30:38 2005 -0500

    Merge branch 'master'

commit a9931a6e37c09f6b76a9fa0cbd777c335548692b
Merge: 7301c8d... 811803c...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Fri Nov 18 00:18:25 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 7301c8d3a05dc52d33598364da7c4eb6ab6357eb
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Fri Nov 18 00:16:26 2005 -0500

    Remove amdtp, cmp drivers.
    
    Remove the Audio and Music Data Transmission Protocol driver and the
    Connection Management Procedures driver.  These are incomplete, have never
    worked, and are better implemented in userland via raw1394 (see
    http://freebob.sourceforge.net/ for example.)
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>
    Cc: Adrian Bunk <bunk@stusta.de>

commit 67cb6e842e7f1e534a5e0e8708a8779e33b60520
Merge: 8bb6030... a2c91a8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 17 11:16:39 2005 -0500

    Merge branch 'upstream-fixes'

commit 7635d345b2c047339b44c85fff486c6b94b67216
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 13 13:26:25 2005 -0500

    [PATCH] hostap: rename hostap.c to hostap_main.c
    
    I wanted to remove the #include "hostap_ioctl.c" from hostap.c and
    build hostap_ioctl.c separately, but this doesn't work since hostap.c
    has the same name as the module.
    
    After renaming hostap.c this will be possible.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 5bc4c36d7cd9f1605efeade67b3d27845a4affcd
Author: Christophe Lucas <clucas@rotomalug.org>
Date:   Sat Nov 12 21:58:53 2005 +0300

    [PATCH] atmel: audit return code of create_proc_read_entry
    
    Signed-off-by: Christophe Lucas <clucas@rotomalug.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 4d791aadf63c9d605bc9a4144e79d5756fc29fb3
Author: Carlo Perassi <carlo@linux.it>
Date:   Sun Nov 13 15:02:15 2005 +0300

    [PATCH] atmel: CodingStyle cleanup
    
    Reading this driver I noticed some trailing whitespaces and tabs so I
    removed them with some 80th column fitting and a few more similar
    things.
    
    Signed-off-by: Carlo Perassi <carlo@linux.it>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit c1120b22499d7e13e5cd2349cb2168b76d0edaca
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sat Nov 12 23:46:43 2005 +0300

    [PATCH] Remove drivers/net/wan/lmc/lmc_prot.h
    
    "grep "lmc_prot\." -r ." didn't show anything.
    
    lmc_proto.h seems to have the correct prototypes, and is actually used.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 9a648f3c535cb6b24a5f0538d032aea9a33ec515
Author: John W. Linville <linville@tuxdriver.com>
Date:   Sun Nov 13 00:33:32 2005 -0500

    [PATCH] skge: fix warning from inlining SkPciWriteCfgDWord()
    
    Making SkPciWriteCfgDWord a static inline produces a warning due to a
    forward declaration in skdrv2nd.h.  This patch removes that declaration.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit c8ebd3a37f0e7a2aae337279d58a50c1a1fcd053
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Nov 11 20:44:21 2005 +0100

    [PATCH] drivers/net/sk98lin/skge.c: make SkPciWriteCfgDWord() a static inline
    
    No external user and that small - such a function should be static
    inline and not a global function.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 8bb6030b62a70edc0cb8129338f83e9063aeaf92
Merge: 77ed78e... 7bdd720...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 11:07:14 2005 -0500

    Merge branch 'upstream-fixes'

commit 77ed78e5cf32be1c3fae5c477cc1d78e2e3f17db
Merge: 68bdbdf... f6ff56c...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 15 20:56:07 2005 -0500

    Merge branch 'master'

commit 68bdbdf0b32566e1ebd41415bde9a7c43b47bf48
Merge: 1c24a41... 9f68a24...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 15 14:25:12 2005 -0500

    Merge branch 'upstream-fixes'

commit f055408957750cf759162c364c2a4dfe19765844
Merge: 83cbd33... 4060994...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 15 04:51:40 2005 -0500

    Merge branch 'master'

commit 83cbd33aae2c3cd14f80a8abf733033a57aa4923
Merge: 06d61cb... 691b73b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 15 04:49:03 2005 -0500

    Merge branch 'bonding-sysfs' of git://git.tuxdriver.com/git/netdev-jwl

commit 1c24a412fd8873bcacba7ed8a1780d12b86b6cb5
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 18:20:23 2005 -0500

    [libata ata_piix] cleanup: remove duplicate ata_port_info records

commit e74ac79956ecb56e71a398c57eb10fab8c58a562
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 18:16:37 2005 -0500

    [libata] remove two unused fields from struct ata_port

commit 691b73b13220886aefacb7c7f7ace7f528bbf800
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:57 2005 -0800

    [PATCH] bonding: comments and changelog
    
    Bonding source files still have changelogs in the comments.  This, then,
    is an update to that changelog.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e944ef79184ff7f283e7bf79496d2873a0b0410b
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:50 2005 -0800

    [PATCH] bonding: spelling and whitespace corrections
    
    Minor spelling and whitespace corrections.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 39755cad88f7b26dcb1edf9dcf14bd85f8fc2a3a
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:46 2005 -0800

    [PATCH] bonding: version update
    
    Update the version number for the bonding module.  Since we've just
    added a significant new feature (sysfs support), bump the major number.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit b76cdba9cdb29b091cacb4c11534ffb2eac02f64
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:41 2005 -0800

    [PATCH] bonding: add sysfs functionality to bonding (large)
    
    This large patch adds sysfs functionality to the channel bonding module.
    Bonds can be added, removed, and reconfigured at runtime without having
    to reload the module.  Multiple bonds with different configurations are
    easily configured, and ifenslave is no longer required to configure bonds.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 4756b02f558cbbbef5ae278fd3bbed778458c124
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:25 2005 -0800

    [PATCH] bonding: add ARP entries to /proc
    
    Make the /proc files show which ARP targets are in use by each bond.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 6b780567223524cac86c745aeac425521cf37490
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:19 2005 -0800

    [PATCH] bonding: Allow ARP target table to have empty entries
    
    With the sysfs interface, the user can remove entries from the ARP table
    at runtime.  The ARP monitor code now allows for empty entries in the
    table.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 3c535952d86df83f817595068c9fd2b3cfbd3a4d
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:11 2005 -0800

    [PATCH] bonding: make bond_init not __init
    
    The sysfs interface can create bonds at runtime, and __init code goes away
    after module init.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit dfe60397a62b1a5ebc7f05fd65463d3e29397677
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:36:04 2005 -0800

    [PATCH] bonding: move bond creation into separate function
    
    The sysfs interface can create bonds at runtime, so we need a separate
    function to do this, instead of just doing it in the module init code.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit a77b53258d76513c37e766dc0db1fc9db7c4ac1e
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:51 2005 -0800

    [PATCH] bonding: make functions not static
    
    The sysfs code needs access these functions, so make them
    not static, and move the protos to the header file.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 12479f9a823dc7d791f198af2d3e4efae418a65e
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:44 2005 -0800

    [PATCH] bonding: expose some structs
    
    The sysfs code needs to know what these structs look like, so make them
    not static, and move the definition to the header.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit b76850ab577bb4b929e60894d2025bbfcc043984
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:35 2005 -0800

    [PATCH] bonding: explicitly clear RLB flag during ALB init
    
    Explicitly clear RLB flag during ALB init.  This is needed for sysfs
    support, since the bond mode can be changed at runtime via sysfs.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0d206a3af4329bd833cfa5fe1cc7fe146e49c131
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:30 2005 -0800

    [PATCH] bonding: move kmalloc out of spinlock in ALB init
    
    Move memory allocations out of the spinlock during ALB init.  This gets
    rid of a sleeping-inside-spinlock warning and accompanying stack dump.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0f418b2ac49e97b7b763e0473320a201eec15ed3
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:21 2005 -0800

    [PATCH] bonding: get slave name from actual slave instead of param list
    
    Take the primary slave name shown in /proc from the actual slave dev
    instead of from the command-line parameter, which won't be present
    if the bond is created via sysfs.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit c61b75ad03f3a30ef247cac27406f030c10628b0
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:13 2005 -0800

    [PATCH] bonding: Add transmit policy to /proc
    
    Adds information about the recently-added transmit policy setting to each
    bond's /proc file.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 2ac47660f9b4d0ea1a2ab9becba03c14ef5d9b99
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:35:03 2005 -0800

    [PATCH] bonding: expand module param descriptions
    
    Expand and correct the parameter descriptions shown by modinfo.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 4e0952c74ee450ded86e8946ce58ea8dfd05b007
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:34:57 2005 -0800

    [PATCH] bonding: add bond name to all error messages
    
    Add the bond name to all error messages so we can tell which one is
    complaining.  Also reformats some error messages to be more consistent.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit c2373ee98982a1c842dfb213c398f388d4227e63
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:34:45 2005 -0800

    [PATCH] net: make dev_valid_name public
    
    dev_valid_name() is a useful function.  Make it public.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 1e2e5659656b8b9bd9fa4714355d91282cb74178
Author: Mitch Williams <mitch.a.williams@intel.com>
Date:   Wed Nov 9 10:34:01 2005 -0800

    [PATCH] net: allow newline terminated IP addresses in in_aton
    
    in_aton() gives weird results if it sees a newline at the end of the
    input. This patch makes it able to handle such input correctly.
    
    Signed-off-by: Mitch Williams <mitch.a.williams@intel.com>
    Acked-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 925142431bd653175b80ae153bd7a8bc13628bde
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sat Nov 12 21:52:46 2005 +1100

    drm: update VIA driver to 2.7.2
    
    Add PCI DMA blitengine to VIA DRM
    Add portability code for porting VIA to FreeBSD.
    Sync via_drm.h with 3d driver
    
    From: Thomas Hellstrom <unichrome@shipmail.org>, Eric Anholt <anholt@freebsd.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 06d61cbf7c2522f43c09d5bb050acd0bd31812c0
Merge: 34afd63... d0bbccf...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 22:48:14 2005 -0500

    Merge branch 'sky2'

commit 34afd638d0b0698e66b6aa4f749face019a3e90f
Merge: 5d06b6b... e532c37...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 22:47:48 2005 -0500

    Merge branch 'sis900-wol'

commit 5d06b6bef96ebb27ae9e36656df3c5ef0a2a93ca
Merge: cd52d1e... 0192d69...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 22:47:41 2005 -0500

    Merge branch '8139-thread'

commit 792d2b9a12594522111fbe2a7f17460a4d7edff7
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 23:30:27 2005 +1100

    drm: drop mtrr from i915
    
    Alan Hourihane wants to set MTRR in the DDX only as otherwise
    we get problems with the shared memory chipset.
    
    From: Alan Hourihane <alanh@fairlite.demon.co.uk>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 7ccf800e9415daf9214eb667318e356f9a3d81fc
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 23:11:34 2005 +1100

    drm: update mga driver for new bootstrap code
    
    The MGA driver needs to use the full AGP interface.
    
    From: Ian Romanick <idr@us.ibm.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c0be4d240483f3ebd138db467b5e8fbe15c520e2
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 23:10:18 2005 +1100

    drm: remove exports that modules shouldn't use.
    
    Modules should go via the new drm_agp_ functions.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit efa58395bee82dc5a87805e7eb7c710e88eb4bd7
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 22:33:39 2005 +1100

    drm: add in-kernel entry points for rest of AGP ioctls
    
    Allow DRM modules to call AGP internally in the kernel.
    
    From: Ian Romanick <idr@us.ibm.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 732052ed3e7539d87136dd833be523747af3fb3e
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 22:07:35 2005 +1100

    drm: simplify sysfs code for drm
    
    This simplifies the sysfs code for the drm and add a dri_library_name
    attribute which can be used by a userspace app to figure out which
    library to load.
    
    From: Jon Smirl <jonsmirl@gmail.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit e532c37858fdcc18e9a91d24c2e22cd21aa22561
Merge: 8719913... 5e04e7f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 05:54:37 2005 -0500

    Merge branch 'master'

commit 0192d69789582f02c015cba77cac514c7291c347
Merge: 760559e... 5e04e7f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 05:53:24 2005 -0500

    Merge branch 'master'

commit d0bbccfa3297d3ef6ae4691585abde9a6c26b186
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Nov 10 15:29:27 2005 -0800

    [PATCH] sky2 needs dma_mapping.h
    
    On alpha:
    
    drivers/net/sky2.c: In function `sky2_probe':
    drivers/net/sky2.c:2819: error: `DMA_64BIT_MASK' undeclared (first use in this function)
    drivers/net/sky2.c:2819: error: (Each undeclared identifier is reported only once
    drivers/net/sky2.c:2819: error: for each function it appears in.)
    drivers/net/sky2.c:2825: error: `DMA_32BIT_MASK' undeclared (first use in this function)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3b621ee5df437d3f332a635ab6421aaa61a7dc2b
Merge: 7211bb9... 5e04e7f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 05:51:24 2005 -0500

    Merge branch 'master'

commit e96e33eeb8b876c7ec009c557ca5269328eceda0
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 20:27:35 2005 +1100

    drm: fixup drm_proc.c struct table
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 61d04160ff89514919ef95b0d10bee706f569925
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 19:52:22 2005 +1100

    drm: remove old backwards compatibilty stuff
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 8f5f39f77f5a6053ae287d4673028e7a69335f5e
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 19:40:52 2005 +1100

    drm: remove drm_flush
    
    drm_flush is no longer needed remove.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 7052cff984ba575926bb7d2ae5454cce531a97e1
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 19:34:47 2005 +1100

    drm: cleanup via_ds.c includes
    
    Remove the linux includes from via_ds.c
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 9d6160137a8ef8bd25266ccc0f97d55863708fc6
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Nov 11 19:34:10 2005 +1100

    drm: remove remnamt of old DRM code from tdfx
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 3f9df54d6386bb632ffc00665489bb3bb3bf6ff2
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Nov 10 22:28:56 2005 +1100

    drm: remove drm_init.c it is no longer needed
    
    Move drm_cpu_valid into drm_fops.c
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 22eae947bf76e236ba972f2f11cfd1b083b736ad
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Nov 10 22:16:34 2005 +1100

    drm: rename driver hooks more understandably
    
    Rename the driver hooks in the DRM to something a little more understandable:
    preinit         ->      load
    postinit        ->      (removed)
    presetup        ->      firstopen
    postsetup       ->      (removed)
    open_helper     ->      open
    prerelease      ->      preclose
    free_filp_priv  ->      postclose
    pretakedown     ->      lastclose
    postcleanup     ->      unload
    release         ->      reclaim_buffers_locked
    version         ->      (removed)
    
    postinit and version were replaced with generic code in the Linux DRM (drivers
    now set their version numbers and description in the driver structure, like on
    BSD).  postsetup wasn't used at all.  Fixes the savage hooks for
    initializing and tearing down mappings at the right times.  Testing involved at
    least starting X, running glxgears, killing glxgears, exiting X, and repeating.
    
    Tested on:      FreeBSD (g200, g400, r200, r128)
                    Linux (r200, savage4)
    
    From: Eric Anholt <anholt@freebsd.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 760559e1330a58cc5b320154a20e64b8444143c0
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 10 04:31:55 2005 -0500

    [netdrvr 8139too] fast poll for thread, if an unlikely race occurs
    
    The rtl8139 thread is triggered only on rare 8139 hardware, the race
    itself is unlikely, and the impact of racing is low.  We don't care
    enough to create a more-complex race-free solution.
    
    Rather, if the trylock fails, we now simply poll twice a second until
    we do get the lock.

commit 2f67bdb23d74a6c6fd4f98f64239c5c34d1833cc
Merge: d40d9d2... 3b44f13...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 10 04:12:10 2005 -0500

    Merge branch 'master'

commit ef797546a93fffa9d8508e7c8539b352b6678568
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Nov 7 06:31:50 2005 -0500

    Remove definitions of unreferenced macros virt_to_page and vmalloc_32 from
    dv1394 and video1394.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 8551158abc8ef45a7f473a87e69624d05ebfd684
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Nov 7 06:31:45 2005 -0500

    kmalloc/kzalloc changes:
    dv1394, eth1394, ieee1394, ohci1394, pcilynx, raw1394, sbp2c, video1394:
     - use kzalloc
     - provide safer size arguments to kmalloc and kzalloc
     - omit some casts
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 7afa1467761f06bd9649efd66a4a6b3ff9f29a1f
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Nov 7 06:31:42 2005 -0500

    Remove version strings from eth1394, ohci1394, sbp2.
    Their version information is not trustworthy.
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit a237f35fdd81d85037dccdacd2e94028227b59fb
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Nov 7 06:31:39 2005 -0500

    sbp2, ohci1394 cleanups:
    sbp2: various code formatting cleanups
    ohci1394: remove form feed characters
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit e309fc6d71d61bb0f049ab6d0da10c845da9513f
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Nov 7 06:31:34 2005 -0500

    sbp2: Remove our tracking of device type,
    since we no longer need to worry about it.
    Depends on patch "ieee1394: remove sbp2's TYPE_RBC and 10byte handling".
    
    Signed-off-by: Ben Collins <bcollins@debian.org>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 365c786f0be44ee92e018773cb0bc4b19080b6aa
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Nov 7 06:31:24 2005 -0500

    sbp2: Merge TYPE_RBC and 10byte removal patch from scsi maintainers.
    Added more cleanups to remove unused code.
    
    Signed-off-by: Ben Collins <bcollins@debian.org>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>

commit 7945619794314414a5c44df11fca4d3f2a3389cf
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Mon Nov 7 06:29:39 2005 -0500

    sbp2_command_orb_lock must be held when accessing the _orb_inuse list.
    Fixes an oops in sbp2util_find_command_for_SCpnt after sbp2scsi_abort:
    https://bugzilla.novell.com/show_bug.cgi?id=113734
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>

commit 7211bb9b64f17b23834d91fc3d0c1d78671ee9a8
Merge: f1e691a... 70d9d82...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 15:39:24 2005 -0500

    Merge branch 'master'

commit 87199134b4a85de56a7508c551ab3b3a3ee35035
Merge: ea37cce... 70d9d82...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 15:38:13 2005 -0500

    Merge branch 'master'

commit d40d9d29c020f8466c96f8e3ad4b7c014ff1085d
Merge: 96a71d5... 70d9d82...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 15:37:24 2005 -0500

    Merge branch 'master'

commit 96a71d52bb91d9b386a60f904956420f98946dd3
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 4 22:46:35 2005 -0500

    [netdrvr 8139too] use rtnl_shlock_nowait() rather than rtnl_lock_interruptible()

commit 38b492a21ac1b0f0a5ebed69c9e2ee6f4202f574
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 4 22:36:28 2005 -0500

    [netdrvr 8139too] use cancel_rearming_delayed_work() to cancel thread
    
    Noted by Herbert Xu.

commit a15e0384dd22ee08f56d62761ce9d770488f6f4e
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 31 07:59:37 2005 -0500

    [netdrvr 8139too] replace hand-crafted kernel thread with workqueue
    
    Gone are the days when 8139too was a shining example of how to use
    kernel threads.  Delayed workqueues are easier, and map precisely to
    our task:  running code from a kernel thread, after a periodic sleep.

commit ea37ccea66e6bdd9f3571418b6461850088c114e
Author: Daniele Venzano <venza@brownhat.org>
Date:   Tue Oct 11 09:44:30 2005 +0200

    [PATCH] Add Wake on LAN support to sis900 (2)
    
    Sorry, but that day I had smoked somthing too heavy for me, the patch
    didn't apply. Here's a new one.
    
    The patch availble below adds support for Wake on LAN to the sis900
    driver. Some register addresses were added to sis900.h and two new
    functions were implemented in sis900.c. WoL status is controlled by
    ethtool.
    Patch is against 2.6.13.
    
    Comments are welcome, but also consider for inclusion in the -mm series.
    
    Signed-off-by: Daniele Venzano <venza@brownhat.org>
    
    --
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f1e691a24955ea987f021f378324fb5003b1b208
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Oct 26 12:16:11 2005 -0700

    [PATCH] sky2: version 0.7
    
    Change version number
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bea86103313fae2e29f2d6eb9a4bd7cbeabd4d32
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Oct 26 12:16:10 2005 -0700

    [PATCH] sky2: fix NAPI and receive handling
    
    Speed up the receive and interrupt processing and eliminate a
    couple of race conditions from NAPI code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d571b694df3ebc66f7a4c507f5a32579e43c2294
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Oct 26 12:16:09 2005 -0700

    [PATCH] sky2: spelling fixes
    
    Cosmetic cleanup's: mostly spelling fixes etc.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b2f5ad4fec76e78103e7fbb4e808587ea8a6d824
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Oct 26 12:16:08 2005 -0700

    [PATCH] sky2: use kzalloc
    
    Can use kzalloc to save a little code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 488f84fd901cd3386f5723a3573ea2e1f55af537
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Oct 26 12:16:07 2005 -0700

    [PATCH] sky2: remove unused definitions
    
    The sky2 driver has a lot of register definitions, that were
    copied over from the skge driver, for areas that don't exist
    on the Yukon2.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 90890687859ea658759e653c4e70ed7e9e1a6217
Merge: 2995bfb... 5fadd05...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 12:17:52 2005 -0400

    Merge branch 'master'

commit 2995bfb7855aabd493f840af361f3dd7d221caea
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Sep 28 10:01:03 2005 -0700

    [PATCH] sky2: add permanent address support.
    
    Add permanent address support
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9a7ae0a978263adb7d6b630f0c3c37c0133325e0
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:28:42 2005 -0700

    [PATCH] sky2: nway reset (BONUS FEATURE)
    
    Here is support for ethtool controlled renegotiation.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 724bca3ca4d2126b67dd62e64d3f97805f9672de
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:03:01 2005 -0700

    [PATCH] sky2: version 0.6
    
    Verion number change, comment update and one simple optimization
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5afa0a9cfb79556f45c02957e71a2ac48a5bb6a1
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:03:00 2005 -0700

    [PATCH] sky2: explicit set power state
    
    Add better power management, and power down the chip on device removal
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d1f1370863f7fa3d76dc7d7779debdda854a5a60
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:02:57 2005 -0700

    [PATCH] sky2: add hardware VLAN acceleration support
    
    Use the hardware to do VLAN.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d11c13e752c4e34777d33579ee0378e0178ef52d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:02:56 2005 -0700

    [PATCH] sky2: cleanup interrupt processing
    
    The receive processing can be cleaned up by not using local variables
    to store checksum status, instead just put it directly onto the expected
    skb.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6b1a3aefd897fd9be410d192f950656ef2b59694
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Sep 27 15:02:55 2005 -0700

    [PATCH] sky2: changing mtu doesn't have to reset link
    
    Changing the MTU of the network device doesn't mean the whole link
    has to be brought down and back up again.  Just stopping the receive
    engine is good enough.
    
    Signed-off-by: Stephen Hemminger <shmminger @osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 486368bf33a2844319ad4865039543cd50ac90dd
Author: Len Brown <len.brown@intel.com>
Date:   Thu Sep 22 01:57:01 2005 -0400

    [ACPI] clean up ACPICA 20050916's rscalc typedef syntax
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit eca008c8134df15262a0362623edb59902628c95
Author: Len Brown <len.brown@intel.com>
Date:   Thu Sep 22 00:25:18 2005 -0400

    [ACPI] handle ACPICA 20050916's acpi_resource.type rename
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit bda663d36b94c723153246a4231bbc0f1cd1836e
Author: Robert Moore <Robert.Moore@intel.com>
Date:   Fri Sep 16 16:51:15 2005 -0400

    [ACPI] ACPICA 20050916
    
    Fixed a problem within the Resource Manager where
    support for the Generic Register descriptor was not fully
    implemented.  This descriptor is now fully recognized,
    parsed, disassembled, and displayed.
    
    Restructured the Resource Manager code to utilize
    table-driven dispatch and lookup, eliminating many of the
    large switch() statements.  This reduces overall subsystem
    code size and code complexity.  Affects the resource parsing
    and construction, disassembly, and debug dump output.
    
    Cleaned up and restructured the debug dump output for all
    resource descriptors.  Improved readability of the output
    and reduced code size.
    
    Fixed a problem where changes to internal data structures
    caused the optional ACPI_MUTEX_DEBUG code to fail
    compilation if specified.
    
    Signed-off-by: Robert Moore <Robert.Moore@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit ecfd7f32aa9e279f3732c2e5049b1a4a13428572
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Sep 19 15:49:13 2005 -0700

    [PATCH] sky2: version 0.5
    
    Bump version (we are half way to a stable driver??)
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6e4cbb34d4cabec48f25f0bbad68935221bd457b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Sep 19 15:47:57 2005 -0700

    [PATCH] sky2: allow ethtool debug access to all of PCI space
    
    For debugging, it is useful to allow ethtool to dump all of
    the PCI mapped space. There is one small set of registers for RAM
    diagnostics that needs to be avoided to prevent hanging, but all
    the rest is accessible.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 79e57d32fe6d2d5bd38378f6dccfdbe6bd1d1dab
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Sep 19 15:42:33 2005 -0700

    [PATCH] sky2: fix FIFO DMA alignment problems
    
    The Yukon2 chip FIFO has a problem recovering from a pause frame
    if the receive buffer is not aligned. The workaround is to just
    leave receive buffer at original alignment, which will make IP
    header unaligned. Rework receive logic for clarity.
    
    Need to ignore receive overrun interrupts (or mac hangs).
    
    These fixes make the sky2 driver generally usable.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 08217637fe8a0ba24e1bfc893569f9be4d836c6a
Merge: 793b883... efb0372...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 21 22:30:42 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 793b883ed12a6ae6e2901ddb5e038b77d6f0c0ac
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Sep 14 16:06:14 2005 -0700

    [PATCH] sky2: driver update.
    
    Here is revised patch against netdev sky2 branch.
    It includes whitespace fixes, all the changes from the previous
    review as well as some optimizations and timing fixes to
    solve some of the hangs.
    
    The stall problem is better but not perfect. It appears that
    under stress the chip can't keep up with the bus
    and sends a pause frame, then hangs. This version is for
    testing, and hopefully other eyes might see the root
    cause of the problem.
    
    I don't want to reinvent the ugly watchdog code in the syskonnect
    version of sk98lin.  If you read it you will see, the original
    driver writer and the hardware developer obviously didn't
    understand each other.
    
    Dual port support is included, but not tested yet. It did
    require small change to NAPI since both ports share same
    IRQ.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d7f6884ae0ae6e406ec3500fcde16e8f51642460
Merge: cd28ab6... 2f4ba45...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 14 08:01:25 2005 -0400

    Merge /spare/repo/linux-2.6/

commit cd28ab6a4e50a7601d22752aa7ce0c8197b10bdf
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Aug 16 16:36:49 2005 -0700

    [PATCH] sky2: new experimental Marvell Yukon2 driver
    
    New driver for the Marvell Yukon2 Gigabit Ethernet chipset.
    This driver is based on the skge driver, but using the logic
    from the SysKonnect version of the sk98lin driver.
    It should support all the Yukon2 chipsets that are available
    in many current Intel and AMD motherboards.
    
    The driver does support ethtool, tx and rx checksum, and
    tcp segmentation offload.  But it has only been tested for
    a short while and is known to stop receiving under heavy load.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>
