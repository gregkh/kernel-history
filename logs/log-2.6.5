commit 196c4ebdac1bcb919ff0c798526412d8f28239b7
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Apr 3 03:34:07 2004 -0800

    Linux 2.6.5

commit aaed87a74b14798c7e91299d02a1f4d92564a0d4
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Apr 3 00:43:41 2004 -0800

    Re-instate __ARCH_SI_BAND_T, to allow architecture overrides.
    
    We default to "long" (which is what POSIX says), but since
    a number of architectures have used "int" for historical
    reasons, we need to allow overrides.
    
    At least sparc64 needs this. Possibly others, but so far
    architecture maintainers haven't spoken up. ppc64 and x86-64
    are known to be ok with the default "long".

commit 6a9f6b3fb8117adf7930e8eda52e6551a620885d
Author: Richard Henderson <rth@are.twiddle.net>
Date:   Fri Apr 2 20:39:53 2004 -0800

    [ALPHA] DISCONTIGMEM fix
    From Ivan Kokshaysky <ink@jurassic.park.msu.ru>.

commit 802e66fd7141038d6b5eda9600ef877177474762
Merge: 77afcd0... f92bf00...
Author: Richard Henderson <rth@heffalump.twiddle.home>
Date:   Fri Apr 2 20:01:26 2004 -0800

    Merge ssh://are/BK/axp-2.6
    into heffalump.twiddle.home:/home/rth/work/linux/axp-2.6

commit f92bf0021c25b11189f50a12633d04450f2fe9f2
Author: Richard Henderson <rth@heffalump.twiddle.home>
Date:   Fri Apr 2 19:54:51 2004 -0800

    [ALPHA] Use raw asm instead of attributes for cond_syscall.

commit 6fc3e9346e6ff48559bb12863f4d2be5f08ef0d3
Author: Richard Henderson <rth@heffalump.twiddle.home>
Date:   Fri Apr 2 19:53:06 2004 -0800

    [ALPHA] Add pci_dma_mapping_error.

commit 1cc43455874d1c69c5ffdb57d87783584df36ce2
Author: Richard Henderson <rth@heffalump.twiddle.home>
Date:   Fri Apr 2 19:51:58 2004 -0800

    [ALPHA] Use progbits for got section.

commit 77afcd086ba4003282f3d40820c24826ff24b2aa
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Fri Apr 2 19:43:31 2004 -0800

    [ALPHA] Detect and export cache shapes to userland.

commit aa8c926585fbff7f109c3d6d98b6261213f6d8f3
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Fri Apr 2 19:31:49 2004 -0800

    [ALPHA] Use __attribute_used__.

commit 53ac1af86cfdde52bb4ce72c38bc397e77f6d93b
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 04:05:58 2004 -0800

    [PATCH] PPC32: Fix latent PPC44x tlb bug
    
    From: Matt Porter <mporter@kernel.crashing.org>
    
    Patch fixes a latent bug in the PPC44x tlb management code.

commit 044aa3b8d3a299cb933ed1c00c47b09211434a31
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 04:05:48 2004 -0800

    [PATCH] PPC32: Fix some 4xx defconfigs
    
    From: Matt Porter <mporter@kernel.crashing.org>
    
    Make a couple 4xx defconfigs functional again.

commit 34e045aa42d034d1ca2996d7653e4067342d64b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 04:05:36 2004 -0800

    [PATCH] PPC32: Add missing PPC44x PVRs
    
    From: Matt Porter <mporter@kernel.crashing.org>
    
    IDs new PPC44x silicon.

commit 4632bafc0018a8e64cb69e59edee1b6fe16970cd
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 04:05:26 2004 -0800

    [PATCH] PPC32: PPC40x build fix
    
    From: Matt Porter <mporter@kernel.crashing.org>
    
    Patch fixes the build for PPC40x platforms.

commit bda951bacfe36496489d3bb2e146060228e7f985
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 04:05:15 2004 -0800

    [PATCH] PPC32: Fix thinko in arch/ppc/boot/simple/relocate.S
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    When I was updating ppc/boot/simple/relocate.S to work on PPC_PREP systems, I
    in advertantly broke 4xx systems.  On classic PPC, the first three
    instructions are nops, of which the first two can be overwritten.  This is
    not true of 4xx (or 8xx, but that's not working right now anyhow).  The
    following is needed to fix this.

commit e6b03c0b2c0a7cda71afc3aeae8299c23d01624c
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Apr 2 01:59:24 2004 -0800

    [PATCH] export hugetlb_total_pages
    
    The commoncap module calls this.

commit e4dfa2d1bc9ffbe9b6a5a258fcc8079834ebb203
Merge: d2a7b2b... d7fd03c...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Apr 1 22:56:19 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit d7fd03c8fceb0c7f1dfa3496a4d4e60d861fc1e5
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Fri Apr 2 14:17:43 2004 +0100

    [ARM] Update ARM makefiles
    
    - Use -march=armv6 where available.
    - CFLAGS_BOOT isn't needed - the decompressor uses CFLAGS, remove it.
    - PROCESSOR is never used, remove it.
    - LDFLAGS_BLOB is never used, remove it.
    - Remove MACHINE macro.
    - Correct comments for include/asm-arm/.arch target.
    - Copy format of include/asm symlink rule.
    - Arrange for configuration to be split before making
      include/asm-arm/arch symlink.
    - This means that asm-offsets.s no longer depends on
      include/config/MARKER.

commit d2a7b2bf2e5485ee6aa5a4e626fad60d5b691bce
Author: Armin Schindler <armin@melware.de>
Date:   Thu Apr 1 19:46:06 2004 -0800

    [PATCH] ISDN Eicon driver: tasklet_kill removal
    
    diva_os_cancel_soft_isr() may not call tasklet_kill(), because it is
    interrupt context.  This will be done correctly in the cleanup function
    anyway.

commit d75458fbfd1da510226d85ec4d7430a1b885fe41
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Thu Apr 1 19:09:37 2004 -0800

    [PATCH] fix the subarch build again after ACPI breakage
    
    The patch to check "maxcpus=N" early broke by putting maxcpus (a
    variable which is only exported by mpparse.c) into
    parse_cmdline_early().
    
    The fix is to make it depend on the correct CONFIG_ option.
    
    In the subarchitectures:
    
    CONFIG_X86_SMP is the one that means "I want standard x86 smp code" and
    that's what this should depend on.

commit d23a01c07adf114fb183d35575d2384d0c237144
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Apr 1 17:50:09 2004 -0800

    [PATCH] PowerMac: cleanup of some scsi drivers
    
    This patch from Christoph Hellwig does much welcomes cleanup of
    the old mac53c94 and mesh SCSI drivers, removing sillycaps etc...

commit 121b5646d7a235905d0eb834840124b5f9f83ea2
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Apr 1 22:03:57 2004 +0100

    [ARM] Add ARM virtual memory layout documentation.

commit 9be7dd12633056b6ded4383f9b801f141e2df7fc
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Apr 1 06:33:18 2004 -0800

    [PATCH] kbuild: $LANG fix
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    Fix this:
    
     	  Building modules, stage 2.
     	  MODPOST
     	LANG := en_US.UTF-8
     	make: LANG: Command not found
     	make: *** [all] Error 127
    
    by removing the tab in front of the LANG assignment.

commit 647068866efb4e28156dc32eebc56d9ea1068efc
Merge: 4a10600... 8660e3d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 23:02:19 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4a10600a7ac8b8f4128b65b690987d7cc0769475
Merge: 4a25c3d... 121b564...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 22:30:18 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4a25c3d68b050aa4e0d78590befc9eb0f6be9d5a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:53:47 2004 -0800

    [PATCH] Fix swp_entry_t encoding
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    This fixes a problem in sys_swapon that can cause the creation of invalid
    swap ptes.  This has its cause in the arch-independent swap entries vs.
    the pte coded swap entries.  The swp_entry_t uses 27 bits for the offset
    and 5 bits for the type.  In sys_swapon this definition is used to find how
    many swap devices and how many pages on each device there can be.  But the
    swap entries encoded in a pte can be subject to additional restrictions due
    to the hardware besides the 27/5 division of the bits in the swp_entry_t
    type.  This is solved by adding pte_to_swp_entry and swp_entry_to_pte calls
    to the calculations for maximum type and offset.
    
    In addition the s390 swap pte division for offset/type is changed from 19/6
    bits to 20/5 bits.

commit a8760f9c8ba4082eb3c69de27d6cc8cffb585369
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:53:35 2004 -0800

    [PATCH] uninline __wake_up_parent
    
    Two callsites, 48 bytes saved

commit 76f74ff59e36fe7721e323d73203c12cf31e1b63
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:53:21 2004 -0800

    [PATCH] uninline __group_complete_signal
    
    Two callsites, 456 bytes saved

commit 6e42fdc22deef997e8ad487688ee391c9363596f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:53:10 2004 -0800

    [PATCH] uninline sig_ignored
    
    Four callsites, 104 bytes saved

commit 84ba4949907efd1373472847133c423cbfd85da5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:52:57 2004 -0800

    [PATCH] uninline __group_send_sig_info
    
    Three callsites, 1104 bytes saved.

commit 0c19743a77f5ec671eb25f729b762d6591827597
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:52:46 2004 -0800

    [PATCH] uninline signal_wake_up
    
    Seven callsites and an out-of-line copy is a bit excessive.  562 bytes saved.

commit 5016c064999c54da6b31274bec2f68b81f4356aa
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:52:31 2004 -0800

    [PATCH] Show more stats in the sysrq-M output
    
    Display number of slab, mapped and pagetable pages in the sysrq-M output.

commit 15f4ae0ca83565197ebfcd0ef1d77a76cf200b00
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:52:20 2004 -0800

    [PATCH] run page_address_init() earlier
    
    If someone runs page_address() before page_address_init(), the kernel locks
    up over uninitialised spinlocks.
    
    This only happens with the 4:4 patch, but it is more robust to run
    page_address_init() before setup_arch().  page_address_init() simply
    initialises statically allocated storage.

commit 840d5d40c89ac196a80d987138f9a8b155117220
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:52:06 2004 -0800

    [PATCH] loop setup calling bd_set_size too soon
    
    From: Chris Mason <mason@suse.com>
    
    I think Andrew and I managed to mismerge the loop setup race fix.
    loop_set_fd is using get_capacity() to read the size of the disk and
    sending that to bd_set_size.
    
    But, it is doing this before calling set_capacity, so the size being used
    is wrong.  This should clean things up.

commit 56d93842e4840f371cb9acc8e5a628496b615a96
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:51:54 2004 -0800

    [PATCH] Replace MAX_MAP_COUNT with /proc/sys/vm/max_map_count
    
    From: David Mosberger <davidm@napali.hpl.hp.com>
    
    Below is a warmed up version of a patch originally done by Werner Almesberger
    (see http://tinyurl.com/25zra) to replace the MAX_MAP_COUNT limit with a
    sysctl variable.  I thought this had gone into the tree a long time ago but
    alas it has not and as luck would have it, the hard limit bit someone today
    once again with a large app on a large machine.
    
    Here is a small test app:

commit bc5c1743cddcca31200f4a201fe9a70a87737ef8
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:51:39 2004 -0800

    [PATCH] ksoftirqd: missing barrier
    
    Spotted by Andrea: we need the barriers in there to prevent reads passing
    ahead of the setting of current->state.

commit e5f64bc857420ec7b5f16e096af2d2e3bd5b1b27
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:51:27 2004 -0800

    [PATCH] remove __ARCH_SI_BAND_T
    
    All architectures now make this `long', so we can remove the arch override.

commit c1c0d51858eefd09a493eed31eab7babcb49e45f
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:51:13 2004 -0800

    [PATCH] Fix hugetlb-vs-memory overcommit
    
    From: Andy Whitcroft <apw@shadowen.org>
    
    Two problems:
    
    a) The memory overcommit code fails oto take into account all the pages
       which are pinned by being reserved for the hugetlbpage pool
    
    b) We're performing overcommit accounting and checking on behalf of
       hugetlbpage vmas.
    
    The main thrust is to ensure that VM_ACCOUNT actually only gets set on
    vma's which are indeed accountable.  With that ensured much of the rest
    comes out in the wash.  It also removes the hugetlb memory for the
    overcommit_memory=2 case.

commit 112347bb4c455feaa03bfe632b54d5ec5dee9fa7
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:51:01 2004 -0800

    [PATCH] siginfo.si_band is long
    
    From: Marcus Meissner <meissner@suse.de>
    
    After discussion on the glibc list the result was that=20 si_band is "long
    int" according to POSIX:
    
    	http://www.opengroup.org/onlinepubs/007904975/basedefs/signal.h.html
    
    Ulrich Drepper refused a patch to fix glibc due to this reason:
    	http://sources.redhat.com/ml/libc-alpha/2004-03/msg00254.html
    
    so here is the patch to fix it in the kernel.
    
    ppc64 and s390x were broken before and are fixed by this patch too.

commit 8d507e4ebbedba393e2385dd73b9c1ee480a6acf
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:50:47 2004 -0800

    [PATCH] ppc64: add useful warning message in hugepage code
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    This patch adds a debugging message to the ppc64 hugepage code when we
    attempt to open the "low" (32-bit) hugepage window on PPC64, but can't
    because a (non-hugepage) mapping already exists in the region.

commit e9acfc13953a90f474b88e1c0bd4cb7071a65e35
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:50:36 2004 -0800

    [PATCH] ppc64: allow MAP_FIXED hugepage mappings
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    On PowerPC64 the "low" hugepage range (at 2-3G for use by 32-bit processes)
    needs to be activated before it can be used.  hugetlb_get_unmapped_area()
    automatically activates the range for hugepage mappings in 32-bit processes
    which are not MAP_FIXED.  However for MAP_FIXED mmap()s, even at a suitable
    address will fail if the region is not already activated, because there is
    no suitable callback from the generic MAP_FIXED code path into the arch
    code.
    
    This patch corrects this problem and allows PPC64 to do MAP_FIXED hugepage
    mappings in the low hugepage range.

commit ccfcbaed2b9e84641912bbdd6f52363bc0f3db7a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:50:22 2004 -0800

    [PATCH] ppc64: bugfix for hugepage support
    
    From: David Gibson <david@gibson.dropbear.id.au>
    
    Due to a misunderstanding of pmd_offset() the PPC64 hugepage code could end
    up looking at bogus pages as if they were PMD pages.

commit 007658d4ee8df80f2cb7dd3052bc30519fc0a40c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:50:10 2004 -0800

    [PATCH] ppc64: create dma_mapping_error
    
    From: Anton Blanchard <anton@samba.org>
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This creates DMA_ERROR_CODE and uses it everywhere instead of
    PCI_DMA_ERROR_CODE as we really want the three DMA mapping API's to return
    a single error code.  Also we now have dma_mapping_error and
    vio_dma_mapping_error - and this latter and pci_dma_mapping_error both just
    call the former.
    
    Also a small fix in the vscsi - dma_map_sg returns 0 to indicate an error.

commit a460c4106b200f4ee6a24d5a69e32774bd9c8b56
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 31 21:49:57 2004 -0800

    [PATCH] PPC32 build fix
    
    From: Matt Porter <mporter@kernel.crashing.org>
    
    This fixes the build on non cache coherent PPC32 platforms.

commit 8660e3d9a6f9fe448d17cfe84efead6c101f60d3
Merge: 96531b3... 9bec1b8...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 19:22:18 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 9bec1b880862ec38019602ddf0a4bdde5bc55ade
Merge: 6dbea95... 112382a...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 19:11:21 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 112382a40b8fb3cd9555bb17db8741cd57524ea5
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 19:02:39 2004 -0500

    [ACPI] Restore PIC-mode SCI default to Level Trigger (David Shaohua Li)
    http://bugme.osdl.org/show_bug.cgi?id=2382

commit 566b6ef3cd4e646682e5ae28ca6361db37d51e0b
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 18:17:06 2004 -0500

    [ACPI] PCI bridge interrupt fix (David Shaohua Li)
    http://bugzilla.kernel.org/show_bug.cgi?id=2409

commit 6dbea95899683b6dc73ae6626e24db7c9c4b4fbc
Merge: 913c38f... 7821992...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 17:43:53 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit e4fddf74a44cbb85ade2fe2176b2adea0b821ef0
Merge: 9b12ffb... e5e70f1...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 14:43:03 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 9b12ffbba3e1b8b5795fda6618b8500b059a17c7
Merge: 6f20514... da82603...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 14:41:11 2004 -0800

    Merge http://jfs.bkbits.net/linux-2.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit da82603286890a796173ab99d14eb91c749d5e2e
Merge: 96531b3... 02e09d1...
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Mar 31 19:35:56 2004 -0600

    Merge jfs@jfs.bkbits.net:linux-2.5
    into austin.ibm.com:/shaggy/bk/jfs-2.5

commit 782199290f73d69c75db5b34f29c0f0aa1ff9501
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 17:35:17 2004 -0500

    [ACPI] delete extraneous IRQ->pin mappings below IRQ 16
    http://bugzilla.kernel.org/show_bug.cgi?id=2408

commit e5e70f13b44f30d264f8136f6409d12e749607cc
Merge: 96531b3... 3a57ff0...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Wed Mar 31 07:22:44 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 3a57ff0cdb8cb0c34a69a7cc65e91dc0f35b4fb8
Author: Nivedita Singhvi <niv@us.ibm.com>
Date:   Wed Mar 31 07:13:46 2004 -0800

    [TCP]: IPV6, do not use sock_put() on timewait sockets.

commit 11b8299723efc231c2896b4d5b3a7c2e6b2ccb83
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Wed Mar 31 07:04:03 2004 -0800

    [CREDITS]: Update my affiliation.

commit 6f20514ed7137cfebd88d62ac8f3844387d05c03
Merge: 9cc1713... 1e74721...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 04:12:29 2004 -0800

    Merge http://xfs.org:8090/xfs-linux-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 1e74721575c66fe6b9a97e76c60cbe8d4b4dcaaa
Author: Timothy Shimmin <tes@sgi.com>
Date:   Fri Apr 2 08:21:32 2004 +1000

    [XFS] Be explicit in adding in the non-transactional data to the reservation
    estimate.  We must add in for the worst case of a log stripe taking us the
    full distance for a log stripe boundary.
    
    SGI Modid: xfs-linux:xfs-kern:169304a

commit e176142464909083cd38018ecf369d95e87c3905
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 08:16:22 2004 +1000

    [XFS] Make the XFS access checks like the other Linux filesystems for DAC.
    
    SGI Modid: xfs-linux:xfs-kern:169300a

commit 2606a07af6c6091d33262998a6613b72e2b34bcd
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 08:07:01 2004 +1000

    [XFS] Ensure sb not flushed async on a SYNC_WAIT sync.  Fixed by Bart Samwel.
    
    SGI Modid: xfs-linux:xfs-kern:169208a

commit 1671540e32e4eb3e03665a9d8ecbfc58314bd5b2
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 08:03:53 2004 +1000

    [XFS] Disallow logbufs=0 unless the correct compilation flags used,
    else we panic.
    
    SGI Modid: xfs-linux:xfs-kern:169200a

commit fc6a8b0d9724382701a67e0f4fef44009855046e
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 08:01:15 2004 +1000

    [XFS] Fix shortform attr flags botch affecting listxattr - from Andreas Gruenbacher.
    
    SGI Modid: xfs-linux:xfs-kern:169199a

commit 881ceebed2d7532e406361cb6486c120550dbd57
Author: Christoph Hellwig <hch@sgi.com>
Date:   Fri Apr 2 07:58:20 2004 +1000

    [XFS] Fix r/o check in xfs_ioc_space, fix checks on xfs_swapext validity.
    
    SGI Modid: xfs-linux:xfs-kern:169135a

commit 83ea3f025a53e00c2751cd42488794ef8636f50b
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 07:55:14 2004 +1000

    [XFS] Reinstate some accidentally dropped log IO error injection code.
    
    SGI Modid: xfs-linux:xfs-kern:169048a

commit 78de000f304912435c35a5fbdfaeb2789bfc6438
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 07:52:31 2004 +1000

    [XFS] Reenable non-block flag for DMAPI.
    
    SGI Modid: xfs-linux:xfs-kern:169038a

commit 79ef517b90f3301eff26477418a53a1e5ffa7825
Author: Nathan Straz <nstraz@sgi.com>
Date:   Fri Apr 2 07:49:59 2004 +1000

    [XFS] Use unsigned long long for end_offset so we don't overflow it.
    
    SGI Modid: xfs-linux:xfs-kern:168809a

commit 57128c12ac4f86dabef7ea52e63787372203e0cd
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 07:40:12 2004 +1000

    [XFS] Fix debug builds - need sb_features2 details in endian translation code.
    
    SGI Modid: xfs-linux:xfs-kern:168693a

commit cdf2a9dd227ad98685093e708c87314e1424035b
Author: Glen Overby <overby@sgi.com>
Date:   Fri Apr 2 07:36:15 2004 +1000

    [XFS] Define a new superblock field for more feature bits.  Take the last
    feature bit in sb_versionnum to use to indicate that the new feature bit
    field is to be used.
    
    SGI Modid: xfs-linux:xfs-kern:168665a

commit 5ddce2d21db0c8ce2b0cef41441c2cf0af626880
Author: Glen Overby <overby@sgi.com>
Date:   Fri Apr 2 07:29:28 2004 +1000

    [XFS] Add space for inode and allocation btrees to ITRUNCATE log reservation.
    Add XFS_ALLOCFREE_LOG_RES to IFREE log reservation.
    
    SGI Modid: xfs-linux:xfs-kern:168597a

commit bda2c3b12362d856bccf8ae967cfed0a1fd1504c
Author: Christoph Hellwig <hch@sgi.com>
Date:   Fri Apr 2 07:22:52 2004 +1000

    [XFS] use ssize_t to store VOP_READ/VOP_WRITE return value.
    
    SGI Modid: xfs-linux:xfs-kern:168167a

commit c05e3944ab74acf931591506735f52e0fcaa5d77
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Fri Apr 2 06:43:55 2004 +1000

    [XFS] Use PFLAGS_RESTORE_FSTRANS in place of PFLAGS_RESTORE, only restore
    previously saved FSTRANS state.  Otherwise we can lose process flags.
    
    SGI Modid: xfs-linux:xfs-kern:168082a

commit b73e33f49b263f59c80fac7cbe3935dfe6add012
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 06:38:16 2004 +1000

    [XFS] Remove dup fdatasync/fdatawait call on fsync.  Means we no longer
    take the iolock here, and readers no longer conflict with concurrent
    fsync activity.  Kudos to Steve!
    
    SGI Modid: xfs-linux:xfs-kern:167949a

commit a1d0fc7732f34e90fcd0994380d33cbef9593650
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Apr 2 06:35:23 2004 +1000

    [XFS] Fix up mrlock debug code, and ensure its only built under DEBUG.
    
    SGI Modid: xfs-linux:xfs-kern:167944a

commit 9cc1713463454d7e7e3fd8b45e95f889ed79d1ef
Merge: 204e901... 415dd27...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 31 02:19:49 2004 -0800

    Merge evo:v2.6/linux into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 415dd27652c51b6d246b1d9248273b80074b5b19
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Wed Mar 31 02:18:18 2004 -0800

    acpi: enable global wake events by default
    
    People need the global wake events even when not sleeping:
    they are used for lid open events at least on some laptops.
    As such, they should be enabled by default.
    
    You can disable them with "acpi_leave_gpes_disabled" if
    your machine doesn't need them, and you want to get a few
    less GPE's.

commit 6a9b782819f4292618928be5c44ae259b3eff3ce
Author: Harald Welte <laforge@netfilter.org>
Date:   Tue Mar 30 23:28:59 2004 -0800

    [NETFILTER]: Fix circular conntrack header file dependency.

commit 204e90110dd1680a3729e99a5805ca1e23fbf831
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 30 23:18:48 2004 -0800

    [PATCH] io_getevents leak fix
    
    Spotted by Suparna: if the first range check fails, we leak a ref on the io
    context.

commit dbf3813cdabe3c0336667bbf3347652cb897e365
Author: Bart De Schuymer <bdschuym@pandora.be>
Date:   Tue Mar 30 23:18:10 2004 -0800

    [NETFILTER]: Do not require ip_forwarding for reset on a bridge.
    
    Currently, to be able to send a reset in the FORWARD chain of iptables
    for bridged traffic, ip forwarding must be enabled. This causes confusion
    and in some situations people really don't want to enable ip forwarding.
    The patch below lets the user send reset packets for bridged frames in
    the FORWARD chain, with ip forwarding disabled (as long as there is a
    route).

commit 913c38f77e35717e000ba168ed3e5124bea8af2d
Merge: 1edcedd... e0dd3f4...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 31 01:36:25 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit e7b8d7bdce95aa466b2ba8250797545fb08bc2d7
Merge: 0cc0f8e... 57cafcc...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 30 22:20:15 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 0cc0f8e072fccd1450522b50a68047bc72a445d6
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Tue Mar 30 20:43:37 2004 -0800

    [PATCH] fix ALSA au88x0 compilation
    
    In the ALSA cleanup for duplicate PCI ID's, they weren't exactly
    duplicated, resulting in problems in the au8810.c driver.
    
    This fixes the problem

commit 57cafcc84313480b9c699265524ad56e80a2d5cc
Merge: f96599e... f756a8b...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 30 20:12:37 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit f96599ee05ed34052c19fc680b20329c69680ea6
Merge: 96531b3... 736e44e...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 30 20:10:32 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 70ce75320bca97f819280e53d9e273478f1feee3
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Mar 30 20:01:37 2004 -0800

    [PATCH] fix VIA SATA device detection
    
    The last fix apparently only worked for device 0, since the driver
    screwed up the port offsets (due to a wonky VIA hardware layout,
    really).
    
    This patch fixes device 1 detection for the users still seeing problems
    in -rc3.

commit a998d65b4fd0c7f99136bea45dc638dbfb86fd52
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Mar 30 20:01:25 2004 -0800

    [PATCH] Fix oopses in fealnx driver TX path
    
    In both uniprocessor and SMP, the fealnx driver's TX-submit path can
    race against the interrupt handler, with disastrous results.  Add the
    lock that needed to be there all along, to fix this.
    
    There's another problem in the RX path, that will be sent as a separate
    patch, as soon as we get that patch 100% nailed down, and acceptable for
    a Release Candidate.

commit 02e09d1e125a4530d8bbbb5b31f5839be5d774c5
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Tue Mar 30 21:48:27 2004 -0600

    JFS: initialize log->bp before calling lmNextPage

commit d8b8beb4ebf0c03fea5a988fca0fb483ffd0fdc4
Merge: 7dac59f... 73d089c...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 30 19:15:07 2004 -0800

    Merge bk://linux-sam.bkbits.net/kbuild
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 7dac59fd69923d06b77294d10b7a1be1ec84378b
Author: Linus Torvalds <torvalds@evo.osdl.org>
Date:   Tue Mar 30 19:12:17 2004 -0800

    Add __user pointer annotations
    
    Every pointer in <syscalls.h> had better be a user
    pointer. Also add some others that a quick sanity check
    picked up on.

commit 96531b3706a5d1e84f138ce45afb3d003f6adade
Author: Alexander Stohr <alexander.stohr@gmx.de>
Date:   Tue Mar 30 16:48:12 2004 -0800

    [PATCH] double semicolon cleanup
    
    This cleans up a larger amount of superfluos ";;" statements in current
    Linux kernel sources by converting them to the regular single ";"
    statments.
    
    It seems to be a common problem that at the end of a line the semicolon
    key is producing an echo.

commit fe6a9c2179b19c03fbaba00df4e441a07197d3c2
Merge: 807b969... 42628d8...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 30 16:35:48 2004 -0800

    Merge http://linux-sound.bkbits.net/linux-sound
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 807b969250fca26cb08ea65275f4728101a0f0a2
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 30 16:34:59 2004 -0800

    [PATCH] ppc64: clean up virtual <-> absolute code
    
    From: Anton Blanchard <anton@samba.org>
          Rusty Russell <rusty@rustcorp.com.au>
    
    The iSeries has an arch-specific mapping from physical <-> absolute
    addresses.  Fortunately this is only used in a few places.  However, the
    following arch-specific macros/functions are provided in addition to the
    standard macros:
    
    	__a2p()
    	__a2v()
    	__p2a()
    	__p2v()
    	__v2a()
    	__v2p()
    	absolute_to_phys()
    	phys_to_absolute()
    	virt_to_absolute()
    	absolute_to_virt()
    
    Reduce them to these, with slightly shorter names, and taking either pointers
    or unsigned long (as per __va and __pa) rather than making the caller cast:
    
    	abs_to_phys()
    	phys_to_abs()
    
    And helper macros:
    
    	virt_to_abs()
    	abs_to_virt()
    
    As is standard, virtual addresses are returned as void *, physical and
    absolute as unsigned long.
    
    Note that the change the iSeries_setup is a little subtle: ea is set to
    __va(pa) above, so "phys_to_abs(pa)" is the same as "virt_to_abs(ea)".
    
    Also, REALADDR is renamed to ISERIES_HV_ADDR and used in a couple of places
    where appropriate.

commit dd054a0b77ed7187399c7691db216afaf960f443
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 30 16:34:47 2004 -0800

    [PATCH] ppc64: make iSeries boot mostly
    
    From: Anton Blanchard <anton@samba.org>
          Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch just ensures that the RI bit is set really early as it seems it
    is not on iSeries Power4 machines (or maybe OS400 v5r3 does this).

commit f756a8b341ad2d6dd4076890f18c234d3f2e697b
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Mar 30 06:41:02 2004 -0800

    [SPARC32]: Regenerate defconfig

commit 681d2d1af719c5df7e3267d8b25347af0aba7660
Merge: a1f4d38... 3822e36...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Mar 30 06:16:04 2004 -0800

    Merge ssh://kernel.bkbits.net/sparc32-2.6
    into foobazco.org:/sources/2.5-sparc-todave

commit a1f4d389a5aaa9d14fff980219eb32f42e513ffa
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Mar 30 06:02:59 2004 -0800

    [SPARC32]: Fix cast-as-lvalue

commit a83b9c3b80cede957d41413c093233a817208c32
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Mar 30 06:01:26 2004 -0800

    [SPARC32]: Display useful information in the event of a bad trap

commit 42628d8267e54d5328b07e72afdecf1be4b8b662
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Mar 30 15:47:50 2004 +0200

    ALSA - 1.0.4rc2

commit 759b2d20e0a2179b1fe0c7cf590c22fb06ba6537
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Mar 30 15:45:02 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    au88x0 driver
    Cleanups - removed duplicate PCI IDs

commit 0efc3c5c3154446e356fa46c48f6d92a69290643
Merge: 9e8bd66... 2ec523a...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Tue Mar 30 05:23:10 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-modules
    into foobazco.org:/sources/2.5-sparc-todave

commit b3752d2bc432b0f85a999cc8c12b71d0cf2f95d3
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Mar 30 15:19:58 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    add usb_device->speed wrapper for compiling with 2.2.x kernels

commit e0dd3f4b822eb7f947e7c3d6622f2a253fab8719
Merge: 8e764e0... bac99ba...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Mar 30 07:14:45 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit bac99bab420c2aedd48896d0bd0ae0b4ff6c5c96
Author: Len Brown <len.brown@intel.com>
Date:   Tue Mar 30 07:06:05 2004 -0500

    [ACPI] allow building ACPI w/ CMPXCHG when CONFIG_M386=y
    http://bugzilla.kernel.org/show_bug.cgi?id=2391

commit 7dcf8717b82ebe217a882aee9b37474bc9291d4e
Merge: f0fdf5f... 904baa8...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Mar 30 13:58:20 2004 +0200

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit e507c6fc3246d37179aa9309161b8a66a9b5941d
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Tue Mar 30 03:24:23 2004 -0800

    [IPV4]: Fix IGMPv3 timer initialization when device not upped.

commit da9509bd1a6918c6ee868bda2154fa49fd31e05c
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Mar 30 03:22:40 2004 -0800

    [ATM]: mpoa_proc warning cleanup (from Willy TARREAU <willy@w.ods.org>)

commit 1edcedd90ea2701b71b20d5cf67b9a507288221b
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 30 01:36:12 2004 -0800

    Fix serious naming problem.
    
    People were getting quite excited about this.

commit ab955e9fd09bf9ccdbc3b1c7020a058ac5b057e3
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 30 00:53:19 2004 -0800

    [PATCH] back out sysfs reference count change
    
    This backs out Maneesh's sysfs patch that was recently added to the
    kernel.
    
    In its defense, the original patch did solve some fixes that could be
    duplicated on SMP machines, but the side affect of the patch caused lots
    of problems.  Basically it caused kobjects to get their references
    incremented when files that are not present in the kobject are asked for
    (udev can easily trigger this when it looks for files call "dev" in
    directories that do not have that file).  This can cause easy oopses
    when the VFS later ages out those old dentries and the kobject has its
    reference finally released (usually after the module that the kobject
    lived in was removed.)
    
    I will continue to work with Maneesh to try to solve the original bug,
    but for now, this patch needs to be applied.

commit fec1d37faa43bf33132b328887cd7848056e1484
Author: Richard Henderson <rth@twiddle.net>
Date:   Tue Mar 30 00:53:09 2004 -0800

    [PATCH] Alpha: UP1500 pci_mem fix
    
    From: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    
    The memory reserved for PCI probe is not freed properly in some cases,
    for instance with a 3.5Gb of RAM.
    
    Forward port from 2.4.

commit 736e44e8b30c085896c3321b4ca9833e5fbfe577
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Mar 29 22:23:57 2004 -0800

    [SPARC64]: Export prom_palette.

commit 7a538652d9290ba78a5222fe10b3cf784d655f16
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:52:10 2004 -0800

    [PATCH] ppc64: More incorrect syscall error test
    
    Oops, there was two different code path affected by this
    bug (strace and normal) and I fixed only one. Here's the
    other one:

commit 0ef9775d40f667223a4d0da84c7db4018a25b53a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:51:56 2004 -0800

    [PATCH] ppc64: Add a sync in context switch on SMP
    
    For the same reason as ppc32, we need to ensure that all stores
    done on a CPU has reached the coherency domain and are visible
    to loads done by another CPU when context switching as the same
    thread may be rescheduled almost right away there.

commit 585d744b73f7ca44bdcda28f8f31fedec8cd7bf6
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:51:44 2004 -0800

    [PATCH] ppc32: PCI mmap update
    
    This updates the ppc32 PCI mmap facility to allow mmap'ing of space
    outside of the actual devices, using the host bridge resources instead.
    
    This allow userland to map things like legacy IO space by either using
    the bridge device itself, or simply any PCI device on the same bus
    domain

commit f2c371c7ac2a2b3a140dc65b6c998c4e26c35fc0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:51:30 2004 -0800

    [PATCH] ppc32: Allow PREEMPT with SMP in KConfig
    
    On ppc32, CONFIG_PREEMPT wasn't settable along with CONFIG_SMP
    for historical reasons (smp_processor_id() races). Those races have
    been fixes since then (well, should have been at least) so it's now
    safe to allow both options.

commit ae4e82bd93dc9218e3759663cc2f4c725a4d9d56
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:51:17 2004 -0800

    [PATCH] ppc32: context switch  fixes
    
    This fixes a few issues with context switch on ppc32:
    
     - Makes sure we properly flush out all stores to the coherency domain
       when switching out, since the same thread could be switched back in
       on another CPU right away, those stores must be visible to all other
       CPUs.
    
     - Remove dssall in the assembly calls and do it now once in switch_mm
       (stop vmx streams).  Assume the G5 doesn't need a sync after dssall.
    
     - Remove bogus isync in the loop setting the userland segment registers
    
     - Do not switch the userland segments when the mm stays the same

commit e810a048406927542077170e45f12227b724dbbb
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:51:04 2004 -0800

    [PATCH] ppc32: Remove duplicate export
    
    enable_kernel_fp is exported both in ppc_ksyms and near it's
    definition in process.c, remove the former.

commit f9f57267bb6f28031a40f10b76b6530620561e06
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 29 18:50:51 2004 -0800

    [PATCH] ppc32: Even more preempt fixes
    
    Add a warning if enable_kernel_{fp,altivec} is called with preempt
    enabled since this is always an error, and make sure the alignement
    exception handler properly disables preempt when doing FP operations.

commit ff1581f7e63be18dd9466705cbeaf4a51f0d0837
Author: Srivatsa Vaddagiri <vatsa@in.ibm.com>
Date:   Mon Mar 29 18:49:13 2004 -0800

    [PATCH] Fix obvious stupid race in do_stop
    
    We don't set the task state to TASK_INTERRUPTIBLE _before_ checking for
    kthread_should_stop in do_stop.

commit 360f2ed080385e58349b21f894886e2e9fd0fd77
Merge: 2407e34... 023bba1...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 29 18:47:51 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 023bba1092e0b9587b67f3f3c29dc939cc83f53c
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Mar 29 18:47:17 2004 -0800

    [PATCH] pc300 driver misplaced ;
    
    From Dave Jones.
    
    Oops.

commit de1bf52a339b49610f956e58897ccec813042aab
Author: Armin Schindler <armin@melware.de>
Date:   Mon Mar 29 18:47:05 2004 -0800

    [PATCH] ISDN Eicon driver: NULL pointer check inside spinlock
    
       Check for valid application pointer inside api spinlock
       in diva_send_message().

commit 6e7bbc73b492c07de78a977b7e5aa3aaa1d91a7b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 29 18:41:57 2004 -0800

    [PATCH] Make pdflush run at nice 0
    
    Since pdflush was converted to be launched by the kthread infrastructure it
    has inherited keventd's `nice -10' setting.  That hurts interactivity when
    pdflush is doing lots of work writing back through the dm-crypt layer.
    
    So set pdflush back to `nice 0'.

commit ca6530ab7858f61068c3d84a8e60e4c55c4be939
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 29 18:41:44 2004 -0800

    [PATCH] catch errors when completing bio pairs
    
    From: Mike Christie <michaelc@cs.wisc.edu>
    
    A couple of drivers can sometimes fail the first segments in a bio then
    requeue the rest of the request.  In this situation, if the last part of
    the bio completes successfully bio_pair_end_* will miss that the beginging
    of the bio had failed becuase they just return one when bi_size is not yet
    zero.  The attached patch moves the error value test before the bi_size to
    catch the above case.

commit 2cba47a2371ad9d282c1ebb79162965cb23480d5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 29 18:41:31 2004 -0800

    [PATCH] Fix BLKPREP_KILL
    
    From: Jens Axboe <axboe@suse.de>
    
    Samuel Rydh wrote:
    
    If a MODE_SENSE(6) command is sent to an IDE cd using the CDROM_SEND_PACKET
    ioctl, then the kernel freezes solidly. To reproduce this, one can take the
    SCSI cmd [1a 08 31 00 10 00] and a 16 byte data buffer.
    
    After some bug hunting, I found out that the following is what happens:
    
    - ide-cd recognizes that MODE_SENSE(6) isn't supported and tries
      to abort the request from ide_cdrom_prep_pc by returning BLKPREP_KILL.
    
    - in elv_next_request(), the kill request is handled by
      the following code:
    
    	while (end_that_request_first(rq, 0, rq->nr_sectors))
    		;
    	end_that_request_last(rq);
    
    The while loop never exits. The end_that_request_first() doesn't do anything
    since rq->nr_sectors is 0; it just returns "not-done" after handling those 0
    bytes (rq->bio->bi_size is 16).

commit 73d089cea3d113c5ea04018a5060aa22d044b2b4
Merge: 8e764e0... bfb2cc5...
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 30 01:33:14 2004 +0200

    Merge mars.ravnborg.org:/home/sam/bk/linux-2.6
    into mars.ravnborg.org:/home/sam/bk/kbuild

commit bfb2cc51c7566aff23bddb6614411bf6cbeecf78
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 30 01:16:35 2004 +0200

    kbuild: Avoid "expr length" in Makefile
    
    From:  Martin Schaffner <maschaffner@gmx.ch>

commit 2cd379f95ec824cbc91b407a84ce5677589d51ec
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 30 01:13:52 2004 +0200

    kbuild: Add cscope to make help
    
    From: Bjorn Helgas <bjorn.helgaas@hp.com>

commit 904baa8747bee919616901653db596608325878e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 17:54:39 2004 +0200

    ALSA - fixed date in version.h

commit 2ec523a38e875d5acdc67ffa0944e762e8bbdfd2
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Mon Mar 29 07:41:46 2004 -0800

    [SPARC32]: Update module linking for symbols starting with "."
    
    Rusty did not like the __dot_sym approach and suggested instead:
    
    1) make rem, urem, mul, umul, div and udiv aliases to .rem, .urem etc:
    
       extern int rem(int, int) __attribute__((weak,alias(".rem")));
    
    2) EXPORT_SYMBOL(rem) etc.
    3) Check genksyms recognises that prototype (it should).
    4) Copy "dedotify" from ppc64 to handle them on load.
    
    The only real downside is the risk that someone else will export
    those names, but I think that's pretty unlikely.

commit ac3ae21bac2c10eae3b0a2af3423193dab312079
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:26:33 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    AC97 Codec Core
    don't clobber other bits in SERIAL_CFG register with AD codecs when changing codec selection bits

commit 6d95ddce68017cb42c7a01acd353b046a85bcdab
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:26:14 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    AC97 Codec Core
    fix hang because of uninitialized ad18xx.mutex with AD1985

commit cb133350bb3138debf04113d591707f9f035ac53
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:25:51 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    AC97 Codec Core
    fix superfluous rate register assignments

commit bb376eb747cd2a8bccd217a4a087da91ef1ba324
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:25:32 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    AC97 Codec Core
    fix detection of 2.3 codecs

commit 5ce671ff6c269d6dfddee7954a4644e00879f649
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:25:08 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    IOCTL32 emulation
    disabled the entries conflifting with TIOC* ioctls.

commit 4c5432afb7a5fb792882056133d0fb7629d77c5a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:24:49 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ICE1712 driver
    Fixed Delta410 cs8427 i/o

commit 68ee13b3cf56ceb5c93f6a8fd120c84221464ad2
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:24:26 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    CS46xx driver
    mmap_valid is 1 by default

commit 12fa26e6fdc6d191ce8c0e7982895c44ce6bfa93
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:24:08 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    CS46xx driver
    Added parsing of mmap_valid,external_amp and thinkpad parameters at boot time

commit a315d71e8e37542ad916060f1a0a568fe4775747
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:23:44 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PPC PowerMac driver
    Remove global enable variable

commit c163292ae08d418539c99b32eb5498ac11510c8d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:23:25 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Version
    release: 1.0.4rc1

commit ee5006c9d41bccbcd873e822f83ef9a20ddb03bd
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:23:02 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ICE1712 driver
    From: Arjan van de Ven <arjanv@redhat.com>
    
    ice1712.c: move 2 same structs to the top of the function; gcc won't share
    the stackslots anyway

commit 69d6e85212acb57b2115a8caaefbac946811b024
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:22:43 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    disable the legacy midi/joystick properly as default.

commit 8c83de264a43f869f83d1cff56f1759486d5b19d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:22:19 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation,I2C cs8427,ICE1712 driver
    fixed cs8427_timeout option to use the correct value in msec.

commit cbdbd417a2d04cdf6f55152141c44c4c3dfd2746
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:22:00 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Documentation
    Corrected cs8427_timeout

commit c6297493b50ecb9b1002837c2e328b547755fd50
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:21:35 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    adjust usb_set_interface() calls for 2.6.5-rc2

commit 3090c3559baf3bc9c6cae158e805b4af0e58697b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:21:17 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PCM Midlevel
    Fix in snd_pcm_timer_resolution_change() - it no longer oops when
    32-bit value overflows.

commit dc79c6254d8a2d0068e5720a4fb87ba291a2cb7b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:20:52 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    fix deadlock on register_mutex and other bugs
    in initialization error paths

commit d3845f0d4b6ce62e030e738d3f6589dcb1b5fe3e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:20:32 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Sound Core PDAudioCF driver
    Adrian Bunk <bunk@fs.tum.de>
    Fix warnings (SNDRV_GET_ID is not required since these files don't use get_id).

commit 2ef03368181431c788ff537b39b5ba855f865995
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:20:11 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Documentation
    Added cs8427_timeout to the snd-ice1712 module description

commit 287bcba784629b6c678980aec565c261769337c9
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:19:41 2004 +0200

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    I2C cs8427,ALSA Version,ICE1712 driver
    Added cs8427_timeout parameter to the ICE1712 driver

commit 20233b5cde7becba18b611c84f2e1e8aa909ecbe
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:19:17 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    Removed the unprocessed IRQ detection, it seems bogus.

commit 8890971657afbfaf4869c856fd545f64797feaec
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:18:57 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation
    The description about ALSA proc files, including debug information.

commit c1adc98f498d61d6c140a31aaebeaf090558616e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:18:31 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PCM Midlevel
    - suppress the xrun debug output unless xrun_debug proc is set.
    - show stack trace when xrun_debug > 1.

commit c8658bfa21bf9106e4e196747c2e465f74a2b67b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:18:11 2004 +0200

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    added the quirk for Compaq Evo D510C.

commit f18defdeada3ac51949abd54d0578219c58fae60
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:17:47 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    high speed support

commit 3c37f9d4c5d10c3379b9cca4622ea317dfdf75ac
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:17:29 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    clean up get_iface again :)

commit 79cc03df9397acf4653eed952eefc79d9c42f209
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:17:10 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    replace usage of interface index with calls to usb_ifnum_to_if (forgot this in 1.88)

commit 9ac26386f984dc9ee70f855ae8831be7fd68d8e1
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 29 16:16:47 2004 +0200

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    remove calls to usb_driver_release_interface
    (not needed when disconnect is called)

commit 2407e34e369b4ebd91ab96c2aaf27c35946424d8
Merge: f0fdf5f... faf1633...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Mar 29 04:33:27 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit faf1633b865299ee469d12adaf03c5779cae4c06
Author: Harald Welte <laforge@netfilter.org>
Date:   Mon Mar 29 04:26:56 2004 -0800

    [NETFILTER]: Fix DELETE_LIST oopses.
    
    We've now narrowed down the issue of kernel oopses in combination with
    'LIST_DELETE' syslog messages happening in certain setups.
    
    Apparently people who do not enable CONFIG_IP_NF_NAT_LOCAL and do
    DNAT/REDIRECT and want to connect locally from the gateway via DNAT to
    the DNAT'ed address experience the bug ;)
    
    Patch courtesy of KOVACS Krisztian and Henrik Nordstrom

commit 9faae0e12ddb0f1a72581be168133a966703516c
Author: Harald Welte <laforge@netfilter.org>
Date:   Mon Mar 29 04:19:57 2004 -0800

    [NETFILTER]: Fix DEBUG compile in ipt_MASQUERADE.

commit 1f2617c6c0aac51ef5dd99f0e781c12a846e2df6
Author: Ulisses Alonso Camar <uaca@alumni.uv.es>
Date:   Mon Mar 29 04:11:56 2004 -0800

    [AF_PACKET]: Add PACKET_MMAP documentation.

commit f0fdf5f82be4066742a8e7708aa06f43fabc554c
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 29 03:24:42 2004 -0800

    Linux 2.6.5-rc3

commit ef0f0fa464fb1b6bc6714d68844781bd9cd97abd
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Mon Mar 29 02:15:53 2004 -0800

    [PATCH] asm-parisc/ide.h cleanup (there are no standard ports)
    
    Acked by Grant Grundler and Matthew Wilcox.

commit d780244a71023ab0e06b219497e921b94a9daa24
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Mon Mar 29 02:15:39 2004 -0800

    [PATCH] asm-sparc{64}/ide.h cleanup (there are no standard ports)
    
    Acked by David Miller.

commit 0b778621ee6e4ba0e7dfb7fae3fe57dd1859b0d9
Merge: 4983868... d9654a8...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 29 00:53:56 2004 -0800

    Merge bk://linux-dj.bkbits.net/agpgart
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit d9654a8cab9362823c85df8b1822e71cc82d6fc8
Author: Dave Jones <davej@redhat.com>
Date:   Mon Mar 29 18:02:31 2004 +0100

    [AGPGART] Minor CodingStyle fixups.

commit 498386891578e8b8e879e733999d17b4868cd432
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Mar 29 00:17:18 2004 -0800

    [PATCH] fix SATA simulation of 6-byte read/write
    
    Here's one for -rc...  either this bit is assumed on most modern drives,
    or nobody uses the 6-byte commands for read/write (which is very
    likely).  Either way it definitely wants fixing.
    
    Since we use the modern "LBA" method of addressing sectors, this bit
    must be present in the Device register when issuing a read or write.
    There are three code paths that need this bit, and only two of them
    actually set it.  This patch fixes the third (and apparently never used)
    code path.

commit 24c75d48680be41bd9aac3ac641ef048ee73fb8e
Merge: 18ccf56... ba3cfbd...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 28 23:32:14 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit ba3cfbd67dda10b2c8ec18c2ed6d5f2e08887cb1
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Tue Mar 30 01:18:14 2004 +0100

    [ARM] Fix Acorn RTC year handling.
    
    Acorn decided to use an esoteric method for handling the year.
    Update RTC implementation to follow this method.

commit b9ed68e37fa8c284faa363c846a8eb113b373740
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 21:48:20 2004 +0100

    [ARM] Clean up coherent DMA allocator from previous changes.
    
    - Since the coherent DMA allocator is not currently compatible with
      HUGETLB, ensure that we fail at compile time should this option be
      selected.
    - Move struct device/dma mask handling into consistent_alloc().
    - Complain if someone tries to allocate coherent memory larger than
      their DMA mask will permit.
    - Rename consistent_alloc() to __dma_alloc() to ensure that there
      is no confusion that consistent_alloc() has gone.
    - Ensure warnings and errors report the correct function name.

commit b23bbf749af9aee4fad0e0ee8f278540d87a74f2
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 19:51:04 2004 +0100

    [ARM] Remove consistent_alloc/consistent_free
    
    Since we've eliminated users of these functions, we can unexport
    them.  Instead, drivers should use the DMA API interfaces.

commit 5f4a46d36636e26feaf254ddae4eb5f39f2a237a
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 19:38:03 2004 +0100

    [ARM] Convert ARM video drivers to use (ARM extended) DMA API.

commit 9bacd63e5ffd09b5f5ae8afa482ede6794e43174
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 13:16:20 2004 +0100

    [ARM] Extend DMA API on ARM for DMA-able writecombining memory.
    
    This is mainly for ARM framebuffer drivers, some of which are
    presently either open-coding this functionality, or using some
    internal ARM architecture function to get what they want.

commit 2ccb567ab30ca0ffecdc03734459ad3a1b9363bf
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 12:48:45 2004 +0100

    [ARM] Move kmalloc() and spinlocks into vm_region_alloc()

commit 8e6458223226e53e05eb1cf82d4c93d54710f028
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 29 12:14:52 2004 +0100

    [ARM] Remove vm_region_dump() debugging.

commit 18ccf569c4419b4ec60826c77747231f2766ddf1
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:52:25 2004 -0800

    [PATCH] inode dirtying timestamp fix
    
    It's a bit late in 2.6.5-rc for this, but it does fix a significant bug: for
    the first five minutes after boot, prior to the jiffy wrap, /bin/sync doesn't
    write all of the dirty data.
    
    We currently record an inode's time-of-first-dirtying in the address_space.
    This causes a few problems with dirty block special inodes: when the device
    node for /dev/hda1 needs to be written back we bogusly inspect the timestamp
    for the address_space, which belongs to a different inode.
    
    So move the inode's dirtying time up into the inode itself.
    
    This means that for block-special inodes, inode->dirtied_when represents the
    time at which the inode itself was dirtied.
    
    For regular files it represents the time at which the inode or its pages were
    dirtied.
    
    For blockdevs, the time-of-first-dirtying is recorded in the kernel-internal
    blockdev inode.  Only I_DIRTY_PAGES makes sense on these inodes.
    
    The reason all this works is that when dirtying a page we always run
    
    	__mark_inode_dirty(page->mapping->host);
    
    which refers to the kernel-internal blockdev inode.

commit 2684a91bedc40d1276f8afca6d44e76ad0ad29e8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:52:10 2004 -0800

    [PATCH] Disable debugging in parport daisy
    
    From: Andi Kleen <ak@muc.de>
    
    We are in production now. No more debugging needed.

commit fd8fbf615d39b2c37a7eda8ecd26c87f04ab2784
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:51:56 2004 -0800

    [PATCH] don't display viocd partitions in /proc/paritions
    
    From: Olaf Hering <olh@suse.de>
    
    Further to the recent removal of CDROMs from /proc/partitions.

commit 4ab0808d0b026a121292ed99111679621ba0fe43
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:51:42 2004 -0800

    [PATCH] Fix /proc/swaps output alignment
    
    From: Hugh Dickins <hugh@veritas.com>
    
    There's an irritating extra space upsetting alignment in the 2.6
    /proc/swaps, which already arranges a space to separate the fields.

commit 835e3b7d3996c12696fb8e192e7ca61a56a93018
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:51:29 2004 -0800

    [PATCH] update i386 defconfig
    
    From: Jeff Garzik <jgarzik@pobox.com>
    
    I pretty much said 'no' to everything "(NEW)", so any "=y" you see are the
    result of Kconfig rules, not me.

commit fa0a65d4c63878775b114bf2ccf3d7e4fe62d30b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:51:15 2004 -0800

    [PATCH] Kill IDE debug messages during suspend
    
    From: Pavel Machek <pavel@ucw.cz>
    
    Suspend/resume support in ide seems to work okay these days, so this should
    be applied.

commit 2635120eda9b269226d155883a76c5317df9ae55
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:51:01 2004 -0800

    [PATCH] cciss: return -ENXIO on no-device-present
    
    From: mike.miller@hp.com
    
    If no device is attached we now return -ENXIO instead of some bogus
    numbers.  Prevents applications from trying to access non-existent disks.
    Also adds HDIO_GETGEO_BIG IOCTL that fdisk uses.

commit bcb10ca8935eb3cf43a8c8e23db72f3db01f91b8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:50:46 2004 -0800

    [PATCH] cciss: support MSA30 storage enclosures
    
    From: <mike.miller@hp.com>
    
    This change is required to support the new MSA30 storage enclosure.  If you
    do a SCSI inquiry to a SATA disk bad things happen.  This patch prevents
    the inquiry from going to SATA disks.

commit 359e3bc6c84f03aaa80451acce34f463299b320a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:50:33 2004 -0800

    [PATCH] fix a warning in sound/oss/opl3sa2.c.
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    sound/oss/opl3sa2.c:163: warning: `opl3sa2_lock' defined but not used

commit 0cfc4052bf73cfcbe94b201b0a28b3448d0c84a7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:50:19 2004 -0800

    [PATCH] Pass correct task to get_user_pages in ptrace
    
    From: Andi Kleen <ak@suse.de>
    
    ptrace/access_process_vm was passing current to get_user_pages as task, but
    it should have been clearly the child task instead.
    
    This fixes the fault accounting in ptrace and the vsyscall debugging on
    x86-64 (it needs the correct task_struct to map the vsyscall pages)

commit ff98143beb6041cefb3d1e4ede8e5dfa52f36cba
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:50:05 2004 -0800

    [PATCH] cmpci warning fixes
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    sound/oss/cmpci.c: In function `cm_release_mixdev':
    sound/oss/cmpci.c:1465: warning: unused variable `s'

commit 529300679d699086455fcd13a0785d47f9789b14
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:49:51 2004 -0800

    [PATCH] Fix slab creation/destruction vs. CPU Hotplug
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    From: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    
    Hit a couple of (cpu hotplug) races in slab allocator during my tests.
    Mostly it was because of continuous loading/unloading fs/minix/minix.ko
    while simultaneously doing offline/online of CPUs.  As part of its init and
    exit routines, minix.ko create/destroys caches, which lead to several
    oopses.
    
    1. kmem_cache_create
    	In brief, kmem_cache_create does:
    		a) calls enable_cpucache to create per-cpu cache for all
    		   online CPUs.
    		b) adds the cache to the global list of caches
    
    	These two are not done atomically and thats what causes problems.
    
    	For ex: lets say that at the time of step a) CPU1 is not online.
    	Hence no per-cpu cache is created for CPU1 (cachep->array[1] is NULL).
    	However CPU1 is not completely dead in the sense that CPU_DEAD
    	processing for it is not yet over.  By the time CPU_DEAD processing
    	starts for CPU1, step b) is complete. So cpuup_callback finds this
    	cache and tries freeing it's per-cpu cache associated with CPU1.
    	In the process it dereferences a NULL pointer and dies.
    
    2. kmem_cache_destroy
    	In brief, kmem_cache_destroy does:
    		a) deletes the cache from the global list of caches
    		b) Drain per-cpu cache (drain_cpu_caches), which
    		   basically uses smp_call_function to run do_drain
    		   on all online CPUs.
    
    	One possible race is let's say that CPU1 is coming up.
    	By the time CPU_UP_PREPARE is processed for CPU1, step a) is
    	complete. Hence cpuup_callback does not allocate any per-cpu cache
    	for the cache that is being destroyed.
    
    	However by the time step b) is run, CPU1 is completely online
    	(taking interrupts). It receives the IPI and tries draining
    	it per-cpu cache (which is NULL) and dies there.
    
    I think we need to serialize kmem_cache_create/destroy against CPU hotplug
    to prevent these problems.  Patch below does that by taking CPU Hotplug sem
    (which is OK since kmem_cache_create/destroy are not very frequently
    used?).

commit 7d7dac0283101fbbb53d3586fccb38326b20556e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:49:35 2004 -0800

    [PATCH] Fix posix scheduling violation for !SCHED_OTHER
    
    From: Joe Korty <joe.korty@ccur.com>
    
    The following fixes a problem where a SCHED_FIFO task would on occasion be
    moved to the end of its runqueue when returned to from a preemption.  Cause
    was due to some SCHED_OTHER code in schedule() which was being run for tasks
    of every policy.

commit ac84aba246c0addac861b203fda2d8eca87c6503
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:49:20 2004 -0800

    [PATCH] md: Convert a number or "unsigned long"s to "sector_t"s
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    This helps raid5 work on at least 1 very large array..
    
    Thanks to Evan Felix <evan.felix@pnl.gov>

commit 454104ff6175364cf49caf35436738d3d72ab73f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 28 22:49:08 2004 -0800

    [PATCH] arch/x86_64/ia32/sys_ia32.c needs vmalloc.h

commit 3822e362376b4fb345f211737723748a9b7e0966
Merge: 8e764e0... 1f7ebbe...
Author: Keith M. Wesolowski <wesolows@kernel.bkbits.net>
Date:   Sun Mar 28 21:23:07 2004 -0800

    Merge kernel.bkbits.net:/home/repos/linux-2.5
    into kernel.bkbits.net:/home/wesolows/sparc32-2.6

commit 9e8bd6637e59d4bbbdfe3dace2e4abc2ec42902a
Merge: 8e764e0... 16253e0...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 28 21:15:37 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 28fc9efb0c8c5bc1897ddf3113c279747779ae31
Merge: d371047... 8e764e0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 28 19:53:42 2004 -0800

    Merge http://linux-watchdog.bkbits.net/linux-2.6-watchdog
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit b7e37481f19e69e7dd37be7bc94e56589ca38c75
Merge: 8e764e0... 16e0373...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 28 19:10:55 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 8e764e0dca9b439b13cf0d6334badbfa6aa59762
Author: Alain Knaff <alain@linux.lu>
Date:   Sun Mar 28 15:53:00 2004 -0800

    [PATCH] email address update

commit b5afcdb21a5b3ee9b721ee1810aec45f69d08c26
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 28 15:41:23 2004 -0800

    [PATCH] fix oops at pmac_zilog rmmod'ing
    
    From: Colin Leroy <colin@colino.net>
    
    rmmod'ing pmac_zilog currently oopses because uart_unregister_driver(),
    which nullifies drv->tty_driver, is called before uart_remove_one_port(),
    which uses said drv->tty_driver.
    
    The comment at top of uart_unregister_driver() specifically says we have
    to have removed all our ports via uart_remove_one_port() before.

commit 62150145ec9871f3609e78b29d7520b8de4b5d15
Author: Armin Schindler <armin@melware.de>
Date:   Sun Mar 28 15:40:29 2004 -0800

    [PATCH] ISDN CAPI: fix capiminor_alloc() to assign lowest free minor
    
    From: Frank A. Uepping
    
       This fixes capiminor_alloc() to assign the lowest free minor for a
       new capi_tty. Thanks to Frank A. Uepping and Tim Woods.

commit 6c90fb7d971deec48250a0999775fff024a675dd
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 28 15:40:16 2004 -0800

    [PATCH] ppc64: syscall error test incorrect for 64 bits results
    
    The syscall return path on ppc64 checks if the error is between
    -LAST_ERRNO and 0, if it is, does the usual inversion along with
    setting a CR bit indicating to glibc that an error occured.
    
    However, we had an interesting bug where we used a 32 bits logica
    (unsigned) comparison, thus possibly doing false positives for
    valid 64 bits unsigned values whose low 32 bits happen to be in
    the error range.
    
    Fix that.

commit 5f746471d3d0851cf628dd980dca951229d75772
Author: Felipe Alfaro Solana <felipe_alfaro@linuxmail.org>
Date:   Sun Mar 28 15:40:03 2004 -0800

    [PATCH] Add BINFMT_MISC docs for Mono .NET-based binaries
    
    Just as there is documentation for BINFMT_MISC and Java bytecodes
    support, I thought it could be interesting to add documentation on how
    to add BINFMT_MISC support for directly running .NET ".exe" binaries
    using the Mono CLR.

commit 379092d29e0f068ca7ae87bb3afb3cc4002b720e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sun Mar 28 15:39:48 2004 -0800

    [PATCH] ppc32: More preempt fixes
    
    This patch fixes more cases of possible preempt issue when testing
    MSR for FP or VEC bits and then doing giveup_fpu or giveup_altivec
    that I missed in my previous round of fixes (bk get helps before
    grepping ;)
    
    I also change the single step and program check exceptions to not
    re-enable interrupts right away on C code entry, it was useless and
    would cause interesting issues with preempt & xmon

commit 1a336f5db01c39a398cd0a213a8f2ab7465fdc1f
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Sun Mar 28 15:35:09 2004 -0800

    [PATCH] add missing <linux/config.h>
    
    A few asm/types.h test a config variable without including
    <linux/config.h> first, which can e.g. cause different sector_t
    definitions. HFS fell victim to that and broke on ppc with CONFIG_LBD
    enabled. I scanned all asm/types.h and added <linux/config.h> as
    necessary.

commit 16e03737d43b1ae156a028bf3982f8a160cc5565
Author: Nivedita Singhvi <niv@us.ibm.com>
Date:   Sun Mar 28 05:51:55 2004 -0800

    [TCP]: Use tcp_tw_put on time-wait sockets.

commit a9b095e467baabb40d31fbae7a85e48c1b55add1
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Sun Mar 28 02:33:50 2004 -0800

    [PATCH] Fix bugs introduced by recent improvements to readdir_plus
    
     - make sure cd->buffer is always inside a page - previously if an
       entry fit perfectly in the remainder of a page, cd->buffer would
       end up pointing past the end of that page.
    
     - make sure num_entry_words is always correct, even on the error
       path.

commit 828d856575be28222b92464fab1ed387908b2eb6
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 28 00:15:44 2004 -0800

    [INTERMEZZO]: Fix 64-bit platform warnings.

commit 3d5b712833bf43de1badf85b1798c37f64c0be60
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Mar 27 23:29:47 2004 -0800

    [CARMEL]: Fix 64-bit platform warning.

commit 6d889d3386f01f5b4b8616c019f7f6960c3250a3
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Mar 27 23:13:31 2004 -0800

    [SOC]: Fix cast-as-lvalue warnings in soc fc4 driver.

commit 9cfd4af751b504a2080dfb85f5544bbc4a724b24
Author: Olof Johansson <olof@austin.ibm.com>
Date:   Sat Mar 27 19:28:10 2004 -0800

    [PATCH] ppc64: Use full DART table on G5
    
    This increases the DART table to use the full size.  We allocate a full
    16MB page anyway, so there's no difference in memory consumption.
    
    Thanks to Ben for spotting this, it was left over from debugging...

commit d403ba5122cb306e2c79a89af13a3d7ec1d7b5a1
Author: Olof Johansson <olof@austin.ibm.com>
Date:   Sat Mar 27 19:27:55 2004 -0800

    [PATCH] ppc64: Fix thinko in iommu allocator
    
    This fixes a bug in the iommu allocator that causes it to behave
    strangely when a fair size of the table is allocated.
    
    Thanks to Andrew Gallatin for finding this.

commit 34e01aa20d417145f8a883a65e0aabb0f3ade0d4
Merge: 98c81a1... c39b456...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 27 19:19:52 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 98c81a17a708fff6360be194546a93e6cfa3a40c
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sat Mar 27 19:16:38 2004 -0800

    [PATCH] USB: Eliminate wait following interface unregistration
    
    This patch from Alan Stern <stern@rowland.harvard.edu> fixes a bug in
    the current USB code that causes khubd to hang when a device is removed
    from the system, thereby preventing any future USB device changes (like
    adding or removing other devices) from happening.
    
    Both Andrew and I can easily duplicate this bug against the current -bk
    tree.
    
    It's not a perfect fix, but it works for now, and I will spend the next
    week working on restructuring the code so this is handled properly.

commit d3710471b5643bf14f38bc8225a6634994cb761c
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Mar 27 19:22:20 2004 +0100

    [WATCHDOG] v2.6.5-rc2 pcwd.c-patch4
    
    Version 0.16 of pcwd.c - Changes that were made are:
    * Changed the driver so that it uses an internal timer to do
      the actual watchdog pinging. This way the watchdog's emulated
      'heartbeat' is usuable as a module parameter. The watchdog's
      heartbeat can now vary from 2 till 7200 seconds
    
    Tested on pcwd card with temperature option

commit 7029b960a3277bdb81a5121f28d214a98b454826
Author: James Morris <jmorris@redhat.com>
Date:   Sat Mar 27 09:56:20 2004 -0800

    [IPV6]: Link some packet walker helpers always statically.
    
    Put the extension header helper funcs always statically into
    the kernel even if ipv6 is built as a module, this is needed
    for things like SELinux.

commit 37264b3125197f5e76923aec3e53e0d4aad4409e
Author: Ulisses Alonso Camar <uaca@alumni.uv.es>
Date:   Sat Mar 27 09:54:03 2004 -0800

    [AF_PACKET]: Fix packet_set_ring memleak and remove num frame limit.

commit c39b4567353069b4ab5495c40cdebce21c7505c2
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sat Mar 27 09:22:46 2004 -0800

    [SPARC64]: Fix one last cast-as-lvalue, present in uniprocessor builds.

commit 0fca96c561272cb049801bb62a6d4de5ee4608f4
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Mar 27 17:55:39 2004 +0100

    [WATCHDOG] v2.6.5-rc2 pcwd.c-patch3
    
    Version 0.15 of pcwd.c - Changes that were made are:
    * Rewrote code for exchanging commands with the ISA-PC Watchdog card
    * Restructured + rewrote the init and exit code
    * Added option_switches info
    * Use the option_switches info to find out what the cards heartbeat is
    * Added notifier support
    
    Tested on pcwd card with temperature option

commit 1f7ebbe12560751186acc752d46e3ab18baccab8
Merge: 1d5b953... eaa5a84...
Author: Keith M. Wesolowski <wesolows@kernel.bkbits.net>
Date:   Sat Mar 27 07:15:15 2004 -0800

    Merge kernel.bkbits.net:/home/repos/linux-2.5
    into kernel.bkbits.net:/home/wesolows/sparc32-2.6

commit 16253e071f04ca951e4c7f67bb127c020ccd2120
Merge: 1d5b953... eaa5a84...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 07:09:55 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit eaa5a84d6727ce9df39f70352db61be8aad88396
Merge: 8fb7045... bedd4ac...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 06:21:34 2004 -0800

    Merge.

commit bedd4ac0fa851f4cdef0f250d04b0ad762ee5cc0
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 06:04:17 2004 -0800

    [SPARC32]: Rename cpuid functions
    
    smp_processor_id is to be used when current_thread_info()->cpu is
    valid; i.e. almost always.  Early on or when setting that field,
    hard_smp_processor_id is used.  Clarify the distinction and only
    export to modules what's really needed.  smp_processor_id is not
    model-specific, so we no longer need btfixups for it.

commit 4ea21dd591b13e921cefe362e974faa11306b205
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 05:50:09 2004 -0800

    [SPARC32]: Optimize SMP IPI handling
    
    Since smp_stop_cpu is not used, we don't need to test for it.  This
    saves several instructions in the IPI handler and simplifies the code.

commit ae4aaac05eeeaeb42201dd485f4d348b2cb32fca
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 05:45:13 2004 -0800

    [SPARC32]: Use model-specific cpuid calls in model-specific code
    
    There are no longer any callers of GET_PROCESSOR_MID and
    GET_PROCESSOR_ID, so both are removed.

commit 8fb7045e38b93f26eed3b4af2ce8ab957ff063b4
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 05:36:28 2004 -0800

    [SPARC32]: Replace deprecated EXPORT_SYMBOL_NOVERS

commit 9a124ef5cfe9d2b59f99fef1c68e9218f7055ca1
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Mar 27 03:13:30 2004 -0800

    [PATCH] remove unused ide_hwif_t->pnp_dev

commit 71e34e172b0065e7526ea3a685b4b56625acaef2
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Mar 27 02:51:03 2004 -0800

    [PATCH] remove unused CONFIG_DMA_NONPCI
    
    It has been dead since kernel 2.5.18.

commit 1dce91a8f2fa31ddcb78598be39fe48493858222
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Mar 27 02:50:49 2004 -0800

    [PATCH] remove unused CONFIG_BLK_DEV_TIVO
    
    TiVo IDE support was never merged only this option was (in 2.4.0-test2), sigh.

commit 1d524389fe8dc5907ef31f2cea064154af2f00e1
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sat Mar 27 02:48:42 2004 -0800

    [PATCH] ide.c: remove unused code for hwif->mmio == 1

commit 5bbb000c7c783721a5bfebd05add913246630c59
Author: Anton Blanchard <anton@samba.org>
Date:   Sat Mar 27 02:41:19 2004 -0800

    [PATCH] [PPC64] make compat filldir/getdents check for errors
    
    filldir and getdents should check return values of put_user etc. The
    generic code has been fixed but the ppc64 compat versions have not.

commit dd0fcd57b0cd9570b35fb157d1c5a275578402df
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sat Mar 27 10:14:11 2004 +0000

    [ARM] Don't conditionally include the sound configuration

commit cf9bfb427c125066531895ab0d811352c34ab7c1
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 01:49:21 2004 -0800

    [SPARC32]: Allow debugging locks to compile again

commit 1cca40bb70848f3234ddc16a0cd398f4bd4ef2d2
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 27 01:46:30 2004 -0800

    [SPARC32]: Correct init_thread_union section and alignment for gcc 3.3+
    
    Recent tools are disregarding both the __asm__(".text") in init_task.c
    and the alignment at the end of .text in head.S.  Use attributes
    instead.

commit ef9c3dbaa6f8f46bb105380af95d8003f840e8e7
Merge: 5d6e3d8... 27da346...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 26 21:46:55 2004 -0800

    Merge

commit 27da3461c60f6d1713c3cae2bcfef6702e18b8ee
Author: Matthew Wilcox <willy@debian.org>
Date:   Fri Mar 26 21:42:42 2004 -0800

    [PATCH] consolidate compat_sys_mount
    
    This replaces six duplicated implementations of various quality of
    sys32_mount with a shiny new compat_sys_mount().
    
    It's been tested on parisc64 and sparc64 and fixes a bug exposed by the
    latest revision of Debian's initscripts.  Thanks to Arnd Bergmann and
    Dave Miller for their suggestions, fixes and testing.  Please apply.

commit 5d6e3d878349ee0a7091f091481d47b4887895fa
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:02:33 2004 -0800

    [PATCH] Remove <asm/setup.h> from cmdlinepart.c
    
    From: Bjorn Helgaas <bjorn.helgaas@hp.com>
    
    Remove include of <asm/setup.h> from cmdlinepart.c.  This is not be needed
    for i386 (it builds fine with this patch), and ia64 doesn't supply a
    setup.h.
    
    asm/setup.h contains a hodge-podge of stuff with no real
    consistency between architectures.  It appears to be
    included mainly by arch-specific drivers:
    	acsi (Atari disks)
    	amiflop (Amiga floppy)
    	z2ram (ZorroII ram disk)
    	amiserial (Amiga serial)
    	...
    and under arch-specific #ifdefs:
    	fbcon (under __mc68000__ or CONFIG_APUS)
    	fonts (ditto)
    	logo (CONFIG_M68K)
    	...

commit 589df8082abf4224bed9d7caa6de99fadda27f80
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:02:21 2004 -0800

    [PATCH] Fix uninitialized data in EFI RTC /proc interface
    
    From: Bjorn Helgaas <bjorn.helgaas@hp.com>
    
    The problem is that we don't clear out the efi_time_t buffer before asking
    EFI to fill it in.  EFI doesn't always write the entire buffer (in
    particular, the alarm time only supports one second resolution, so the
    nanosecond field is often untouched).
    
    The effect is that 'cat /proc/driver/efirtc' shows garbage in the
    nanoseconds part of the alarm time, and sometimes artifacts like bogus
    alarm date and junk after the actual end of the text.

commit 735c736e1814d8ad5b6b0c51f62f6b5210da0e2b
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:02:08 2004 -0800

    [PATCH] selinux: check return value for receive node permission
    
    From: James Morris <jmorris@redhat.com>
    
    This patch fixes a bug where the return value for a permission call is not
    checked.
    
    The bug was introduced when I added some code in the following changeset:
    
    <http://linux.bkbits.net:8080/linux-2.5/diffs/security/selinux/hooks.c@1.19?nav=index.html|src/|src/security|src/security/selinux|hist/security/selinux/hooks.c>
    
    Code was added after this line:
    
    	err = avc_has_perm(isec->sid, node_sid, SECCLASS_NODE, node_perm, NULL, &ad);
    
    without adding an explicit check of 'err', which was previously returned
    from the function rather than being checked.  i.e. it would drop through
    to:
    
    	out:
     		return err;
    
     	}
    
    With the new code added, err can (and typically would) be overwritten with
    a successful value, causing the permission check to not deny permission if
    needed.  The intended denial would have been logged.
    
    The patch below fixes this problem.

commit e9c7ac4a72c007571ef423f3b047624350182d88
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:01:55 2004 -0800

    [PATCH] adjuct cpu_khz in response to cpufreq changes
    
    From: john stultz <johnstul@us.ibm.com>
    
    This patch ensures that cpu_khz is adjusted on cpufreq notifications even
    when the tsc timesource is not in use.  It fixes the mostly cosmetic issue
    when using the ACPI PM timesource of /proc/cpuinfo not being properly
    updated when cpu frequency was lowered.

commit a9ffde7edffb988ac5a253ad8d3f4027f62e8a10
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:01:42 2004 -0800

    [PATCH] s390: system call speedup part 2.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    System call speedup part 2.

commit 42aef4b04a31a106cec06fec2fbaf76935e12b78
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:01:29 2004 -0800

    [PATCH] s390: system call speedup part 1.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    The purpose of this is to speed up system calls on s390.  I managed to
    squeeze about 65 cycles from each system call.  This improved e.g.  getpid()
    from 232 to 157 cycles.  As a nice side-effect it simplified the uaccess
    functions considerably.

commit ff3d0776d42d91bd43d31e97164269856636dc71
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:01:16 2004 -0800

    [PATCH] s390: tape driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 tape driver changes:
     - Prevent offline while device is in use.
     - Do not use bus_id string in debug feature messages.
     - Check for IS_ERR(irb) error conditions in interrupt handler.
     - Fix removing tape discipline modules.

commit 0dc80d7c940a49a371dfa47093af1481f58b3384
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:01:03 2004 -0800

    [PATCH] s390: network driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 network driver changes:
     - ctc/lcs/qeth: prevent a ccw-device to be grouped multiple times.
     - icuv: clear correct field in iucv_register_program if no userid is specified.
     - lcs: fix online/offline cycle again.
     - lcs: fix ungrouping of lcs group device. The channels of the lcs card
       should be offline afterwards.
     - lcs: don't do netif_stop_queue if no tx buffer is available, just
       return -EBUSY and drop the packets.

commit ba0ce5787b4e8c714b628c29b09bd2deb6862c40
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:00:49 2004 -0800

    [PATCH] s390: z/VM monitor stream.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    z/VM monitor stream changes:
     - Correct sysctl vs. module ref-counting.

commit 8fea23438978b11154c31d09e90d44eddf87988a
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:00:37 2004 -0800

    [PATCH] s390: dasd driver.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    dasd device driver changes:
     - After a state change interrupt restart all running i/o on queue
       and reset device timer.
     - Improve some debug messages.
     - Lower timeout of reserve/release/steal_lock to 2 seconds.
     - Fix BIODASDPSRD ioctl.
     - Replace ro_flag, use_diag_flag and disconnect_error_flag words by bits.
     - Use BLKPG_DEL_PARTITION ioctl instead of a call to delete_partition because
       delete_partition is not an exported function. Since dasd_destroy_partitions
       can't do blkdev_get because dasd_open would fail, keep the block device
       open as long as partitions exist. This in turn requires a different
       approach to the open vs. offline race.

commit d2ca1196f8264c25a71630b68ac0cdb270c68608
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:00:23 2004 -0800

    [PATCH] s390: core fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 core changes:
     - Fix return type of some system call functions (long vs. int).
     - Fix prototypes for compat system call handlers.
     - Correct some bugs in the compat system call wrappers.
     - Fix broken pointer arithmetic which causes problems with
       gcc 3.4 and -march=z990
     - Remove unnecessary #ifndef & optimize inline assemblies in spinlock.h.
     - Improve handling of deferred condition code 1.
     - New default configuration.

commit c9503ff2276f1d047fb91aebb43de437dd844925
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 21:00:07 2004 -0800

    [PATCH] ipc locking fix
    
    From: badari <pbadari@us.ibm.com>
    
    I ran into an ipc hang while trying to shutdown a database.  The problem is
    due to missing sem_unlock() in find_undo().

commit 66154b6ea24339a9a62f9551a9d803094eddb949
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 26 20:59:54 2004 -0800

    [PATCH] write_kmem() fix
    
    copy_from_user() returns non-zero on faults..

commit fbd033bea0b9d025c5648f43b237097e6c45536d
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Mar 26 20:56:57 2004 -0800

    [PATCH] Fix cyclades async driver timeout miscalculation
    
    This fixes a problem where cy_wait_until_sent() miscalculates (calculate
    -1 on a unsigned long) the "char_time" parameter passed to
    schedule_timeout().
    
    Fix that by making it a signed long, and checking for negative value.

commit 44fbe3d283010cbf2f057dfe496aae178387857a
Author: Andi Kleen <ak@suse.de>
Date:   Fri Mar 26 20:56:44 2004 -0800

    [PATCH] Emulate deviceless bridge ioctls
    
    This helps vmware users running vmware on x86-64 - vmnet tries to set up a bridge.
    Emulate these ioctls. The bridge has more ioctls on its bridge device, but these
    don't seem to be needed here.

commit 2b82353a0c1b3594cc902f477240602edec1712a
Author: Andi Kleen <ak@suse.de>
Date:   Fri Mar 26 20:56:32 2004 -0800

    [PATCH] Don't register disabled nodes
    
    Don't register disabled nodes.  Hits on x86-64 when there is a node with no memory.
    X86-64 shares this code with i386.

commit a07b54e9f4c84f80cd7f8e53f051c0a7489b402d
Author: Andi Kleen <ak@suse.de>
Date:   Fri Mar 26 20:56:18 2004 -0800

    [PATCH] Fix x86-64 32bit getdents for new glibc
    
    The newest CVS glibc assumes that Linux >=2.6.4 always passes d_type.
    This patch adds this to the 32bit getdents on x86-64 too
    
    Patch originally from Marcus Meissner

commit 0950e9cb91222364dea42ae8db097148050dd650
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Fri Mar 26 23:26:40 2004 +0100

    [WATCHDOG] v2.6.5-rc2 pcwd.c-patch2
    
    * Extracted the get_status code to a seperate function (pcwd_get_status)
    * Re-used the pcwd_get_status code for the initial/boot status
    
    Tested on pcwd card with temperature option

commit faea09e7b91033ad9ebb49298d3b9a91544a0e0e
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 09:31:19 2004 -0500

    [ACPI] Linux specific updates from ACPICA 20040326
    "acpi_wake_gpes_always_on" boot flag for old GPE behaviour

commit ef84240dfd36e44e41f0ff648921cbd1e37ded98
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 08:49:28 2004 -0500

    [ACPI] ACPICA 20040326 from Bob Moore
    
    Implemented support for "wake" GPEs via interaction between
    GPEs and the _PRW methods.  Every GPE that is pointed to by
    one or more _PRWs is identified as a WAKE GPE and by default
    will no longer be enabled at runtime.  Previously, we were
    blindly enabling all GPEs with a corresponding _Lxx or _Exx
    method - but most of these turn out to be WAKE GPEs anyway.
    We believe this has been the cause of thousands of
    "spurious" GPEs on some systems.
    
    This new GPE behavior is can be reverted to the original
    behavior (enable ALL GPEs at runtime) via a runtime flag.
    
    Fixed a problem where aliased control methods could not
    access objects properly.  The proper scope within the
    namespace was not initialized (transferred to the target of
    the aliased method) before executing the target method.
    
    Fixed a potential race condition on internal object
    deletion on the return object in AcpiEvaluateObject.
    
    Integrated a fix for resource descriptors where both
    _MEM and _MTP were being extracted instead of just _MEM.
    (i.e. bitmask was incorrectly too wide, 0x0F instead of 0x03.)
    
    Added a special case for ACPI_ROOT_OBJECT in AcpiUtGetNodeName,
    preventing a fault in some cases.
    
    Updated Notify() values for debug statements in evmisc.c
    
    Return proper status from AcpiUtMutexInitialize,
    not just simply AE_OK.

commit d29416fa8b3d5cda33ff0fe3f0d64e7d1d38a2e9
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 07:52:32 2004 -0500

    [ACPI] proposed fix for non-identity-mapped SCI override
    http://bugme.osdl.org/show_bug.cgi?id=2366

commit 1d5b953dea36a6ded447a0ab8993305035ab6ec1
Merge: 75a8032... 5f10ea1...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 26 01:43:10 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 5f10ea14a1b172f906687a73ebcb56f8ff262a57
Merge: 91b6e66... faea09e...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 09:33:51 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 91b6e661633a1c74b2a57b137fc98835de49bf74
Merge: 4e6e287... 4711f01...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 08:53:17 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 4711f01a5e20c33f1b0330b24641f397545229f6
Merge: 8571f9a... d29416f...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 26 08:01:30 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 75a8032af4c309a1cc3fd6a7ed7710dbb91d8384
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 25 23:00:55 2004 -0800

    [SPARC64]: Fix lvalue casting in sys_sparc32.c

commit 14c27430170bc76289982115043c0f1957ea6b38
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 25 22:17:12 2004 -0800

    [SPARC64]: Fix svr4_stack_t typing in svr4.h

commit f4ebe421b157849815f5b2e7df649601150662cc
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 25 22:16:43 2004 -0800

    [SPARC64]: Fix lvalue casting in sys_sunos32.c

commit c0ab4540ae3c1eecd4c8bead467d7ebf462ece40
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 25 22:16:17 2004 -0800

    [SPARC64]: Fix lvalue casting in signal32.c

commit d9c0cf1a019e192ba38fedccc6970a6a48e3d484
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 25 22:15:22 2004 -0800

    [SPARC64]: Do not lvalue cast in pgd/pmd macros.

commit 4e6e2877c3e83833944a9a9a9786b1e987b62414
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Mar 25 14:47:49 2004 -0800

    [PATCH] ide-cd capacity fix
    
    Only allow get_last_written() to override get_capacity(), if it is
    bigger.

commit 3bb6b2681f9a62f351fe03e61ce59991b087261c
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 25 07:14:22 2004 -0800

    [SPARC32]: gcc 3.4+ compile fixes
    
    From: Art Haas <ahaas@airmail.net>
    
    Fix casts-as-lvalues and labels left at the end of blocks.

commit 62e160b5b2716b92068eb9ecd9ad2c3538b449aa
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 25 06:07:08 2004 -0800

    [PATCH] ppc32: arch code preempt fixes
    
    I figured the best way to stop beeing bothered by users trying to run
    preempt was to fix it ;)
    
    Here's a first batch that close some races we had when testing regs->msr
    for altivec or FPU enable, then doing the giveup_* function.  A preempt
    in between those would have caused us to save a stale altivec or FPU
    context.

commit 01472f19bb7fe25bf932ff286d1298e15d3c7093
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 25 06:00:32 2004 -0800

    [PATCH] dmasound close timeout
    
    The dmasound driver occasionally hangs a process on exit.
    
    Apparently there is a possible case where the sound HW stops draining
    output samples and the driver waits forever in its release() callback.
    It should check for signals(), but it seems signal_pending() never
    returns 1 when the process is beeing killed (implicit release() of files
    on exit).
    
    This patch adds a safety timeout to the release() function to make sure
    we can at least close the driver.  I'll try to find the reason we aren't
    driving samples later, but it is better to have a safety just incase the
    sound clock goes berserk for some reason.

commit 0d925852d640278ee9fa3f0fbda7f5aedebae0f0
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 25 06:00:19 2004 -0800

    [PATCH] powerbook via-pmu races
    
    This fixes some racy code in the management of asynchronous brightness
    and battery requests in the via-pmu driver used on powerbooks.  This
    should fix some preempt related problems (there is no SMP powerbook yet :)

commit 8631d753a54ef4fd30fc34439593f618802d5bda
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 25 06:00:08 2004 -0800

    [PATCH] adbhid preempt/smp races
    
    This fixes a few races in the LED code of the adbhid driver that would
    affect SMP or preempt.

commit 1c7544725324f350a2441b6fdd63205edfbe5c62
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 25 05:59:54 2004 -0800

    [PATCH] ppc32: Fix racy access to TI_FLAGS
    
    The ppc32 syscall entry code could access the thread info flags in a
    racy way, thus potentially losing bits sets there at interrupt time or
    by another CPU, like NEED_RESCHED or SIGPENDING (ouch !).
    
    This fixes it by moving the potentially racy bit to a different field (I
    preferred that rather than turning the access into an atomic operation
    for performances reasons).

commit f9f90f7577ee36e48149df1ec0480de6e8e2bbec
Merge: b710fb6... 419a87e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 25 05:57:17 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit b710fb628bb2233cf87b4e46bc0c1999547031e7
Merge: 3805f9c... 9b5f4e9...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 25 05:56:11 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 9b5f4e9e4114a45c0ec725934814014f16dede7b
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Mar 25 19:52:07 2004 +0000

    [ARM] Add dma_mapping_error() definition.

commit 02cae55d901c25e10b99e47a7d7bee496f5c0e06
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Mar 25 17:58:50 2004 +0000

    [ARM] Remove Anakin machine support.
    
    Anakin has not been maintained since it was (partially) merged, and
    the maintainers appear to ignore mail about it.  No one appears
    willing to maintain it either.  However, some unrelated kernel
    maintainers have been updating various files while they've been
    working in the area - which is wasted work for something which
    isn't maintained.
    
    Therefore, this cset removes Anakin completely from the kernel.

commit 5c1589a90a03f28871b8f49f8dde531a9123d85c
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Mar 25 17:44:51 2004 +0000

    [ARM] Add support for dev->coherent_dma_mask
    
    This adds AMBA and SA11xx support for dev->coherent_dma_mask.

commit 3805f9c14109aba95f47d482c0e37fee20ef5e50
Merge: 1e904ef... 799d0fa...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 25 05:52:41 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-pcmcia
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 8571f9abd9d13f3fc2ca3754b85809652f250474
Merge: 915430c... 6576c1b...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 25 07:53:25 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 6576c1bd65a4223e720c94eaf610f2e6acb7e004
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 25 07:40:31 2004 -0500

    [ACPI] PCI interrupt link routing (Luming Yu)
    use _PRS to determine resource type for _SRS
    fixes HP Proliant servers
    http://bugzilla.kernel.org/show_bug.cgi?id=1590

commit 799d0fad947148e6e3ef0749a31fd25061c4ccc6
Author: Daniel Ritz <daniel.ritz@ch.rmk.(none)>
Date:   Thu Mar 25 10:26:12 2004 +0000

    [PCMCIA] attack of the clones
    
    Patch from: Daniel Ritz
    
    This patch adds the TI clones from ENE to the override list
    in yenta_socket.c.

commit 808f79316ce4581dc55cb562d03659498e956d78
Author: Arthur Othieno <a.othieno@ch.rmk.(none)>
Date:   Thu Mar 25 10:11:59 2004 +0000

    [ARM] arch/arm/boot/Makefile: s/quite_cmd_mknote/quiet_cmd_mknote/
    
    Patch from: Arthur Othieno
    
    This fixes a typo in arch/arm/boot/Makefile.

commit 6b6b112ef80e942fb6c1cd3c43d1a7658afa0889
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Thu Mar 25 10:07:15 2004 +0000

    [ARM] arch_arm_mach-sa1100_Kconfig URL update
    
    Patch from: Rusty Russell
    
    From: Petri Koistinen <petri.koistinen@iki.fi>
    
    URL updates.

commit 419a87e61edec37d2e85ac19552e32f1c35bb079
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Mar 25 00:43:33 2004 -0800

    [PATCH] ia64: fix kernel NULL-pointer message
    
    Add missing newline to kernel version of NULL-pointer message and also print
    the address while we're at it.

commit 3992826c432c18ff133f2a356b533e94e2ae4be9
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Thu Mar 25 00:37:55 2004 -0800

    [PATCH] ia64: update sn2_defconfig

commit 7273fcef491e3639fa7f71cf8c151dae091c4e25
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Thu Mar 25 00:37:02 2004 -0800

    ia64: Fix typo in unwinder which could cause NULL-pointer dereferences.

commit 1e904efe9dd1ab98a7984493e64dae99bca3a1fb
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 24 23:06:22 2004 -0800

    [IGMP]: Do nothing in ip_mc_down() if ip_mc_up() was not called previously.

commit dde1ec5b0adcbc13ed821fd345fe52d9fb4605e8
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Wed Mar 24 23:06:05 2004 -0800

    [ATM]: [nicstar] use kernel min/max (by Randy.Dunlap <rddunlap@osdl.org>)

commit f8eecf9b71a38a5882bad09455f77e82c5c679fa
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Wed Mar 24 23:05:34 2004 -0800

    [ATM]: [lec] lec_push() races with vcc->proto_data

commit 88cf39e5836655452a44644009ae636f88299bf0
Merge: ab7666d... cf463ea...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 24 21:31:14 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit cf463ea56fe98d4e5cc710191809eb40abbe7094
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 24 21:21:41 2004 -0800

    [SPARC64]: Update defconfig.

commit ab7666d171f44b4fdeebef2179e92feefb133819
Merge: c851c3f... f158809...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 24 20:36:22 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit c851c3f90976cd71b599cd2d39426ec4b05ccd47
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 24 20:24:52 2004 -0800

    ia64: Correct value for PREFETCH_STRIDE.

commit f2c2b294187eead0f49923e94d6152f83efc4cfe
Merge: 2f54b73... e899b4b...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 24 20:00:34 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 48b8720ca8ccb0537244eee5b758c6e949157a52
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 24 19:54:51 2004 -0800

    ia64: Minor formatting fix for two earlier patches.

commit af2f859dcf54fe10c3d7dcd08e305bed310d9bc9
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 24 19:53:10 2004 -0800

    ia64: Improve layout of cpuinfo_ia64
    
    Stephane made some measurements on the access-pattern of the cpuinfo_ia64
    members and based on those results, this patch reorganizes the structure
    for better cache-line sharing.

commit e899b4be03a27e7d52be01a71f1ec4d812762c52
Merge: f158809... 5c05349...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 24 19:37:36 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit f158809eecc1c5a5e330e00976160c67a11a6214
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Mar 24 18:13:24 2004 -0800

    [PATCH] SATA: fix and enable sata-sil
    
    sata_sil:  it's a widely deployed chipset.  Now that we've fixed it, let
    users use it.
    
    sata_via:  Disk detection via SATA phy registers appear problematic.
    Until that problem is identified and fixed, used the old PATA detection
    code -- that was used in 2.6.4 -- instead.

commit 1aeaeab3173a388fd69b597b909c142ca5c788ad
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 18:13:09 2004 -0800

    [PATCH] con_close() deadlock fix
    
    I'd assumed that vcs_remove_devfs() could not possibly take console_sem().
    Seems I was wrong.

commit 7d9432d8b5413c885281df809bd4bc1d99b712c3
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Mar 24 17:06:31 2004 -0800

    [PATCH] forgotten pci_dma_mapping_error on x86-64
    
    x86-64 needs this (obvious) patch, due to the rename.

commit 2f54b735a9ab77c742ab05b3a4cba1ee7940aae1
Merge: 3b2c9f6... dc33e94...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Wed Mar 24 16:42:39 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit dc33e94a03040002cf62945e6d15c3235415c95b
Merge: 6d2b5ef... 38d5a6c...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Wed Mar 24 16:13:41 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 38d5a6c4208f718de2ef3e2fed6f921256b4e91f
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Wed Mar 24 16:11:23 2004 -0800

    [SPARC32]: Use correct atomic initializer for semaphore counters
    
    Semaphores use 24-bit atomics, not 32.  Using the wrong initializer
    causes immediate deadlock under SMP, and incorrect results under UP.

commit 3b2c9f640ae2762fc68ad223ddd40d1e017c653d
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:09:28 2004 -0800

    [PATCH] ia64: don't prompt for the floppy driver
    
    From: David Mosberger <davidm@napali.hpl.hp.com>
    
    From: Bjorn Helgaas <bjorn.helgaas@hp.com>
    
    We can't build floppy.o on ia64, so why bother asking?

commit a5a2b07898b53e50fc31c07a94f35384ccad8ad3
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:09:13 2004 -0800

    [PATCH] don't show cdroms in /proc/partitions
    
    From: Jens Axboe <axboe@suse.de>
    
    Currently SCSI cdroms show up in /proc/partitions in 2.6, they didn't in
    2.4.  And ATAPI cdroms don't show up either.  Mark both as genhd removable
    for now, when they are partionable this can be updated.

commit bd2a8f7991f5cc9d7f6bffcbfc28a85e16abe04e
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:08:59 2004 -0800

    [PATCH] Broken CDROMs default to writeable
    
    From: Jens Axboe <axboe@suse.de>
    
    If the drive doesn't support GPCMD_READ_DISC_INFO at all, permit writeable
    opens.

commit e6626b783ef276962e9d6294ba54c13fcf5d2a54
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:08:43 2004 -0800

    [PATCH] ext2&3: use the right i_flags in find_group_orlov()
    
    Spotted by Jorn Engel <joern@wohnheim.fh-wedel.de>: both the generic and
    fs-specific parts of the inode have an i_flags.  find_group_orlov() is using
    the wrong one.

commit 1267b2358794bb32eb77b920f7c0c1ef66c83568
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:08:29 2004 -0800

    [PATCH] null-terminate sb->s_id
    
    strncpy() may not null-terminate the destination.

commit b0887c1c8a5332fe85e891e8f99b3a5bdbabbba0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:08:17 2004 -0800

    [PATCH] ppc64: SMT snooze fix in idle loop
    
    From: Olof Johansson <olof@austin.ibm.com>
    
    A smt_snooze_delay of 0 is supposed to mean "disabled", but current idle
    loop logic doesn't take that into account and snoozes immediately instead.
    
    Below patch fixes the logic in the idle loop, as well as cleans up the test
    a bit.  An idling processor might no longer see a snooze change
    immediately, but that's not needed anyway.

commit 0e0627009c9d91167ef947f95776d72f3c1409cb
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 24 16:08:02 2004 -0800

    [PATCH] ppc64: getdents patch for 32 -> 64 converter
    
    From: Anton Blanchard <anton@samba.org>
    
    From: Marcus Meissner <meissner@suse.de>
    
    With 2.6.4 we now have the glorious hidden d_type passing in getdents.
    
    glibc CVS expects this to be passed if we have a kernel version after
    2.6.4, so we have to also handle it in the 32bit syscall converter.

commit ffdf2b545acd3ec6ce429b1c6af497418461b421
Author: Dave Jones <davej@redhat.com>
Date:   Wed Mar 24 17:03:53 2004 +0000

    [AGPGART] Remove more unneeded routines from the new Intel driver.

commit d364c9fe4c89d32562532f9c18f01954efc995ac
Author: Dave Jones <davej@redhat.com>
Date:   Wed Mar 24 17:01:34 2004 +0000

    [AGPGART] Mass ia32e renaming.
    Andi pointed out that Intel changed their nomenclature for this monster
    to EM64T instead. Updated the text to mention the actual AGP chipset this
    driver supports rather than the CPU architecture, which is irrelevant.
    
    Change various function names accordingly.

commit 4f2ade37a30469626989dbd873b80857711b3671
Author: Anton Blanchard <anton@samba.org>
Date:   Wed Mar 24 05:44:16 2004 -0800

    [PATCH] ppc64: fix mount compat translation bug
    
    From Dave Miller:
    
    We weren't handling a NULL 'type' argument to mount() properly,
    f.e. this happens legitimately when changing the options of an
    existing mount.

commit 915430c873a2e5cfc9144fcd6ae7576fb5d0e0b5
Merge: db80df6... b582174...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 24 04:05:11 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 67f3362aa7d79ee954c2d48f2963415b5b60ad38
Merge: 6f48c4d... 726dab7...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Tue Mar 23 22:40:42 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 726dab7433f3bb3eb754f38f77c724758c170374
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Mar 24 02:17:44 2004 -0600

    JFS: don't use global lock in lmLogSync when local lock is sufficient
    
    I stupidly used the global jfs_log_sem to protect log->sb_list when
    implementing the shared journal stuff.  Since we already hold
    LOG_LOCK, it makes more sense to use that to protect log->sb_list.
    This caused horrible serialization when running on lots of jfs
    volumes.

commit 135e21a513dc09f594edee23741d1801ad47c1c3
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Wed Mar 24 02:11:52 2004 -0600

    JFS: Prevent hang in __lock_metapage
    
    Remove the hold_metapage call from txLog to prevent a hang.
    While investigating this one, I audited all functions that held
    metapage locks and found several error paths that did not release
    them correctly.  These are fixed as well.

commit 6f48c4da26cef9e7ce60d24e29dd45ed77b74122
Author: John Williams Floroiu <floroiu@fokus.fraunhofer.de>
Date:   Tue Mar 23 22:18:54 2004 -0800

    [IPSEC]: Missing family settings in af_key and xfrm_user.

commit a76ec104c49d16e9cddc0fa94e120016af184750
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Mar 23 22:05:05 2004 -0800

    [IPV6]: Error is option length increases amidst corking.

commit 08422cec9eaf8ffce4efa7109bcf42355ad13045
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Mar 23 22:01:20 2004 -0800

    [PATCH] ia64: fix name conflict with handle_exception()
    
    I tried to build usb/gadget/file_storage.c (CONFIG_USB_FILE_STORAGE=y),
    but it uses "handle_exception()" for its own purposes, which conflicts
    with the ia64 definition.  ia64 only uses handle_exception() within
    arch code, so it seems like we ought to rename it to be ia64-specific.
    done_with_exception() looks similar, so I renamed it as well, although
    there's no actual conflict.

commit d56dc0166e6b02e0b179ef648235950649ef8100
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 23 21:57:06 2004 -0800

    [NET_SCHED]: Trailing whitespace cleanup in TBF qdisc.

commit 85b86d74ae96dfb5861b794cafa9486d3aaeed4d
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 23 21:55:48 2004 -0800

    [NET_SCHED]: Fix class reporting in TBF qdisc.
    
    The patch below fixes issue with 'tc class show dev <dev>' not showing any
    classes when TBF qdisc is present in the chain. PLease consider for
    inclusion.

commit 397cb3806a152389671f323e832fdcb2864a8991
Author: Wensong Zhang <wensong@linux-vs.org>
Date:   Tue Mar 23 21:54:40 2004 -0800

    [IPVS]: Fix to hold the lock before updating a service
    
    Brett E. <brettspamacct@fastclick.com> noticed the missing service lock
    for editing dest.
    
    Julian Anastasov <ja@ssi.bg> provided the patch.

commit 79785e242f46417f4b505519ad83d547e18c9881
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 21:53:57 2004 -0800

    [IPV4]: Zap CONFIG_INET_ECN, just always off by default.

commit 5c053495014cdc005a6d4ec7c8cb31d1972dbf7a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 20:16:41 2004 -0800

    [SPARC64]: Do not use cast exprs as lvalues.

commit 9805e1febbf77a2c8d4fa21d5b6aad1f00d9fb07
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 20:13:47 2004 -0800

    [SPARC64]: Provide d_type in sys32_getdents().

commit a4ed20b6b44a2c8b0799fea9c43c06b7f487e6bf
Merge: 3faafed... c8a9b45...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 20:00:22 2004 -0800

    Merge http://linux-lksctp.bkbits.net/lksctp-2.5.work
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 3faafedd17b9bd31d95d3bd71d90db37a7eabf47
Merge: db80df6... 6b829b2...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 19:20:40 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit a6a66e469d8cc0220f3b2a44e3f5415e78f24e90
Merge: db80df6... e4c4e24...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 23 18:46:14 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit db80df6ee8aa0883f1b51ed1996f5bb3ba7c4cbb
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Mar 23 15:27:03 2004 -0800

    [PATCH] fix ppc32 sys_swapcontext
    
    This fixes a bug in the swapcontext system call on ppc32.
    
    On ppc32, the system call entry only saves the volatile registers,
    except in the case of a few system calls (e.g.  fork) which need all the
    registers saved.  Swapcontext needs all the registers but we weren't
    saving them all. So fixes that.

commit 8685429773f88721b45176c45442ca3978e8597a
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Mar 23 15:26:51 2004 -0800

    [PATCH] Threaded core dumps for PPC32
    
    At the moment, ppc32 kernels will oops if a threaded program tries to
    dump core.  We call dump_fpu with a NULL regs pointer, which it tries
    to dereference.
    
    This fixes the issue by implementing the hooks used in doing threaded
    core dumps properly.

commit dcf474f391e0ee845c5b33d1ef8f8171086bd07c
Merge: bda1ea3... a0711ec...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Tue Mar 23 09:27:24 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit a0711ec88cef43265c50881704ba7fe813cf1028
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 23 08:26:40 2004 -0800

    [SPARC64]: Handle NULL type arg properly in sys32_mount().

commit b5821746308904f2a201c06b82de8c6e56897418
Merge: c1819ac... 6d2b5ef...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Mar 23 06:09:20 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit e4c4e244c567fd70e1ccf6abab7d74578af50639
Author: Matthew Wilcox <willy@debian.org>
Date:   Tue Mar 23 02:05:17 2004 -0800

    [PATCH] ia64: Fix SAL 3.2 detection
    
    This important fix checks the SAl *revision* rather than
    the *version*.  I carefully documented which was which, then used the
    wrong one.

commit bda1ea3d17cd9cc6234a56918957ce08676be3a9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 23 01:31:57 2004 -0800

    [PATCH] Cosmetic fix of BMAC boot messages
    
    This fixes the display of the boot messages on the BMAC driver (pmac
    only).  It used to be messed up in 2.6

commit 07de1ab529ed0cad1e23b25ee7038d9d009b61fc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Mar 23 01:31:46 2004 -0800

    [PATCH] More pmac-zilog sleep fix
    
    In the long story of "BenH can't get a simple fix right the first time",
    please add this one to pmac_zilog, and now people should enjoy really
    working sleep again on pmac laptops ...
    
    If the serial port was closed, we could use an uninitialized "pwr_delay"
    and pass that to schedule_timeout().

commit 823e911bf867a23729381bbdbb8398c604179667
Author: Mark Goodwin <markgw@sgi.com>
Date:   Tue Mar 23 01:14:03 2004 -0800

    [PATCH] ia64: deprecate SN2 linkstatd
    
    This patch against 2.6.5-rc2 affects the SGI/SN platform only. It deprecates
    a kernel daemon for our interconnect traffic statistics which has been
    replaced by a userland tool.

commit 72de370823fcf4016c11329a29dd571096da2b60
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Tue Mar 23 00:56:33 2004 -0800

    [PATCH] ia64: lost sx1000 naming in sba_iommu
    
    Mainly cosmetic, but Bjorn noticed I got a little over zealous in
    cleaning out the sx1000 specific init routines in sba_iommu.  This adds
    back in the ID->name mapping so it doesn't show up as "Unknown".

commit 99e3432b85bc6b892c4567cd266f611beedb15f5
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Tue Mar 23 00:55:38 2004 -0800

    [PATCH] ia64: quiet sn_serial driver
    
    Bjorn pointed out that the sn console driver will spew printks if
    compiled in even if no hardware is present.  In addition to fixing
    that, I took the opportunity to cleanup/correct a few other printks in
    that driver.

commit 36ebc4d3991e617182156d85611ab3e9fb2d8b59
Author: Keith Owens <kaos@sgi.com>
Date:   Tue Mar 23 00:54:17 2004 -0800

    [PATCH] ia64: SN2 salinfo oemdata race fix
    
    sn_oemdata_* variables must only be used under the sn_oemdata_mutex.

commit fccdcf6ef6f223495f517688006d3438b7ad4bca
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 23 00:28:56 2004 -0800

    ia64: Manual merge of Andrew/Alex/Bjorn's dma_mapping_error() changes.

commit 2b27a19661878bea459236d99442a1707e05787b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 23 00:27:06 2004 -0800

    [PATCH] ia64: add dma_mapping_error() support

commit c8a9b45fbad3fe9765d002f40ab9199e9641a766
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Mon Mar 22 18:58:31 2004 -0800

    [SCTP] Avoid the use of hackish CONFIG_IPV6_SCTP__ option.

commit 6cc9ea2baeab99ad12d0ac8622095b8011d3f73c
Author: Sridhar Samudrala <sri@us.ibm.com>
Date:   Mon Mar 22 18:50:56 2004 -0800

    [SCTP] Don't do any ppid byte-order conversions as it is opaque to SCTP.

commit 3dfc2f7332559fc81ca6339692a683af5ecd7035
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 18:32:21 2004 -0800

    [PATCH] rename dma_error()
    
    We're getting namespace collisions from the new dma_error(), and it wasn't a
    well-chosen identifier.  Rename it to dma_mapping_error().

commit 21407a1c5deb09f1e9408bd9018963114139e907
Author: James Simmons <jsimmons@infradead.org>
Date:   Mon Mar 22 18:09:08 2004 -0800

    [PATCH] tgafb: missing include
    
    This is a temporary fix, pending fuller TGA updates.
    
    From: Christian Vogel:
    
        drivers/video/tgafb.c is missing a include, complaining about
        color_table[] and others not being defined.

commit df2f5cb917e59f94442f98f94d7327c92b345326
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:25:52 2004 -0800

    [PATCH] i386 Kconfig typo fix
    
    From: Armin Schindler <armin@melware.de>
    
    just a small patch to fix a typo.

commit 38e4e1df6543c8692ac1513b160ebe2a2db7f051
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:25:38 2004 -0800

    [PATCH] fbcon font cloning fix
    
    From: Petr Baudis <pasky@ucw.cz>
    
    This patch fixes a bug which I hit when migrating from 2.4.  Basically,
    when I do setfont during the system boot, the then-spawned ttys do not
    retain the new font but fall back to the default one.
    
    I've tracked that down to a clearly bogus test in fbcon_set_display(),
    because vc->vc_font.width is not set at that time yet (no font has been
    loaded for the new vc).  But even if it would (or this was meant to test
    against tmp->vc_font.width), it would mean only *HUGE* fonts would be
    retained.  And even if there were *two* bugs there and it was supposed to
    be less-than there, I couldn't make a sense of the test.

commit 2d56ea2d7d7a8759e9a62e49dad6102589126a30
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:25:24 2004 -0800

    [PATCH] Work around compiler error in proc_misc.c
    
    From: Alan Stern <stern@rowland.harvard.edu>
    
    A change which was recently applied to fs/proc/proc_misc.c included a comment
    about splitting a seq_printf into two pieces to work around a bug in
    gcc-2.95.3.  Unfortunately gcc-2.96 still chokes on the statements.  The
    patch below makes it work better and tidies the code up a bit.

commit e78a0b7abd95821ff19072b2b88c8f53da37b762
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:25:10 2004 -0800

    [PATCH] sh: various fixes
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This is the rest of the sh update, which includes everything else
    sh-specific, general cleanups, bugfixes, etc.  Nothing really eventful.

commit 7cb3c483e6031086fd2ab9c23435a9615f9ac6b5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:24:24 2004 -0800

    [PATCH] sh: sh-specific framebuffer updates
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This includes sh-specific framebuffer updates, including updates to hitfb and
    pvr2fb, as well as adding sh to the pgprot_writecombine() users in fb_mmap().

commit ddb9a23beb0fba0c6740ca641a0269024f760b04
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:24:11 2004 -0800

    [PATCH] sh: hugetlb support
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This implements hugetlb support for SH-4.  SH-4 supports 1k/4k/64k/1MB pages,
    since we're only interested in the 64k/1MB sizes, this is what we support.
    
    The sh hugetlbpage code borrows heavily off of the sparc64 port, which works
    fine for these cases at this point in time.

commit 843b2fd982d358c4efbdf37ca4b9ddbbaadb930f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:23:59 2004 -0800

    [PATCH] sh: DMA Mapping API
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This implements the DMA mapping API for sh, as well as cleaning up some
    sh-specific DMA drivers.

commit f1cf1dc6927c2c80f790a6e7742a938ae1ba957a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:23:33 2004 -0800

    [PATCH] sh: DAC ODD driver
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    SuperH DAC OSS driver.

commit 0d4984f68487f2c3b14a1e9844c14d170fe2d3de
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:23:22 2004 -0800

    [PATCH] sh: port sh-sci driver to the new API
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This ports the sh-sci driver to the new API.  sh and h8 both use this.  The
    intention is to leave the drivers/char sh-sci in place for a short period of
    time until all the h8 people are on the new driver (sh no longer uses the
    drivers/char version).

commit 4c353448ea5a796cdb86e07f039b32e6c223edfc
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:23:07 2004 -0800

    [PATCH] sh: update defconfigs
    
    From: Paul Mundt <lethal@linux-sh.org>
    
    This patch updates the sh defconfigs to use the board_defconfig format
    instead of the defconfig-board format that sh was using before.  Since Sam
    Ravnborg already added the automated archhelp stuff that sh was using to the
    top-level Makefile, the sh version can be killed off.

commit ffbf68f33c6938ed50040cc120bf3e55b2737968
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:22:26 2004 -0800

    [PATCH] ppc64: iSeries virtual console cleanup (part 1)
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch starts cleaing up (and paring down) the virtual console driver.
    It does:
    
    - viocons is NOT a serial driver
    
    - remove unneeded empty methods
    
    - change the console name

commit df96aa84c1014450ab0c361dd8436dfcdd33dd3f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:22:11 2004 -0800

    [PATCH] ppc64: iSeries virtual cd fix
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch stops an oops caused by certain ioctls being performed on the
    virtual cdrom.  In particular, the eject and tray close operations were
    affected.

commit 2881875e683404a0f556489951a1e249e6c66419
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 15:21:59 2004 -0800

    [PATCH] ppc32: fix build with CONFIG_MODVERSIONS
    
    From: Paul Mackerras <paulus@samba.org>
          Olaf Hering <olh@suse.de>
    
    This adds __kcrctab to the discard list for the link script for the boot
    wrapper, and is needed if you compile with CONFIG_MODVERSIONS.
    
    With this patch applied, we need to update makefile dependencies.  Otherwise
    the bootfiles will remain untouched because they do not depend on the changed
    linker script.

commit 0dbbc713048ac36b68cbc523563e7f73a5fe2ac5
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 23 00:19:34 2004 +0100

    kbuild: Trivial spelling / rephrasing
    
    From: Ingo Molnar <mingo@elte.hu>

commit 692e47d5545e963f9a47e48f847cd519699983ec
Merge: c1819ac... 6d2b5ef...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 22 15:19:19 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 0f4619a8c9922ae35abb5ca4b3674272b5432463
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 23 00:12:04 2004 +0100

    kbuild: Less modules printed when warned about SUBDIRS usage
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Now kbuild prints out a line telling only what modules there are added,
    not all modules.

commit 67365e18666211517592db142758f0c057b3f982
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Tue Mar 23 00:06:14 2004 +0100

    kbuild: Preset locale variables
    
    From: Jasper Spaans <jasper@vs19.net>
    
    Presetting locale to 'C' gives slight improved compilation speed,
    when for example using "LANG=nl_NL.UTF-8@euro".
    Error message still appear with correct locale.

commit c1819ac4c248fd70774a63aa17469ed335d0878e
Merge: 4c60261... 183b775...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 15:53:15 2004 -0500

    Merge

commit 183b7750ee6ecf1e31d71ed4a85bd4e512e4a698
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 15:33:54 2004 -0500

    [ACPI] share i386/kernel/acpi/boot.c with x86_64

commit def3074d6f56caa678376741df999a0aa1a1438e
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 15:18:29 2004 -0500

    [ACPI] toshiba_acpi 0.18 from John Belmonte
      add missing copyin

commit 6b829b28f96e909c8aaaec04364ce863d0276c51
Merge: 6d2b5ef... 12c1210...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Mar 22 06:54:00 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 6f50ab9a7a1a96393d82296a578b36634319d8b0
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 09:51:11 2004 -0500

    [ACPI] delete POWER_OF_TWO array (Pavel Machek)

commit 4c60261b3dde571565c978a6953c276711854173
Merge: dd2bdb6... e1981aa...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 06:03:24 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit e1981aa9543474feb660b5a79a74daf060d7dcb3
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 22 06:02:16 2004 -0500

    [ACPI] ACPI SCI shall be level/low unless explicit over-ride
    http://bugzilla.kernel.org/show_bug.cgi?id=1622
    add "acpi_sci=edge" and "acpi_sci=high" manual over-ride

commit 12c12106f73c6a0b4db4f03b7c29442e1bf77aaa
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Mon Mar 22 02:44:23 2004 -0800

    [B44]: Restore PCI state in b44_resume().

commit 6d2b5ef4e570f22dc5dbd4184aa6cb45bbf8f818
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 22 02:42:30 2004 -0800

    Update ppc64 G5-config to something more uptodate.
    
    (And more sane. Turn off ECN by default, add
    netfilter, and make sure we always support msdos
    partitions for external drives).

commit 392bf63dad1e68902c04d2ac7cab20c111986458
Author: Julian Anastasov <ja@ssi.bg>
Date:   Mon Mar 22 02:38:15 2004 -0800

    [IPVS] Fix connection rehashing with new cport

commit 3872b925f8d7559084e1b2d95f000f2e5e7e4322
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:55:33 2004 -0800

    [PATCH] fix device open return values
    
    The recent conversion of the open-of-a-nonexistent-blockdev return value from
    ENXO to ENODEV was wrong.  We should have converted the chardev code to
    return -ENXIO too.

commit f49e140b8e6a959914a9351ec597d1306e3aeb36
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:55:21 2004 -0800

    [PATCH] ppc64: implement pci_dma_error
    
    From: Anton Blanchard <anton@samba.org>
    
    Implement pci_dma_error.  Create PCI_DMA_ERROR_CODE like sparc64, it will
    allow us to find and fix out of tree drivers using NO_TCE directly.
    
    ibmveth needs some surgery, fix it temporarily until the guys come up with
    a decent fix.

commit b6d83633486a92de22150bd91000e8425fb7302c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:55:07 2004 -0800

    [PATCH] ppc64: clean up boot messaegs
    
    From: Anton Blanchard <anton@samba.org>
    
    Clean up early boot messages.

commit 2202e437d907186fa0d6e88073ef80df2c6e19f5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:54:55 2004 -0800

    [PATCH] pmac_zilog: sleep fix
    
    From: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    
    This patch fix a problem with semaphore usage on wakeup from sleep in
    pmac_zilog (crashing some laptops on wakeup).

commit e44af431e83585b3ec6174a974fcd954ad4399e0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:54:41 2004 -0800

    [PATCH] ppc64: implement iommu=off for pseries
    
    From: Anton Blanchard <anton@samba.org>
    
    Implement iommu=off for pseries.  We limit memory to 2GB as pmac does,
    however the default for < 2GB remains iommu=on unlike pmac.

commit 226bf386ed2b4231ccd54a479c81164804d77f4c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:54:30 2004 -0800

    [PATCH] ppc64: fix timebase bugs
    
    From: Anton Blanchard <anton@samba.org>
    
    - Consolidate printing of timebase and cpuinfo in /proc/cpuinfo, there were
      many trivial differences between pseries/iseries/pmac.
    
    - Remove ppc_md.setup_residual, no longer needed
    
    - Fix for processors over 2.147GHz, from Jake Moilanen.  We were using a
      signed int to parse the OF property.
    
    - Set some sane defaults for timebase and processor frequency if we fail to
      get the correct values from OF.

commit cf89c45f05f83bad05678ba50d4d226961205f25
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:54:15 2004 -0800

    [PATCH] ppc64: Remove some stale iseries code
    
    From: Anton Blanchard <anton@samba.org>
    
    While scanning for the last few users of udbg, I found this. Its old
    code that we dont use, so remove it.

commit 43ada8b657de4022d734ecbbb0d06a24e0a6f21d
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:54:03 2004 -0800

    [PATCH] ppc64: Fix log_rtas_error
    
    From: Anton Blanchard <anton@samba.org>
    
    From: Santiago Leon <santil@us.ibm.com>
    
    Fix log_rtas_error bug where the results from the call that resulted in an
    error where lost due the attempt to log the error.

commit 2e8b43768a5f656e10468fb42b8a8d7191c136b6
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:53:49 2004 -0800

    [PATCH] ppc64: Add eeh calls to hotplug driver
    
    From: Anton Blanchard <anton@samba.org>
    
    The ppc64 hotplug code must register and deregister devices with the extended
    error handling (EEH) subsystem.

commit 3415edd98338b11fdc0f8c1d579a2f17a66dc7ed
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 22 01:53:36 2004 -0800

    [PATCH] ppc64: remove duplicate FBIOBLANK ioctl translation
    
    From: Anton Blanchard <anton@samba.org>
    
    Linus just added it to the generic compat layer, we can remove this
    (commented out) version.

commit 545166dc20d62c0a91096d8bd5050e4007975db0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Mar 22 01:52:26 2004 -0800

    [PATCH] PPC64 iSeries kernel messages cleanup
    
    This patch cleans up and makes more consistent the messages produced by
    some of the iSeries virtual device drivers.  It also make them less
    verbose.

commit b1230d438fbde60effff32a19f8164bbc1fc53f7
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 22 01:49:44 2004 -0800

    Revert the input layer change that assumes the i8042
    controller is always in XLATE mode.
    
    That's not true on at least some ppc64 boxes, and we
    shouldn't break those just because apparently some
    IBM PS/2 model 70 has something strange here.
    
    Cset exclude: vojtech@suse.cz|ChangeSet|20040303141401|00802

commit 7cc543e8b2f955ced5802d416f13bf1a880af58c
Merge: 12ff25a... 4ab102d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 22 01:48:41 2004 -0800

    Merge http://linux-watchdog.bkbits.net/linux-2.6-watchdog
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4ab102d53ca8db1e18e5771686d2a3730fb10b8a
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Mon Mar 22 23:50:25 2004 +0100

    [WATCHDOG] v2.6.5-rc2 Kconfig-patch
    
    Update Kconfig info to reflect the changes in wdt.c and wdt_pci.c

commit 12ff25a3ccd4c22dc82e20cc4bd873e923c7a7d1
Author: Armin Schindler <armin@melware.de>
Date:   Mon Mar 22 01:47:53 2004 -0800

    [PATCH] ISDN Eicon driver: fix compilation with non __exit function
    
       Function divacapi_remove_cards() is now used for __init as well,
       so it may not be marked __exit.

commit ab7760ad81d4c1b4b1661e1e0803a01783864f6b
Author: Armin Schindler <armin@melware.de>
Date:   Mon Mar 22 01:47:39 2004 -0800

    [PATCH] ISDN Eicon driver: linked-list handling by kernel api list.h
    
       Removed own implementations for linked-list handling, use
       Linus kernel API of list.h instead.

commit b3e0c9136a21f26e5538dde7b0430e6a6fb6a5a8
Merge: 219edaf... 7b8dd6a...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 22 01:33:09 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 933dfa153efe4a09d537f21cdc7bd461fd789af8
Author: Maximilian Attems <janitor@sternwelten.at>
Date:   Mon Mar 22 01:17:53 2004 -0800

    [NETFILTER]: Add MODULE_AUTHOR to ipchains_core.c

commit fe944f6e974e2d5874130b48d08ea4346eebd9a7
Author: Trent Lathiat Lloyd <lathiat@sixlabs.org>
Date:   Mon Mar 22 01:17:16 2004 -0800

    [NETFILTER]: Fix typo in ip_fw_compat_masq.c

commit aab6ce8417c67a4b65593de204ec84b028ea5cf7
Author: Petri T. Koistinen <petri.koistinen@iki.fi>
Date:   Mon Mar 22 01:16:27 2004 -0800

    [NETFILTER]: ipv4 Kconfig URL updates.

commit 84d1e7b7c5d1b4e3ad4eb84f30ced1a63b4d685e
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 21 22:33:23 2004 +0100

    [WATCHDOG] v2.6.5-rc2 pcwd.c-patch1
    
    Version 1.14 of pcwd.c - Changes that were made are:
    * Extract the start code in a seperate function (pcwd_start)
    * Extract the stop code in a seperate function (pcwd_stop)
    * Extract the get_temperature code in a seperate function (pcwd_get_temperature)
    * Make /dev/watchdog and /dev/temperature to different misc devices with their own fops
    * Small clean-up's
    
    Tested on pcwd card with temperature option.

commit c0354d5716294cf32b0661985b87bc9fecf8fb52
Author: Len Brown <len.brown@intel.com>
Date:   Sun Mar 21 11:34:35 2004 -0500

    [ACPI] fix interrupts behind yenta cardbus bridge (David Shaohua Li)
    http://bugzilla.kernel.org/show_bug.cgi?id=1564

commit 7b8dd6a018a5a0dff0baa7929afa3dc9b8c601a2
Merge: ed40752... 684a493...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Mar 21 07:08:41 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 684a493b1c3210dcc2f5dcf4e52fbf708432a93f
Merge: 2650e5a... 9cab9a8...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 21 06:59:02 2004 -0800

    Merge http://bk.skbuff.net:10772
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 2650e5a89b4b316bacb95bf0c0f4f3362224bf89
Merge: 4f51388... d3b7acb...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 21 06:53:33 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 4f51388a570b4f490283186867c844f403abf84f
Author: Martin Devera <devik@cdi.cz>
Date:   Sun Mar 21 06:51:33 2004 -0800

    [NET_SCHED]: HTB scheduler updates.
    
    Fixes:
    * Fix to htb_requeue routine.
    * Debug mode related oops fixes.

commit 219edaf127fd3a82c51eb326c7a3495d6cef2675
Merge: ed40752... c0ddb45...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Mar 21 06:51:21 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit 87471ca3c67a2b157828205bdda3d395f0b4488d
Author: Jon Oberheide <jon@focalhost.com>
Date:   Sun Mar 21 06:43:38 2004 -0800

    [CRYPTO]: Remove confusing TODO comment in arc4.c

commit c0ddb45e75f7464148fb4f2b7aa42dcc90173cb3
Merge: abcfd97... c81430b...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 21 06:42:41 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 1aa2cc524ab4bc1a56afa19fd1b192c0fc79e7dc
Author: James Morris <jmorris@redhat.com>
Date:   Sun Mar 21 06:38:44 2004 -0800

    [CRYPTO]: Add Michael MIC algorithm.
    
    From Jouni Malinen <jkmaline@cc.hut.fi>
    
    Added Michael MIC keyed digest for TKIP (IEEE 802.11i/WPA). This algorithm
    is quite weak due to the requirements for compatibility with old legacy
    wireless LAN hardware that does not have much CPU power. Consequently, this
    should not really be used with anything else than TKIP.
    
    Michael MIC is calculated over the payload of the IEEE 802.11 header which
    makes it easier to add TKIP support for old wireless LAN cards. An additional
    authenticated data area is used (but not send separately) to authenticate
    source and destination addresses.

commit 5654cd6cccf5d2a1eec0f8d60b5196fd454f523a
Author: James Morris <jmorris@redhat.com>
Date:   Sun Mar 21 06:36:22 2004 -0800

    [CRYPTO]: Add setkey operation for digests.
    
    From Jouni Malinen <jkmaline@cc.hut.fi>
    
    Added support for using keyed digest with an optional dit_setkey handler.
    This does not change the behavior of the existing digest algorithms, but
    allows new ones to add setkey handler that can be used to initialize the
    algorithm with a key or seed. setkey is to be called after init, but before
    any of the update call(s).

commit cd4aa976b421ec6e581c164004d6bf99b5152746
Merge: 9a45400... 48a975d...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 21 06:03:03 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-smp

commit 742d509970e3ff45e27835091b5e08d70fcc99b0
Author: Dave Jones <davej@redhat.com>
Date:   Sun Mar 21 13:30:16 2004 +0000

    [AGPGART] Make some more Intel/ia32e functions static to fix build when both compiled in.

commit 6582e43d45c523703bc1d91176b099bf967d7300
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 21 13:28:25 2004 +0100

    [WATCHDOG] v2.6.5-rc2 softdog.c-patch
    
    Version 0.07 of softdog.c - Changes that were made are:
    * Extract the start/keepalive code in a seperate function (softdog_keepalive)
    * Extract the stop code in a seperate function (softdog_stop)
    * Add notifier support
    * Extract softdog_set_heartbeat code to seperate subroutine
    * Small clean-up's

commit ed407526409355987fadaeaaba75149d1bac88bc
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 21 04:26:39 2004 -0800

    Remove stale legacy ISDN files.
    
    From Armin Schindler <armin@melware.de>:
    
      "These files were added in the first place for the compat
       driver to the legacy isdn4linux module. Since the Eicon
       driver now uses CAPI only, these files are obsolete."

commit 9414701631c97696ea7a5d32f4212b79912b54f8
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 21 13:24:59 2004 +0100

    [WATCHDOG] v2.6.5-rc2 wd501p.h-patch
    
    Cleanup header file after changes to wdt.c and wdt_pci.c

commit 8e7ff45124547d1e02dbd590d05989348abc4d69
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 21 13:22:23 2004 +0100

    [WATCHDOG] v2.6.5-rc2 wdt_pci.c-patch
    
    Version 0.10 of wdt_pci.c - Changes that were made are:
    * Extract the start code in a seperate function (wdtpci_start)
    * Extract the stop code in a seperate function (wdtpci_stop)
    * Convert wdtpci_ping so that it return an int value (0=succes).
    * Extract the get_temperature code in a seperate function (wdtpci_get_temperature)
    * Make /dev/watchdog and /dev/temperature to different misc devices with their own fops.
    * Reorganize init and exit functions
    * Make heartbeat (the emulated heartbeat) a module parameter
    * Rewrite status flag code so that we could add a new tachometer module parameter
       + make clear distinction between PCI-WDT500 and PCI-WDT501.
    * Small clean-up's

commit 54127f9b18f018dfc2af344f929bd0454b32a248
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 21 13:18:43 2004 +0100

    [WATCHDOG] v2.6.5-rc2 wdt.c-patch
    
    Version 0.10 of wdt.c - Changes that were made are:
    * Extract the start code in a seperate function (wdt_start)
    * Extract the stop code in a seperate function (wdt_stop)
    * Convert wdt_ping so that it return an int value (0=succes).
    * Extract the get_temperature code in a seperate function (wdt_get_temperature)
    * Make /dev/watchdog and /dev/temperature to different misc devices with their own fops.
    * Reorganize init and exit functions
    * Make heartbeat (the emulated heartbeat) a module parameter
    * Rewrite status flag code so that we could add a new tachometer module parameter
    * Small clean-up's

commit 756ee81990fdeb9f662c20296a797dfd44481579
Merge: fcd3bb4... c81430b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 21 03:43:55 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit fcd3bb4b20be2eaf84b9e4db38ff843c72585959
Merge: cfc615f... a0c5b7f...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sun Mar 21 06:36:23 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.6
    into redhat.com:/spare/repo/misc-2.6

commit c81430b50f55670cd5bef96242021943832e4470
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Sun Mar 21 03:31:24 2004 -0800

    [PATCH] Fix missing "noinline" on x86-64
    
    The gcc-3.5 patch broke building on x86_64 and possibly
    others, because inflate.c does not pull in the definition
    for noinline.

commit 3111cd4c26b4f38e40d2f56e8d5d8abc9ce8baae
Author: Andi Kleen <ak@suse.de>
Date:   Sun Mar 21 03:31:12 2004 -0800

    [PATCH] Two more x86-64 fixes
    
     - Fix CONFIG_DEBUG_INFO build again
     - Fix user exploitable oops in ia32 ioctl emulation

commit a0c5b7fce68ee2c9368adbd804dc11452bbe28c4
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sun Mar 21 05:18:01 2004 -0500

    Set PCI DMA masks in old-OSS via82cxxx audio driver.

commit abcfd978a218f7545d2d1a64d3f74da0760ebba7
Merge: 9a45400... 1d4b2b9...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 21 01:55:01 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 1d4b2b99d98d81bbd957dcb0e1561b6de95a79e0
Merge: 27c0bfb... 48a975d...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 21 01:40:05 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 27c0bfb6914e68b2c05530e9373a98a74708bfd1
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 21 00:57:36 2004 -0800

    [SPARC32]: Clean up secondary System.map
    
    From: Stefan Holst <mail@s-holst.de>
    
    The clean target is never called, so instead add this to CLEAN_FILES.

commit 9a45400e68ed622a4e7024018c1a4195fab165fa
Author: Peter Osterlund <petero2@telia.com>
Date:   Sat Mar 20 23:23:11 2004 -0800

    [PATCH] Revert UDF inode semaphore locking
    
    For some reason I don't understand, the last UDF filesystem update makes
    the UDF deadlock when I write a bunch of mp3 files to a CDRW using the
    packet writing patch.  Both "cp" and pdflush get stuck in __down.
    
    Reverting the semaphore changes makes the problem go away.  Use the
    kernel lock again, until whatever recursive offender gets fixed.
    
    (The offensive recursion seems to be: write() takes the inode semaphore,
    causes memory pressure, and then trying to write back the inode or dirty
    data to disk tries to get the semaphore again and deadlocks.)

commit e245b3dd1edd0754d2394d9fb22dae25bd8faba8
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 20 22:55:49 2004 -0800

    [SPARC32]: Restore a.out binary format capability
    
    This depended on CONFIG_SPARC, which is obsolete.  Use SPARC32 instead.

commit a44032987aaa82d48927b87a0193c7805ec9aade
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sat Mar 20 22:43:40 2004 -0800

    [SPARC32]: Support memory starting at physical address other than 0
    
    From: Stefan Holst <mail@s-holst.de>
    
    Allow physical memory to start at almost arbitrary addresses.  LEON
    needs it, so do SPARCstation 10/20 without slot 0 populated.  Although
    Sun do not support this configuration, at least some such systems can
    boot with this patch.
    
    Physical memory starting at or above 0xF4000000 is not supported.

commit 72f7e48f1e83fa83fdb7f5eaaae57d9352f6a3aa
Merge: cfc615f... 84d1e7b...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 20 21:48:25 2004 -0800

    Merge http://linux-watchdog.bkbits.net/linux-2.6-watchdog
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit cfc615f2f0194a79af302dd72631cf88b5c275c2
Merge: a0b1890... 7ee49b4...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 20 18:59:47 2004 -0800

    Merge bk://linux-pnp.bkbits.net/pnp-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 7ee49b4277ca31125d7fdd02dc83d5b6c90676a4
Author: Armin Schindler <armin@melware.de>
Date:   Sat Mar 20 16:55:36 2004 -0800

    [PATCH] ISDN Eicon driver: move workqueue to tasklet for divas dpc
    
    Use tasklet instead of workqueue for the divas main dpc.

commit c561747eba55c7a3e0ebeed2f48fe50edd58333b
Author: Armin Schindler <armin@melware.de>
Date:   Sat Mar 20 16:55:24 2004 -0800

    [PATCH] ISDN Eicon driver: restructured capi list and lock handling
    
    Restructered the CAPI code of list handling and lock.
    
    Removed obsolete code.

commit e650bfc302132ad0b016b4af92db1d304a67d34b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:38:39 2004 -0800

    [PATCH] mprotect return value fix
    
    From: Marc-Christian Petersen <m.c.p@wolk-project.de>
    
    2.4 patch from Adrian Bunk.
    
    ERRORS
    
        The mprotect() function shall fail if:
    
        ...
    
        [ENOMEM]
            Addresses in the range [addr,addr+len) are invalid for the
            address space of a process, or specify one or more pages which are
            not mapped.

commit 7d63de7a2ef37f8dd9772d9b8c54335849f32709
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:38:26 2004 -0800

    [PATCH] make inflate use less stack space with gcc3.5
    
    From: Matt Mackall <mpm@selenic.com>
    
    Quick fix to work around gcc3.5's automatic inline and broken stack
    requirements calculation. Without this, I see stack overflows at boot
    with 4k stacks.

commit 07bba9c34d355cf7b2ee62ab0ad038939a0fd733
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:38:10 2004 -0800

    [PATCH] Add missing uacccess checks for sysctl.c
    
    From: Marc-Christian Petersen <m.c.p@wolk-project.de>
    
    Kernel 2.6 lacks two -EFAULT returns in get_user() in kernel/sysctl.c.

commit d21db956dc24b5e31cb3fbb02d0635700eb3b6df
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:37:56 2004 -0800

    [PATCH] Fix error value for opening block devices
    
    From: Ulrich Drepper <drepper@redhat.com>
    
    Opening a non-existing block device currently yields an ENXIO error.  Doing
    the same for char devices produces the correct error ENODEV.

commit 208204bce502db7de2495f1d0343ec30c516a65e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:37:44 2004 -0800

    [PATCH] kbuild ordering fix
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    In the i386 case we need to generate asm-offset.h, before starting building
    the kernel tree.  Building asm-offset.h causes us to use one of the
    shorthands in the top-level makefile, namely the one for .s files.  The one
    that allows us to do: make some/dir/file.s
    
    And this shorthand happens to have a dependency to scripts, therefore I did
    not see this problem on i386.  But David hit it with sparc64, because there
    is no asm-offset.h file.  No parallel stuff involved here, just an ordinary
    error.

commit c8f018d24e2e83e68110dc97ce7a8c51bb87d588
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 20 16:37:31 2004 -0800

    [PATCH] start_cpu_timer() cannot be __init
    
    It's now called from the CPU hot-add notifier.

commit 33cc912c1cdb78998b7ba123d45243f203b466ac
Merge: 4ad1e20... 67bfb5a...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 20 16:35:33 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4ad1e20a4d909743f099921fdf38afe58b88943f
Author: Andi Kleen <ak@muc.de>
Date:   Sat Mar 20 23:17:28 2004 -0500

    [PATCH] Hack mptfusion to work on >4GB machines
    
    fusion needs several separately allocated coherent regions and
    requires that they all be in the same 4GB segment.  Obviously this may
    fail.  The hack is to force the coherent_dma_mask to 0xffffffff thus
    ensuring that all the allocations occur within the first 4GB.  This
    hack breaks Altix entirely.

commit 9cab9a80a9747b3445d68a14f520f453e8cdf68e
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Sun Mar 21 06:35:40 2004 +0900

    [XFRM] remove unused argument for (*find_bundle)().

commit 27fbbc5737d943b0d58e6389f4cc19a18ed188ad
Author: Hideaki Yoshifuji <yoshfuji@linux-ipv6.org>
Date:   Sun Mar 21 06:34:37 2004 +0900

    [XFRM] remove duplicated lines; fl->fl4_{src,dst} is already filled in xfrm_lookup().

commit a0b18907e4bc35ba9782b99998462fecd119fe83
Merge: c0ccfc9... 366bf3a...
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 21:19:18 2004 +0000

    Merge http://linux.bkbits.net/linux-2.5
    into neo.rr.com:/home/ambx1/linux/bk/linus-2.5

commit dd2bdb632e0bbc04e082f9affe3d8eb0c514c534
Merge: 1b84eba... 31fb1ef...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Mar 20 15:41:02 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 31fb1ef967a13c99c2204ca8a438bba38fa1c47c
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sat Mar 20 15:10:21 2004 -0500

    [PATCH] clean up ACPI GSI/IRQ conversions (i386 part)
    
    Add "acpi_gsi_to_irq()" as a generic replacement for "acpi_irq_to_vector()".
    This converts from an ACPI global system interrupt number to a Linux IRQ.
    Also, convert i386-specific terminology to use GSI when appropriate.

commit 1b84eba4cfc83486216dafe9458a935665a3002c
Merge: 1afab09... 16aa2ed...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Mar 20 14:33:11 2004 -0500

    merge

commit 16aa2ed93951ddbfb1dd5eab9fbb35b817c7f776
Author: Len Brown <len.brown@intel.com>
Date:   Sat Mar 20 14:23:27 2004 -0500

    [ACPI] create disable_acpi()

commit 1afab090d15aea4f2ae8bba83060eb39dad4d538
Merge: 47fe916... 67bfb5a...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Mar 20 13:44:51 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit c0ccfc9ca906268d76c3d9db5f1ef9994bb28db6
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 17:53:21 2004 +0000

    [ISAPNP] Unmark experimental status
    
    ISAPnP support has been stable with the new pnp layer for a while.
    This patch removes the experimental dependency.

commit 9a026374d8b441712cfc69f7d5fdb5bddff6355f
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 17:47:54 2004 +0000

    [PNP] Add some more modem IDs
    
    This patch allows the serial driver to bind to three additional modems.

commit db4b34ad11f1559dda77e087a2ac71d09aeca080
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Mar 20 17:12:57 2004 +0000

    [ISAPNP] Remove uneeded MOD_INC/DEC_USE_COUNT
    
    isapnp_cfg_begin and isapnp_cfg_end are exported symbols, so if any
    module using them is loaded isapnp.o can't be unloaded anyway

commit 1a64fcfd1c3849955803043a464652920955e9c1
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Sat Mar 20 16:39:38 2004 +0000

    [PNP] remove __init from system.c
    
    // Linux 2.6.4-rc2
    // These 2 functions shouldn't be __init for general PNP use

commit 84350f79f3ef76e2ee86f3ca0c45594a813bf24b
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 13:49:10 2004 +0000

    [ISAPNP] MEM Config Fix
    
    This patch fixes a bug in the resource configuration function.  If
    there are more than one memory ranges, the isapnp driver will write
    into the incorrect configuration register.

commit d3b7acb2f0c06cfd36aafebf72b255d29a723b1a
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sat Mar 20 13:41:40 2004 +0100

    [Bluetooth] Fix display for class of device
    
    The class of device is displayed in wrong byte order. This patch swaps it
    and now the inquiry_cache attribute shows the same as the userspace tools.

commit 4ab310d2e46364c93838502bd080eecb9d8e1e6b
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sat Mar 20 13:35:39 2004 +0100

    [Bluetooth] Add support for AVM BlueFRITZ! USB v2.0
    
    This patch adds the vendor and product id for the AVM BlueFRITZ! USB v2.0
    dongle which don't uses the USB Bluetooth class id.

commit dd4b0e165637a5211696d3908281a5def5846ba8
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sat Mar 20 13:25:53 2004 +0100

    [Bluetooth] Add missing compat ioctl's for CMTP
    
    This patch adds the missing compat ioctl's for the CAPI Message Transport
    Protocol.

commit 67bfb5a707614ffaeda67babba9aadb5b0bdfebc
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Sat Mar 20 03:40:02 2004 -0800

    [PATCH] pmac: Improved G4 "windtunnel" fan controller
    
    This is an improved version of the G4 "windtunnel" fan controller.  It
    depends on the keywest bugfix...

commit f5dcac2b3088954655be5ecd7c65e8840db752de
Author: Samuel Rydh <samuel@ibrium.se>
Date:   Sat Mar 20 03:39:50 2004 -0800

    [PATCH] keywest bugfix
    
    This fixes a deadlock in I2C probing.
    
     - keywest holds the pmac_low_i2c_lock while registering the i2c adapter.
     - i2c_add_adapter() notifies registered drivers by calling
       driver->attach_adapter().
     - a driver might access the i2c bus from attach_adapter() which
       deadlocks since all xfer routines take the lock.

commit 5a35e7ce5de110448f9dac39cbfe93129825a009
Author: Brian King <brking@us.ibm.com>
Date:   Fri Mar 19 22:48:59 2004 -0500

    [PATCH] SCSI: Fix Oops in sg with lots of SG_IO activity
    
    Attached is a patch to fix an oops in sg_cmd_done. Please apply.

commit e7f0ba559a167afa7f9418044cddae6848dc1f6f
Author: Kai Mkisara <kai.makisara@kolumbus.fi>
Date:   Fri Mar 19 22:48:03 2004 -0500

    [PATCH] Fix SCSI + st regressions problem
    
    remove dependency on kobj.name.

commit 366bf3a05ef4289948a7db69f3f252eacf1c4e64
Author: Linus Torvalds <torvalds@osdl.org>
Date:   Fri Mar 19 19:20:25 2004 -0800

    [PATCH] Fix missing part of x86-64 update, part 2
    
    One more missing doc-file update

commit e171bd1339987d445733d6e839b6f77ca5e6c41b
Author: Linus Torvalds <torvalds@osdl.org>
Date:   Fri Mar 19 19:01:39 2004 -0800

    [PATCH] Fix missing part of x86-64 update
    
    Three quarters of the update from Andi was uncommitted due to a bad
    patch date and a bug in "bk import -temail"..
    
    Here are the missing parts..

commit 78e8fcd61458d399bf517bbc72fa071b2463aa20
Merge: 3e17e2a... 8208fc0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 19 18:29:59 2004 -0800

    Merge alpha Kconfig

commit 8208fc001dae9e77de55b88863d440c808a16bb5
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Fri Mar 19 18:02:00 2004 -0800

    [ALPHA] Update defconfig.

commit 3e17e2a40974e37b0bd7ffd5a0d34127a6f77c53
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Fri Mar 19 17:48:18 2004 -0800

    [PATCH] fix scsi_transport_spi.c compile with gcc 2.95
    
    Fix token pasting to work with older gcc versions.
    
    We need a space before the "," that may get pasted away.

commit c6fb162e6dcfbb3bfd4f3082a3c5de4e1da054aa
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 19 17:45:57 2004 -0800

    [PATCH] fix console oops/race
    
    Finally nailed this sucker.
    
    con_close() checks the tty->count and then sleeps in acquire_console_sem().
    But another process can come in and grab a ref against the tty while
    con_close() dropped the BKL.  But con_close() then proceeds to deallocate the
    tty->driver_data anyway, even though the tty now has ->count == 2.
    
    Fix that by moving the check for ->tty_count inside console_sem.

commit e30b878a30da27716b675298a1fdd2c4a7f18cc1
Author: Andi Kleen <ak@suse.de>
Date:   Fri Mar 19 17:44:56 2004 -0800

    [PATCH] critical x86-64 merge
    
    There were some nasty bugs in the x86-64 code, including one race that
    could cause random reboots, especially on Intel machines, with the NMI
    watchdog.  This patch fixes them and also includes some harmless
    cleanups.
    
    Main fixes were for some buglets in the IOMMU code and the plugging of a
    race in the exception stack handling.  Also disables an broken MCE on K8
    explicitely.
    
    Also finally the preempt compile issues are fixed.
    
     - Declare hpet interrupt separately in drivers/char/rtc.c
     - Fix rtc.h/hpet.h to not depend on interrupt.h
     - Finally include smp_lock.h in hardirq.h
     - Update defconfig
     - Export bad_dma_address
     - Merge with 2.6.5rc2
     - Never schedule on interrupt stacks.
     - Add option to force software iotlb (iommu=soft)
     - Add ifdefs to gsi patch to match i386 (Bjorn Helgaas)
     - Fix K8 GART TLB MCE workaround to actually work
     - Fix dwarf2 unwind table in SAVE_ARGS (Jim Houston)
     - Disable APIC on VIA/NVidia even with acpi=off (Gwenole Beauchesne)
     - Fix parsing bug in "apic" option (Gwenole Beauchesne)
     - Fix dma mask handling in pci_alloc_consistent
     - Make pci_alloc_consistent more robust in low memory situations.
     - Print version number in oopses (from i386)
     - ACPI GSI cleanup (Bjorn Helgaas)
     - Disable K8 GART TLB walk error MCE explicitely
     - Add support to disable individual MCEs in the various banks.

commit b66506ce92eb94e33c77655c6d718a9f9b214d3a
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 19 17:42:56 2004 -0800

    Rename therm_adt7467.c to match the new reality.

commit 3a86d964560a007465b32ef90252dcb4305fb420
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 19 17:41:51 2004 -0800

    [PATCH] therm_adt7467 update
    
    From: "Colin Leroy" <colin@colino.net>
    
    The fan driver I wrote for adt746x looks like it only handles the adt7467
    chip found in iBooks G4; but it also handles the adt7460 chip found in the
    Powerbook G4 Alu.  Here's a patch that updates therm_adt7467.c, Kconfig and
    Makefile.

commit a747324c1c92856bdac5fd09e6d881cd38a6d170
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 00:36:51 2004 +0000

    [ISAPNP] Fix Device Detection Issue
    
    Some isapnp devices were not getting detected as a result of a bug in the isapnp
    driver.  It was not following the specifications and calculating a checksum when
    it was not reliable.  This problem was originally discovered by Paul L. Rogers
    <rogerspl@datasync.com>.  He made an initial patch.  This release has some small
    modifications, including a check to see if we run out of CSNs.

commit 7be9251f36e464c2f33c06b2c711c9534bc555c1
Author: Adam Belay <ambx1@neo.rr.com>
Date:   Sat Mar 20 00:33:35 2004 +0000

    [PARPORT] Update PC Parport Detection Code
    
    This patch updates the parport_pc driver's probing code to better
    detect PnP devices.  It also removes an extra MODULE_AUTHOR.

commit bba77b4a28b90382387477f7701fb7beed24a269
Author: Matthew Wilcox <willy@debian.org>
Date:   Sat Mar 20 00:29:38 2004 +0000

    [PNP] Resource Conflict Cleanup
    
    This patch simplifies the ranged resource checking logic.

commit 0d5086b614d6de39460bc489075d44bdafa76b9f
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 20:30:46 2004 +0000

    [AGPGART] Clean up SiS648 workaround by giving it its own driver.
    This uses the generic agp v3 support routines previously added.
    It confines the 'pause after switching mode' hack to the sis driver.
    
    Fixes http://bugme.osdl.org/show_bug.cgi?id=2327

commit 912b461d54363f740aa549af0ee13ddbdcf22d0d
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 20:23:30 2004 +0000

    [AGPGART] AGPv3 generic support.
    If a chipset doesn't need anything funky, then it can use these routines.

commit cf22c86f26d19aadc6a5b1c17cad7beaf1d92f3a
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 20:12:12 2004 +0000

    [AGPGART] agp.h indentation fixes.

commit da8ce712b648595175afc1657c5b154df6cc8703
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 20:08:46 2004 +0000

    [AGPGART] More agp.h cleanups
    Grouping stuff, and bumping copyright date.

commit bdde9ff184eeccdb66b178ef6447d57558ab7411
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 20:06:38 2004 +0000

    [AGPGART] Move other chipset vendors registers into vendor specific files.
    Cleaning up agp.h

commit fea6b54a4254b8b1a2ce2bb54f10f77a02c259a8
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:47:40 2004 +0000

    [AGPGART] Move HP ZX1 registers out of agp.h

commit 0eda52c3bc1d07ce0b8f055ebb868d07cdf2a55b
Merge: 27cd7e0... 7d4e513...
Author: Dave Jones <davej@delerium.codemonkey.org.uk>
Date:   Fri Mar 19 19:42:32 2004 +0000

    Merge delerium.codemonkey.org.uk:/mnt/nfs/sepia/bar/src/kernel/2.6/trees/bk-linus
    into delerium.codemonkey.org.uk:/mnt/nfs/sepia/bar/src/kernel/2.6/trees/agpgart

commit 7d4e5139ba3e7dccbaf839c4523fc4ca901e3aba
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:32:20 2004 +0000

    [AGPGART] Give IA32E its own GART driver.
    This way we can lose all the legacy junk that comes along with intel-agp
    Start by just getting a bare bones driver supporting the more recent
    AGP chipsets.

commit 0aacf5d69e43f8b30e38f7999ecd3c40c0c07cec
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:20:50 2004 +0000

    [AGPGART] Add SIS 648/746 work around.
    These chipsets hang for no apparent reason unless we pause for a while
    after changing mode. No explanation from SiS, so this ugly hack is the
    best we can hope for.

commit 902c2a5562a4e5e7f3ed26494e3ba82a960be0fe
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:19:12 2004 +0000

    [AGPGART] Recognise B3 stepping 8151 in amd64 GART driver.

commit c0baa5ced60da648ab7fbf9f20b6234cdde6922e
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:18:10 2004 +0000

    [AGPGART] Silence serverworks CNB20HE printks.
    These chipsets don't seem to have a full AGP GART, (and in at least
    two reports I've had, are used in systems that don't even have an
    AGP slot).
    Print something more informative than..
    
      agpgart: unable to determine aperture size.
      agpgart: agp_backend_initialize() failed.
      agpgart-serverworks: probe of 0000:00:00.0 failed with error -22
      agpgart: Maximum main memory to use for agp memory: 941M
      agpgart: unable to determine aperture size.
      agpgart: agp_backend_initialize() failed.
      agpgart-serverworks: probe of 0000:00:00.1 failed with error -22
      agpgart: Unsupported Serverworks chipset (device id: 0006)
      agpgart: Unsupported Serverworks chipset (device id: 0006)

commit e6324d9dad1c7f727459ad72c9673b6599065210
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 19 19:16:29 2004 +0000

    [AGPGART] Fix URL.

commit 723ec8133525e65d5084b4e9b3d552edd358b812
Merge: 72a3b20... 4142f00...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Fri Mar 19 04:21:38 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 72a3b2097702b9c50a8b34c77d3a8313691ec7dd
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 19 00:09:53 2004 -0800

    Linux 2.6.5-rc2

commit 3b30709178676847edfc10245c7e3bd9f50a83d7
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 19 00:07:09 2004 -0800

    Add FBIOBLANK to list of compatible ioctls.

commit 9b528b6ea98b9d9ab5b3b01a3360fadf198e8f03
Merge: f2abce4... 1590e3d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 19 00:02:09 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/pci-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4142f00b2a6f656cb333214fde1c4fb18a8c20cf
Author: Kenneth W. Chen <kenneth.w.chen@intel.com>
Date:   Thu Mar 18 23:23:15 2004 -0800

    [PATCH] ia64: Interim pal_halt_light patch
    
    While the sysctl variable is being worked out in the general kernel, here is
    an interim patch which allows boot-time/dynamic control over the use of
    PAL_HALT_LIGHT in the idle-loop.

commit f2abce482d8144c43b0afa698798604a80312143
Merge: 7bcba5b... 40c7d50...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 23:00:42 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 40c7d50249d868e74180af53a64a662a8c341428
Merge: 4112c3d... 4abdd52...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Mar 18 22:27:42 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 7bcba5b04e572f79de4d218a67066f4e08985d2a
Merge: f6c5dcb... cfa0250...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 22:24:27 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit f6c5dcb15bf74b4efc76efe5539025e8c74c2ea9
Merge: 29dd2f7... c0c8382...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 22:21:00 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 29dd2f744bb338594a9d66dbaf9b308d9586a8f0
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Fri Mar 19 04:12:22 2004 -0500

    [PATCH] Fix 3c509
    
    This rolls up Marc Zyngier's EISA correction (first two) and adds a missed
    netdev_priv() conversion that was causing an oops on module removal.

commit 4abdd5284c07bcc46cbc3d0160c481bb6a316f1f
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 22:20:52 2004 -0800

    [NET]: Preemption disabling is superfluous in net_rx_action().
    
    Noticed by Jan Glauber, confirmed by Stephen Hemminger.

commit c0c83822a1eab0fe15e6b9e2c56001e9bfa77958
Merge: a6eeec4... 22f5db8...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 22:18:26 2004 -0800

    Merge bk://kernel.bkbits.net/jgarzik/carmel-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 1590e3d1ab991118a83d4a983a4b34aabbe84b92
Merge: 27cd7e0... 60dfe5e...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Mar 18 22:18:02 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/pci-2.6

commit a6eeec41ad182db5c2aa150f3d0abe304d34288b
Merge: 4112c3d... d700fab...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 22:12:09 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 60dfe5e93ae0865e4cb99b293fb4d7c0444cfe8e
Author: Matthew Wilcox <willy@debian.org>
Date:   Thu Mar 18 22:08:42 2004 -0800

    [PATCH] PCI: claim PCI resources on ia64
    
    Call pci_claim_resources() so we can see what PCI resources are being used.

commit a3ebf704dbb4b1340326923652bf6211c1289298
Author: Matthew Wilcox <willy@debian.org>
Date:   Thu Mar 18 22:08:16 2004 -0800

    [PATCH] PCI: Use insert_resource in pci_claim_resource
    
    On ia64, the parent resources are not necessarily PCI resources and
    so won't get found by pci_find_parent_resource.  Use the shiny new
    insert_resource() function instead, which I think we would have used
    here had it been available at the time.

commit 78b21ca0370b83c647652aaee242c56512743f7e
Author: Matthew Wilcox <willy@debian.org>
Date:   Thu Mar 18 22:07:09 2004 -0800

    [PATCH] PCI: insert_resource can succeed and return an error
    
    If we start again, we can return an error even if we were successful.
    Reset the result to 0 before beginning again.  Why don't we use a
    tailcall here?

commit d700fab60968e1ef294f67742a9fdbf448e5ea70
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 22:00:05 2004 -0800

    [SPARC64]: Export sbus_dma_sync_X_for_device routines too.

commit 288a04d395afaa57a7b3f133936950d6399a872a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 21:57:54 2004 -0800

    [SPARC64]: Update defconfig.

commit dc43275a4abc56698a4f2595219597fb093fb808
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 21:55:50 2004 -0800

    [PM2FB]: Fix build on big-endian.

commit ccc3b252b30875d8e2d74a247d9545c2fc387e85
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 21:40:56 2004 -0800

    [SPARC64]: Implement pci_dma_error().

commit 4112c3d34b586f18b5764dfa8da697c76158c17c
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Thu Mar 18 20:52:30 2004 -0800

    [PATCH] fix "optimize  &&  ?"
    
    This prevents the "optimize && ?" message appearing when the kernel
    configuration tool is run.  The message could be eliminated from the
    tool, but I'd rather fix the needlessly over-complicated expression:

commit aa9aa6210276db04926edbf5479e197e1d6c0215
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Thu Mar 18 20:29:20 2004 -0800

    [TRIVIAL] Tighten sanity in time_init to 250 ppm.
    From:  "Bailey, Scott" <scott.bailey@eds.com>

commit 27cd7e0feb7d4e8ddc87296bf30ad0de3b19f4c0
Merge: f319c80... c4620fd...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 17:56:43 2004 -0800

    Merge http://linux-sound.bkbits.net/linux-sound
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit c4620fd637bc33f0c2efabd43586de03675336cd
Merge: c5d4003... deefad7...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 17:47:45 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit c5d4003314e38ef940af169984f07b945465adb9
Merge: e783038... f6ee1ee...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 18 17:46:43 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit e78303855110d803d4264a17f00e20a317ec0e46
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:04:23 2004 -0800

    [PATCH] Hotplug CPUs: Remove CPU_OFFLINE Notifier
    
    We no longer have a CPU_OFFLINE notifier: we freeze the machine and
    kill the CPU atomically.  Remove it.

commit 279ce7b25799360a650473ce5cd89b8103faf8f0
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:04:13 2004 -0800

    [PATCH] Hotplug CPUs: Other CPU_DEAD Notifiers
    
    Various files keep per-cpu caches which need to be freed/moved when a
    CPU goes down.  All under CONFIG_HOTPLUG_CPU ifdefs.
    
    scsi.c: drain dead cpu's scsi_done_q onto this cpu.
    
    buffer.c: brelse the bh_lrus queue for dead cpu.
    
    timer.c: migrate timers from dead cpu, being careful of lock order vs
    	__mod_timer.
    
    radix_tree.c: free dead cpu's radix_tree_preloads
    
    page_alloc.c: empty dead cpu's nr_pagecache_local into nr_pagecache, and
    	free pages on cpu's local cache.
    
    slab.c: stop reap_timer for dead cpu, adjust each cache's free limit, and
    	free each slab cache's per-cpu block.
    
    swap.c: drain dead cpu's lru_add_pvecs into ours, and empty its committed_space
    	counter into global counter.
    
    dev.c: drain device queues from dead cpu into this one.
    
    flow.c: drain dead cpu's flow cache.

commit 9bd3badff4e7b97209961875014053d6a292af99
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:04:03 2004 -0800

    [PATCH] Hotplug CPUs: Kswapd Changes
    
    Keep track of kswapds: it's OK that they get moved off a node when the
    last CPU goes down, but when a CPU comes back, we should try to move
    the kswapd back onto its node.

commit 6bcaa29dc02edc04b6f2baa4c85ace1c2c69871a
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:54 2004 -0800

    [PATCH] Hotplug CPUs: Workqueue Changes
    
    Workqueues need to bring up/destroy the per-cpu thread on cpu up/down.
    
    1) Add a global list of workqueues, and keep the name in the structure
       (to name the newly created thread).
    
    2) Remove BUG_ON in run_workqueue, since thread is dragged off CPU when
       it goes down.
    
    3) Lock out cpu up/down in flush_workqueue, create_workqueue and
       destroy_workqueue.
    
    4) Add notifier to add/destroy workqueue threads, and take over work.

commit 010b27dc120ac4f57e22998854ef4373c174b171
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:44 2004 -0800

    [PATCH] Hotplug CPUs: Make ksoftirqd Handle CPU Going Down
    
    Change ksoftirqd not to assume it's on the CPU: when a cpu goes down,
    it will be rudely dragged off.  Since do_softirq() uses
    smp_processor_id(), it's easiest to disable preemption, check that the
    cpu is still up, then call do_softirq().
    
    If the cpu is actually offline, wait for the notifier, which kills us.
    
    Take over tasklets from dead cpu in the notifier.
    
    Clean up redundant double assignment in CPU_UP callback.

commit 211b2fcef6366298877f1a8c0ba95d43db86ef85
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:35 2004 -0800

    [PATCH] Hotplug CPUs: Read Copy Update Changes
    
    Add hook for RCU to handle jobs on dead cpu.  Requires new
    tasklet_kill_immediate for RCU to clean up its tasklet (which might
    have been about to run, so tasklet_kill won't work).

commit eac9256c17c3ea2609c3b1ad682c59b026be12e7
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:25 2004 -0800

    [PATCH] Hotplug CPUs: Make Migration Thread Handle CPUs Going
    
    Change the migration thread to directly use its cpu arg, rather than
    smp_processor_id(): if a cpu goes up then down rapidly, it can be on
    the wrong cpu just before it is stopped.
    
    Add code to stop the migration thread on CPU_DEAD and CPU_UP_CANCELED.
    
    Remove the (bogus) priority of the notifier.

commit e7243e1bdcb10e5f7edad7129390159cba999d44
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:16 2004 -0800

    [PATCH] Hotplug CPUs: Set prio of migration thread before CPU
    
    We need the migration thread to be RT as soon as the CPU comes online:
    for example, stop_machine() (another RT task) expects to yield to it.
    Extract the core of setscheduler() and do that when the migration
    thread is created.  rq lock is a precaution against the (theoretical)
    possibility of someone else doing setscheduer on this thread at the
    same time.

commit 1329b6abc196900eb04d9bde358a313c945d54e9
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:03:06 2004 -0800

    [PATCH] Hotplug CPUs: Keep IRQs off in Migration Thread Calling
    
    Currently the migration thread re-enables irqs, then calls
    move_task_away which disables IRQs again and actually does the move.
    This means there is a race where the migration thread gets preempted,
    and the target CPU can go down.
    
    Hold irqs disabled in migration thread across move_task_away(), which
    now doesn't need to save flags (the other caller is the hotplug CPU
    code, where irqs are also disabled).

commit d75175328540ae801ad0b63b2ac6a61e3c1d5f28
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:02:56 2004 -0800

    [PATCH] Hotplug CPUs: Take cpu Lock Around Migration
    
    Grab cpu lock around sched_migrate_task() and sys_sched_setaffinity().
    This is a noop without CONFIG_HOTPLUG_CPU.
    
    The sched_migrate_task may have a performance penalty on NUMA if lots
    of exec rebalancing is happening, however this only applies to
    CONFIG_NUMA and CONFIG_HOTPLUG_CPU, which noone does at the moment
    anyway.
    
    Also, the scheduler in -mm solves the race another way, so this will
    vanish then.

commit a4d53cb78bbc6f29d588b3f1a28e7c2abdc14b00
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:02:47 2004 -0800

    [PATCH] Hotplug CPUs: don't pull onto offline CPUs
    
    Don't move tasks onto offline cpus in load_balance and wake_task (the
    latter is caused by a completion run from stop_machine).
    
    Note that cpu_is_offline() is a noop when CONFIG_HOTPLUG_CPU=n.

commit edf19689777e3851759af1488ccb0891159a7c71
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:02:37 2004 -0800

    [PATCH] Hotplug CPUs: Sysfs Online Attribute
    
    Add "online" sysfs attribute to cpus to bring them up and down.
    
    Again, only under CONFIG_HOTPLUG_CPU.

commit 036f21379d26fb60b6c490803abf6c7c735c4f6a
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Thu Mar 18 16:02:28 2004 -0800

    [PATCH] Hotplug CPUs: cpu_down()
    
    Implement cpu_down(): uses stop_machine to freeze the machine, then
    uses (arch-specific) __cpu_disable() and migrate_all_tasks().
    
    Whole thing under CONFIG_HOTPLUG_CPU, so doesn't break archs which
    don't define that.

commit c884a1a3d78bc9a0bf56b11e6d84d7447d93bf00
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:04:08 2004 -0800

    [PATCH] remove_suid() should return error code
    
    From: Nikita Danilov <Nikita@Namesys.COM>
    
    remove_suid() ignores return value of notify_change()->i_op->setattr().
    This mean, that even if file system fails to clear suid bit,
    generic_file_aio_write_nolock() proceeds with write, which is unsafe.
    
    Actually, even ext2's ->setattr() can fail, when trying to update ACL, for
    example.
    
    Attached patch modifies remove_suid() to return result of ->setattr(), and
    updates in-tree callers.

commit 705e71d4f784bcb731782856ded3b8254f1ad663
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:58 2004 -0800

    [PATCH] meye driver update
    
    From: Stelian Pop <stelian@popies.net>
    
    This patchlet is just a resync with my tree, it only increments the meye
    driver version number and makes some small comment changes as suggested by
    Randy Dunlap.

commit 2860cb8620251ba8814305ecbcf4a58336831292
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:49 2004 -0800

    [PATCH] VM overcommit documentation fixes
    
    From: Andy Whitcroft <andyw@uk.ibm.com>
    
    Whilst looking at the memory overcommit logic I noticed that the pointer to
    the documentation from the *_vm_enough_memory calls is incorrect.  Also
    that in one instance the routine does not have the expected pointers.

commit c1d1c7cd429b7a434fc6d542021d7ca8bc77253e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:39 2004 -0800

    [PATCH] sonypi devinit section usage
    
    From: Stelian Pop <stelian@popies.net>
    
    This patch removes the usage of __devinit in the srs methods of the sonypi
    driver, because those functions are also called from sonypi_pm_callback().
    
    Patch originally from Randy Dunlap.

commit 647abae92af4b7355df5ecf8d641e3eaaf6e5c60
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:30 2004 -0800

    [PATCH] add note about "Copyright" to SubmittingDrivers
    
    From: Grant Grundler <grundler@parisc-linux.org>
    
    This patch adds a comment to "Documentation/SubmittingDrivers" about the
    importance of adding a Copyright notice in submitted code.
    
    The parisc-linux port has neglected this in the past and I've been slowly
    trying to correct that (along with proper GPL header).
    
    While I make it sound like GPL is the "only" acceptable license, I'll leave
    it up to lawyers to determine what other appropriate license could be used
    for a new driver.

commit f1802d1c814e4fe1eb1bffa60476577f43a94cee
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:20 2004 -0800

    [PATCH] pte_chain comment fix
    
    From: Carl Spalletta <ioanamitu@yahoo.com>
    
    Fix a comment bug.

commit b618732875187a64bca47c19d30abccd098c1dbf
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:11 2004 -0800

    [PATCH] EDD: split assembly code
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    Split EDD assembly code from setup.S into edd.S.  This will enable it to be
    #included into x86-64 too.

commit 51900ee56a73ac0ff017e6dfe3a76a79a919cc71
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:03:01 2004 -0800

    [PATCH] EDD: move code from i386-specific locations to generic
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    move edd.c from arch/i386/kernel to new dir drivers/firmware.  Fix up
    makefiles and Kconfigs.

commit 927f7639a69c9ed50a3f1662966dc89fea088ed9
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:02:40 2004 -0800

    [PATCH] EDD: move code from i386-specific locations to generic
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    Three patches to move the BIOS Enhanced Disk Drive code from i386-specific
    locations into more generic locations, which will allow it to be used on
    x86-64 as well.
    
    move edd.h from include/asm-i386 to include/linux

commit d50e304a346033f87d9ec9f382da48732e5b4e0f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:02:23 2004 -0800

    [PATCH] Fix uninlined memcmp on i386
    
    From: DHollenbeck <dick@softplc.com>
    
    This patch was needed against a pristine 2.6.4 kernel when compiling with
    "gcc 3.4 _very recent_" using the -Os option.
    
    Without this patch, modules would use a non-inline memcmp() and then not
    find it in the kernel, causing depmod to complain and some modules not to
    load.

commit aa550c0d3f3c6a72f5b161ddeb1f8b52bbd8ce62
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:02:14 2004 -0800

    [PATCH] fix HZ leaking to userspace in BSD accounting
    
    From: Tim Schmielau <tim@physik3.uni-rostock.de>
    
    BSD accounting was missed in the conversion from HZ to USER_HZ.  I thought
    nobody cared, but apparently there are still users to it.

commit 65a0fc80efe696baf246464cc6b62190b1678303
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:02:04 2004 -0800

    [PATCH] zlib: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Remove unnecessary min/max macros and changes calls to use kernel.h macros
    instead.

commit 688d6d304655476d3a1f93241e612164a420ba21
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:55 2004 -0800

    [PATCH] sound: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Remove unnecessary min/max macros and changes calls to use kernel.h macros
    instead.

commit aee768e051f133d1d2e19be7cb0397ad7642be8a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:45 2004 -0800

    [PATCH] reiserfs: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Remove unnecessary min/max macros and changes calls to use kernel.h macros
    instead.

commit f4358df8cbb7c0993a82db8617c82a6b14f9ca50
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:35 2004 -0800

    [PATCH] procfs: use kernel min/max
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Michael Veeck <michael.veeck@gmx.net>
    
    Patch (against 2.6.3) removes unnecessary min/max macros and changes calls to
    use kernel.h macros instead.

commit ac1a964df79e38881598b5e2cfc0aff9d423946f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:26 2004 -0800

    [PATCH] ip2: fix double operator
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    This trivial patch fixes the bug #320:
    
    http://bugme.osdl.org/show_bug.cgi?id=320
    
    The additional comment:
    
    http://bugme.osdl.org/show_bug.cgi?id=320#c1
    
    Is wrong, because it will send the command twice.
    
    We only want to see if the command got success, thus is not necessary
    to test against < 0 (if the return value is not 1, we got a error).
    
    Note that I'm using the function (bad) style.

commit 56b586b80fb4e2a30862cab324b2498033327945
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:15 2004 -0800

    [PATCH] doc. updates/typos
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    Remove the rest of references to smp.tex
    Documentation/cpufreq => Documentation/cpu-freq
    DocBook/tulip.{pdf,ps,html} => DocBook/tulip-user.{pdf,ps,html}
    Bunch of other typos.

commit 85328e8bd9edb447d8a8c0cea265501ed35ab78e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:01:05 2004 -0800

    [PATCH] slab: start_cpu_timer() can be __init
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>

commit 02bb91567c542e9d2ecb6af22ea8d6fa65ae865c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:55 2004 -0800

    [PATCH] 8250_pnp: probe and remove can be __devinit/__devexit
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>

commit 5a87d187fce156e959beed81f287bdfb23128ae7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:47 2004 -0800

    [PATCH] config: choice fix
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    When a boolean choice value has a dependency of 'm' it can be shortly
    treated as a tristate symbol.  This fixes this and also add a small
    optimization to precompute the value of the module symbol instead of
    checking it all the time.

commit 6fa4a50c4dab0067de5ce819c554e6ed21bce1b9
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:38 2004 -0800

    [PATCH] config: persistent qconf configuration
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    This patch is by Andreas Fester <Andreas.Fester@gmx.de> and saves and
    restores various runtime options of qconf.

commit a72c5f31dc8b8659c2c6b4b4be266807af0a527e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:28 2004 -0800

    [PATCH] config: disable debug prints
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    This disables some debug prints, which are more confusing than helpful for
    normal users.

commit 86b5b992be8e8753cacf4f80fcb5bc644fa503c2
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:19 2004 -0800

    [PATCH] kconfig: don't rename target dir when saving config
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    conf_write() now checks the target path whether it's a directory, so it
    saves the config in the directory instead of renaming it.

commit dfc78642dbcb8b9550a9e0efe6b42c0ec5050ae5
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:09 2004 -0800

    [PATCH] kconfig: fix xconfig on /lib64 properly
    
    From: Roman Zippel <zippel@linux-m68k.org>
    
    The correct link path is needed at config time to find the correct library,
    so let's ask gcc for the real path.

commit 10f0bf6b862a2e6815a25d711085f5cb92b02bb5
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 15:00:00 2004 -0800

    [PATCH] don't abuse empty_zero_page (x86)
    
    From: Brian Gerst <bgerst@didntduck.org>
    
    Don't abuse empty_zero_page as temporary storage for boot parameters and
    command line.  This is a holdover from the days before discardable init
    sections.

commit 8a87e75831f5e6a43abfa1ae119f487df9468b6e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:50 2004 -0800

    [PATCH] proper alignment of init task in kernel image
    
    From: Matt Mackall <mpm@selenic.com>
    
    This keeps the alignment of the init task matched with the stack size.

commit 2c0e195ba4530094ac14d8219362bdf290b28812
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:41 2004 -0800

    [PATCH] sysfs: pin kobjects to fix use-after-free crashes
    
    From: Maneesh Soni <maneesh@in.ibm.com>
    
    Fix a sysfs use-after-free crash.  The problem we have is of the kobject
    going away while we have a live dentry (the corresponding sysfs directory)
    still pointing to it throuh d_fsdata pointer.  The patch makes sure to keep
    the kobject alive by taking a reference to it during the life-time of
    corresponding dentry.
    
    
    o The following pins the kobject when sysfs assigns dentry and inode to
      the kobject. This ensures that kobject is alive during the life time of
      the dentry and inode, and people holding ref. to the dentry can access the
      kobject without any problems.
    
    o The ref. taken for the kobject is released through dentry->d_op->d_iput()
      call when the dentry ref. count drops to zero and it is being freed. For
      this sysfs_dentry_operations is introduced.
    
    For testing one has to run the following test on a SMP box:
    
    1) Do insmod/rmmod "dummy.o" network driver in a forever loop.
    
    2) Parallely do "find /sys/class/net | xargs cat" also in a forever loop.

commit b67cee68c51ee8b1b4be249a23efae16baa5e2e1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:31 2004 -0800

    [PATCH] Fix dentry refcounting in sysfs_remove_group()
    
    From: Maneesh Soni <maneesh@in.ibm.com>
    
    The following patch fixes the dentry refcounting, during
    sysfs_remove_group() and also adds the missing dput() for the "extra" ref
    taken during sysfs_create() for the sub-directory dentry corresponding to
    attribute group.

commit f8f71d1b1817ce9db7adf25da49a7f8cb3055a11
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:22 2004 -0800

    [PATCH] sysfs_remove_dir-vs-dcache_readdir race fix
    
    From: Maneesh Soni <maneesh@in.ibm.com>
    
    I have re-done the patch fixing the race between sysfs_remove_dir() and
    dcache_readdir().  If you recall, sysfs_remove_dir(kobj) manipulates the
    ->d_subdirs list for the dentry corresponding to the sysfs directory being
    removed.  It can end up deleting the cursor dentry which is added to the
    ->d_subdirs list during a concurrent dcache_dir_open() ==> dcache_readdir()
    for the same directory.  And as a result dcache_readdir() can loop for ever
    holding dcache_lock.
    
    The earlier patch which was included in -mm1 created problems which
    resulted in list_del() BUG hits in prune_dcache().  The reason I think is
    that in the main loop in sysfs_remove_dir(), dcache_lock is dropped and
    re-acquired, and this could result in inconsistent ->d_subdirs list and
    prune_dcache() may try to delete an already deleted dentry.  I have
    corrected this in the new patch as below.
    
    I could do sysfs_remove_dir() more neatly on sysfs backing store patch set
    as there I don't use the ->d_subdirs list.  Instead the list of children
    sysfs_dirent works out well.  But untill sysfs backing store patch is
    picked up the existing code suffer from this race.  This can be easily
    tested by running following two loops on a SMP box
    
    # while true; do insmod drivers/net/dummy.ko; rmmod dummy; done
    # while true; do find /sys/class/net > /dev/null; done
    
    
    o This patch fixes sysfs_remove_dir race with dcache_readdir.  There is
      no need for sysfs_remove_dir to modify the d_subdirs list for the
      directory being deleted as it is taken care in the final dput.  Modifying
      this list results in inconsistent d_subdirs list and causes infinite loop
      in concurrently occurring dcache_readdir.
    
    o The main loop is restarted every time, dcache_lock is re-acquired in
      order to maintain consistency.

commit 7857638224a1f77eff48f6e23b8a2a68f994a191
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:12 2004 -0800

    [PATCH] Add dma_error() and pci_dma_error()
    
    From: Anton Blanchard <anton@samba.org>
    
    Introduce dma_error() and pci_dma_error() which are used to detect failures
    in pci_map_single.

commit 1c4c0ff66d799aea61b31128264d353a1146c1ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:59:02 2004 -0800

    [PATCH] ppc64: Fix POWER3 TCE allocation
    
    From: Anton Blanchard <anton@samba.org>
    
    - Fix for machines with 3GB IO holes (eg nighthawk).
    - Increase the maximum number of PHBs and warn if we exceed this (we used
      to walk off the end of the array)
    - Only allocate an 8MB TCE table on POWER4

commit f75bd853f9fb83b9385690a297d494b3765d1641
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:58:53 2004 -0800

    [PATCH] ppc64: Fix SLB reload bug
    
    From: Paul Mackerras <paulus@samba.org>
    
    Recently we found a particularly nasty bug in the segment handling in the
    ppc64 kernel.  It would only happen rarely under heavy load, but when it
    did the machine would lock up with the whole of memory filled with
    exception stack frames.
    
    The primary cause was that we were losing the translation for the kernel
    stack from the SLB, but we still had it in the ERAT for a while longer.
    Now, there is a critical region in various exception exit paths where we
    have loaded the SRR0 and SRR1 registers from GPRs and we are loading those
    GPRs and the stack pointer from the exception frame on the kernel stack.
    If we lose the ERAT entry for the kernel stack in that region, we take an
    SLB miss on the next access to the kernel stack.  Taking the exception
    overwrites the values we have put into SRR0 and SRR1, which means we lose
    state.  In fact we ended up repeating that last section of the exception
    exit path, but using the user stack pointer this time.  That caused another
    exception (or if it didn't, we loaded a new value from the user stack and
    then went around and tried to use that).  And it spiralled downwards from
    there.
    
    The patch below fixes the primary problem by making sure that we really
    never cast out the SLB entry for the kernel stack.  It also improves
    debuggability in case anything like this happens again by:
    
    - In our exception exit paths, we now check whether the RI bit in the
      SRR1 value is 0.  We already set the RI bit to 0 before starting the
      critical region, but we never checked it.  Now, if we do ever get an
      exception in one of the critical regions, we will detect it before
      returning to the critical region, and instead we will print a nasty
      message and oops.
    
    - In the exception entry code, we now check that the kernel stack pointer
      value we're about to use isn't a userspace address.  If it is, we print a
      nasty message and oops.
    
    This has been tested on G5 and pSeries (both with and without hypervisor)
    and compile-tested on iSeries.

commit 973a4e70ef88e14c78f21e93d85ef7de0900af81
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:58:43 2004 -0800

    [PATCH] ppc64: Add numa=off command line option
    
    From: Anton Blanchard <anton@samba.org>
    
    Add numa=off command line option to disable NUMA support at runtime.
    Useful if there are issues with our parsing of the NUMA toplogy or for
    testing NUMA gains.

commit a800d7b1650e90b61c4d15d5d000cb2068e061c9
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:58:33 2004 -0800

    [PATCH] ppc64: remove IO_DEBUG
    
    From: Anton Blanchard <anton@samba.org>
    
    Remove the old __IO_DEBUG stuff and add some nice comments courtesy of x86.

commit 590b0a8292837809708a86a754894d850a220a16
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 14:58:24 2004 -0800

    [PATCH] ppc64: iSeries virtual tape driver
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    This patch adds the driver for the PPC64 iSeries virtual tape.

commit cfa0250dc9e27b0e96b12249facb988f089f626f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 17:19:26 2004 -0500

    [libata] increase max from UDMA/100 to UDMA/133 for some drivers
    
    ServerWorks and Vitesse driver transfer mode maximums were
    incorrectly too low.

commit 550a411aa7460c4213a2d0dccb97aeb59e498ea1
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 18 12:24:47 2004 -0500

    [ACPI] numa.c build fix (Luming Yu)
    http://bugzilla.kernel.org/show_bug.cgi?id=2131

commit f6ee1ee5d52d0206730f2868efd3e858a1e86b19
Merge: 4143a41... 19c7c61...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Thu Mar 18 05:57:48 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit df8781b5290d04108861e1bd0525ed01379a6b63
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Thu Mar 18 05:39:05 2004 -0800

    [PATCH] add touch_atime() helper
    
    Preparation for per-mountpoint noatime, nodiratime and later -
    per-mountpoint r/o.  Depends on file_accessed() patch, should go after
    it.
    
    New helper - touch_atime(mnt, dentry).  It's a wrapper for
    update_atime() and that's where all future per-mountpoint checks will
    go.

commit 5f9861a66ce697389ea89236902ef6ef5f54225b
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Thu Mar 18 05:38:53 2004 -0800

    [PATCH] add file_accessed() helper
    
    New inlined helper - file_accessed(file) (wrapper for update_atime())

commit d2a4a177a25de3099c2a6bb0272211728261228d
Author: Alexander Viro <viro@parcelfarce.linux.theplanet.co.uk>
Date:   Thu Mar 18 05:38:43 2004 -0800

    [PATCH] missing check in do_add_mount()
    
    Make sure that we don't end up with symlink mounted over something
    
    (mount --bind is safe since we use LOOKUP_FOLLOW in pathname resolution
    there).

commit f319c80942729320e8725e61272dcd290d30fef6
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 14:18:16 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    USB generic driver
    Returned back get_iface() macro for quirks
    Removed extra variable to avoid warning

commit d93bf80c0507a63b962092e97d4c0d732b9bbab2
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 07:55:48 2004 -0500

    [libata] explicitly set consistent DMA mask to 0xffffffff
    
    Do not rely on the default being 0xffffffff.

commit 19c7c61cf5ecdc199ff19d965c27e3f0b1941373
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Mar 18 04:51:19 2004 -0800

    [NET_SCHED]: Add packet delay scheduler.

commit 096acddfbf2640558b73d311619f177ba104dbd3
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Mar 18 04:39:50 2004 -0800

    [NET_SCHED]: Fix requeueing in HFSC scheduler.
    
    Requeued packets are kept in a high-priority queue
    which is always dequeued first.

commit 18a678c41deec5600b8ceb4e510b12460f79498c
Author: Patrick McHardy <kaber@trash.net>
Date:   Thu Mar 18 04:38:40 2004 -0800

    [PKT_SCHED]: Fix broken indentation in HFSC scheduler.

commit 63fb8fd3e90d7cffef2f3d7a121b852979163237
Author: Aidas Kasparas <a.kasparas@gmc.lt>
Date:   Thu Mar 18 04:36:34 2004 -0800

    [AF_KEY]: More accurate error codes.

commit 35ef4b70bae802a2f52a51ef4803823b7d0b446a
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Thu Mar 18 04:36:25 2004 -0800

    [ALPHA] Streamline opDEC_check and the actual fixup bits in do_entIF.

commit 3b0598164127d40f05426d826096e7614a8edcbf
Merge: dc5178f... 4f4a968...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 07:30:00 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.6
    into redhat.com:/spare/repo/libata-2.6

commit 4423c5eab4238aed86f49e71c8e87a51be3cde80
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 04:23:46 2004 -0800

    [NET]: Give struct flowi explicit alignment, with help from yoshfuji.

commit ef558b34ee37fcecb0b9cbb5fabee014a9e820c8
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:18:44 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    add comments in USB MIDI vendor-specific detection functions

commit 640f7ad7567f8422216a77e0453366aea3b82ace
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:18:25 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    replace usage of interface index with calls to usb_ifnum_to_if

commit 996d3ec6ae34380ab5441e6955e905ea67da58d8
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:18:04 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    fix get_iface_desc macro

commit 7363b2189354da65b30572c698ff54724f89384f
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:17:46 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    added the quirk for Compaq Evo D510C.

commit 66a440ce8fd83939c917f166025784e23df617e3
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:17:24 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PPC PMAC driver
    Fix against the new DMA API

commit 38099c525f34524f6f79b68453a521485c9e23bf
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:17:06 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    don't resubmit unlinked urbs;
    move interface releasing after urb unlinking

commit 67183df3a5ea8acab1c80ea0c95b584cdb847cc4
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:16:42 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    au88x0 driver
    Manuel Jander <mjander@elo.utfsm.cl>:
    clean up and small bugfixes, the routing code fix for multiple streams.

commit ad7c3c6bbf4f2e9db92e05a5838cc225143fd6cc
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:16:23 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    SPARC cs4231 driver
    fixed the compilation error (missing comma).

commit f2236e44576f7a3f1c1ba202c610f20a36110770
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:16:02 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    SPARC cs4231 driver
    fixed the dma allocation type.

commit 91418706915360f81684e9651f08eeeeb4239441
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:15:45 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    MPU401 UART
    use global variable to count cards

commit deefad781beb64389a9b984223ed9c374a5129cc
Author: Luis R. Rodriguez <mcgrof@ruslug.rutgers.edu>
Date:   Thu Mar 18 07:15:27 2004 -0500

    [wireless prism54] add two final missing bits
    
    One a fairly important one, ensuring an skb slot is noted to be NULL.

commit 9c78d8a187a44f26ef03d379bd727c3ea76bc5c6
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:15:22 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    MPU401 UART
    don't use negative return value as card count

commit 057c0b0da94f48cef4d5c4801992229058bdbdfa
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 13:15:03 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    MPU401 UART
    don't use acpi_disabled because it isn't exported in all archs

commit 32c0de69bdc61742b2d10fb175bce91f005b0d21
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 18 07:11:01 2004 -0500

    [PATCH] Fw: [PATCH 2.6] netpoll for pcnet_cs
    
    From: Stelian Pop <stelian@popies.net>
    Subject: [PATCH 2.6] netpoll for pcnet_cs
    
    This patch adds netpoll support to pcnet_cs. Tested with
    the netconsole facility.

commit 908c0ae874c81df9e1054bc2adfdaef1ec8039c0
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Thu Mar 18 07:10:53 2004 -0500

    [PATCH] revert some netdev_priv() changes
    
    These drivers don't use the usual/normal/typical netdevice->priv
    storage, so converting them to use netdev_priv() was not the
    right thing to do.  Back to using dev->priv for them.

commit 22f5db8cd0d8bc61aff054464efa0c5f9394fa16
Merge: ea747b6... 7adc196...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 07:02:23 2004 -0500

    Merge kernel.bkbits.net:carmel-2.6
    into redhat.com:/spare/repo/carmel-2.6

commit 7adc1960cfa469f636472fe1528c534a37d9ed32
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 07:00:22 2004 -0500

    [blk carmel] use statically allocated majors for first two hosts
    
    Also:
    * fix FL_DAC bit definition (value chosen was already in use)
    * improve info printk'd when adapter is registered
    * call pci_set_drvdata(pdev, NULL)

commit e5c514542252c2b0526908555a405c037a0b6fa0
Merge: 8754a8e... 45b68e4...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 18 12:29:43 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit e35370a6f62867a3ebb00181cd01203c23551fd8
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Thu Mar 18 02:32:56 2004 -0800

    [PATCH] ia64: make level sensitive interrupt emulation default on SN2
    
    SN2 doesn't fully support level triggered interrupts.  As a
    workaround, we need this patch to force another interrupt if the line
    is still high after a handler completes.

commit 47fe916b45960a7e6054b0399d7c78504ddc6c66
Merge: da8dd93... 8754a8e...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 18 04:44:43 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 4143a41318e8aee92f49e0de9f596c518cb9d4ae
Merge: dc5178f... bce3bd8...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Thu Mar 18 01:27:09 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/sparcwork-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 4f4a9689654e71d10bce2d6e1615a96954d8c75e
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Thu Mar 18 03:22:48 2004 -0500

    [libata] remove unneeded linux/config.h includes

commit bce3bd85202d1cd5fa3fe37d859afb17cee7476c
Author: William Lee Irwin III <wli@holomorphy.com>
Date:   Wed Mar 17 23:07:36 2004 -0800

    [SPARC]: NR_SYSCALLS in entry.S needs to be 273.

commit df1187a13bd83a1814a2dbeb615981c11d3022df
Author: Jason Wever <weeve@gentoo.org>
Date:   Wed Mar 17 23:04:47 2004 -0800

    [CS4231]: Fix build error, use SNDRV_DMA_TYPE_DEV and missing comma.

commit dc5178fa645b77079964356ab2dc6e12b24294d4
Author: David Howells <dhowells@redhat.com>
Date:   Wed Mar 17 21:54:56 2004 -0800

    [PATCH] FD_CLOEXEC fcntl cleanup
    
    This fixes a minor problem with fcntl.
    
    get_close_on_exec() uses FD_ISSET() to determine the fd state, but this
    is not guaranteed to be either 0 of FD_CLOEXEC.  Make that explicit.
    
    Also, the argument of set_close_on_exec() is being AND'ed with the
    literal constant 1.  Make it use an explicit FD_CLOEXEC test.

commit 437117bf124b04420d1086e2c40369c40be2086d
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 17 21:52:21 2004 -0800

    Make ppc64 __FD_ISSET() return a proper boolean return value.
    
    (The broken macro only triggers for non-gcc compiles, but
    still..)

commit 2b34fa5f008998c0226fb1b5ad40e4f1d9d9d79e
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Wed Mar 17 21:50:05 2004 -0800

    [PATCH] add missing MODULE_DEVICE_TABLE() to IDE PCI drivers
    
    Original patch from Hannes Reinecke <hare@suse.de>.
    
    This is required to have modular IDE drivers announce themselves
    properly in modules.pcimap.

commit 1ddcf61add9c05e0b834a516de1589f26273ea5d
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 17 21:47:15 2004 -0800

    cpu.c needs <linux/module.h> for symbol exports

commit ae01bd8fc64f40573fcb304c358cc33674f9a773
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed Mar 17 21:30:28 2004 -0800

    [PATCH] Implement migrate_all_tasks
    
    Implement migrate_all_tasks() which moves tasks off cpu while machine
    is stopped.

commit 30d676950d7fe057ea6060a2c60ce4fead7d1f67
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Wed Mar 17 21:30:19 2004 -0800

    [PATCH] Export cpu notifiers and do locking.
    
    The registration and unregistration of CPU notifiers should be done
    under the cpucontrol sem.  They should also be exported.

commit ea747b67fa63925d7a3206d2e0944dcb28560615
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:24:32 2004 -0800

    [PATCH] hpfs: general cleanup
    
    include files moved to fs/hpfs/, gratitious #include removed, stuff that
    doesn't have to be global made static, misindented chunk of
    hpfs_readdir() put in place, etc.

commit 9c96c8be372e7e3ce26e7b0e14ab9e7ff22cf068
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:24:22 2004 -0800

    [PATCH] hpfs: fix locking scheme
    
    	Fixed the locking scheme.  The need of extra locking was caused by
    the fact that hpfs_write_inode() must update directory entry; since HPFS
    directories are implemented as b-trees, we must provide protection both
    against rename() (to make sure that we update the entry in right directory)
    and against rebalancing of the parent.
    
    	Old scheme had both deadlocks and races - to start with, we had no
    protection against rename()/unlink()/rmdir(), since (a) locking parent
    was done without any warranties that it will remain our parent and (b)
    check that we still have a directory entry (== have positive nlink) was
    done before we tried to lock the parent.  Moreover, iget serialization
    killed two steps ago gave immediate deadlocks if iget() of parent had
    triggered another hpfs_write_inode().
    
    	New scheme introduces another per-inode semaphore (hpfs-only,
    obviously) protecting the reference to parent.  It's taken on
    rename/rmdir/unlink victims and inode being moved by rename.  Old semaphores
    are taken only on parent(s) and only after we grab one(s) of the new kind.
    hpfs_write_inode() gets the new semaphore on our inode, checks nlink and
    if it's non-zero grabs parent and takes the old semaphore on it.
    
    	Order among the semaphores of the same kind is arbitrary - the only
    function that might take more than one of the same kind is hpfs_rename()
    and it's serialized by VFS.
    
    	We might get away with only one semaphore, but then the ordering
    issues would bite us big way - we would have to make sure that child is
    always locked before parent (hpfs_write_inode() leaves no other choice)
    and while that's easy to do for almost all operations, rename() is a bitch -
    as always.  And per-superblock rwsem giving rename() vs. write_inode()
    exclusion on hpfs would make the entire thing too baroque for my taste.
    	->readdir() takes no locks at all (protection against directory
    modifications is provided by VFS exclusion), ditto for ->lookup().
    	->llseek() on directories switched to use of (VFS) ->i_sem, so
    it's safe from directory modifications and ->readdir() is safe from it -
    no hpfs locks are needed here.

commit d9013aaeb1258b30e169e904b5d4229118507b42
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:24:12 2004 -0800

    [PATCH] hpfs: deadlock fixes
    
    We used to have GFP_KERNEL kmalloc() done by the code that held hpfs
    lock on directory.  That could trigger a call of hpfs_write_inode() and
    deadlock; fixed by switch to GFP_NOFS.  Same for hpfs inodes themselves
    - hpfs_write_inode() calls iget() and that could trigger both the
    deadlocks (avoidable with very baroque locking scheme) and stack
    overflows (unavoidable unless we kill potential recursion here).

commit 772fd530badfe14a708a1f4df26b19bfbbb6785a
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:24:02 2004 -0800

    [PATCH] hpfs: hpfs iget locking cleanup
    
    Killed the nightmares in hpfs iget handling.  Since in some (fairly
    frequent) cases hpfs_read_inode() could avoid any IO (basically, lookup
    hitting a native HPFS regular file can get all data from directory
    entry) hpfs had a flag passed to that sucker.  Said flag had been
    protected by a semaphore lookalike made out of spit and duct-tape and
    callers of iget looked like
    
    	hpfs_lock_iget(sb, flag);
    	result = iget(sb, ino);
    	hpfs_unlock_iget(sb);
    
    Since now we are calling hpfs_read_inode() directly (note that calling
    it without hpfs_lock_iget() would simply break) we can forget all that
    crap and get rid of the flag - caller knows what it wants to call.
    
    BTW, that had killed one of the last sleep_on() users in fs/*/*.

commit b5b83baea0b32c53a49ed5a009f06666fcd44b03
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:23:53 2004 -0800

    [PATCH] hpfs: hpfs iget locking cleanup preparation
    
    	Preparation to hpfs iget locking cleanup - remaining iget() callers
    replaced with explicit iget_locked() + call hpfs_read_inode()/unlock_new_inode()
    if inode is new.

commit eb3a6d154302fd726ca0b1233af696dafaa2c83d
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:23:43 2004 -0800

    [PATCH] hpfs: new/read/write_inode() cleanups
    
    	1) common initialization for all paths in hpfs_read_inode() taken into
    a separate helper (hpfs_init_inode())
    	2) hpfs mkdir(),create(),mknod() and symlink() do not bother with
    iget() anymore - they call new_inode(), do initializations and insert new
    inode into icache.  Handling of OOM failures cleaned up - if we can't
    allocate in-core inode, bail instead of corrupting the filesystem.
    Allocating in-core inode early also avoids one of the deadlocks here
    (hpfs_write_inode() from memory pressure by kmem_cache_alloc() could
    deadlock on attempt to lock our directory).
    	3) hpfs_write_inode() marks the inode dirty again in case if it
    fails to iget() its parent directory.  Again, OOM could trigger fs corruption
    here.

commit fde48def875ce9b16907d4c30b22dc56ca826d7e
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:23:34 2004 -0800

    [PATCH] hpfs: clean up lock ordering
    
    	hpfs_{lock,unlock}_{2,3}inodes() killed; all places that take more than
    one lock have ->i_sem held by VFS on all inodes involved and all hpfs per-inode
    locks are of the same type.  IOW, we can replace these guys with multiple
    hpfs_lock_inode() - order doesn't matter here.

commit c4357dfe2f0b1d0557333da6b2bf89ffddc62e2c
Author: Alexander Viro <viro@www.linux.org.uk>
Date:   Wed Mar 17 21:23:24 2004 -0800

    [PATCH] hpfs: namei.c failure case cleanups
    
    Failure exits in hpfs/namei.c merged and cleaned up.

commit 65819c97ea503fe63e69372d2c763742407e986e
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 17 18:11:09 2004 -0800

    ia64: Small cleanup in __kernel_sigtramp().

commit 310d420ed0e68e187491c6b6712ae2db8c27e39a
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 17 20:27:36 2004 -0500

    [libata sata_sil] add post-set-mode hook to libata, use it
    
    Silicon Image has a register that indicates the data transfer mode
    (pio-old, pio-new, mdma or udma) that must be initialized after
    the SET FEATURES - XFER command has been issued.  This requires a
    hook in libata core to set the register at the right time.
    
    Also, limit to UDMA5 due to scary comments in FreeBSD about chip errata.

commit fd382b8faeec5e9f8be6b480c99ddfc883a7b7b0
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 17 19:35:04 2004 -0500

    [libata] API cleanup
    
    Remove ->phy_config hook, everybody used pata_phy_config.  Rename
    function to ata_set_mode, and directly call internally.

commit 45e791754958490b84ef5046f928854a33f7d9d4
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 17 19:21:25 2004 -0500

    [libata sata_sil] port init cleanup, mask SATA phy interrupts
    
    * don't define a constant for each of four sets of register block
      offsets, use a table instead.
    * mask all SATA phy interrupt events, for each port

commit 4b01f66c0e70136855630d5694a50e6f47a9b5e1
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 17 19:00:55 2004 -0500

    [libata] update dma start/stop path to only set/clear the bits we care about
    
    Legacy IDE software has traditionally unconditionally cleared the
    bits in the IDE BMDMA control register, but at least one controller
    has important bits in the 'reserved' area that we don't want to touch.
    So now, we only set/clear the data-direction and dma-start bits, and
    leave the rest alone.

commit 9dcb98f334a48cc83b9973bda39f7d407b1a80db
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 17 05:57:22 2004 -0800

    ia64: GCC v3.5 fixes.
    
    GCC v3.5 doesn't like it when a function gets cast to a
    function-pointer with a different signature.  In fact, it exterts
    extreme prejudice in this case and replaces the call-site with a call
    to __builtin_trap()!  Fix this by providing appropriately typed
    dummy-functions for the macvec operations as needed.
    
    While at it, also clean up some machvec handlers which weren't used anywhere.

commit 8754a8e2a9c7a7ad8c937efa7dee4ab18b59d33a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:48 2004 -0800

    [PATCH] ISDN kernelcapi notifier NULL pointer fix
    
    From: Armin Schindler <armin@melware.de>
    
    Fixed NULL pointer reference in recv_handler()

commit 3820421bc5446153962a13b771b8b67f2334d859
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:39 2004 -0800

    [PATCH] ISDN kernelcapi notifier workqueue re-structured
    
    From: Armin Schindler <armin@melware.de>
    
    Use the notifier workqueue in a cleaner way.

commit 9bab8e3ce40e69e27461a26feb20ba767f3b9375
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:29 2004 -0800

    [PATCH] ISDN kernelcapi debug message enable
    
    From: Armin Schindler <armin@melware.de>
    
    Show debug messages if debug is enabled only.

commit 1b8e3f2187f3e8227f5c4b47ab0dc038bc742a60
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:20 2004 -0800

    [PATCH] exportfs - Remove unnecessary locking from find_exported_dentry()
    
    From: "Jose R. Santos" <jrsantos@austin.ibm.com>
    
    After discussing it with Neil, he fell that the original justification for
    taking the kernel_lock on find_exported_dentry() is not longer valid and
    should be safe to remove.
    
    This patch fixes an issue while running SpecSFS where under memory
    pressure, shrinking dcache cause find_exported_dentry() to allocate
    disconnected dentries that later needed to be properly connected.  The
    connecting part of the code was done with BKL taken which cause a sharp
    drop in performance during iterations and profiles showing 75% time spent
    on find_exported_dentry().  After applying the patch, time spent on the
    function is reduce to <1%.
    
    I have tested this on an 8-way machine with 56 filesystems for several days
    now with no problems using ext2, ext3, xfs and jfs.

commit efbe9b14927b5eed083903357498c44edc7187b1
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:11 2004 -0800

    [PATCH] JBD: avoid panic on corrupted journal superblock
    
    Don't panic if the journal superblock is wrecked: just fail the mount.

commit 83a6b2ed506a41d6d196570d99807ea0e8c9e3a2
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:55:01 2004 -0800

    [PATCH] ppc64: CONFIG_PREEMPT Kconfig help fix
    
    From: Anton Blanchard <anton@samba.org>
    
    From: Robert Love <rml@ximian.com>
    
    arch/ppc64/Kconfig's entry for CONFIG_PREEMPT is missing the description
    after the "bool" statement, so the entry does not show up.
    
    Also, the help description mentions a restriction that is not [any longer]
    true.

commit d74f0f95c173bd9642458f2735263b5884d61a3b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:54:52 2004 -0800

    [PATCH] ppc64: xmon oops-the-kernel option
    
    From: Anton Blanchard <anton@samba.org>
    
    Sometimes we just want to pass the error up to the kernel and let it oops.
    X it is.

commit 62c2f7774254c5ea3fb28fa5b49e9c029d760263
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:54:42 2004 -0800

    [PATCH] ppc64: wrap some stuff in __KERNEL__
    
    From: Anton Blanchard <anton@samba.org>
    
    - remove now unused kernel syscalls.
    - wrap recently added defines in #ifdef __KERNEL__, fixes glibc
      compile issue
    - some of our extra syscalls used asmlinkage, some did not. Make them
      consistent

commit 6cfe07f447aeccdba96c497aef8432a789fbceb0
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:54:33 2004 -0800

    [PATCH] ppc32: Fix booting some IBM PRePs
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    The following patch comes from Paul Mackerras.  Earlier on in 2.6,
    arch/ppc/boot/utils/mkprep.c was changed slightly so that it would build
    and work on Solaris.  Doing this required changing from filling out
    pointers to an area to filling out a local copy of the struct.  However, a
    memcpy was left out, and the info is only needed on some machines to boot.
    The following adds in the missing memcpy and allows for IBM PRePs to boot
    from a raw floppy again.

commit af0d04800786d34b039f21e97cad30dc65a795af
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Mar 17 02:54:23 2004 -0800

    [PATCH] ppc32: fix SMP build
    
    From: Olaf Hering <olh@suse.de>
    
    Current Linus tree adds an extra space and dot to the mkprep options.
    `make all' with an smp config doesnt work.  This patch fixes it.

commit da8dd9377e817cca62b9e7d5bce557c2fe043683
Merge: 4d27418... 9df1b88...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 17 05:36:55 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 88c3cbad503cb69bc0c9222f919530f5589d410a
Merge: 4e0162b... 4bef417...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Wed Mar 17 02:28:22 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.6
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 4bef417215e8287ba5b816e855eab19e32c279fb
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Wed Mar 17 10:12:15 2004 -0500

    [PATCH] back out netdev_priv() for loopback
    
    Please apply this fix to backout an erroneous change in loopback.c
    The statistics structure is allocated separately from the
    loopback_dev structure, and the current code overwrites something
    other than the statistics.  In my case the scsi_cmd_pool structure.

commit 19250a63b7a925203be9bc45ae4bd65fc4405751
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 17 04:32:58 2004 -0500

    [netdrvr de2104x] initialize bus mode properly

commit afbd300723104d15af3bc0232201a6d582d3ce91
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Wed Mar 17 01:15:25 2004 -0800

    [TRIVIAL] Remove x86 instructions on alpha.
    From <adobriyan@mail.ru>.

commit e8ac3e32401962045f7f19815d11d8c00f61aa8a
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Wed Mar 17 01:11:34 2004 -0800

    [TRIVIAL] Miata url update.
    From: "Petri T. Koistinen" <petri.koistinen@iki.fi>

commit 164a137f92b8d7e551c9c9a0e8a8ffd0d942d70b
Author: Richard Henderson <rth@kanga.twiddle.home>
Date:   Wed Mar 17 01:06:15 2004 -0800

    [ALPHA] Fix build in alpha_ksyms.c.

commit 4e0162be4706b14129cd0f8e65399c75e93d778d
Merge: b18a990... 3e30e02...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Wed Mar 17 00:26:04 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 6617242965c1362e31faa437d2de4af56dc10b19
Author: Krzysztof Halasa <khc@pm.waw.pl>
Date:   Wed Mar 17 02:54:59 2004 -0500

    [netdrvr de2104x] fix ifup/down and promise mode
    
    The attached patch fixes the problem: de->macmode variable,
    meant to shadow MacMode (CSR6) register, was used inconsistently,
    causing some updates to this register to be dropped.
    
    2.4 kernel doesn't shadow this register at all, so I removed
    shadowing from 2.6 as well.

commit 75b662dc5cda1eafd664f9de2d82387340bb4171
Author: Keith Owens <kaos@sgi.com>
Date:   Tue Mar 16 23:28:48 2004 -0800

    [PATCH] ia64: force all kernel sections into one and the same segment
    
    Older versions of the linker do not handle cross-segment segment-relative
    relocations properly.  This becomes a real problem when the linker decides
    to put .text and .text.init into different segments (for whatever reasons)
    because in that case, broken linkers will produce a broken unwind section,
    which can cause nasty Heisenbugs, where, for example, unwinding may or may
    not work depending on the exact value of the IP in a function.

commit 0dd60aa9acbb16b5c779e97d3560fed5c738cefe
Author: Matthew Wilcox <willy@debian.org>
Date:   Tue Mar 16 23:25:47 2004 -0800

    [PATCH] ia64: kill unused ACPI configgery
    
    The config ACPI helptext isn't used because the option is never
    presented to the user.
    ACPI_KERNEL_CONFIG is unused.
    ACPI_INTERPRETER is now set in drivers/acpi/Kconfig.

commit 4aab6645f686fd55ffb4c673a195781034bfa5bc
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Tue Mar 16 20:53:09 2004 -0800

    [PATCH] ia64: init IO port space, IO accessors earlier
    
    This is a minor patch to get things setup so consoles can
    work earlier.  (No change to consoles here, I just split this
    out to make the diff easier to read.)
    
    (io_port_init): New function, same old code to setup ia64_iobase
    and legacy IO port space.
    (setup_arch): Call io_port_init() and machvec_init() as early as
    possible so consoles can work earlier.

commit 3e30e02651e6ea5cfa762bacd6f019c53a876f78
Merge: 9df1b88... 5acf03f...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Tue Mar 16 20:40:04 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit b18a9909c9e924ba6d304c2c54928e31487822dd
Merge: 9df1b88... 0b375cd...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 16 20:28:48 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.6/linux

commit 0b375cdba7e7079f27720daebff4b44738911df7
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 16 18:18:16 2004 -0800

    ia64: Prevent GCC from clobbering r13.  Found by Luming You.
    
    Without this change, GCC thinks it's OK to clobber r13.  It doesn't do it
    very often, but it's enough if it does it once and it turns out
    acpi_bus_receive_event() had code that would trigger this issue.
    Fix by declaring r13 as a global register variable.

commit 9df1b883697c2c7bc84b92a4a4e580e216b8ff99
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 17:54:01 2004 -0800

    [PATCH] ide-dma.c: remove unused/obsoleted code for hwif->mmio == 1
    
    All users of hwif->mmio correctly handle resources themselves
    (hwif->mmio == 2) so remove ide_mmio_dma() and ide_release_mmio_dma().

commit 4f25201a41f26a0e685d46c724d69a424ff1ca9d
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 17:53:52 2004 -0800

    [PATCH] remove AMIGA/MAC hacks from IDE resource handling code
    
    Nowadays buddha.c, gayle.c and macide.c handle resources themselves
    (hwif->mmio == 2).
    
    Acked by Geert.

commit 9319e75f50003c7fb56dda01a743a3fddeb94a17
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 17:53:42 2004 -0800

    [PATCH] remove ide_hwif_t->initializing
    
    It's write-only these days.

commit 028a7b08bcdf75e6670f60c7ad80a4aa3f7cf3b6
Author: Luis R. Rodriguez <mcgrof@studorgs.rutgers.edu>
Date:   Tue Mar 16 18:45:58 2004 -0500

    [wireless prism54] several minor updates
    
    Here is the ChangeLog:
    
    	* wireless/Kconfig: fix typos, add SMC2835W-V2
    	* islpci_hotplug.c: new version 1.1, authors list, and
    	module description updated appropriately
    	* isl_ioctl.c, islpci_dev.c,
    	islpci_eth.c, islpci_hotplug.c, islpci_mgt.c:
    	s/ndev->priv/netdev_priv(ndev)/g
    	* islpci_hotplug.c: Add PCI ID values for SMC2835W-V2 cardbus card
    	Patch by Manuel Lauss <manuel.lauss@fh-hagenberg.at>
    	* isl_38xx.[ch]: include firmware.h in header, remove
    	declaration of headers in c file. Fix compiler warnings.
    	* islpci_dev.c (islpci_alloc_memory),
    	* islpci_eth.c (islpci_eth_cleanup_transmit,
    	islpci_eth_transmit, islpci_eth_receive): deal with skb stray
    	pointer, declare NULL.
    	* isl_38xx.c: remove unecessary __KERNEL_SYSCALLS__ and
    	re-ordered headers per vger.kernel.org - liking.
    	* isl_ioctl.c, islpci_mgt.c: move from MODULE_PARAM to the new
    	module_param, which is type-safe. Includes the new
    	<linux/moduleparam.h>.
    	* isl_ioctl.c (prism54_[s|g]et_[maxframeburst|profile]): added.
    	Not adding ioctls as ajfa is working on moving current private ioctls
    	to subioctls.
    	* isl_oid.h (dot11_[maxframeburst|preamblesettings|
    	slotsettings|nonerpstatus|nonerpprotection]_t): added.
    	Note: more ioctls can be added here, I believe problems
    	with mixed modes can be pinpointed here, with these values.

commit 543b4e6608c03bf3592d0033b6856c62c83cd525
Author: Luis R. Rodriguez <mcgrof@studorgs.rutgers.edu>
Date:   Tue Mar 16 18:38:28 2004 -0500

    [wireless prism54] use netdev_priv() helper

commit fbbefbb86f011253a2da544eb2a51959c7cf487f
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 15:14:24 2004 -0800

    [PATCH] hpt366.c: PLL fix needed for some HPT374
    
    From: Boehm Olaf <olaf.boehm@lanner.de>
    From: Jindrich Makovicka <makovick@kmlinux.fjfi.cvut.cz>
    
    Wider range for 33MHz timing and PLL setup for HPT374
    (using the HPT370A timing table, as it is the same as
    used in the "opensource" driver by HighPoint).
    
    fixes bugzilla bugs #2209 and #2271

commit 89410c3e34154528660c5295df56ffa3c9959a3d
Author: Wojciech Cieciwa <cieciwa@alpha.zarz.agh.edu.pl>
Date:   Tue Mar 16 15:12:43 2004 -0800

    [PATCH] drivers/cdrom/cdu31a - wrong tmp_irq declaration
    
    cdu31a.c needs tmp_irq outside of the block it is declared in.  Move it
    to the outer block.

commit 1045108497366572f37da56d32b7b5accbbf0c8c
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:11:07 2004 -0800

    [PATCH] Fix x86_64 compile warning in bad_page()
    
    On x84_64, page->flags is no longer unsigned long.

commit ce5bc050468e3057da0703988303fc365274cf66
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:56 2004 -0800

    [PATCH] Remove old config options from defconfigs.
    
    From: Dave Jones <davej@redhat.com>
    
    These options are only ever referenced in the defconfigs of various archs
    now.

commit 9c6d7e9227b83c85b268369af828d01d5b69cfec
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:45 2004 -0800

    [PATCH] SHMLBA compat task alignment fix
    
    From: Arun Sharma <arun.sharma@intel.com>
    
    The current Linux implementation of shmat() insists on SHMLBA alignment even
    when shmflg & SHM_RND == 0.  This is not consistent with the man pages and
    the single UNIX spec, which require only a page-aligned address.
    
    However, some architectures require a SHMLBA alignment for correctness in all
    cases.  Such architectures use __ARCH_FORCE_SHMLBA.

commit 289b0e41fbcde9706029d39934c3f259d08eeeef
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:35 2004 -0800

    [PATCH] cpqarray: check pci_register_driver() return value
    
    From: <mikem@beardog.cca.cpqcorp.net>
    
    * Examines rc of pci_register_driver and returns

commit 13034f8277dab8cedfd5044a6ecfbf49bed3edfd
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:25 2004 -0800

    [PATCH] cpqarray: use PCI APIs
    
    From: <mikem@beardog.cca.cpqcorp.net>
    
    - Change to use pci APIs (change from 2.4.18 to 2.4.19)
    
      This also includes eisa detection fix during initialization which was
      missing from 2.4.19 but fixed in 2.4.25

commit 795c3847f7a9c379d7ee067906c7fda49eff819d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:16 2004 -0800

    [PATCH] cpqarray: I/O address fixes
    
    From: <mikem@beardog.cca.cpqcorp.net>
    
    * cpqarray in kernel 2.6.1 seems to be based from 2.4.18 kernel with
      specific 2.6.x stuff added.
    
    * Defines io_mem_addr and io_mem_length to replace ioaddr (change from
      2.4.18 to 2.4.19)

commit a1587fdef5a88b9fc3e57d997704a74c04b06cda
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:10:06 2004 -0800

    [PATCH] cpqarray: rmmod oops fix
    
    From: <mikem@beardog.cca.cpqcorp.net>
    
    * Fix for segmentation fault when calling rmmod

commit 032d931752120fe5cc32d192af6f815ca135ef05
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 18:10:03 2004 -0500

    [libata] Several updates to via driver
    
    * remove unneeded linux/config.h include
    * reset and test for device presence using SATA phy registers (SCRs)
    * add code to make sure that channels and interrupts we are
      interested in, are enabled
    * rewrite PCI probe routine (svia_init_one)

commit 96d169c2d4579743f3ef0b7d061c43489c812d01
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:57 2004 -0800

    [PATCH] cpqarray: increment version number
    
    From: <mikem@beardog.cca.cpqcorp.net>
    
    The following patch bumps the driver version to 2.6.0.  Please apply in
    order.

commit f8dde4454838e98289c8d6a13666606f86a3e699
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:48 2004 -0800

    [PATCH] devices.txt: add more devices
    
    From: "Cagle, John (ISS-Houston)" <john.cagle@hp.com>
    
    Patch 3 adds all the new official device registrations that weren't already
    there.  This brings devices.txt up-to-date with LANANA.

commit a74e11ffeda7bf04bbe43f90caefca6a92b552f4
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:38 2004 -0800

    [PATCH] devices.txt: typos and removal of dead devices
    
    From: "Cagle, John (ISS-Houston)" <john.cagle@hp.com>
    
    Patch 2 fixes some typos in devices.txt and removes ancient devices never
    used.  Pretty obvious stuff.

commit 60d9125bae0df245c68e20165e08c55d7d3e6849
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:29 2004 -0800

    [PATCH] clean up devices.txt
    
    From: "Cagle, John (ISS-Houston)" <john.cagle@hp.com>
    
    Patch 1 cleans up the format by making devices.txt easily parsable.
    Mainly this involved adding the word "block" after all the block major
    numbers since the previous format didn't include it.

commit f8c6db82691bc711dd8d411f24f5948c64fbb3d3
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:18 2004 -0800

    [PATCH] hugetlb_zero_setup() race fix
    
    Make the handling of the hugetlb-backed shm file's name counter SMP-safe.
    
    (What stops hugetlb_zero_setup() racing with umount?)

commit 7bfcc033a4ad70ca2860d824e54149d9606639d4
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:09:08 2004 -0800

    [PATCH] make config_max_raw_devices work
    
    From: "Kenneth Chen" <kenneth.w.chen@intel.com>
    
    Even though there is a CONFIG_MAX_RAW_DEVS option, it doesn't actually
    increase the number of raw devices beyond 256 because during the char
    registration, it uses the standard register_chrdev() interface which has
    hard coded 256 minor in it.  Here is a patch that fix this problem by using
    register_chrdev_region() and cdev_(init/add/del) functions.

commit a50d447d0a6098877e1a8b045ce31c1f212edaae
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:58 2004 -0800

    [PATCH] x86 vsyscall alignment fix
    
    From: Andy Whitcroft <andyw@uk.ibm.com>
    
    The vsyscall implementation for ia32 provides two different vsyscall pages;
    one to use int80 and the other to use sysenter.  Each includes a common
    signal trailer.  The kernel requires the alignment of routines in this
    trailer be consistent in both copies.  However this is not enforced at
    compile time.  Failure to maintain this alignment typically leads to an
    obscure SIGSEGV in init during boot.  This critical alignment requirement
    is not well documented.
    
    Below is a patch to better document the alignment requirements and to
    enforce the requirement.

commit 9797ead56840ca990be6de904f4c3e390230039e
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:48 2004 -0800

    [PATCH] s390: tape driver fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    tape driver fixes:
     - Link from ccw device to class device in sysfs.
     - Cosmetic changes.
     - Add copyright statements.

commit ed8e66bad0b0ec3d6d7871947c7bdb459fc89420
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:38 2004 -0800

    [PATCH] s390: z/VM monitor stream.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Fix for z/VM monitor stream:
     - Add try_module_get and module_put to the [un]register functions.
     - Some code beautification.

commit 97de3ddf7c8ac1c172fd36ed55163ae3373bf8c4
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:29 2004 -0800

    [PATCH] s390: dasd driver fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    dasd driver fixes:
     - Remove additional dasd attributes for a ccw-device if the discipline
       (=driver) gets unloaded.
     - Fix race of dasd_generic_offline against dasd_open.
     - Remove irq_exit calls from diag interrupt handler. The irq_enter/
       irq_exit is done in the external interrupt handler.

commit 86b75b47ff275825e73034d62eba63d74711f58a
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:18 2004 -0800

    [PATCH] s390: network driver fixes.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    network driver fixes:
     - Use SET_NETDEV_DEV to create the link from the network device to the
       physical device. Remove link from physical to network device.
     - Remove some unnecessary casts in netiucv.
     - Add missing strings to dev_stat_names & dev_event_names.
     - Add missing preempt_disable/preempt_enable pairs in iucv.
     - Allow to change the peer username in netiucv.

commit f0d23b91c3bc4c59c97ed9ab93a3f5f7fd863ef8
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:08:09 2004 -0800

    [PATCH] s390: sclp fix.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    sclp console fixes:
      - Replace irq_enter/irq_exit pair with Add local_bh_enable/local_bh_disable.

commit 5c1fa264425662808e9b4a048e3888109b35643d
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:59 2004 -0800

    [PATCH] s390: common i/o layer.
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Common i/o layer fixes:
     - Improve blacklist argument parsing.
     - Fix device recognition for devices where SenseID fails.
     - Don't try to set a device online that has no driver.
     - Chain a release ccw to the unconditional reserve ccw for forced online.
     - Fix irb accumulation for pure status pending with eswf set.
     - Fix rc handling in qdio_shutdown.
     - Improve retry behavious for busy conditions on qdio.
     - Fix activity check in ccw_device_start/read_dev_chars and read_conf_data.

commit a1366931eeb202a232761be2ecaa393aee39b83e
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:50 2004 -0800

    [PATCH] s390: core
    
    From: Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    s390 core changes:
     - Merge 31 and 64 bit NR_CPUS config option. Default to 32 cpus.
     - Remove unused system calls from compat_linux.c.
     - Add statfs64 and fstatfs64. Reserve system call number for
       remap_file_pages.
     - Merge do_signal32 into do_signal.
     - Don't remove the per bit and the program mask from the user psw
       due to a signal.
     - Fix a problem with gdb and interrupted system calls.
     - Fix single stepping of interrupted system calls.
     - Fix compiler warnings in bitops.h.

commit 8142773c091bf3562b7fee18d8d79170c4f90775
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:38 2004 -0800

    [PATCH] ppc64: run bitops.c through Lindent
    
    From: Anton Blanchard <anton@samba.org>
    
    bitops.c was a bit of a mess wrt formatting so run it through Lindent.  No
    code changes.

commit 2118a037b7d4d50d32eb30353d4f07c460258037
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:29 2004 -0800

    [PATCH] ppc32: Fix thinko in PCI_DMA_FOO to DMA_FOO conversion
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    When I converted the use of PCI_DMA_foo constants to DMA_foo constants, I
    forgot that it's PCI_DMA_FROMDEVICE and DMA_FROM_DEVICE.  The following
    fixes that.

commit ee80ca7c9ad99a9412a845b5710162551045415b
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:19 2004 -0800

    [PATCH] ppc32: Update <asm-ppc/dma-mapping.h>
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    include/asm-ppc/dma-mapping.h was made to be a 'real' header recently and
    therefore missed out on the updates that davem did to all of the other
    versions.  This updates <asm-ppc/dma-mapping.h> to match what's expected
    now.

commit ddcc6311ad74629f908c1073df84c5e2a9cced89
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:10 2004 -0800

    [PATCH] ppc32: Fix PCI DMA API changes
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    When Dave Miller updated <asm-ppc/pci.h> for the _for_device and _for_cpu
    portions of the PCI DMA API, he assumed that on PPC32 consistent_sync*
    would also need to be changed for device or cpu.  This is not the case, so
    what this does is the pci_*_for_{cpu,device} calls call
    consistent_sync{,page} again.

commit 10e50a68e59b8324f6ee8f623a18bdc4f0642a00
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Mar 16 15:07:00 2004 -0800

    [PATCH] ppc32: Fix c&p error in arch/ppc/syslib/indirect_pci.c
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    Fix a cut & paste error in forward porting from 2.4, we don't reference
    dev->bus or dev->devfn, both are passed as arguments.

commit 4d2741845d7167c8b46301b2f66219959a38fc13
Merge: 9057c99... 0e559f5...
Author: Len Brown <len.brown@intel.com>
Date:   Tue Mar 16 14:45:57 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 0e559f50d3b00a441de7e652238cc17d7cbb8b80
Author: Len Brown <len.brown@intel.com>
Date:   Tue Mar 16 14:44:22 2004 -0500

    [ACPI] check "maxcpus=N" early -- same as NR_CPUS check.
    http://bugzilla.kernel.org/show_bug.cgi?id=2317
    
    When the BIOS enumerates physical processors before logical,
    maxcpus=N/2 will now effectively disable HT.
    
    This can be verified by boot messages warning that HT is off:
    eg. "maxcpus=2" on a 2xHT system:
    
    Total of 2 processors activated (11141.12 BogoMIPS).
    WARNING: No sibling found for CPU 0.
    WARNING: No sibling found for CPU 1.

commit 9392fff1b5029295e92dba7a6243ad582f365c33
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 12:01:28 2004 -0500

    [libata sata_vsc] minor cleanup
    
    Add ULL prefix to args in pci_*_set_dma_mask() calls.

commit 08fec73685984db07b4bd19179fa0be0da7d61bb
Merge: a44059c... 387d440...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Tue Mar 16 04:54:57 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit a44059c53f19dca59c3023a8bb5232db16ab8e79
Author: Andi Kleen <ak@suse.de>
Date:   Tue Mar 16 04:53:43 2004 -0800

    [PATCH] Fix memory corruption on hyperthreaded x86-64 machines
    
    Fix memory corruption in the HT init on x86-64 recently introduced by me.
    
    Fix from from Suresh B. Siddha.

commit 253112b407117fb65115192d165a429ad6340e71
Author: Chen Yang <chyang@clusterfs.com>
Date:   Tue Mar 16 04:53:34 2004 -0800

    [PATCH] Make intermezzo work again
    
     - Chen Yang's fix to work with NGROUPS
     - Chen Yang's fix to handle file deletion
     - Remove TCGETS handling and return  -ENOTTY for unknown ioctl code.
     - Removed InterMezzo from BROKEN state

commit 2bb0a0bb954814153aa6ef34c22aaa38d53df907
Author: Ralf Bchle <ralf@linux-mips.org>
Date:   Tue Mar 16 06:02:52 2004 -0500

    [hamradio 6pack] cleanup

commit 387d440744c2eb1c8fd4af260aee67bbb73eb574
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 06:02:01 2004 -0500

    [blk carmel] call del_gendisk(), if disk is 'up', at cleanup time

commit 9cb5a22bb4be717c0e41b5c410968abe040126ff
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Mar 16 02:54:46 2004 -0800

    [PATCH] fix ppc rtas compile
    
    The proc_rtas_init call in procfs was removed (replaced with an
    initcall) but the prototype was still hiding. Kill it.

commit f2710107040014ba07a85e6e8bd16e57d2dfcc92
Author: Matt Mackall <mpm@selenic.com>
Date:   Tue Mar 16 05:36:03 2004 -0500

    [PATCH] fix netpoll warning in tulip
    
    On Tue, Mar 16, 2004 at 12:36:02PM +0200, Meelis Roos wrote:
    > FYI: with netpoll configured out, I get
    >
    >   CC [M]  drivers/net/tulip/tulip_core.o
    > drivers/net/tulip/tulip_core.c:256: warning: `poll_tulip' declared `static' but never defined

commit b5dbe647d464e6f95ec05002a333e1bccae69304
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Tue Mar 16 05:35:54 2004 -0500

    [PATCH] update e100.txt
    
    * e100.txt needs to refer to the v3 driver and its settings.
      Spotted by Calum Mackay [calum.mackay@cdmnet.org]

commit e80d89c40709b1830f314920d8a73d9df475c04b
Merge: e8c5129... a77fc91...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 05:17:50 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/net-drivers-2.6

commit a77fc913fb48d8b9402f66acc8a16115f61b3777
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 05:15:18 2004 -0500

    [netdrvr natsemi] Fix RX DMA mapping
    
    RX skbs are always considered maximally sized, until actual reception
    of the RX frame occurs.  So, update this driver to always map and
    unmap a maximally sized skb.  This fixes this driver on several
    non-x86 platforms.

commit fdd3e3e83df793e7c041338e94c8626a243f69db
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 00:47:04 2004 -0800

    [PATCH] hpt366.c: DMA timeout fix for HPT374
    
    From: Andre Hedrick <andre@linux-ide.org>
    
    Tested on Epox 8K9A3+ and 4PCA3+ by Tomi Orava <Tomi.Orava@ncircle.nullnet.fi>.

commit 654664f07ba36833c595a7431d0bdfd2d2267385
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 00:46:50 2004 -0800

    [PATCH] ATI IXP IDE support
    
    It was tested by a few people and has been in -mm since 2.6.4-rc2-mm1.

commit 98b547926385d9a5cb9e1413cacffcacb869eaac
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 00:46:39 2004 -0800

    [PATCH] remove dead "hdXlun=" kernel parameter

commit 54cdbb65405e1fbe1b7f5ca6a59169018c062729
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Tue Mar 16 00:46:25 2004 -0800

    [PATCH] ide-scsi.c: fix ATAPI multi-lun support
    
    ATAPI multi-lun support has been broken for a long time.
    
    It used to be that "(drive->id->last_id & 0x7) + 1" was used as
    shost->max_lun and the "hdXlun=" kernel parameter could be used to
    override this value.
    
    However it was far from optimal:
    - people played with "hdXlun=" and then complained about multiple instances
      of the same device (most ATAPI drives respond to each LUN)
    - probably some devices return 7 not 0 in id->last_id (=> 7 x same device)
    
    This patch from Willem Riede <wrlk@riede.org> fixes it w/o need
    for "hdXlun=" option.  It was tested by Willem on ATAPI PD/CD drive.

commit 3da04c35902148897b7d5d890bbd47f73f198b82
Author: Rusty Russell <rusty@rustcorp.com.au>
Date:   Tue Mar 16 00:38:36 2004 -0800

    [PATCH] wait_task_inactive should not return on preempt
    
    wait_task_inactive is now only used in two non-time-critical places: the
    ptrace code to guarantee a schedule and kthread_bind so we can change
    the thread CPU.  Unfortunately with preempt, the code as stands has a
    race: we might return because the thread is preempted, not because it
    actually reached schedule().  The ptrace code (probably) doesn't care,
    but the kthread code does.
    
    This patch simplifies the (now over-optimized) code, and does a yield()
    for the preemption case.

commit 84d2b9a7b4f5e7d9854990fc322d38650b753866
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 16 02:30:29 2004 -0500

    [blk carmel] add copyright statement and license mention

commit a137983b764254ae6ffa1ce16b388082b56e59ae
Merge: 1326468... da53a89...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 15 22:57:47 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/usb-2.6

commit 132646820664756732f453af5834e3d68edf449e
Author: Jeremy Katz <katzj@redhat.com>
Date:   Mon Mar 15 22:44:49 2004 -0800

    [PATCH] Fix blkpg ioctl32 handling
    
    Simple obvious patch so that all calls to blkpg from the non-native
    environment don't get -EINVAL

commit 6f3f31b33b39ad2068e218f573193719bd42ad74
Merge: 51e3d7f... e80d89c...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 20:50:18 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 51e3d7fb1349521dfefa297d1d5838c25593ada7
Merge: 065f9b8... 84d2b9a...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 20:49:33 2004 -0800

    Merge bk://gkernel.bkbits.net/misc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 065f9b8487fe3c9364be9ebb9a8d3adc8bbe708d
Merge: ea1c2f1... 8eec259...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 20:48:47 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit ea1c2f10ddf6e5ed6704980e4d34f45b4dc5c3cb
Merge: 933efea... 0af1515...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 20:48:02 2004 -0800

    Merge http://jfs.bkbits.net/linux-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 933efea892beda862f793ef59fd6c805ef2755ec
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Tue Mar 16 02:02:51 2004 -0600

    JFS: zero new log pages, etc.

commit 0af151571bfdf280d4a1a899029a32cfd0594e03
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 20:44:45 2004 -0800

    Remove bogus linux/irq.h include that fails build on ARM.
    
    Verified to not break anything on x86 either.

commit 5acf03f816aaf90b0f6dcb5422bc15d3f0fb5fba
Author: Art Haas <ahaas@airmail.net>
Date:   Mon Mar 15 19:55:27 2004 -0800

    [IPVS]: Add C99 initializers to net/ipv4/ipvs/ip_vs_lblcr.c

commit 25d29cd864958431f22ce2d6fad38527a37e108c
Author: Art Haas <ahaas@airmail.net>
Date:   Mon Mar 15 19:54:39 2004 -0800

    [IPVS]: Add C99 initializers to net/ipv4/ipvs/ip_vs_lblc.c

commit 0cae175749f8bc6b35da2d709c94d1701944df2f
Author: Art Haas <ahaas@airmail.net>
Date:   Mon Mar 15 19:53:40 2004 -0800

    [IPVS]: Add C99 initializers to ip_vs_ctl.c

commit da53a89c9ceeda1e22a26f4378bf0628411fbed5
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 15 19:28:52 2004 -0800

    [PATCH] USB: replace kobject with kref in usb-serial core.
    
    This saves some memory and is easier to understand what is happening.

commit e8c51293c6ab5487d7cf0c92e30a98345f7f3c49
Merge: 51cbfa0... 1b811d9...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 18:44:40 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 1b811d97fb75f3dfdd7183494fb6629275e81f45
Author: Bjorn Helgaas <bjorn_helgaas@hp.com>
Date:   Mon Mar 15 18:22:41 2004 -0800

    [PATCH] ia64: fix up DMA API breakage in generic build
    
    We also need the following patch to build the generic_defconfig
    after the DMA API change:
        http://linux.bkbits.net:8080/linux-2.5/cset@405490e15inT3T0H2x887j9SaMkYRQ

commit dd471fb21291f0f302d2a8524b4bed7f36bdbdca
Merge: 1b2ed5b... 731ea3e...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 15 18:14:07 2004 -0800

    Merge kroah.com:/home/linux/BK/bleed-2.6
    into kroah.com:/home/linux/BK/usb-2.6

commit 51cbfa046abf819c725fb29ef3b9bba8bcc47da7
Merge: 1b2ed5b... 9c930c3...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 16:07:17 2004 -0800

    Merge bk://kernel.bkbits.net/vojtech/input
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 9c930c3fb6065c70380966898b276259fdcbae8b
Merge: be7b819... b1f6b5a...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Mar 16 13:31:31 2004 +0100

    Merge bk://dtor.bkbits.net/input into suse.cz:/data/bk/input

commit be7b81930881facd50767fb7d1d55987d1c0498b
Merge: d3fdc9a... bf9b7f7...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Mar 16 13:10:38 2004 +0100

    Merge suse.cz:/data/bk/linus into suse.cz:/data/bk/input

commit 1b2ed5b74904b6d1540efdd0bd08022765dc292a
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Mar 15 15:51:27 2004 -0800

    [PATCH] allow random write to cdrom devices with profile 2 (removable disk)
    
    This patch is from Iomega, and it allows random write opens of CDROM's
    that support the feature.

commit 48a6c2a947c15b9b8289f1e3092ce064d0e21b50
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:29:37 2004 -0800

    [PATCH] ppc64: fix for massive OF properties
    
    From: Anton Blanchard <anton@samba.org>
    
    We have some versions of firmware out there that have huge OF properties.
    So huge that we end up overwriting our initrd.
    
    Place a 1MB limit and warn bitterly if its over this.  Also fix a use of
    package-to-path where the variable was 64bytes but we would pass in a
    length of 255.

commit 3680d636994febafee9ef288c81e9e0b6d9b5d3b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:29:25 2004 -0800

    [PATCH] ppc64 defconfig update
    
    From: Anton Blanchard <anton@samba.org>
    
    ppc64 defconfig update

commit c7e74ca2f09c682535cd2874085f534efd35c6f5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:29:15 2004 -0800

    [PATCH] Fix hvc console sleep in spinlock bug
    
    From: Jeremy Kerr <jk@ozlabs.org>
    
    This patch fixes the sleep in spinlock hvc bug in hvc_write().
    
    The code is a little longer, but protects against large amounts of memory
    being kmalloc()ed by userspace, and minimises calls to copy_from_user().

commit 824315d917587b0d645602f9eb7be873abb48d36
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:29:03 2004 -0800

    [PATCH] Clean up xmon backtrace code.
    
    From: Anton Blanchard <anton@samba.org>
    
    Clean up xmon backtrace code, it was doing all manner of scary things.

commit 30ffc51d71e3fb1a9452db2598e0bd11bfe4e847
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:28:51 2004 -0800

    [PATCH] Cleanup ppc64 procfs code
    
    From: Anton Blanchard <anton@samba.org>
    
    Cleanup ppc64 procfs code:
    
    - Use initcalls everywhere. This allowed us to remove the iseries proc
      callback interface.
    - Kill proc_pmc.c. Most of it wasnt used (and we are planning to export the
      PMCs via sysfs). The few things left were iseries specific so they
      got moved into iSeries_proc.c.
    - Kill pmc.c. We dont use those statistics and the ones that are left
      can be gained via PMCs.
    - Create /proc/iSeries and /proc/ppc64 very early. This means we no
      longer have to call proc_ppc64_init in all the drivers, we can
      assume its there.
    - Fix some error return cases in rtas-proc.c and rtas-flash
    - Dont even try some pseries specific drivers on pmac.

commit 7836b8276d1ed64dd1e966432effc546b3333eac
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:28:37 2004 -0800

    [PATCH] Add kernel version to oops.
    
    From: Anton Blanchard <anton@samba.org>
    
    Add kernel version to oops.

commit 98102bc1182f84bf2df6d1c9a5220de80fa0b551
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:28:25 2004 -0800

    [PATCH] Fixed NULL ptr deref in RTAS syscall ppc_rtas()
    
    From: John Rose <johnrose@austin.ibm.com>
    
    Fixed NULL ptr deref in RTAS syscall ppc_rtas()

commit e1297b9619f784c74da27ebd802394b07dd3c289
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:28:13 2004 -0800

    [PATCH] Added rtas_set_power_level()
    
    From: John Rose <johnrose@austin.ibm.com>
    
    Added rtas_set_power_level()

commit 323a26b18b4ad375d3950ade7094bd596cd96e74
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:28:03 2004 -0800

    [PATCH] Remove pci DMA exports
    
    From: Anton Blanchard <anton@samba.org>
    
    Remove pci DMA exports we now access them via inline functions that
    operate on pci_dma_ops.

commit fb9166c92486895ff69bc7dec7ce94dcb948e8ef
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:27:52 2004 -0800

    [PATCH] Dont enable interrupts during interrupt processing on iseries
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    Dont enable interrupts during interrupt processing on iseries

commit 6906cc824ea3b8b9c3ee915f82721a988baeb3d1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:27:40 2004 -0800

    [PATCH] Add slow path lookup in xics_get_irq
    
    From: Jake Moilanen <moilanen@austin.ibm.com>
    
    In xics_get_irq(), for a real-to-virt irq lookup, go down the
    slowpath by looking through the entire virt_irq_to_real_map array
    if take a miss on the radix tree.  This is possible, when an
    interrupt is taken before the driver has called request_irq() (eg IDE).

commit 93524205774db78d311d515ed76bead3b52c9ef0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:27:28 2004 -0800

    [PATCH] Export find_next_bit
    
    From: Anton Blanchard <anton@samba.org>
    
    - export find_next_bit and move the other exports here
    - fix a few minor style issues

commit b509e70010b89884eb1a87618d6d562d91e45372
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:27:18 2004 -0800

    [PATCH] update iseries default target
    
    From: Anton Blanchard <anton@samba.org>
    
    update iseries default target

commit 4a280fe5e75dce56464d8bed0a61f26328a73789
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:27:05 2004 -0800

    [PATCH] Move iSeries specific EXPORT_SYMBOLs out of ppc_ksyms.c
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    After this the only iSeries specific EXPORT_SYMBOLS in ppc_ksyms.c are
    the assembler ones ...

commit 41052e9a73aaa188e20e33dcfaaafe9bd0ed4a17
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:26:54 2004 -0800

    [PATCH] Add some functions to make vio.h consistant with pci_dma.h and dma_mapping.h
    
    From: Dave Boutcher <boutcher@us.ibm.com>
    
    Add some functions to make vio.h consistant with pci_dma.h and dma_mapping.h

commit eecd3bdba17960dd9c44cc4c3f1f80fa1baa4524
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:26:41 2004 -0800

    [PATCH] Fix xics IRQ affinity
    
    From: Anton Blanchard <anton@samba.org>
    
    - Merge some whitespace differences with the ameslab tree
    - We check for CPU_MASK_ALL in xics to send irqs to all cpus.
      In some cases CPU_MASK_ALL is smaller than the cpumask (eg
      NR_CPUS == 32 and cpumask is a long), so we mask it here to
      be consistent.

commit 09cce79cae5fca1f6595ba4a02d1bc3fee620887
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:26:29 2004 -0800

    [PATCH] Fix multiple EEH-related bugs
    
    From: Linas Vepstas <linas@austin.ibm.com>
    
    This patch fixes multiple EEH-related bugs:
    
     - Fixes the eeh_check_failure() usage in an interrupt context.
       This routine is now safe to use in an interrupt. The fix was to
       build a cache of IO addresses and check that, instead of using
       the pci routines.
     - Merges in Olof Johansson's sizeof patch when checking for failure
     - Adds EEH tests to array/string reads
     - Fixes bugs with address resolution (some i/o addresses were handled
       incorrectly, resulting in EEH errors slipping by undetected.)
     - Adds EEH support to the PCI Hotplug system (so that devices that
       get added/removed get properly registered with the EEH subsystem.)
     - Fixes improper use of /proc filesystem.
     - Adds some misc statistics.
    
    While merging Linas' patch I also converted the proc usage to
    seq_single, used per cpu variables for the stats and removed the
    eeh-force-off option.

commit 0e1311b1481eed0a42c0a60b3096f4909fe3a7c5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:26:19 2004 -0800

    [PATCH] Fix for hotplug of multifunction cards.
    
    From: Linda Xie <lxiep@us.ibm.com>
    
    The changes in this patch are for multifunction cards insertions/removals
    and  bug fixes:
    
    1. fix up new nodes' linux_phandle field.
    2. new nodes' phb, devfn(and so on) need to be fixed even the nodes don't
    	have "interrupts".
    3. change of_remove_node to non-recurisve func. The recursions will be done
    	by the caller.
    4. add a new function -- of_finish_dynamic_node_interrupts()

commit 9fe46cd9341cab0b3a5f8b9b1f848fcfc2bd23b1
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:26:08 2004 -0800

    [PATCH] Add some missing EXPORT_SYMBOLs
    
    From: Anton Blanchard <anton@samba.org>
    
    Add some missing EXPORT_SYMBOLs

commit b97e20889b08462c15d3366066d180cceba073da
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:25:57 2004 -0800

    [PATCH] Handle longbusy return codes in IBM VETH driver
    
    From: Santiago Leon <santil@us.ibm.com>
    
    Handle longbusy return codes in IBM VETH driver

commit 927078c6fd4beaae44ace7c2a5c3a9556d4ebdb9
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:25:46 2004 -0800

    [PATCH] Add hypervisor busy return codes
    
    From: Dave Boutcher <boutcher@us.ibm.com>
    
    Add hypervisor busy return codes

commit 13bb399540b8e9d4ac56cc540c95b20a14bcbdd7
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:25:35 2004 -0800

    [PATCH] Make dma API handle PCI and VIO
    
    From: Stephen Rothwell <sfr@canb.auug.org.au>
    
    Make dma API handle PCI and VIO

commit 5c803b43c89463174cfeaa31eab3062541f99e8c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:25:22 2004 -0800

    [PATCH] Remove some unused ppc64 variables
    
    From: Anton Blanchard <anton@samba.org>
    
    Remove some unused ppc64 variables

commit be5230447197315178fcab394c987fce965f4a69
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:25:10 2004 -0800

    [PATCH] Remove bogus sys_oldumount sign extension code
    
    From: Anton Blanchard <anton@samba.org>
    
    Remove bogus sys_oldumount sign extension code. We were sign extending
    the flags argument which doesnt make sense.

commit 63477af1ab5290236e64f2022b331d1e54526b70
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:24:59 2004 -0800

    [PATCH] Reduce stack overflow check to 4096 bytes
    
    From: Anton Blanchard <anton@samba.org>
    
    Reduce stack overflow check to 4096 bytes free, we were tripping it
    too much at 8192.

commit 14c781b8aa2c198346a96ecdba52d1b33440ec7d
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:22:49 2004 -0800

    [PATCH] iostats averaging fix
    
    From: Rick Lindsley <ricklind@us.ibm.com>
    
    Fix bug #2230.
    
    I've corresponded with the submitter and he did find a real bug -- when we
    were merging I/O requests we didn't always take the oldest request start
    time, which would cause a couple of the calculations like wait time and
    average queue size to be too small.  He found it mathematically but having
    done so, I think logic and inspection makes it easy to verify.

commit 01003a6ea04d265de362da5e52f45980718f7d49
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:22:38 2004 -0800

    [PATCH] blk: statically initialise the congestion waitqueue_heads
    
    On a really small memory machine (or one with a monstrous kernel memory leak)
    we can end up calling blk_congestion_wait() before the waitqueue_heads are set
    up.

commit aae898de91bd2396c5933b2674bcaf9b70783763
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:22:26 2004 -0800

    [PATCH] kill INIT_THREAD_SIZE
    
    From: Matt Mackall <mpm@selenic.com>
    
    This piece of the THREAD_SIZE cleanup got dropped.  If you make THREAD_SIZE
    > 8k, the init thread overlaps the .init section and gets smashed.  I've
    gone ahead and killed INIT_THREAD_SIZE throughout as it wasn't doing much.
    This also saves 4k when we use 4k stacks.  Please apply.  Couple more minor
    pieces remaining.

commit cd74e1dcb5fd9d6775de1c78f9fd2740d0bdde0c
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:22:15 2004 -0800

    [PATCH] kthreads hold files open
    
    keventd and friends are currently holding /dev/console open three times.
    It's all inherited from init.
    
    Steal the relevant parts of daemonize() to fix that up.

commit dac109072d5cb3e95e13fc521e58db6c07b268a9
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:22:03 2004 -0800

    [PATCH] slab: fix display of object length in corruption detector
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    print_objinfo() dumps the first few characters of an interesting object for
    debugging.  It used the wrong object len (including debug padding, instead
    of just the data area), which could cause an oops if DEBUG_PAGEALLOC is
    enabled.

commit 5c5fbdbeb327868d5f9ae443c0d7c644ff64cd19
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:21:52 2004 -0800

    [PATCH] document unchecked do_munmaps in ipc/shm.c
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    There are a few unchecked do_munmap()s in the shm code.  Manfred's comment
    explains why they are OK.

commit 055a54db84e0de74b0b70bb78836355c4bde2865
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:21:39 2004 -0800

    [PATCH] do_write_mem() return value check
    
    From: BlaisorBlade <blaisorblade_spam@yahoo.it>, and me
    
    - remove unused `file *' arg from do_write_mem()
    
    - Add checking for copy_from_user() failures in do_write_mem()
    
    - Return correct value from kmem writes() when a fault is encountered.  A
      write()-style syscall's return values are:
    
       0 when nothing was written and there was no error (someone tried to
       write zero bytes)
    
       >0: the number of bytes copied, whether or not there was an error.
       Userspace detects errors by noting that the write() return value is less
       than was requested.
    
       <0: there was an error and no bytes were copied

commit f581e4e5ccd4a65fad05a9e5f0accde0cabff975
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:21:28 2004 -0800

    [PATCH] resierfs: AIO support
    
    From: Chris Mason <mason@suse.com>
    
    reiserfs can safely use the generic fs aio functions.

commit 3cde9135937c33237e7236e801e91e5e9f0f0184
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:21:18 2004 -0800

    [PATCH] reiserfs: atomicity fix
    
    From: Chris Mason <mason@suse.com>
    
    reiserfs_file_write() can use stale metadata after a schedule.
    
    Two reiserfs_file_write bugs, where items can change during a schedule.

commit 134ab3f566c8a6b595d7d6566e4a312597b0e39a
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:21:05 2004 -0800

    [PATCH] reiserfs: fix transaction sizes
    
    From: Chris Mason <mason@suse.com>
    
    Make sure reiserfs uses a reasonable number when restarting long unbounded
    transactions (creating holes or deleting files).
    
    Without this patch, the number of blocks requested grows with each
    transaction restart, until it hits MAX_BATCH_COUNT and starts forcing
    commits with every new transaction.
    
    Oleg Drokin tracked this bug down

commit df773a2c166bfe40713361a98c6974bd5f135aeb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:20:54 2004 -0800

    [PATCH] reiserfs: search_by_key fix
    
    From: Chris Mason <mason@suse.com>
    
    Fix a bug in reiserfs search_by_key call, where it might not properly
    detect a change in tree height during a schedule.  Originally from
    vs@namesys.com

commit 83e830d0e625adebde491e9a7b35b7b99a2c2f8f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:20:41 2004 -0800

    [PATCH] resierfs: scheduling latency improvements
    
    From: Chris Mason <mason@suse.com>
    
    Add conditional schedules to reiserfs to help lower latencies.  Bits of
    this orginated long ago in code akpm sent me.

commit 82106056fd15a6cff965ff4cba5558596f3bb4e7
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:20:29 2004 -0800

    [PATCH] reiserfs: fix null pointer deref
    
    From: Chris Mason <mason@suse.com>
    
    From: Jeff Mahoney <jeffm@suse.de>
    
    fsstress manages to setup a sequence of events that allow an attempt to
    perform direct-io on a tail.  bh_result->b_page == NULL, which causes the
    PageLocked and PageWriteback checks to perform a NULL deref, causing the
    oops.

commit d41853b141c40567134aff04b4a4c21210daa9bb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:20:17 2004 -0800

    [PATCH] kernel-doc build fix
    
    From: Michael Still <mikal@stillhq.com>
    
    This is needed to get any of the SGML documentation to build with 2.6.4.

commit fae3a0e9481e5aefef51f5abfd218aafa6179577
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:20:05 2004 -0800

    [PATCH] fbdev: character drawing enhancement.
    
    From: James Simmons <jsimmons@infradead.org>
    
    This patch merges two of the drawing functions.  The patch uses aligned
    transfers when possible even on displays where the characters are not byte
    align.  Tested on my my laptop for 12 bit width fonts and 8 bit wide fonts.
    It works very nicely.

commit 54c50cc551c418eeb8ec135428dbe0165d3cdcd0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:19:52 2004 -0800

    [PATCH] page_referenced() simplification
    
    There's no point in calling mark_page_accessed() here.  The page is never on
    the LRU so all mark_page_accessed() will do is to set PG_referenced, which we
    immediately clear again.

commit 2139597d56ba1bcc7348a0f71716f9dcfbdcb848
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:19:41 2004 -0800

    [PATCH] flush_workqueue(): detect excessive nesting
    
    Add a debug check for workqueues nested more than three deep via the
    direct-run-workqueue() path.

commit b9b52730c0c103b677e29e723ce0db878003d496
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:19:29 2004 -0800

    [PATCH] flush_scheduled_work() deadlock fix
    
    Because keventd is a resource which is shared between unrelated parts of the
    kernel it is possible for one person's workqueue handler to accidentally call
    another person's flush_scheduled_work().  thockin managed it by calling
    mntput() from a workqueue handler.  It deadlocks.
    
    It's simple enough to fix: teach flush_scheduled_work() to go direct when it
    discovers that the calling thread is the one which should be running the
    work.
    
    Note that this can cause recursion.  The depth of that recursion is equal to
    the number of currently-queued works which themselves want to call
    flush_scheduled_work().  If this ever exceeds three I'll eat my hat.

commit e6c51795efa014a7c0ce4a2e82d7598b57e1542b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:19:18 2004 -0800

    [PATCH] selinux: fix compute_av bug
    
    From: Stephen Smalley <sds@epoch.ncsc.mil>
    
    This patch fixes a bug in the SELinux compute_av code; the current code
    yields the right access computation but can cause unnecessary (but
    harmless) processing to occur when transition permission wasn't granted in
    the first place by the TE configuration.  Thanks to Chad Hanson of TCS for
    reporting the bug.

commit 4a1168133703a3132e104f99ed8dbe393e2983ad
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:19:07 2004 -0800

    [PATCH] kbuild: fix modpost when used with O=
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    modpost or to be more specific sumversion.c was not behaving correct when
    used with O= and MODULE_VERSION was used.  Previously it failed to use
    local .h when calculation the md-sum in case of a O= build.
    
    The following patch introduces the following:
    
    - A generic get_next_line()
    
    - Check that the topmost part of the directory matches
    
    - Using strrch when checking for file with suffix .o
    
    - Use NOFAIL for allocations in sumversion
    
    - Avoid memory leak in new_module
    
    The generic get_next_line will pay off when Andreas implmentation of
    storing symbol addresses in a seperate file is introduced.

commit 2d86075a5d9145a177dd216d785f55b0c67a3569
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:18:55 2004 -0800

    [PATCH] fix modular fb drivers
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    The recent "fbdev: monitor detection fixes" patch broke modular frame
    buffer drivers.

commit 180ee04388ad7eda289e7b712d9214e1a85e5fd0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:18:45 2004 -0800

    [PATCH] move PCIBIOS access help text
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    Moves PCI BIOS Access Mode help text to its top level instead of under
    PCI_GOBIOS (which is only 1 of 4 possible choices).

commit 75fac6ddaee45fc144a4c161efc642e12d4bdcea
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:18:33 2004 -0800

    [PATCH] drivers_cdrom_cdu31c.c check_region() fix
    
    From: <viro@parcelfarce.linux.theplanet.co.uk>
    
    check_region() fixes.

commit 8fa38bc3653f0b3b17a4fce4a815127fb240f2b4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:18:22 2004 -0800

    [PATCH] add warning to DocBook/Makefile
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  maximilian attems <janitor@sternwelten.at>
    
    Print something friendlier than:
    
    /bin/sh: fig2dev: command not found
    make[1]: *** [Documentation/DocBook/parport-share.eps] Error 127
    make: *** [pdfdocs] Error 2

commit 02a1bef0d8d197d385345612d78f979144dcc0d5
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:18:09 2004 -0800

    [PATCH] Fix comment in drivers/block/genhd.c
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  a.othieno@bluewin.ch (Arthur Othieno)
    
    add_gendisk() was replaced with add_disk(), but the comment suggests
    otherwise.  Breaks `make *docs'.

commit 8248abaa968b1470f2ec7c6715f79304266de62b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:58 2004 -0800

    [PATCH] minor credits updates
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  andersen@codepoet.org
    
    I've moved...  This patch updates my contact info.

commit d2d0b6093bba199c311ce0fc7f22dc96670e3663
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:48 2004 -0800

    [PATCH] chardev module aliases
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From: Steve Youngs <sryoungs@bigpond.net.au> Add module aliases for 21285,
    amba, anakin, clps711x, mux, and sa1100 serial drivers.

commit 332c8c22d28f9207b8fbad982ff4df5a3a63bc81
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:35 2004 -0800

    [PATCH] Fix scripts/ver_linux
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Thomas Molina <tmolina@cablespeed.com>
    
    ver_linux hasn't displayed binutils version right for some time.  This patch
    corrects that and preserves the old behaviour as well, as suggested by Rusty.

commit a8b9e8d75c37eb5a9212007670512dde7006c0e3
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:23 2004 -0800

    [PATCH] fix for kallsyms module symbol resolution problem
    
    From:  Rusty Russell <rusty@rustcorp.com.au>
    
    Fix a problem with kallsyms being unable to look up symbols which are in
    modules.
    
    add_kallsyms should be above module_finalize, which means you can just use
    the mod->symtab and mod->strtab members.

commit bffb0b0ab58217eeca779615d039a98733bed964
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:12 2004 -0800

    [PATCH] filemap.c comment fix
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Carl Spalletta <ioanamitu@yahoo.com>

commit 52e01e040189c8b93630fe4bef28ba598a684836
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:17:01 2004 -0800

    [PATCH] rename one of the acpi_disable() instances
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Pavel Machek <pavel@ucw.cz>
    
    There's acpi_disable somewhere in the acpi interpreter (it disables
    interrupts, iirc).  Thus blacklisting function needs better name.

commit 5164210d433d8568f3e7ff69bf6b9050b756a19b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:16:48 2004 -0800

    [PATCH] drivers_cdrom_sjcd.c check_region() fix
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Omkhar Arasaratnam <omkhar@rogers.com>

commit e5804aa47e89d722e248af0a63ee732c5756ec60
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:16:38 2004 -0800

    [PATCH] Document tricks to get S3_swsusp working
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Pavel Machek <pavel@ucw.cz>
    
    I was sending this to users that had problems with swsusp, then lost it.  It
    would be nice to have it directly in the tree.

commit d91b55a28249fd729b4ce18d6c0f33bd3752e259
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:16:27 2004 -0800

    [PATCH] ACPI: document acpi_sleep option
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Pavel Machek <pavel@ucw.cz>
    
    acpi_sleep option should be documented.

commit 22de7638ab66024e10dddedb446327f468c07838
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:16:15 2004 -0800

    [PATCH] drivers_cdrom_cm206.c check_region() fix
    
    From: Trivial Patch Monkey <trivial@rustcorp.com.au>
    
    From:  Omkhar Arasaratnam <omkhar@rogers.com>
    
    check_region() fix

commit 4e9fbe87b0efa47f23628dfe334951382fe963fb
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:16:02 2004 -0800

    [PATCH] ide-scsi error handling fixes
    
    From: Willem Riede <wrlk@riede.org>
    
    The patch revises the error handling in ide-scsi, fixing the scheduling
    while locked issues, and make it work properly, at least for me...
    
    Specific changes in this patch:
    
    - introduce idescsi_expiry, a timeout routine for the ide subsystem,
      which simply flags the fact that the command timed out, but postpones
      any other action until either the command still finishes on its own
      (unlikely?) or the scsi error handler kicks in;
    
    - introduce idescsi_atapi_error and idescsi_atapi_abort, error routines
      for the ide subsystem, which are modeled after those of ide-cd, but
      take only minimal effort to recover, leaving the heavy lifting for
      the scsi error handler;
    
    - rewrite (and rename for clarity) idescsi_eh_abort and idescsi_eh_error,
      the abort/error routines to be called by the scsi error handler --
      this redesign should not have the scheduling while atomic problems
      of the old implementation.
    
    - move ide_cdrom_dump_status() from ide-cd.c to ide-lib.c as
      ide_dump_atapi_status() and both ide-cd and ide-scsi call it.
    
    - replaces BUG() by WARN_ON()/printk in the error handling code.
    
    - sets TASK_UNINTERRUPTIBLE before schedule_timeout() and moves the host
      unlock/lock around the while loop inside the loop in idescsi_eh_reset().

commit e5c539b8e8d3aa788d2738add7c85e6ff6f2163e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:15:51 2004 -0800

    [PATCH] selinux: Conditional policy extension and MLS detection support
    
    From: Stephen Smalley <sds@epoch.ncsc.mil>
    
    This patch extends the SELinux policy engine to support conditional policy
    logic based on a set of policy booleans, allowing well-formed changes to
    the policy to be defined within and mediated by the policy itself.
    
    The conditional policy extensions were implemented and contributed by
    Tresys Technology.
    
    Userland packages that support these extensions are already available from
    nsa.gov/selinux, and backward compatibility is provided for the prior
    policy version.
    
    The patch also includes a small change to enable detection of the optional
    MLS policy model on a SELinux system and fixes to the conditional policy
    extensions to allow the MLS policy to work correctly with them that were
    implemented and contributed by Trusted Computer Solutions.

commit a7e623a9cb6c7885421c4ec9ca9b1d4fd11217ab
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:15:39 2004 -0800

    [PATCH] s390: update for altered page_state structure
    
    From: Gerald Schaefer <gerald.schaefer@gmx.net>
    
    Update s390 to track the new fields in struct page_state.

commit fb3f7b770ef0ff60314a21f7ee1071da73445677
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:15:28 2004 -0800

    [PATCH] ppc32 compile fix
    
    From: Tom Rini <trini@kernel.crashing.org>
    
    The problem is that on PPC32 (and probably sparc64) 'asmlinkage' is a
    useless keyword, and should just be removed from include/asm-ppc/unistd.h.

commit 5bfec9f6eadf728647754ef156aac340de1cc214
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:15:17 2004 -0800

    [PATCH] Save some memory in mem_map on x86-64
    
    From: Andi Kleen <ak@suse.de>
    
    This patch saves 2MB of memory on a 1GB x86-64 machine, 20MB on a 10GB
    machine.  It does this by eliminating 8 bytes of useless padding in struct
    page.
    
    This resurrects an older patch in a hopefully cleaner form.

commit 952a0ae394f450c878aa2e408c23236896a2efac
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 15:15:05 2004 -0800

    [PATCH] Fix early parallel make failures
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    Ingo said:
    
      Starting at around 2.6.4-rc2-mm1, I keep seeing 'scripts/fixdep: Text
      file busy' messages when doing a -j10 bzImage build - which seems to
      suggest that by the time fixdep is used by the build system it's not
      built yet.
    
    Sam said:
    
    I was pretty sure it was something I had caused, so I gave it a spin.  What
    actually happened was that we tried to build the target 'silentoldconfig'
    in parrallel with 'scripts'.  Since 'silentoldconfig' started a new make
    and then the config target needed 'scripts' we saw two parallel runs.
    
    The way I decided to fix it was to split scripts/ in two parts.  The first
    part is now the very basic stuff - moved to scripts/basic/.  The second
    part is dependent on kernel config etc.  and kept in scripts/
    
    In the 2.7 timeframe i will redo this initial stuff - it's becoming too
    messy for anyone to understand today.
    
    
    Description:
    
    Fix dependencies in early phases of kernel build.  This solves a few
    problems nively: modpost is no longer rebuild twicewhen reaching the
    'target' state 'make -j10' now works nicely again
    
    The patch is rather large due to the following file moves:
    mkdir scripts/basic
    mv scripts/fixdep.c        scripts/basic
    mv scripts/split-include.c scripts/basic
    mv scripts/docproc.c       scripts/basic

commit 6f2dbcb9d373d13170c1ec0a5f72ac3fe8b77c7a
Merge: 219b5ec... 99dd57a...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 15:08:21 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 99dd57a52b9bd1263afc182c8e14c61c194ae92b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Mar 15 15:07:38 2004 -0800

    [PATCH] g5: Fix iommu vs. pci_device_to_OF_node
    
    The g5 iommu code would fill the "iommu_table" member of whatever
    device node was pointed to by pcidev->sysdata during boot. However,
    the ppc64 kernel fills that with a pointer to the PHB node which is
    later replaced "lazily" with a pointer to the real node when calling
    pci_device_to_OF_node(). In this case, we were thus "losign" the
    iommu_table pointer. Typical symptom: loss of the SATA when looking
    at it's /proc entry.
    
    This fixes it by forcing the update to the final sysdata pointer
    when filling up the iommu_table pointers. The "lazy" thing is useless
    on pmac anyway.

commit 45b68e44d8e41ce224eb7ebea62efbcd2eeaab79
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:28:39 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ES968 driver
    Fix against Dave's fix: put back the behaviour common to all ISA PnP modules

commit 2614ed27c5736fb18035d46ff948d0162496aa38
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:28:18 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    GUS Extreme driver
    Fixed typo

commit d833e268a5b9f18e90dcf64e55b8375dbee20228
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:28:00 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    DT019x driver
    Added missing pnp_unregister_card_driver call

commit 20a62691c4b450a945ae02f4806da6133c3262f2
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:27:39 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    DT019x driver,ES968 driver
    <davej@redhat.com>
    Miscellaneous junk, indentation fixes and the like.

commit 7118285ea34407bd6592743232205dfc4523cbb3
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:27:21 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ES968 driver
    <davej@redhat.com>
    This oopses on rmmod, as we do pnp_unregister_card_driver twice.

commit 744471961de7bd1efbedd273e3749e7b81a265be
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:27:00 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ES18xx driver,ES1688 driver,GUS Classic driver,GUS Extreme driver
    GUS MAX driver,AMD InterWave driver,SB16/AWE driver,SB8 driver
    <davej@redhat.com>
    This is a *really* silly one.  The various probing routines in these
    drivers can return -ENODEV, -ENOMEM etc.. so when we do something like
    
    cards += probe_routine()
    
    In some situations we can end up with -13 sound cards, and other
    such nonsense. Result : lots of fun oopses.

commit caf9962c2a2480d91c4ae8c85dbfd0d4f90facc8
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:26:40 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core
    <davej@redhat.com>
    Try modprobing a driver that the hardware doesn't exist for.
    In a few situations, you'll hit an oops due to proc_id not
    being filled out that early.

commit 7637c7396fe7534e489438de232483077a04829a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:26:20 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    GUS Extreme driver
    <davej@redhat.com>
    Whilst chasing an oops, I shortened some error paths.

commit 6d40aab8c4b5a520208fad5241a7bf5919c027a1
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:26:00 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module
    fixed the compilation with sparc sbus support.

commit 724778928a479b92037583fcdb02b81c4d102395
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:25:40 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    EMU10K1/EMU10K2 driver,Trident driver
    fixed the mapping of silent pages on emu10k1 and trident SG buffers.

commit e4bb3f2ba9b54f19a29529f5d25600eef54da796
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:25:20 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Generic drivers
    Clean the 'AUTO' checking

commit 8f2ac0c270bb1f2dfcc24a5df8a4d4191d12ea97
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 23:24:31 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    I2C cs8427
    Don't reset chip when PCM rate was not changed

commit 8eec259362e21779fd10ed8939483bebeec83e4f
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 15 16:39:14 2004 -0500

    [libata] bump libata and sata_sil driver versions

commit 93d372ca7b4332c21ccf7f8524139cb97b6baaad
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Mar 15 21:07:31 2004 +0100

    [Bluetooth] Declare more functions static
    
    This patch declares all possible functions static.

commit 48a975d30fd63251eab24f64b81da9bc0aa790f1
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Mon Mar 15 10:14:55 2004 -0800

    [SPARC32]: Down with our cpu_offset.  Use regular per_cpu instead.
    
    The only users of this were udelay/ndelay.  These now look more
    like sparc64, except ours are too weird and too big to inline.

commit 219b5ec0fe5a684e883fb9009e3f8a38d6c52f55
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Mar 15 08:03:48 2004 -0800

    ia64: Update defconfig

commit 130772ca005cab77e05e3d14a34f58a46259db44
Author: Keith Owens <kaos@sgi.com>
Date:   Mon Mar 15 07:31:37 2004 -0800

    [PATCH] ia64: Decode salinfo oemdata for SN2 via PROM
    
    SN2 platforms provide oemdata in salinfo records.  The decode of that
    oemdata is done via prom routines.  This patch provides the interface
    from user space through the kernel into the prom to do the oem decode.

commit 5759914388b61f85d48386a1af7ed9cb10ceae95
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Mar 15 07:30:13 2004 -0800

    ia64: Based on patch by Keith Owens: put stop bit to work around GCC problem.
    
    Apparently GCC sometimes fails to insert a stop-bit when re-using p14
    after the spinlock directives, even though the register is clearly marked
    as "clobbered".

commit 55808e0569a996d8decc77ea8f0d668d24c59c47
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Mar 15 07:21:48 2004 -0800

    [PATCH] ia64: update simscsi to 2.6 scsi APIs
    
    Use the proper (and cleaner) probing API instead of the old
    scsi_module.c hack, don't use the typedefs I plan to kill in 2.7 and
    mark everything static

commit 1963fd3f095c2a80e3cf018ea9aa35a589c8e677
Merge: d3fdc9a... 6737083...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Mar 15 06:39:06 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 6737083d4168ce632780c3c738a1d308f07601c2
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Mon Mar 15 06:34:08 2004 -0800

    [PATCH] ia64: update ia64/Kconfig
    
    This Kconfig patch basically just makes ia64 look a little more like i386:
            - moves system type above processor type
            - moves PM & ACPI to a new top-level menu
            - moves PCI/PCMCIA to a new top-level menu

commit 723ab3247d7b4239be09d56a11cbf897167c0cb4
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Mar 15 06:33:05 2004 -0800

    ia64: Forward-port hp-agp.c fix from 2.4
    
    See this ChangeSet:
    
    http://lia64.bkbits.net:8080/linux-ia64-2.4/cset@40524248tkgE0RDYQL0IyiAdFxo_Ew

commit 2c7c376ed8afea653e86615c86b43c9d3e1e56d4
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Mon Mar 15 06:24:32 2004 -0800

    [PATCH] ia64: kill CONFIG_IA64_MCA
    
    The MCA code is now slim enough that there isn't much point in keeping
    CONFIG_IA64_MCA anymore.

commit b012a40201a4269ba0603fad2dcd850913306200
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Mon Mar 15 06:22:13 2004 -0800

    [PATCH] ia64: move consistent_dma_mask to the generic device
    
    The patch that moved and renamed consistent_dma_mask neglected
    to fix up arch/ia64/hp/common/sba_iommu.c.

commit a0527853f765955a5f46921c5a0a9056a2de5079
Author: Pat Gefre <pfg@sgi.com>
Date:   Mon Mar 15 06:20:48 2004 -0800

    [PATCH] ia64: fix missing braces in SN2 console code
    
    The last mod to fix the staircase printing - missed some bracing...

commit ce746260c8cb6870d5c0044faa14eb0fe30f51cb
Author: Martin Hicks <mort@wildopensource.com>
Date:   Mon Mar 15 06:18:13 2004 -0800

    [PATCH] ia64: Update SN2 defconfig

commit c1502b7ce65d2ecd7873b504e8d90d53fd3991be
Author: John S. Marvin <jsm@udlkern.fc.hp.com>
Date:   Mon Mar 15 06:17:27 2004 -0800

    yia64: Fix show_mem() panic

commit 2fd33bc111c966ee6fde2b70f79e3a6ed7c078ff
Merge: da5ca9a... 909ab43...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 15:06:46 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit d3fdc9acc701b67fabe641fb868882574b9827c6
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:44:26 2004 -0800

    Linux 2.6.5-rc1

commit c8c41d00824f3ab4f4968be865b2d91d1288a24e
Author: Andi Kleen <ak@suse.de>
Date:   Mon Mar 15 05:25:01 2004 -0800

    [PATCH] Fix CONFIG_DEBUG build on x86-64 & small cleanup
    
    This fixes the CONFIG_DEBUG_INFO build on x86-64 (there were missing
    .cfi_endprocs)
    
    Also some minor cleanup in the exception stack handling.

commit a1f846e817146e22701d8fc5744267ad52c01ee6
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Mar 15 05:24:51 2004 -0800

    [PATCH] sys_swapon bad arg causing slab corruption
    
    There's an error in sys_swapon() that can cause slab corruption if you
    pass in a bad specialfile pointer. getname() then returns
    ERR_PTR(-EFAULT), but sys_swapon() doesn't clear name before calling
    putname() on it (thus freeing 0xfffffff2, corrupting slab). An ltp test
    case repeatedly crashed in later tests due to thus, irk.

commit 17563a77d9a0bd2707217111c2bd60342ba2e738
Author: Paul Wagland <paul@wagland.net>
Date:   Mon Mar 15 05:15:14 2004 -0800

    [PATCH] Set module owner in megaraid driver
    
    This bug was discussed on linux-scsi a few weeks back, but it appears to
    have slipped through the cracks. This fix was originally proposed by
    Christoph Hellwig, but I am reposting it, since I have the hardware :-)
    
    Anyway, the problem that this fixes is that megaraid doesn't set the
    moduler owner for the host_template, this means that the module can be
    removed, even when it is in use.

commit 9e8b550efd8d24d32c1aaf6e98f54391be65811f
Merge: e89de27... 4586da2...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:14:00 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit e89de275d22ff44b8908aeff3a9f2a699965eb7c
Author: Dave Jones <davej@redhat.com>
Date:   Mon Mar 15 05:13:30 2004 -0800

    [PATCH] Fix sysfs leak.
    
    If the driver fails to load, we leave a 3c509 eisa directory
    in sysfs.

commit 1d15f9772dafb0cc18dbc7a2be008703afa323f3
Author: Dave Jones <davej@redhat.com>
Date:   Mon Mar 15 05:13:18 2004 -0800

    [PATCH] Whitespace fixes.
    
    No code changes, but lots of trivial whitespace cleaning, and
    removal of a bogus set of 'defaults' at the bottom of the file.

commit 9c717ad29de3da5464b146b6c721bd85cbe8def4
Author: Dave Jones <davej@redhat.com>
Date:   Mon Mar 15 05:13:07 2004 -0800

    [PATCH] Remove unneeded cast.

commit 909ab438585f6e94f2eb8f09c2c2e89dedf36ab6
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 14:10:59 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    au88x0 driver
    Fixed gameport dependency and solid kernel build

commit c27b73b3d086a5e3681682e4ba93415bc86ff29d
Merge: 387f6b7... 60d8593...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:07:15 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/i2c-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 387f6b7668443a94739ab194b9da7eeb3b45607b
Merge: acf3fab... 9069f14...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:06:18 2004 -0800

    Merge bk://kernel.bkbits.net/gregkh/linux/driver-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit acf3fabb73c1a584b3c0ecabed1a51227c8eb33b
Merge: 1893f0e... b965eeb...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:05:01 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-serial
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit b965eeb8aa0104efb0a41e03b351c03d1b635067
Author: Adrian Bunk <bunk@de.rmk.(none)>
Date:   Mon Mar 15 23:03:37 2004 +0000

    [SERIAL] serialP.h: remove a kernel 2.2 #ifdef
    
    Patch from Adrian Bunk

commit b7d8e73f83c19c1ba81e4dd6a221fdd39e4483ff
Author: Bjorn Helgaas <bjorn.helgaas@com.rmk.(none)>
Date:   Mon Mar 15 22:55:39 2004 +0000

    [SERIAL] fix PCI interrupt setting for ia64
    
    Patch from Bjorn Helgaas
    
    ACPI and HCDP tell us what IRQ the serial port uses, so there's
    no need to have the driver probe for the IRQ.

commit c03fdc67fe95373f633613eca7bf3c4f939bc017
Author: Steve Youngs <sryoungs@au.rmk.(none)>
Date:   Mon Mar 15 22:18:18 2004 +0000

    [SERIAL] Add alias for TTY_MAJOR character device.
    
    Patch from Steve Youngs

commit 1893f0e56ad101fb1c17fcb3cbebc32e7befd38e
Merge: 0f994f5... 7b667cd...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:03:35 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0f994f5d595144773374bad540af2898499df008
Merge: 76a9bde... 4b86717...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Mon Mar 15 05:02:50 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 76a9bdec30f296b88c39016858c4ffd0999965f0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 15 05:02:26 2004 -0800

    [PATCH] generic 32 bit emulation for System-V IPC
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    Adds a generic implementation of 32 bit emulation for IPC system calls.  The
    code is based on the existing implementations for sparc64, ia64, mips, s390,
    ppc and x86_64, which can subsequently be converted to use this.

commit f53f044ba52012d3a813a43dcf237cbd67fa08d9
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:15:56 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    au88x0 driver
    Make mchannels and rampchs static

commit d6a1df27ff26fb605b3647adb0c29ccd37021ced
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:10:46 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    Intel8x0 driver
    add Intel ICH6 and ESB

commit 83cb5db956c79dee61d0a4489928f1eb5954f058
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:07:56 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    au88x0 driver
    fix compilation on gcc 2.95.x

commit b21c3168442585af3f349af02fa1fd7556a611b4
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:06:07 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    Documentation,MPU401 UART
    integrate MPU-401 ACPI PnP from alsa-driver

commit bcd243ff773eddf89a42a1bda517dc236e9b9967
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:04:42 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    AC97 Codec Core
    Kevin Mack <kevmack@accesscomm.ca>
    Here's a quick and dirty patch that's given me basic sound from
    my Gateway M675 notebook (Sigmatel 9758 AC97 codec).

commit f97fb347dfc88212adf825ee375ffbf36b037b46
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 15 13:03:50 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Intel8x0 driver
    Added slot definitions for s/pdif pcm - ICH4

commit 7b667cd3103ccbc18a33b7513605e4fe33842b2c
Merge: 92c06c6... ee127b1...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Mar 14 23:46:55 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/net-2.6
    into kernel.bkbits.net:/home/davem/net-2.6

commit 4b86717c59be57eb2835a1f3c358a625b8b9d10a
Merge: 92c06c6... 57d3eae...
Author: David S. Miller <davem@kernel.bkbits.net>
Date:   Sun Mar 14 23:45:16 2004 -0800

    Merge davem@nuts.davemloft.net:/disk1/BK/sparc-2.6
    into kernel.bkbits.net:/home/davem/sparc-2.6

commit ee127b1d19f2f06ac59c806526f93309429b6991
Author: Angelo Dell\'Aera <buffer@antifork.org>
Date:   Sun Mar 14 23:40:12 2004 -0800

    [TCP]: Clean up some westwood comments.

commit f84f9653b81efc0e3ffe688df5e8dccf93346c60
Merge: 53f2191... 93d372c...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 23:35:22 2004 -0800

    Merge http://linux-mh.bkbits.net/bluetooth-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit 9069f148373f7323fd35810b1642d717225ef751
Merge: 92c06c6... 04e52ea...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 23:02:32 2004 -0800

    merge

commit 4586da2a0fd333fa996baa2d606e1072cfb1e2aa
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 15 01:44:03 2004 -0500

    [libata] kill the warning everybody grumbles about

commit 04e52ea83772c5e47c0f36328c10f21e744d57ba
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 22:39:18 2004 -0800

    kref: add kref structure to kernel tree.
    
    Based on the kobject structure, but much smaller and simpler to use.

commit a538fe37e9f04a5b9eebc3f22ce190717d854296
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Mar 14 22:36:49 2004 -0800

    [PATCH] cdev: warning fix
    
    Against Jon's cdev stuff

commit 9057c993f6c5b5c61ddc7f9b0ffffb87cb90fbd0
Merge: 2c4dcfb... 532650f...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 15 01:36:18 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 60d8593bc095860d38d5ce8834a1e09bdd0c1aef
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 22:14:17 2004 -0800

    [PATCH] I2C: delete the i2c_philips-par.c and i2c-veleman.c drivers
    
    They are obsolted by the i2c-parport.c driver.

commit 1d9ef26a30cf589df240b24704c4db35110f126e
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 22:13:28 2004 -0800

    [PATCH] I2C: delete the i2c-elv.c driver as it is obsoleted by the i2c-parport.c driver.

commit 6aa7c16764de77c327cb89769c5ac7777a725ef4
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 15 01:03:56 2004 -0500

    [libata] disable clustering by default, whitespace cleanups
    
    Disable SCSI's clustering of S/G entries, typically reducing overall
    S/G list size.  Although ATA S/G tables are getting smarter (64-bit
    address, 32-bit length, no DMA boundary besides 4G itself), working
    harder to generate large byte sizes for each S/G size is not necessarily
    in our best interest:
    
    * SATA consists of frames, much like ethernet, called "FIS".  A
      Data FIS consists of up to 2048 dwords (8K) of data.  We don't want
      generate large byte sizes in S/G entries, just to have the host controller
      break them up again into smaller chunks.
    * Reduces the possibility that ata_fill_sg (libata-core.c) must split
      an S/G into two pieces, because it straddles a 64K boundary.
    * Reduces the possibility that FIS-related errata workarounds
      must be enabled.  One such exists in the Silicon Image driver (sata_sil),
      which is currently worked around by limiting the max-sectors-per-request
      to 15.

commit 5299b8f7c475202ef6b730414924e4b1d7ae1559
Merge: e004aaa... cba3066...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 21:53:37 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-rmk
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit cba3066d1f7bca3550cf4cc4091cb59967fd877e
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 19:16:07 2004 +0000

    [ARM] Add asm/irq.h include - required for NR_IRQS

commit bfc7e179dcdab88605464148b43d07c067788447
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 19:05:44 2004 +0000

    [ARM] Allow run-time selection of user debugging messages.

commit 576b2e14ff565d12180ade56df6196ed307ff8ce
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 17:19:07 2004 +0000

    [ARM] Remove export of kd_mksound.
    
    This symbol is no longer used in modules.

commit afb25c491e8b85647641b7f80f29330f25cd4ace
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 17:14:48 2004 +0000

    [ARM] Move consistent_xxx exports to arch/arm/mm/consistent.c

commit ec5b478a18df4d2d73e122ab5c97f8e00bd38ec5
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 17:07:21 2004 +0000

    [ARM] Provide userspace method for controlling LEDs in ARM machines.

commit f0caf996a88e0a9812fa2b5a49b0b29a3676640b
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 16:57:42 2004 +0000

    [ARM] Update mach-types file.

commit c0b8ec1322a3f963bba34fa6d174b0def7fa2f08
Author: Jonas Larsson <jonas.larsson@net.rmk.(none)>
Date:   Mon Mar 15 14:57:38 2004 +0000

    [ARM PATCH] 1753/1: Devfs support for the 21285 serial driver - try 2
    
    Patch from Jonas Larsson
    
    This patch adds devfs_name member to struct uart_driver. No devfs
    entries are created for the serial port without this patch.

commit 13b49514d69e893259e03bb93581e945c8edbe70
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Mon Mar 15 12:06:37 2004 +0000

    [ARM] Update ARM README
    
    Provide more detailed information on machine types and machine
    classes.

commit 6083dcaaf5aa0e838e42c2653dbcf6a801a8cb7f
Author: Marc Singer <elf@com.rmk.(none)>
Date:   Mon Mar 15 11:57:45 2004 +0000

    [ARM PATCH] 1772/1: ARM README changes
    
    Patch from Marc Singer
    
    Updates to the ARM architecture README file.  Mostly, this is done for
    clarity.

commit 53f2191e58238a72a24539e36f3f4e9c39a4ee8a
Author: Colin Gibbs <colin@gibbsonline.net>
Date:   Sun Mar 14 21:46:14 2004 -0800

    [NET_SCHED]: Use time_after, fixes htb on 64-bit arch.

commit ae26e2efcd563ecdd45d39466ef7cb277b3382fb
Author: Tim Cambrant <tim@cambrant.com>
Date:   Sun Mar 14 21:38:16 2004 -0800

    [VLAN]: Use array for static const char 'fmt'

commit f41a02493975ba0e8a999b83c8a628f98708262e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Mar 14 21:36:14 2004 -0800

    [NET]: Make netdevice.h more non-kernel friendly.

commit 0154f9ece66ebaf2220e494b12266157708e57ef
Merge: 92c06c6... d5199b0...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 21:22:55 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/i2c-2.6

commit d5199b07d996dcd69d77abb46878dc439ac247e6
Author: Aurelien Jarno <aurelien@aurel32.net>
Date:   Sun Mar 14 21:09:45 2004 -0800

    [PATCH] I2C: New chip driver: ds1621
    
    The following patch against kernel 2.6.4-mm1 adds the ds1621 driver (an
    I2C sensor). I have ported it from the 2.4 version.
    
    It has been reviewed by Jean Delvare, partly on IRC, and it is
    "compliant" with Mark Hoffman's refactoring.

commit a114851e68c0ad6404ebdcde74613f0d64c1c288
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Mar 14 21:09:19 2004 -0800

    [PATCH] I2C: Setting w83781d fan_div preserves fan_min
    
    This patch makes the w83781d driver preserve fan_min settings when the
    user changes fan_divs. This isn't done "by default" because the actual
    fan min value (in RPMs) depends on both the fan_min register and the
    fan_div register. Only two drivers handle it properly at the moment as
    far as I know (lm78 and asb100). Several other drivers would need to be
    fixed the same way, but well, once at a time ;)
    
    Tested on my AS99127F rev.1.
    
    Credits go to Philip Pokorny, since I think I remember he is the one who
    introduced the method in the lm78 driver in the first place.
    
    This tends to increase the size of the three set_store_regs_fan_div
    functions, and I am considering refactoring them at some point. Later
    though.

commit bd0c43415f9dbcdb629518ff5ec06e90ecd942cf
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Mar 14 21:08:51 2004 -0800

    [PATCH] I2C: Don't handle kind errors that cannot happen
    
    A number of chip drivers in 2.6.4-mm1 try to handle an error case that
    cannot happen when setting the chip name. The following patch changes
    that.
    
    Affected drivers: adm1021, it87, lm75, lm78, lm85, w83627hf, w83781d.
    
    Note that in any case, the worst that could happen (but then again, it
    cannot happen) is that the chip name would be set to an empty string,
    which doesn't hurt much.
    
    The patch also cleans up a few things in it87, w83627hf and w83781d,
    which are tightly related to the rest of the changes and necessary for
    them to be safe.
    
    it87: There is only really one "kind" in this driver, so I removed all
    references to other kinds.
    
    w83627hf: The driver did not handle unknown chips.
    
    w83781d: The user shouldn't be allowed to force a kind that doesn't
    match the chip's bus type (I2C or ISA). The code was not meant to handle
    that case, although no check was done so far.
    
    Tested on my AS99127F, works as intended.

commit f09513c726e890d0841806d4b96b0a7e64ba1e4d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Mar 14 21:08:29 2004 -0800

    [PATCH] I2C: fix forced i2c chip drivers have no name
    
    I just noticed that I am doing something wrong in the i2c chip drivers I
    ported to Linux 2.6. If these drivers are forced to a specific chip type
    ("kind" as we call it internally), then the device doesn't have its name
    set (and defaults to an empty string).
    
    Affected drivers: gl518sm, lm83, lm90, w83l785ts.
    
    I could verify the problem on my ADM1032 chip (lm90 driver). I also
    verified that the proposed patch fixes the issue.
    
    You may notice that I fix the problem differently for gl518sm and
    w83l785ts on the one hand, and lm83 and lm90 on the other hand. This is
    because the first two drivers are not expected to support more a single
    chip in the future, while lm90 already does and lm83 could someday (for
    example, support for the LM82 could be added on request).

commit 2e4a83abd4ad9b694fa8f1763b8b75723da188c9
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Mar 14 20:54:14 2004 -0800

    [TCP]: Kill westwood bw_sample, set but never used.

commit 43a37a79446b622400ab4fb780960c54980b78ad
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Sun Mar 14 20:46:53 2004 -0800

    [ATM]: [suni] dev_data should really be phy_data.

commit 9e832350f9c412184456679153f4a27cae24f512
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Mar 14 20:45:18 2004 -0800

    [TUN]: Fix user buffer verification.
    
    When Tun initialization fails it shouldn't obscure the error return,
    There are several reasons it could fail, and when diagnosing user problems
    the error code might provide more info.

commit ff71578a9bea6283541466ca714a505d779a49be
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Mar 14 20:42:56 2004 -0800

    [TUN]: Do not obscure error return from misc_register in tun_init.

commit d763665b2b0977d8dab85f7e4920ad8d372bc924
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Mar 14 20:42:19 2004 -0800

    [TUN]: Name fix.
    
    This fixes both the devfs name and the /sys name issues.
    It ends up as /dev/net/tun and /sys/class/misc/tun looks correct.

commit 57d3eae412d6eee2df7343d2153179a896f28c41
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 20:42:14 2004 -0800

    [SPARC]: Include linux/linkage.h in asm/unistd.h

commit e004aaa1de550ffffb99db719fb62f739af27e1e
Merge: 92c06c6... b528e0d...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 20:27:54 2004 -0800

    Merge bk://bk.arm.linux.org.uk/linux-2.6-pcmcia
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 92c06c66547965cefa126edbcd3112803267204a
Merge: 2c4dcfb... bbb760e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 20:20:52 2004 -0800

    Merge bk://ppc.bkbits.net/for-linus-ppc
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit bbb760e009e6c380c851f667c6ffa891407a91ac
Merge: c4403ae... 3be7424...
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Mar 16 19:27:48 2004 +1100

    Merge

commit 5e044de4a3f71e7a81a3e83475cf980f71d2c0fe
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 18:45:02 2004 -0800

    [PATCH] I2C: fix up CONFIG_I2C_DEBUG_CHIP logic to be simpler on the .c files.

commit 38dd2a405d3341edd07a179f4199a9a5c89f052a
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 18:28:32 2004 -0800

    [PATCH] I2C: add CONFIG_I2C_DEBUG_ALGO to be consistant.

commit eb3b5324ec219666c3aba082ed8dca1fac1df046
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 18:27:53 2004 -0800

    [PATCH] I2C: fix up CONFIG_I2C_DEBUG_CORE logic to be simpler on the .c files.

commit 0fd0b1f66baa7325b4e2c82a7c6d88f3bd6ec0ec
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 14 18:27:26 2004 -0800

    [PATCH] I2C: fix up CONFIG_I2C_DEBUG_BUS logic to be simpler on the .c files.

commit 6986916bf81e36be4656768c2b2ef183ca36c728
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Mon Mar 15 03:16:54 2004 +0100

    [Bluetooth] Fix compile errors with enabled debugging
    
    This patch fixes some stupid compile errors when debugging is enabled.
    
    Noticed by Christian Hesse <mail@earthworm.de>

commit 2c4dcfb744a584c7ffec013e6fe51899763f8e65
Merge: 90ebbda... 909ab43...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 16:00:43 2004 -0800

    Merge http://linux-sound.bkbits.net/linux-sound
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 90ebbda4316a3fa437f2f868d8fa990200bc6143
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Sun Mar 14 15:59:38 2004 -0800

    [PATCH] H8/300: makefile cleanup

commit 893829b6948ec0036812ebc22b0f662bcc29c7b2
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Sun Mar 14 15:57:26 2004 -0800

    [PATCH] H8/300: fix waring
    
    - fix gcc-3.4.0 warnings

commit 197170b178290a8cf1b46f1e9cc2f1d5787d101a
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Sun Mar 14 15:57:16 2004 -0800

    [PATCH] H8/300: fix build error
    
    - add asm/dma-mapping.h
    - add CONFIG_PCI

commit e52a177ea6b2d52ffaa1691e75e1bb1b14c9ad8f
Author: Yoshinori Sato <ysato@users.sourceforge.jp>
Date:   Sun Mar 14 15:57:04 2004 -0800

    [PATCH] H8/300: Interrupt handling cleanup
    
     - merge common routine
     - runtime vector setup update

commit f46ce958033531bf06d7b96fb48e9e241674ecf1
Merge: 22e9af4... 4ef9f3f...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 15:55:43 2004 -0800

    Merge bk://kernel.bkbits.net/davem/net-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 22e9af4edce8e0d3cb7af4d3f36a07bf8db24912
Merge: 558dade... 333876f...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sun Mar 14 15:55:00 2004 -0800

    Merge bk://kernel.bkbits.net/davem/sparc-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 333876f3eb9baaca6453b39f26867b8fbbbdd487
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:48:34 2004 -0800

    [PATCH] piix_ide_init() can be __init
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    The missing __init was found by reference_init26.pl.

commit ee5725164c36ea1480e11944ea2393324e13660e
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:48:23 2004 -0800

    [PATCH] remove ide_init_drive_taskfile()
    
    From: Frederik Deweerdt <frederik.deweerdt@laposte.net>

commit 7f2b11169ba77e68ee601eabd40d60cecf0513cb
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:48:13 2004 -0800

    [PATCH] remove IDE_*_OFFSET_HOB and IDE_*_REG_HOB defines
    
    They are identical to non _HOB versions (except IDE_CONTROL_OFFSET_HOB).

commit 94088a7af1ebc146131e72db1997d2cae317fdd1
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:48:03 2004 -0800

    [PATCH] remove ide_cmd_type_parser() logic
    
    Set ide_task_t fields (command_type, handler and prehandler) directly.
    Remove unused ide_task_t->posthandler and all ide_cmd_type_parser() logic.
    
    ide_cmd_type_parser() was meant to be used for ioctls but
    ended up checking validity of kernel generated requests (doh!).
    
    Rationale for removal:
    - it can't be used for existing ioctls (changes the way they work)
    - kernel shouldn't check validity of (root only) user-space requests
      (it can and should be done in user-space)
    - it wastes CPU cycles on going through parsers
    - it makes code harder to understand/follow
      (now info about request is localized)

commit 890abeb9bbcd8f02c04b7662ba108ba79a9488e1
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:47:52 2004 -0800

    [PATCH] ide-disk.c: cleanup get_command()

commit 65ea2fa1066fb36c3628d9945aa8ab8a9fc57fa3
Author: Bartlomiej Zolnierkiewicz <b.zolnierkiewicz@elka.pw.edu.pl>
Date:   Sun Mar 14 15:47:42 2004 -0800

    [PATCH] update for pdc202xx_new driver
    
    Many thanks to Promise for their support.
    Expect more updates/fixes for Promise PATA support soon.
    
    - fix PIO (auto-)tuning - use pdcnew_new_tune_chipset()
      and always tune PIO mode even if (U)DMA is used
    - cleanup cable verification code a bit
    - remove leftovers from driver split-up
    - remove duplicate DISPLAY_PDC202XX_TIMINGS define

commit b528e0d64881e1b524dd0d4f3f8fa8512c6e22fa
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:37:39 2004 +0000

    [PCMCIA] socket user operations should take pcmcia_socket
    
    Patch from Dominik Brodowski, updated by Russell King.
    
    The pcmcia_{suspend,resume,eject,insert}_card calls are only issued
    by the userspace cardctl tool via ds.c. There's no need to verify the
    caller (ds) has a valid "handle", as long as it knows the proper
    struct pcmcia_socket.

commit 583f08b7865d00fe9c65c1f13b17d67ce8a4872a
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:32:22 2004 +0000

    [PCMCIA] move pcmcia_report_error and cs_error
    
    Patch from Dominik Brodowski, updated by Russell King.
    
    cs_error and pcmcia_report_error are only used by 16-bit PCMCIA
    devices, so move them to ds.c.

commit 138314e1a39da6a04bf63e6bb476170c6eefd4c8
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:27:59 2004 +0000

    [PCMCIA] move_pcmcia_bind_mtd
    
    Patch from Dominik Brodowski, updated by Russell King.
    
    pcmcia_bind_mtd was only used by ds.c, and it is only used for 16-bit
    PCMCIA devices. So, move it to ds.c.

commit 6ea2d1e665e13564301007966b8469ca9446c4e6
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:24:19 2004 +0000

    [PCMCIA] move_pcmcia_bind_device
    
    Patch from Dominik Brodowski, updated by Russell King.
    
    pcmcia_bind_device was only used by ds.c, and it is only used for
    16-bit PCMCIA devices. So, move it to ds.c.

commit 3fdda63416e90aa5ac64ff5c174dea6a9fa51443
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:20:33 2004 +0000

    [PCMCIA] Rename driver services constants.
    
    Driver services constants clash with similar constants defined
    by Card services.  Prefix them all with DS_.
    
    This patch started out as Dominik Brodowski's 2.6.0-test9
    ds_includes_cs_internal patch, which only changed one constant
    and attempted to fix PCMCIA debugging.

commit 9c093b8a9a3829e8aa53a9b69544e00a3d0e84ac
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:17:11 2004 +0000

    [PCMCIA] Clean up socket state handling around shutdown
    
    There is no need for shutdown_socket() to touch s->state
    directly - this can be all done in skt_shutdown().

commit 34e5bea9f27ad301de31cf67d9dea6b982fa084e
Author: Russell King <rmk@flint.arm.linux.org.uk>
Date:   Sun Mar 14 20:12:21 2004 +0000

    [PCMCIA] Add, fix, update PCMCIA debugging.
    
    The PCMCIA core debugging assumes that "pc_debug" is a global.  If
    pc_debug were to be a global, it would pollute the kernel's global
    name space, potentially clashing with PCMCIA drivers and even ds.c.
    
    We also get rid of PCMCIA using the "DEBUG" macro, which is the
    standard macro to enable debugging in the kernel.  Instead, we
    introduce cs_dbg() for core PCMCIA debugging, ds_dbg() for driver
    services debugging, and similar macros in the socket drivers.

commit 1d117b0cc2dcb68d842891cfe235d52f4b16b4f0
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Sun Mar 14 20:06:25 2004 +0100

    [Bluetooth] Make use of the MODULE_VERSION macro
    
    Each module contains a version number and this patch uses MODULE_VERSION
    to make it visible through modinfo.

commit 585a692ca593f50db521a4c24fc9b317d1e247b8
Merge: da5ca9a... 5649bb6...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sun Mar 14 13:38:49 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit 5649bb606772426bc56c4315bf061fbdafd84ca8
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Sun Mar 14 13:32:20 2004 -0500

    [libata sata_sil] remove incorrect limit on drive quirk
    
    The original submittor of the quirk code noted that the errata
    of a lockup creating when the condition "sector % 15 == 1" is
    true only on chip revisions <= 1.  This is limitation on chip
    revision is apparently not correct, therefore we apply to all
    affected drives in the quirk list.
    
    This is a sledgehammer fix, limiting max-sectors to 15.  A much better
    fix would split the hardware request into two taskfiles, issuing
    an additional command, thereby avoiding "sectors % 15 == 1"
    
    Given the errata is limited to "sil 311x + <these drives>", it is hoped
    that some janitor cares enough to do a real fix.

commit 558dadec3496dd8af8b0a5383833e2ec87d53643
Merge: c28bcf3... 6089415...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 07:03:00 2004 -0800

    Merge bk://kernel.bkbits.net/wesolows/sparc32-2.6
    into nuts.davemloft.net:/disk1/BK/sparc-2.6

commit 6089415341c72c4dc76c2d95db9dad7b5976c7c7
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 06:46:51 2004 -0800

    [NETDEV]: pcnet32, eepro100, and 8139too need asm/irq.h

commit 2531133d791a6c5fe4a60e1fe5f7b53cd52d0930
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 06:26:16 2004 -0800

    [SOUND]: Fix typo in SBUS memalloc changes.

commit 4ef9f3f39dd8767fc22bcc9a8e938212a2fc3ae1
Merge: da5ca9a... 0769fdb...
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Sun Mar 14 05:54:33 2004 -0800

    Merge nuts.davemloft.net:/disk1/BK/network-2.6
    into nuts.davemloft.net:/disk1/BK/net-2.6

commit c28bcf3b30addc7726dc73577257d9b598f7e6de
Merge: 45cd908... 624dbb3...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 05:46:48 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 624dbb32ccc7aad528f35e9e58b91165dd830095
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 05:45:55 2004 -0800

    [SPARC32]: Add per-cpu data header

commit 45cd90847466b8326a2609b4d49b674416e3a3cf
Merge: 7e17c92... 570242a...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 05:18:23 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 570242a14ce57d2070867615371e006cc3c47ff7
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 04:47:52 2004 -0800

    [SBUS]: Fix sound build if CONFIG_SBUS is set

commit b1ca18b765d5ecca62693962769c949272faac9e
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 04:45:19 2004 -0800

    [SPARC32]: Fix build; we don't need KERNEL_SYSCALLS but asm/unistd.h is necessary

commit 7e17c92137315671fe4df9ae3afc8350d5a437aa
Merge: 3c2dac1... 391495d...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 02:00:21 2004 -0800

    Merge foobazco.org:/sources/2.5-sparc-smp
    into foobazco.org:/sources/2.5-sparc-todave

commit 391495df6fd279bd7132d4a85fcbe64e6bc6a3c7
Merge: da5ca9a... 05930d3...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 01:48:28 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 3c2dac157c37943201b42e057bf5fb1573c3b248
Merge: 91211cd... 60ccf05...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 01:26:22 2004 -0800

    Merge ssh://kernel.bkbits.net/sparc32-2.6
    into foobazco.org:/sources/2.5-sparc-smp

commit 60ccf05c434c1b75098f3c59cfa7d067010ec88a
Merge: da5ca9a... eeca4b5...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 01:23:27 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-smp

commit 91211cd2769766408a6c9a065157f8851b356783
Merge: da5ca9a... 4a79082...
Author: Keith M. Wesolowski <wesolows@kernel.bkbits.net>
Date:   Sun Mar 14 01:20:10 2004 -0800

    Merge kernel.bkbits.net:/home/repos/linux-2.5
    into kernel.bkbits.net:/home/wesolows/sparc32-2.6

commit eeca4b50038a8d165a976a1dfcd6012c9274cb61
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 01:06:27 2004 -0800

    [SPARC32]: Also remove num_cpus_possible as was done on sparc64

commit e55b1c8626890bfa40405b39a2eca3f847768d3d
Merge: 9bf35f8... fb5ba71...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 00:45:30 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-smp

commit fb5ba71d0fce6e7e5b2ae0b6b2c3eae48e09c930
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 14 00:43:45 2004 -0800

    [SPARC32]: Rework the CPU enumeration and probing code
    
    The low 2 bits of the MID are now used exclusively as the software
    CPU ID on 4m.  This eliminates entirely the need for mid_xlate.  We
    also eliminate linux_num_cpus and linux_cpus; since the hardware-based
    id is now used everywhere we don't need indexed CPU tables.
    
    The device probe is almost identical to sparc64's version.  The one
    exception is that 4m only uses the bottom 2 bits of the MID, so we also
    have a separate function to get the true hardware MID for the rare times
    it's actually needed.
    
    Per-cpu data is now used the same way as in sparc64.  As a side benefit
    we now display the same format Bogo and Clock values in /proc/cpuinfo.

commit da5ca9a5d6655bd52820347fe6d912292b1177a1
Merge: aeb08fc... 157cc3e...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 13 22:01:38 2004 -0800

    Merge http://nfsclient.bkbits.net/linux-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit aeb08fc02401ccd8fa897165434a9a0d22095b36
Merge: fa9fcf5... b67cfdb...
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sun Mar 14 06:12:36 2004 -0500

    Merge http://nfsclient.bkbits.net/linux-2.5
    into fys.uio.no:/home/linux/bitkeeper/nfsclient-2.5

commit 157cc3eed93704eb94443b25e0e5d975ea562879
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Sat Mar 13 21:50:32 2004 -0800

    [PATCH] Fix voyager to boot again
    
    The very early memory detection patch broke voyager.
    
    This fixes it again.

commit 46385763ceaccd67a2267b15db6ebdca831bf594
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 21:50:10 2004 -0800

    [PATCH] __kill_pg_info() return value fix
    
    Fix a bug which was spotted by Alex Lyashkov <shadow@psoft.net>
    
    The fairly unobvious coding in __kill_pg_info() will cause a zero value to be
    incorrectly returned if the second or succeeding call to
    group_send_sig_info() returns an error.

commit 51fb5c51c254d76860019dce937fc981b2e64cd2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 21:49:59 2004 -0800

    [PATCH] s390: update for altered page_state structure
    
    From: Olaf Hering <olh@suse.de>
    
    This patch is needed on s390.

commit a0729eb408f161c647545e677982190e95947988
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 21:49:48 2004 -0800

    [PATCH] move consistent_dma_mask to the generic device
    
    From: James Bottomley <James.Bottomley@SteelEye.com>
    
    pci_dev.consistent_dma_mask was introduced to get around problems in the
    IA64 Altix machine.
    
    Now, we have a use for it in x86: the aacraid needs coherent memory in a
    31 bit address range (2GB).  Unfortunately, x86 is converted to the dma
    model, so it can't see the pci_dev by the time coherent memory is
    allocated.
    
    The solution to all of this is to move pci_dev.consistent_dma_mask to
    dev.coherent_dma_mask and make x86 use it in the dma_alloc_coherent()
    calls.
    
    This should allow me to make the aacraid set the coherent mask instead
    of using it's current dma_mask juggling.

commit fa9fcf5fffe3413d95ad6f6d7e9c35310e132787
Author: Matthew Wilcox <willy@debian.org>
Date:   Sat Mar 13 18:28:18 2004 -0800

    [PATCH] PA-RISC update
    
    Updates for 2.6.4 for PARISC:
    
     - defconfigs (Randolph Chung)
     - copyright updates (Grant Grundler)
     - Fix DOS hole in sys_clone (James Bottomley)
     - missing hardware ID (Andy Walker)
     - disable interrupts during cache-flushes (LaMont Jones)
     - Fix crash on machines with <256MB ram (Randolph Chung)
     - Make SuckyIO IDE work better (Randolph Chung)
     - Align data_start so the extable is writable (Randolph Chung)
     - Extensive rewrite of virtual merging code (James Bottomley)
     - Fix EISA, non-PCI module builds (Matthew Wilcox)
     - Fix Elroy PCI config space byte & word writes (Grant Grundler)
     - Eliminate a warning in parport_gsc (Helge Deller)
     - Fix endian problem with ide mmio macros (Randolph Chung)
     - Delete asm/keyboard.h (Matthew Wilcox)
     - Delete asm/md.h (Grant Grundler)
     - Eliminate a warning in ALSA harmony (Matthew Wilcox)

commit 1e04a79683e89ebb11285c4d0fa6331aa8dda7de
Merge: 47b6ac1... 2c9c762...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 13 18:16:37 2004 -0800

    Merge http://linux-sound.bkbits.net/linux-sound
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 47b6ac1da5698c1a7ac247a9e44b50926585f5e2
Merge: 180cc17... 1e10276...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 13 17:11:57 2004 -0800

    Merge bk://linux-acpi.bkbits.net/linux-acpi-release-2.6.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 180cc17db97431c9933623ea1560674a986805ab
Merge: e1efdea... 265395f...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Sat Mar 13 17:09:58 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 265395f4cb4345f384c73338d01e58115cb43a4c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 17:05:57 2004 -0800

    [PATCH] gcc-3.5 libata build fix
    
    drivers/scsi/sata_vsc.c: In function `vsc_sata_interrupt':
    include/linux/libata.h:414: sorry, unimplemented: inlining failed in call to 'ata_host_intr': function body not available
    drivers/scsi/sata_vsc.c:187: sorry, unimplemented: called from here

commit 3e4ea6c845e3574c5ed2ab8eabf5065cdde52d24
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 17:05:48 2004 -0800

    [PATCH] module unload deadlock fix
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    From: Andrea Arcangeli <andrea@suse.de>
    
    We should drop module sem before calling mod->exit, for practical reasons:
    too many module exit functions oops or hang, resulting in a permenantly held
    module sem, which blocks all module ops including lsmod.

commit 66b99421d118a5ddd98a72913670b0fcf0a38d45
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 17:05:37 2004 -0800

    [PATCH] DMA: Fill gaping hole in DMA API interfaces.
    
    From: "David S. Miller" <davem@redhat.com>
    
    Currently, for an existing DMA mapping, there is a way to transfer buffer
    ownership back to the cpu, yet there is no way to give it back to the device
    again explicitly.  The latter really is needed on platforms where the PCI
    subsystem does not snoop the cpu caches, MIPS is one example.
    
    Many drivers were expecting the existing DMA sync interface to handle both
    directions, which was wrong.
    
    Now, with this change, we have explicit interfaces for DMA syncing to/from
    the device and the cpu.

commit 532650f629904ec4aafeb461afc012c06882e147
Merge: e214725... 1e10276...
Author: Len Brown <len.brown@intel.com>
Date:   Sat Mar 13 15:43:38 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit e1efdea5cd0571513d964c871f573dc6729f7588
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Sat Mar 13 14:40:13 2004 -0500

    [PATCH] Add Domain Validation to 53c700 driver
    
    This simply throws out the 53c700 driver's optimistic setting of the
    best possible transport parameters and replaces it with DV
    determination.  It also adds a missing report_bus_reset() callback and
    finally does a delayed DV on device errors.

commit 2c9c762e2400b044a1f98eb03364da03124e1265
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:21:37 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALSA Core
    fixed the wrong release of id proc file.

commit 5c3199728033344a91f8558b87181a32e91408d3
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:21:14 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALSA Core
    added the new magic numbers for atiixp and au88x0 drivers.

commit c6889e729eac6fc4b9804bc943d770b8401fda8b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:20:53 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation,PCI drivers,Intel8x0-modem driver
    added Intel-compatible onboard MC97 modem driver
    by Sasha Khapyorsky <sashak@smlink.com>

commit 8fc2c73d8b53982d335109f89b485cc4ebd3583d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:20:29 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation,PCI drivers,ATIIXP driver
    added snd-atiixp driver for the ATI IXP150/200/250 AC97 controllers.

commit 23591ef2d1470bc09c2b109b1552a3834ae6af0e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:20:04 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    MIXART driver
    fixed the compile warning.

commit d6eda2801f29758cb048139ea43c2569398110be
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:19:40 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    EMU10K1/EMU10K2 driver
    disabled Dell OEM Emu10k1x from the pci id list.
    the board isn't compatible with the normal emu10k1.

commit 1d5aa0552287bb8da1638591ca30e4ab4eabc42e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:19:16 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    au88x0 driver
    removed EXPORT_NO_SYMBOLS.

commit 3f115743dd2ca8115c55536cc87331beabea19e6
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:18:52 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PPC Tumbler driver
    fixed the info callback of mixer input source (for enum type).

commit ae60f73dcf19228f8408f0093015bda5fcf720b9
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:18:28 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    USB generic driver
    added fix and workaround for the mixer problem on SB Extigy.

commit 9d15370b184593bc779346e63ecda13e56960249
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:18:02 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation
    fixed the files to include.

commit 5469306a033198442ca003d44605d7139bb04e8f
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:17:41 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation
    changed the description of the buffer allocation routines
    for the new designed functions.

commit cd37e0d63a5269a77528a47411c184f1b45af938
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:17:18 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PPC Tumbler driver
    added input source switch to select mic/line-in.

commit 6af632bea9b5774cfa8e7368e5bca7cfd047f15b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:16:54 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation,PCI drivers,au88x0 driver
    added the au88x0 drivers for Aureal soundcards by Manuel Jander <mjander@embedded.cl>

commit d4ab9ef90e6c52d4f31c52fb5431aefa836b8cc7
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:16:24 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    patch was applied wrongly.  fixed the rate restriction of spdif output
    again.

commit a89b3e31da38d09ee811dc81886e8913d8f88582
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:16:02 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    DT019x driver
    Fixed warnings

commit 00f92262dde26639d0a49841ef3f95204210988c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:15:42 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    restrict the PCM sample rates to 32, 44.1 and 48kHz when the SPDIF
    switch is on.

commit bc95e53d8233976a062058d31928679a3e114d46
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:15:17 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    prevent twenty-seconds wait when unplugging USB MIDI device with a port subscription

commit febf142f20b0b4faf9ae92b6af2efa76e84a96e7
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:14:53 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    show one decimal place of momentary frequency in proc file

commit 97467807ef71649fe528372610ed7eba4e421709
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:14:31 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    use MIN_PACKS_URB as lower bound for nrpacks parameter

commit 8effa6a1e3aac2ffbd45e72d522882eff635d817
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:14:09 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    ALSA sequencer,ALSA<-OSS sequencer
    use wrapper function for DELETE_PORT ioctl calls

commit 37cbccd3f9c2489de5410adacb12c9cbbcab24dd
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 20:13:13 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    ALSA sequencer
    remove superfluous call to snd_seq_event_port_detach

commit 38db0bd6adba7efa6dba54047d5a1d5e37bfe551
Merge: a8b828f... f8d7ec0...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 13 19:41:34 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit b67cfdb82691739b504b2881f9c949674dfec745
Merge: b8ddcbf... e214725...
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 13:01:02 2004 -0500

    Merge http://nfsclient.bkbits.net/linux-2.5
    into fys.uio.no:/home/linux/bitkeeper/nfsclient-2.5

commit b8ddcbf2084998ba3f873aa33d371bc6bb111ee9
Merge: 9e533ec... 791c426...
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:18:24 2004 -0500

    Merge http://nfsclient.bkbits.net/linux-2.5
    into fys.uio.no:/home/linux/bitkeeper/nfsclient-2.5

commit 9e533ec6401804bb230109108c23cc160d059f4b
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 14 01:49:53 2004 +0100

    [WATCHDOG] v2.6.4 notifier_block-patches
    
    Remove unnecessary initialization in notifier_block

commit b52ce0ba1953242d0fb452b07b2205a15432cedc
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 14 01:38:29 2004 +0100

    WATCHDOG] v2.6.4 wdt977-v0.03-patch
    
    Version 0.03 of wdt977.c - Changes that were made are:
    * Extract the stop code in a seperate function (wdt977_stop)
    * Extract the start code in a seperate function (wdt977_start)
    * Rename kick_wdog to wdt977_keepalive for consistency
    * Extract the watchdog's status code to a seperate function (wdt977_get_status)
    * Change the way we deal with the watchdog timeout:
       Up till now we used timeoutM (in minutes) as the correct value and then
       calculated timeout as being timeoutM*60 or *timeoutM*120 (depending on
       wether or not we have the netwinder hardware bug).
    
       From now on timeout is the correct value and we calculate timeoutM out
       of it. Because of this we start with checking wether or not we have a
       correct timeout value (if not we reset it to the default value) and we
       automatically calculate timeoutM. Each time we change timeout with a
       correct timeout value, we recalculate timeoutM.
    * Extended ioctl code with WDIOC_SETOPTIONS and updated the watchdog_info structure
    * Added notifier support
    
    Code has been tested by Woody

commit 591095cbd326a826f64047dbaab77220408f88ff
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Mar 14 01:31:12 2004 +0100

    [WATCHDOG] v2.6.4 pcwd_pci-v1.00_20040313-patch
    
    Two small fixes:
    * Make cards_found a global variable so that if we remove the
      pci device we can count down.
    * If we can't find a correct I/O address for the card, then we
    should disable the card again.

commit 791c42682ccd2a715f39ea25be71c2ea2425dcd9
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:10:52 2004 -0500

    akpm@odsl.org: For complex reasons it is not possible to hold i_sem in nfs_update_inode().
    Hence the i_size_write() in there is deadlocky.  Go back to the old way.

commit 63864c3c4d5a943b623581cf2dc027e96796ed20
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:07:59 2004 -0500

    From: <martin@meltin.net>
    
    Forward-port from 2.4:
    
    The following patch pulls an NFS server IP address off root_server_path
    (handed out via the DHCP root-path option), if it is present.  For example,
    you can do this sort of thing in dhcpd.conf:
    
      root-path = 192.168.1.33:/tftpboot/yip.zImage
    
    This lets you mount your root filesystem off a different machine than you
    booted from, without needing to use kernel command-line parameters.
    
    The patch appears to be backwards compatible.
    
    RFC2132 says this about the root-path option:
    
       This option specifies the path-name that contains the client's root
       disk.  The path is formatted as a character string consisting of
       characters from the NVT ASCII character set.
    
    This is sufficiently vague to allow the path-name to include an IP-address.
    Also, I found some documentation for FreeBSD saying it does this too, so it
    must be right, because those FreeBSD guys are really smart...  :-)
    
    The only downside of the patch is that the summary that ipconfig prints can
    be a little odd when the kernel command line overrides whatever ipconfig gets
    from (say) DHCP.  The address from the kernel command line seems to get
    stripped off early, so ipconfig reports it, but it doesn't report the kernel
    command line NFS path, since that's handled a bit later...  This small
    cosmetic problem looks difficult to "fix" without rewriting quite a bit of
    stuff...

commit 0339afa32eb540fd5509efab2f0f5a971ff0ca3d
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:04:55 2004 -0500

    NFS: From the suse kenrel RPM: handle ENOMEM from nfs_fhget().

commit a5210eec3ac01eca0ba93af9ba532c515651a12f
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:01:26 2004 -0500

    NFSv4: Fix a list corruption in the NFSv4 state engine.

commit 8d2a45386cb9dbd18e1ee9e6d6b1205cbfdca53e
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 12:00:15 2004 -0500

    NFSv2: Fix up NFSv2 reads so that they report when the server returned a short
           read due to EOF.

commit b9315c75b9cd1c20f1390f2054c180be2507dbcc
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:59:23 2004 -0500

    RPC: patch by Chuck Lever to make the number of RPC slots a tunable parameter.
         This is wanted in order to allow the NFS client to send more requests before
         is has to block and wait for replies.
         This is mainly useful if you have a WAN and want to ensure that the bandwidth
         is being used efficiently.

commit 9c9ff1bc60ce57894c216529adc9505a00b8abb1
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:53:43 2004 -0500

    RPC,NFSv3: remove the redundant "memset()" in call_encode(). Fix up the only places
        where this causes a padding error: xdr_encode_fhandle() and unx_marshal()

commit c7c3ee40f4fcd13efded4f42cfcf18137ac818c1
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:52:33 2004 -0500

    NFSv2/v3 locking: A patch to ensure that blocks which are not going to time out
        are placed last on the ordered list nlm_block (problem reported by Olaf
        Kirch).

commit a9034ac924c7bc600814199991e558e1676bfee6
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:51:10 2004 -0500

    NFSv2/v3 locking: Patch by Patrice Dumas to ensure that the server index blocks uniquely
        by using the client address in addition to the value of the NLM cookie field.

commit b9c88d408fb0f0779b92e7e4d4fd67e47c484133
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:49:51 2004 -0500

    NFSv2/v3 locking: Patch by Patrice Dumas that adds a check to ensure we really
        were requesting a blocking lock when we get a reply from the server asking us to
        block.

commit f89041f27bc4e4aaa89eb4c1c28b8ed5b0a242be
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:48:42 2004 -0500

    NFSv2/v3 locking: Patch by Patrice Dumas to implement nlmsvc_proc_granted_res.
        When a server receives that callback it should deallocate the corresponding blocked
        lock using the nlmsvc_grant_reply function.

commit d2ac640a44710081a4945f858894a190824343d3
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:47:36 2004 -0500

    NFSv2/v3/v4: Parenthesize #defines in nfs?xdr.c. Fix an off-by-one error on the value
         of compound_decode_hdr_maxsz.
    NFSv4: fix a printk() typo (spotted by Linda Dunaphant).
    NFSv4: Ensure that nfs4_open_reclaim() copies the value of the new stateid back into
         the shared nfsv4 state structure.
    NFSv4: Don't leak NFS4ERR_WRONGSEC errors back into nfs_lookup().
    RPC,NFS,Lockd: Mark the debugging code as "unlikely" so that gcc moves it out of the
         mainline code paths.

commit 72cffe4f9165f382c4a274ac15ec3db27fae9318
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:45:10 2004 -0500

    RPC,NFSv2/v3/v4: Ensure that xprt_create_proto() and rpc_create_client() return
         full error codes. Should allow the "mount" program to print more useful error
         diagnostics.

commit 0e4596491ceef70d34456531e09f677ff56b13a3
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:43:28 2004 -0500

    RPC: Ensure that we have the correct capabilities when binding a socket to a reserved
         port. Fixes a privilege bug when CONFIG_SECURITY is set.
    RPC: When trying to reconnect to a TCP port, try to bind() to the last used port number
         in order to ensure that the servers NFS replay cache recognizes this as being the
         same mount as before.

commit d55e1a05ed4ffe8fcbe388e98639dd4578b7296a
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:40:04 2004 -0500

    RPC: Sync rpc_set_timeo() up to the 2.4.x version. In particular, this will
         ensure that the timeout shift is clamped to a maximum value of 8.
    
    RPC: Fix by Olaf Kirch to the rpc scheduler to ensure sync tasks respect the
         "intr" mount flag.

commit 4a50d68c0ff3117cd04cec4f2fd37dac9c82d203
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:38:41 2004 -0500

    RPC: Make XIDs unique on a per-transport basis rather than globally unique. Gets rid
         of an unnecessary global spinlock.

commit bf78ace264daeaf39a60fa3ec5f8c871c3d346eb
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:37:29 2004 -0500

    NFSv2/v3/v4: A patch by Greg Banks that fixes the "VFS: Busy inodes after unmount."
         problem.

commit 680c0ee6fc5a7a9178f4a2d0df808a4a65fdccfa
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:36:38 2004 -0500

    NFSv2/v3/v4: Ensure that fsync() flushes all writebacks to disk rather than just the
          ones labelled as belonging to our file. This fixes a bug in which msync(MS_SYNC)
          will fail to flush the pages to disk.

commit a1108921b71156eee7ac5b7c62438e2804ad97a2
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:34:29 2004 -0500

    NFSv2/v3: Ensure that we only use GETATTR+STATFS (NFSv2) and FSINFO (NFSv3) when
         mounting. This should allow us to use AUTH_SYS credentials when mounting,
         (even when the user requests RPCSEC_GSS authentication) due to the hack
         described in RFC2623.
    
         Remove the broken NFS_INO_FAKE_ROOT hack.

commit bacab44f3796262499e82c993801aeefb64ced0d
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:28:35 2004 -0500

    Configuration: simplify configuration options. Automatically select RPCSEC_GSS
          if NFSv4 is selected. Remove need for user to select SUNRPC_GSS, and the
          crypto options.
          Make NFSv3 a recommended option.

commit f9ceaedb3e37825f173951391eb33af7f422a3b9
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:26:56 2004 -0500

    NFSv2/v3/v4: New file writeout strategy. Defer writes until a flush
          is requested by the application (or memory pressure).

commit ca9268fe3ddd075714005adecd4afbd7f9ab87d0
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Sat Mar 13 11:25:33 2004 -0500

    NFSv2/v3/v4: New attribute revalidation code that no
         longer relies on ctime for correctness in avoiding
         update races.
    
    VFS: allow filesystems to disable inode_update_time() on
         a per-inode basis.

commit e214725f749c1ca58ac87bcebb23d5c06170e62d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:26:39 2004 -0800

    [PATCH] Work around an AMD768MPX erratum
    
    From: Andi Kleen <ak@suse.de>
    
    This patch has been in the SuSE 2.4 kernel forever, but for some reason
    never made it mainline.
    
    It works around the infamous "only works stable when a mouse is plugged in"
    problem some AMD 768MPX Dual Athlon chipsets have.  The problem happens
    because the chipset can hang when PCI prefetch strides from a RAM page into
    the VGA text buffer.  When a PS2 mouse is plugged in the BIOS reserves a
    page before the VGA text buffer, which stops the prefetch early.
    
    This patch always reserves this page when the chipset could be AMD768MPX.
    This can be only done early in bootmem setup.  Because it's difficult to
    scan the PCI bus that early it just always reserves this page when the CPU
    is an Athlon.  Normally it should not make a difference because the BIOS
    will have reserved that page anyways when a PS/2 mouse is plugged in.

commit 00cf70977dd2fbc529167a5227145f1bd3382b59
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:26:28 2004 -0800

    [PATCH] md: allow assembling of partitioned arrays at boot time.
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    kernel parameters:
    
       raid=partitionable
         will make all auto-detected md arrays partitionable
    
       md=d....
         will assemble an array as a partitionable array.

commit b0b191f3f25f61df477be7139ca335c0030f3db2
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:26:18 2004 -0800

    [PATCH] md: use "shedule_timeout()" instead of yield()
    
    From: NeilBrown <neilb@cse.unsw.edu.au>
    
    Use "shedule_timeout()" instead of yield() as it seems to wait for less
    time.

commit abf1e8535cefbd7de402f73366a2c0fbb7a96b04
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:26:09 2004 -0800

    [PATCH] use wait_task_inactive() in kthread_bind()
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Make it clear that the reason we do wait_task_inactive is because
    kthread_bind frobs with k->thread_info->cpu, which is only legal because
    the task is definitely not running.
    
    We can't use the normal migration thread code here, because it doesn't let
    us bind to cpus which are offline yet, and also because we use this to
    start the migration threads themselves.

commit d1dbcdee71f00e0e4c4422d678ea4d4ced30212a
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:25:58 2004 -0800

    [PATCH] further __KERNEL_SYSCALLS__ removal
    
    From: Arnd Bergmann <arnd@arndb.de>
    
    Dave Jones already removed some of the useless __KERNEL_SYSCALLS__ defines
    in various files, this gets rid of almost all the others.  Replacing
    execve() is nontrivial, so I left those in for now.
    
    For all the other system calls that are currently used from inside the
    kernel, calling the sys_* function directly should always have an identical
    effect.

commit 214b914e1efb03b22cc5009a6f5d78f8df91686c
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:25:48 2004 -0800

    [PATCH] Manfred's patch to distribute boot allocations across nodes
    
    From: Anton Blanchard <anton@samba.org>
    
    Distribute boot time memory allocations across all nodes, from Manfred
    Spraul.
    
    We want to spread memory across nodes to avoid all allocations ending
    up on node 0.
    
    Spreading boot time allocations around also helps us to avoid node 0
    becoming the hot node.
    
    I took it for a spin:
    
    buddyinfo before:
    Node 7, 0    2    1    1    0    2    1    2    1    2    1    2    741
    Node 6, 0    0    0    2    0    2    1    1    2    2    2    2   1002
    Node 5, 0    0    0    2    0    2    1    2    1    2    2    2   2006
    Node 4, 0    0    0    2    0    2    1    2    1    2    2    2   2006
    Node 3, 0    0    0    2    0    2    1    2    1    2    2    2   2006
    Node 2, 0    0    0    2    0    2    1    2    1    2    2    2   2006
    Node 1, 0    0    0    2    0    2    1    1    2    2    2    2   1002
    Node 0, 0    0   38    7    0    1    1    1    0    0    0    0   1998
    
    buddyinfo after:
    Node 7, 0    1    0    1    1    1    1    0    0    0    1    2    738
    Node 6, 0    1    0    1    1    1    0    1    0    0    2    2   1002
    Node 5, 0    0    0    1    1    1    1    0    0    0    2    2   2006
    Node 4, 0    1    0    1    0    1    1    0    0    0    2    2   2006
    Node 3, 0    0    0    1    0    1    1    0    0    0    2    2   2005
    Node 2, 0    1    0    0    0    0    0    1    0    0    2    2   2006
    Node 1, 0    2    1    1    0    1    1    1    0    0    2    2   1002
    Node 0, 0   20   45    8    3    0    1    1    1    1    0    1   2004
    
    Change in free memory due to patch:
    
    Node 7 -54.08 MB
    Node 6  -6.33 MB
    Node 5  -6.09 MB
    Node 4  -6.14 MB
    Node 3 -22.15 MB
    Node 2  -6.05 MB
    Node 1  -6.12 MB
    Node 0 107.35 MB
    
    As you can see we gained over 100MB on node 0.

commit 0281d847f3a903ab9d0799c5103416d4893fcb34
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:25:38 2004 -0800

    [PATCH] Use 64-bit counters for scheduler stats
    
    From: Kingsley Cheung <kingsley@aurema.com>
    
    A number of scheduler counters wrap around after 47 days.  The context-switch
    counter can wrap around after considerably less time.
    
    Convert them to 64-bit values.

commit baf129a1cae1a08614e3b67fc05c1765cb01fbb4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Mar 13 03:25:29 2004 -0800

    [PATCH] ppc64: fix NUMA compile with large cpumasks
    
    From: Anton Blanchard <anton@samba.org>
    
    The recent NUMA changes fail to compile with large cpumasks, we need to use
    a temporary to get around the type checking.

commit 4352438ec543734a5e4309c6641240b5a06f015e
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Sat Mar 13 03:48:36 2004 -0500

    [PATCH] Fix removable USB drive oops
    
    The actual problem reported was because there wasn't a corresponding
    check on transport_classdev.class in the unregister.
    
    However, on closer inspection I also turned up a nasty thinko in the
    reference counting.  For reasons best known to the class code authors,
    class devices have to obtain their own references to the devices they're
    attached to which they release again in their .release routines, so you
    have to remember to do a get_device() in the correct place after the
    class_device_add().  I put comments in the code so that, hopefully, we
    can avoid the problem in future.

commit b4324bc36fe26a9fb740254857d2d988ba8322b9
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Sat Mar 13 00:35:20 2004 -0500

    [PATCH] Add Domain Validation to the SPI transport class
    
    Domain Validation is a fairly essential element to the SCSI Parallel
    Interface (although if you look very few drivers actually do it).  The
    premise is that the Parallel Bus, being a transmission line, might not
    be correctly tuned to the transfers you want do perform.  DV probes the
    parameters of the transport until it finds a setting that works (for the
    interested, see http://www.t10.org/ftp/t10/drafts/sdv/sdv-r08b.pdf)
    
    The current code employs rather simplistic DV heuristics, although those
    can be improved over time.  The change in scsi_scan.c is so that DV may
    be done easily from the slave_configure routine, which is the most
    natural place to begin.

commit 05930d3fd6b32492a2b7a62b152b0e563c28405b
Merge: 9bf35f8... 3469b09...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Fri Mar 12 19:23:17 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 9bf35f8c7949be067d90db1af39b5ac1a03bd5ce
Merge: 25f3dc6... 7db4809...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Fri Mar 12 16:21:58 2004 -0800

    Merge bk://gkernel.bkbits.net/net-drivers-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 7db4809d09060dd273b33802c009d993c331767b
Merge: a8b828f... 338feab...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 23:11:14 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/net-drivers-2.5

commit 1e102760dc2928b11ebe694d7fb34a315d08fdb3
Merge: 13b908c... fea5b72...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 18:16:02 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit fea5b72fecdf50a4babce6d0110c74e1dc2008c6
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 18:14:53 2004 -0500

    [ACPI] add boot parameters "acpi_osi=" and "acpi_serialize"
      acpi_osi= will disable the _OSI method -- which by default
    	tells the BIOS to behave as if Windows is the OS.
      acpi_serialize is for debugging AE_ALREADY_EXISTS failures

commit 13b908cd48c3ebd1cf9266210e11103ae250267f
Merge: 8e0088b... 954c918...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 15:33:46 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 8e0088b56c3987e499059d72890996cfb676a27a
Merge: a8b828f... a3b4dc3...
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 15:24:10 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.5
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.5

commit 25f3dc686b9a45516ad51eb553e4b3f98df5f1eb
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 15:16:33 2004 -0500

    [blk carmel] fix bug, minor cleanups
    
    * the scan-channels message seemed to always give invalid output.
      Look at the constant, and discover we are sending another
      message entirely.  Fix the constant (CARM_MSG_IOCTL).
    
    * s/MISC_SYNC_TIME/MISC_SET_TIME/
    
    * list some additional messages
    
    * bump version number

commit 954c9189851775caea1e98d767c20bcf2824ed88
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 14:35:17 2004 -0500

    [ACPI] ACPICA 20040311 from Bob Moore
    
    Fixed a problem where errors occurring during the parse phase of control
    method execution did not abort cleanly.  For example, objects created
    and installed in the namespace were not deleted.  This caused all
    subsequent invocations of the method to return the AE_ALREADY_EXISTS
    exception.
    
    Implemented a mechanism to force a control method to "Serialized"
    execution if the method attempts to create namespace objects.
    (The root of the AE_ALREADY_EXISTS problem.)
    
    Implemented support for the predefined _OSI "internal" control method.
    Initial supported strings are "Linux", "Windows 2000", "Windows 2001",
    and "Windows 2001.1", and can be easily upgraded for new strings as
    necessary.  This feature allows Linux to execute
    the fully tested, "Windows" code path through the ASL code
    
    Global Lock Support:  Now allows multiple acquires and releases with any
    internal thread.  Removed concept of "owning thread" for this special
    mutex.
    
    Fixed two functions that were inappropriately declaring large objects on
    the CPU stack: ps_parse_loop() and ns_evaluate_relative().
    Reduces the stack usage during method execution considerably.
    
    Fixed a problem in the ACPI 2.0 FACS descriptor (actbl2.h) where the
    S4Bios_f field was incorrectly defined as UINT32 instead of UINT32_BIT.
    
    Fixed a problem where acpi_ev_gpe_detect() would fault
    if there were no GPEs defined on the machine.
    
    Implemented two runtime options:  One to force all control method
    execution to "Serialized" to mimic Windows behavior, another to disable
    _OSI support if it causes problems on a given machine.

commit ae386697bf1c45ad8991a6e90665db448877df01
Author: Len Brown <len.brown@intel.com>
Date:   Fri Mar 12 14:03:06 2004 -0500

    [ACPI] SMP poweroff (David Shaohua Li)
    http://bugzilla.kernel.org/show_bug.cgi?id=1141

commit 338feab56e869a1d26bebb55480687a5fb94cf33
Author: Scott Feldman <scott.feldman@intel.com>
Date:   Fri Mar 12 11:40:45 2004 -0500

    [netdrvr e100] fix stray skb pointer
    
    * Not setting cb->skb = NULL after releasing skb to OS or during
      initialization of cbs.  Reported by Deepak Saxena
      [dsaxena@plexity.net].

commit 1daaf03fbd82f750124973168e176c877f9b5339
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 11:28:57 2004 -0500

    [libata] clean up module_init() hook of sata_{promise,sil,svw} drivers
    
    The more verbose form existed for decreased differences with the 2.4
    backport.  But differences in this area existed anyway, so why not
    clean up the 2.6 versions even more.

commit 99a7f227790ea4d2958c79a2c5e9b660aa1ddcdb
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Fri Mar 12 11:18:26 2004 -0500

    [PATCH] update for sata_vsc
    
    Hch reviewed my sata_vsc driver and had a few comments.
    
    If you could please apply these changes, I'd appreciate it.
    The copyright is probably the most important for me (apparently
    I goofed with the OSL.
    
    thanks
    
    jeremy

commit bf9b7f73a2ce2ecf08e136ec2295c86a639c6c91
Author: Oliver Neukum <oliver@neukum.org>
Date:   Fri Mar 12 15:51:14 2004 +0100

    input: fixes in wacom.c
      -use GFP_KERNEL where SLAB_ATOMIC is not needed
      -fix count bug in open() error path

commit 002653d2adbd264f6422f71736079eededcbc5b9
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Fri Mar 12 07:00:50 2004 -0500

    [PATCH] update the 53c700 use of transport attributes
    
    This patch just brings it up to date with the previous transport
    attribute patch, moving it to the model where it sets the min/max of the
    attribute if asked for something outside its range.  It also only makes
    period and offset visible (it doesn't care about any of the others).

commit 678decfe40079012e26d852c3b799f04388cdb09
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Fri Mar 12 06:59:27 2004 -0500

    [PATCH] more SPI transport attribute updates
    
    This does three things
    
    - Fix the signedness of the bit attributes (otherwise they show up as -1
    when on, not 1)
    - Make the period adjust to the closest value rather than ignoring
    values it doesn't understand.
    - Add a visibility field to attributes, so drivers can get rid of
    attributes they're never going to care about

commit 47b243df18e76f107ef0c74cb2f498c3c633f16b
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Fri Mar 12 06:52:52 2004 -0500

    [PATCH] add device quiescing to the SCSI API
    
    This patch adds the ability to quiesce a SCSI device.  The idea is that
    user issued commands (including filesystem ones) would get blocked,
    while mid-layer and device issued ones would be allowed to proceed.
    This is for things like Domain Validation which like to operate on an
    otherwise quiet device.
    
    There is one big change: to get all of this to happen correctly,
    scsi_do_req() has to queue on the *head* of the request queue, not the
    tail as it was doing previously.  The reason is that deferred requests
    block the queue, so anything needing executing after a deferred request
    has to go in front of it.  I don't think there are any untoward
    consequences of this.

commit 6689060c0996ad9e2a2885f906c4580191275dc7
Author: Mark Haverkamp <markh@osdl.org>
Date:   Fri Mar 12 06:29:49 2004 -0500

    [PATCH] add adapter support to aacraid driver (update)
    
    Mark S. said that there was another adapter added, and that they changed
    the names of some boards.  Here is the updated version.

commit c4d4a3a58808956a127df191a149bea3aedee28e
Author: Matthew Wilcox <willy@debian.org>
Date:   Fri Mar 12 06:28:27 2004 -0500

    [PATCH] sym2 2.1.18i
    
     - Correct a typo "mvram" -> "nvram".
     - Re-do the PQS/PDS support which I'd #if 0 out.  Should even work on
       multiple-domain boxes now ;-)
     - Move all the nvram definitions to sym_nvram.h (from Gerard's 2.1.19-pre3)
     - hcb_p -> struct sym_hcb *
     - sdev_p -> struct sym_device *
     - Delete a lot of unused macros from sym_misc.h
     - Move READ_BARRIER and WRITE_BARRIER definitions to sym_glue.h
     - SYM_CONF_NVRAM_WRITE_SUPPORT (from Gerard's 2.1.19-pre3).  Not enabled
       yet.
     - Fix some -W warnings (some courtesy of Adrian Bunk).

commit cf088cda58af39a6363b9f2c03ba788d2bdadec0
Author: Mark Haverkamp <markh@osdl.org>
Date:   Fri Mar 12 06:27:04 2004 -0500

    [PATCH] aacraid driver patch
    
    I submitted a patch last month for the aacraid driver's reset handler.
    I left out setting function pointers in the adapter_ops structure for
    the adapter_check_health element.

commit 33d15a8bd62781ac948b77f41ba60c9f617112a9
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Mar 12 06:26:21 2004 -0500

    MPT Fusion driver 3.01.01 update
    
    From: 	Moore, Eric Dean <Emoore@lsil.com>
    
    This is an update for the MPT Fusion drivers 2.6 kernel.
    Version 3.01.01.
    
    This is a fix for poor performance in RAID Volumes.
    The dvStatus was being cleared for hidden physical disks
    when mptscsih_slave_destroy is called.
    
    Also, I have fixed the warning comming from mptscsih_reset_timeouts.

commit 17e2ec07e1535744be62d95db5db768f9a736d2e
Merge: 69ad470... 4d92fbe...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 04:21:45 2004 -0500

    Merge kernel.bkbits.net:net-drivers-2.5
    into redhat.com:/spare/repo/net-drivers-2.5

commit 69ad4703235d4f001df06dd9af8995b7b3b7393f
Author: Rene Herman <rene.herman@keyaccess.nl>
Date:   Fri Mar 12 03:39:03 2004 -0500

    [PATCH] 8139too assertions

commit e07b9e8f063e6fa6aa24d18b2571fcedbe020fb0
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:35:25 2004 -0500

    [PATCH] use netdev_priv() in drivers/net/ (others)

commit b88af452194ad1d6e0411189d24589c4ffbcefed
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:35:17 2004 -0500

    [PATCH] use netdev_priv() in net/wan drivers

commit 4cb79fb4e2144061b32a492416e71be7cf563847
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:35:10 2004 -0500

    [PATCH] use netdev_priv() in fusion/mptlan

commit dd50d55dc0062c329a52a78d7773b68058685f5b
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:35:03 2004 -0500

    [PATCH] use netdev_priv() in tap/tun/plip/loop/skel

commit 43adf82978677f9c04e4b69d876ecbb069bf5159
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:55 2004 -0500

    [PATCH] use netdev_priv() in net/wireless/ drivers

commit 49b7b788ece8402a4e6ebbfb9d600f8023e220f4
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:48 2004 -0500

    [PATCH] use netdev_priv() in net/tokenring/ drivers

commit 1ef020bf91e99cd040952a987992c7c8768283f0
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:40 2004 -0500

    [PATCH] use netdev_priv() in net/tulip drivers

commit 88f0a5246ad74ac710c66bf8cc1c3dcba6e3373d
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:33 2004 -0500

    [PATCH] use netdev_priv() in net/pcmcia/ drivers

commit 9fcdb63a3bcb038287b938ed3ba30352943eb1dc
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:25 2004 -0500

    [PATCH] use netdev_priv() in net/ intel drivers

commit a0e05a8cec76375e095a1e6bc8da07a11146ebfe
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:18 2004 -0500

    [PATCH] use netdev_priv() in net/arm drivers

commit 184915a80398c8645a99ad0fa6d0b99c275b0991
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:11 2004 -0500

    [PATCH] use netdev_priv() in net/ lance drivers

commit 88c0b8ea1547679469e9a9eb6bddcc21e838df49
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:34:03 2004 -0500

    [PATCH] use netdev_priv() in 3com net drivers

commit 9e86d35edecfcaab1603df5c434fceb88ac4e166
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:33:56 2004 -0500

    [PATCH] use netdev_priv() in /hamradio/

commit 77ab4639405c1b114b7d973692fc66b67fbda2d4
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:33:49 2004 -0500

    [PATCH] use netdev_priv() in appletalk & fc

commit c85f7762ea965ae789b143afad2c3fb9d5008e6f
Author: Arjan van de Ven <arjanv@redhat.com>
Date:   Fri Mar 12 03:24:00 2004 -0500

    [PATCH] xirc2ps ethtool fix
    
    patch below adds bus_info for xirc2ps_cs; anaconda depends on this info to
    be there.

commit 6bdf757d649024b8f9549c773e13e78ae74dcf67
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Fri Mar 12 03:23:52 2004 -0500

    [PATCH] netdevice.h add netif_msg_init helper
    
    This patch adds a helper function to initialize the debug bit mask
    for use with netif_msg_*.  When the debug_value is out of range
    it returns the default_msg_enable_bits.  Tested IA32.

commit 17638114c55ffb30346c332dc6a28b34913cf791
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Fri Mar 12 03:23:45 2004 -0500

    [PATCH] pcnet32 correct names for changes
    
    This patch corrects the names of contributors of changes to the pcnet32
    driver.

commit f2a94347ecd75e790dec885bbc97549e52cbcf7a
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:23:38 2004 -0500

    [PATCH] smctr: fix init section usage
    
    smctr_chk_mca() can be __init.

commit 2402bc87a92184b543bcd2961f41d57581e06d3a
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Fri Mar 12 03:23:30 2004 -0500

    [PATCH] eepro init section usage
    
    eepro_print_info() can be __init.

commit 5f94595657fb7604c9d9c6ac79ba479fd5ad1b1a
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Fri Mar 12 03:23:23 2004 -0500

    [PATCH] forcedeth update
    
    Andrew de Quincey added wol support to forcedeth.
    The patch also renames additional function, to help analyzing backtraces.

commit 1f676e607fd24777d44a081c6f0f989444085cb3
Author: Rusty Russell <trivial@rustcorp.com.au>
Date:   Fri Mar 12 03:23:16 2004 -0500

    [PATCH] drivers_net_wireless_airo.c '< 0' comparison make sense
    
     From:  <adobriyan@mail.ru>
    
    The sense of the comparison was signed, but the code was testing
    an unsigned variable for less-than-zero.

commit e431f12e0fb82549595dbd18cba4638a0b312fa1
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Fri Mar 12 00:22:36 2004 -0800

    remove cdev_set_name completely as it is not needed.

commit fa31a26022c2e755c7673b56d5c19801525c6c1e
Author: Jonathan Corbet <corbet@lwn.net>
Date:   Thu Mar 11 23:20:49 2004 -0800

    [PATCH] cdev 2/2: hide cdev->kobj
    
    The existing cdev interface requires users to deal with the embedded
    kobject in two places:
    
    - The kobject name field must be set before adding the cdev, and
    - Should cdev_add() fail, a call to kobject_put() is required.
    
    IMO, this exposure of the embedded kobject makes the interface more brittle
    and harder to understand.  It's also unnecessary.  With the removal of
    /sys/cdev, a call to cdev_del() will nicely replace kobject_put(), and the
    name setting is easily wrapped.
    
    This is against 2.6.4, but depends on the /sys/cdev removal patch.

commit e9e883fee893e60c22da2eafd9e4c92338506405
Author: Jonathan Corbet <corbet@lwn.net>
Date:   Thu Mar 11 23:20:28 2004 -0800

    [PATCH] cdev 1/2: Eliminate /sys/cdev
    
    This is the first of two patches designed to make life easier for authors
    of device driver books - and, with luck, driver authors too.
    
    /sys/cdev is, according to Al, a mistake which was never really meant to
    exist.  I believe nothing uses it currently - there isn't a whole lot there
    to use.  Its existence takes up system resources, and also requires drivers
    to deal with the cdev's embedded kobject in their failure paths.  The
    following patch (against 2.6.4) makes it all go away.
    
    OK, almost all.  We have to keep (but not register) cdev_subsys because
    it's rwsem is needed to control access to cdev_map.

commit c4403aef8fcf5cb5dd03e39ddb83fbd4f0cc0a4d
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Fri Mar 12 00:18:04 2004 -0700

    PPC32: consistent_free only takes one arguement.

commit 28505ef9959731e79a15e6b133c8b818023371d3
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Thu Mar 11 23:09:53 2004 -0800

    [PATCH] ia64: clean up ACPI GSI/IRQ conversions (ia64 part)
    
    Add "acpi_gsi_to_irq()" as a generic replacement for "acpi_irq_to_vector()".
    This converts from an ACPI global system interrupt number to a Linux IRQ.
    Also, convert ia64-specific terminology to use GSI when appropriate.

commit 746ac5d963cecdba5420498c86cbb8b4523a2da9
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Thu Mar 11 23:19:06 2004 -0700

    PPC32: Fix include/asm-ppc/dma-mapping.h for the !CONFIG_PCI case.

commit a8b828f4f202557dbdc8455f525ae8a02f8b43a2
Merge: 2d0512a... 3f9d4e0...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 20:53:05 2004 -0800

    Merge bk://gkernel.bkbits.net/libata-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 3f9d4e0f0e28691b42995a7e78035425632d4743
Merge: f37af96... 4d92fbe...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 03:54:32 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit 2d0512a44c24ea3e51118158503ab24c4b872175
Merge: 9277cf6... 4061c06...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 20:51:47 2004 -0800

    Merge bk://kernel.bkbits.net/jgarzik/netconsole-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 9277cf69fe25080cbd424aba18f92ac1a1db722d
Merge: b40f57b... 4d92fbe...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 04:05:14 2004 -0500

    Merge redhat.com:/spare/repo/netdev-2.6/netpoll
    into redhat.com:/spare/repo/netconsole-2.5

commit 4061c06147add170a1f70a8d98c2a10bb7c56e2e
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 03:52:04 2004 -0500

    Add Promise SX8 (carmel) block driver.

commit 4d92fbee71491e1e2949e51dc924560cd8886adf
Merge: aba7eea... 0c1e7e8...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 18:26:29 2004 -0800

    Merge bk://gkernel.bkbits.net/prism54-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 0c1e7e8e3069d3e472df1544834473793e4a2dde
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 03:02:56 2004 -0500

    [wireless prism54] remove WIRELESS_EXT ifdefs

commit 8eae4cbfb637d48f5e6d9555ccc14b3b53cbd8fe
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Mar 12 02:55:33 2004 -0500

    [wireless] Add new Prism54 wireless driver.

commit aba7eeadf8a2569468f4b9e16bef51ba79f59c73
Merge: 60059a5... cab841c...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 17:30:40 2004 -0800

    Merge bk://linux-scsi.bkbits.net/scsi-for-linus-2.6
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit 7ed820153475a74c46164997cf73941679f46c5c
Merge: 0a91292... c9d1473...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Fri Mar 12 02:29:52 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 60059a518766c735beca376b2a8483be2c457146
Merge: e13c6d3... dede844...
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 17:28:55 2004 -0800

    Merge http://lia64.bkbits.net/to-linus-2.5
    into ppc970.osdl.org:/home/torvalds/v2.5/linux

commit dede844ed7e954af6953176d27d971d5dc9b82b5
Author: Linus Torvalds <torvalds@ppc970.osdl.org>
Date:   Thu Mar 11 17:08:58 2004 -0800

    Revert attribute_used changes in module.h. They were wrong.
    
    Cset exclude: akpm@osdl.org|ChangeSet|20040312161945|47751

commit 29d18b52045677dc961329bcbff05c6bc90c998b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:56 2004 -0800

    [PATCH] slab: avoid higher-order allocations
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    At present slab is using 2-order allocations for the size-2048 cache.  Of
    course, this can affect networking quite seriously.
    
    The patch ensures that slab will never use more than a 1-order allocation
    for objects which have a size of less than 2*PAGE_SIZE.

commit 349055d09d3ebcbc7cb0bd50a0488194dc68f2ee
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:47 2004 -0800

    [PATCH] vmscan: add lru_to_page() helper
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    Add a little helper macro for a common list extraction operation in vmscan.c

commit fb5b4abea5de73406d63f60aeb455edccff8eb6e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:36 2004 -0800

    [PATCH] vm: balance inactive zone refill rates
    
    The current refill logic in refill_inactive_zone() takes an arbitrarily large
    number of pages and chops it down to SWAP_CLUSTER_MAX*4, regardless of the
    size of the zone.
    
    This has the effect of reducing the amount of refilling of large zones
    proportionately much more than of small zones.
    
    We made this change in may 2003 and I'm damned if I remember why.  let's put
    it back so we don't truncate the refill count and see what happens.

commit 07a257798ff40905f6cdd71f300cb2fd1f6625f6
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:24 2004 -0800

    [PATCH] fix vm-batch-inactive-scanning.patch
    
    - prevent nr_scan_inactive from going negative
    
    - compare `count' with SWAP_CLUSTER_MAX, not `max_scan'
    
    - Use ">= SWAP_CLUSTER_MAX", not "> SWAP_CLUSTER_MAX".

commit ceb37d32d848b1bd91c1773d401847423ee72d29
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:12 2004 -0800

    [PATCH] vmscan: batch up inactive list scanning work
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    Use a "refill_counter" for inactive list scanning, similar to the one used
    for active list scanning.  This batches up scanning now that we precisely
    balance ratios, and don't round up the amount to be done.
    
    No observed benefits, but I imagine it would lower the acquisition
    frequency of the lru locks in some cases, and make codepaths more efficient
    in general due to cache niceness.

commit 085b489721f03f797cfe26e5801c2ff513f59e36
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:25:03 2004 -0800

    [PATCH] vmscan: less throttling of page allocators and kswapd
    
    This is just a random unsubstantiated tuning tweak: don't immediately
    throttle page allocators and kwapd when the going is getting heavier: scan a
    bit more of the LRU before throttling.

commit ffa0fb784901a686878f6fb3fe3ae0526e5ebedf
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:52 2004 -0800

    [PATCH] fix the kswapd zone scanning algorithm
    
    This removes a vestige of the old algorithm.  We don't want to skip zones if
    all_zones_ok is true: we've already precalculated which zones need scanning
    and this just stops us from ever performing kswapd reclaim from the DMA zone.

commit 519ab68b1a414356bbd8aedc7162b93bf892f55f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:40 2004 -0800

    [PATCH] kswapd: fix lumpy page reclaim
    
    As kswapd is now scanning zones in the highmem->normal->dma direction it can
    get into competition with the page allocator: kswapd keep on trying to free
    pages from highmem, then kswapd moves onto lowmem.  By the time kswapd has
    done proportional scanning in lowmem, someone has come in and allocated a few
    pages from highmem.  So kswapd goes back and frees some highmem, then some
    lowmem again.  But nobody has allocated any lowmem yet.  So we keep on and on
    scanning lowmem in response to highmem page allocations.
    
    With a simple `dd' on a 1G box we get:
    
     r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy wa id
     0  3      0  59340   4628 922348    0    0     4 28188 1072   808  0 10 46 44
     0  3      0  29932   4660 951760    0    0     0 30752 1078   441  1  6 30 64
     0  3      0  57568   4556 924052    0    0     0 30748 1075   478  0  8 43 49
     0  3      0  29664   4584 952176    0    0     0 30752 1075   472  0  6 34 60
     0  3      0   5304   4620 976280    0    0     4 40484 1073   456  1  7 52 41
     0  3      0 104856   4508 877112    0    0     0 18452 1074    97  0  7 67 26
     0  3      0  70768   4540 911488    0    0     0 35876 1078   746  0  7 34 59
     1  2      0  42544   4568 939680    0    0     0 21524 1073   556  0  5 43 51
     0  3      0   5520   4608 976428    0    0     4 37924 1076   836  0  7 41 51
     0  2      0   4848   4632 976812    0    0    32 12308 1092    94  0  1 33 66
    
    Simple fix: go back to scanning the zones in the dma->normal->highmem
    direction so we meet the page allocator in the middle somewhere.
    
     r  b   swpd   free   buff  cache   si   so    bi    bo   in    cs us sy wa id
     1  3      0   5152   3468 976548    0    0     4 37924 1071   650  0  8 64 28
     1  2      0   4888   3496 976588    0    0     0 23576 1075   726  0  6 66 27
     0  3      0   5336   3532 976348    0    0     0 31264 1072   708  0  8 60 32
     0  3      0   6168   3560 975504    0    0     0 40992 1072   683  0  6 63 31
     0  3      0   4560   3580 976844    0    0     0 18448 1073   233  0  4 59 37
     0  3      0   5840   3624 975712    0    0     4 26660 1072   800  1  8 46 45
     0  3      0   4816   3648 976640    0    0     0 40992 1073   526  0  6 47 47
     0  3      0   5456   3672 976072    0    0     0 19984 1070   320  0  5 60 35

commit 9ef935c2461f4ba1de288a4ece36f941225c3b4f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:29 2004 -0800

    [PATCH] kswapd: avoid unnecessary reclaiming from higher zones
    
    Currently kswapd walks across all zones in dma->normal->highmem order,
    performing proportional scanning until all zones are OK.  This means that
    pressure against ZONE_NORMAL causes unnecessary reclaim of ZONE_HIGHMEM.
    
    To fix that up we change kswapd so that it walks the zones in the
    high->normal->dma direction, skipping zones which are OK.  Once it encounters
    a zone which needs some reclaim kswapd will perform proportional scanning
    against that zone as well as all the succeeding lower zones.
    
    We scan the lower zones even if they have sufficient free pages.  This is
    because
    
    a) the lower zone may be above pages_high, but because of the incremental
       min, the lower zone may still not be eligible for allocations.  That's bad
       because cache in that lower zone will then not be scanned at the correct
       rate.
    
    b) pages in this lower zone are usable for allocations against the higher
       zone.  So we do want to san all the relevant zones at an equal rate.

commit bcf2fb27bb108e2a022d6ae02588a79985e33b3e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:20 2004 -0800

    [PATCH] vmscan: avoid bogus throttling
    
    - If max_scan evaluates to zero due to a very small inactive list and high
      `priority' numbers, we don't want to thrlttle yet.
    
    - In balance_pgdat(), we may end up not scanning any pages because all
      zones happened to be above pages_high.  Avoid throttling in this case too.

commit e5f02647092da2e71e63e817b912192bbd7d57b7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:10 2004 -0800

    [PATCH] Balance inter-zone scan rates
    
    When page reclaim is working out how many pages to san in a zone (max-scan)
    it presently rounds that number up if it looks too small - for work batching.
    
    Problem is, this can result in excessive scanning against small zones which
    have few inactive pages.  So remove it.
    
    Not that it is possible for max_scan to be zero.  That's OK - it'll become
    non-zero as the priority increases.

commit 5954a8b0d90cd5d747f0cd9d18388a4173375dbb
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:24:01 2004 -0800

    [PATCH] vmscan: drive everything via nr_to_scan
    
    Page reclaim is currently a bit schitzo: sometimes we say "go and scan this
    many pages and tell me how many pages were freed" and at other times we say
    "go and scan this many pages, but stop if you freed this many".
    
    It makes the logic harder to control and to understand.  This patch coverts
    everything into the "go and scan this many pages and tell me how many pages
    were freed" model.
    
    It doesn't seem to affect performance much either way.

commit b532f4af34f0e0f96ee32803f1e5df02d5ae06bd
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:50 2004 -0800

    [PATCH] vmscan: zone balancing fix
    
    We currently have a problem with the balancing of reclaim between zones: much
    more reclaim happens against highmem than against lowmem.
    
    This patch partially fixes this by changing the direct reclaim path so it
    does not bale out of the zone walk after having reclaimed sufficient pages
    from highmem: go on to reclaim from lowmem regardless of how many pages we
    reclaimed from lowmem.

commit 768c4fccbdbe2d7a518e02ae680e91ca39918375
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:38 2004 -0800

    [PATCH] vm: scan slab in response to highmem scanning
    
    The patch which went in six months or so back which said "only reclaim slab
    if we're scanning lowmem pagecache" was wrong.  I must have been asleep at
    the time.
    
    We do need to scan slab in response to highmem page reclaim as well.  Because
    all the math is based around the total amount of memory in the machine, and
    we know that if we're performing highmem page reclaim then the lower zones
    have no free memory.

commit a5cc10d59fe2e23e663c6e1dc11dce787ec0bbec
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:28 2004 -0800

    [PATCH] vmscan: fix calculation of number of pages scanned
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    The logic which calculates the numberof pages which were scanned is mucked
    up.  Fix.

commit b488ea8158988e5cdffd102d58ddbed1715b14e1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:19 2004 -0800

    [PATCH] vm: shrink slab evenly in try_to_free_pages()
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    In try_to_free_pages(), put even pressure on the slab even if we have
    reclaimed enough pages from the LRU.

commit dee961138549afbce2c41636f934a5ef52c104b3
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:10 2004 -0800

    [PATCH] shrink_slab: math precision fix
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    In shrink_slab(), do the multiply before the divide to avoid losing
    precision.

commit 29d8c59cfeedd4a8b584c981a10f89f7824b3e5d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:23:01 2004 -0800

    [PATCH] vmscan: preserve page referenced info in refill_inactive()
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    If refill_inactive_zone() is running in its dont-reclaim-mapped-memory mode
    we are tossing away the referenced infomation on active mapped pages.
    
    So put that info back if we're not going to deactivate the page.

commit b6c1702e938f7ca5be83e038c87ede7629cdb363
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:22:50 2004 -0800

    [PATCH] kswapd throttling fixes
    
    The logic in balance_pgdat() is all bollixed up.
    
    - the incoming arg `nr_pages' should be used to determine if we're being
      asked to free a specific number of pages, not `to_free'.
    
    - local variable `to_free' is not appropriate for the determination of
      whether we failed to bring all zones to appropriate free pages levels.
    
      Fix this by correctly calculating `all_zones_ok' and then use
      all_zones_ok to determine whether we need to throttle kswapd.
    
    So the logic now is:
    
    
    	for (increasing priority) {
    
    		all_zones_ok = 1;
    
    		for (all zones) {
    			to_reclaim = number of pages to try to reclaim
    				     from this zone;
    			max_scan = number of pages to scan in this pass
    				   (gets larger as `priority' decreases)
    			/*
    			 * set `reclaimed' to the number of pages which were
    			 * actually freed up
    			 */
    			reclaimed = scan(max_scan pages);
    			reclaimed += shrink_slab();
    
    			to_free -= reclaimed;	/* for the `nr_pages>0' case */
    
    			/*
    			 * If this scan failed to reclaim `to_reclaim' or more
    			 * pages, we're getting into trouble.  Need to scan
    			 * some more, and throttle kswapd.   Note that this
    			 * zone may now have sufficient free pages due to
    			 * freeing activity by some other process.   That's
    			 * OK - we'll pick that info up on the next pass
    			 * through the loop.
    			 */
    			if (reclaimed < to_reclaim)
    				all_zones_ok = 0;
    		}
    		if (to_free > 0)
    			continue;	/* swsusp: need to do more work */
    		if (all_zones_ok)
    			break;		/* kswapd is done */
    		/*
    		 * OK, kswapd is getting into trouble.  Take a nap, then take
    		 * another pass across the zones.
    		 */
    		blk_congestion_wait();
    	}

commit 13095f7ac9d40ac9a68c423ca020d962803907ba
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:22:39 2004 -0800

    [PATCH] mm/vmscan.c: remove unused priority argument.
    
    From: Nikita Danilov <Nikita@Namesys.COM>
    
    Now that decision to reclaim mapped memory is taken on the basis of
    zone->prev_priority, priority argument is no longer needed.

commit c05d7ab9f15a0c6707e39a341f08558830708697
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:22:27 2004 -0800

    [PATCH] Narrow blk_congestion_wait races
    
    From: Nick Piggin <piggin@cyberone.com.au>
    
    The addition of the smp_mb and the other change is to try to close the
    window for races a bit.  Obviously they can still happen, it's a racy
    interface and it doesn't matter much.

commit f3179458d17d97c3e845401122da9454eb970147
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:22:15 2004 -0800

    [PATCH] return remaining jiffies from blk_congestion_wait()
    
    Teach blk_congestion_wait() to return the number of jiffies remaining.  This
    is for debug, but it is also nicely consistent.

commit 760d95b5a58de70a26352d5ee385dab1d7144dab
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:22:06 2004 -0800

    [PATCH] vm: per-zone vmscan instrumentation
    
    To check on zone balancing, split the /proc/vmstat:pgsteal, pgreclaim pgalloc
    and pgscan stats into per-zone counters.
    
    Additionally, split the pgscan stats into pgscan_direct and pgscan_kswapd to
    see who's doing how much scanning.
    
    And add a metric for the number of slab objects which were scanned.

commit bae30a3f854dd84d9857c19558e5b9aed0eb1610
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:56 2004 -0800

    [PATCH] synclink.c update
    
    From: Paul Fulghum <paulkf@microgate.com>
    
    * track driver API changes
    * remove cast (kernel janitor)

commit 208516ea438bf7f40b978db1e83eb79e1704382f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:45 2004 -0800

    [PATCH] synclink_cs.c update
    
    From: Paul Fulghum <paulkf@microgate.com>
    
    * Track driver API changes
    * Remove cast (kernel janitor)

commit abc5e2bb1387159072f23ed0714947300039935d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:34 2004 -0800

    [PATCH] synclinkmp.c update
    
    From: Paul Fulghum <paulkf@microgate.com>
    
    Patch for synclinkmp.c
    
    * Track driver API changes
    * Remove cast (kernel janitor)
    * Replace page_free call with kfree (to match kmalloc allocation)

commit 66d1bbed7bd6fb5c711073e0953adb0850a22d5c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:24 2004 -0800

    [PATCH] Add barriers to avoid race in mempool_alloc/free
    
    From: Chris Mason <mason@suse.com>
    
    mempool_alloc() and mempool_free() check pool->curr_nr without any locks
    held.  This can lead to skipping a wakeup when there are people waiting,
    and sleeping when there are free elements in the pool.
    
    I can't trigger this reliably, but sooner or later someone on ppc is
    probably going to hit it.

commit e798a41d3aa745644dbbec987df14b179043d03c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:15 2004 -0800

    [PATCH] m68k: interrupt management cleanups
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    M68k interrupt management: rename routines to not confuse them with
    syscalls
    
    - sys_{request,free}_irq() -> cpu_{request,free}_irq()
    
    - q40_sys_default_handler[] -> q40_default_handler
    
    - sys_default_handler() -> default_handler()

commit 4edbed7be4bbd9e1a2b4aff6245a2ef2c6afc5f1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:21:04 2004 -0800

    [PATCH] m68k: Macintosh IDE fixes
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Mac IDE: Make sure the core IDE driver doesn't try to request the MMIO
    ports a second time, since this will fail.

commit d80597822bb3acb0b78d3b0fe7853ba4ddb29a21
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:20:52 2004 -0800

    [PATCH] Apollo fb sysfsification
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Apollo fb: Add sysfs support (from James Simmons)

commit 77375e791931a792e25d7f1c880c25a28203ccdb
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:20:42 2004 -0800

    [PATCH] m68k: Amiga Framemaster II fb sysfsification
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Amiga Framemaster II fb: Add sysfs support (from James Simmons)

commit c138cf43a7671b1a5223f492fc854c2e543e9635
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:20:33 2004 -0800

    [PATCH] m68k: __test_and_set_bit()
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Add missing implementation for non-atomic __test_and_set_bit()

commit c42f7c1f0d39298b44c425d86c6e13e1f322edfe
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:20:22 2004 -0800

    [PATCH] fbdev: monitor detection fixes
    
    From: James Simmons <jsimmons@infradead.org>,
          Kronos <kronos@kronoz.cjb.net>
    
    Various fixes and enhancements to the monitor hardware detection code.  The
    only driver that uses it is the radeon driver.
    
    Old EDID parsing code was very verbose, half of the patch address this (ie.
    print lots of stuff iff DEBUG).  The other big change is the FB_MODE_IS_*
    stuff: we really need a way to know the origin of a video mode.  In this way
    we can select video mode that comes from EDID instead of VESA or GTF.
    
    Drivers other than radeonfb won't be affected because they cannot (yet) get
    EDID from the monitor and don't use EDID related code.

commit 787bc7760be9ad0cce5c9000004f563a971e8baf
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:20:08 2004 -0800

    [PATCH] Fix NULL pointer dereference in blkmtd.c
    
    From: Michel Marti <michel.marti@objectxp.com>
    
    The blkmtd driver oopses in add_device().  The following trivial patch
    fixes this.

commit 132a41618f714f90e6f354e67b517e3a2bcb49df
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:57 2004 -0800

    [PATCH] fix raid0 readahead size
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    Readahead of raid0 was suboptimal; it read only 1 stride ahead.  The
    problem with this is that while it will keep all spindles busy, it will not
    actually manage to make larger IO's, eg each disk would just do the chunk
    size IO.  Doing at least 2 chunks is more than appropriate so that each
    spindle will get a chance to merge IO's.
    
    (Neil fixed raid6 and raid6 too)

commit ef3555bacb71d5f0fdf57d2afbca633122542a35
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:45 2004 -0800

    [PATCH] module.h __attribute_used__ fix
    
    From: Rusty Russell <rusty@rustcorp.com.au>
    
    Someone added __attribute_used__ throughout module.h, but didn't remove the
    ", unused".  Looks like some arch/gcc combos still consider it unused, and
    discard the fn.

commit b814dfb7fc292e86fc9bd2880c24f8cdff7ab048
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:34 2004 -0800

    [PATCH] Fix CONFIG_NVRAM dependencies
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Make CONFIG_NVRAM depend on the prerequisites that are explicitly checked
    for in drivers/char/nvram.c, or on CONFIG_GENERIC_NVRAM (for PPC).

commit 36f606d2f22f682b9690a015101eb1640cec85a3
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:26 2004 -0800

    [PATCH] Applicom warning
    
    From: Geert Uytterhoeven <geert@linux-m68k.org>
    
    Add missing include (needed for struct inode)

commit 72984282772eb4bedbaf9079d4048417a2bc7e6d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:15 2004 -0800

    [PATCH] Disable Macintosh device drivers for all but PPC || MAC
    
    From: Marc-Christian Petersen <m.c.p@wolk-project.de>
    
    The attached patch is needed to stop showing us "Macintosh device drivers"
    for all architectures via menuconfig || xconfig || gconfig.  It's only
    necessary for PPC and/or MAC.
    
    ACKed by benh.

commit a4fc9e261f62117d6b67578795126b30dff02d02
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:19:04 2004 -0800

    [PATCH] add nowarn to a few pte chain allocators
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    Several of the pte_chain_alloc() allocators that use GFP_ATOMIC have a
    fallback for failure that sleeps; they thus need to not warn on failure..
    Seen during a big fork on a busy system.

commit 6edcc43446a5fd03a780fb4dabe6e474c0893ff6
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:53 2004 -0800

    [PATCH] cciss: init section fix
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    cciss_scsi_detect() can be called after init (for TAPE support).

commit 66b61a5c887e5c2cee18fe6d3d4dfb5e4b07808d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:43 2004 -0800

    [PATCH] EDD: Get Legacy Parameters
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    Patch below from Patrick J. LoPresti and myself.  Patrick describes:
    
    Why this patch?  The problem is that the legacy BIOS interface
    (INT13/AH=3D08) for querying the disk geometry returns different values
    than the extended INT13 interface which the EDD code currently uses.  This
    is because the legacy interface only provides a 10-bit cylinder field, so
    modern BIOSes "lie" about the head/sector counts in order to make more of
    the disk visible within the first 1024 cylinders.
    
    Many non-Linux applications, including the stock Windows boot loader, DOS
    fdisk, etc., rely upon the legacy interface and geometry.  So it is useful
    to be able to obtain the legacy values from a running Linux kernel.
    
    What this patch does is to add new entries under
    /sys/firmware/edd/int13_devXX named "legacy_cylinders", "legacy_heads", and
    "legacy_sectors".  These provide the geometry given by the legacy
    INT13/AH=3D08 BIOS interface, just like the current "default_cylinders"
    etc.  provide the the geometry given by the INT13/AH=3D48 interface.
    
    Without this patch, I cannot use Linux to partition a drive and install
    Windows, which happens to be my application.
    
     - Pat
       http://unattended.sourceforge.net/
    
    In addition, this adds two buggy BIOS workarounds  in the EDD int13
    calls as suggested by Ralf Brown's interrupt list.
    
    I'm also interested in moving this code out of arch/i386/kernel/edd.c and
    include/asm-i386/edd.h, as I believe it is applicable on x86-64 as well.
    However, there's no good place under drivers/ to put edd.c when it's not
    tied to a bus, but to several CPU architectures and their firmwares...
    Maybe a new directory drivers/firmware?

commit e0ed9d75a48feb6dbda0a5321e8b52d8b1c53d2d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:34 2004 -0800

    [PATCH] wavfront.c needs syscalls.h
    
    sound/oss/wavfront.c: In function `wavefront_download_firmware':
    sound/oss/wavfront.c:2524: warning: implicit declaration of function `sys_open'
    sound/oss/wavfront.c:2533: warning: implicit declaration of function `sys_read'
    sound/oss/wavfront.c:2582: warning: implicit declaration of function `sys_close

commit f8ccec6c8e85a19bc0acac7e42af8c924b900703
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:23 2004 -0800

    [PATCH] Fix reading the last block on a bdev
    
    From: Chris Mason <mason@suse.com>
    
    This patch fixes a problem we're hitting on ia64 with page sizes > 4k.
    
    When the page size is greater than the block size, and parts of the page
    fall past the end of the device, readpage will fail because
    blkdev_get_block returns -EIO for blocks past i_size.
    
    The attached patch changes blkdev_get_block to return holes when reading
    past the end of the device, which allows us to read that last valid 4k
    block and then fill the rest of the page with zeros.  Writes will still
    fail with -EIO.

commit 6def6a58d5fed5e146b4c8704b5df12bb1184a1a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:12 2004 -0800

    [PATCH] Fix rootfs on ramdisk
    
    From: vda <vda@port.imtp.ilyichevsk.odessa.ua>
    
    Add a missing test for the "root=/dev/ram" kernel boot option.  It's just an
    alias for /dev/ram0, but it worked in 2.4...

commit 6551f0aa45b999eb00d412c8aec4f47084d35f56
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:18:00 2004 -0800

    [PATCH] current_is_keventd() speedup
    
    From: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    
    current_is_keventd() doesn't need to search across all the CPUs to identify
    itself.

commit 127419b166cc6653900333f1826b5b47e6f18f2c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:17:51 2004 -0800

    [PATCH] Fix and harden validate_mm
    
    From: Andi Kleen <ak@muc.de>
    
    I was debugging some code that corrupted the vma rb lists and for that I
    fixed validate_mm to not be recursive and do some more checks.
    
    It's slower now, but that shouldn't be a problem.
    
    Also make it non static to allow easier checks elsewhere.

commit 3745aa40a802b0dcd7611f2b57728f5f2bbf7d06
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:17:41 2004 -0800

    [PATCH] fadvise(POSIX_FADV_DONTNEED) fixups
    
    From: WU Fengguang <wfg@mail.ustc.edu.cn>
    
    - In sys_fadvise64_64(): if the start and/or end offsets do not fall on
      page boundaries, preserve the partial pages.  The thinking here is that it
      is better to preserve needed memory than to not shoot down unneeded memory.
    
    - In invalidate_mapping_pages(): we were invalidating an entire pagevec's
      worth of pages each time around, even if that went beyond the part of the
      file which the caller asked to be invalidated.  Fix that up.

commit ddfd8f8d221db201e69b041a9eae5145d8f6d7f7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:17:30 2004 -0800

    [PATCH] AMD ELAN Kconfig fix
    
    From: Adrian Bunk <bunk@fs.tum.de>
    
    - remove an MELAN entry that was forgotten in the i386 processor
      selection menu
    
    - s/CONFIG_MELAN/CONFIG_X86_ELAN/ was missing in module.h

commit 1c272552e3809f41630587ee0e3c4d3509b0be2a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:17:21 2004 -0800

    [PATCH] watchdog: moduleparam-patches
    
    From: Wim Van Sebroeck <wim@iguana.be>
    
    Convert last set of watchdog drivers to new moduleparam system.

commit 10658a35b7e2855893e8f6c9dff5177b08fa9d97
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:17:10 2004 -0800

    [PATCH] Remove arbitrary #acl entries limits on ext[23] when reading
    
    From: Andreas Gruenbacher <agruen@suse.de>
    
    Remove the arbitrary limit of 32 ACL entries on ext[23] when reading from
    disk.  This change is backward compatible; we need to have this change in
    to be able to also allow writing big ACLs.
    
    The second patch that removes the ACL entry limit for writes is not
    included.  I don't want to push that patch now, because large ACLs would
    cause 2.4 and current 2.6 kernels to fail.  My plan is to remove the second
    limit later, in a half-year or year or so.

commit c833cc5a7dffa0c198371d193c0b4e30fac9ea4f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:59 2004 -0800

    [PATCH] Enable i810 fb on x86-64
    
    From: Andi Kleen <ak@suse.de>
    
    i810fb most likely is needed on x86-64 too because there are Intel chipsets
    for it now.  So far it only linked on i386, fix this.

commit 08194fb252592bb8e8b5b5557cf7d4fa009a435d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:50 2004 -0800

    [PATCH] /proc data corruption check
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    If someone removes a /proc directory which still has subdirectories it will
    lead to very nasty things (dentries remaining on hash chains etc etc etc).
    The BUG_ON in the patch below will catch this nasty situation.

commit 644a73ebc718a500f7f39107ad321de46e407cc2
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:39 2004 -0800

    [PATCH] Remove unneeded unlock in ipc/sem.c
    
    From: Manfred Spraul <manfred@colorfullife.com>
    
    sem_revalidate checks that a semaphore array didn't disappear while the
    code was running without the semaphore array spinlock.  If the array
    disappeared, then it will return without holding a lock.  find_undo calls
    sem_revalidate and then sem_unlock, even if sem_revalidate failed.  The
    sem_unlock call must be removed.
    
    Mingming Cao reported a spinlock deadlock with sysv semaphores.  A
    superflous unlock doesn't explain the deadlock, but it's obviously a bug.

commit 2e83d38ae4c483813edc544265b39ee5e26f9b88
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:28 2004 -0800

    [PATCH] kbuild: fix usage with directories containing '.o'
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    From: Daniel Mack <daniel@zonque.org>, me
    
    modpost unconditionally searched for ".o" assuming this is always the
    suffix of the module.  This fails in two cases:
    
    a) when building external modules where any directory include ".o" in
       the name.  One example is a directory named: .../cvs.alsa.org/...
    
    b) when someone names a kernel directory so it contains ".o".  One
       example is drivers/scsi/aic.ok/...
    
    case b) was triggered by renaming the directory for aic7xxx, and modifying
    Makefile and Kconfig.  This caused make modules to fail.

commit 238a43a0f005e50e466690241b6310ae8d5c2cce
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:17 2004 -0800

    [PATCH] loop setup race fix
    
    From: Chris Mason <mason@suse.com>
    
    There's a race in loopback setup, it's easiest to trigger with one or more
    procs doing loopback mounts at the same time.  The problem is that
    fs/block_dev.c:do_open() only calls bdev_set_size on the first open.
    Picture two procs:
    
    proc1: mount -o loop file1 mnt1
    proc2: mount -o loop file2 mnt2
    
    proc1                   proc2
    open /dev/loop0                         # bd_openers now 1
    do_open
     bd_set_size(bdev, 0)                   # loop unbound, so bdev size is 0
                            open /dev/loop0 # bd_openers now 2
    loop_set_fd                             # disk capacity now correct, but
    				        # bdev not updated
    mount /dev/loop0 /mnt
    do_open
    
    Because bd_openers != 0 for the last do_open, bd_set_size is not called
    again and a size of 0 is used.  This eventually leads to an oops when the
    loop device is unmounted, because fsync_bdev calls block_write_full_page
    who decides every page on the block device is outside i_size and unmaps
    them.
    
    When ext2 or reiserfs try to sync a metadata buffer, we get an oops on
    because the buffers are no longer mapped.
    
    The patch below changes loop_set_fd and loop_clr_fd to also manipulate the
    size of the block device, which fixes things for me.

commit 275da6a305c6b1ee5283011ed5757d4cc45c5994
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:16:06 2004 -0800

    [PATCH] LOOP_CHANGE_FD ioctl
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    The patch below (written by Al Viro) solves a nasty chicken-and-egg issue
    for operating system installers (well at least anaconda but the problem
    domain is not exclusive to that)
    
    The basic problem is this:
    
    - The small first stage installer locates the image file of the second
      stage installer (which has X and all the graphical stuff); this image can
      be on the same CD, but it can come via NFS, http or ftp or ...  as well.
    
    - The first stage installer loop-back mounts this image and gives control
      to the second stage installer by calling some binary there.
    
    - The graphical installer then asks the user all those questions and
      starts installing packages.  Again the packages can come from the CD but
      also from NFS or http or ...
    
    Now in case of a CD install, once all requested packages from the first CD
    are installed, the installer wants to unmount and eject the CD and prompt
    the user to put CD 2 in.......  EXCEPT that the unmount can't work since
    the installer is actually running from a loopback mount of this cd.
    
    The solution is a "LOOP_CHANGE_FD" ioctl, where basically the installer
    copies the image to the harddisk (which can only be done late since only
    late the target harddisk is mkfs'd) and then magically switches the backing
    store FD from underneath the loop device to the one on the target harddisk
    (and thus unbusying the CD mount).
    
    This is obviously only allowed if the size of the new image is identical
    and if the loop image is read-only in the first place.  It's the
    responsibility of root to make sure the contents is the same (but that's of
    the give-root-enough-rope kind)

commit 0c8846a53ed60c87cd952db80c7613c21959b960
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:15:54 2004 -0800

    [PATCH] kbuild: Cause `make clean' to remove more files
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    Make the difference between 'make clean' and 'make distclean/mrproper' more
    explicit.
    
    make clean now removes all generated files except .config* and .version.
    The result is much easier to understand now.
    
    make clean deletes all generated files (except .config* and .version).
    make mrproper deletes configuration and all temporary files left by patch,
    editors and the like.
    
    Example output:
    > make mrproper
      CLEAN   init
      CLEAN   usr
      CLEAN   scripts/kconfig
      CLEAN   scripts
      CLEAN   .tmp_versions include/config
      CLEAN   include/asm-i386/asm_offsets.h include/linux/autoconf.h include/linux/version.h include/asm .tmp_versions
      CLEAN   .version .config
    
    Form the list of files/directories deleted during make clean, removed all
    references that is no longer relevant for the current kernel.

commit 22a5dad817ebed8c879f00f65ec545db82c164a7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:15:45 2004 -0800

    [PATCH] Fix elf mapping of the zero page
    
    From: William Lee Irwin III <wli@holomorphy.com>
    
    Using PAGE_SIZE rather than 4096 so that mmap() granularity is honored by
    whatever non-i386 architectures use MMAP_PAGE_ZERO.

commit d398efb9709f906800c1394a2aa821b2e657447a
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:15:34 2004 -0800

    [PATCH] compiler.h scoping fixes
    
    From: Ville Nuorvala <vnuorval@tcs.hut.fi>
    
    There are a few kernel-only things in compiler.h which should have been
    placed inside __KERNEL__.

commit 3b704d3fb7eeb7984d49162d6675e4505d7dab52
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:15:19 2004 -0800

    [PATCH] Redundant unplug_timer deletion
    
    From: "Chen, Kenneth W" <kenneth.w.chen@intel.com>
    
    The only path to get to del_timer call in __generic_unplug_device() is when
    blk_remove_plug() returns 1, and in that case it already removed the
    unplug_timer.
    
    Patch to remove this redundant call.

commit 0eaf393b6b6ec017f48aa02ba90b1dd53ad16e65
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:15:08 2004 -0800

    [PATCH] NUMA-aware zonelist builder
    
    From: <j-nomura@ce.jp.nec.com>
    
    The attached patch is NUMA-aware zonelist builder patch, which sorts
    zonelist in the order that near-node first, far-node last.  In lse-tech and
    linux-ia64, where most of NUMA people resides, no objections are raised so
    far.
    
    The patch adds NUMA-specific version of build_zonelists which calls
    find_next_best_node to select the next-nearest node to add to zonelist.
    
    The patch has no effect on flat NUMA platform.

commit 290d11d8c745f4bba07c13ee231976103dad2935
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:55 2004 -0800

    [PATCH] kbuild: Remove CFLAGS assignment in i386/mach-*/Makefile
    
    From: Sam Ravnborg <sam@ravnborg.org>
    
    The EXTRA_CFLAGS assignments in the following files are a left-over from
    the early 2.5 days where the source was not compiled from the root of the
    source tree.
    
    Removing these wrong assignments fixes
    http://bugme.osdl.org/show_bug.cgi?id=2210
    
    A script named 'kernel' in the .. directory no longer halt compilation.

commit 5cc6e01a41cc52fd17f0ed178be4be6134035cef
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:43 2004 -0800

    [PATCH] UDF filesystem update
    
    From: Ben Fennema <bfennema@falcon.csc.calpoly.edu>
    
    - added udf 2.5 #defines
    
    - fixed prealloc discard race
    
    - fixed several bugs in inode_getblk
    
    - added S_IFSOCK support
    
    - fix unicode encoding bug
    
    - change partition allocation from kmalloc to vmalloc for large
      allocations

commit 5289ba41a0a403270bee9da9e08990831d769cb7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:32 2004 -0800

    [PATCH] selinux: clean up binary mount data
    
    From: James Morris <jmorris@redhat.com>
    
    selinux is currently inspecting the filesystem name ("nfs" vs "coda" vs
    watever) to work out whether it needs to hanbdle binary mount data.
    
    Eliminate all that by adding a flag to file_system_type.fs_flags.

commit ef01bd3f7cc37c3d79b3d075304aa9faaf95b190
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:23 2004 -0800

    [PATCH] dm: stripe width fix
    
    dm-stripe.c: The stripe width must be at least the page size.

commit c0ffbd19c694a05674973e3188852c919a48a1bc
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:14 2004 -0800

    [PATCH] dm: list targets cmd
    
    From: Joe Thornber <thornber@redhat.com>
    
    List targets ioctl.  [Patrick Caulfield]

commit eafc59aecb6e26820bc037299a808390c180de1d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:14:02 2004 -0800

    [PATCH] dm: default queue limits
    
    From: Joe Thornber <thornber@redhat.com>
    
    Fill in missing queue limitations when table is complete instead of enforcing
    the "default" limits on every dm device.  Problem noticed by Mike Christie.
    
    [Christophe Saout]

commit 2c99d29585a4fabec7b641196f8d2eaa506e9e34
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:13:51 2004 -0800

    [PATCH] dm: list_for_each_entry audit
    
    From: Joe Thornber <thornber@redhat.com>
    
    Audit for list_for_each_*entry*

commit ba657cf7696bf324ae660b642f23258a1bc50028
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:13:40 2004 -0800

    [PATCH] dm: endio method
    
    From: Joe Thornber <thornber@redhat.com>
    
    Add an endio method to targets.  This method is allowed to request another
    shot at failed ios (think multipath).  Context can be passed between the map
    method and the endio method.

commit e8c8fab4f4d8a23b95223189b4f7b4ffb2d80de0
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:13:26 2004 -0800

    [PATCH] Allow X86_MCE_NONFATAL to be a module
    
    From: Herbert Xu <herbert@gondor.apana.org.au>
    
    By allowing X86_MCE_NONFATAL to be a module, it can be included in
    distribution kernels without upsetting those with strange hardware.

commit 973adfc0cb2afbb7729968ed35d2a1f621fda465
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:13:16 2004 -0800

    [PATCH] i386 very early memory detection cleanup patch
    
    From: "H. Peter Anvin" <hpa@zytor.com>
    
    This patch cleans up the very early memory setup on the i386 platform.  In
    particular, it removes the hard-coded 8 MB limit completely by dynamically
    creating the early-boot pagetables rather than having them hard coded.
    
    While I was at it, I changed head.S so that it always sets up a local GDT;
    this means among other things that SMP and VISWS are no longer special
    cases, and is conceptually cleaner to boot.  The VISWS people have
    confirmed it works on VISWS.
    
    It also uses a separate entrypoint for non-boot processors since this is
    completely kernel-internal anyway.  This eliminates the need to set %bx on
    boot.  (If you think this is a bad idea I can eliminate this change; it
    just seemed cleaner to me to do it this way.)
    
    Additionally, zero bss with rep;stosl rather that rep;stosb.

commit e47d860c15222fd0ece0933935e20bf3c666d26f
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:13:07 2004 -0800

    [PATCH] genrtc: cleanups
    
    From: "Randy.Dunlap" <rddunlap@osdl.org>
    
    From: Luiz Fernando Capitulino <lcapitulino@prefeitura.sp.gov.br>
    
    remove ifdef/endif in rtc_generic_init().
    use returned error code;

commit a1d75429b4828c425519359d27ad475446183ad1
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:57 2004 -0800

    [PATCH] remove __io_virt_debug
    
    From: Brian Gerst <bgerst@didntduck.org>
    
    Drivers should all be converted to use ioremap() or isa_*() by now.

commit 48c261536c971bf235544cc2aaa58fa0a18e495c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:47 2004 -0800

    [PATCH] teach /proc/kmsg about O_NONBLOCK
    
    If there's nothing available and the file is O_NONBLOCK, return -EAGAIN.
    
    This is a bit grubby - really we should push the file* down into do_syslog()
    and handle it inside the spinlock.

commit 40aaa9b3f87d0d58387af5c415ebb10406f5ad29
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:38 2004 -0800

    [PATCH] time interpolator fix
    
    From: john stultz <johnstul@us.ibm.com>
    
    In developing the ia64-cyclone patch, which implements a cyclone based time
    interpolator, I found the following bug which could cause time
    inconsistencies.
    
    In update_wall_time_one_tick(), which is called each timer interrupt, we
    call time_interpolator_update(delta_nsec) where delta_nsec is approximately
    NSEC_PER_SEC/HZ.  This directly correlates with the changes to xtime which
    occurs in update_wall_time_one_tick().
    
    However in update_wall_time(), on a second overflow, we again call
    time_interpolator_update(NSEC_PER_SEC).  However while the components of
    xtime are being changed, the overall value of xtime does not (nsec is
    decremented NSEC_PER_SEC and sec is incremented).  Thus this call to
    time_interpolator_update is incorrect.
    
    This patch removes the incorrect call to time_interpolator_update and was
    found to resolve the time inconsistencies I had seen while developing the
    ia64-cyclone patch.

commit 688466a4f24ed48874c221b80a910f61cee0fd3e
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:26 2004 -0800

    [PATCH] fb_console_init fix
    
    From: James Simmons <jsimmons@infradead.org>
    
    This patch fixes fb_console_init from being called twice.  I still need to
    fix set_con2fb but this helps but this is still important to get in.

commit e3459dfb5bf954c69a3ff663218633e5b93c3a60
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:15 2004 -0800

    [PATCH] read-only support for UFS2
    
    From: Niraj Kumar <niraj17@iitbombay.org>
    
    This patch adds read-only support for ufs2 (used in FreeBSD 5.x) variant of
    ufs filesystem.  For filesystem specific tools, see
    http://ufs-linux.sourceforge.com .

commit 202775d67e0e440323c92c099a3f996c4ab12f6c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:12:05 2004 -0800

    [PATCH] adaptive lazy readahead
    
    From: Suparna Bhattacharya <suparna@in.ibm.com>
    
    From: Ram Pai <linuxram@us.ibm.com>
    
    Pipelined readahead behaviour is suitable for sequential reads, but not for
    large random reads (typical of database workloads), where lazy readahead
    provides a big performance boost.
    
    One option (suggested by Andrew Morton) would be to have the application
    pass hints to turn off readahead by setting the readahead window to zero
    using posix_fadvise64(POSIX_FADV_RANDOM), and to special-case that in
    do_generic_mapping_read to completely bypass the readahead logic and
    instead read in all the pages needed directly.
    
    This was the idea I started with.  But then I thought, we can do a still
    better job ?  How about adapting the readahead algorithm to lazy-read or
    non-lazy-read based on the past i/o patterns ?
    
    The overall idea is to keep track of average number of contiguous pages
    accessed in a file.  If the average at any given time is above ra->pages
    the pattern is sequential.  If not the pattern is random.  If pattern is
    sequential do non-lazy-readahead( read as soon as the first page in the
    active window is touched) else do lazy-readahead.
    
    I have studied the behaviour of this patch using my user-level simulator.
    It adapts pretty well.
    
    Note from Suparna: This appears to bring streaming AIO read performance for
    large (64KB) random AIO reads back to sane values (since the lazy readahead
    backout in the mainline).

commit 724feb8d6a6eebf0099acb626208ca446fd3673d
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:11:54 2004 -0800

    [PATCH] readdir() cleanups
    
    From: <viro@parcelfarce.linux.theplanet.co.uk>
    
    cramfs and freevxfs explicitly mark themselves readonly (as other r/o fs
    do).
    
    afs marked noatime (ACKed by maintainer)
    
    filesystems that do not do update_atime() in their ->readdir() had been
    explicitly marked nodiratime.  NOTE: cifs, coda and ncpfs almost certainly
    need full noatime as we currently have in nfs and afs.
    
    update_atime() call shifted to callers of ->readdir() and out of
    ->readdir() instances.  Bugs caught:
    
      dcache_readdir() updated atime only if it reached EOF.
    
      bfs_readdir() - ditto.
    
      qnx4_readdir() - ditto.

commit 68f79793eff251eb5fd9936f4e0f62d67be1054c
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:11:41 2004 -0800

    [PATCH] Clean up sys_ioperm stubs
    
    From: Brian Gerst <bgerst@didntduck.org>
    
    Remove stubs for sys_ioperm for non-x86 arches, using sys_ni_syscall
    instead where applicable.  Support for sys_ioperm is unconditionally no for
    non-x86 arches.

commit ef6574ff3544d9dcaae5431514432cedbef7eba7
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:11:31 2004 -0800

    [PATCH] ppc64: fix initialisation of NUMA arrays
    
    From: Anton Blanchard <anton@samba.org>
    
    We were hitting problems on machines with cpu_possible != cpu_online when
    NUMA was enabled.  The debug checks would trip during scheduler init
    because we iterate through all possible cpus whereas we only set up NUMA
    information for online cpus.
    
    Longer term we should have a cpu_up hook which sets up its NUMA information
    but for now we initalise all possible cpus and memory to node 0.

commit dcdeeef8b9937b13a366fb4cbfca7df678f5dd5b
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Mar 11 16:11:20 2004 -0800

    [PATCH] print kernel version in oops messages
    
    From: Arjan van de Ven <arjanv@redhat.com>
    
    Unfortunatly a large portion of the oops reports lack the basic
    information about what kernel version the oops is for; it's trivial to just
    print this in the oops as well to improve the usefulness of bugreports...

commit 19175f1d609e9144a4301d860c0b97b6db426c93
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Mar 11 15:58:24 2004 -0800

    [PATCH] ppc32: Fix G5 config space access lockup
    
    Fix a typo in the code that prevents lockup on config space access
    to sleeping devices on ppc32/G5. Please apply.

commit cb0cd969975877d7f2ec69530d0a98f6e87379c8
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Mar 11 15:57:24 2004 -0800

    [PATCH] fix ppc64 in kernel syscalls
    
    Thanks to some great debugging work by Olaf Hering and Marcus Meissner
    it has been noticed that the current ppc64 syscall code is corrupting
    4 bytes past errno. Why we even bothered to set errno beats me, its
    unusable in the kernel.
    
    Since we had to reinstate the inline syscall code we can go back to
    using it for those few syscalls that we call. Especially now with
    Randy's syscall prototype cleanup we should be calling them directly
    but we can do that sometime later.

commit f644f1667358af42f05c81fa32a4bb96781377fa
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Mar 11 15:56:51 2004 -0800

    [PATCH] CDROMREADAUDIO dma support
    
    This small patch builds on top of the blk_rq_map_user() patch just sent,
    and enables us to easily support DMA for CDROMREADAUDIO cdda extraction.
    It's quite amazing how much cool stuff you can with the new block layer
    :-)
    
    Patch has intelligent fall back from multi frame dma to single frame
    dma, and further to old-style pio ripping in case of hardware problems.

commit 637b48c8306137e805970b07f7dec37eea9d6bb8
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Mar 11 15:56:40 2004 -0800

    [PATCH] user data -> request mapping
    
    This patch allows you to map a request with user data for io, similarly
    to what you can do with bio_map_user() already to a bio. However, this
    goes one step further and populates the request so the user only has to
    fill in the cdb (almost) and put it on the queue for execution. Patch
    converts sg_io() to use it, next patch I'll send adapts cdrom layer to
    use it for zero copy cdda dma extraction.

commit 95902cd810f918b61eb9177dfe09a413253d84ff
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Mar 11 15:56:29 2004 -0800

    [PATCH] fix PPC64 iSeries virtual console devices
    
    While playing with udev, I discovered that the virtual console
    devices on iSeries had there minor numbers off by one i.e. /dev/tty1
    was minor 2!
    
    This fixes it.

commit e13c6d3625d3f9a70a3195b9d1f589a148e31f99
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Thu Mar 11 04:48:48 2004 -0800

    [PATCH] ia64: fix misc. sn2 warnings
    
    This patch fixes a few warnings that have cropped up in the sn2 code:
      - hwgfs function prototype mismatch
      - pconn uninitialized in pciio.c
      - printk formatting fixes in pcibr_dvr.c
      - kill volatile qualifier in pcibr_intr.c

commit 4aec3a86f0f93165fdf704850a3b36e5c2d8fa79
Author: Matthew Wilcox <willy@debian.org>
Date:   Thu Mar 11 04:44:38 2004 -0800

    [PATCH] ia64: Convert to use the generic drivers/Kconfig mechanism.

commit 3469b0988e8f6a158e9a90e87eedb10d1ae2696b
Merge: 0a91292... 495efa0...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Thu Mar 11 04:42:46 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit cbc22621085e80fff59266a464a32f4c8dcc47dd
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Thu Mar 11 00:53:51 2004 -0800

    [PATCH] I2C: sensor chip driver refactoring
    
    This patch is a refactoring of some common code among all sensors chip
    drivers (except asb100, which was written this way to begin with.)
    It saves a handful of lines and ~100-300 bytes per module.  It compiles
    ok.  I've only tested it against one of the drivers, but the changes are
    similar across the board and quite mechanical.  Please apply.

commit 731ea3e983eff5a364bc2c81bc91d3c4eb6d8f51
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Mar 11 00:39:08 2004 -0800

    [PATCH] USB Gadget: add "gadget_chips.h"
    
    This adds standard gadget_is_*() calls.  Gadget drivers using
    those calls can get rid of some inlined #ifdefs, and will also
    be able to do more "late binding" to their hardware.
    
    
    Define gadget_is_*() calls, to help do late binding to USB controllers.
    
    Current gadget drivers expect to know at compile time what hardware
    they'll bind to.  That's not very friendly to a generic PDA distro,
    which might prefer to defer such choices to run time.
    
    These macros let drivers change that code from inlined #ifdefs (ugh) to
    normal C statements (looks much nicer), so making those "what hardware"
    policy choices at run time gets easier.

commit cab25b58fa0e36a38690c6178297beba61d1196e
Author: Leann Ogasawara <ogasawara@osdl.org>
Date:   Thu Mar 11 00:35:34 2004 -0800

    [PATCH] add sysfs simple class support for DRI char device
    
    Patch adds sysfs simple class support for DRI character device (Major
    226).  Also, adds some error checking.

commit b25d72e9f2b5b1cfadf433d6c1c01b272f8a5251
Merge: 20ab146... 2a790ca...
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Wed Mar 10 23:16:21 2004 -0700

    Merge kernel.crashing.org:/home/trini/work/kernel/devel/linux-2.6-boot
    into kernel.crashing.org:/home/trini/work/kernel/pristine/for-linus-ppc

commit 2a790ca1b66e8a13aa8aca975e8ce65304d0f6f0
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Wed Mar 10 23:06:18 2004 -0700

    PPC32: Update the Motorola PowerPlus family support.
    From Randy Vinson <rvinson@mvista.com>

commit b3217ee87b898683461d0bb65db7a8812b0d1c46
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Mar 10 21:22:16 2004 -0800

    PCI Hotplug: use the new decl_subsys_name() macro instead of rolling our own.

commit 065f33482605e1bd2ee4967eb16fe0cd528e07c9
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Mar 10 21:21:13 2004 -0800

    Kobject: add decl_subsys_name() macro for users who want to set the subsystem name

commit bd37147c84ffa45219f05685b00df2ed4f3f088b
Author: Leann Ogasawara <ogasawara@osdl.org>
Date:   Wed Mar 10 18:57:27 2004 -0800

    [PATCH] Fix class_register() always returns 0
    
    I noticed that the class_register() function in drivers/base/class.c
    always returns 0 and thus will never fail.  Patch below inserts simple
    error checking to return any errors if they occur.  Feedback welcome.
    Thanks,

commit b1f6b5a02f247cabc821d21ce2180dd03d7888c9
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Mar 10 16:27:59 2004 -0500

    Input: if Synaptics' absolute mode is disabled make sure that
           touchpad is reset back to relative mode and gestures
           (taps) are enabled

commit 654b7d2a941bb23a92857488c37c650d7d1560d0
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Mar 10 16:20:12 2004 -0500

    Input: do a full reset of Synaptics touchpad if extended protocol
           probes failed, otherwise trackpoint on the pass-through port
           may stop working (reset-disable isn't enough to revive it)

commit 3405108324b2d53fc2e959a3be0588e26d23b30f
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Mar 10 16:16:51 2004 -0500

    Input: when disconnecting PS/2 mouse give protocol's disconnect
           handler chance to run before starting ignoring mouse data.
           Otherwise interrupt handler will discard all ACKs and the
           very first command in cleanup sequence will fail (Synaptics
           was failing to return to relative mode on module unload).

commit a3b4dc3cf91cc9ff5027ebee4983f23083a4f41b
Merge: 6b86d8e... 19b9786...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 10 13:58:32 2004 -0500

    merge 2.6.3 into 2.6.4

commit 19b97868ca21e45eb6a25bca2f3146ae1327c098
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 10 13:39:46 2004 -0500

    [ACPI] fix printk and build warning from previous csets

commit a5126d7d091552480b99d03c760d3cbaa9552ce5
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 10 13:36:09 2004 -0500

    Delete (void)func() casts considered cruft in Linux style.
    
    GCC's inability to warn when return values are ignored has conditioned
    Linux programmers into thinking that this is actually normal.
    
    delete some #define's -- suggested by Matt Wilcox

commit cab841c624944f4bfbf0a3cfa352c933b9757a6f
Merge: 0a91292... a615058...
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Wed Mar 10 13:31:03 2004 -0500

    Merge qboosh/emoore conflict

commit f37af96ba4bd331b6b21fc716792e3b80870ddc6
Merge: 6cc918b... 0a91292...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 10 13:27:40 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit 6b86d8e9626004fcb964f3bf685b93edc45501e6
Merge: 05a5ac7... 0a91292...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 10 13:22:12 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit b40f57b7c12dcbd9ce142161640cdad24395649a
Merge: dda1488... 0a91292...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 10 13:10:00 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/netpoll

commit 6cc918b8628c8d4416d445b3a608c58f13fc7de5
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Wed Mar 10 11:36:28 2004 -0500

    [libata] make set_{pio,udma}mode hooks optional
    
    Only one driver actually uses them.

commit 07566e46cdc56bc0854142b680a5880e51c72fed
Author: Kenji Kaneshige <kaneshige.kenji@jp.fujitsu.com>
Date:   Wed Mar 10 07:27:39 2004 -0800

    ia64: don't unmask iosapic interrupts by default
    
    In ia64 kernel, IOSAPIC's RTEs for PCI interrupts are unmasked at the
    boot time before installing device drivers. I think it is very dangerous.
    If some PCI devices without device driver generate interrupts, interrupts
    are generated repeatedly because these interrupt requests are never
    cleared. I think RTEs for PCI interrupts should be unmasked by device
    driver.  This patch fixes the problem.

commit 6ee56a96840d76163d26c439976540e29bb5a176
Merge: c9c8b0d... 0a91292...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 10 06:40:12 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit 19c0199a1561d1eaa492fd935963a08df58c7736
Author: Andi Kleen <ak@suse.de>
Date:   Wed Mar 10 05:02:29 2004 -0800

    [PATCH] Fix a 64bit bug in kobject module request
    
    From Takashi Iwai
    
    kobj_lookup had a 64bit bug, which caused the request of a unknown
    character device to burn CPU instead of failing quickly.

commit 7abe2c67299eeef1458f0d1f1bed6e8041c1577a
Author: Andi Kleen <ak@suse.de>
Date:   Wed Mar 10 05:02:19 2004 -0800

    [PATCH] x86-64 merge for 2.6.4
    
    The biggest new feature is fixed 32bit vsyscall (SYSCALL+SYSENTER)
    support, mostly from Jakub Jelinek.  This increases 32bit syscall
    performance greatly (latency halved and better).  The SYSENTER for Intel
    support required some infrastructure changes, but seems to work now too.
    
    The 64bit vsyscall vtime() just references xtime.tv_sec now.  This
    should make it a lot faster too.
    
    A fix for some Intel IA32e systems.  Also a few long standing bugs in
    NMI like exception handlers were fixed.
    
    And a lot of other bug fixes.
    
    Full changeLog:
     - Clean up 32bit address room limit handling, fix 3gb personality
     - Move memcpy_{from,to}io export to ksyms.c file. This seems to work
       around a toolchain bug (Andreas Gruenbacher)
     - Update defconfig
     - ACPI merges from i386 (SBF should work now, acpi=strict)
     - Implement mmconfig support based on i386 code (untested)
     - Fix i386/x86-64 pci source file sharing
     - Implement ptrace access for 32bit vsyscall page
     - Always initialize all 32bit SYSENTER/SYSCALL MSRs.
     - Export run time cache line size to generic kernel
     - Remove explicit CPUID in ia32 syscall code
     - Fill in most of boot_cpu_data early
     - Remove unused PER_LINUX32 setup
     - Fix syscall trace in fast 32bit calls (Suresh B. Siddha)
     - Tighten first line of the oops again.
     - Set up ptrace registers correctly for debug,ss,double fault exceptions
     - Fix 64bit bug in sys_time64
     - Optimize time syscall/vsyscall to only read xtime
     - Fix csum_partial_copy_nocheck
     - Remove last traces of FPU emulation
     - Check properly for rescheduling in exceptions with own stack
     - Harden exception stack entries (#SS,#NMI,#MC,#DF,#DB) against bogus GS
     - Use an exception stack for machine checks
     - Handle TIF_SINGLESTEP properly in kernel exit
     - Add exception stack for debug handler
     - Disable X86_HT for Opteron optimized builds because it pulls in ACPI_BOOT
     - Fix CONFIG_ACPI_BOOT compilation without CONFIG_ACPI
     - Fix eflags handling in SYSENTER path (Jakub Jelinek)
     - Use atomic counter for enable/disable_hlt
     - Support 32bit SYSENTER vsyscall too (Jakub Jelinek)
     - Don't redefine Dprintk
     - Change some cpu/apic id arrays to char
     - Support arbitary cpu<->apicid in hard_smp_processor_id (Surresh B Sidda)
     - Move K8 erratum #100 workaround into slow path of page fault handler.
     - Fix 32bit cdrom direct access ioctls (Jens Axboe)
     - Enable 32bit vsyscalls by default
     - Fix 32bit vsyscalls (Jakub Jelinek)

commit 626942a459776c05d4a746d3a900174cc3669159
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Mar 10 04:10:29 2004 -0800

    [PATCH] G5 temperature control update
    
    This makes the temperature control code more robust, putting less
    pressure on i2c, and work around occasional misconfiguration of the ADC
    chips leading to incorrect temperature readings.

commit a615058726418a2591ab9758502726d19c482609
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Wed Mar 10 05:59:47 2004 -0500

    [PATCH] buslogic init. section fix
    
    V: linux-264-rc2
    D: BusLogic_AnnounceDriver() can be called after init;
    
    diffstat:=
     drivers/scsi/BusLogic.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)

commit 518365c291c8b53e2a3fad9afd73e4f311165df5
Author: Paul Wagland <paul@kungfoocoder.org>
Date:   Wed Mar 10 05:56:09 2004 -0500

    [PATCH] SCSI: megaraid /proc dir fix
    
    I know that LSI are working on an updated driver for 2.6, but would
    really like to see this bug fix placed in the main tree before then,
    whenever then happens to be.
    
    This patch fixes the problem of the /proc entries for this driver being
    created in the wrong location.

commit ed3899b2a34a5698cc8f199f0f923cbef3338098
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:44:14 2004 -0500

    [PATCH] qlogic_cs: use own MODULE_ macros

commit 16ec5fe4c88b83c8217eac9c77e90a106b38fb23
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:42:05 2004 -0500

    [PATCH] qlogicfas: finish to convert to new scsi driver

commit 1af929c4393e193974d2a7ffc89597b752228802
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:40:14 2004 -0500

    [PATCH] qlogicfas: move common definitions to qlogicfas.h

commit a5d98e0c26b48f65d67619ebbfc93961960ed7d2
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:38:34 2004 -0500

    [PATCH] qlogicfas: support multiple cards

commit 60da61f98416e36d4440290c377a34f68a8ec52f
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:36:21 2004 -0500

    [PATCH] qlogicfas: disable irqs on exit

commit e904c71ab0297601fd5721f00b47e6da3a1b784f
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:34:55 2004 -0500

    [PATCH] qlogicfas: begin to convert qlogicfas to new driver

commit b17ececda61293df20ff72e27b7fa2feb21d053a
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:33:57 2004 -0500

    [PATCH] qlogicfas: use qlogicfas_name instead qinfo

commit 66d36604f45854498288993829bf1809c4471313
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:32:21 2004 -0500

    [PATCH] qlogicfas: kill QL_USE_IRQ

commit c7fb82ce0be4d097bba34e869b4600be3d45d480
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:22:28 2004 -0500

    [PATCH] qlogic_cs: don't call qlogic_release on fail

commit 7097014c4cc41125405b72b66fa20f8531ca12f6
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:22:01 2004 -0500

    [PATCH] qlogic_cs: use own detect and release functions

commit 2fc6d6a12c8e5f001f00a7032dfb76a06c0999ae
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:21:32 2004 -0500

    [PATCH] qlogicfas: force can_queue

commit 5708946526611ed9d7ae53181166814ccbedf266
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:20:41 2004 -0500

    [PATCH] qlogic_cs: use scsi_host_put

commit ae27105f352944e4c377fd1997b596b4fb726200
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:20:06 2004 -0500

    [PATCH] qlogic_cs: use a static string as name

commit 330a38ab7e5dc7e3d0d6ea211cf942d6fcfdb561
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:19:39 2004 -0500

    [PATCH] qlogic_cs: don't release region

commit b68cf5e3e2532268788558fdbff27d27675d4513
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Wed Mar 10 05:19:09 2004 -0500

    [PATCH] qlogicfas: use a static string as name

commit 4cc930d9b3913dd49bb6dd7e8e9a152f9e10fa81
Author: Naveen Burmi <naveenb@cisco.com>
Date:   Wed Mar 10 05:15:17 2004 -0500

    [PATCH] New SCSI host_byte status code.
    
    At present there is no way to retry, if allowed, a scsi command without
    decrementing the scsi command's retry count.
    
    Please find a patch attached, which is submitted, for adding a new host_byte
    status code called "DID_IMM_RETRY". This enables the Low Level SCSI drivers
    to initiate retry of a scsi command without decrementing the scsi commad's
    retry count.

commit 0671b4dab93cbc3fcd3da6b0345ffa4b5a768c25
Author: Jamie Lenehan <lenehan@twibble.org>
Date:   Wed Mar 10 05:13:57 2004 -0500

    [PATCH] dc395x [5/5] - version update
    
    Move version information from .h to .c so that it's more likely to
    get updated as changes are made (the .h file is rarely modified).
    Update the version from 2.04 to 2.05

commit 6af905f836a03124bc9f6b2603f1b5167ffc401f
Author: Jamie Lenehan <lenehan@twibble.org>
Date:   Wed Mar 10 05:13:18 2004 -0500

    [PATCH] dc395x [4/5] - debugging cleanup
    
    Clean up debugging statements. Work on making output consistent - use
    the same format each time the same bit of information is output and
    output the same bits of information in the same order each time it's
    output. Update a lot of the actual messages to include useful
    information and to explain better what some things are. Remove some
    old comments and commented out code. Remove some of the debugging
    states. Find few instance of spaces that should have been tabs and
    trailing white space and remove them.

commit 9e181b63f3b1cc73f355f41008ea3d27f0bfedc2
Author: Jamie Lenehan <lenehan@twibble.org>
Date:   Wed Mar 10 05:12:28 2004 -0500

    [PATCH] dc395x [3/5] - remove old debugging stuff
    
    Remove the special versions of kmalloc and kfree and remove the trace
    related stuff from the code. None of this is really needed and it is
    not really a nice implementation. This also removes all non 7-bit
    clean characters to help with David Eger's work to remove and/or
    convert them all to UTF8.

commit b056db713857a490147b40098c059e9ff228e427
Author: Jamie Lenehan <lenehan@twibble.org>
Date:   Wed Mar 10 05:11:10 2004 -0500

    [PATCH] dc395x [2/5] - sg list handling cleanups
    
    Cleanup a lot of the sg list handling to make it easier to follow in
    preparation for making this work on sparc64 (big-endian & 64bit).

commit ba44f971ece903fc5482a31af20b0013a42c2c2d
Author: Jamie Lenehan <lenehan@twibble.org>
Date:   Wed Mar 10 05:10:12 2004 -0500

    [PATCH] dc395x [1/5] - formatting cleanups
    
    Formatting cleanups.
    - Remove lots of comments that were out-of-date, wrong, or now
      described things that had been simplified that much that the
      comments were no longer needed.
    - Move the "static" definition from a line before functions onto the
      same line as the function itself.
    - Remove "return;" from the end of void functions.
    - Remove braces from around single instructions.
    - Merge the declaration and assignment to variables in places where
      the followed each other.
    - Remove braces from around single statement that obviously didn't
      need them.
    - Remove unused code and variables.
    - Fix debug statement in disconnect to not deref potentially null
      ptr.
    - Change a lot of short comments that take up three lines down to one
      line.

commit c9d14734db3b79a901bbf46245b62fc391d70b55
Author: David Mosberger <davidm@hpl.hp.com>
Date:   Wed Mar 10 11:05:31 2004 +0100

    input: When reading input reports from a device via the ctrl pipe,
           set idle time of the device. This makes buggy devices which
           take the idle time into account for the ctrl pipe work.

commit 113353e8fdb1684af4056b0dfc779162f0e35485
Author: David Mosberger <davidm@hpl.hp.com>
Date:   Wed Mar 10 11:02:48 2004 +0100

    input: Avoid an endless loop in hid-core.c, if a device has some
           empty reports.

commit 4740d0851cf6e6713b19b92c307e4e7d66a0ab30
Author: Leann Ogasawara <ogasawara@osdl.org>
Date:   Wed Mar 10 01:34:33 2004 -0800

    [PATCH] Add sysfs simple class support for netlink
    
    Patch adds sysfs simple class support for netlink character device
    (Major 36).  Feedback appreciated.  Thanks,

commit 0769fdbffbed2b8e2d4ee3b4a1985ce69cbfc76a
Author: David S. Miller <davem@nuts.davemloft.net>
Date:   Wed Mar 10 01:11:26 2004 -0800

    [IPV6]: Kill unused warnings in addrconf.c

commit 20e358f2da907e4db1c08990c2cf6c624719f6e7
Author: Chris Wright <chrisw@osdl.org>
Date:   Wed Mar 10 00:06:14 2004 -0800

    [PATCH] class_simple cleanup in sg
    
    The only spot that seems to care about class_simple_device_add possibly
    failing, but it gets the wrong error test.

commit ee328e2cf24e347819fab155a59dbe1cab1ceeec
Author: Chris Wright <chrisw@osdl.org>
Date:   Wed Mar 10 00:05:50 2004 -0800

    [PATCH] class_simple cleanup in misc
    
    Error path doesn't class_simple_destroy.

commit 9dc68fe40b923d77d9dbd42ea7fade56d81e7472
Author: Chris Wright <chrisw@osdl.org>
Date:   Wed Mar 10 00:05:28 2004 -0800

    [PATCH] class_simple cleanup in input
    
    Doesn't catch error on class_simple_add, and existing error return paths
    forget to class_simple_destroy.

commit 717d307110df9a33756d18a0b1506ea83eb355cb
Author: Chris Wright <chrisw@osdl.org>
Date:   Wed Mar 10 00:05:00 2004 -0800

    [PATCH] class_simple clean up in lp
    
    Error condition isn't caught on class_simple_create, and
    parport_register_driver failure doesn't do proper cleanup.

commit 21601e2ec538ebce7fade3cd070249826f1363ad
Author: Chris Wright <chrisw@osdl.org>
Date:   Wed Mar 10 00:04:33 2004 -0800

    [PATCH] Patch to hook up PPP to simple class sysfs support
    
    * Hanna Linder (hannal@us.ibm.com) wrote:
    > +		ppp_class = class_simple_create(THIS_MODULE, "ppp");
    > +		class_simple_device_add(ppp_class, MKDEV(PPP_MAJOR, 0), NULL, "ppp");
    
    What happens if that class_simple_create() fails?  Actually,
    class_simple_device_add could fail too, but doesn't seem anybody is
    checking for that.
    
    >  		err = devfs_mk_cdev(MKDEV(PPP_MAJOR, 0),
    >  				S_IFCHR|S_IRUSR|S_IWUSR, "ppp");
    > -		if (err)
    > +		if (err) {
    >  			unregister_chrdev(PPP_MAJOR, "ppp");
    > +			class_simple_device_remove(MKDEV(PPP_MAJOR,0));
    > +		}
    
    need to destroy the class on error path to avoid leak.
    
    > @@ -2540,6 +2547,7 @@ static void __exit ppp_cleanup(void)
    >  	if (unregister_chrdev(PPP_MAJOR, "ppp") != 0)
    >  		printk(KERN_ERR "PPP: failed to unregister PPP device\n");
    >  	devfs_remove("ppp");
    > +	class_simple_device_remove(MKDEV(PPP_MAJOR, 0));
    
    ditto.  this will leak and would cause oops on reload of module.
    
    something like below.

commit ddd53405bdecb7778056cfbbbc9ca7229b8a5c7d
Author: Paulo Marques <pmarques@grupopie.com>
Date:   Tue Mar 9 22:50:30 2004 -0800

    [PATCH] USB: usblp.c (Was: usblp_write spins forever after an error)
    
    Paulo Marques wrote:
    
    > David Woodhouse wrote:
    >
    >> On Thu, 2004-03-04 at 12:33 +0000, Paulo Marques wrote:
    >>
    >>> Yes, unfortunately it did went into 2.6.4-rc1. However it is already
    >>> corrected in 2.6.4-rc2. Luckily it didn't went into any "non-rc"
    >>> official release.
    >>>
    >>> Please try 2.6.4-rc2, and check to see if the bug went away...
    >>>
    >>
    >> Seems to work; thanks. Does this need backporting to 2.4 too?
    >>
    >
    >
    > Unfortunately this isn't over yet.
    >
    > I got suspicious about this bug fix, because I *did* test my patch
    > before submitting it and the kernel that didn't work before, worked fine
    > with my patch.
    >
    > But now it seems that it is the other way around. After a few digging I
    > found out the problem:
    >
    > The application that I was testing with uses the usblp handle with
    > non-blocking I/O .
    >
    > So my patch does work for non-blocking I/O uses of the port, but wrecks
    > the normal blocking mode.
    >
    > I've already produced a version that works for both cases. I'll just
    > clean it up a bit and submit it to 2.4 and 2.6 kernels.
    
    
    Here it is.
    
    The patch is only one line for 2.6.4-rc2. (I also did a little formatting
    adjustment to better comply with CodingStyle)
    
    For the 2.4.26-pre1 kernel, I also backported the return codes correction patch
    from Oliver Neukum.
    
    
    The problem with the write function was that, in non-blocking mode, after
    submitting the first urb, the function would return with -EAGAIN, not reporting
    to the application that in fact it had already sent "transfer_length" bytes.
    This way the application would have to send the data *again* causing lots of
    errors.
    
    It did return the correct amount with my first patch, because the writecount was
    being updated on the end of the loop. However this was wrong for blocking I/O.
    
    The "transfer_length" local variable is still needed because if we used the
    transfer_buffer_length field from the urb, then on a second call to write, if
    the urb was still pending (in non-blocking mode), the write would return an
    incorrect amount of data written.
    
    Anyway, this time I tested it using blocking and non-blocking I/O and it works
    for both cases. Even better, this patch only changes the behaviour for
    non-blocking I/O, and keeps the same behaviour for the more usual blocking I/O
    (at least on kernel 2.6).

commit 1ee61c386c7fe5787069ace2311e465221651bac
Author: Krishna Kumar <krkumar@us.ibm.com>
Date:   Tue Mar 9 22:42:44 2004 -0800

    [IPV4]: Do not leak cork.opt in ip_push_pending_frames().

commit 17179e8f141113fb18f8992b546752223e9a57a3
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Wed Mar 10 01:36:55 2004 -0500

    MPT Fusion driver 3.01.00 update
    
    From: 	Moore, Eric Dean <Emoore@lsil.com>

commit c188b751973f631213271e651a3e95675d0b172c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Mar 9 22:34:17 2004 -0800

    [PATCH] I2C: Cleanup fan_div in w83781d
    
    Here is a proposed patch that cleanups the fan_div code from w83781d.
    The original code was obviously taken from the 2.4 driver, but the way
    things were done in 2.4 do not make any sense anymore (because we now
    have a single value per interface file).
    
    Since fan divisor bits are spread over three different regs with various
    bitmask manipulations, I don't think it makes much sense to have a
    single function as we do in most other cases. Having three different
    functions makes more sense, although they are of course similar. The
    size increment is only 581 bytes, I don't think its a problem since it
    also makes the code much more efficient and readable too IMHO.
    
    I agree that the original code was working - it was simply doing far too
    much work each time one would want to change a fan divisor.
    
    Originally, I took a look at the code because I wanted to fix the fact
    that changing fan divisors breaks fan mins. But it looked like a good
    cleanup before doing that was required. Once this patch will have been
    accepted, I'll work on the other one.
    
    I've tested my patch successfully on a W83781D and an AS99127F rev.1.
    Note that this means that one part of the code wasn't tested, because
    these are the two chips of the family that do not support divisors
    greater than 8. If anyone can test it, please do.

commit 8b5e1193fa840704afe6ca483105821edc663e8c
Author: Tuncer M. Zayamut Ayaz <tuncer.ayaz@gmx.de>
Date:   Tue Mar 9 22:32:13 2004 -0800

    [IPVS]: Fix typo in Config.in

commit 7509728a8e13f8f565a0cc89a4e4ad0769e422d7
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 9 22:23:37 2004 -0800

    [PATCH] PCI Hotplug: fix compiler warning in acpiphp driver

commit 4960aefd9ad53cb9e7aa1f233b31005599ad238b
Author: Linda Xie <lxiep@ltcfwd.linux.ibm.com>
Date:   Tue Mar 9 22:23:19 2004 -0800

    [PATCH] PCI Hotplug: rpaphp/rpadlpar latest (support for vio and multifunction devices )

commit 3d3c5375323b80fbd85f7c27949b6ffabaa8dc0e
Author: Takayoshi Kochi <t-kochi@bq.jp.nec.com>
Date:   Tue Mar 9 22:22:59 2004 -0800

    [PATCH] PCI Hotlug: fix acpiphp unable to power off slots
    
    Attached patch includes the I/O space fix and applies to 2.6.3.
    This should also solve the problem Maeda-san reported in January
    (sorry for replying so late!)
    
    Here are changes in the patch:
    
     - fix the acpiphp driver not powering down a PCI card (from Gary Hade)
     - fix I/O space size calculation and ISA aliasing (from Gary Hade)
     - fix some debug messages
     - only execute ACPI methods on the first existing function

commit 1995265212c9aa7135960317dbfdf9a89761eeaa
Author: Andreas Schwab <schwab@suse.de>
Date:   Tue Mar 9 22:22:31 2004 -0800

    [PATCH] PCI Hotplug: Fix PCIE and SHPC hotplug drivers for ia64
    
    This patch fixes the PCIE and SHPC hotplug driver for ia64.  The function
    pcibios_set_irq_routing only exists on x86, and acpi_bridges_head may be
    NULL, so don't crash.
    
    Andreas.

commit faff40444eb4c7e870282ecf59efb8419a752b0f
Author: James Morris <jmorris@redhat.com>
Date:   Tue Mar 9 22:14:52 2004 -0800

    [CRYPTO]: Fix arc4 test vector.

commit 8dbe0a71d2fef1253bfcd1c9273abafbebc724f2
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 9 21:44:37 2004 -0800

    [PATCH] USB: Altsetting/interface update for USB image drivers
    
    This patch contains minute updates for the hpusbscsi, mdc800, and microtek
    drivers.  Only two things are worth noting.  In the mdc800 driver I
    removed some unnecessary calls to usb_driver_claim_interface(),
    usb_driver_release_interface(), and usb_set_interface().  Likewise, in the
    microtek driver I removed an unnecessary call to usb_set_interface().

commit bcffdf5cb05fd57b433c2d8c33b471cd3acc02f2
Author: Henning Schild <henning@wh9.tu-dresden.de>
Date:   Tue Mar 9 21:42:31 2004 -0800

    [PATCH] USB: unusual_devs.h update
    
    *** linux-2.6.3/drivers/usb/storage/unusual_devs.h	2004-02-18 04:59:06.000000000 +0100

commit 9dd0d138be820becc634570527de1b226013bd9e
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Wed Mar 10 00:34:27 2004 -0500

    Make the SCSI mempool allocations variable
    
    We still retain the default MAX_PHYS_SEGMENTS (which
    is currently 128).  However, a mechanism for raising
    the limit correctly is added for people who wish to
    benchmark with larger sglists.
    
    A decision on how we present this to the user will be
    taken at a later time when more information about
    the usefulness of a higher limit is available

commit 3e4a8764a93e314e5f989175d13bd6a17d29a5c8
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 21:32:02 2004 -0800

    [PATCH] USB gadget: gadget zero, simplified controller-specific configuration
    
    This removes several controller-specific #define, and
    converts to using the config_buf utilities.  Depends
    on the patch I submitted yesterday.  Looking simpler!
    
    
    Simplify "gadget zero" compile-time configuration.
    
    This removes several controller-specific compile-time config options;
    the others are about to be autoconfigured.
    
     - HIGHSPEED replaced by CONFIG_USB_GADGET_DUALSPEED
     - Default to self-powered operation
     - There's no UI for remote wakeup
    
    It also uses the new config_buf utilities, so it's a bit easier to see
    what's really going on (this driver implements four configurations).

commit 29a611ab51e01eecca6f87ba6aa55b0ad6cc40d0
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 21:31:40 2004 -0800

    [PATCH] USB: usb buffer allocation shouldn't require DMA
    
    Deepak's recent dma_pool changes accidentally assumed that
    all HCDs use DMA.  The fix is simple:  use kmalloc/kfree
    when there's no DMA.

commit 529ba76ce41393cea6a7b6570fe9ab0f7bbb697b
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 21:31:12 2004 -0800

    [PATCH] USB: usbtest updates (new firmware)
    
    This includes some small updates to "usbtest", mostly
    from Martin Diehl.  Please merge.
    
    
    
    usbtest updates, supporting new firmware
    
        - Support the new usbtest_fw-20040305 EZ-USB firmware,
          which renumerates and handles full speed ISO transfers.
          (From Martin Diehl.)
    
        - Minor cleanups:  use dev_dbg(), let some slightly-off
          devices work in the control queueing test.
    
        - Be pickier about unlink tests:  insist that async
          and sync unlinks give the appropriate fault code.

commit 6df6a80d0312ccabd61415d14bb59186d8adaa1e
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 21:30:47 2004 -0800

    [PATCH] USB: usb_unlink_urb() has distinct "not linked" fault
    
    This gets rid of an often-bogus diagnostic, and lets
    at least the unlink test code recover reasonably when
    it hits that brief window while another CPU has gotten
    the complete() callback but hasn't yet resubmitted.
    
    
    
    Return distinct code when unlinking an urb that's not linked.
    
    This lets drivers handle this fault sanely, when they need to.
    Gets rid of annoying non-error messages about drivers that unlink
    in disconnect() even when the urb isn't linked.

commit 2328fb17c17ec156481290916ee8d9dc4eceab08
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 21:30:20 2004 -0800

    [PATCH] USB gadget: dualspeed {run,compile}-time flags
    
    This is the first several autoconfig patches; please merge.
    This particular one abstracts dual-speed (high and full)
    support.
    
    
    Support some more autoconfiguration for gadget drivers.
    
        Run-time:
    	* Add gadget->is_dualspeed flag for controllers to set.
    	* Tested by "ethernet" gadget, to decide whether certain
    	  operations are errors or not.
    	* Turned on by net2280.
    
        Compile-time
    	* Generic CONFIG_USB_GADGET_DUALSPEED, not net2280-specific.
    	* Used by "ethernet" gadget, to decide whether to
    	  include extra code and data for dual-speed support.
    	* Turned on by net2280.
    
    The basic idea behind this, and other autoconfig patches yet to come,
    is minimizing the controller-specific compile-time configuration
    needed by gadget drivers.

commit c9c8b0d84dee83344036cb81f3d2fe3b8f6f22c1
Author: Pat Gefre <pfg@sgi.com>
Date:   Tue Mar 9 21:03:39 2004 -0800

    [PATCH] ia64: Altix affinity fix

commit cc57b27fe4adcae41d6d82b65c0288e6569acca9
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 9 21:00:35 2004 -0800

    [PATCH] ia64: fix preempt bug in IA32 subsystem
    
    Without this patch, IA32 programs will stall when CONFIG_PREEMPT is enabled.

commit e2d38bf31f0a5a0b66a8ec60c557435498de68ba
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 20:42:44 2004 -0800

    [PATCH] USB: usbcore doc update
    
    Some doc updates, mostly from Alan Stern, clarifying
    quetions folk have asked recently about unlinking
    and about iso transfers.

commit 1a165cbd801a56a2ab45982a6c0c329500cc9b3a
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Tue Mar 9 20:42:17 2004 -0800

    [PATCH] USB: fix net2280 section usage
    
     net2280_remove() is called by net2280_probe() so it
     shouldn't be marked as __exit;

commit 8ff6915f9e4f5ec5b39811a992b4de729ee61a55
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Tue Mar 9 20:23:05 2004 -0800

    [PATCH] USB: remove USB_SCANNER MAINTAINERS entry
    
    When sending the patch to remove USB_SCANNER, I forgot to remove the
    MAINTAINERS entry.

commit 924eec1ccacfd77f00347257db401f9a5026f929
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Tue Mar 9 20:22:42 2004 -0800

    [PATCH] USB_STORAGE: remove a comment
    
    In 2.6, USB_STORAGE selects SCSI, so there's no longer a need for this
    comment.

commit c722dae1a4ee29372b1fd6cfa5ed2fff23075c51
Author: Oliver Neukum <oliver@neukum.org>
Date:   Tue Mar 9 20:22:13 2004 -0800

    [PATCH] USB: wacom driver fixes
    
    the same error code path as in the other drivers.
    In addition I added the endianness macros. They save cycles
    in interrupt.
    
      -use endian macros
      -use GFP_KERNEL where SLAB_ATOMIC is not needed
      -fix count bug in open() error path

commit ddd3d78b7843b83ceec7c2b5f07506c71c62fd81
Author: Oliver Neukum <oliver@neukum.org>
Date:   Tue Mar 9 20:21:49 2004 -0800

    [PATCH] USB: bug in error code path of kbtab driver
    
    this fixes
    - a leak in the error code path of open()
    - removes SLAB_ATOMIC where it isn't needed
    - uses le16_to_cpu (yes Pete, unaligned access is taken care of)

commit f3f3a0ab9f20b3960bfe679b2dd92bae1fd82161
Author: Oliver Neukum <oliver@neukum.org>
Date:   Tue Mar 9 20:21:20 2004 -0800

    [PATCH] USB: fixes for aiptek driver
    
    - don't pass buffers allocated on stack to the sync helpers
    - check errors in probe
    - fix count in open
    - proper macros

commit c5cd1f9d0e0505a36cd435fd006b9f6a9b89ce9e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 9 20:20:55 2004 -0800

    [PATCH] USB: Remove interface/altsetting assumptions from usb-midi
    
    This patch makes the usb-midi driver use usb_ifnum_to_if(), thereby
    removing assumptions about which interface is stored in which array entry.
    Similarly, it stores the bAlternateSetting value rather than the array
    index for an altsetting entry.
    
    Like the earlier patch for the audio driver, this also changes the driver
    to use the in-memory rawdescriptor buffer rather than reading a
    configuration descriptor from the device.  Unlike that earlier patch, this
    time there's no question that the deallocation of the buffer is done
    correctly.  (I suspect the audio driver just left out a call to kfree.)

commit e29852f848b489179d0cebd299f4205ac9ed8adf
Author: Oliver Neukum <oliver@neukum.org>
Date:   Tue Mar 9 20:20:24 2004 -0800

    [PATCH] USB: locking fix for pid.c
    
    you forgot to drop a spinlock before you report an error. A deadlock
    will occur.

commit 091ad0b3744ed72a7e414d4947823751f6b3d3da
Author: Pat Gefre <pfg@sgi.com>
Date:   Tue Mar 9 20:15:05 2004 -0800

    [PATCH] ia64: minor cleanups for SN2 console driver

commit 335a564e02f4101898745acc59d5dfd9c3049492
Merge: 4eedca3... fa50387...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 9 19:56:50 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit c3ca41bec8d3747be012fe5985198910f3e6deaa
Author: Martin Diehl <lists@mdiehl.de>
Date:   Tue Mar 9 19:55:44 2004 -0800

    [PATCH] USB: fix stack usage in pl2303 driver
    
    Arghh - while trying to follow this I just realized the pl2303 is DMA'ing
    to the stack - not good!
    Could you please just try with the patch below. I'm not sure if this might
    cause the MA620 trouble but it's definedly a bug and maybe it improves
    things for you...

commit dc22246b9a734601221115f3e5997872f688d203
Merge: e88141b... 17049ac...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Tue Mar 9 05:27:23 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/libata-2.5

commit ba6f837d12920f82a17d19cdc7e1ae0aa260906d
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 01:25:56 2004 -0800

    [PATCH] USB: clarify CONFIG_USB_GADGET
    
    Marc-Christian Petersen wrote:
    >
    > I think the attached patch is needed to stop showing us USB Gadget support if
    > Support for USB is disabled.
    
    No it isn't.  But maybe the attached patch would clarify what's
    really going on:  CONFIG_USB is the host side, and CONFIG_USB_GADGET
    is the peripheral side.

commit 1a89696e81dddaedb6229efb0febeba3aeb36d5c
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 01:25:33 2004 -0800

    [PATCH] USB: gadget config buf utilities
    
    Somehow I sent you a version of this code with a misplaced
    semicolon ... it makes for awkward failures!
    
    Please merge.  Bad semicolon!

commit 10443b9ffc04b44efac6c32ea9033993c619c0c1
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 9 01:25:08 2004 -0800

    [PATCH] USB: usbnet and ALI M5632
    
    Some of the 480 Mbit/sec USB host-to-host links have ALI
    chips in them.  They seem to work with no problem, given
    this patch, even when the ends talk different speed.

commit 2ddfac4e3e2a6da801745ed866c39b5a427b4c49
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Mar 8 23:29:46 2004 -0800

    [PATCH] I2c: Kconfig for non-sensors i2c chip drivers
    
    Quoting myself:
    
    > I think that it would make sense to have a specific menu entry for
    > these, separate from the sensors stuff. Looks like an easy thing to
    > do.
    
    Here is a proposed patch that does this. Comments welcome.

commit 73126bc4b2ae65914ba5edd44c4199d6d8dfeb8b
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Mar 8 23:29:26 2004 -0800

    [PATCH] I2C: fix i2c adapters class for now
    
    Please accept this temporary fix for the class issue. I'd like users of
    the i2c-ali1535, i2c-sis5595 and i2c-via driver to be able to use
    sensors as soon as possible, even if we have not yet determined what our
    policy WRT classes should be.
    
    Thanks.
    
    BTW, don't you think I2C_ADAP_CLASS_SMBUS is a misnomer? It's about
    hardware monitoring, not the SMBus protocol. I'd say
    I2C_ADAP_CLASS_HWMON or I2C_ADAP_CLASS_SENSORS would have been more
    appropriate (although it may be a bit late for a change...)

commit 17049ac026bcf2e851727139dae2bb595dd750fd
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Tue Mar 9 02:17:47 2004 -0500

    [libata] Add new driver for Vitesse VSC-7174.

commit b2bda14c00a5c0049a71df878f4a1ab9269b1a51
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Tue Mar 9 02:17:17 2004 -0500

    [libata] misc fixes, and an export
    
    * export ata_host_intr
    * fix debugging printk
    * the write of Device Control register, which occurs between
      SATA phy reset and the read of device signature, apparently
      clobbers some of the register values (namely Error register)
      that are needed to determine whether or not the device passed
      diagnostics.  Make this write follow the device diag checking
      and classification, instead.

commit 24c104b9b0453ae4b5bc8b1088421363078b2820
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Tue Mar 9 02:16:11 2004 -0500

    [libata] Split up shared IO register locations into individual components
    
    Most ATA host controllers follow a standard layout for the
    ATA shadow registers, where command/status, error/feature, and
    devctl/altstatus share a single bus I/O address, because one register
    of each pair is read-only, and the other is write-only.
    
    On the Vitesse/Intel chip, all registers are given distinction bus I/O
    addresses, which necessitates changing the libata data structures
    to cope with this.  This simply involves storing a few more bus addresses.

commit 5ed3593cf10b41e1e4ade36ff641bb4fc4dd03b5
Author: Randy Dunlap <rddunlap@osdl.org>
Date:   Mon Mar 8 22:59:37 2004 -0800

    [PATCH] I2C: fix i2c-prosavage.c section usage
    
    prosavage_remove() is called during init, so it shouldn't be
    marked as exit code.  (It matters when CONFIG_HOTPLUG=n.)

commit 90d1a336f123cfc04deb2f9a94099e907faeb624
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Mon Mar 8 22:59:03 2004 -0800

    [PATCH] I2C: sysfs interface update for w83627hf
    
    This patch updates the sysfs names of the w83627hf driver
    to match the new standard.  The patch applies on top of
    one recently applied to your tree [1].  I have tested it
    using a w83627thf & the latest lm_sensors CVS.  Please apply.
    
    [1] http://archives.andrew.net.au/lm-sensors/msg06746.html

commit 293ff9af515f73c48728b741ba8d8cae8a658c78
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Mon Mar 8 22:58:25 2004 -0800

    [PATCH] I2C: Fix i2c_use_client()
    
    i2c_use_client() contains a bogosity.  If i2c_inc_use_client() returns
    success, i2c_use_client() returns an error.  If i2c_inc_use_client()
    fails, i2c_use_client() might succeed.
    
    Fix it so that (a) we get the correct sense between these two functions,
    and (b) propagate the error code from i2c_inc_use_client(), rather than
    making our own one up.

commit 7fcd561a156e525ab07e9f5b155bba10667e61a8
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Mar 8 22:57:49 2004 -0800

    [PATCH] I2C: Prevent i2c-dev oops with debug
    
    Looks like i2c-dev suffers the same problem with dev_dbg as i2c-core did
    twice. Here is a patch that fixed a oops I and another user were
    experiencing when running sensors-detect.

commit d5def5f719c2b17b7c7c007351287224333bd0e7
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 8 22:25:46 2004 -0800

    Driver core: make CONFIG_DEBUG_DRIVER implementation a whole lot cleaner

commit d4bf939394ea8e2559bbaaac1e34ec3998ed5cfa
Author: Petko Manolov <petkan@nucleusys.com>
Date:   Mon Mar 8 22:12:30 2004 -0800

    [PATCH] USB: 2.6 pegasus.h updates
    
    a few more IDs added, could you please apply it?

commit 25a1f19aa12e6a92315d64559380fce7b4ffe2e0
Author: Stphane Doyon <s.doyon@videotron.ca>
Date:   Mon Mar 8 22:12:08 2004 -0800

    [PATCH] USB brlvger: Driver obsoleted by rewrite using usbfs
    
    We have rewritten the brlvger (Tieman Voyager USB Braille display) driver
    so that it works from user-space through usbfs. It appears to work just as
    well as the in-kernel driver.
    
    The brlvger driver in the 2.6.x kernel is now obsolete and should be
    removed. The attached patch against 2.6.3 does this. Please apply.
    NB: The following files are completely deleted:
        Documentation/usb/brlvger.txt
        drivers/usb/misc/brlvger.c
        include/linux/brlvger.h
    
    The new Voyager driver is available (stil under GPL) as part of BRLTTY,
    starting with version 3.5pre1 (http://mielke.cc/brltty).
    Thanks to Dave Mielke who implemented BRLTTY's usbfs functionality, among
    lots of other stuff.

commit 9406cb669487311d61fe2a488f6521818865bab4
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Tue Mar 9 00:18:50 2004 -0500

    CONFIG_SCSI_AIC7XXX Kconfig bug
    
    From: Randy.Dunlap <rddunlap@xenotime.net>,olh@suse.de
    
    make Adaptec AIC7xyx drivers depend on SCSI tristate
    (without this you can compile aic7xxx into the
    kernel when SCSI is only modular)

commit 1e584e4a07305a3acba133fba98f55ddb5207e94
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Tue Mar 9 00:02:40 2004 -0500

    fix Kconfig select problem with SCSI_SPI_ATTRS
    
    spotted by akpm (the select was misspelled in
    the SCSI_SIM710 Kconfig option)

commit 268f26283a8ce50a31ebcde11c0426433d5f1446
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Mar 8 17:47:21 2004 -0800

    [PATCH] USB: fix compiler warning in hfc_usb.c driver.

commit 26375db9172f03087d4295729e9af2019d45750a
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Mar 8 17:47:03 2004 -0800

    [PATCH] USB: Interface/altsetting update for ISDN hisax driver
    
    On Mon, 8 Mar 2004, Greg KH wrote:
    
    > Oh, could you look at drivers/isdn/hisax/hfc_usb.c if you get a chance?
    > I tried to figure out the mess there with regards to act_altsetting, but
    > gave up :(
    
    You're right, it is a mess.  Beats me why they didn't use a plain old
    "for" statement to do that altsetting loop.  Probably the most confusing
    part is where the code needlessly resets intf->act_altsetting.
    
    Anyway, this patch sets things right.  I haven't tried to compile it, but
    any errors ought to be pretty small, obvious, and easy to fix.
    
    My intention was to go through the files under driver/usb (in alphabetical
    order!) and then do the ones outside that subtree -- I've got a little
    list.  But it's no problem to take care of this one first.

commit 05a5ac727d1435e819adc503c81cc8af59935069
Merge: d6d1f5f... 1af452e...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 8 13:40:35 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 176a60243ae659297a35722e3e15fd3af5adf355
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 8 16:32:00 2004 +0100

    input: Fix oops (NULL pointer dereference) on resume in psmouse.c,
           when the mouse goes away while sleeping.

commit 54c1ae21bbab13dbdb2e213704074d1fef57d911
Author: Scott Zuk <szuk@telusplanet.net>
Date:   Mon Mar 8 16:09:15 2004 +0100

    input: Restore LED state in atkbd.c after resume.

commit d5d1818a496f0002fb76d394da57db368ec40ed8
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 8 15:30:04 2004 +0100

    input: Don't define DEBUG in hid-ff by default. It spews messgaes
           even when no FF device is present.

commit e57a7135318ce3a50e931aada3c8329b6545c092
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 8 15:16:03 2004 +0100

    input: Add a Chic gamepad into badpad quirk list.

commit bb2d2571f0a26a239bc41796f0b3a3cc63402fb9
Author: Marcel Sebek <sebek64@post.cz>
Date:   Mon Mar 8 14:51:07 2004 +0100

    input: Fix a memory leak in ns558.c

commit fedb02dfa95b05b1305f66da138c717930bf966f
Author: Martin Diehl <home@mdiehl.de>
Date:   Mon Mar 8 13:20:44 2004 +0100

    input: Add support for devices which need some padding at the
           end of a HID report.

commit a385b031f010a1a6ad001391831c0a3a574668c7
Merge: 52d820c... 20ba6ba...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 8 12:12:10 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 20ba6bac854a4b39defa3050afcde2f0e765bddf
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 8 12:09:44 2004 +0100

    input: Update the Wacom driver to latest version
           from Ping Cheng from Wacom.

commit d6d1f5ff3c278f239d0a32adaaa172de1aae4487
Merge: 92878ca... 52d820c...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Mar 8 03:36:15 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 593f48d6f4cfb0b0ea7d598121699cd247a3e02d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Mar 7 23:07:52 2004 -0800

    [PATCH] USB UHCI: restore more state following PM resume
    
    Some systems don't save the internal state of the UHCI registers across a
    PM suspend/resume cycle very well.  This patch saves & restores the
    Frame Number and the Framelist Base Address registers (in addition to the
    Interrupt Enable register, which was added separately in a recent patch.)

commit 2d5185c7a2ecd97c8bfd498333af0a3955a71b26
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Mar 7 23:07:27 2004 -0800

    [PATCH] USB: Remove interface/altsettings assumption from audio driver
    
    This patch updates the USB audio class driver to use the usb_ifnum_to_if()
    and usb_altnum_to_altsetting() routines, thereby removing assumptions
    about which interface or altsetting is stored in which array entry.
    
    It also simplifies the driver's probe() routine by using the raw
    configuration descriptor already loaded into memory instead of reading the
    descriptor from the device.  Now, either the current driver has a bug and
    never deallocates the buffer used to hold the descriptor, or else I've
    introduced a double-free error.  There's no obvious place where the buffer
    gets freed, but it's hard to be certain.
    
    It would be good if someone could try out this patch.  I can't test it,
    not having any USB audio devices handy.  If the double-free error is
    present, it will show up when the device is disconnected and the
    configuration data is released.

commit 40c72cb00fb4bcebf8c543bab7544adeeaa1836e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Mar 7 23:07:07 2004 -0800

    [PATCH] USB: Update USB class drivers
    
    This patch makes the necessary updates to the bluetty, cdc-acm, and usblp
    class drivers for the new interface/altsetting paradigm.  The changes are
    quite small.
    
    Unfortunately, the audio and usb-midi drivers are in much worse shape.
    They will require more in-depth hacking, to come later...

commit fa503878516ffa8a5cba2d66951c0ddc2c8ac5be
Author: Pat Gefre <pfg@sgi.com>
Date:   Sun Mar 7 21:30:30 2004 -0800

    [PATCH] ia64: fix SN2 console driver to use console_initcall()

commit 1c2dd3251cd75396d9cbc67b74dafce956ef690f
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 7 19:53:44 2004 -0800

    USB: fix usb-serial core to look at the proper interface descriptor

commit 976814bb828beecef9ca456a0b79bba90b9c78c4
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 7 19:53:02 2004 -0800

    USB: fix the pcwd_usb driver due to act_altsetting going away.

commit 495efa0bf905b52fa62814f7b3bf19e3d666aa04
Merge: 69bacdf... 52d820c...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Sun Mar 7 19:23:22 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 536a5db55fcd97c48c6c3d21dcc0e1850e544d26
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 7 19:11:32 2004 -0800

    merge fixups with irda usb code

commit 81110cb1c6d9e14cd0553acc83febe231379afa9
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Mar 7 19:08:43 2004 -0800

    ia64: Reserve 3 syscall numbers for Andi Kleen's NUMA interface.

commit eba9fb1592edf42b0a231984f9abd88929b0e44b
Merge: 52d820c... 118d79a...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 7 19:00:29 2004 -0800

    merge

commit 9be99f268ae4c875cd5550114d35fafd2a5f0509
Merge: 52d820c... d096d1e...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Sun Mar 7 17:51:30 2004 -0800

    merge fixups

commit 4a79082d0c7035b00479ab2480769ec89f2f7684
Merge: 52d820c... 6e3eae3...
Author: Keith M. Wesolowski <wesolows@kernel.bkbits.net>
Date:   Sun Mar 7 17:48:46 2004 -0800

    Merge kernel.bkbits.net:/home/repos/linux-2.5
    into kernel.bkbits.net:/home/wesolows/sparc32-2.6

commit 63ad6957dd71f49f90dcda886dc5c4a5be022b98
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sun Mar 7 08:44:41 2004 -0500

    SCSI: implement transport attributes for 53c700
    
    his patch moves the internal storage of the offset and period to the
    transport class and adds methods to set them (there's no need for a get
    method since the value in the transport class is exactly what the driver
    believes the transport agreement to be).
    
    You can see how this type of use of the transport class is supposed to
    work: the driver now has init and exit routines attaching and releasing
    the transport class (that's the reason for the Makefile perturbation
    because it has to init before its users).  The correct attributes are
    set up in slave_configure() for negotiation and we now export the period
    and offset setting functions.

commit f8d7ec0b52c1ad45324f7b7bc2d5e56fdfd26691
Merge: 1aa4094... fc62fb1...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Mar 7 14:01:09 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-sound
    into suse.cz:/home/perex/bk/linux-sound/work

commit 1aa40946628d55338e89144567f57f9fca444c7f
Merge: bdfe686... 682597e...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Mar 7 13:53:46 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit fc62fb1d92d71f786f0ed20047ac110552b7640a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Mar 7 13:48:10 2004 +0100

    ALSA - fix compilation (header files)

commit 02a9054d99973f281f4149be46be3ff5a42945e7
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Mar 7 13:37:37 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PARISC Harmony driver,SPARC AMD7930 driver,SPARC cs4231 driver
    fixed for the new DMA buffer handler.

commit 28beb648ea4403f13f2802d482d8265709b505b0
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Mar 7 13:37:02 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module,PCM Midlevel,ALSA Core,CMI8330 driver,ES18xx driver
    Sound Scape driver,AD1816A driver,AD1848 driver,CS4231 driver
    ES1688 driver,GUS Library,Opti9xx drivers,SB16/AWE driver,SB8 driver
    ALS4000 driver,AZT3328 driver,BT87x driver,CMIPCI driver,CS4281 driver
    ENS1370/1+ driver,ES1938 driver,ES1968 driver,FM801 driver
    Intel8x0 driver,Maestro3 driver,RME32 driver,RME96 driver
    SonicVibes driver,VIA82xx driver,ALI5451 driver,CS46xx driver
    EMU10K1/EMU10K2 driver,ICE1712 driver,ICE1724 driver,KORG1212 driver
    MIXART driver,RME HDSP driver,RME9652 driver,Trident driver
    YMFPCI driver,Sound Core PDAudioCF driver,USB generic driver
    - clean up the DMA code again.
      now only struct device pointer is handled for every BUS type.
      the pointer must be given via the corresponding macro snd_dma_xxx_data().
    - added the hack for dma_alloc_coherent() to accept dev = NULL for ISA
      buffers.
    - added the missing include files.

commit 1b98ec6bd92e30dafcdee7dfd7748240974c676d
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sun Mar 7 07:35:36 2004 -0500

    SCSI: Make SPI transport attributes mutable
    
    This adds the final missing piece to the transport attributes:  A
    published API by which they can be set and retrieved (SPI attributes
    only).  The sysfs field only appears writeable if the driver supplied a
    set method in the attribute template, so unsettable attributes show up
    as read only.
    
    The consequence now is that the spi transport attribute class is no
    longer a simple exported structure: the driver has to attach to the spi
    transport class at module initialisation.

commit a48caece2e2c151252760272731e3e666361406f
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 22:19:09 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core
    PCM API is 2.0.6

commit 845e2e42f37bf5116fb9583c85947124ce8ac125
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 22:13:46 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PCM Midlevel
    Fix in playback_silence routine - don't silence whole buffer at start if samples are filled

commit f59a1efa5bc67e784524ed61fdf72af23702108c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 22:08:25 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    fixed the interrupt problem with NForce(2).

commit 2a34a9e336dd24a67462874b84847b3e66a7b597
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 22:03:44 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core,Intel8x0 driver,VIA82xx driver,CS46xx driver
    - fixed ALC100/P Master/PCM volume handling (h/w bug)
    - added ALC65x JACK quirk
    - disabled IC5 PERL mobo quirk
    - fixed Mic/Center sharing switch on ALC65x.
    - fixed Mic BIAS on ALC650.
    - added extra delay in the resume if needed.
    - renamed 'External Amplifier Power Down' to 'External Amplifier'
    - added a workaround for the reversed EAPD of cs46xx voyetra.

commit 42f22379b26b97071ef748d4ac2bc7f156cc6ef2
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 22:00:31 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Opti9xx drivers
    fixed the code with obsolete check_region().

commit 45a159bdd9c2f80125990f375af8c17345a720b6
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 21:57:58 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA<-OSS sequencer
    mpkelly - fixed channel settings for input events

commit ee94b3e60eae4297cf062b1f6e6212874d6c8d50
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 21:55:33 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ICE1724 driver,ICE1712 driver
    Dirk Kalis <Dirk.Kalis@t-online.de>
    Added num_total_adcs.
    Separated analog input / s/pdif input controls

commit 9735a02757dda34b9671d66db85e77099675d4af
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 21:53:43 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PPC Tumbler driver
    - fixed the mic input on snapper.

commit c2cf61ccf7f9c3970927851776364abf744d2996
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Mar 6 21:52:15 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALSA Core
    - show the error message when the given card index is not available.

commit 69bacdf22a60fe00a648d73ad25a9b038825ac7d
Merge: ff9fc79... 6e3eae3...
Author: Keith M. Wesolowski <wesolows@foobazco.org>
Date:   Fri Mar 5 22:52:03 2004 -0800

    Merge foobazco.org:/sources/2.5-bk
    into foobazco.org:/sources/2.5-sparc-todave

commit 92878ca5ed53b3384e3bdb3b72e6f1992917d17b
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Mar 5 15:47:43 2004 -0500

    [PATCH] gcc-3.5: acpi build fix
    
    Current gcc requires that both the declaration and the definition of
    functions describe the same register conventions.

commit ae740dbc3089bf066b652dd1497ed558741de41f
Merge: b02a51d... 8d9a105...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Fri Mar 5 18:49:39 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit f8ca1b0189d5f94e3bedd17c5ed94a2ba221c9d8
Author: James Bottomley <james.bottomley@steeleye.com>
Date:   Fri Mar 5 09:46:49 2004 -0500

    [PATCH] Add full complement of SPI transport attributes
    
    This patch does two things:
    
    1. Add all the other ppr type transport attributes to the spi class
    2. make period settable as the ppr/sdtr period, but display in ns for
    the user.

commit 682597e06570be7496f7e57e5cde22331aa63fa5
Merge: b02a51d... 0ec4c3f...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Fri Mar 5 12:19:37 2004 +0100

    Merge bk://linux-sound@linux-sound.bkbits.net/linux-sound
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit 8d9a105359dba3953339f7c142e3de5ad1232e84
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Mar 5 11:29:47 2004 +0100

    input: Fix i8042 PS/2 mouse on ARM.

commit 9167017d833d17b23723cf37e489966fe68b4d4e
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 5 02:59:30 2004 -0500

    [PATCH] USB 6-in-1 card reader blacklist addition
    
    Yes, someone really was stupid enough to make a device with
    such a dumb vendor name. In combination with the device name
    and rev number though, it shouldn't cause any false positives.
    
    Device in question is some no-name 6-in-1 usb card reader,
    whose slots all appear on different LUNs, requiring you
    fiddle with scis_mod's max_luns argument unless you have this patch.

commit daaf7b0f387b0cde7bd03b85ab6dcced80202c6b
Author: Dave Jones <davej@redhat.com>
Date:   Fri Mar 5 02:57:45 2004 -0500

    [PATCH] sort SCSI blacklist
    
    No changes whatsoever, just moves entries around to sort
    on vendor. I kept the multiple sections, and just
    sorted per section.

commit 0ec4c3f50d44690069b93848a49bfe68d8c80484
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 22:30:48 2004 +0100

    ALSA - fixed compilation

commit f40d95c0aa6614c2c9220a073051f4039f05c0a4
Merge: 5ebfcb9... ef08f52...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 4 15:04:39 2004 -0500

    Merge intel.com:/home/lenb/src/linux-acpi-test-2.6.3
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit ef08f52254382ca4fb8ef126451ca5cfbbb91c80
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 4 14:29:58 2004 -0500

    [ACPI] global lock macro fixes (Paul Menage, Luming Yu)
      http://bugzilla.kernel.org/show_bug.cgi?id=1669

commit 8ec0132088b3b1c0f4be37147610a86e82e191cc
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 4 14:27:47 2004 -0500

    [ACPI] comments

commit 5ebfcb96555b6709100b09a3337dba4f698203c6
Merge: e93b4d7... 837fd58...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Mar 4 13:32:14 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit e8fc8b1976d4e0b18b119d0dd47a4aa7db0de0aa
Merge: 537940a... c398f92...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:27:50 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-sound
    into suse.cz:/home/perex/bk/linux-sound/work

commit 537940a601ecee13a02e27d3d1c0257b068bfba8
Merge: 89fb030... f16c968...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:20:19 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit c398f926e2835d9de6e0894174f1bb8ccf18d2dd
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:09:02 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    fixes for broken SB Audigy 2 NX descriptors

commit c63b545fb7a0617324b7d3f4c2a2096f2bcf6416
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:08:36 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module
    - suppress allocation failure warnings with large buffers.

commit 4fdf2de63cb82d70a059cc52bfd478c8674f46cb
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:08:09 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PCI drivers,AC97 Codec Core
    - added CONFIG_SND_AC97_CODEC and simplify Kconfig and Makefiles.

commit 2c1a1234ee40de45832574680cfbe3b74b1d197b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:07:43 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module
    fixed the missing inclusion.

commit 098031b76a5296676b5892cc2f72243cc5a613b9
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:07:18 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    - fix non-working control port on Roland U-8
    - more port names
    - new MIDI quirks for Roland MMP-2, V-SYNTH, VariOS, FP-*, GI-20,
      BOSS GS-10, Edirol UR-80, PCR-A, PCR-1

commit 8a74a5e0e8499cf621f07ecbd8c7c961c221364b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:06:16 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Generic drivers,Digigram VX core,PCI drivers,PCMCIA Kconfig
    More Kconfig and Makefile cleanups following Russell's direction:
    - added SND_VX_LIB tristate

commit 14166bd36962cdcec7ed8659ac58305dde3fc91d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:04:54 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Generic drivers,MPU401 UART,OPL3,OPL4,ISA,PCI drivers
    More Kconfig and Makefile cleanups following Russell's direction:
    - added SND_MP401_UART tristate
    - added SND_OPL3_LIB tristate
    - added SND_OPL4_LIB tristate

commit 437b466aa2ead189f3b78ea1ca0c9e4e0ffc50fe
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:03:28 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core,Generic drivers
    Russell King <rmk+alsa@arm.linux.org.uk>
    
    This is part of a patch series to clean up sound/core/Makefile in Linux
    2.6.4-rc1.
    
    - Add SND_TIMER for drivers which use the snd-timer module.
    - Remove snd-timer from these drivers entries in sound/core/Makefile,
      removing any sound/core/Makefile entries which are left empty.
    - Since the 'top level module dependency' lists are now gone, remove
      the comment.
    - Also, since we only mention objects once, remove the sorting of obj-m

commit a81107ee2542394f2af879bd16ff42e0e88fd85a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 19:01:05 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core,ISA,PCI drivers,PCMCIA Kconfig
    Russell King <rmk+alsa@arm.linux.org.uk>
    
    This is part of a patch series to clean up sound/core/Makefile in Linux
    2.6.4-rc1.
    
    - Add SND_HWDEP for drivers which use the snd-hwdep module.
    - Remove snd-hwdep from these drivers entries in sound/core/Makefile,
      removing any sound/core/Makefile entries which are left empty.

commit c414e3fa136564c0615bbbc098b3e6003f8e85ad
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:58:51 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core,Generic drivers,ISA,PCI drivers,USB
    Russell King <rmk+alsa@arm.linux.org.uk>
    
    This is part of a patch series to clean up sound/core/Makefile in Linux
    2.6.4-rc1.
    
    - Add SND_RAWMIDI for drivers which use the snd-rawmidi module.
    - Remove snd-rawmidi from these drivers entries in sound/core/Makefile
    - Remove any sound/core/Makefile entries which are left empty.

commit f0214c55421cff46f72667909c1bdae2b7d28aec
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:55:15 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ARM,ALSA Core,Generic drivers,ISA,PARISC,PCI drivers,PCMCIA Kconfig,PPC
    SPARC,USB
    This is part of a patch series to clean up sound/core/Makefile in Linux
    2.6.4-rc1.
    
    - Add 'select SND_PCM' statements to appropriate Kconfig entries for
      drivers whose configuration symbol is used to build snd-pcm,
      snd-timer, and snd-page-alloc.
    
    - Remove snd-pcm, snd-timer and snd-page-alloc from these in
      sound/core/Makefile.
    
    - Remove snd from these entries as well - all SND_xxx configuration
      symbols depend on CONFIG_SND, so we won't even consider building
      any of these drivers unless SND is already set to 'y' or 'm'.

commit 9cff174445043432f4fa8d247b97d42f3e10b933
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:50:20 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Intel8x0 driver
    Converted to new DMA allocation API

commit 1c769abca43823abb17ceb47c800f6875d9e1351
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:45:49 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module
    - added back the output of PCI dma buffers in proc file.

commit 70d6d370a55c2aea1d5e6105065cf90dbe031185
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:37:37 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    - fixed the allocation/release of buffer descriptor table.

commit 89d23380e6556dfa15eed04b32308f85892749b5
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:31:47 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ES1968 driver
    - fixed the handling of DMA buffer with the recent API change.

commit 90b199936626b85fa0d7f4c4d2b8d8229de10c70
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:25:33 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Memalloc module,ALSA Core
    - fixed the lock up with SG-buffer handler.
    - removed non-existing export symbol.
    - clean up ifdefs.

commit ee22cdd3021cd3c90f91d2e003f6d86f48d8bdff
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:22:03 2004 +0100

    ALSA CVS update - Clemens Ladisch <clemens@ladisch.de>
    USB generic driver
    Fix for Creamware Noah:
    search class-specific endpoint descriptor in the
    extra descriptors of the sync ep, too

commit 04ea223f6847c381f827710ec5d4f3da8206d1fc
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:18:45 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core
    Russell King <rmk+alsa@arm.linux.org.uk>
    
    This is part of a patch series to clean up sound/core/Makefile in Linux
    2.6.4-rc1.
    
    - Add SND_TIMER, SND_PCM, SND_HWDEP and SND_RAWMIDI configuration symbols.
      These symbols select which modules in sound/core get built, building
      snd-timer, snd-pcm, snd-hwdep and snd-rawmidi respectively.
    
    - Add reverse dependencies (select) to select these symbols for core
      components where necessary.
    
    - Hide SND_OSSEMUL - we can select this when SND_MIXER_OSS, SND_PCM_OSS
      or SND_SEQUENCER_OSS are selected automatically.
    
    - Tweak Makefile to use these new symbols to build these modules.
    
    - Since we now build appropriate modules for core components according
      to the new configuration symbols, (eg, snd-timer if SND_SEQUENCER is
      selected) we can delete these duplications.

commit d7780749e67e06f03cc16f3df2e9137bd44a5432
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:17:01 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    CMI8330 driver,ES18xx driver,AD1816A driver,AD1848 driver,CS4231 driver
    ES1688 driver,GUS Library,Opti9xx drivers,SB16/AWE driver,SB8 driver
    Fixed old function name (snd_pcm_isa_flags -> snd_pcm_dma_flags)

commit b1216ee2e1b9124ff24c0dfab19bf47fcf298f92
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:15:49 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Big DMA cleanup originated by Russell King <rmk+alsa@arm.linux.org.uk>
    * Russel
      - introduced 'struct device' support for 2.6 dma_alloc_coherent()
    * Jaroslav
      - removed all bus-specific allocation functions
      - extended snd_dma_alloc_pages/snd_dma_free_pages to handle all bus types
      - recoded all (or almost all) device drivers
      - sgbuf functions are bus independent now

commit f3334a07608a4ab9f30613f6e2eb642c19e7d26a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Mar 4 18:14:42 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    FM801 driver
    tea575x can be module, too

commit c7572b86a062070fb0466b4515a7971c17f72d6b
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Mar 4 07:29:51 2004 -0500

    Add SCSI transport attributes
    
    From: 	Martin Hicks <mort@wildopensource.com>
    
    Transport attributes are classes which can be
    attached to by a scsi driver to export (and
    later control) transport based properties.

commit 0d7abd64aa14a88bf0d74a480b11c75be419968f
Author: Zephaniah E. Hull <warp@mercury.d2dc.net>
Date:   Thu Mar 4 12:58:18 2004 +0100

    input: HID needs to distinguish between two types of A4Tech
           two-wheel mice.

commit b362c0a1c69657c03d8ad6b41993f65ea90d7c47
Author: Brian King <brking@us.ibm.com>
Date:   Thu Mar 4 06:17:15 2004 -0500

    [PATCH] SCSI Midlayer initiated START_UNIT
    
    The ipr driver that is currently out for review talks to disk array devices
    that require a START_UNIT prior to media ops, similar to normal scsi devices.
    However, any time the adapter gets reset, these devices end up needing another
    START_UNIT. This causes problems with the current error handling and these
    devices get taken offline when this occurs. Attached is a patch which will
    better handle these devices and issue a START_UNIT from the error handler
    when appropriate.

commit ed5ec7c843ed7adf3c809303269d30ba2e491f05
Author: John Fremlin <john@fremlin.de>
Date:   Thu Mar 4 11:21:42 2004 +0100

    input: Add a NEC USB gamepad to badpad blacklist.

commit 2f56ef77c0df8002ee30092ef1123ad356031de3
Merge: 89fb030... d8a791b...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Mar 4 11:15:12 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit c34d6311bb903b88c43696fe00b152f8f65560c4
Merge: 8f7155a... fb32940...
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Wed Mar 3 23:43:02 2004 -0800

    Merge tiger.hpl.hp.com:/data1/bk/vanilla/linux-2.5
    into tiger.hpl.hp.com:/data1/bk/lia64/to-linus-2.5

commit fb329400c53c2eb5bdd2c420e9e2716113d31676
Author: Andreas Schwab <schwab@suse.de>
Date:   Wed Mar 3 23:27:35 2004 -0800

    ia64: Fix staircase effect on Altix serial console
    
    Serial console output on Altix didn't convert NL to CRNL.

commit 8ea6bc67737cfa9456ceed92eca0592524ca82db
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Thu Mar 4 00:42:40 2004 -0500

    [PATCH] add missing free sgtable in scsi_init_io error path
    
    I was testing different errors while running multipath, and becuase of
    a bug in dm-multiapth I hit the "Incorrect number of segments after
    building list" error. The attached patch just adds a missing
    scsi_release_buffers() at the bottom of the scsi_init_io where the
    table was allocated successfully, but you can return BLKPREP_KILL when
    someone messes up segment counts.

commit 9897d23f2d5aff70480cab6e151bdd7184af6f67
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Thu Mar 4 00:38:33 2004 -0500

    Add SCSI lots of disk support
    
    From: 	Kurt Garloff <garloff@suse.de>
    
    Based on earlier patches from
     Badari Pulavarty <pbadari@us.ibm.com>,
     Matthew Wilcox <willy@debian.org>

commit d8a791b375a97af382312a8173b691bcf2567f8f
Author: Jan-Benedict Glaw <jbglaw@lug-owl.de>
Date:   Wed Mar 3 19:17:09 2004 +0100

    input: Add driver for DEC VSXXX mice.

commit fa7d2b88d5b71e3cbb70da60c94062cf4f30c589
Author: Jan-Benedict Glaw <jbglaw@lug-owl.de>
Date:   Wed Mar 3 19:16:24 2004 +0100

    input: Add DEC LK201/LK401 keyboard support

commit e93b4d70c9245831cb05588dbf0f425b8d69737e
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 3 12:30:07 2004 -0500

    asmlinkage acpi_enter_sleep_state_s4bios() - from Pavel Machek

commit 6e4026cfa7179bdb09009f5ec5d1de267f338509
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Mar 3 17:14:01 2004 +0100

    input: i8042.c:
      Assume the chip always is in XLATE mode, even when it doesn't
      have the XLATE bit set - apparently IBM PS/2 model 70 behaves
      this way.

commit 3ed066faee2eafcaa68329b364245270f37ef9ad
Merge: 3201b05... 9609c7e...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Mar 3 10:20:41 2004 -0500

    Merge intel.com:/home/lenb/bk/linux-2.6.4
    into intel.com:/home/lenb/src/linux-acpi-test-2.6.4

commit 17d6b8a74334e43f3e96299300c4db3630dda8e8
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Mar 3 13:50:22 2004 +0100

    input: Only do hotplug on PS/2 HW when the HW sends 0xaa. This
           avoids problems with broken USB->PS/2 legacy emulation
           in certain BIOSes.

commit 5b3d5cb728547631a14cb7d33f7d077456e47dbd
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Mar 3 13:49:20 2004 +0100

    input: Workaround i8042 chips with broken MUX mode.

commit 3dfa3e400cb4bbbc9b6513e08abdc05871659a2e
Merge: b2d271d... 0d32daf...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Mar 3 12:13:59 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 0d32daf57c8c5ce1a11be7a99292e4f2f45aca35
Merge: 912f9f4... 366b751...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Mar 3 11:59:51 2004 +0100

    input: Manual merge with Dmitry.

commit 118d79a88355267f310de2526dc204897666cba5
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Mar 3 01:01:21 2004 -0800

    [PATCH] USB: HCD names, for better troubleshooting
    
    See the attached patch -- which restores the behavior of usbcore
    to what it had before "struct device.name" went away, in the
    (typical) case of PCI devices.
    
    It makes the root hubs say what hardware they're actually using,
    in the reasonably typical case that PCI names are in use, rather
    than being just generic (and hence almost useless) strings.  This
    sort of information can really help when troubleshooting.

commit d096d1eef2ac5c4130ecd4b51150589437d11c06
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 23:31:01 2004 -0800

    [PATCH] I2C: keep i2c-dev numbers in sync with i2c adapter numbers
    
    This makes userspace tools easier to figure out which i2c-dev device is
    assigned to which i2c adapter.
    
    Yes, we can overflow the i2c dev array right now, but that would take a
    lot of i2c adapter modprobe/rmmod cycles.  That will be fixed up soon.

commit ebcfd1a5c9283f840d93e55c368b5df0dfc9ad13
Author: Jesse Barnes <jbarnes@sgi.com>
Date:   Tue Mar 2 23:07:01 2004 -0800

    [PATCH] ia64: Don't assume iosapic interrupt controllers
    
    Some ia64 machines don't use an iosapic interrupt controller (a
    flagrant violation of the DIG64 spec), so don't assume it's there in
    mca.c.  Platforms that provide a ACPI_INTERRUPT_CPEI vector are
    responsible for registering its interrupt controller type in platform
    specific code, iosapic.c:iosapic_register_platform_intr() does this
    for platforms with an iosapic where the CPEI vector is listed in the
    ACPI namespace, and on sn2, all external interrupts are assigned the
    irq_type_sn type, so this change of assumption should be safe.

commit 07fd2b87fca9fb39a7d2626283291ce3861e1b5e
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 20:54:26 2004 -0800

    [PATCH] USB: remove intf->act_altsetting altogether from the USB core and usb.h

commit 667a8226c541749f54364fd092419d4c292b3ca1
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 20:54:08 2004 -0800

    [PATCH] USB: remove act_altsetting usages in more USB drivers

commit c868e47d1a6c244e3296f5bfc2c1921fcb5c1929
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 20:53:48 2004 -0800

    [PATCH] USB: remove act_altsetting usages in the remaining drivers/usb/ drivers

commit b2144480cff8e0f52dff9c3ca2dca138039b207d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 20:53:25 2004 -0800

    [PATCH] USB: Convert usbtest to the new altsetting regime
    
    This patch converts the usbtest driver to the new way altsettings work.
    The largest change is to remove the assumptions that altsetting numbers
    lie in the correct range (a debugging message is logged if they don't but
    execution doesn't stop) and that the array is sorted by number.

commit 9967693e40d26c989acfbea2a9404a91e4976131
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 20:53:03 2004 -0800

    [PATCH] USB: Convert usb-storage to use cur_altsetting
    
    I'm beginning the process of converting device drivers to use
    cur_altsetting with usb-storage, the one I know best.  Only a few changes
    are needed (and the first one isn't even really necessary).

commit b5ca4f612390dbe8a833a6ce85bd8fc9bb6e8ea0
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 20:52:40 2004 -0800

    [PATCH] USB: Small improvements for devio.c
    
    devio.c doesn't need to be changed to support the new altsetting
    mechanism, but while looking through it I noticed a couple of places that
    could be improved slightly.  Here they are, just removal of some redundant
    tests (all altsettings for the same interface are guaranteed to have the
    same bInterfaceNumber) and function calls.

commit 3f48fc79af1b124acca11c856ca352a27835536e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 20:52:13 2004 -0800

    [PATCH] USB: Convert usbcore to use cur_altsetting
    
    This patch continues the work of as209 by converting the rest of usbcore
    to use cur_altsetting in place of act_altsetting.  The changes required
    are fairly small, just in the sysfs attributes and hub configuration.

commit e8a19690d7b04fde093d7d1d62b2e1f1b1b4db98
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 20:49:44 2004 -0800

    [PATCH] USB: Improve handling of altsettings
    
    On Sat, 21 Feb 2004, Greg KH wrote:
    
    > > One thing that would be good, whether this change gets made or not, is to
    > > remove all assumptions from drivers about the order in which interfaces
    > > are stored (use usb_ifnum_to_if()) and the order in which altsettings are
    > > stored (replace intf.act_altsetting with a pointer and create
    > > usb_altnum_to_alt() analogous to usb_ifnum_to_if()).  There are plenty of
    > > drivers that will need to be fixed up.
    >
    > I'd be glad to take patches to fix up any drivers that still have this
    > problem right now.
    
    Here's a start.  This patch begins the conversion process by adding
    usbcore support for cur_altsetting and deprecating act_altsetting.
    
    So long as we assumed that altsetting numbers range from 0 to
    num_altsetting-1 and that the number matches its index in the altsetting
    array, there was no harm in using act_altsetting.  But without that
    assumption act_altsetting is merely an invitation to errors.  Although the
    kerneldoc says that act_altsetting is the _index_ of the active
    altsetting, it's all too easy to confuse it with the _number_ of the
    active altsetting.  Using cur_altsetting instead (a pointer rather than a
    number) will prevent that confusion.
    
    Until all the drivers have been converted to use cur_altsetting, the core
    will have to maintain act_altsetting in parallel with it.  Eventually we
    will be able to remove act_altsetting, but fixing all the drivers will
    take a while.
    
    Included in this patch:
    
    	Add cur_altsetting to struct usb_interface and deprecate
    	act_altsetting.
    
    	Add comments and kerneldoc explaining the changes.  Also remove
    	the comments in front of struct usb_host_config (they seem to
    	have been left behind when usb_ch9.h was split out) and add
    	kerneldoc for that structure.
    
    	Add usb_altnum_to_altsetting() to help look up altsettings based
    	on their number.
    
    	Convert the usb_set_interface(), usb_set_configuration(), and
    	usb_reset_configuration() routines to support cur_altsetting
    	and act_altsetting in parallel.  Convert a few others to use
    	cur_altsetting rather than act_altsetting.
    
    	Rename a few local variables to make their meaning a little
    	clearer.  It would be nice to change struct usb_host_interface
    	to something like usb_host_altsetting, but that's a patch for
    	another time.

commit aa36bfd289a4e18f6c369e433af013f6598b39ef
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Mar 2 19:16:57 2004 -0800

    [PATCH] USB: Don't add/del interfaces, register/unregister them
    
    On Fri, 27 Feb 2004, Greg KH wrote:
    
    > On Wed, Feb 25, 2004 at 10:05:37AM -0500, Alan Stern wrote:
    >
    > > Why would anyone want to do this, you ask?  Well the USB subsystem does it
    > > already.  Each USB device can have several configurations, only one of
    > > which is active at any time.  Corresponding to each configuration is a set
    > > of struct devices, and they (together with their embedded kobjects) are
    > > allocated and initialized when the USB device is first detected.  The
    > > struct devices are add()'ed and del()'ed as configurations are activated
    > > and deactivated, leading to just the sort of call sequence shown above.
    >
    > Then we need to fix this.
    
    The driver model does not support repeated device_add(), device_del(),
    device_add(), device_del(), ... calls for the same device.  But that's
    what happens to an interface's embedded struct device when we change
    configurations.
    
    Accordingly, this patch changes the device_add()/device_del() calls for
    interfaces to device_register()/device_unregister().  When the interface
    is unregistered the new code waits for the release method to run, so that
    it will be safe to re-register the interface should the former
    configuration be reinstated.
    
    Greg, please check this out to make sure I haven't made some dumb mistake.
    It works on my system and it fixes a memory leak in the USB system.

commit 4ccbe94c79c9d9981896159b0119466275a17ff1
Author: Thomas Sailer <sailer@scs.ch>
Date:   Tue Mar 2 18:16:35 2004 -0800

    [PATCH] USB: USB OSS audio driver workaround for buggy descriptors

commit 2c9428135018011749e1fc00bf87cd0ed5e4f100
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Mar 2 18:09:09 2004 -0800

    [PATCH] I2C: show adapter name in i2c-dev class directory to make it easier for userspace tools.

commit 404596e80771730a51146208a5319ed19fcf0a23
Author: Dave Jiang <dave.jiang@intel.com>
Date:   Tue Mar 2 18:07:50 2004 -0800

    [PATCH] I2C: IOP3xx i2c driver update
    
      Here's a small patch update to the i2c-iop3xx.c in
    drivers/i2c/busses/. It fixes some functions' return value and updated
    the irq handler to be compatible with kernel 2.6. Thanks!

commit f285ff9b83f4b75bfe6b6c9920913a0d9c9c95ba
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Mar 2 18:00:13 2004 -0800

    [PATCH] USB Gadget: make usb gadget strings talk utf-8
    
    Teach gadget/usbstring to expect UTF-8 strings, not ISO-8859/1 ones.
    This just gets rid of an API issue:  no hacks needed for non-Western
    languages, and multi-language support will be lots easier.
    
    Current drivers won't notice the API change, they use US-ASCII (which
    is a strict superset of both encodings).
    
    Future drivers may want to teach utf8_to_utf16le() about the four-byte
    encodings, so they can emit surrogate pairs for those Unicode characters.

commit 366b7517f22c58bdb57df51fb5bbbc096d789324
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:36:59 2004 -0500

    Input: use __obsolete_setup to document removed (renamed)
           options so users will have a clue why the options
           do not work anymore

commit e6bfc7535780721ad6430e52d25adf5a49fab418
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:35:47 2004 -0500

    Setup: introduce __obsolete_setup macro to denote truly obsolete
           parameters. Whenever such parameter is specified kernel
           will complain that "Parameter %s is obsolete, ignored"

commit 7102101006cedbbf801089ed714a5b32cafd6d35
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:34:38 2004 -0500

    Input: Convert joystick modules to the new way of handling parameters and
           document them in kernel-parameters.txt
    
           The new names are:
             amijoy.map=<a>,<b>
             analog.map=<type1>,<type2>,...<type16>
             db9.dev[2|3]=<parport#>,<type>
             gamecon.map[2|3]=<parport#>,<pad1>,<pad2>,...<pad5>
             turbografx.map[2|3]=<parport#>,<js1>,<js2>,...<js7>
    
           Also there is a tiny change to mousedev and tsdev descriptions in
           kernel-parameters, but no name changes.

commit dfd797720ab97f536696c5113945e434605756dc
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:32:43 2004 -0500

    Introduce module_param_array_named to allow for module options with
    name different form corresponding array variable. Allows using short
    (but descriptive) option names without hurting code readability.
    
    Modeled after module_param_named.

commit ba1889da3884de60f399ccb8e8b9782b51d0da00
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:31:24 2004 -0500

    Psmouse: some hardware does not ACK "disable streaming mode" command.
             Since we already have an idea that it's a mouse device that
             is present (from its response to GET ID command), instead of
             aborting, issue a warning and continue.

commit b6884d2806884ab681c4c2886d13c1b7028ea5a2
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:30:04 2004 -0500

    Psmouse: whitespace fixes

commit d8bf0bcd2b5ea38b7c505b2a7cad2577b5dc25c4
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:29:09 2004 -0500

    Input: Switch between strict/relaxed synaptics protocol checks based on
           data in the first full data packet. Having strict checks helps
           getting rid of bad data after losing sync, but not all harware
           implements strict protocol.

commit c99cb94aad385ef259639181f25f221666123096
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:27:15 2004 -0500

    Atkbd: Clean up unclean merge (remove old MODULE_PARMs)

commit 611b282adba03f01f9527d9fff0be7031345177f
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Mar 2 14:25:49 2004 -0500

    Atkbd: whitespace fixes

commit 59294772116d39e6fc1b4d88086b1f511671f3b2
Author: Kai Mkisara <kai.makisara@kolumbus.fi>
Date:   Tue Mar 2 10:28:40 2004 -0600

    [PATCH] SCSI tape sysfs name fixes
    
    - The sysfs directory names are changed from stxmy[n] to the names in
      devices.txt. Below is an example for the first tape drive:
      /sys/class/scsi_tape/
      |-- nst0
      |-- nst0a
      |-- nst0l
      |-- nst0m
      |-- st0
      |-- st0a
      |-- st0l
      `-- st0m
    
    - Name generation for non-default number of modes fixed so that same
      minors get same names even with different number of modes.
    
    - devfs minor generation fixed to work with non-default number of modes
    
    - The alignment requirement is printed in the line logged when a tape is
      attached.

commit 912f9f42ddf8973b1294ecc7672af6c31cb6a0ff
Author: Jan-Benedict Glaw <jbglaw@lug-owl.de>
Date:   Tue Mar 2 15:47:14 2004 +0100

    input: Add serio entries for LK keyboards.

commit c0d862cef2454ce88adab0f2a6f77ad060f1d292
Merge: 13d02fd... edecd54...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Mar 2 15:31:22 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit b68fd6ee71f9a9d2bf1bc4504112700c5f31eeb9
Author: Greg Edwards <edwardsg@sgi.com>
Date:   Tue Mar 2 06:29:33 2004 -0800

    ia64: fix missing include in include/asm-ia64/sn/router.h

commit 049b321fc159b17308ee33a5e1288e0b8255d96f
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Tue Mar 2 02:09:08 2004 -0800

    ia64: More SAL cleanups/fixes.
    
    Based on patch by Matthew Wilcox: make kernel work with old (broken) firmware
    again and fix UP build problems.

commit 20ab14625c739e6df97bfca454ec33f15c2a494c
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Mon Mar 1 22:59:54 2004 -0700

    PPC32: Fix an old thinko in arch/ppc/boot/simple/relocate.S

commit 9deca137cbbfde54d81ff6f9ebb675e69c5b5cd3
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Mon Mar 1 21:55:16 2004 -0700

    PPC32: Fix 'make znetboot' on CONFIG_PPC_MULTIPLATFORM.

commit f81f88f434dffd75d765771a616114c6f7d8edfb
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Mon Mar 1 21:54:38 2004 -0700

    PPC32: Add and make use of ppc_md.rtc_{read,write}_val.
    We can then fix IBM PReP machines and their RTCs.

commit 25492b1151fcd744dc0239a07f3021ab925d21ca
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Mon Mar 1 20:51:47 2004 -0800

    ia64: Rename ia64_invoke_kernel_thread_helper() to start_kernel_thread()
    	for symmetry with start_kernel() and to make it obvious when the
    	end of the call-chain has been reached.

commit 2130835d51701f6fcfaa91e00e5ca81b0bc92f14
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Mon Mar 1 21:47:04 2004 -0700

    PPC32: Update the TODC code from 2.4.

commit dda14883d6829c37e215888080935af76673c646
Merge: 0a386c7... 6a59dff...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Mar 1 16:39:19 2004 -0500

    Manually merge upstream into netpoll tree.

commit edecd5418aab0733ab63d74f47fb769ab88270d8
Merge: 206a887... 59736d2...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 1 19:00:11 2004 +0100

    Merge bkbits:input into suse.cz:/home/vojtech/bk/input

commit 206a887fe8d4d42f0665239f9aadc826128670c4
Merge: 0672b0b... 948fe30...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Mar 1 18:52:22 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit d15bf1130dd483fa7eef687dc9fa68774495a433
Author: Kurt Garloff <garloff@suse.de>
Date:   Mon Mar 1 09:45:07 2004 -0600

    [PATCH] SCSI sysfs host name support
    
    OK, let's export the proc_name then. It's some name that can be used
    to identify the driver, works for code both compiled statically or
    as module, is reasonably short and very often resembles the module
    name.
    
    For the module_name, let's wait for a generic sysfs solution.

commit 23024c26325c97bba7b389dd3a5c00c67c68d416
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Mar 1 09:39:10 2004 -0600

    [PATCH] ini9100u build fix
    
    From: Christoph Hellwig <hch@infradead.org>
    
    - Remove dead forward declarations
    
    - Fix compilation of the interrupt handler.

commit f16c968a0c4412657e25affb3c85c2c19a34c605
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 1 13:33:34 2004 +0100

    ALSA - 1.0.3

commit 34e5047cb85414cf4a8fc3187ddd5bd43ce90763
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 1 13:30:53 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PCI drivers
    <akpm@osdl.org>
    fix Kconfig thinko

commit bbcb8c5e1e7db1a6fa8980380b5d9eeb59770f9c
Merge: 0672b0b... cbfd99b...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Mar 1 12:55:53 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit 37ff5b8702394d400a92571e802b77566d3f9c73
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Mon Mar 1 02:34:36 2004 -0700

    PPC32: Kill off arch/ppc/boot/prep and rearrange some files.

commit 35ca8838e4117cba1866f9ceebb14167871d089c
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Feb 29 23:58:31 2004 -0800

    [PATCH] USB Storage: Revision of as202, Genesys quirk patch
    
    In the slave_configure routine it's already too late for the host's
    max_sector value to affect the scsi_device.  It's necessary to set the
    queue value directly.  This revised patch takes care of that.

commit 794e227d10f15de0d0f787a6db0c5df6a4cd28a9
Author: Jrgen Botz <jurgen@botz.org>
Date:   Sun Feb 29 23:04:41 2004 -0800

    [PATCH] USB: visor patch for Samsung SPH-i500
    
    Hi... here is a patch for the vendor/device codes for the
    Samsung SPH-i500 Palm phone.

commit d116adb1dc111c09071df4ca648e9e4255097be9
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Feb 29 22:53:24 2004 -0800

    [PATCH] ia64: simserial module refcounting update

commit 6779df3d28b3c9af1b14a5a3a29c125bed5a27ef
Author: Bjrn Brill <brill@fs.math.uni-frankfurt.de>
Date:   Sun Feb 29 21:55:09 2004 -0800

    [PATCH] USB Storage: unusual_devs.h entry submission
    
    here is an unusual_devs.h entry which makes two different USB MP3 players
    work with Linux' USB storage driver. They share a core chip, the t33520 USB
    flash card controller by Trumpion microelectronics. They also share the same
    ID 0x090a:0x1001, which is a "generic" ID for t33520 devices using bulk-only
    protocol (0x1002 is for CB).
    
    About the MP3 players:
      - I own an apparently unbranded one (sold in masses on ebay.de) which
        needs US_FL_MODE_XLATE (and used to need US_FL_START_STOP before its
        removal).
      - Theodore Kilgore (who created the 0x090a:0x1001 record in the
        Linux-USB device overwiew) has a "Trumpion Digital Research MYMP3"
        which needs US_FL_MODE_XLATE and an explicit US_PR_BULK.
    Of course the different players report the same firmware rev. 1.00,
    despite their obviously different behaviour. Ugh.
    
    There are more players with this ID, the "Kaser Yofun 100 MP-3" (also
    rev. 1.00) being one. The proposed entry may or may not help them, but
    it shouldn't break working ones in any case. It is not unlikely they too
    will need US_FL_MODE_XLATE.
    
    Below you'll find my /proc/bus/usb/devices with mounted MP3 player and a
    patch against 2.4.25-rc3. Please apply.
    
    
    
     ----------------8<-------------------------8<--------------------
    
    T:  Bus=01 Lev=00 Prnt=00 Port=00 Cnt=00 Dev#=  1 Spd=12  MxCh= 2
    B:  Alloc=  0/900 us ( 0%), #Int=  0, #Iso=  0
    D:  Ver= 1.00 Cls=09(hub  ) Sub=00 Prot=00 MxPS= 8 #Cfgs=  1
    P:  Vendor=0000 ProdID=0000 Rev= 0.00
    S:  Product=USB UHCI Root Hub
    S:  SerialNumber=e400
    C:* #Ifs= 1 Cfg#= 1 Atr=40 MxPwr=  0mA
    I:  If#= 0 Alt= 0 #EPs= 1 Cls=09(hub  ) Sub=00 Prot=00 Driver=hub
    E:  Ad=81(I) Atr=03(Int.) MxPS=   8 Ivl=255ms
    T:  Bus=01 Lev=01 Prnt=01 Port=01 Cnt=01 Dev#=  2 Spd=12  MxCh= 0
    D:  Ver= 1.10 Cls=00(>ifc ) Sub=00 Prot=00 MxPS= 8 #Cfgs=  1
    P:  Vendor=090a ProdID=1001 Rev= 1.00
    C:* #Ifs= 1 Cfg#= 1 Atr=80 MxPwr= 60mA
    I:  If#= 0 Alt= 0 #EPs= 3 Cls=08(stor.) Sub=06 Prot=50 Driver=usb-storage
    E:  Ad=81(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=02(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms
    E:  Ad=83(I) Atr=03(Int.) MxPS=   8 Ivl=255ms
    
     ----------------8<-------------------------8<--------------------

commit ebe947c3570a916a91178d62cec8866b1ef84407
Author: Per Winkvist <per.winkvist@uk.com>
Date:   Sun Feb 29 21:41:08 2004 -0800

    [PATCH] USB Storage: unusual devs fix for Pentax cameras.
    
    Please apply the attached patches instead. People have tried it on several
    different Pentax cameras (including 330 GS)

commit 71d3b53362501a14482e1d7f871e99929d21f0c4
Author: Art Haas <ahaas@airmail.net>
Date:   Sun Feb 29 21:30:26 2004 -0800

    [PATCH] USB: C99 initializers for drivers/usb/serial/keyspan.h
    
    Here's a small patch changing the GNU-style initializers to C99
    initializers. The patch is against the current BK.

commit 2809648f570dde65a628b660900eb2894a01525e
Author: David Mosberger <davidm@tiger.hpl.hp.com>
Date:   Sun Feb 29 20:25:31 2004 -0800

    ia64: Move irq_enter()/irq_exit() from hardirq.h to irq_ia64.c.  The work
    	done by these routines is very special and needs to be done
    	at exactly the right time.  Removing it from the header-file
    	reduces the risk of accidental misuse.  Other arch maintainers agree
    	that this is the Right Thing to do.

commit 62bd4756f1fc13e51d8ed32f2505ae07d3c0e6cb
Author: Matthew Wilcox <willy@debian.org>
Date:   Sun Feb 29 20:13:53 2004 -0800

    [PATCH] ia64: Add support for extended PCI config space
    
    Support for extended config space on ia64.
    
     - Add the new parameter 'type' to ia64_sal_pci_config_{read,write}
     - Change callers to match.
     - Don't check `value' for NULL -- drivers/pci/access.c guarantees it isn't.
     - Make pci_sal_ops static.
     - Add pci_sal_ext_ops.
     - Introduce pci_set_sal_ops() as an arch_initcall to ensure the raw_pci_ops
       get set before we walk the ACPI namespace to discover PCI root bridges

commit ae79559456d15e6ca8f5ac8d049884143caa8e4b
Author: Matthew Wilcox <willy@debian.org>
Date:   Sun Feb 29 20:10:36 2004 -0800

    [PATCH] ia64: SAL cleanup
    
    This patch reorganises sal.c and adds a small amount of new functionality.
    
     - Introduce sal_revision to report what revision of the SAL spec is
       supported by the system.
     - Introduce sal_version to report what version of the vendor's SAL
       implementation is present.
     - Introduce SAL_VERSION_CODE to allow for easy comparisons.
     - Print the version at boot, and remove the 'oem=' and 'vendor=' strings.
     - Refactor ia64_sal_init() into several smaller functions.
     - Delete the dead variables 'max' and 'min'.
     - Stop printing the pal_proc and sal_proc entry addresses.
     - Print "None" if there are no SAL platform features.

commit 4d6fe5038190e61cfdc84aa9fcf6b6e944eb9c54
Author: Matthew Wilcox <willy@debian.org>
Date:   Sun Feb 29 20:06:46 2004 -0800

    [PATCH] ia64: add zx1_defconfig
    
    Here's my attempt at a zx1_defconfig.  I haven't checked it on many
    of the zx1 boxes (only zx2000 and rx2600) but I've set some options
    I know are needed on the other boxes.

commit 30678638d86ea855f89fe5c799d146af7a75b64e
Author: Takeru Komoriya <komoriya@paken.org>
Date:   Sun Feb 29 19:27:29 2004 -0800

    [PATCH] I2C: it87 reset option
    
    I wrote a patch which adds reset option to the it87 driver talking
    with Jean Delvare.
    
    * Do not reset the registers unless users want to do because
      resetting registers makes all fans go to full power and we can
      usually rely on values set by BIOS
    * Remove all limit initializations as they should be done from
      user-space
    * Better register mask for start of monitoring

commit 0fec6053c4ba9796073c9927f1ba920ca0eb4e13
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Feb 29 18:38:34 2004 -0800

    [PATCH] USB ati_remote.c: don't be a namespace hog
    
    `debug', indeed.

commit cbfd99b3b9bc2312c6e65955ff37b096d0d42158
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:35:39 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    OPL3,OPL4,Synth
    Fixed sequencer dependency for opl3, opl4 and emux objects.

commit c0772615791174c96f53fcdc046a3614b0c28dbd
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:35:19 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PCI drivers
    Select CONFIG_VIDEO_DEV when CONFIG_SND_FM801_TEA575X is wanted

commit 0472b99c883fc440b01e7cd408968dc46d34f555
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:31:31 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    AK4531 codec
    Aux Input Route -> Aux Capture Route renaming

commit 53eead73efeb7540e2242fb1cae51fe32b5f93fd
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:31:12 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Sound Core PDAudioCF driver
    Fixed pcm->name settings

commit a741f013f3d22d6c695c6c75a64bbbfed7cfb69e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:30:46 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA Core
    Fixed snd_info_set_text_ops() wwhen CONFIG_PROC_FS is not defined

commit 27d54531a53aceb315df074e09f303fd217d3a78
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sun Feb 29 13:30:18 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PPC Tumbler driver
    fixed the resume of bass/treble volumes on snapper.

commit 27cece9db5840ec845b6958293856d4dc6b86016
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Fri Feb 27 18:28:43 2004 -0800

    ia64: minor 2.6 sba_iommu update
    
    This is a minor update to sba_iommu initialization code.  I moved the
    relaxed ordering to the zx1 specific init routine, those registers don't
    do anything on sx1000.  The iommu page size setup is more generalized on
    ACPI ID, so the sx1000 specific init routine goes away.  And the virtual
    dma_mask on zx1 was tweaked a little to better reflect the memory
    address space.

commit 46d520a440d3670a0ae72c4e180d796028c9976b
Author: Torrey Hoffman <thoffman@arnor.net>
Date:   Fri Feb 27 01:36:56 2004 -0800

    [PATCH] USB: update driver for ATI USB/RF remotes

commit 0ff9461051642a95e94f03561ba3d37e5db24290
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 20:53:52 2004 -0800

    [PATCH] USB: fix up the input Makefile after these last few drivers were added.

commit 26a813163e0929592e7c415914bc220b9b1c9154
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 20:53:36 2004 -0800

    [PATCH] USB: fix build for older versions of gcc and the mtouchusb driver.

commit 1d491fecdbc04281ae79b0a47b273c2058f77e6c
Author: Todd E. Johnson <tejohnson@yahoo.com>
Date:   Thu Feb 26 20:53:21 2004 -0800

    [PATCH] USB: add new USB Touchscreen Driver
    
    I have attached a patch which contains a driver and documentation for
    the MicroTouch (14-206) USB Capacitive Touchscreen controller.  It based
    on some older code that I have been using for quite some time now (since
    2.4.17).  This new version has been completely re-written, and now uses
    Linux Input.  Greg, It would be great to possibly get it into 2.6.4.
    Please let me know if I have it all wrong...
    
    Unfortunately, the X11 mouse driver only seems capable of handling
    relative data rather than absolute.  Hopefully some one will create a
    suitable X11 driver capable of accepting absolute data from Linux
    Input.  If anyone is aware of one, please let me know.  Otherwise, I
    will most likely begin some work on a patch for GPM.
    
    Calibration support will be on the way soon, but I'm not sure of the
    best way to implement.  Perhaps some abstract functions could come
    available in evdev which can call vendor specific commands for the
    calibration within this driver (and perhaps others).

commit d1831727c3266429693d9eaff3a2940e6713863d
Author: Trent Whaley <u233@shaw.ca>
Date:   Thu Feb 26 20:53:04 2004 -0800

    [PATCH] USB: kbtab.c (Jamstudio Tablet) with optional pressure
    
    I have altered kbtab.c a bit in anticipation of an XFree86 4.3 driver
    that can accept the pressure data (as a third axis) by listening on the
    event interface.
    
    I have set it so that if the option kb_pressure_click is -1 it  reports
    pressure rather than clicks.

commit ae34567299a2173f8562220f07c504c67c95d46a
Author: Torrey Hoffman <thoffman@arnor.net>
Date:   Thu Feb 26 20:52:43 2004 -0800

    [PATCH] USB: add driver for ATI USB/RF remotes
    
    I've taken the old GATOS version of the ati_remote driver and done
    some cleanup/rework of it while porting to 2.6 kernels.

commit 633788cb714f719d38c301510516f1da8e3e7bfb
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Thu Feb 26 20:42:07 2004 -0800

    USB: delete unneeded scanner documentation.

commit 03e4f4ae4133b7f213830515149ec1713765f91c
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Feb 26 20:12:45 2004 -0800

    [PATCH] USB: EHCI and full-speed ISO-OUT
    
    This is a minor update to the patch I sent out about a week ago.
    The key change is to use the I/O watchdog while doing ISO streaming.
    Bernd Porr reports that a VT8235 system needs that; it seems like
    IDE activity can interfere with the delivery of USB IRQs.
    
    
    EHCI periodic scheduling updates.
    
     - Initial version of full speed ISO transaction support.  This
       should handle OUT transactions, such as those for usb speakers.
       For now, it's controlled using an EXPERIMENTAL config option:
    
       * I've run into interesting differences in how different USB 2.0
         hub silicon (the transaction translators) handle some older
         audio devices.  Needs more investigation.
    
       * Interrupt transfer scheduling doesn't yet cope well with schedules
         where every slot already has activity.  For now, don't plug in
         devices like hubs, mice, or keyboards while EHCI is streaming.
    
     - Protect freelist for highspeed ITDs, using spinlock.  Could be
       an issue for some drivers.
    
     - Kick in the I/O watchdog timer (5 msec) for periodic transfers.
       In this case, IDE activity on a VT8235 lost the IRQs which should
       have kept the ISO stream active.  Queues shorter than 5 msec are
       not going to work on all USB hosts.
    
     - Simplified the ISO scheduler:  doesn't attempt to re-schedule
       after lossage, or to short-circuit scanning.  (Rescheduling will
       probably come back later ... for now, the "hard" error here is
       highlighting problems that need attention.)

commit 01ddaf6230a1ac2b1c50f5ebbce052c043687e01
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Feb 26 20:12:28 2004 -0800

    [PATCH] USB Gadget: gadget config buffer utilities
    
    Adds two new gadget-side utility functions, to support a declarative
    style of managing usb configuration descriptors.  The functions fill
    buffers from null-terminated vectors of usb descriptors, which are
    simple to build or update.
    
    The "ethernet" gadget driver currently has the most interesting config
    descriptors.  This uses those functions to replace some complex code with
    simpler static declarations; result, it's cleaner.  (And it'll be easier
    to add RNDIS configurations later, too.)
    
    Memory savings (or cost, depending on config) was less than 50 bytes;
    nothing worth worrying about.

commit 545464bcbc7a33aa89aa0ebe60bd916a81eb7cf1
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Feb 26 20:12:12 2004 -0800

    [PATCH] USB: usbnet learns about Zaurus C-860
    
    New Zaurus ID, from Sven Trampel <Sven.Trampel@surf-club.de>

commit 810057e0c4ff01a5655f024b0ff1d1e35f2a939e
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Feb 26 20:11:54 2004 -0800

    [PATCH] USB Storage: Remove Minolta Dimage 7i from unusual_devs.h
    
    On Fri, 27 Feb 2004, Lenar Lhmus wrote:
    
    > Hi,
    >
    > Got this:
    >
    > usb 3-1: new full speed USB device using address 3
    > usb-storage: This device (0686,400b,0001 S 06 P 50) has an unneeded SubClass entry in unusual_devs.h
    > Please send a copy of this message to <linux-usb-devel@lists.sourceforge.net>
    
    Well, Martin Pool notwithstanding (see
    
    http://marc.theaimsgroup.com/?l=linux-usb-devel&m=107642806303815&w=2
    
    ), it sure looks like this doesn't need an unusual_devs.h entry.
    
    Greg, please apply this patch.

commit d890d1a6b1cc778e00935266472b13d5c513ad88
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Thu Feb 26 20:11:31 2004 -0800

    [PATCH] USB: Fix for kl5kusb105 driver
    
    I tried using the kl5kusb105 driver for a 3Com PalmConnect USB device I
    had lying around.
    
    It oopses during device detection. There is a nested loop using the same
    loop counter as the outer loop - causing the code after the nested loop
    is first executed to have an invalid counter. The counter is then used
    as an array index, causing a NULL deref.
    
    Fix attached.

commit 67d27ac4cda55c30166160257130c04d2be94c6a
Author: Michal Dobrzynski <michal_dobrzynski@mac.com>
Date:   Thu Feb 26 20:11:07 2004 -0800

    [PATCH] USB: add IRTrans support to ftdi_sio driver

commit eb897188e6dd42a300cfb85489452ed7b5b44b6a
Author: Bernhard C. Schrenk <clemy@clemy.org>
Date:   Thu Feb 26 19:25:01 2004 -0800

    [PATCH] I2C: add w83627hf driver
    
    The following patch against kernel 2.6.3 adds the w83627hf driver,
    I have ported from the 2.4 version.
    
    Jean Delvare has asked me to send this patch to you for applying.
    I have tested it on w83627thf. Mark Hoffman has reviewed the code
    and has also tested it on w83627thf.

commit 39768dfcbc7f6174685925ee2d3004ffb1ef3df4
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:48:33 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    - added the dxs_support default for Uniwill laptop.

commit bf66f9036e1117f7611f2727234e4ef1a6583134
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:41:59 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation
    - fixed the example code of ctl info callback with enum type.

commit 223b78de75087962a121f2e4ea48bfb475789292
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:30:10 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Sound Core PDAudioCF driver
    akpm@osdl.org
    Fix pdaudiocf_irq.c for gcc-3.5

commit 1831f78880c77aa9a65b987fee498f692dc603ed
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:24:20 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    EMU10K1/EMU10K2 driver
    James Courtier-Dutton <James@superbug.demon.co.uk>, some additions

commit 004679fc4d4645605e3f85334c976c1c250585ed
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:19:59 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    - added dxs_support default for EPIA MII.

commit 9560868de2546d2ea3a3d6068d29b81b23312a86
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:16:09 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    PCM Midlevel,Intel8x0 driver
    - added snd_pcm_limit_hw_rates() to determine the min/max rates from
      rates bits.

commit 8b341be470b9f71ed6911373941f54898e16261a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:12:33 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    MIXART driver
    - fixed the race condition in message flow.
    - removed obsolete debug prints.
    - make prepare callback non-atomic.
    - synchronize with the pending messages in prepare and hw_free callbacks.

commit 968910e88f5e3d28aca65acde69a196ecce5bf7f
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:09:19 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    - fixed the handling of S/PDIF rates.
      the IEC958 status bits are updated according to the current rate.

commit 8e4a594e8ec72e79c8b71253928759767ae8e6ba
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:06:35 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation
    - fixed the description for snd-cmipci module option.

commit f12945e33f7b2f854cb0e2305d8f1d30023f7197
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:05:15 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    CMIPCI driver
    - use 0x201 as the default joystick port address.

commit dbe450ae49a231d6d9c83c6da7f0a66d4dc7cca2
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:04:19 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALS4000 driver
    - fixed the build without joystick support.

commit 55004bd376e3e68727b291e972712a7b15f1a766
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Thu Feb 26 14:03:24 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    USB generic driver
    usb_ch9.h is already included in usb.h

commit f93f12ec6e2d7bcdef69c24cb9f0b4763de27fac
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Wed Feb 25 22:19:13 2004 -0800

    [PATCH] USB Storage: remove unneeded debug message
    
    Nothing in life is assured...

commit cf5f741128d4f5cde103b0587dddad86242b2158
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Wed Feb 25 22:18:57 2004 -0800

    [PATCH] USB Storage: tighten sense-clearing code
    
    This patch tightens up the conditions under which an auto-sense will be
    cleared.  It also fixes the comment associated with the code.

commit 258e21c11284456467f92216c87b547759f746da
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Wed Feb 25 22:18:38 2004 -0800

    [PATCH] USB Storage: Remove unneeded macro
    
    This one-liner removes an unneeded macro.

commit cf3b38fd017b5b17f0ac5a672439bbbd292eaa4e
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Wed Feb 25 22:18:20 2004 -0800

    [PATCH] USB Storage: Fix for Fuji Finepix 1400
    
    This patch changes some error checking so that some bogus devices (like the
    Fuji Finepix 1400) will work.
    
    This is basically relaxing a test on a field that the spec says "should
    always be zero"

commit ce6aacf0b54edaef92caa28389d6590eb69bca3b
Author: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
Date:   Wed Feb 25 22:17:58 2004 -0800

    [PATCH] USB Storage: DSC-T1 unusual_devs.h entry
    
    Our friends at sony are at it again.  The DSC-T1 needs a new entry.  Note
    that it's the same VID & PID as the last entry, but different version.

commit 56e695be78f47bf882557d1a6258d5bb27a494c0
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:09:37 2004 -0800

    [PATCH] USB: Use list_splice instead of looping over list elements
    
    This patch is from Stephen Hemminger.  I modified it slightly to place the
    new elements at the end of the complete_list instead of at the front.
    
    On Tue, 24 Feb 2004, Stephen Hemminger wrote:
    
    > Since the remove_list and complete_list now use the same element for
    > linking, it is possible to use the list_splice inline to avoid
    > having to loop over all the urb's

commit c09f3a22e7d3cdc95ba48d424ebfaf3b46ad8548
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:09:18 2004 -0800

    [PATCH] USB: Remove name obfuscation in UHCI
    
    On Mon, 23 Feb 2004, Stephen Hemminger wrote:
    > Bulk and interrupt urb's share common irq processing, why does the
    > code try to obfuscate it?
    
    Quite right; this is needless complexity.  (But note you left in a couple
    of lines that should have been deleted.)

commit a32564f28b99cc75397c3097b9822a029cfd1a70
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:09:03 2004 -0800

    [PATCH] USB: Return better result codes in UHCI
    
    This patch changes the result code returned by the UHCI driver for a
    certain class of errors.  Under a number of circumstances a USB device is
    obliged to send a response packet within a fairly short turn-around time,
    typically 1 - 10 microseconds depending on the bus speed.  Failure to do
    so is a protocol error and should be reported as such, not as a timeout,
    which is really a higher-level concept.  I believe the EHCI driver already
    does this.
    
    I trust nobody will object to the update this patch adds to
    Documentation/usb/error-codes.txt, making this more explicit.
    
    In a vaguely related change, the patch corrects the terminology in a few
    comments.  The parts of a control transfer are called "stages", not
    "phases".

commit ff4e68e96c084bd0d973270d79151c549c0a14d1
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:08:39 2004 -0800

    [PATCH] USB: Enable interrupts in UHCI after PM resume
    
    On Mon, 23 Feb 2004, Chip Salzenberg wrote:
    
    > It works ... perfectly!  I can now suspend and resume my A30 with
    > impunity, and the USB keyboard works fine after each resume.
    >
    > Thanks much, Alan.
    >
    > (Now if I could just get the alsa guys to fix snd-intel8x0...)
    
    This patch re-initializes the UHCI Interrupt Enable register following a
    PM resume.  Apparently some systems clear the register during suspend,
    which causes obvious problems later on.

commit b86a731cbcd3c018770b5e415ff730c426bccb64
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:08:22 2004 -0800

    [PATCH] USB: Fix a bug in the UHCI dequeueing code
    
    On Mon, 23 Feb 2004, Stephen Hemminger wrote:
    
    > Great, the kernel with this patch ran successfully all weekend.  Looks like no
    > more races in the unlink path.
    
    Wonderful.  Thanks a lot for all your SMP testing, it's been a big help.
    
    
    This patch corrects an error in the dequeueing code for UHCI.  Improper
    locking caused it to hang in the oddball case where an URB was unlinked
    even before it had been queued.

commit c03edb1b941823ca76613560f41744964e172513
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:08:02 2004 -0800

    [PATCH] USB Storage: update unusual_devs.h comments
    
    On Tue, 24 Feb 2004, Matthew Dharm wrote:
    
    > We should also put a comment into the unusual_devs.h file to make sure
    > nobody tries to remove the protocol override in the future.
    
    How about this?

commit eab1f00c61dc8f11994a725efd29ec6e0f1452b7
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Feb 25 22:07:42 2004 -0800

    [PATCH] USB Storage: unusual_devs.h update
    
    On Thu, 19 Feb 2004, Evan Felix wrote:
    
    > I plugged a Cyclades AlterPath BIO USb device into my linux 2.6.2 laptop
    > and it asked me to send you this:
    >
    >
    > hub 1-1.2:1.0: new USB device on port 3, assigned address 6
    > hub 1-1.2.3:1.0: USB hub found
    > hub 1-1.2.3:1.0: 4 ports detected
    > hub 1-1.2.3:1.0: new USB device on port 1, assigned address 7
    > hub 1-1.2.3:1.0: new USB device on port 2, assigned address 8
    > Initializing USB Mass Storage driver...
    > usb-storage: This device (05dc,0001,0001 S 06 P 50) has an unneeded
    > SubClass entry in unusual_devs.h
    >    Please send a copy of this message to
    > <linux-usb-devel@lists.sourceforge.net>
    > scsi0 : SCSI emulation for USB Mass Storage devices
    >   Vendor: Lexar     Model: Jumpshot USB CF   Rev: 0001
    >   Type:   Direct-Access                      ANSI SCSI revision: 02
    
    Thank you for sending this.  Greg, here's the patch.

commit 8884e676c389835b5041622767b20cc32cdd5ddd
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Wed Feb 25 23:46:19 2004 -0600

    SCSI: mptfusion update to 3.00.04
    
    From: 	Moore, Eric Dean <Emoore@lsil.com>

commit 6e1a545e0482f5aa2a3616cd39b7dd78486e246a
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Wed Feb 25 03:59:37 2004 -0600

    [PATCH] SCSI: remove some SGI devices from the device list
    
    Some SGI RAID devices identify as being SCSI-3, so they don't need
    to be in the scsi_static_device_list any more.  I've tested to make
    sure that all luns still show up in a sparse, large config.
    
    So I'm proposing removing them.  Thanks to hch for the suggestion.

commit 19dfbb5068d1705c4b4f38bfdd9a6f055546e14b
Author: Brian King <brking@us.ibm.com>
Date:   Wed Feb 25 03:56:57 2004 -0600

    [PATCH] SCSI: Recognize device type 0x0C
    
    Device type 0x0C is RAID, so show it as such

commit bddd764589afcf3cb142e12b080b4992bbec1fb9
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Tue Feb 24 02:45:14 2004 -0700

    PPC32: print useful flags in oops, like x86 / ppc64.

commit 35d5065cb98547c97ad104f2d68d03fc60d45148
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Feb 24 00:27:13 2004 +0100

    Fixed compilation of PDAudioCF driver

commit d3fdec911f18cf376f42766391f61f4c8e2a0989
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Tue Feb 24 00:03:10 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    AK4117 receiver
    Added missing ak4117.h file

commit 3c9255da16a29ffa5bcc3cae528d97d6ebf8707a
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 23:50:48 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Serial BUS drivers
    Moved AK4117 from alsa-driver tree to satisfy dependency for PDAudioCF driver

commit eb6e849397223c469a14beb1c8184806932bf17f
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:56:23 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    EMU10K1/EMU10K2 driver
    Fixed page overflow

commit a38cbf4e4794b30648cb0169c194656dfc95938e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:55:25 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Documentation,ALSA Core,PCMCIA Kconfig,PCMCIA
    Sound Core PDAudioCF driver
    Added Sound Core PDAudioCF driver

commit cb1443975d86692dba93989b78dccab4546afcf3
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:54:21 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    MIXART driver
    Added missing header file inclusion

commit c14c2f7aa2bd4d71a8219e25dbfbc0f86c92ab73
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:53:21 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA sequencer
    Clemens Ladisch <clemens@ladisch.de>
    - fix typo in port flags
    - add GM2 capability bit

commit b9746df7fbe94da161703d13e57ae12c9b617d92
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:52:24 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    USB generic driver
    Clemens Ladisch <clemens@ladisch.de>
    - add device-specific port names
    - begin numbering ports at 1

commit 017da17af51e45f3fe641a0389f2324e2f3b8412
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:51:14 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA sequencer
    Clemens Ladisch <clemens@ladisch.de>
    This patch reverses the order of the 'Rawmidi x' and rawmidi name
    parts of client names to enable selecting clients by a unique prefix
    (as snd_seq_parse_address does).

commit a7c276792bb7b66f76a88cfe34b402a9d5814997
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:49:52 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    MPU401 UART
    Clemens Ladisch <clemens@ladisch.de>
    remove unneeded technical information from port names

commit f6f18b434141e62264219c0d13a806f97937ffdb
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:47:44 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA sequencer
    Clemens Ladisch <clemens@ladisch.de>
    Timestamping (if enabled on a subscription or a port) is not applied
    to the quoted event but to the quoting event.  This patch adds a
    function to copy only selected fields into the event to be delivered.
    
    - fix KERNEL_QUOTE event timestamping
    - fix typo in port_broadcast_event

commit 7551b5ea314d1c637d7566ca586325f7ca7b2b00
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:45:30 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    RME HDSP driver
    Fixed wrong assert, added checks for copy_*_user functions

commit 2372814e2b542b09dd697f79f5a46a991898ba00
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:44:15 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Trident driver
    Fixed s/pdif control initialization

commit b793b71f553092a59fd7c2a424cda54bc854d9da
Merge: 6e9aed3... 700cb4e...
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Feb 23 22:25:25 2004 +0100

    Merge suse.cz:/home/perex/bk/linux-sound/linux-2.5
    into suse.cz:/home/perex/bk/linux-sound/linux-sound

commit 0a386c749d0293d92fd1b61f79c8148b3fed5cb7
Merge: e07f4d3... 7fcc6d0...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Feb 23 15:30:03 2004 -0500

    Merge

commit 48139ae27239b5326e41545e9a345905540584a0
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Feb 23 01:23:15 2004 -0800

    I2C: fix compiler warnings in 2 drivers.

commit dcb326a28d736eb78da70fe3052f9acfba3beb3b
Merge: be75813... 37d8591...
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Mon Feb 23 00:57:18 2004 -0800

    Merge kroah.com:/home/greg/linux/BK/bleed-2.6
    into kroah.com:/home/greg/linux/BK/i2c-2.6

commit 37d8591943a24fdec2ddf0ef9f488237046a9a79
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Mon Feb 23 00:47:10 2004 -0800

    [PATCH] PCI: fix i2c quirk for SiS735 chipset SMBus driver

commit 1f53a25af7e153570caf97285eca8bb0e8ccb53c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:43:25 2004 -0800

    [PATCH] I2C: rename sysfs files, part 2 of 2
    
    Here is the second step of my sysfs renaming plan.
    
    This one does the following renames (as I already announced on the
    LKML):
    temp<n>_hyst  -> temp<n>_max_hyst or temp<n>_crit_hyst
    sensor<n>     -> temp<n>_type
    pwm<n>        -> fan<n>_pwm
    pwm<n>_enable -> fan<n>_pwm_enable
    vid           -> in<n>_ref
    
    The associated libsensors patch is here:
    http://jdelvare.net1.nerim.net/sensors/libsensors-sysfs-names-2.diff
    (not applied yet, on purpose)
    
    
    Note that the w83781d part is a bit more complex, not only because it is
    the only driver to require the 5 changes, but also because at some point
    the macros assume that the internal variable names match the sysfs
    names, so I had to change them too (better than rewriting the macros,
    methinks).
    
    For reference, here is the list of changes, by driver:
    
    asb100:
        hyst -> max_hyst (4)
        pwm -> fan_pwm (1)
        pwm_enable -> fan_pwm_enable (1)
        vid -> in_ref (1)
    fscher:
         pwm -> fan_pwm (3)
    gl518sm:
        hyst -> max_hyst (1)
    it87:
        sensor -> temp_type (3)
    lm75:
        hyst -> max_hyst (1)
    lm78:
        hyst -> max_hyst (1)
        vid -> in_ref (1)
    lm85:
        pwm -> fan_pwm (3)
        pwm_enable -> fan_pwm_enable (3)
        vid -> in_ref (1)
    lm90:
        hyst -> crit_hyst (2)
    via686a:
        hyst -> max_hyst (3)
    w83781d:
        hyst -> max_hyst (2)
        sensor -> temp_type (3)
        pwm -> fan_pwm (4)
        pwm_enable -> fan_pwm_enable (1)
        vid -> in_ref (1)
    
    There's also a documentation update. There will be one more after that
    (to make it more readable, no contents change), and a patch to lm83.c to
    bring it to compliance with the (new) standard. (If you wonder why I did
    not change it with the other drivers: because it was *already* not in
    compliance with the old standard. There's some real work to do for this
    one.)

commit 3a0aa539aae698a29fd637845cf270fe7510677b
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:42:39 2004 -0800

    [PATCH] I2C: rename sysfs files, part 1 of 2
    
    Here it is. The associated libsensors patch is here:
    http://jdelvare.net1.nerim.net/sensors/libsensors-sysfs-names-1.diff
    (not applied yet, on purpose)

commit 0daccaaa4d334de35c5b9a5496416810f986994c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:40:03 2004 -0800

    [PATCH] I2C: update for sysfs-interface documentation

commit 3a93319ac248adabebf4a7759d2fd47cbf6c313c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:33:50 2004 -0800

    [PATCH] I2C: Remove asb100 support from w83781d
    
    Now that we have a separate asb100 driver, we can remove the (bad)
    support of it from the w83781d driver. Following patch does this. I've
    already cleaned this up in our CVS repository.

commit 2264c6ecc44476f299d79415f039794d06389a3b
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:31:52 2004 -0800

    [PATCH] I2C: fix another oops in i2c-core with debug
    
    Some times ago, you fixed an oops in i2c-core when debugging is enabled:
    http://marc.theaimsgroup.com/?l=linux-kernel&m=107585749612115&w=2
    
    Looks like you missed that second one:

commit a78b8ba6ef521f053a676c7520d4e1c80774781d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:29:51 2004 -0800

    [PATCH] I2C: fix it87 sensor type
    
    Here comes a patch by Takeru Komoriya which fixes the way the it87
    driver handles temperature sensor types selection.
    
    * Use the same values as the CVS driver and sensors program.
    * Better comments.
    * Get rid of the old setting method (already gone in CVS).
    * Handle invalid values correctly.

commit 0285be0a8efaea1c76318a3e8aba74b6645362a3
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:28:43 2004 -0800

    [PATCH] I2C: fix Hangs with w83781d
    
    Here is a patch for the w83781d driver that prevents register bits from
    being arbitrary changed when we force temp2/3 to comparator mode. Keith
    Duthie had been reporting various problems with that driver and finally
    found that this arbitrary change was the cause of them. He also tested
    this patch, which he confirmed to work.

commit 60a1cfacdd8cab5dc4dd7900f691584565c27241
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:28:17 2004 -0800

    [PATCH] I2C: Lowercase chips name
    
    This patch brings the name field of adm1021.c, it87.c and via686a.c in
    conformance with the defined standard ("all lowercase, as simple as the
    driver name itself").

commit 194324d4b74bb2277c0b7d6fda7179dfa0b229ac
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:27:33 2004 -0800

    [PATCH] I2C: fix mor rmmod oopses
    
    > Oh nevermind, that's just a dumb driver.  It's doing a release_region
    > on memory it didn't get.  Stupid, stupid, stupid...
    
    While we're at it, what about fixing two other drivers that obviously
    have the same problem?
    
    (BTW I didn't get an oops as I tried reproducing the problem, only a
    "Trying to free nonexistent resource" in dmesg.)

commit 9786b1b5b31a77548f2fbb5f7991abe51d275549
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 23 00:27:03 2004 -0800

    [PATCH] I2C: fix space in message
    
    BTW, I found something to be fixed in i2c-core:

commit 700cb4e579d4a938db43c6e081c037042b136a03
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:56:12 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    AC97 Codec Core
    Fixed swap_headphone() when headpone controls do not exist

commit 94c6375e00dbe42ed8c8be25abcccd7b6da5ab80
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:55:45 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    USB generic driver
    Clemens Ladisch <clemens@ladisch.de>:
    
    - added the quirk for Edirol UA-3FX.

commit 4db21a7e2debd9744ab54e418f82f942956d6c2d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:55:13 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA<-OSS emulation
    Fixed oops regarding last period_frames update

commit 4233d3c7ecca989fbea3c3752cc2d0a21eaff341
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:54:50 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    PCM Midlevel
    Added OSS period frames to proc interface

commit b25f21038a5ac2b3b45247ee214d14a51e23657e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:54:18 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA<-OSS emulation
    Fixed oss.period_frames setup

commit dbecaea64c8ec5181ec33f1601af2ba9f80b35ae
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:53:50 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    ALSA<-OSS emulation
    Added period_frames to fix poll behavior

commit 5287a1ad1aa53bdaa72bd99523f6f63cea4b07f5
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:53:18 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALSA<-OSS sequencer
    - fixed the behavior of SNDCTL_SEQ_IOCTL.
      (don't close the device).

commit dd2cb78eed2bb1be09304c2cb5dd3ea6312f62ee
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:52:51 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    - clean up the irq status bit debugging.
    - added nVidia Ck8S support.

commit d59bad8e4b38cb0183d03f70832ffd364b183d5c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:52:18 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    MIXART driver
    - replaced the debug messages with snd_printdd().

commit c16c0cd1f1dc900009a4be0660f25a8e89962e9b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:51:51 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    - added the dxs default for MSI KT6 Delta-SR.
    - fixed the calculation of rate bits (based on 0x100000).

commit ef43ed3571d0441ed9899317cd5975d37c20adbe
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:51:19 2004 +0100

    ALSA CVS update - Jaroslav Kysela <perex@suse.cz>
    Intel8x0 driver
    Added spinlock to pointer callback - ichdev->position is not changed atomically

commit 75308bb8dd8763af9fdf0319187c0048b57d60d5
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:50:56 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    - fixed the initial value of AD_MISC register for AD1885.

commit 67641a8122373e32dcc55de6e73d19557b8223d0
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:50:23 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ALSA sequencer
    - fixed the race conditions.

commit 04fa6b4f96d82ceafec91941dc7be9542f9a069e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:49:55 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Digigram VX core
    Alain Cretet <cretet@digigram.com>:
    - fixed the 24bit mono recording.

commit 5abc4b25d8ab5336be0b7e50aeb662db548a7cef
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:49:22 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Digigram VX core
    Alain Cretet <cretet@digigram.com>:
    - fixed the missing input VU meter.

commit fc97be40893d8cd365ab9ff2accc716a3c29a625
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:49:00 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    USB generic driver
    Clemens Ladisch <clemens@ladisch.de>:
    Terratec PHASE 26 MIDI support

commit 4410b384316f3c2e69b9ca94471e22148aa4db8b
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:48:30 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    Clemens Ladisch <clemens@ladisch.de>:
    added AD1888 support.

commit f21ae4ea99a862f08c7a94e28edd84a98d163483
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:48:04 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    - fix for AD1885
      - set the default MISC register value.
      - disabled 'digital audio mode', which seems problematic on many boards.

commit 355f854f7bacefcdbe4df9081a01abca3d2ee372
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:47:33 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    VIA82xx driver
    - changed the default DXS of GA-7VAXP to NO_VRA.

commit 387aab9fb11ed8c2409af47a0141ea32cf59209d
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:47:05 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    - return with IRQ_RETVAL() for the unknown IRQ bits (often found on nForce2)
      with debug messages.

commit 12dabd665b1ac24c2ee85d17893ece16988b7c0c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:46:34 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    ICE1712 driver,ICE1724 driver
    - added the support of independent surround PCM for ice1724.

commit b9256b5ec5d007dea3a46c987e2847355d6f3956
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:46:10 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Digigram VX core
    - fixed another wrong lock.

commit d737c7512f44594604e69c40bcffc95802ac2fb8
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:45:35 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Documentation,ALSA Core,PCI drivers,MIXART driver,IGNORE
    - added snd-mixart driver for Digigram miXart boards.

commit 77a83af65ab0c9f6795e740156694e554acb48fc
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:42:50 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Digigram VX core
    - fixed the wrong lock (bug #2052) - use spin_lock_irqsave() now.

commit 6b2d0620a8fe4a49632f6c89f1c6c2946c9660c8
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:42:13 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    USB generic driver
    - assign PCM unique (sub)streams for each USB format type.
      this will avoid the mix up of format I and format III on M-audio transit.

commit 136bba83af398c39300c593677d0e377bd5cce1e
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:41:52 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    - fixed the detection of surround/LFE VRA on ALC650.

commit 898e796bbe46a3a329b16d5e0eae990357416a6c
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:41:18 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    AC97 Codec Core
    - fixed the mic gpio switch handling on the old ALC650.
    - fixed the wrong register initialization on ALC655/658.

commit 8f7efd367b4e757bda0e6552563cbac7a0ed1557
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Sat Feb 21 15:39:15 2004 +0100

    ALSA CVS update - Takashi Iwai <tiwai@suse.de>
    Intel8x0 driver
    - added the ac97 quirk for Intel D845WN (82801BA)

commit 59736d2f55c2375e15e4880d9290c0619f0e09ad
Merge: 70b1932... e515926...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Fri Feb 20 00:24:53 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 7fcc6d07fe8f897afbc4dcf87d7442195826503c
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Feb 18 09:43:56 2004 -0500

    [PATCH] eepro100.c warning fix
    
    drivers/net/eepro100.c:545: warning: `poll_speedo' declared `static' but never defined

commit e755679d94d7470623b88018b51613c2bf064604
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Wed Feb 18 00:12:53 2004 -0700

    PPC32: Make sure the read in in_8, in_{le,be}{16,32} happens before we return.
    A forward port of changes from Paul Mackerras.

commit 4af996e9cf2a8a93b30548a45148dff324665aca
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Wed Feb 18 00:01:39 2004 -0700

    PPC32: Make {in,out}[bwl] be consistent on all platforms.
    This exposes warnings in todc_time.c for everyone, and then
    fixes them.

commit 718ecd00ea832f3576226d616114f07f3fb05c99
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Tue Feb 17 23:44:54 2004 -0700

    PPC32: Fix a thinko in the gen550 code.
    From Randy Vinson <rvinson@mvista.com>.

commit a7abc3ce69a6f82ce0b972dfee498b4f8d5d2e1e
Author: Tom Rini <trini@kernel.crashing.org>
Date:   Tue Feb 17 23:44:02 2004 -0700

    PPC32: More cleanups of the IBM Spruce code.
    From Randy Vinson <rvinson@mvista.com>.

commit 01f9820ec728cb293c388b089dedacc8fde30310
Author: Greg Kroah-Hartman <greg@kroah.com>
Date:   Tue Feb 17 17:39:10 2004 -0800

    I2C: fix oops in i2c-ali1535 driver if no hardware is present.
    
    Thanks to Dave Jones for pointing this out.

commit e5159267479d61c456933c2e266380b605a09b67
Merge: d90349a... 948fe30...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Feb 17 23:05:09 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 238c5a50f91692546e806b0bca3a9789d2acdd07
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Feb 16 23:00:40 2004 -0800

    [PATCH] I2C:  Support for IXP42x GPIO-based I2C
    
    Following is an updated patch to add support for using the GPIO lines
    on an Intel IXP42x SOC for I2C.  Changes since last patch include:
    
    - Cleanups as per Jean Delvare's comments
    
    - Rename functions as 42x instead of 425
    
    - Change the comments at the top of the file to better reflect the
      purpose of this driver.
    
    This code has been tested with the eeprom client driver and worked
    w/o any problems.

commit 1b1bbe1dd96e25b885a7e32e6e9d6141e13f859d
Author: Adrian Bunk <bunk@fs.tum.de>
Date:   Mon Feb 16 22:42:07 2004 -0800

    [PATCH] I2C: update I2C help text
    
    VIDEO_BT848 selects I2C_ALGOBIT.

commit 9cf81a8fea89456febf0e8b8c0c248081e3e874c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 16 22:41:42 2004 -0800

    [PATCH] I2C: New chip driver ported: lm80
    
    Here is a port for the lm80 driver, which supports LM80 chips by
    National Semiconductor. The port is mostly the work of Tiago Sousa,
    which I reviewed and polished as necessary.

commit c219ebf0be5a820757b0ad97c8956810e5cd0a47
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 16 22:41:14 2004 -0800

    [PATCH] I2C: Credit James Bolt in w83l785ts
    
    I forgot to give the credit he deserves to James Bolt for testing the
    latest w83l785ts driver changes. Here is a patch that fixes that.

commit 9461de148b487dd7b76ff2cfb8f497c90bb86821
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Feb 16 22:40:59 2004 -0800

    [PATCH] I2C: Enable debugging in fscher
    
    I just noticed that I forgot to enable debugging in the new fscher
    driver. Sorry for that. Here is a patch that fixes this.

commit 1d82470c74fa4243098214f6b11db3b4d9032d0f
Author: Perry Gilfillan <perrye@linuxmail.org>
Date:   Mon Feb 16 22:03:35 2004 -0800

    [PATCH] I2C:  i2c-voodoo3.c needs I2C_ADAP_CLASS_TV_ANALOG
    
    The Voodoo3 i2c bus has either a bt869 tv-out chip, or also a tv tuner,
    decoder and msp3400.  Without I2C_ADAP_CLASS_TV_ANALOG, the i2c clients
    would have to do a strcmp of the adapter name to distiguish between the
    i2c and ddc adapters.  Yes, they should be able to tell if the chip at a
    given address is what they are looking for, but in the case of the v3tv
    module, which is the v4l device, in the 2.4 kerenl I've got it set to
    create a dummy client, and the strcmp is the only way to distinguish the
    i2c from the ddc.  In the 2.6 kernel, class can be defined, simplifying
    things for the v3tv module.

commit 3be7424afbb5f028c6b9e214f4848435c585e774
Merge: e93aa38... 8b7febe...
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Sun Feb 15 23:27:13 2004 -0600

    Merge http://linux.bkbits.net/linux-2.5
    into blarg.somerset.sps.mot.com:/local0/bk/linux-2.5

commit 948fe30bcd10e4da3d0fc931b3bc881f7df51739
Merge: 91005b3... 0931210...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 17:32:34 2004 +0100

    Merge bkbits:input into suse.cz:/home/vojtech/bk/input

commit 09312106e0ffea4e3b62def362a353461e4a66f1
Merge: dca0c12... 560720f...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 17:17:33 2004 +0100

    Merge bkbits:input into suse.cz:/home/vojtech/bk/input

commit 91005b3572092910e10f1ed8e20e6ec1b05e00f2
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 12:07:39 2004 +0100

    input: Re-add a loop to set the old scancode bit in device key bitmap.

commit dd394d1a89f59dd50158876ebbb28c896adc3691
Merge: a6eebfd... dca0c12...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 11:54:13 2004 +0100

    Manual merge.

commit dca0c12169b479611a4e75fc1d542ad4f70c4f35
Author: Thomas Weich <weicht@in.tum.de>
Date:   Mon Feb 9 04:11:00 2004 +0100

    input: Fix a bug introduced by Andrew Morton's gcc3.2 fixes.

commit 32e66a725028bde9a55cdf12ae6abf5c09bc370e
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 04:10:02 2004 +0100

    input: Fix a warning in i8042.c

commit d540e033f0bbb6fa1d1331bbf2b157d3595ada35
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 03:47:16 2004 +0100

    input: Fix "psmouse: Lost sync" problem. It was really losing sync.

commit afb10171e3129338e23b5de178ae40d10670172d
Merge: 7a650c8... 7a9edc9...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 01:21:45 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 7a9edc93c6cd26bafe6f22a3ca48c8a8de6b22b6
Merge: e50a39c... 31f1ebe...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 9 00:58:22 2004 +0100

    Merge bkbits:input into suse.cz:/home/vojtech/bk/input

commit 150e4b7c5d279b53c6bb20a0d9c904e517c859ca
Merge: f4d8611... 3178424...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Fri Feb 6 13:51:24 2004 -0500

    Hand merge netpoll into latest upstream.

commit 560720fa41e304e6cf758e0f54252ef02e6bfc8a
Merge: 6791a22... 31f1ebe...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Thu Feb 5 12:21:19 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 8b7febe9512065387b2e535da42f6b1eea45d362
Merge: 6791a22... 3bb2aab...
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Wed Feb 4 04:15:38 2004 -0600

    Merge http://linux.bkbits.net/linux-2.5
    into blarg.somerset.sps.mot.com:/local0/bk/linux-2.5

commit 31f1ebe89004cef69024242972da796903db4c96
Merge: d84c369... 862e399...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Feb 3 23:43:10 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit e50a39c824102ed1961083f191144a464396143b
Merge: d84c369... e832882...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Feb 3 23:41:26 2004 +0100

    Merge bkbits:input into suse.cz:/home/vojtech/bk/input

commit e832882de65d3ad101c18021cfbe41698bb00f1b
Merge: 862e399... afa1823...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Tue Feb 3 23:38:35 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit d84c369b15dcc62c92abebe9796a46baf85e1344
Merge: 0a19ea8... b1c76c1...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Feb 2 15:48:03 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 0a19ea8e19241dbd9fffd1f5ae500e8b718d0305
Merge: 27e0f0f... 99f30a2...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Sun Feb 1 13:58:02 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 99f30a27d75b5b3a9a18ce193b792f553ec2eb2d
Author: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
Date:   Tue Jan 27 23:01:27 2004 +0100

    input: Remove the obsolete "busmouse.c" helper driver.

commit 2d7def1c63cb0ea9704d52259463913954cb12f3
Merge: 35c6ce7... e67eee8...
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 23:19:05 2004 +0100

    Merge suse.cz:/home/vojtech/bk/linus into suse.cz:/home/vojtech/bk/input

commit 35c6ce78f7785b2c241e8e09692bc4d3579a718d
Author: Panagiotis Issaris <panagiotis.issaris@mech.kuleuven.ac.be>
Date:   Mon Jan 26 20:35:00 2004 +0100

    input: Credit to Panagiotis Issaris for Graphire 3 support.

commit afa1823e847bedde3e58021f341d9e9477e37785
Author: Helge Deller <deller@gmx.de>
Date:   Mon Jan 26 15:59:12 2004 +0100

    input: Convert HP/PARISC Lasi/Dino PS/2 keyboard/mouse driver
           from an input driver to a serio driver.

commit fa6fa2d0a94a8580781a7811bfe60e2525f21e5a
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:57:19 2004 +0100

    input: Create an extra option for enabling IBM RapidAccess keyboard
           special features (atkbd.extra), instead of abusing the
           atkbd.set option for this.

commit 8ca307c6342e5d37c2336ec7d92759dadb2c49bb
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:56:47 2004 +0100

    input: Add support for scroll wheel on MS Office and similar keyboards.

commit 6967ded81894821c17740c2c9e373d4d2c7872fc
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:29:36 2004 +0100

    input: Bail out in atkbd.c if scancode set is changed, don't
           reinitialize scancode map. This is even more anoying than
           a new keyboard device in the unlikely case of set change.

commit c5b529b3fb94457957ff52230682c047e8d72aa3
Author: Marcel Sebek <sebek64@post.cz>
Date:   Mon Jan 26 15:25:57 2004 +0100

    input: Use request_region() instead of check_region() in ns558.c
           it's both safer and correct.

commit e2bf29eef3cb63722e1c58ca9359b7a85c2e77fc
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:25:24 2004 +0100

    input: Fix sunkbd.c to work with serport. Must sleep.

commit 2516cb51c6c780dcc6a7286ab9e76de33f8a5e05
Author: Jochen Hein <jochen@jochen.org>
Date:   Mon Jan 26 15:23:40 2004 +0100

    usb: Minor documentation fix reflecting new USB module names in acm.txt

commit fb729fcc47a98c72f462647b9e10db015be7b15d
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:18:17 2004 +0100

    input: Add support for another a4tech 2-wheel USB mouse, with
           a Cypress ID this time. Also rearrange the HID blacklist
           a bit - it has grown too long.

commit dddb7e81ca2ad754ab0cbc819ab535489cd3f5e8
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Mon Jan 26 15:17:44 2004 +0100

    input: It looks like the Saitek RumblePad needs a BADPAD entry.

commit eea3860a3795c78ee4e561e4032e36201fb3c0f0
Author: James Lamanna <jamesl@appliedminds.com>
Date:   Mon Jan 26 15:16:54 2004 +0100

    input: Add a new ioctl to hiddev, which allows multiple usages to
           be set in a single request. Also fixes sizes of fields
           in hiddev structs to use _uXX types.

commit c5757b0102be06caaf6493c68a7dbaf16b755822
Author: James Lamanna <jamesl@appliedminds.com>
Date:   Mon Jan 26 15:15:32 2004 +0100

    input: Fix hid-core for devices that have less usages than values
           in a hid report. We could iterate beyond the end of array of
           usages before.

commit 317842495cd8af761b93a87377014f2de695d7ad
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Jan 25 05:41:12 2004 -0500

    [PATCH] netconsole warning fix
    
    drivers/net/netconsole.c:99: warning: initialization from incompatible pointer type

commit 7789692246b631aedeb916ac94f6e77a8e2fc015
Merge: 0010bc5... 94046b0...
Author: Jeff Garzik <jgarzik@redhat.com>
Date:   Mon Jan 19 08:50:27 2004 -0500

    Merge redhat.com:/spare/repo/linux-2.5
    into redhat.com:/spare/repo/netdev-2.6/netpoll

commit 94046b0f46d82d645fabdb7e6b7069575a82552e
Author: Matt Mackall <mpm@selenic.com>
Date:   Wed Jan 14 09:15:27 2004 -0500

    [PATCH] fix for netpoll braindamage for 64-bit
    
    Spotted by Jim Houston on amd64.

commit 9f0ecb2389161f88153cfcfa4781a6515a03aef6
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Jan 12 07:21:23 2004 -0500

    [PATCH] fix netpoll printk bug

commit 86242ec864c3ab5da854c5ab5a456d3444286550
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 10:36:28 2004 -0500

    [PATCH] netpoll carrier handling
    
    On Sat, Jan 10, 2004 at 08:04:10PM -0500, Jeff Garzik wrote:
    >
    > if you are gonna all verbal n such with 'atleast' and 'atmost', then use
    > time_after() rather than !time_before()  ;-)
    
     tiny-mpm/net/core/netpoll.c |   16 ++++++++++++----
     1 files changed, 12 insertions(+), 4 deletions(-)

commit 3603ae74e6257c9c861b3d3ad6b44bb24c2e1e8b
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 10:36:21 2004 -0500

    [PATCH] netconsole init return code
    
     tiny-mpm/drivers/net/netconsole.c |    4 ++--
     1 files changed, 2 insertions(+), 2 deletions(-)

commit 23b311407d229dadfb163674728cad381d6621ed
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 10:36:14 2004 -0500

    [PATCH] netconsole init return code
    
    On Sat, Jan 10, 2004 at 08:07:09PM -0500, Jeff Garzik wrote:
    > Matt Mackall wrote:
    > > tiny-mpm/drivers/net/netconsole.c |    4 ++--
    > > 1 files changed, 2 insertions(+), 2 deletions(-)
    > >
    > >diff -puN drivers/net/netconsole.c~netconsole-error
    > >drivers/net/netconsole.c
    > >17:40:59.000000000 -0600
    > >+++ tiny-mpm/drivers/net/netconsole.c	2004-01-10 17:42:12.000000000 -0600
    > >@@ -105,11 +105,11 @@ static int init_netconsole(void)
    > >
    > > 	if(!configured) {
    > > 		printk("netconsole: not configured, aborting\n");
    > >-		return 1;
    > >+		return -EINVAL;
    > > 	}
    > >
    > > 	if(netpoll_setup(&np))
    > >-		return 1;
    > >+		return -EINVAL;
    >
    >
    > oops.  obviously I read this after I sent a previous email.
    >
    > Can you please resend the "configured" patch, which I already deleted?
    
     tiny-mpm/drivers/net/netconsole.c |   14 ++++++++++----
     1 files changed, 10 insertions(+), 4 deletions(-)

commit b6b687154c22b153557ea729e1f88e0763515c1c
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 10:11:53 2004 -0500

    [netdrvr] add netpoll support to several 8390-based drivers

commit 6bd3ac9dd9abbbb0d4d700ac377e53783c0b7f82
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 10:08:28 2004 -0500

    [PATCH] netpoll abort for bad interface
    
    Fix bug freeing nonexistent dev when aborting on bad interface name.
    
     tiny-mpm/net/core/netpoll.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)

commit d5a91659a94dc4fe0928d5da7e32c939634141f9
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sat Jan 10 06:38:55 2004 -0500

    [netdrvr via-rhine] add netpoll support

commit 4f5644e23393df29fc180639791e794a4cc0be86
Author: Prasanna S. Panchamukhi <prasanna@in.ibm.com>
Date:   Sat Jan 10 05:57:15 2004 -0500

    [netdrvr tlan] netpoll support
    
    Hi Jeff,
    
    Below is the pollcontroller patch for tlan network device driver.
    This patch can be applied over 2.6.0-test9-bk25-netdrvr-exp1.patch

commit 8c3f5711e245a7839a2230af0ee7d39cc86eea6c
Author: Prasanna S. Panchamukhi <prasanna@in.ibm.com>
Date:   Sat Jan 10 05:57:03 2004 -0500

    [netdrvr smc-ultra] netpoll support
    
    Hi Jeff,
    
    Below is the pollcontroller patch for smc ultra net driver.
    This patch can be applied over 2.6.0-test9-bk25-netdrvr-exp1.patch

commit a9785c7d2dda6fc464ca863580f72fb030ce14b5
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 05:37:13 2004 -0500

    [PATCH] netpoll: push zap_completion_queue for lkcd
    
    Move zap_completion_queue call inside netpoll so we don't need to
    export it separately.

commit 6cbd01f1c7798d61f8e0f0e58036dcbd4368c4e8
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 05:37:02 2004 -0500

    [PATCH] netpoll: fix compilation with CONFIG_NETPOLL_RX
    
    Fix compilation without CONFIG_NETPOLL_RX

commit e8bdd5dfefceecf364b90414202670684e8e498f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sat Jan 10 04:49:21 2004 -0500

    [PATCH] 3c59x netpoll typo
    
    Poll code (in net-drivers-2.5-exp) was calling undefined function.

commit e448918c73bb411c4a7118c499cc61b5e3636e66
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:48:22 2004 -0500

    [PATCH] netpoll for eepro100
    
    netpoll for eepro100
    
    This was in Ingo's old original netconsole patches.

commit abce996aa8ba453fc2c9c74a0dfc17932fcb5de3
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:48:13 2004 -0500

    [PATCH] fix tg3 netpoll
    
    No need to use disable_irq because tg3 is properly spinlocked.
    Can just call the interrupt handler directly.

commit ce0684cab2cb551eb5f5183d5315dc89166034f1
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:48:05 2004 -0500

    [PATCH] Netpoll for pcnet32
    
    netpoll for pcnet32

commit 7253704cedbb9d2810ba2ce6142aa85c23b974d8
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:47:56 2004 -0500

    [PATCH] netpoll for amd8111e
    
    netpoll for amd8111e

commit af2398baf944a86a3597419f2376fe853d508672
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:47:48 2004 -0500

    [PATCH] netpoll for tulip
    
    Netpoll for tulip. Uses disable_irq() because tulip is unfortunately
    still lockless.

commit 875ed1a19c7911fee7b27bc4d7e942f9f52a502f
Author: Andi Kleen <ak@muc.de>
Date:   Sat Jan 10 04:47:39 2004 -0500

    [PATCH] netpoll for 3c59x
    
    >From the old -aa tree with minor changes. Orginally done
    by Andrea I think.

commit eff9d8f374b3634f6f14ccc5b8cb616fd446b6d6
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 04:46:33 2004 -0500

    [NET] use the netpoll API to transmit kernel printks over UDP

commit 7e7145f43dff7523e7f630fdd16b18cbd44f8f8a
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 04:46:16 2004 -0500

    [NET] Add netpoll support for tg3

commit 8fb9cf8ab6c0ccb1b17b32c05dc9da3cc96ac229
Author: Matt Mackall <mpm@selenic.com>
Date:   Sat Jan 10 04:45:17 2004 -0500

    [NET] add netpoll API

commit 3bb2aab266a6720d471893ca0a4c9a78648d48ef
Merge: edf1204... aad989e...
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Sun Oct 26 20:27:14 2003 -0600

    Merge http://linux.bkbits.net/linux-2.5
    into blarg.somerset.sps.mot.com:/local0/bk/linux-2.5

commit aad989e1c4eea6557477e64cf8a4fb8fb25ce083
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Sat Sep 27 01:02:23 2003 -0500

    PPC32: Simplified handling of big/little endian pci indirect access

commit c69ceb363761f6fce928d019a6367b3571578de0
Merge: 0048edc... 5fa2dc7...
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Sat Sep 27 00:54:48 2003 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into blarg.somerset.sps.mot.com:/local0/bk/linux-2.5

commit 5fa2dc7e8b13e820c6ebe29fefadc8c22dd5c123
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Thu Sep 25 07:54:32 2003 -0500

    PPC32: Added big-endian cfg_addr access

commit edbfecf905e8d36c7d81f7c9150eca74d1703a44
Merge: f438e60... c8931e4...
Author: Kumar Gala <galak@blarg.somerset.sps.mot.com>
Date:   Thu Sep 25 07:22:15 2003 -0500

    Merge http://linux.bkbits.net/linux-2.5
    into blarg.somerset.sps.mot.com:/local0/bk/linux-2.5
