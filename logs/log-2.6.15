commit 88026842b0a760145aa71d69e74fbc9ec118ca44
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Jan 2 19:21:10 2006 -0800

    Linux v2.6.15
    
    Hey, it's fifteen years today since I bought the machine that got Linux
    started.  January 2nd is a good date.

commit 8f493d797bc1fe470377adc9d8775845427e240e
Author: Andi Kleen <ak@suse.de>
Date:   Tue Jan 3 00:07:28 2006 +0100

    [PATCH] Make sure interleave masks have at least one node set
    
    Otherwise a bad mem policy system call can confuse the interleaving
    code into referencing undefined nodes.
    
    Originally reported by Doug Chapman
    
    I was told it's CVE-2005-3358
    (one has to love these security people - they make everything sound important)
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abe842eb98c45e2b77c5868ef106616ca828a3e4
Author: Dag-Erling Smorgrav <des@linpro.no>
Date:   Mon Jan 2 15:57:06 2006 +0100

    [PATCH] Avoid namespace pollution in <asm/param.h>
    
    In commit 3D59121003721a8fad11ee72e646fd9d3076b5679c, the x86 and x86-64
    <asm/param.h> was changed to include <linux/config.h> for the
    configurable timer frequency.
    
    However, asm/param.h is sometimes used in userland (it is included
    indirectly from <sys/param.h>), so your commit pollutes the userland
    namespace with tons of CONFIG_FOO macros.  This greatly confuses
    software packages (such as BusyBox) which use CONFIG_FOO macros
    themselves to control the inclusion of optional features.
    
    After a short exchange, Christoph approved this patch
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f12f4d90308a22396ac87f6c3a7b2620589614c3
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Jan 2 13:04:44 2006 +1100

    [PATCH] powerpc: more g5 overtemp problem fix
    
    Some G5s still occasionally experience shutdowns due to overtemp
    conditions despite the recent fix. After analyzing logs from such
    machines, it appears that the overtemp code is a bit too quick at
    shutting the machine down when reaching the critical temperature (tmax +
    8) and doesn't leave the fan enough time to actually cool it down. This
    happens if the temperature of a CPU suddenly rises too high in a very
    short period of time, or occasionally on boot (that is the CPUs are
    already overtemp by the time the driver loads).
    
    This patches makes the code a bit more relaxed, leaving a few seconds to
    the fans to do their job before kicking the machine shutown.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 557962a926c62a9c4bd79d6b36df873d4f8c51ef
Author: Stas Sergeev <stsp@aknet.ru>
Date:   Sun Jan 1 04:18:52 2006 +0300

    [PATCH] x86: teach dump_task_regs() about the -8 offset.
    
    This should fix multi-threaded core-files
    
    Signed-off-by: Stas Sergeev <stsp@aknet.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de9e007d9105bf8fa613a89810feff32a43add03
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 31 17:00:29 2005 -0800

    sysctl: make sure to terminate strings with a NUL
    
    This is a slightly more complete fix for the previous minimal sysctl
    string fix.  It always terminates the returned string with a NUL, even
    if the full result wouldn't fit in the user-supplied buffer.
    
    The returned length is the full untruncated length, so that you can
    tell when truncation has occurred.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35f349ee082de0be45eb23926d9fc7569f5011f0
Merge: 82c9df8... f02aa3f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 31 13:49:26 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 82c9df820112c6286a8e8fbe482e94b65b49062c
Author: Yi Yang <yang.y.yi@gmail.com>
Date:   Fri Dec 30 16:37:10 2005 +0800

    [PATCH] Fix false old value return of sysctl
    
    For the sysctl syscall, if the user wants to get the old value of a
    sysctl entry and set a new value for it in the same syscall, the old
    value is always overwritten by the new value if the sysctl entry is of
    string type and if the user sets its strategy to sysctl_string.  This
    issue lies in the strategy being run twice if the strategy is set to
    sysctl_string, the general strategy sysctl_string always returns 0 if
    success.
    
    Such strategy routines as sysctl_jiffies and sysctl_jiffies_ms return 1
    because they do read and write for the sysctl entry.
    
    The strategy routine sysctl_string return 0 although it actually read
    and write the sysctl entry.
    
    According to my analysis, if a strategy routine do read and write, it
    should return 1, if it just does some necessary check but not read and
    write, it should return 0, for example sysctl_intvec.
    
    Signed-off-by: Yi Yang <yang.y.yi@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8febdd85adaa41fa1fc1cb31286210fc2cd3ed0c
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 30 17:18:53 2005 -0800

    sysctl: don't overflow the user-supplied buffer with '\0'
    
    If the string was too long to fit in the user-supplied buffer,
    the sysctl layer would zero-terminate it by writing past the
    end of the buffer. Don't do that.
    
    Noticed by Yi Yang <yang.y.yi@gmail.com>
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b90db0df7187a01fb7177f1f812123138f562cf
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 30 08:39:10 2005 -0800

    Insanity avoidance in /proc
    
    The old /proc interfaces were never updated to use loff_t, and are just
    generally broken.  Now, we should be using the seq_file interface for
    all of the proc files, but converting the legacy functions is more work
    than most people care for and has little upside..
    
    But at least we can make the non-LFS rules explicit, rather than just
    insanely wrapping the offset or something.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40c37213a081990b1d3778f57630f97df75a7ec1
Author: Denny Priebe <spamtrap@siglost.org>
Date:   Thu Dec 29 22:19:09 2005 -0500

    [PATCH] Input: wacom - fix X axis setup
    
    This patch fixes a typo introduced by conversion to dynamic input_dev
    allocation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae5536d6f7f9b51f7a0451421eade1988cfd7126
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Dec 29 22:19:08 2005 -0500

    [PATCH] Input: warrior - fix HAT0Y axis setup
    
    This patch fixes a typo introduced by conversion to dynamic input_dev
    allocation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1994754412536d4ab902a81530b49bcaf496a59c
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Dec 29 22:19:07 2005 -0500

    [PATCH] Input: kbtab - fix Y axis setup
    
    This patch fixes a typo introduced by conversion to dynamic input_dev
    allocation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f02aa3f9a3dea4375759ae1d87bebf2467719b72
Author: Erik Hovland <erik@hovland.org>
Date:   Fri Dec 30 15:57:35 2005 +0000

    [ARM] 3216/1: indent and typo in drivers/serial/pxa.c
    
    Patch from Erik Hovland
    
    This patch provides two changes. An indent is supplied for an if/else clause so that it is more readable. An acronym is incorrectly typed as UER when it should be IER.
    
    Signed-off-by: Erik Hovland <erik@hovland.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9e625ff8a37aefcc177b19614ffcffb5bc6eeea1
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Dec 29 22:07:30 2005 +0100

    [PATCH] Simplify the VIDEO_SAA7134_OSS Kconfig dependency line
    
    Thanks to Roman Zippel for the suggestion.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    [ Short explanation: Kconfig uses ternary math: n/m/y, and !m is m ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 392c14beaca2ee85a98d0c6b453501be67423a20
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 29 13:01:54 2005 -0800

    Revert radeon AGP aperture offset changes
    
    This reverts the series of commits
    
    	67dbb4ea33731415fe09c62149a34f472719ac1d
    	281ab031a8c9e5b593142eb4ec59a87faae8676a
    	47807ce381acc34a7ffee2b42e35e96c0f322e52
    
    that changed the GART VM start offset.  It fixed some machines, but
    seems to continually interact badly with some X versions.
    
    Quoth Ben Herrenschmidt:
    
      "So I think at this point, the best is that we keep the old bogus code
       that at least is consistent with the bug in the server. I'm working on a
       big patch to X that reworks the memory map stuff completely and fixes
       those issues on the server side, I'll do a DRM patch matching this X fix
       as well so that the memory map is only ever set in one place and with
       what I hope is a correct algorithm..."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc781aa93e6dfa85aa251c8898f831031db55c49
Merge: 77f234f... d2b1839...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 29 10:27:28 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 77f234f9d995c9b576b311a56f66db6837e598df
Merge: 80c7257... a710ce0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 29 10:27:07 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 80c72579f74fcfcd63e27c5e317091cb35bb1f12
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Dec 28 21:02:57 2005 +0100

    [PATCH] Fix recursive config dependency for SAA7134
    
    Fix the cyclic dependency issue between CONFIG_SAA7134_ALSA and
    CONFIG_SAA7134_OSS (credits to Mauro Carvalho Chehab.)
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e597cb32e95a6c38e9ead981b169ef2974ccfec0
Author: Anton Blanchard <anton@samba.org>
Date:   Thu Dec 29 10:46:29 2005 +1100

    [PATCH] ppc64: htab_initialize_secondary cannot be marked __init
    
    Sonny has noticed hotplug CPU on ppc64 is broken in 2.6.15-*. One of the
    problems is that htab_initialize_secondary is called when a cpu is being
    brought up, but it is marked __init.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Acked-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 576fc0978b6b3673fce6d4b405f36449e508826c
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Thu Dec 29 13:06:11 2005 +0100

    [PATCH] x86_64: Fix incorrect node_present_pages on NUMA
    
    Currently, we do not pass the correct start_pfn to e820_hole_size, to
    calculate holes.  Following patch fixes that.
    
    The bug results in incorrect number of node_present_pages for each pgdat
    and causes ugly output in /sys and probably VM inbalances.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Sighed-off-by: Shair Fultheim <shai@scalex86.org>
    Sighed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f873e3e88d52774633968826c5b7fa7bf9697999
Author: Riccardo Magliocchetti <riccardo@datahost.it>
Date:   Wed Dec 28 20:44:48 2005 -0500

    [PATCH] Input: aiptek - fix Y axis setup
    
    This patch fixes a typo introduced by conversion to dynamic input_dev
    allocation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee025949586f80effa634ff273c2444795472780
Author: Dave Jones <davej@redhat.com>
Date:   Wed Dec 28 20:01:04 2005 -0500

    [PATCH] fix ia64 compile failure with gcc4.1
    
    __get_unaligned creates a typeof the var its passed, and writes to it,
    which on gcc4.1, spits out the following error:
    
    drivers/char/vc_screen.c: In function 'vcs_write':
    drivers/char/vc_screen.c:422: error: assignment of read-only variable 'val'
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    [ The "right" fix would be to try to fix <asm-generic/unaligned.h>
      but that's hard to do with the tools gcc gives us. So this
      simpler patch is preferable -- Linus ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63b44442416a243f05881b0dd094b621a46ab4b3
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Thu Dec 29 17:40:02 2005 +0100

    [PATCH] uml: fix compilation with CONFIG_MODE_TT disabled
    
    Fix UML compilation when SKAS mode is disabled. Indeed, we were compiling
    SKAS-only object files, which failed due to some SKAS-only headers being
    excluded from the search path.
    
    Thanks to the bug report from Pekka J Enberg.
    
    Acked-by: Pekka J Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74433c0fe105f47e78c1f2267312693870c9ebc3
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Thu Dec 29 17:39:59 2005 +0100

    [PATCH] Hostfs: update for new glibc - add missing symbol exports
    
    Today, when compiling UML, I got warnings for two used unexported symbols:
    readdir64 and truncate64. Indeed, my glibc headers are aliasing readdir to
    readdir64 and truncate to truncate64 (and so on).
    
    I'm then adding additional exports. Since I've no idea if the symbols where
    always provided in the supported glibc's, I've added weak definitions too.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30f04a4efa73dc80bf3f59f3f19ad5a24ac5ac0a
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Thu Dec 29 17:39:57 2005 +0100

    [PATCH] uml: hostfs - fix possible PAGE_CACHE_SHIFT overflows
    
    Prevent page->index << PAGE_CACHE_SHIFT from overflowing.
    
    There is a casting there, but was added without care, so it's at the wrong
    place. Note the extra parens around the shift - "+" is higher precedence than
    "<<", leading to a GCC warning which saved all us.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3d0a07e3310c947c048bd01d8d0efa0e4fae5ba9
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Thu Dec 29 17:39:54 2005 +0100

    [PATCH] Hostfs: remove unused var
    
    Trivial removal of unused variable from this file - doesn't even change the
    generated assembly code, in fact (gcc should trigger a warning for unused value
    here).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 516949480d3700cbde4272228a102c84721d6007
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Thu Dec 29 17:39:51 2005 +0100

    [PATCH] uml: fix random segfaults at bootup
    
    Don't use printk() where "current_thread_info()" is crap.
    
    Until when we switch to running on init_stack, current_thread_info() evaluates
    to crap. Printk uses "current" at times (in detail, &current is evaluated with
    CONFIG_DEBUG_SPINLOCK to check the spinlock owner task).
    
    And this leads to random segmentation faults.
    
    Exactly, what happens is that &current = *(current_thread_info()), i.e. round
    down $esp and dereference the value. I.e. access the stack below $esp, which
    causes SIGSEGV on a VM_GROWSDOWN vma (see arch/i386/mm/fault.c).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3603bc8dc5ab33941e6378fe52ea03b7f5561109
Merge: 68ca243... a8b554e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 28 13:45:19 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/tg3-2.6

commit 68ca243dd1dc90bd42bae3945e804c1042584920
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Dec 28 13:27:04 2005 -0800

    [SERMOUSE]: Sun mice speak 5-byte protocol too.
    
    Noticed by Christophe Zimmerman, this explains the slow mouse movement
    with 2.6.x kernels.
    
    And checking the 2.4.x drivers/sbus/char/sunmouse.c driver shows we
    always used a 5-byte protocol with Sun mice in the past.  I have no
    idea how the 3-byte thing got into the 2.6.x driver, but it's surely
    wrong.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5784b57d2e08a632b971baae23266121004ef3b
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Dec 28 13:22:54 2005 -0800

    [SPARC]: Use STABS_DEBUG and DWARF_DEBUG macros in vmlinux.lds.S
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a8b554e75b0c14d5e12a11eaea604e536f49da29
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Dec 28 13:05:41 2005 -0800

    [TG3]: Update driver version and reldate.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 091465d7514893a55dcf63e420698b21159c39a7
Author: Chris Elmquist <chrise@sgi.com>
Date:   Tue Dec 20 13:25:19 2005 -0800

    [TG3]: ethtool -d hangs PCIe systems
    
    Resubmitting after recommendation to use GET_REG32_1() instead of
    GET_REG32_LOOP(..., 1).  Retested.  Problem remains fixed.
    
    Prevent tg3_get_regs() from reading reserved and undocumented registers
    at RX_CPU_BASE and TX_CPU_BASE offsets which caused hostile behavior
    on PCIe platforms.
    
    Acked-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 67dbb4ea33731415fe09c62149a34f472719ac1d
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Dec 27 12:49:33 2005 +1100

    [PATCH] Fix more radeon GART start calculation cases
    
    As reported by Jules Villard <jvillard@ens-lyon.fr> and some others, the
    recent GART aperture start reconfiguration causes problems on some
    setups.
    
    What I _think_ might be happening is that the X server is also trying to
    muck around with the card memory map and is forcing it back into a wrong
    setting that also happens to no longer match what the DRM wants to do
    and blows up.  There are bugs all over the place in that code (and still
    some bugs in the DRM as well anyway).
    
    This patch attempts to avoid that by using the largest of the 2 values,
    which I think will cause it to behave as it used to for you and will
    still fix the problem with machines that have an aperture size smaller
    than the video memory.
    
    Acked-by: Jules Villard <jvillard@ens-lyon.fr>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ab4a6c81eb3dbe32361791d1535f9153f79b0ed
Author: David L Stevens <dlstevens@us.ibm.com>
Date:   Tue Dec 27 14:03:00 2005 -0800

    [IPV6] mcast: Fix multiple issues in MLDv2 reports.
    
    The below "jumbo" patch fixes the following problems in MLDv2.
    
    1) Add necessary "ntohs" to recent "pskb_may_pull" check [breaks
            all nonzero source queries on little-endian (!)]
    
    2) Add locking to source filter list [resend of prior patch]
    
    3) fix "mld_marksources()" to
            a) send nothing when all queried sources are excluded
            b) send full exclude report when source queried sources are
                    not excluded
            c) don't schedule a timer when there's nothing to report
    
    NOTE: RFC 3810 specifies the source list should be saved and each
      source reported individually as an IS_IN. This is an obvious DOS
      path, requiring the host to store and then multicast as many sources
      as are queried (e.g., millions...). This alternative sends a full,
      relevant report that's limited to number of sources present on the
      machine.
    
    4) fix "add_grec()" to send empty-source records when it should
            The original check doesn't account for a non-empty source
            list with all sources inactive; the new code keeps that
            short-circuit case, and also generates the group header
            with an empty list if needed.
    
    5) fix mca_crcount decrement to be after add_grec(), which needs
            its original value
    
    These issues (other than item #1 ;-) ) were all found by Yan Zheng,
    much thanks!
    
    Signed-off-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1b93ae64cabe5e28dd5a1f35f96f938ca4f6ae20
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Dec 27 13:57:59 2005 -0800

    [NET]: Validate socket filters against BPF_MAXINSNS in one spot.
    
    Currently the checks are scattered all over and this leads
    to inconsistencies and even cases where the check is not made.
    
    Based upon a patch from Kris Katterjohn.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6732badee0dad467fcc9dd0168af8677b2b1bc2f
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Tue Dec 27 13:35:15 2005 -0800

    [IPV6]: Fix addrconf dead lock.
    
    We need to release idev->lcok before we call addrconf_dad_stop().
    It calls ipv6_addr_del(), which will hold idev->lock.
    
    Bug spotted by Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a710ce08585e920740ffc84c7f3c82f4081169cf
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Dec 27 11:10:34 2005 +0000

    [SERIAL] Fix AMBA PL011 sysrq character handling
    
    We only want the received character without the status bits for
    sysrq handling.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 79cac2a221ce18642550a13bed0f0203514923ea
Author: David Kimdon <david.kimdon@devicescape.com>
Date:   Mon Dec 26 17:27:10 2005 -0800

    [BR_NETFILTER]: Fix leak if skb traverses > 1 bridge
    
    Call nf_bridge_put() before allocating a new nf_bridge structure and
    potentially overwriting the pointer to a previously allocated one.
    This fixes a memory leak which can occur when the bridge topology
    allows for an skb to traverse more than one bridge.
    
    Signed-off-by: David Kimdon <david.kimdon@devicescape.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6f4353d891b5e477528cd0b996e0263fecdf5d5f
Author: David L Stevens <dlstevens@us.ibm.com>
Date:   Mon Dec 26 17:03:46 2005 -0800

    [IPV6]: Increase default MLD_MAX_MSF to 64.
    
    The existing default of 10 is just way too low.
    
    Signed-off-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 04333393b930370db0cc29fdf0dbbd08ecd43337
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Mon Dec 26 09:58:49 2005 -0600

    [PATCH] Fix Fibre Channel boot oops
    
    The oops is characteristic of the underlying device being removed from
    visibility before the class device, and sure enough we do device_del()
    before transport_unregister() in the scsi_target_reap() routines.  I've
    no idea why this is suddenly showing up, since the code has been in
    there since that function was first invented.  However, I've confirmed
    this fixes Andrew Vasquez's boot oops.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f89f5948fc10bb973cd452d2e334da207828e228
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 15:47:48 2005 -0800

    Linux v2.6.15-rc7
    
    Ho ho ho.

commit 01e33b5a2a153eec74dd87522e264948030b88c1
Author: Kurt Huwig <k.huwig@iku-ag.de>
Date:   Sun Dec 25 00:13:08 2005 +0100

    [PATCH] n_r3964: fixed usage of HZ; removed bad include
    
    Fix n_r3964 timeouts (hardcoded for 100Hz)
    
    Also the include of <asm/termios.h> in 'n_r3964.h' is unnecessary and
    prevents using the header file in any application that has to include
    <termios.h> due to duplicate definition of 'struct termio'.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cdcdb28623fb74d9564b102cd1cbe3854071e855
Merge: 10bb10d... fd71da4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 12:40:43 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 10bb10dcb685cbe078e611f2dca3bd3e42fba0a8
Merge: 3bf3959... e445ee6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 12:32:55 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 3bf395994da5c238c37e281b50a5dd5f2532dc0c
Merge: e5c34a5... 291d809...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 12:30:42 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit e5c34a57c8b3a94b8d2b329936f8b1cbcc765307
Author: Ben Collins <ben.collins@ubuntu.com>
Date:   Fri Dec 23 09:10:03 2005 -0500

    [PATCH] Fix typo in x86_64 __build_write_lock_const assembly
    
    Based on __build_read_lock_const, this looked like a bug.
    
    [ Indeed. Maybe nobody uses this version? Worth fixing up anyway ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c660439ba90aaaa056f68a5b0fc79f6b9e0506f5
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Thu Dec 22 14:21:34 2005 -0800

    [PATCH] x86_64/ia64 : Fix compilation error for node_to_first_cpu
    
    Fixes a compiler error in node_to_first_cpu, __ffs expects unsigned long as
    a parameter; instead cpumask_t was being passed.  The macro
    node_to_first_cpu was not yet used in x86_64 and ia64 arches, and so we never
    hit this.  This patch replaces __ffs with first_cpu macro, similar to other
    arches.
    
    Signed-off-by: Alok N Kataria <alokk@calsoftinc.com>
    Signed-off-by: Ravikiran G Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1224b375ed7982128602a3fa1da53eeeac1750b4
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 12:19:38 2005 -0800

    Fix silly typo ("smb" vs "smp")
    
    Introduced by commit 6003a93e7bf6c02f33c02976ff364785d4273295

commit 8e31108b9f41069d55cb9b019ac8262c55fd2616
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Dec 23 19:54:46 2005 -0800

    [PATCH] Fix memory ordering problem in wake_futex()
    
    Fix a memory ordering problem that occurs on IA64. The "store" to q->lock_ptr
    in wake_futex() can become visible before wake_up_all() clears the lock in the
    futex_q.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6003a93e7bf6c02f33c02976ff364785d4273295
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Fri Dec 23 23:57:41 2005 +0100

    [PATCH] add missing memory barriers to ipc/sem.c
    
    Two smp_wmb() statements are missing in the sysv sem code: This could
    cause stack corruptions.
    
    The attached patch adds them.
    
    Signed-Off-By: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e445ee65cbefaa19131c972ae7fe221c95cf4cc4
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sat Dec 24 12:06:10 2005 -0800

    [VIDEO] sbuslib: Disallow private mmaps.
    
    The COW semantics just do not make any sense especially
    with the physically discontiguous I/O mappings possible
    here.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a7c2491a13cc72fc09c062e635b9a77ff6bb4a73
Merge: 1836098... 3df3cc6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 24 11:55:16 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 1836098f97d22c81652aeeec64d1819dc2177bdb
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Sat Dec 24 14:19:24 2005 +0100

    [PATCH] forcedeth: fix random memory scribbling bug
    
    Two critical bugs were found in forcedeth 0.47:
     - TSO doesn't work.
     - pci_map_single() for the rx buffers is called with size==0.  This bug
       is critical, it causes random memory corruptions on systems with an
       iommu.
    
    Below is a minimal fix for both bugs, for 2.6.15.
    
    TSO will be fixed properly in the next version.  Tested on x86-64.
    
    Signed-Off-By: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3df3cc6d18b6dcd38c33c198fb8adf1f1fa5f4a7
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Tue Dec 13 08:23:26 2005 +0100

    [PATCH] s390: remove redundant and useless code in qeth
    
    [patch 3/3] s390: remove redundant and useless code in qeth
    
    From: Frank Pavlic <pavlic@de.ibm.com>
    	- remove redundant and useless code in qeth for
    	  procfs operations.
    	- update Revision numbers
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    
    diffstat:
     qeth_main.c |    6 -
     qeth_mpc.c  |    2
     qeth_mpc.h  |    2
     qeth_proc.c |  250 ++++++------------------------------------------------------
     qeth_sys.c  |    4
     qeth_tso.h  |    4
     6 files changed, 38 insertions(+), 230 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4965e97fd36041d19483843c66286b9800a57c15
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Tue Dec 13 08:22:30 2005 +0100

    [PATCH] s390: minor qeth network driver fixes
    
    [patch 2/3] s390: minor qeth network driver fixes
    
    From: Frank Pavlic <pavlic@de.ibm.com>
    	- use netif_carrier_on/off calls to tell network stack
    	  link carrier state
    	- fix possible kfree on NULL
    	- PDU_LEN2 is at offset 0x29 otherwise OSN chpid won't initialize
    
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    
    diffstat:
     qeth_eddp.c |    3 ++-
     qeth_main.c |   17 +++++++----------
     qeth_mpc.h  |    2 +-
     3 files changed, 10 insertions(+), 12 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6c6b3e7c4f93d330b920e6531b579b1f6bae5ac1
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Tue Dec 13 08:21:47 2005 +0100

    [PATCH] s390: some minor qeth driver fixes
    
    [patch 1/3] s390: some minor qeth driver fixes
    
    From: Frank Pavlic <pavlic@de.ibm.com>
    	- let's have just one function for both ,input and output queue
    	  to check qdio errors
    	- add /proc/s390dbf/qeth_qerr entries for outbound processing
    	- check removed for layer2 device in qeth_add_multicast_ipv6
    	- NULL pointer dereference with bonding and VLAN device fixed
    	- minimum length check for portname fixed
    
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    
    diffstat:
    qeth_main.c |   42 +++++++++++++++++++++---------------------
    qeth_sys.c  |    6 +++---
    2 files changed, 24 insertions(+), 24 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit afcceaa3c7b7fbf7e2b95c5f0dd43547b03292d2
Author: Olaf Hering <olh@suse.de>
Date:   Wed Dec 14 00:33:49 2005 +0100

    [PATCH] missing license for libphy.ko
    
    Andy,
    
    libphy has no license tag. Something like the attached (untested!) patch
    is needed. Hopefully such a change finds its way into 2.6.15.
    
    filename: /lib/modules/2.6.15-rc5-3-ppc64/kernel/drivers/net/phy/libphy.ko
    vermagic:       2.6.15-rc5-3-ppc64 SMP gcc-4.1
    depends:
    srcversion:     ACC921B5E82701BE1E6F603
    
     drivers/net/phy/phy_device.c |    4 ++++
     1 files changed, 4 insertions(+)
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d495657200bd3ce10f9cb52401056804bf365811
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Dec 16 18:57:10 2005 -0500

    [PATCH] orinoco_nortel: Add Symbol LA-4123 ID
    
    Add ID for Symbol LA-4123.  Reported by Tomas Novak <tap@post.cz>
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c8cb00f6ac9aa13b0575726163b165fd2276ff25
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Dec 16 18:49:53 2005 -0500

    [PATCH] orinoco_nortel: Fix incorrect PCI resource use
    
    orinoco_nortel was broken during conversion to iomem API.  Wrong PCI BAR
    is used for chipset registers.  Reported by Tomas Novak <tap@post.cz>
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fd71da468dd8897fe3f565dfd3743a87d8678e3a
Author: Tony Battersby <tonyb@cybernetics.com>
Date:   Wed Dec 21 16:35:44 2005 -0500

    [PATCH] fix libata inquiry VPD for ATAPI devices
    
    The following patch prevents libata from incorrectly modifying inquiry
    VPD pages and command support data from ATAPI devices.  I have tested
    the patch with a SATA ATAPI tape drive on an AHCI controller.
    
    Patch is against kernel 2.4.32 with 2.4.32-libata1.patch applied.
    
    Anthony J. Battersby
    Cybernetics
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 291d809ba5c8d4d6d8812e3f185bdf57d539f594
Author: Hiroyuki YAMAMORI <h-yamamo@db3.so-net.ne.jp>
Date:   Fri Dec 23 11:24:05 2005 -0800

    [IPV6]: Fix Temporary Address Generation
    
    From: Hiroyuki YAMAMORI <h-yamamo@db3.so-net.ne.jp>
    
    Since regen_count is stored in the public address, we need to reset it
    when we start renewing temporary address.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3dd3bf83574e38578fc9741c0e23e4fa7f7ff96e
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Fri Dec 23 11:23:21 2005 -0800

    [IPV6]: Fix dead lock.
    
    We need to relesae ifp->lock before we call addrconf_dad_stop(),
    which will hold ifp->lock.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8f43d8e1147406901b7d972d1b528d94def23b0e
Merge: 7b3dad3... 597d1f0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 23 10:11:50 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 597d1f0622d21ffe54aceef8da9682e776f51cc2
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Dec 22 23:04:39 2005 -0800

    [SPARC]: Kill CHILD_MAX.
    
    It's definition is wrong (-1 means "no limit" not 999),
    only the Sparc SunOS/Solaris compat code uses it, so
    let's just kill it off completely from limits.h and
    all referencing code.
    
    Noticed by Ulrich Drepper.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0b57ee9e55373a27e45549e82b0c43621480a71b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 22 21:03:47 2005 -0800

    [SPARC]: introduce a SPARC Kconfig symbol
    
    Introduce a Kconfig symbol SPARC that is defined on both the sparc and
    sparc64 architectures.
    
    This symbol makes some dependencies more readable.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 14904398e5b573d13f8c8dbd43a452ff34c0efc2
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Dec 21 18:50:12 2005 -0800

    [SUNGEM]: Fix link error with CONFIG_HOTPLUG disabled.
    
    gem_remove_one() is called from the __devinit gem_init_one().
    
    Therefore, gem_remove_one() mustn't be __devexit.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7b3dad3d854654e470a598d361919ebdb858f37b
Merge: 3c058d8... 75b245b...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 22 22:26:10 2005 -0500

    Pull bug3410 into release branch

commit 3c058d8b179ea3ee3061b71115bcac38d243d436
Merge: db9ace7... 9d6be4b...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 22 22:26:01 2005 -0500

    Pull owner_id into release branch

commit 9d6be4bed65a3bd36ab2de12923bff4f4530bd86
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 22 22:23:06 2005 -0500

    [ACPI] fix build warning from owner_id patch
    
    Signed-off-by: Len Brown <len.brown@intel.com>

commit db9ace7083dbdcc3d02bdd6a1d26132c80b5b726
Merge: d8bcd8e... c162eea...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 22 22:01:55 2005 -0500

    Auto-update from upstream

commit 75b245b3259133360845bc6de3aecb8a6bd6ab59
Author: Thomas Renninger <trenn@suse.de>
Date:   Wed Dec 21 01:29:00 2005 -0500

    [ACPI] fix passive cooling regression
    
    Return logic was inverted.
    Going for changing the return value to not return zero as it is makes
    more sense regarding the naming of the function (cpu_has_cpufreq()).
    
    http://bugzilla.kernel.org/show_bug.cgi?id=3410
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit d2b18394259ef621fd2a6322aa9934198fd87a6a
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Dec 22 23:21:38 2005 +0000

    [MMC] Set correct capacity for 1024-byte block cards
    
    We were passing set_capacity() the capacity we calculated in terms of
    the number of blocks on the card, which happened to be the right units
    for 512-byte block cards.  However, with 1024-byte block cards, we
    end up setting the capacity to half the number of blocks.  Fix this
    by shifting by the appropriate amount.
    
    Thanks to Todd Blumer for pointing this out.
    
    Use get_capacity() to report the card capacity, rather than
    recalculating it from the CSD information.
    
    Finally, use our chosen IO block size for the SET_BLOCKLEN command
    rather than the CSD read block size.  Currently these are equivalent,
    but will not be in the future.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c162eeaa21fde6c27112690f5bc0a461a9f1763e
Merge: b31c78e... e646929...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 22 09:41:03 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit b31c78e2d6b45a51413c7ec08d703e43f5fb16b3
Merge: fbbde0c... 8b1af56...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 22 09:34:05 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit fbbde0c30943306ddb77d969df6be68ebc6dc265
Merge: 0800c5f... 515432a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 22 09:33:04 2005 -0800

    Merge branch 'to_linus' of master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit 0800c5f7a499a8961c3868e95cc4cf1715166457
Author: ASANO Masahiro <masano@tnes.nec.co.jp>
Date:   Thu Dec 22 13:24:54 2005 +0900

    [PATCH] fix posix lock on NFS
    
    NFS client prevents mandatory lock, but there is a flaw on it; Locks are
    possibly left if the mode is changed while locking.
    
    This permits unlocking even if the mandatory lock bits are set.
    
    Signed-off-by: ASANO Masahiro <masano@tnes.nec.co.jp>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6f029130fb83b36fb709a187275b0494035d689
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Dec 21 12:26:25 2005 -0500

    [PATCH] fix race with preempt_enable()
    
    Currently a simple
    
    	void foo(void) { preempt_enable(); }
    
    produces the following code on ARM:
    
    foo:
    	bic	r3, sp, #8128
    	bic	r3, r3, #63
    	ldr	r2, [r3, #4]
    	ldr	r1, [r3, #0]
    	sub	r2, r2, #1
    	tst	r1, #4
    	str	r2, [r3, #4]
    	blne	preempt_schedule
    	mov	pc, lr
    
    The problem is that the TIF_NEED_RESCHED flag is loaded _before_ the
    preemption count is stored back, hence any interrupt coming within that
    3 instruction window causing TIF_NEED_RESCHED to be set won't be
    seen and scheduling won't happen as it should.
    
    Nothing currently prevents gcc from performing that reordering.  There
    is already a barrier() before the decrement of the preemption count, but
    another one is needed between this and the TIF_NEED_RESCHED flag test
    for proper code ordering.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6469297d4eecfd9f46929fe1f56a01141cb0791
Merge: 9b78a82... 6b3ae80...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Dec 22 07:41:27 2005 -0800

    Merge git://git.skbuff.net/gitroot/yoshfuji/linux-2.6.14+git+ipv6-fix-20051221a

commit 9b78a82c1cf19aa813bdaa184fa840a3ba811750
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Dec 22 07:39:48 2005 -0800

    [IPSEC]: Fix policy updates missed by sockets
    
    The problem is that when new policies are inserted, sockets do not see
    the update (but all new route lookups do).
    
    This bug is related to the SA insertion stale route issue solved
    recently, and this policy visibility problem can be fixed in a similar
    way.
    
    The fix is to flush out the bundles of all policies deeper than the
    policy being inserted.  Consider beginning state of "outgoing"
    direction policy list:
    
    	policy A --> policy B --> policy C --> policy D
    
    First, realize that inserting a policy into a list only potentially
    changes IPSEC routes for that direction.  Therefore we need not bother
    considering the policies for other directions.  We need only consider
    the existing policies in the list we are doing the inserting.
    
    Consider new policy "B'", inserted after B.
    
    	policy A --> policy B --> policy B' --> policy C --> policy D
    
    Two rules:
    
    1) If policy A or policy B matched before the insertion, they
       appear before B' and thus would still match after inserting
       B'
    
    2) Policy C and D, now "shadowed" and after policy B', potentially
       contain stale routes because policy B' might be selected
       instead of them.
    
    Therefore we only need flush routes assosciated with policies
    appearing after a newly inserted policy, if any.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8b1af56b29b9b81538b4d0d4fd9515618618ead1
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Dec 22 21:55:37 2005 +1100

    powerpc: Fix i8259 cascade on pSeries with XICS interrupt controller
    
    It turns out that commit f9bd170a87948a9e077149b70fb192c563770fdf
    broke the cascade from XICS to i8259 on pSeries machines; specifically
    we ended up not ever doing the EOI on the XICS for the cascade.  The
    result was that interrupts from the serial ports (and presumably any
    other devices using ISA interrupts) didn't get through.  This fixes
    it and also simplifies the code, by doing the EOI on the XICS in the
    xics_get_irq routine after reading and acking the interrupt on the
    i8259.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 515432aa7ae75ea493099f38adc14a99436fa1ac
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Dec 20 09:48:29 2005 -0200

    V4L/DVB (3191): Fix CC output
    
    - CC data was swapped the wrong way around.
    - Enabling CC disabled XDS and vice versa: these two should
    be independent from one another.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 7bb9529602f8bb41a92275825b808a42ed33e5be
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Dec 20 18:26:26 2005 -0200

    V4L/DVB (3200): Fix saa7134 ALSA/OSS collisions
    
    - When ALSA or OSS are loaded, check if the other is present
    Fixed hotplug notifiers cleanup on module removal
    - The saa7134 DMA sound modules now have their own Kconfig entries, and
    if built statically enforce exclusivity
    - SND_PCM_OSS isn't necessary for the OSS driver
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 4c7e6895027362889422e5dc437dc3238b6b4745
Author: Ian McDonald <imcdnzl@gmail.com>
Date:   Wed Dec 21 19:02:39 2005 -0800

    [DCCP]: Comment typo
    
    I hope to actually change this behaviour shortly but this will help
    anybody grepping code at present.
    
    Signed-off-by: Ian McDonald <imcdnzl@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1d1428045c54ef3d172d480806e2066dde0b4b76
Author: Kristian Slavov <kristian.slavov@nomadiclab.com>
Date:   Wed Dec 21 18:47:24 2005 -0800

    [IPV6]: Fix address deletion
    
    If you add more than one IPv6 address belonging to the same prefix and
    delete the address that was last added, routing table entry for that
    prefix is also deleted.
    Tested on 2.6.14.4
    
    To reproduce:
    ip addr add 3ffe::1/64 dev eth0
    ip addr add 3ffe::2/64 dev eth0
    /* wait DAD */
    sleep 1
    ip addr del 3ffe::2/64 dev eth0
    ip -6 route
    
    (route to 3ffe::/64 should be gone)
    
    In ipv6_del_addr(), if ifa == ifp, we set ifa->if_next to NULL, and later
    assign ifap = &ifa->if_next, effectively terminating the for-loop.
    This prevents us from checking if there are other addresses using the same
    prefix that are valid, and thus resulting in deletion of the prefix.
    This applies only if the first entry in idev->addr_list is the address to
    be deleted.
    
    Signed-off-by: Kristian Slavov <kristian.slavov@nomadiclab.com>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7eb1b3d372a53fe9220b9e3b579886db0fe2f897
Author: Mika Kukkonen <mikukkon@iki.fi>
Date:   Wed Dec 21 18:39:49 2005 -0800

    [VLAN]: Add two missing checks to vlan_ioctl_handler()
    
    In vlan_ioctl_handler() the code misses couple checks for
    error return values.
    
    Signed-off-by: Mika Kukkonen <mikukkon@iki.fi>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0d77d59f6293438f25e0560172699c0d3e4ef5ac
Author: Mika Kukkonen <mikukkon@iki.fi>
Date:   Wed Dec 21 18:38:26 2005 -0800

    [NETROM]: Fix three if-statements in nr_state1_machine()
    
    I found these while compiling with extra gcc warnings;
    considering the indenting surely they are not intentional?
    
    Signed-off-by: Mika Kukkonen <mikukkon@iki.fi>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5ea4e26602fa7f5141872f2c17a862f1974a73f
Merge: c7ac6b4... 863a930...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 21 15:09:50 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit c7ac6b42ffba28c350cbcd48268f46689f6eb1cc
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 21 14:52:32 2005 -0800

    Initialize drivers/media/video/saa7134 late
    
    When compiled-in, make sure the sound system has initialized
    before these drivers do.
    
    Reported by Adrian Bunk <bunk@stusta.de>
    
    (The right fix would be to make the sound core use "subsys_initcall()"
    and thus initialize before all normal drivers, but this is the quick
    and limited safe fix for 2.6.15).
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a9191ff683ce4ebfd2c6a15e2989f5b1f420321
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Dec 21 14:28:11 2005 -0800

    [PATCH] usbcore: allow suspend/resume even if drivers don't support it
    
    This patch (as618) changes usbcore to prevent derailing the
    suspend/resume sequence when a USB driver doesn't include support for
    it.  This is a workaround rather than a true fix; the core needs to be
    changed so that URB submissions from suspended drivers can be refused
    and outstanding URBs cancelled.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28120be5d6830cd7c7777d8bf570bdb20abef58a
Author: Paul Walmsley <paul@booyaka.com>
Date:   Wed Dec 21 14:28:06 2005 -0800

    [PATCH] USB Storage: Force starget->scsi_level in usb-storage scsiglue.c
    
    When the usb-storage module forces sdev->scsi_level to SCSI_2, it should
    also force starget->scsi_level to the same value.  Otherwise, the SCSI
    layer may attempt to issue SCSI-3 commands to the device, such as REPORT
    LUNS, which it cannot handle.  This can prevent the device from working
    with Linux.
    
    The AMS Venus DS3 DS2316SU2S SATA-to-SATA+USB enclosure, based on the
    Oxford Semiconductor OXU921S chip, requires this patch to function
    correctly on Linux.  The enclosure reports a SCSI-3 SPC-2 command set
    level, but does not correctly handle the REPORT LUNS SCSI command -
    probably due to a bug in its firmware.
    
    It seems likely that other USB storage enclosures with similar bugs will
    also benefit from this patch.
    
    Tony Lindgren <tony@atomide.com> collaborated in the development of this
    patch.
    
    Signed-off-by: Paul Walmsley <paul@booyaka.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 23f9b317e0ba4fbc5fc9524275d0105fa87e2027
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Dec 21 02:27:50 2005 +0100

    [PATCH] include/linux/irq.h: #include <linux/smp.h>
    
    Jan's crosscompile page [1] shows, that one regression in 2.6.15-rc is
    that the v850 defconfig does no longer compile.
    
    The compile error is:
    
    <--  snip  -->
    
    ...
      CC      arch/v850/kernel/setup.o
    In file included from /usr/src/ctest/rc/kernel/arch/v850/kernel/setup.c:17:
    /usr/src/ctest/rc/kernel/include/linux/irq.h:13:43: asm/smp.h: No such file or directory
    make[2]: *** [arch/v850/kernel/setup.o] Error 1
    
    <--  snip  -->
    
    The #include <asm/smp.h> in irq.h was intruduced in 2.6.15-rc.
    
    Since include/linux/irq.h needs code from asm/smp.h only in the
    CONFIG_SMP=y case and linux/smp.h #include's asm/smp.h only in the
    CONFIG_SMP=y case, I'm suggesting this patch to #include <linux/smp.h>
    in irq.h.
    
    I've tested the compilation with both CONFIG_SMP=y and CONFIG_SMP=n
    on i386.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bee5ab3f572d9499c42e75b958ff7309ff830a13
Merge: b05948d... 5b2db36...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 21 11:05:15 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/lenb/linux-acpi-2.6

commit 6b3ae80a63e47f6e97d68a1ddd520e3509e62821
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Dec 21 22:58:01 2005 +0900

    [IPV6]: Don't select a tentative address as a source address.
    
    A tentative address is not considered "assigned to an interface"
    in the traditional sense (RFC2462 Section 4).
    Don't try to select such an address for the source address.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit c5e33bddd3c798f681f8f3027270127be6b61a3b
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Dec 21 22:57:44 2005 +0900

    [IPV6]: Run DAD when the link becomes ready.
    
    If the link was not available when the interface was created,
    run DAD for pending tentative addresses when the link becomes ready.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 3c21edbd113788b110116141c8078623a0900b6a
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Dec 21 22:57:24 2005 +0900

    [IPV6]: Defer IPv6 device initialization until the link becomes ready.
    
    NETDEV_UP might be sent even if the link attached to the interface was
    not ready.  DAD does not make sense in such case, so we won't do so.
    After interface
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 8de3351e6e0a1081fbf6864ae37839e327699a08
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Dec 21 22:57:06 2005 +0900

    [IPV6]: Try not to send icmp to anycast address.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 58c4fb86eabcbc385d954843a635b7f4327be6b0
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Wed Dec 21 22:56:42 2005 +0900

    [IPV6]: Flag RTF_ANYCAST for anycast routes.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 05465fd5622202d65634b3a9a8bcc9cbb384a82a
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Thu Dec 8 15:37:00 2005 -0500

    [ACPI] increase owner_id limit to 64 from 32
    
    This is an interim patch until changes in an updated
    ACPICA core increase the limit to 255.
    
    Signed-off-by: Alex Williamson <alex.williamson@hp.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit d8bcd8e41576809f276fa44be5012568296cce41
Merge: 5b2db36... b05948d...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 21 04:38:01 2005 -0500

    Auto-update from upstream

commit b05948d9b7167e23af88cc65b9ffa4687eaf1f0d
Merge: fd30fc3... a9c9dff...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 20 17:33:54 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit fd30fc3256824f03c2ff9317269d66f72f7042ca
Author: Tom Zanussi <zanussi@us.ibm.com>
Date:   Tue Dec 20 13:10:22 2005 -0600

    [PATCH] relayfs: remove warning printk() in relay_switch_subbuf()
    
    There's currently a diagnostic printk in relay_switch_subbuf() meant as
    a warning if you accidentally try to log an event larger than the
    sub-buffer size.
    
    The problem is if this happens while logging from somewhere it's not
    safe to be doing printks, such as in the scheduler, you can end up with
    a deadlock.  This patch removes the warning from relay_switch_subbuf()
    and instead prints some diagnostic info when the channel is closed.
    
    Thanks to Mathieu Desnoyers for pointing out the problem and
    suggesting a fix.
    
    Signed-off-by: Tom Zanussi <zanussi@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9c9dff1bc64750c81ee99779164d304c35d2ff3
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Dec 20 14:53:05 2005 -0800

    [SPARC64]: Stop putting -finline-limit=XXX into CFLAGS
    
    It was a stupid workaround for the "static inline" vs.
    "extern inline" issues of long ago, and it is what causes
    schedule() to be inlined like crazy into kernel/sched.c
    when -Os is specified.
    
    MIPS and S390 should probably do the same.
    
    Now CC_OPTIMIZE_FOR_SIZE can be safely used on sparc64
    once more.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bb44f116a14c4c932f15c79acfafd46bcb43ca9a
Author: Ingo Molnar <mingo@elte.hu>
Date:   Tue Dec 20 11:54:17 2005 +0100

    [PATCH] fix spinlock-debugging smp_processor_id() usage
    
    When a spinlock debugging check hits, we print the CPU number as an
    informational thing - but there is no guarantee that preemption is off
    at that point - hence we should use raw_smp_processor_id().  Otherwise
    DEBUG_PREEMPT will print a warning.
    
    With this fix the warning goes away and only the spinlock-debugging info
    is printed.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 391eadeec836463a4e6e3843953bbe40f6522593
Author: Andi Kleen <ak@suse.de>
Date:   Tue Dec 20 07:23:47 2005 +0100

    [PATCH] Fix build with CONFIG_PCI_MMCONFIG
    
    Now needs to include the type 1 functions ("direct") too.
    
    Reported by Pavel Roskin <proski@gnu.org>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7964c3d88668cef57e1a99861477168eeff4743
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Tue Dec 20 16:29:05 2005 +0100

    [PATCH] nfsd: check for read-only exports before setting acls
    
    We must check for MAY_SATTR before setting acls, which includes checking
    for read-only exports: the lower-level setxattr operation that
    eventually sets the acl cannot check export-level restrictions.
    
    Bug reported by Martin Walter <mawa@uni-freiburg.de>.
    
    Signed-off-by: Andreas Gruenbacher <agruen@suse.de>
    Acked-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e28393998d3d0733097306762f6d1c083fc92c6
Author: Jason Wessel <jason.wessel@windriver.com>
Date:   Tue Dec 20 15:21:24 2005 +0100

    [PATCH] kernel/params.c: fix sysfs access with CONFIG_MODULES=n
    
    All the work was done to setup the file and maintain the file handles but
    the access functions were zeroed out due to the #ifdef.  Removing the
    #ifdef allows full access to all the parameters when CONFIG_MODULES=n.
    
    akpm: put it back again, but use CONFIG_SYSFS instead.
    
    Signed-off-by: Jason Wessel <jason.wessel@windriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e8702334841b6da4b8f564dc1771ca17c59a621
Author: Andi Kleen <ak@muc.de>
Date:   Tue Dec 20 14:45:19 2005 +0100

    [PATCH] Fix swiotlb pci_map_sg error handling
    
    The overflow checking condition in lib/swiotlb.c was wrong.
    It would first run a NULL pointer through virt_to_phys before
    testing it. Since pci_map_sg overflow is not that uncommon
    and causes data corruption (including broken file systems) when not
    properly detected I think it's better to fix it in 2.6.15.
    
    This affects x86-64 and IA64.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ca0b3bf695632003a2a0f98b9fc1451b0483346
Author: Knut Petersen <Knut_Petersen@t-online.de>
Date:   Tue Dec 20 08:18:09 2005 +0100

    [PATCH] Fix framebuffer console upside-down ywrap scrolling
    
    Whenever ywrap scrolling is selected together with 180 degree screen
    rotation, 2.6.15-rc6 and earlier versions are broken.  fb_pan_display()
    expects non-negative yoffsets, but ud_update_start() calls it with
    yoffsets down to -(yres - font height).  This patch transforms yoffset
    to the correct range 0 ...  vyres-1.
    
    Some obviously unneeded parentheses are removed, too.
    
    Verified with cyblafb, should be applied before 2.6.15-final because it
    does fix the framebuffer rotation code introduced early in the 2.6.15
    release cycle.
    
    Signed-off-by: Knut Petersen <Knut_Petersen@t-online.de>
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5d74efbeac61c73431e8ef032e97d2d1004ce88
Merge: fc7e131... 5a1244e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 20 09:41:25 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit fc7e13104f823d1ea9c1f4dd7531c14b0c1e6e7e
Merge: 33c37c0... 9b5b1f5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 20 09:35:05 2005 -0800

    Merge branch 'fixes' of git://git.linux-nfs.org/pub/linux/nfs-2.6

commit 33c37c06f8066342764bd1568c9f3524efe889a5
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 19 15:11:49 2005 +0800

    [PATCH] intelfb: Fix oops when changing video mode
    
    Reported by: janis huang (Bugzilla Bug 5747)
    
    Fix on oops in intelfb.  Not sure what's happening, looks like
    dinfo->name pointer is invalidated after initialization.  Remove
    intelfb_get_fix, it's not needed and move the majority of the code to
    the initialization routine.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b3760ce3d448d4af3036cd6c650d651a16ee02d
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 19 15:11:40 2005 +0800

    [PATCH] intelfb: Fix freeing of nonexistent resource
    
    Fix intelfb trying to free a non-existent resource in its error path.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ee7fb7e363aa8828b3920422416707c79f39007
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Dec 19 11:24:53 2005 +1100

    [PATCH] powerpc: g5 thermal overtemp bug
    
    The g5 thermal control for liquid cooled machines has a small bug, when
    the temperatures gets too high, it boosts all fans to the max, but
    incorrectly sets the liquids pump to the min instead of the max speed,
    thus causing the overtemp condition not to clear and the machine to shut
    down after a while. This fixes it to set the pumps to max speed instead.
    This problem might explain some of the reports of random shutdowns that
    some g5 users have been reporting in the past.
    
    Many thanks to Marcus Rothe for spending a lot of time trying various
    patches & sending log logs before I found out that typo. Note that
    overtemp handling is still not perfect and the machine might still
    shutdown, that patch should reduce if not eliminate such occcurences in
    "normal" conditions with high load. I'll implement a better handling
    with proper slowing down of the CPUs later.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a1244e9ddb77eafb1de69a1be14e06ca04e733a
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Dec 20 16:00:17 2005 +1100

    powerpc: update defconfigs
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b273ed266a353ee6b238856e1ae705660dafdd70
Author: Edson Seabra <Edson.Seabra@cyclades.com>
Date:   Mon Dec 19 09:16:50 2005 -0600

    [PATCH] powerpc: CPM2 interrupt handler failure after 100,000 interrupts
    
    The CPM2 interrupt handler does not return success to the IRQ subsystem, which
    causes it to kill the IRQ line after 100,000 interrupts.
    
    Signed-off-by: Edson Seabra <Edson.Seabra@cyclades.com>
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3eb6f26bcd0d2ce53498deda988e68d663e1c9c2
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Dec 20 15:38:47 2005 +1100

    powerpc: correct register usage in 64-bit syscall exit path
    
    Since we don't restore the volatile registers in the syscall exit
    path, we need to make sure we don't leak any potentially interesting
    values from the kernel to userspace.  This was already the case for
    all except r11.  This makes it use r11 for an MSR value, so r11 will
    have an (uninteresting) MSR value in it on return to userspace.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9b5b1f5bf9dcdb6f23abf65977a675eb4deba3c0
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Dec 19 17:11:25 2005 -0500

    NLM: Fix Oops in nlmclnt_mark_reclaim()
    
     When mixing -olock and -onolock mounts on the same client, we have to
     check that fl->fl_u.nfs_fl.owner is set before dereferencing it.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 48e49187753ec3b4fa84a7165c9b7a59f3875b56
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Mon Dec 19 17:11:22 2005 -0500

    SUNRPC: Fix "EPIPE" error on mount of rpcsec_gss-protected partitions
    
     gss_create_upcall() should not error just because rpc.gssd closed the
     pipe on its end. Instead, it should requeue the pending requests and then
     retry.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 29884df0d89c1df0dec3449405bc41569bb44800
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Dec 13 16:13:54 2005 -0500

    NFS: Fix another O_DIRECT race
    
     Ensure we call unmap_mapping_range() and sync dirty pages to disk before
     doing an NFS direct write.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b079fa7baa86b47579f3f60f86d03d21c76159b8
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Dec 13 16:13:52 2005 -0500

    RPC: Do not block on skb allocation
    
     If we get something like the following,
     [  125.300636]  [<c04086e1>] schedule_timeout+0x54/0xa5
     [  125.305931]  [<c040866e>] io_schedule_timeout+0x29/0x33
     [  125.311495]  [<c02880c4>] blk_congestion_wait+0x70/0x85
     [  125.317058]  [<c014136b>] throttle_vm_writeout+0x69/0x7d
     [  125.322720]  [<c014714d>] shrink_zone+0xe0/0xfa
     [  125.327560]  [<c01471d4>] shrink_caches+0x6d/0x6f
     [  125.332581]  [<c01472a6>] try_to_free_pages+0xd0/0x1b5
     [  125.338056]  [<c013fa4b>] __alloc_pages+0x135/0x2e8
     [  125.343258]  [<c03b74ad>] tcp_sendmsg+0xaa0/0xb78
     [  125.348281]  [<c03d4666>] inet_sendmsg+0x48/0x53
     [  125.353212]  [<c0388716>] sock_sendmsg+0xb8/0xd3
     [  125.358147]  [<c0388773>] kernel_sendmsg+0x42/0x4f
     [  125.363259]  [<c038bc00>] sock_no_sendpage+0x5e/0x77
     [  125.368556]  [<c03ee7af>] xs_tcp_send_request+0x2af/0x375
     then the socket is blocked until memory is reclaimed, and no
     progress can ever be made.
    
     Try to access the emergency pools by using GFP_ATOMIC.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 3e1ec1f43307575d4e04c513aa3c30d69c32b9dc
Merge: bcb9794... ecfa4fd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 19 18:34:37 2005 -0800

    Merge branch 'to_linus' of master.kernel.org:/pub/scm/linux/kernel/git/mchehab/v4l-dvb

commit bcb97940f31ded5ac551da8bfc849583203fc6f2
Author: Neil Brown <neilb@suse.de>
Date:   Tue Dec 20 11:07:00 2005 +1100

    [PATCH] md: Change case of raid level reported in sys/mdX/md/level
    
    I had thought that keeping the reported tail level clearly different
    from the module name was a good idea, but I've changed my mind.
    
    'raid5' is better and probably less confusing than 'RAID-5'.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f98d2dfd02183e016a6295f72140c60d691c9188
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Mon Dec 19 11:49:24 2005 -0800

    [PATCH] block: Cleanup CDROMEJECT ioctl
    
    This is just a basic cleanup. No change in functionality.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 931b11be325e0e866b64bac7cab64d51c7759371
Merge: 546ac8a... 3869019...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 19 16:46:14 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/tg3-2.6

commit 546ac8a63186a06e5d21778eefa4695232aee5b8
Merge: ce7fa1b... ce37e5f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 19 16:43:57 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit ce7fa1b3f9105873f6e26edb7241c848cab70e4d
Merge: d898d48... 9bffc4a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 19 16:43:36 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit d898d485e721db45be555c27df5de03281f2fd05
Merge: df7addb... 7c612bf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 19 16:43:13 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 38690194bc897dd60a61a71b15e861e13b5d8bdd
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Dec 19 16:27:28 2005 -0800

    [TG3]: Fix ethtool memory test
    
    Skip the memory 0xb50 to 0x1000 during "ethtool -t" memory test.
    Overwriting memory in this region can cause ASF problems.
    
    Update version and release date.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b401e9e2ec44a5fc1d8053546276bff584b7118e
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Dec 19 16:27:04 2005 -0800

    [TG3]: Add tw32_wait_f() for some sensitive registers
    
    The tw32_f() function (register write with immediate read flush) can
    hang when used on some registers to switch clock frequencies and
    power. A new tw32_wait_f() is added for such registers with the
    delay before the read and after the read.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dc56b7d46dd2b303a844166ef931270b882bf08c
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Dec 19 16:26:28 2005 -0800

    [TG3]: Some low power fixes
    
    Add some missing workarounds in tg3_set_power_state():
    
    1. Workaround to prevent overdrawing current on 5714.
    
    2. Do not power down 5700's PHY because of hw limitation.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8c2dc7e1e7213c55f1b97eba09de6c0cee9ad12f
Author: Michael Chan <mchan@broadcom.com>
Date:   Mon Dec 19 16:26:02 2005 -0800

    [TG3]: Fix peer device handling
    
    Locate the pdev_peer for dual port 5714 NIC devices in addition to
    5704 devices. The name is also changed to tg3_find_peer() from
    tg3_find_5704_peer(). It is also necessary to call netdev_priv() to
    get to the peer's private tg3 structure.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ce37e5f90366cb90320a285edd2113fd807f3ab6
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Dec 19 14:52:24 2005 -0800

    [SPARC]: Fix RTC build failure.
    
    On sparc and sparc64, the rtc driver doesn't compile with PCI support
    disabled.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9bffc4ace1ed875667dbe5b29065d96bec558c62
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Mon Dec 19 14:24:40 2005 -0800

    [SCTP]: Fix sctp to not return erroneous POLLOUT events.
    
    Make sctp_writeable() use sk_wmem_alloc rather than sk_wmem_queued to
    determine the sndbuf space available. It also removes all the modifications
    to sk_wmem_queued as it is not currently used in SCTP.
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 399c180ac5f0cb66ef9479358e0b8b6bafcbeafe
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Mon Dec 19 14:23:23 2005 -0800

    [IPSEC]: Perform SA switchover immediately.
    
    When we insert a new xfrm_state which potentially
    subsumes an existing one, make sure all cached
    bundles are flushed so that the new SA is used
    immediately.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7c612bfd4ed3064fd48a4877a114c8186547367b
Author: Nicolas Pitre <nico@cam.org>
Date:   Mon Dec 19 22:20:51 2005 +0000

    [ARM] 3210/1: add missing memory barrier helper for NPTL support
    
    Patch from Nicolas Pitre
    
    Strictly speaking, the NPTL kernel helpers are required for pre ARMv6
    only.  They are available on ARMv6+ as well for obvious compatibility
    reasons.  However there are cases where extra memory barriers are needed
    when using an SMP ARMv6 machine but not on pre-ARMv6.
    
    This patch adds a memory barrier kernel helper that glibc can use as
    needed for pre-ARMv6 binaries to be forward compatible with an SMP
    kernel on ARMv6, as well as the necessary dmb instructions to the
    cmpxchg helper.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9e999993c71e1506378d26d81f842277aff8a250
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 19 14:03:46 2005 -0800

    [XFRM]: Handle DCCP in xfrm{4,6}_decode_session
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3dd4bc68fac5df16b6d3ed6ed3c29cf05f29a47e
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Mon Dec 19 14:02:45 2005 -0800

    [IPV6]: Fix route lifetime.
    
    The route expiration time is stored in rt6i_expires in jiffies.
    The argument of rt6_route_add() for adding a route is not the
    expiration time in jiffies nor in clock_t, but the lifetime
    (or time left before expiration) in clock_t.
    
    Because of the confusion, we sometimes saw several strange errors
    (FAILs) in TAHI IPv6 Ready Logo Phase-2 Self Test.
    The symptoms were analyzed by Mitsuru Chinen <CHINEN@jp.ibm.com>.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b03664869aa6f84c3c98a06ac9d6905b195909bc
Author: Bart De Schuymer <bdschuym@pandora.be>
Date:   Mon Dec 19 14:00:08 2005 -0800

    [BRIDGE-NF]: Fix bridge-nf ipv6 length check
    
    A typo caused some bridged IPv6 packets to get dropped randomly,
    as reported by Sebastien Chaumontet. The patch below fixes this
    (using skb->nh.raw instead of raw) and also makes the jumbo packet
    length checking up-to-date with the code in
    net/ipv6/exthdrs.c::ipv6_hop_jumbo.
    
    Signed-off-by: Bart De Schuymer <bdschuym@pandora.be>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6b80ebedbee87c5b2213fc3635bf0bd7450bce30
Author: Kristian Slavov <kristian.slavov@nomadiclab.com>
Date:   Mon Dec 19 13:54:44 2005 -0800

    [RTNETLINK]: Fix RTNLGRP definitions in rtnetlink.h
    
    I reported a problem and gave hints to the solution, but nobody seemed
    to react. So I prepared a patch against 2.6.14.4.
    
    Tested on 2.6.14.4 with "ip monitor addr" and with the program
    attached, while adding and removing IPv6 address. Both programs didn't
    receive any messages.  Tested 2.6.14.4 + this patch, and both programs
    received add and remove messages.
    
    Signed-off-by: Kristian Slavov <kristian.slavov@nomadiclab.com>
    Acked-by: Jamal Hadi salim <hadi@cyberus.ca>
    ACKed-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 31cb5bd4dc89ba14e6347b094e15a2f6778a01fc
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 19 13:53:26 2005 -0800

    [NETFILTER]: Fix incorrect dependency for IP6_NF_TARGET_NFQUEUE
    
    IP6_NF_TARGET_NFQUEUE depends on IP6_NF_IPTABLES, not IP_NF_IPTABLES.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0476f171affa6eca62021fca2ae9f5140acc3713
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 19 13:53:09 2005 -0800

    [NETFILTER]: Fix NAT init order
    
    As noticed by Phil Oester, the GRE NAT protocol helper is initialized
    before the NAT core, which makes registration fail.
    
    Change the linking order to make NAT be initialized first.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ecfa4fdca15c089e372095325d9e78264224aeb3
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 19 09:15:13 2005 -0200

    [PATCH] V4L/DVB SCM Maintainers Update
    
    - This patch updates MAINTAINERS file by replacing quilt to git SCM
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 468a0a54aabdac72e9c7bbd4f8372f1df2d9f0ae
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 19 08:54:11 2005 -0200

    [PATCH] V4L/DVB (3189): Fix a broken logic that didn't cover all standards.
    
    - Fix a broken logic that didn't cover all standards.
    - Fix compilation failure with gcc 2.95.3.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 60edb13759096097b7208843dc9b7582a7d14c61
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Mon Dec 19 08:54:11 2005 -0200

    [PATCH] V4L/DVB (3181): Enable SPDIF output for DVB-S rev 2.3
    
    - Enable SPDIF output for DVB-S rev 2.3. Firmware 2623 or higher required.
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit 3338761e6c52a8dee631dcc69129c625801ab132
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Dec 19 08:54:11 2005 -0200

    [PATCH] V4L/DVB (3180): Fix tuner 100 definition for hauppauge eeprom
    
    - Tuner 100 is the TUNER_PHILIPS_FMD1216ME_MK3, not TUNER_ABSENT. This
    was causing the tuner module to be skipped, and rendered boards with this
    value in the eeprom (like the HVR1100) unable to tune
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit f85c657ff1f712abd5207a95fba8a5fcc282ab04
Author: Jean Delvare <khali@linux\-fr.org>
Date:   Mon Dec 19 08:53:59 2005 -0200

    [PATCH] V4L/DVB (3188): Fix compilation failure with gcc 2.95.3.
    
    - Fix compilation failure with gcc 2.95.3.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>

commit df7addbb45874f0f992266003155de5a22e1872f
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 18 16:36:54 2005 -0800

    Linux v2.6.15-rc6
    
    Also renamed in honor of Portland being snowed in and everybody sliding
    around on the highways like greased pumpkins.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 23cb3ada1b011f708ff881b66b2cfb6c11068fa5
Merge: 27f4e08... 16e842a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 18 16:31:56 2005 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/scjody/ieee1394

commit 27f4e0834746196f219e3e030ca71ffd3b176483
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Dec 16 11:17:29 2005 +0900

    [PATCH] mtd onenand driver: use platform_device.h instead device.h
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 532a37cf8d05dd1aa5631be836036204b0d2b4a1
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Dec 16 11:17:29 2005 +0900

    [PATCH] mtd onenand driver: reduce stack usage
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20ba89a3614bbc5d111fd74375e14c577859b2a3
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Dec 16 11:17:29 2005 +0900

    [PATCH] mtd onenand driver: fix unlock problem in DDP

commit 37b1cc3910f7976369fc0ed55068a686e92555e6
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Dec 16 11:17:29 2005 +0900

    [PATCH] mtd onenand driver: check correct manufacturer
    
    This (and the three subsequent patches) is working well on OMAP H4 with
    2.6.15-rc4 kernel and passes the LTP fs test.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee219e5e7c12b742243a080e2d8d288a48a32e44
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Dec 17 23:20:55 2005 +0100

    [PATCH] radeon drm: fix compilation breakage with gcc 2.95.3
    
    Fix a typo which breaks radeon drm compilation with gcc 2.95.3.
    
    The offending line was added back in 2.6.11-rc3, but was harmless
    back then. A recent addition nearby changed it into a compilation
    breaker: commit 281ab031a8c9e5b593142eb4ec59a87faae8676a.
    
    The doubled semi-colon ends up being an empty instruction, and the
    variable declaration thus ends up being in the middle of "code".
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Mark M. Hoffman <mhoffman@lightlink.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff60dde9e46b87757d5e83bd58be0688fca8e816
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Dec 17 11:42:54 2005 -0500

    [PATCH] Input: fix an OOPS in HID driver
    
    This patch fixes an OOPS in HID driver when connecting simulation
    devices generating unknown simulation events.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Acked-by: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b7b15afee89d6940482259b54d0864b7b2302b0
Author: Jeff Dike <jdike@addtoit.com>
Date:   Sun Dec 18 17:50:39 2005 +0100

    [PATCH] uml skas0: stop gcc's insanity
    
    With Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    
    UML skas0 stub has been miscompiling for many people (incidentally not
    the authors), depending on the used GCC versions.
    
    I think (and testing on some GCC versions shows) this patch avoids the
    fundamental issue which is behind this, namely gcc using the stack when
    we have just replaced it, behind gcc's back.  The remapping and storage
    of the return value is hidden in a blob of asm, hopefully giving gcc no
    room for creativity.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76c842d8f8096e2c98ff9ebe1db861363ff254e5
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Dec 18 17:50:37 2005 +0100

    [PATCH] uml - fix some funkiness in Kconfig
    
    So you may have seen the miniconfig stuff wander by, which means that my
    build script exits if there's a .config error, and we have this:
    
      fs/Kconfig:1749:warning: 'select' used by config symbol 'CIFS_UPCALL'
    	refer to undefined symbol 'CONNECTOR'
    
    This makes it shut up.
    
    Signed-off-by: Rob Landley <rob@landley.net>
    [ Verified it makes sense. ]
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53c0b59dcdb7c68c3cfd4b9a0bd17373b785f2eb
Author: Rob Landley <rob@landley.net>
Date:   Sun Dec 18 17:50:35 2005 +0100

    [PATCH] uml: fix dynamic linking on some 64-bit distros
    
    With Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    
    The current UML build assumes that on x86-64 systems, /lib is a symlink
    to /lib64, but in some distributions (like PLD and CentOS) they are
    separate directories, so the 64 bit library loader isn't found.  This
    patch inserts /lib64 at the start of the rpath on x86-64 UML builds.
    
    Signed-off-by: Rob Landley <rob@landley.net>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ce7677cfd7cd871adb457c80bea3b581b839641
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Dec 18 17:50:32 2005 +0100

    [PATCH] uml: arch/um/scripts/Makefile.rules - remove duplicated code
    
    Duplicated code - the patch adding it was probably applied twice without
    enough care.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5508c13ac25b07585229b144a45cf64a990171e
Author: Salyzyn, Mark <mark_salyzyn@adaptec.com>
Date:   Sat Dec 17 19:26:30 2005 -0800

    [PATCH] dpt_i2o fix for deadlock condition
    
    Miquel van Smoorenburg <miquels@cistron.nl> forwarded me this fix to
    resolve a deadlock condition that occurs due to the API change in
    2.6.13+ kernels dropping the host locking when entering the error
    handling.  They all end up calling adpt_i2o_post_wait(), which if you
    call it unlocked, might return with host_lock locked anyway and that
    causes a deadlock.
    
    Signed-off-by: Mark Salyzyn <aacraid@adaptec.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87d47d0547631e059c308b392cd2423fe9248c93
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Sat Dec 17 18:39:23 2005 -0800

    [PATCH] i2o: Do not disable pci device when it's in use
    
    When dpt_i2o is loaded first, i2o being loaded would cause it to call
    pci_device_disable, thus breaking dpt_i2o's use of the device.  Based on
    similar usage of pci_disable_device in other drivers.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 863a930a40eb7f2d18534c2c166b22582f5c6cfd
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Thu Dec 15 20:01:43 2005 -0800

    [SCSI] fix scsi_reap_target() device_del from atomic context
    
    scsi_reap_target() was desgined to be called from any context.
    However it must do a device_del() of the target device, which may only
    be called from user context.  Thus we have to reimplement
    scsi_reap_target() via a workqueue.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 567bd98017d9c9f2ac1c148ddc78c062e8abd398
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Dec 17 15:25:42 2005 +0000

    [ARM] Fix sys_sendto and sys_recvfrom 6-arg syscalls
    
    Rather than providing more wrappers for 6-arg syscalls, arrange for
    them to be supported as standard.  This just means that we always
    store the 6th argument on the stack, rather than in the wrappers.
    
    This means we eliminate the wrappers for:
    * sys_futex
    * sys_arm_fadvise64_64
    * sys_mbind
    * sys_ipc
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 48ea753075aa15699bd5fac26faa08431aaa697b
Merge: 7c3dbbe... dc86e88...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 16 14:43:57 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 7c3dbbe982ac85837f1da150ea9539a9e9a12557
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Dec 16 22:35:23 2005 +0000

    [PATCH] ppc: ppc4xx_dma DMA_MODE_{READ,WRITE} fix
    
    DMA_MODE_{READ,WRITE} are declared in asm-powerpc/dma.h and their
    declarations there match the definitions.  Old declarations in
    ppc4xx_dma.h are not right anymore (wrong type, to start with).
    Killed them, added include of asm/dma.h where needed.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a78719c387cc25ed97304a235a20c24f0f89399b
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Dec 16 22:35:28 2005 +0000

    [PATCH] ppc: booke_wdt compile fix
    
    booke_wdt.c had been missed in cpu_specs[] removal sweep
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16e842a62a8ffcc2e51def6ef9fd6e0926539bc5
Merge: 525352e... 42245e6...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Fri Dec 16 17:10:35 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 42245e65f356ed54fdf7a1f9a0095e0bc40f73a3
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Dec 16 11:09:01 2005 -0800

    [PATCH] UHCI: add missing memory barriers
    
    This patch (as617) adds a couple of memory barriers that Ben H. forgot in
    his recent suspend/resume fix.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42f3ab42875a52af7e711803bfb8d8d7cca84c1c
Author: Andi Kleen <ak@suse.de>
Date:   Fri Dec 16 11:08:55 2005 -0800

    [PATCH] PCI: Fix dumb bug in mmconfig fix
    
    Use correct address when referencing mmconfig aperture while checking
    for broken MCFG.  This was a typo when porting the code from 64bit to
    32bit.  It caused oopses at boot on some ThinkPads.
    
    Should definitely go into 2.6.15.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 52f975ea21e28871a371c2d941e13d64c9f8cd66
Author: Milton Miller <miltonm@bga.com>
Date:   Fri Dec 16 11:08:48 2005 -0800

    [PATCH] PCI express must be initialized before PCI hotplug
    
    PCI express hotplug uses the pcieportbus driver so pcie must be
    initialized before hotplug/.  This patch changes the link order.
    
    Signed-Off-By: Milton Miller <miltonm@bga.com>
    Acked-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfded4ae71080b53798c7bbf4628a9b22d1e3e8b
Author: Mark A. Greer <mgreer@mvista.com>
Date:   Fri Dec 16 11:08:43 2005 -0800

    [PATCH] i2c: Fix i2c-mv64xxx compilation error
    
    The busses/i2c-mv64xxx.c driver doesn't currently compile because of an
    incorrect argument to dev_err().  This patch fixes that.
    
    Signed-off-by: Mark A. Greer <mgreer@mvista.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc86e88c2bb8a7603ee175fbb6a9e92cf3293dd8
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Mon Dec 12 09:34:32 2005 -0800

    [IA64] Add __read_mostly support for IA64
    
    sparc64, i386 and x86_64 have support for a special data section dedicated
    to rarely updated data that is frequently read. The section was created to
    avoid false sharing of those rarely read data with frequently written kernel
    data.
    
    This patch creates such a data section for ia64 and will group rarely written
    data into this section.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d5bf3165b6fbb879a4658f9da9ca2fe002b75f08
Author: John Hawkes <hawkes@sgi.com>
Date:   Tue Dec 13 13:45:44 2005 -0800

    [IA64-SGI] change default_sn2 to NR_CPUS==1024
    
    Change the NR_CPUS default for ia64/sn up to 1024.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: John Hesterberg <jh@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d74700e604db717eef7a3112176e6350fb00d0e3
Author: Jack Steiner <steiner@sgi.com>
Date:   Thu Dec 15 12:41:22 2005 -0600

    [IA64-SGI] Missed TLB flush
    
    I see why the problem exists only on SN. SN uses a different hardware
    mechanism to purge TLB entries across nodes.
    
    It looks like there is a bug in the SN TLB flushing code. During context switch,
    kernel threads inherit the mm of the task that was previously running on the
    cpu. This confuses the code in sn2_global_tlb_purge().
    
    The result is a missed TLB purge for the task that owns the "borrowed" mm.
    
    (I hit the problem running heavy stress where kswapd was purging code pages of
    a user task that woke kswapd. The user task took a SIGILL fault trying to
    execute code in the page that had been ripped out from underneath it).
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 3bd7f01713f30e7c616ab975ebb84ab7eb58a60a
Author: Jes Sorensen <jes@trained-monkey.org>
Date:   Fri Dec 16 11:00:03 2005 -0500

    [IA64] uncached ref count leak
    
    Use raw_smp_processor_id() instead of get_cpu() as we don't need the
    extra features of get_cpu().
    
    Signed-off-by: Jes Sorensen <jes@trained-monkey.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 4d7672b46244abffea1953e55688c0ea143dd617
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 16 10:21:23 2005 -0800

    Make sure we copy pages inserted with "vm_insert_page()" on fork
    
    The logic that decides that a fork() might be able to avoid copying a VM
    area when it can be re-created by page faults didn't know about the new
    vm_insert_page() case.
    
    Also make some things a bit more anal wrt VM_PFNMAP.
    
    Pointed out by Hugh Dickins <hugh@veritas.com>
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5899b5d4fa806403f547dc41312d017d94ec273
Author: John Hawkes <hawkes@sgi.com>
Date:   Fri Dec 16 10:00:24 2005 -0800

    [IA64] disable preemption in udelay()
    
    The udelay() inline for ia64 uses the ITC.  If CONFIG_PREEMPT is enabled
    and the platform has unsynchronized ITCs and the calling task migrates
    to another CPU while doing the udelay loop, then the effective delay may
    be too short or very, very long.
    
    This patch disables preemption around 100 usec chunks of the overall
    desired udelay time.  This minimizes preemption-holdoffs.
    
    udelay() is now too big to be inline, move it out of line and export it.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 281ab031a8c9e5b593142eb4ec59a87faae8676a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Dec 16 16:52:22 2005 +1100

    [PATCH] radeon drm: fix agp aperture map offset
    
    This finally fixes the radeon memory mapping bug that was incorrectly
    fixed by the previous patch.  This time, we use the actual vram size as
    the size to calculate how far to move the AGP aperture from the
    framebuffer in card's memory space.
    
    If there are still issues with this patch, they are due to bugs in the X
    driver that I'm working on fixing too.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Mark M. Hoffman <mhoffman@lightlink.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42e33148df38c60b99d984b76b302c64397ebe4c
Author: James Smart <James.Smart@Emulex.Com>
Date:   Thu Dec 15 09:56:22 2005 -0500

    [SCSI] fix for fc transport recursion problem.
    
    In the scenario that a link was broken, the devloss timer for each
    rport was expire at roughly the same time, causing lots of "delete"
    workqueue items being queued. Depth is dependent upon the number of
    rports that were on the link.
    
    The rport target remove calls were calling flush_scheduled_work(),
    which would interrupt the stream, and start the next workqueue item,
    which did the same thing, and so on until recursion depth was large.
    
    This fix stops the recursion in the initial delete path, and pushes it
    off to a host-level work item that reaps the dead rports.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7b6666530e2736f190a2629c8abe34275054449f
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Thu Dec 15 12:34:30 2005 -0800

    [PATCH] Au1550 AC'97 OSS driver spinlock fixes
    
    We have found some issues with Au1550 AC'97 OSS driver in 2.6
    (sound/oss/au1550_ac97.c), though it also should concern 2.4 driver
    (drivers/sound/au1550_psc.c).
    
    start_dac() grabs a spinlock already held by its caller, au1550_write().
    This doesn't show up with the standard UP spinlock impelmentation but when
    the different one (mutex based) is in use, a lockup happens.
    
    And the interrupt handlers also didn't grab the spinlock -- that's OK in
    the usual kernel but not when the IRQ handlers are threaded.  So, they're
    grabbing the spinlock now (as every correct interrupt handler should do).
    
    Signed-off-by: Konstantin Baidarov <kbaidarov@ru.mvista.com>
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f40fb72a2121da44c35f2588ee9abce1dffa2a9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 15 12:34:29 2005 -0800

    [PATCH] drivers/base/memory.c: unexport the static (sic) memory_sysdev_class
    
    We can't export a static struct to modules.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7767e126ca0f32cd0438455fdd9650f909d2eeb3
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Thu Dec 15 12:34:28 2005 -0800

    [PATCH] IPMI oops fix
    
    While doing some testing I discovered that if the BIOS on a board does not
    properly setup the DMI information it leads to a panic in the IPMI code.
    
    The panic is due to dereferencing a pointer which is not initialized.  The
    pointer is initialized in port_setup() and/or mem_setup() and used in
    init_one_smi() and cleanup_one_si(), however if either port_setup() or
    mem_setup() return ENODEV the pointer does not get initialized.
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Acked-by: Corey Minyard <cminyard@mvista.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b2db367a28c12e8dfd0b404d9ea35e948c5d7b3
Merge: d3e4cef... 7116317...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 15 13:15:27 2005 -0500

    Auto-update from upstream

commit ebbd1bce79b3b4778d9e1914a22c42fcfa869cd9
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:19:10 2005 +0000

    [PATCH] arch/powerpc/kernel/syscalls.c __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81f0a91e8f58a7784afe39cda9ac47e9231412a4
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:19:05 2005 +0000

    [PATCH] drivers/input/misc/wistron_btns.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 833882b452046d3d5028f6293a0a6d6d3c1eee3c
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:19:00 2005 +0000

    [PATCH] mwave: missing __user in ioctl struct declaration
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7877327d9c360ac91f22e4c7f98bcb10c0180969
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:55 2005 +0000

    [PATCH] drivers/atm/adummy.c NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e17f008bbeabcd1302d6cf4b5b9659be6d80f1db
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:50 2005 +0000

    [PATCH] arch/alpha/kernel/machvec_impl.h: C99 struct initializer
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94299171dd269aab0c97f6254cedb381f10e6348
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:45 2005 +0000

    [PATCH] dst_ca __user annotations, portability fixes
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3e5b5b2277f9c047082dcb309f665fe8b5706c1
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:40 2005 +0000

    [PATCH] ia64 sn __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d3a880e1ff6713b4c846e4d2526a8c7e6ad8469c
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:30 2005 +0000

    [PATCH] Address of void __user * is void __user * *, not void * __user *
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78d9955bb06493e7bd78e43dfdc17fb5f1dc59b6
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:25 2005 +0000

    [PATCH] missing prototype (mm/page_alloc.c)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 538bacf8a4802d209f955726b66891b8a921dabf
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:20 2005 +0000

    [PATCH] __user annotations (booke_wdt.c)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d22043940eb8d660df9a94e8e439ab4d3d16edab
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:15 2005 +0000

    [PATCH] arcfb __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd0306656c15f355e0e533cc0f08691bb98ca912
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:10 2005 +0000

    [PATCH] cyber2000fb.c __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e896fd9861181140617aa9ff3a54dac25e46351d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:05 2005 +0000

    [PATCH] wdrtas.c: fix __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ad9201be7f7d52d712fe3c3e841fdc19216ede1
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:18:00 2005 +0000

    [PATCH] dell_rbu: NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4aa02eb3939c5004782454434e4d50de471b53d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:55 2005 +0000

    [PATCH] cm4000_cs: __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b16b88e55d808a6324d5ff02d8c686f7884870f8
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:50 2005 +0000

    [PATCH] i386,amd64: ioremap.c __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b8a4e33e4a320735f353a092013b314f142493d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:44 2005 +0000

    [PATCH] i386,amd64: mmconfig __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bcc247617deaf229962e9d663c69e65523519ab
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:39 2005 +0000

    [PATCH] em28xx: %zd for size_t
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53b3de1ea2f81de7050f247cd7fc63863887e8d7
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:34 2005 +0000

    [PATCH] auerswald.c: %zd for size_t
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37eb47ed445f4ca1247f3c7b600c0885c2ca8c31
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:29 2005 +0000

    [PATCH] s2io: __iomem annotations for recent changes
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51bfb75b0b2652f60ab1200627e9041f4624c819
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:24 2005 +0000

    [PATCH] xfs: missing gfp_t annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b53cb2a4ab276796ad299597d6e7e2317b514ca8
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Dec 15 09:17:19 2005 +0000

    [PATCH] iscsi gfp_t annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80ce8baf5da730c87194e2e38a4cfca0254f9599
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 06:04:55 2005 -0500

    [PATCH] arch/sparc/kernel/led.c __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a32972965e23471f0762a1136f80990ebf72406a
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:56:39 2005 -0500

    [PATCH] sun4c_memerr_reg __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4fe342f932346a306f98f5401ad510b890c0a15
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sun Dec 4 18:48:45 2005 -0500

    [PATCH] sparc: NULL noise removal (ebus.c)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c316ef0494eec2d08df2f083fc06fc06a6fd48c6
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:55:44 2005 -0500

    [PATCH] sparc/kernel/time: __iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fec607fff973b1d7805c1bbce5834690857e7801
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:54:54 2005 -0500

    [PATCH] sbus/char/uctrl: missing prototypes and NULL noise removal
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc05d83bbf20a32eb24624726d1027aa960a573c
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:51:43 2005 -0500

    [PATCH] sparc: jsflash __user annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b7c690b52f424574f7ac8c607e71e9f5c283a557
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:50:56 2005 -0500

    [PATCH] sparc: vfc __iomem annotations and fixes
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8ad23a401d41f90cb377035d206b41de0699a0b
Author: Al Viro <viro@www.linux.org.uk>
Date:   Tue Dec 6 05:44:18 2005 -0500

    [PATCH] fix iomem annotations in sparc32 pcic code
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7116317dc9148d783846299fc80a7d377baa6dca
Merge: 2499604... 0afaa4f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 18:58:46 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/bart/ide-2.6

commit 2499604960fff307fe99ff4d4363c50eaa69235a
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Wed Dec 14 14:38:05 2005 -0500

    [PATCH] reiserfs: close open transactions on error path
    
    The following patch fixes a bug where if the journal is aborted, it can
    leave a transaction open.  The result will be a BUG when another code
    path attempts to start a transaction and will get a "nesting into
    different fs" error, since current->journal_info will be left non-NULL.
    
    Original fix against SUSE kernel by Chris Mason <mason@suse.com>
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d5e815618c4a8b53806845268c951201d14af6e
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Wed Dec 14 14:38:36 2005 -0500

    [PATCH] reiserfs: skip commit on io error
    
    This should have been part of the original io error patch, but got
    dropped somewhere along the way.
    
    It's extremely important when handling the i/o error in the journal to
    not commit the transaction with corrupt data.  This patch adds that code
    back in.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea54c96c04cfd9fec881e403d8f7931b47f7b2a6
Author: Vojtech Pavlik <vojtech@suse.cz>
Date:   Wed Dec 14 21:47:00 2005 -0500

    [PATCH] Input: ALPS - correctly report button presses on Fujitsu Siemens S6010
    
    Without this patch Forward and Backward buttons on the touchpad do not
    generate any events.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c45b4f1f1e149c023762ac4be166ead1818cefef
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 18:52:21 2005 -0800

    Move size optimization option outside of EMBEDDED menu, mark it EXPERIMENTAL
    
    Also, disable on sparc64 - a number of people report breakage.  Probably
    a compiler bug, but it's quite possible that it tickles some latent
    kernel problem too.
    
    It still defaults to 'y' everywhere else (when enabled through
    EXPERIMENTAL), and Dave Jones points out that Fedora (and RHEL4) has
    been building with size optimizations for a long time on x86, x86-64,
    ia64, s390, s390x, ppc32 and ppc64.  So it is really only moderately
    experimental, but the sparc64 breakage certainly shows that it can
    trigger "issues".
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 11c18b5cb31d15a782fb727adad51ae1434e5dee
Merge: a50e2cc... a388442...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 18:46:41 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit a50e2cc7c8e2b9b38f5972bc19daea4c98878d01
Merge: c786804... c952649...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 18:40:02 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit 0afaa4fc4abc773ce129f41009a50eeecf3aa50c
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Thu Dec 15 02:20:49 2005 +0100

    [PATCH] ide-cd: remove write-only cmd field from struct cdrom_info
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 7b4df9ece9b4c4a754bd1f5603cdabff26b987e5
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Thu Dec 15 02:20:15 2005 +0100

    [PATCH] ide: cleanup ide_driver_t
    
    Remove unused fields: ioctl, ata[pi]_prebuilder.
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 517bd1d5eac739a7f398058a9524386667fff032
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Thu Dec 15 02:19:57 2005 +0100

    [PATCH] ide: cleanup ide.h
    
    Remove:
    * stale comment
    * unused HOST() macro
    * unused ata_{error,control}_t types
    * unused atapi_select_t type
    * ide_init_subdrivers() prototype
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit d36fef6f5aa4a6a1f44490455393a5b22137a6cd
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Thu Dec 15 02:19:20 2005 +0100

    [PATCH] ide-disk: flush cache after calling del_gendisk()
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 8f29e650bffc1e22ed6b2d0b321bc77627f3bb7a
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Thu Dec 15 02:17:46 2005 +0100

    [PATCH] ide: AU1200 IDE update
    
    Changes here include removing all of CONFIG_PM while it is being repeatedly
    smacked with a lead pipe, moving the BURSTMODE param to a #define (it should
    be defined almost always anyway), fixing the rqsize stuff, pulling ide_ioreg_t,
    and general cleanups and whatnot.
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 65e5f2e3b457b6b20a5c4481312189d141a33d24
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Thu Dec 15 02:16:18 2005 +0100

    [PATCH] ide: core modifications for AU1200
    
    bart: slightly modified by me
    
    Signed-off-by: Jordan Crouse <jordan.crouse@amd.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 38f9d412be1ed29ee3b41782f22fd85b1c95fbed
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Thu Dec 15 02:12:53 2005 +0100

    [PATCH] ide: MPC8xx IDE depends on IDE=y && BLK_DEV_IDE=y
    
    The following patch adds a dependancy on IDE=y && BLK_DEV_IDE=y
    for the MPC8xx IDE driver.
    
    The code is not modular at the moment (init called from platform setup code).
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit ceef833bae05e393859f1946a9802fb61f0febdf
Author: Daniel Drake <dsd@gentoo.org>
Date:   Thu Dec 15 02:11:55 2005 +0100

    [PATCH] via82cxxx IDE: Add VT8251 ISA bridge
    
    Some motherboards (such as the Asus P5V800-MX) ship a
    PCI_DEVICE_ID_VIA_82C586_1 IDE controller alongside a VT8251 southbridge.
    
    This southbridge is currently unrecognised in the via82cxxx IDE driver,
    preventing those users from getting DMA access to disks.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit deb5e5c0c68e59b1bf9ede66da9e6a89f6557595
Author: Jeremy Higdon <jeremy@sgi.com>
Date:   Thu Dec 15 02:10:35 2005 +0100

    [PATCH] sgiioc4: check for no hwifs available
    
    Add a check to the sgiioc4 driver for the case where all available
    ide_hwifs structures are in use.
    
    Signed-off-by: Jeremy Higdon <jeremy@sgi.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit a388442c3798a345d131ff8b9d6dea0bfda3fefc
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Dec 14 16:23:16 2005 -0800

    [VLAN]: Fix hardware rx csum errors
    
    Receiving VLAN packets over a device (without VLAN assist) that is
    doing hardware checksumming (CHECKSUM_HW), causes errors because the
    VLAN code forgets to adjust the hardware checksum.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 28247644cc07b54a798d997631d01531f2d9acfd
Merge: 1542272... c786804...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Dec 14 16:21:48 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit c7868048a7314bb4a2973097d605f00acd3b70bd
Merge: 9d149c2... c2e2611...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 15:48:06 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 9d149c27eb1581edd239c0db96a407a4fc5e9f18
Merge: 27af4cf... 45f8245...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Dec 14 15:46:46 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit c2e2611425a956d25d2948c5d95d3848c4db1257
Author: Daniel Jacobowitz <drow@false.org>
Date:   Wed Dec 14 22:04:22 2005 +0000

    [ARM] 3205/1: Handle new EABI relocations when loading kernel modules.
    
    Patch from Daniel Jacobowitz
    
    Handle new EABI relocations when loading kernel modules.  This is
    necessary for CONFIG_AEABI kernels, and also for some broken
    (since fixed) old ABI toolchains.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1542272a60ab9c0655a13ead8b7d7a661365f9fb
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Dec 14 12:55:24 2005 -0800

    [GRE]: Fix hardware checksum modification
    
    The skb_postpull_rcsum introduced a bug to the checksum modification.
    Although the length pulled is offset bytes, the origin of the pulling
    is the GRE header, not the IP header.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 27af4cfd11883073359bd5acab1962b0fa96a3bf
Author: Robin Holt <holt@sgi.com>
Date:   Wed Dec 14 06:58:05 2005 -0600

    [IA64] fix for SET_PERSONALITY when CONFIG_IA32_SUPPORT is not set.
    
    Missed this when fixing the SET_PERSONALITY change.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 45f8245b972e360c19aec9032e2a2033b8ac3719
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Dec 14 14:57:35 2005 +0000

    [MMC] Explain the internals of mmc_power_up()
    
    It seems that people get confused about what is happening in
    mmc_power_up().  Add a comment to make it clear why we have
    a two stage process.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d3e4cefc86ce1aefc0e9aebdc56308cb4bd51997
Merge: 927fe18... acd9b7b...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Dec 14 02:59:50 2005 -0500

    Auto-update from upstream

commit acd9b7b4e08a3f0f48afa922d8e371414cf2d3b2
Merge: 2edc268... 6921d20...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 13 23:08:24 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/tg3-2.6

commit 2edc2689f8183dd21c45621a01580b340ac420ba
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Dec 13 22:59:50 2005 -0800

    [PKT_SCHED]: Disable debug tracing logs by default in packet action API.
    
    Noticed by Andi Kleen.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a1493d9cd1aaed06860d128a37df1bdfbc61f7c8
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Dec 13 22:59:36 2005 -0800

    [IPV6] addrconf: Do not print device pointer in privacy log message.
    
    Noticed by Andi Kleen, it is pointless to emit the device
    structure pointer in the kernel logs like this.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c9526497cf03ee775c3a6f8ba62335735f98de7a
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Fri Dec 9 17:45:22 2005 -0500

    [SCSI] Consolidate REQ_BLOCK_PC handling path (fix ipod panic)
    
    This follows on from Jens' patch and consolidates all of the ULD
    separate handlers for REQ_BLOCK_PC into a single call which has his
    fix for our direction bug.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cd6104572bca9e4afe0dcdb8ecd65ef90b01297b
Author: Adam Kropelin <akropel1@rochester.rr.com>
Date:   Tue Dec 13 17:03:39 2005 -0800

    [PATCH] hid-core: Zero-pad truncated reports
    
    When it detects a truncated report, hid-core emits a warning and then
    processes the report as usual.  This is good because it allows buggy
    devices to still get data thru to userspace.  However, the missing bytes of
    the report should be cleared before processing, otherwise userspace will be
    handed partially-uninitialized data.
    
    This fixes Debian tracker bug #330487.
    
    Signed-off-by: Adam Kropelin <akropel1@rochester.rr.com>
    Cc: Vojtech Pavlik <vojtech@suse.cz>
    Acked-by: Dmitry Torokhov <dtor_core@ameritech.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb79ffa4ddbe3f6f30fdb8429b5bad84d25ae6ef
Author: Ole Reinhardt <ole.reinhardt@kernelconcepts.de>
Date:   Tue Dec 13 17:03:38 2005 -0800

    [PATCH] fbdev: make pxafb more robust to errors with CONFIG_FB_PXA_PARAMETERS
    
    pxafb.c runs into an oops if CONFIG_FB_PXA_PARAMETERS is enabled and no
    parameters are set in command line.  The following patch avoids this
    problem.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Cc: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 118c71bcacce82a4317c9bd99c6a15af14020aee
Author: Yasunori Goto <y-goto@jp.fujitsu.com>
Date:   Tue Dec 13 17:03:37 2005 -0800

    [PATCH] Fix calculation of grow_pgdat_span() in mm/memory_hotplug.c
    
    The calculation for node_spanned_pages at grow_pgdat_span() is clearly
    wrong.  This is patch for it.
    
    (Please see grow_zone_span() to compare. It is correct.)
    
    Signed-off-by: Yasunori Goto <y-goto@jp.fujitsu.com>
    Acked-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 664d22ab954de54e52e0f71103a89c7a78738adc
Author: Vojtech Pavlik <vojtech@ucw.cz>
Date:   Tue Dec 13 17:03:36 2005 -0800

    [PATCH] Dmitry Torokhov is input subsystem maintainer
    
    I haven't been very actively maintaining the input layer in past months,
    mostly because of my lack of time to concentrate on that.  For that reason,
    I've decided to pass the maintainership of the Linux Input Layer to Dmitry
    Torokhov, whom I trust to do the job very well.
    
    Signed-off-by: Vojtech Pavlik <vojtech@suse.cz>
    Cc: Dmitry Torokhov <dtor_core@ameritech.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6921d201f77e14848df2eaa597e26525f468abea
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Dec 13 21:15:53 2005 -0800

    [TG3]: Fix low power state
    
    Fix the following bugs in tg3_set_power_state():
    
    1. Both WOL and ASF flags require switching to aux power.
    
    2. Add a missing handshake with firmware to enable WOL.
    
    3. Turn off the PHY if both WOL and ASF are disabled.
    
    4. Add nvram arbitration before halting the firmware.
    
    5. Fix tg3_setup_copper_phy() to switch to 100Mbps when
       changing to low power state.
    
    Update revision and date.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 16fe9d74f14ed74af778c5db7f9129e29916f4a7
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Dec 13 21:09:54 2005 -0800

    [TG3]: Fix 5704 single-port mode
    
    If the dual-port 5704 is configured as a single-port device with
    only one PCI function, it would trigger a BUG() condition in
    tg3_find_5704_peer(). This fixes the problem by returning its
    own pdev if the peer cannot be found.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6a9eba15f51c56da637e45ea1316eaa2a848986a
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Dec 13 21:08:58 2005 -0800

    [TG3]: Fix suspend and resume
    
    Fix tg3_suspend() and tg3_resume() by clearing and setting the
    TG3_FLAG_INIT_COMPLETE flag when appropriate. tg3_set_power_state()
    looks at TG3_FLAG_INIT_COMPLETE on the peer device to determine
    when to appropriately switch to aux power.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 381291b7d3e17ac966498312dc571dcca1b93efc
Author: Michael Chan <mchan@broadcom.com>
Date:   Tue Dec 13 21:08:21 2005 -0800

    [TG3]: Fix nvram arbitration bugs.
    
    The nvram arbitration rules were not strictly followed in a few places
    and this could lead to reading corrupted values from the nvram.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 322e079f1b606e46b79bb8b8e6cf6110b5f2aa3f
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:40 2005 -0500

    [SCSI] Negotiate correctly with async-only devices
    
    When we got a device only capable of async, we would zero out goal->period
    which would cause us to try PPR negotiations.  Leave goal->period alone,
    and check goal->offset before doing PPR.  Kudos to Daniel Forsgren for
    figuring this out.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 65ab592dc5b34caebabfe1340e7c18f52a785079
Merge: 0910b44... eed66cf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 13 12:36:54 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 0910b444bcd7ea7f437a3ff48e0e3d2495ead22e
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 13 11:39:05 2005 -0800

    Expose "Optimize for size" option for everybody
    
    Let's put my money where my mouth is.  Smaller code is almost always
    faster, if only because a single I$ miss ends up leaving a lot of cycles
    to make up for.  And system software - kernels in particular - are known
    for taking more cache misses than most other kinds.
    
    On my random config, this made the kernel about 10% smaller, and lmbench
    seems to say that it's pretty uniformly faster too. Your milage may vary.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eed66cfcbbea851c97e287440d940286fce3f829
Author: Tony Luck <tony.luck@intel.com>
Date:   Tue Dec 13 10:41:49 2005 -0800

    [IA64] Split 16-bit severity field in sal_log_record_header
    
    ERR_SEVERITY item is defined as a 8 bits item in SAL documentation
    ($B.2.1 rev december 2003), but as an u16 in sal.h.
    This has the side effect that current code in mca.c may not call
    ia64_sal_clear_state_info() upon receiving corrected platform errors
    if there are bits set in the validation byte.  Reported by Xavier Bru.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 83bab9a4bbf91af93f45233dc288c4d26308e281
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Dec 13 02:58:07 2005 +0100

    [PATCH] allow KOBJECT_UEVENT=n only if EMBEDDED
    
    KOBJECT_UEVENT=n seems to be a common pitfall for udev users in 2.6.14 .
    
    -mm already contains a bigger patch removing this option that is IMHO
    too big for being applied now to 2.6.15-rc.
    
    This patch simply allows KOBJECT_UEVENT=n only if EMBEDDED.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90ac8f7741be4ff66de1f52904f4f67f272f74ce
Merge: 98684a9... 5063019...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Dec 13 08:53:56 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 98684a9d91bceff829b6dc7adf0f662d59cfa6e3
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 11:35:22 2005 -0500

    [netdrvr skge] fix build

commit 50630195bbdfe1ca775d94cd68a5f18bc1b717e4
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Dec 13 02:29:45 2005 -0500

    [libata] mark certain hardware (or drivers) with a no-atapi flag
    
    Some hardware does not support the PACKET command at all.
    Other hardware supports ATAPI, but the driver does something nasty such
    as calling BUG() when an ATAPI command is issued.
    
    For these such cases, we mark them with a new flag, ATA_FLAG_NO_ATAPI.
    
    Initial version contributed by Ben Collins.

commit be0d9b6c7aeaad1683059c00131cabd4c894c17c
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 12 22:17:21 2005 -0800

    [PATCH] fbdev: Fix incorrect unaligned access in little-endian machines
    
    The drawing function cfbfillrect does not work correctly when access is not
    unsigned-long aligned.  It manifests as extra lines of pixels that are not
    complete drawn.  Reversing the shift operator solves the problem, so I would
    presume that this bug would manifest only on little endian machines.  The
    function cfbcopyarea may also have this bug.
    
    Aligned access should present no problems.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7275b4b6bc2f783c135c3f0eeecc4fdc6e788aa8
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 12 22:17:20 2005 -0800

    [PATCH] fbdev: Shift pixel value before entering loop in cfbimageblit
    
    In slow imageblit, the pixel value is shifted by a certain amount (dependent
    on the bpp and endianness) for each iteration.  This is inefficient.  Better
    do the shifting once before going into the loop.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39942fd8ff57c8623451bbfaffe8a184cc8b463a
Author: Knut Petersen <Knut_Petersen@t-online.de>
Date:   Mon Dec 12 22:17:19 2005 -0800

    [PATCH] fbdev: fix switch to KD_TEXT, enhanced version
    
    Every framebuffer driver relies on the assumption that the set_par()
    function of the driver is called before drawing functions and other
    functions dependent on the hardware state are executed.
    
    Whenever you switch from X to a framebuffer console for the very first
    time, there is a chance that a broken X system has _not_ set the mode to
    KD_GRAPHICS, thus the vt and framebuffer code executes a screen redraw and
    several other functions before a set_par() is executed.  This is believed
    to be not a bug of linux but a bug of X/xdm.  At least some X releases used
    by SuSE and Debian show this behaviour.
    
    There was a 2nd case, but that has been fixed by Antonino Daplas on
    10-dec-2005.
    
    This patch allows drivers to set a flag to inform fbcon_switch() that they
    prefer a set_par() call on every console switch, working around the
    problems caused by the broken X releases.
    
    The flag will be used by the next release of cyblafb and might help other
    drivers that assume a hardware state different to the one used by X.
    
    As the default behaviour does not change, this patch should be acceptable
    to everybody.
    
    Signed-off-by: Knut Petersen <Knut_Petersen@t-online.de>
    Acked-by: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e1567d3aad9bae0ecc5bb047179cd026bfb035c
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 12 22:17:18 2005 -0800

    [PATCH] fbcon: Avoid illegal display panning
    
    Avoid calls to fb_pan_display when driver is suspended or not in text mode.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1207069f6f8f3d1b71641fdaa6cc04fca6fff9f5
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 12 22:17:17 2005 -0800

    [PATCH] fbdev: Pan display fixes
    
    - Fix fb_pan_display rejecting yoffsets that are valid if panning mode
      is ywrap.
    
    - Add more robust error checking in fb_pan_display specially since this
      function is accessible by userland apps.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4743484718e1d710321f24f8ef7d0124a48291b3
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Dec 12 22:17:16 2005 -0800

    [PATCH] fbcon: Add ability to save/restore graphics state
    
    Add hooks to save and restore the graphics state.  These hooks are called in
    fbcon_blank() when entering/leaving KD_GRAPHICS mode.  This is needed by
    savagefb at least so it can cooperate with savage_dri and by cyblafb.
    
    State save/restoration can be full or partial.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 56f0d64de80733bda54d1cfa7ac0c736ab2de33b
Author: Antonino Daplas <adaplas@pol.net>
Date:   Mon Dec 12 22:17:15 2005 -0800

    [PATCH] fbcon: fix complement_mask() with 512 character map
    
    There is a bug in the complement_mask when you have a 512-character map.
    Linux boots to a default 256-character map and most probably your login
    profile is loading a 512-character map which results in a bad gpm cursor.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f6331faf58a4727a9f1138cd6db30d05b124220
Author: Mike Miller <mike.miller@hp.com>
Date:   Mon Dec 12 22:17:14 2005 -0800

    [PATCH] cciss: fix for deregister_disk
    
    This patch adds setting our drv->queue = NULL back in deregister_disk.  The
    drv->queue is part of our controller struct.  blk_cleanup_queue works only
    on the queue in the gendisk struct.
    
    Signed-off-by: Mike Miller <mike.miller@hp.com>
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8309cf66fd90ccba9894adde2f3a8d7e1507e4d2
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Mon Dec 12 22:17:14 2005 -0800

    [PATCH] x86_64: Bug correction in populate_memnodemap()
    
    As reported by Keith Mannthey, there are problems in populate_memnodemap()
    
    The bug was that the compute_hash_shift() was returning 31, with incorrect
    initialization of memnodemap[]
    
    To correct the bug, we must use (1UL << shift) instead of (1 << shift) to
    avoid an integer overflow, and we must check that shift < 64 to avoid an
    infinite loop.
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd4954714e8e7db9f6eb5878fa6111c46445ca81
Author: john stultz <johnstul@us.ibm.com>
Date:   Mon Dec 12 22:17:13 2005 -0800

    [PATCH] x86_64: Fix collision between pmtimer and pit/hpet
    
    On systems that do not support the HPET legacy functions (basically the IBM
    x460, but there could be others), in time_init() we accidentally fall into a
    PM timer conditional and set the vxtime_hz value to the PM timer's frequency.
    We then use this value with the HPET for timekeeping.
    
    This patch (which mimics the behavior in time_init_gtod) corrects the
    collision.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df818a52fb5e64c72b21029fb9ba80583106932c
Author: Andi Kleen <ak@suse.de>
Date:   Mon Dec 12 22:17:12 2005 -0800

    [PATCH] x86_64: Fix 32bit thread coredumps
    
    When a register set is passed in don't try to fix up the pointer.
    
    Noticed by Al Viro
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6ece5491ae71ded1237f59def88bcd1b19b6f60
Author: Andi Kleen <ak@suse.de>
Date:   Mon Dec 12 22:17:11 2005 -0800

    [PATCH] i386/x86-64 Correct for broken MCFG tables on K8 systems
    
    They report all busses as MMCONFIG capable, but it never works for the
    internal devices in the CPU's builtin northbridge.
    
    It just probes all func 0 devices on bus 0 (the internal northbridge is
    currently always on bus 0) and if they are not accessible using MCFG they are
    put into a special fallback bitmap.
    
    On systems where it isn't we assume the BIOS vendor supplied correct MCFG.
    
    Requires the earlier patch for mmconfig type1 fallback
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 928cf8c62763349efc550a12f6518e52c3390906
Author: Andi Kleen <ak@suse.de>
Date:   Mon Dec 12 22:17:10 2005 -0800

    [PATCH] i386/x86-64 Fall back to type 1 access when no entry found
    
    When there is no entry for a bus in MCFG fall back to type1.  This is
    especially important on K8 systems where always some devices can't be accessed
    using mmconfig (in particular the builtin northbridge doesn't support it for
    its own devices)
    
    Cc: <gregkh@suse.de>
    Cc: <jgarzik@pobox.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf5421c309bb89e5106452bc840983b1b4754d61
Author: Andi Kleen <ak@suse.de>
Date:   Mon Dec 12 22:17:09 2005 -0800

    [PATCH] i386/x86-64: Don't call change_page_attr with a spinlock held
    
    It's illegal because it can sleep.
    
    Use a two step lookup scheme instead.  First look up the vm_struct, then
    change the direct mapping, then finally unmap it.  That's ok because nobody
    can change the particular virtual address range as long as the vm_struct is
    still in the global list.
    
    Also added some LinuxDoc documentation to iounmap.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5e9ef02ec00c70840661d174dc2f4862db471bb6
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Mon Dec 12 22:17:08 2005 -0800

    [PATCH] i386/x86-64 disable LAPIC completely for offline CPU
    
    Disabling LAPIC timer isn't sufficient.  In some situations, such as we
    enabled NMI watchdog, there is still unexpected interrupt (such as NMI)
    invoked in offline CPU.  This also avoids offline CPU receives spurious
    interrupt and anything similar.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68e188911263adb06e28fa2c9dc9e017774de68d
Author: Andi Kleen <ak@suse.de>
Date:   Mon Dec 12 22:17:07 2005 -0800

    [PATCH] x86_64: Make sure hpet_address is 0 when any part of HPET initialization fails
    
    Otherwise TSC->HPET fallback could see incorrect state and crash later.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7cd082f0147c5fc94b455bcc17fe21b22dbac703
Merge: b11d0e4... 1cf9e8a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 21:42:17 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit b11d0e48aa41b644143ca526ef8d69212fdc1cdd
Merge: 47807ce... dfa1598...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 21:41:58 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 47807ce381acc34a7ffee2b42e35e96c0f322e52
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Dec 13 04:18:41 2005 +0000

    [drm] fix radeon aperture issue
    
    Ben noticed that on certain cards we've landed the AGP space on top of
    the second aperture instead of after it..  Which messes things up a lot
    on those machines.
    
    This just moves the gart further out, a more correct fix is in the works
    from Ben for after 2.6.15.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>
    CC: Ben Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1cf9e8a7865c0ac216034e519cf6b8505055ea50
Author: Olaf Hering <olh@suse.de>
Date:   Thu Dec 1 21:22:37 2005 +0100

    [PATCH] ieee80211_crypt_tkip depends on NET_RADIO
    
    *** Warning: ".wireless_send_event" [net/ieee80211/ieee80211_crypt_tkip.ko] undefined!
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    
     net/ieee80211/Kconfig |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 525352eb6d355bef6adf597252fc6d04f2dbe66c
Merge: d51e86c... 0e67050...
Author: Jody McIntyre <scjody@modernduck.com>
Date:   Mon Dec 12 23:34:32 2005 -0500

    Merge with http://kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit ee1c81917a0c10f44c1b400482b8372e68238ff8
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 6 15:01:49 2005 -0800

    [PATCH] skge: get rid of warning on race
    
    Get rid of warning in case of race with ring full and lockless
    tx on the skge driver. It is possible to be in the transmit
    routine with no available slots and already stopped.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d51e86c18a479f1dbcef3aa20e58ad04d1233016
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Mon Dec 5 16:28:59 2005 -0500

    ieee1394: write broadcast_channel only to select nodes (fixes device recognition)
    
    Some old 1394-1995 SBP-2 bridges would hang if they received a broadcast write
    request to BROADCAST_CHANNEL before the config ROM was read.  Affected devices
    include Datafab MD2-FW2 2.5" HDD and SmartDisk VST FWCDRW-V8 portable CD writer.
    The write request is now directed to specific nodes instead of being broadcast
    to all nodes at once, and it is only performed if a previous read request at
    this register succeeded.
    
    Fixes an old interoperability problem which was perceived as a 2.6.14-specific
    regression: http://marc.theaimsgroup.com/?t=113190586800003
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>
    (cherry picked from 61c7f775ca25ccfc0e51486103a724fb1a3a08f2 commit)

commit 48622b7bde008387218a416586e9d072b385f1ae
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Thu Dec 1 18:51:52 2005 -0500

    ieee1394: resume remote ports when starting a host (fixes device recognition)
    
    After initializing an IEEE 1394 host, broadcast a resume packet.  This makes
    remote nodes visible which suspended their ports while the host was down.
    Such nodes had to be unplugged and replugged in order to be recognized.
    
    Motorola DCT6200 cable reciever was affected, probably other devices too.
    http://marc.theaimsgroup.com/?t=113202715800001
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: Jody McIntyre <scjody@modernduck.com>
    (cherry picked from 14c0fa243b358c24040ff5f44b60c47aaf6430c3 commit)

commit dfa159886f38344ede31e3b13ec614e0bebc09c6
Author: Mark Lord <liml@rtr.ca>
Date:   Mon Dec 12 23:19:28 2005 -0500

    [PATCH] libata-core.c:  fix parameter bug on kunmap_atomic() calls
    
    Fix incorrect pointer usage on two calls to kunmap_atomic().
    This seems to happen a lot, because kunmap() wants the struct page *,
    whereas kunmap_atomic() instead wants the mapped virtual address.
    
    Signed-off-by: Mark Lord <liml@rtr.ca>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0e670506668a43e1355b8f10c33d081a676bd521
Merge: 238523e... bf7ecec...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 16:48:29 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 238523e1a15874b88955ff9c8f63e35597ae2857
Merge: 1ff8038... 016cc85...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 16:41:37 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 1ff8038988adecfde71d82c0597727fc239d4e8c
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 16:24:33 2005 -0800

    get_user_pages: don't try to follow PFNMAP pages
    
    Nick Piggin points out that a few drivers play games with VM_IO (why?
    who knows..) and thus a pfn-remapped area may not have that bit set even
    if remap_pfn_range() set it originally.
    
    So make it explicit in get_user_pages() that we don't follow VM_PFNMAP
    pages, since pretty much by definition they do not have a "struct page"
    associated with them.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 14ee0a1414536d27bc29373bf23c106b8ef8ce0b
Merge: 225bc8f... 2f9616d...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:49:56 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/nf-2.6

commit 225bc8f1c7f534c01a4a8387b0d5fc9ee3830029
Merge: 94d40b6... ecc51b6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:49:45 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 94d40b699f0b9fb1b1da3b6abcd31d37c9aa2c22
Merge: 062dfa4... 1df2ab4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:49:27 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 062dfa433cce9a2c3941b3b8b96ae678f11230fa
Merge: 7c9dfb5... 22f975f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:25:58 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 7c9dfb5999a7ba90e93a96d9f3ce55a9e4978ad5
Merge: 1ff9ba7... e781de4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:25:15 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 1ff9ba7af6033475998be61c7d1dc0e0c8c11181
Merge: 66e0522... c2cd6d3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 15:24:36 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 2f9616d4c44349c903bc1b54fe46ab0ce0210b74
Author: Marcus Sundberg <marcus@ingate.com>
Date:   Mon Dec 12 15:02:48 2005 -0800

    [NETFILTER]: ip_nat_tftp: Fix expectation NAT
    
    When a TFTP client is SNATed so that the port is also changed, the
    port is never changed back for the expected connection.
    
    Signed-off-by: Marcus Sundberg <marcus@ingate.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1df2ab48f995b1599740a3f430df77fe24cb8ce9
Author: Paul Jackson <pj@sgi.com>
Date:   Mon Dec 12 14:42:44 2005 -0800

    [SPARC]: block/ needed in final image link
    
    With this fix, sparc links vmlinuz again using crosstool.  Without this
    fix, the final link fails missing several dozen dozen symbols, beginning
    with:
    
        kernel/built-in.o(.text+0x6fd0): In function `do_exit':
        : undefined reference to `exit_io_context'
    
    (exit_io_context is defined in block/ll_rw_blk.c).
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1d66a79dc8dd892c0db04396a0b1d05e0f53fe4f
Author: Paul Jackson <pj@sgi.com>
Date:   Mon Dec 12 14:42:31 2005 -0800

    [SPARC]: atomic_clear_mask build fix
    
    This fixes one build error introduced in sparc with the patch of Oct 30,
    resent Nov 4 "[patch 3/5] atomic: atomic_inc_not_zero" I still can't get
    sparc to build, but at least it gets further after I remove this line.
    Apparently, this change was agreed to by Andrew and Nick on Nov 14, but
    everyone thought someone else was doing it.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2c27d4e53043de1c821e0af09e08dee3e92a01d6
Author: Hareesh Nagarajan <hnagar2@gmail.com>
Date:   Mon Dec 12 14:42:07 2005 -0800

    [SBUSFB] tcx: Use FB_BLANK_UNBLANK instead of magic constant.
    
    From: Hareesh Nagarajan <hnagar2@gmail.com>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 806f7bf605bdb0f2ea2253f832943890edb85d83
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Dec 12 14:41:20 2005 -0800

    [SBUSFB]: Kill 'list' member from foo_par structs, totally unused.
    
    Based upon a patch from Hareesh Nagarajan.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ecc51b6d5ca04bb6346c9ad6b37d6ca8bace12b3
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Mon Dec 12 14:38:10 2005 -0800

    [TCPv6]: Fix skb leak
    
    Spotted by Francois Romieu, thanks!
    
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 66e05225262cd9271fac13fe2fd1e9edb65e3978
Author: Brian King <brking@us.ibm.com>
Date:   Mon Dec 12 13:05:08 2005 -0600

    [PATCH] Fix SCSI scanning slab corruption
    
    There is a double free in the scsi scan code if a LLDD's slave_alloc()
    call fails.  There is a direct call to scsi_free_queue and then the
    following put_device calls the release function, which also frees the
    queue.
    
    Remove the redundant scsi_free_queue.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Tested-by: Nathan Lynch <ntl@pobox.com>
    [ Also removed some strange whitespace artifacts in that area ]
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 016cc85072944bfa03c5e4b587ae89588ce2e5df
Author: Olaf Hering <olh@suse.de>
Date:   Fri Dec 9 19:12:10 2005 +0100

    [PATCH] pcnet32: use MAC address from prom also on powerpc
    
    The CSR contains garbage after a coldboot on RS/6000.
    One some systems (like my 44p 270) the MAC address is all FF,
    on others (like my B50) it is ff:ff:ff:fd:ff:6b.
    
    It can eventually be fixed by loading pcnet32, set the interface
    into the UP state, rmmod pcnet32 and load it again. But this worked
    only on the 270.
    
    Only netbooting after a cold start provides the correct MAC address
    via prom and CSR. This makes it very unreliable.
    I dont know why the MAC is stored in two different places. Remove
    the special case for powerpc, which was added in early 2.4 development.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    
     drivers/net/pcnet32.c |    5 -----
     1 files changed, 5 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 20234989a8ae0ff418e2acdef72205fb7cb3f819
Merge: 92f268e... 49d7bc6...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Dec 12 15:30:15 2005 -0500

    Merge branch 'master'

commit 1a68de5c08be8c77c4ad208306187bd95107c7cd
Author: Brian King <brking@us.ibm.com>
Date:   Mon Dec 12 13:05:08 2005 -0600

    [SCSI] fix double free of scsi request queue
    
    Current scsi scanning code appears to have a use after free
    bug is a LLDD's slave_alloc fails. Remove the redundant
    scsi_free_queue.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 49d7bc64283970ee83d2c954d04ba00d04e5943d
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Dec 12 11:25:04 2005 -0800

    Revert revert of "[SCSI] fix usb storage oops"
    
    This reverts commit 1b0997f561bf46689cc6e0903f342e9bf2506bf1, which in
    turn reverted 34ea80ec6a02ad02e6b9c75c478c18e5880d6713 (which is thus
    re-instated).
    
    Quoth James Bottomley:
    
      "All it's doing is deferring the device_put() from the
       scsi_put_command() to after the scsi_run_queue(), which doesn't fix
       the sleep while atomic problem of the device release method.  In both
       cases we still get the semaphore in atomic context problem which is
       caused by scsi_reap_target() doing a device_del(), which I assumed
       (wrongly) was valid from atomic context."
    
    who also promised to fix scsi_reap_target().
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5036805be7b815eb18dcce489d974f3aee4f3841
Author: Neil Brown <neilb@suse.de>
Date:   Mon Dec 12 02:39:17 2005 -0800

    [PATCH] md: use correct size of raid5 stripe cache when measuring how full it is
    
    The raid5 stripe cache was recently changed from fixed size (NR_STRIPES) to
    variable size (conf->max_nr_stripes).  However there are two places that still
    use the constant and as a result, reducing the size of the stripe cache can
    result in a deadlock.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3795bb0fc52fe2af2749f3ad2185cb9c90871ef8
Author: Neil Brown <neilb@suse.de>
Date:   Mon Dec 12 02:39:16 2005 -0800

    [PATCH] md: fix a use-after-free bug in raid1
    
    Who would submit code with a FIXME like that in it !!!!
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0de502aa44aae5712a18d471818d6c785e07c92e
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Dec 12 00:37:41 2005 -0800

    [PATCH] raw driver: Kconfig fix
    
    CONFIG_MAX_RAW_DEVS should appear immediately after CONFIG_RAW_DRIVER.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a64882e795cc1d890e3359d0aa143af1cf67e8d4
Author: Dave Jones <davej@redhat.com>
Date:   Mon Dec 12 00:37:40 2005 -0800

    [PATCH] ACPI: fix sleeping whilst atomic warnings on resume
    
    This has been broken for months.  On resume, we call acpi_pci_link_set()
    with interrupts off, so we get a warning when we try to do a kmalloc of non
    atomic memory.  The actual allocation is just 2 long's (plus extra byte for
    some reason I can't fathom), so a simple conversion to GFP_ATOMIC is
    probably the safest way to fix this.
    
    The error looks like this..
    
    Debug: sleeping function called from invalid context at mm/slab.c:2486
    in_atomic():0, irqs_disabled():1
     [<c0143f6c>] kmem_cache_alloc+0x40/0x56
     [<c0206a2e>] acpi_pci_link_set+0x3f/0x17f
     [<c0206f96>] irqrouter_resume+0x1e/0x3c
     [<c0239bca>] __sysdev_resume+0x11/0x6b
     [<c0239e88>] sysdev_resume+0x34/0x52
     [<c023de21>] device_power_up+0x5/0xa
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Cc: "Brown, Len" <len.brown@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66d43e98ea6ff291cd4e524386bfb99105feb180
Author: Haren Myneni <haren@us.ibm.com>
Date:   Mon Dec 12 00:37:39 2005 -0800

    [PATCH] fix in __alloc_bootmem_core() when there is no free page in first node's memory
    
    Hitting BUG_ON() in __alloc_bootmem_core() when there is no free page
    available in the first node's memory.  For the case of kdump on PPC64
    (Power 4 machine), the captured kernel is used two memory regions - memory
    for TCE tables (tce-base and tce-size at top of RAM and reserved) and
    captured kernel memory region (crashk_base and crashk_size).  Since we
    reserve the memory for the first node, we should be returning from
    __alloc_bootmem_core() to search for the next node (pg_dat).
    
    Currently, find_next_zero_bit() is returning the n^th bit (eidx) when there
    is no free page.  Then, test_bit() is failed since we set 0xff only for the
    actual size initially (init_bootmem_core()) even though rounded up to one
    page for bdata->node_bootmem_map.  We are hitting the BUG_ON after failing
    to enter second "for" loop.
    
    Signed-off-by: Haren Myneni <haren@us.ibm.com>
    Cc: Andy Whitcroft <apw@shadowen.org>
    Cc: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff9569bc5558e958777fd43580f2ccd83733cdf6
Author: Yasunori Goto <y-goto@jp.fujitsu.com>
Date:   Mon Dec 12 00:37:37 2005 -0800

    [PATCH] Fix Kconfig of DMA32 for ia64
    
    I realized ZONE_DMA32 has a trivial bug at Kconfig for ia64.  In
    include/linux/gfp.h on 2.6.15-rc5-mm1, CONFIG is define like followings.
    
    #ifdef CONFIG_DMA_IS_DMA32
    #define __GFP_DMA32	((__force gfp_t)0x01)	/* ZONE_DMA is ZONE_DMA32
    */
           :
           :
    
    So, CONFIG_"ZONE"_DMA_IS_DMA32 is clearly wrong.
    
    Signed-off-by: Yasunori Goto <y-goto@jp.fujitsu.com>
    Cc: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1393c3edc307e0a2ec4274f67e342907ffd7deb5
Author: Nicolas Pitre <nico@cam.org>
Date:   Mon Dec 12 00:37:36 2005 -0800

    [PATCH] input: fix ucb1x00-ts breakage after conversion to dynamic input_dev allocation
    
    The bd622663192e8ebebb27dc1d9397f352a82d2495 commit broke the UCB1x00
    touchscreen driver since the idev structure was assumed to be into the ts
    structure, simply casting the former to the later in a couple places.
    
    This patch fixes those, and also cache the idev pointer between multiple
    calls to input_report_abs() to avoid growing the compiled code needlessly.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Cc: Dmitry Torokhov <dtor_core@ameritech.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68799398cea44b81d1e919f842d8d84d471053d5
Author: Dave Jones <davej@redhat.com>
Date:   Mon Dec 12 00:37:35 2005 -0800

    [PATCH] broken cast in parport_pc
    
    Spotted by a Fedora user.  Compiling with DEBUG_PARPORT set fails due to
    the broken cast.
    
    Just remove it.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf8d5c52c3b6b27061e3b7d779057fd9a6cac164
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Dec 12 00:37:34 2005 -0800

    [PATCH] kprobes: increment kprobe missed count for multiprobes
    
    When multiple probes are registered at the same address and if due to some
    recursion (probe getting triggered within a probe handler), we skip calling
    pre_handlers and just increment nmissed field.
    
    The below patch make sure it walks the list for multiple probes case.
    Without the below patch we get incorrect results of nmissed count for
    multiple probe case.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00d7c05ab168c10f9b520e07400923267bc04419
Author: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
Date:   Mon Dec 12 00:37:33 2005 -0800

    [PATCH] kprobes: no probes on critical path
    
    For Kprobes critical path is the path from debug break exception handler
    till the control reaches kprobes exception code.  No probes can be
    supported in this path as we will end up in recursion.
    
    This patch prevents this by moving the below function to safe __kprobes
    section onto which no probes can be inserted.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cda315aba34ff4fb66bbb2945b723688f3414a75
Author: Matt Domsch <Matt_Domsch@dell.com>
Date:   Mon Dec 12 00:37:32 2005 -0800

    [PATCH] ipmi: fix panic generator ID
    
    The IPMI specifcation says the generator ID is 0x20, but that is for bits
    7-1.  Bit 0 is set to specify it is a software event.  The correct value is
    0x41.  Without this fix, panic events written into the System Event Log
    appear to come from an "unknown" generator, rather than from the kernel.
    
    Signed-off-by: Jordan Hargrave <Jordan_Hargrave@dell.com>
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Acked-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dd815408106f3c56c3050493dda97f9355aa4971
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 12 00:37:31 2005 -0800

    [PATCH] V4L/DVB: (3151) I2C ID renamed to I2C_DRIVERID_INFRARED
    
    I2C ID renamed to I2C_DRIVERID_INFRARED
    
    Acked-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3639c8619d50a6dea8fa106a5c61d848ffdcd3d6
Author: Sascha Sommer <saschasommer@freenet.de>
Date:   Mon Dec 12 00:37:30 2005 -0800

    [PATCH] V4L/DVB: (3113) Convert em28xx to use vm_insert_page instead of remap_pfn_range
    
    Convert em28xx to use vm_insert_page instead of remap_pfn_range
    
    Signed-off-by: Sascha Sommer <saschasommer@freenet.de>
    Signed-off-by: Michael Krufky <mkrufky@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 225a0cb6716da3aafaeb9ed2f8d9a7a1f2af9f09
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Mon Dec 12 00:37:28 2005 -0800

    [PATCH] V4L/DVB: (3135) Fix tuner init for Pinnacle PCTV Stereo
    
    - The Pinnacle PCTV Stereo needs tda9887 port2 set to 1
    
    - Without this patch, mt20xx tuner is not detected and the board
      doesn't tune.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 674434c691e10015660022fc00b04985a23ef87b
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 12 00:37:28 2005 -0800

    [PATCH] V4L/DVB: (3086c) Whitespaces cleanups part 4
    
    Clean up whitespaces at v4l/dvb files
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit afd1a0c9ac281eed3b22b293ccd92af7b0d60889
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 12 00:37:27 2005 -0800

    [PATCH] V4L/DVB: (3086c) Whitespaces cleanups part 3
    
    Clean up whitespaces at v4l/dvb files
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 808824b5f73e361503420ee318ca9689781da034
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 12 00:37:25 2005 -0800

    [PATCH] V4L/DVB: (3086b) Whitespaces cleanups part 2
    
    Clean up whitespaces at v4l/dvb files
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9101e6222cb115240e24160bb90cce425bb74de5
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Mon Dec 12 00:37:24 2005 -0800

    [PATCH] V4L/DVB: (3086a) Whitespaces cleanups part 1
    
    Clean up whitespaces at v4l/dvb files
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68352e6ee3675e23b492c51908951058de4f6fe0
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Dec 12 00:37:23 2005 -0800

    [PATCH] mips: setup_zero_pages count 1
    
    Page count should be initialized to 1 on each of the MIPS empty zero pages,
    to avoid a bad_page warning whenever one of them is freed from all mappings.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Cc: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a4ae749a478f8bca73d4b5b8c1b8cbb178b2db5
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Mon Dec 12 00:37:22 2005 -0800

    [PATCH] Add try_to_freeze to kauditd
    
    kauditd was causing suspends to fail because it refused to freeze.  Adding
    a try_to_freeze() to its sleep loop solves the issue.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf001b26793bd9f8a446577c361226fbcd617182
Author: Pekka J Enberg <penberg@cs.Helsinki.FI>
Date:   Mon Dec 12 00:37:16 2005 -0800

    [PATCH] uml: fix compile error for tt
    
    arch/um/kernel/tt/uaccess.c: In function `copy_from_user_tt':
    arch/um/kernel/tt/uaccess.c:11: error: `FIXADDR_USER_START' undeclared (first use in this function)
    arch/um/kernel/tt/uaccess.c:11: error: (Each undeclared identifier is reported only once
    arch/um/kernel/tt/uaccess.c:11: error: for each function it appears in.)
    
    I get the compile error when I disable CONFIG_MODE_SKAS.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Acked-by: Paolo Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8140a5005bc6f1c9d0fa103460d50d472e6e3426
Author: John McCutchan <ttb@tentacle.dhs.org>
Date:   Mon Dec 12 00:37:14 2005 -0800

    [PATCH] inotify: add two inotify_add_watch flags
    
    The below patch lets userspace have more control over the inodes that
    inotify will watch.  It introduces two new flags.
    
            IN_ONLYDIR -- only watch the inode if it is a directory.
            This is needed to avoid the race that can occur when we want to be
            sure that we are watching a directory.
    
            IN_DONT_FOLLOW -- don't follow a symlink.  In combination
            with IN_ONLYDIR we can make sure that we don't watch the target of
            symlinks.
    
    The issues the flags fix came up when writing the gnome-vfs inotify
    backend.  Default behaviour is unchanged.
    
    Signed-off-by: John McCutchan <ttb@tentacle.dhs.org>
    Acked-by: Robert Love <rml@novell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4788f6d55548e587ced330ece711456f40ec8f1
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Dec 12 00:37:13 2005 -0800

    [PATCH] cciss: double put_disk()
    
    This undoes the put_disk patch I sent in before.
    
    If I had been paying attention I would have seen that we call put_disk
    from free_hba during driver unload.  That's the only time we want to
    call it.  If it's called from deregister disk we may remove the
    controller (cNd0) unintentionally.
    
    Signed-off-by: Mike Miller <mike.miller@hp.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit adad0f331f9c693129e81e233c5461e2e7c3e443
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Mon Dec 12 00:37:12 2005 -0800

    [PATCH] kprobes: fix race in aggregate kprobe registration
    
    When registering multiple kprobes at the same address, we leave a small
    window where the kprobe hlist will not contain a reference to the
    registered kprobe, leading to potentially, a system crash if the breakpoint
    is hit on another processor.
    
    Patch below now automically relpace the old kprobe with the new
    kprobe from the hash list.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Acked-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b88cb42428f14fabdaf947150c00d65891820635
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Dec 12 00:37:11 2005 -0800

    [PATCH] add hlist_replace_rcu()
    
    Add list_replace_rcu: replace old entry by new one.
    
    Signed-off-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5650b736ad328f7f3e4120e8790940289b8ac144
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Dec 12 00:37:10 2005 -0800

    [PATCH] Add timestamp field to process events
    
    This adds a timestamp field to the events sent via the process event
    connector.  The timestamp allows listeners to accurately account the
    duration(s) between a process' events and offers strong means with which
    to determine the order of events with respect to a given task while also
    avoiding the addition of per-task data.
    
    This alters the size and layout of the event structure and hence would
    break compatibility if process events connector as it stands in 2.6.15-rc2
    were released as a mainline kernel.
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64123fd42c7a1e4ebf6acd2399c98caddc7e0c26
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Dec 12 00:37:09 2005 -0800

    [PATCH] Add getnstimestamp function
    
    There are several functions that might seem appropriate for a timestamp:
    
    get_cycles()
    current_kernel_time()
    do_gettimeofday()
    <read jiffies/jiffies_64>
    
    Each has problems with combinations of SMP-safety, low resolution, and
    monotonicity. This patch adds a new function that returns a monotonic SMP-safe
    timestamp with nanosecond resolution where available.
    
    Changes:
    	Split timestamp into separate patch
    	Moved to kernel/time.c
    	Renamed to getnstimestamp
    	Fixed unintended-pointer-arithmetic bug
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 894ec8707ced240b96dc45944790fb35d9a6b03c
Author: Daniel Drake <dsd@gentoo.org>
Date:   Mon Dec 12 00:37:08 2005 -0800

    [PATCH] Fix listxattr() for generic security attributes
    
    Commit f549d6c18c0e8e6cf1bf0e7a47acc1daf7e2cec1 introduced a generic
    fallback for security xattrs, but appears to include a subtle bug.
    
    Gentoo users with kernels with selinux compiled in, and coreutils compiled
    with acl support, noticed that they could not copy files on tmpfs using
    'cp'.
    
    cp (compiled with acl support) copies the file, lists the extended
    attributes on the old file, copies them all to the new file, and then
    exits.  However the listxattr() calls were failing with this odd behaviour:
    
    llistxattr("a.out", (nil), 0)           = 17
    llistxattr("a.out", 0x7fffff8c6cb0, 17) = -1 ERANGE (Numerical result out of
    range)
    
    I believe this is a simple problem in the logic used to check the buffer
    sizes; if the user sends a buffer the exact size of the data, then its ok
    :)
    
    This change solves the problem.
    More info can be found at http://bugs.gentoo.org/113138
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Acked-by: James Morris <jmorris@namei.org>
    Acked-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3f5902325d3053986e7359f706581d8f032e72f
Author: Srivatsa Vaddagiri <vatsa@in.ibm.com>
Date:   Mon Dec 12 00:37:07 2005 -0800

    [PATCH] Fix RCU race in access of nohz_cpu_mask
    
    Accessing nohz_cpu_mask before incrementing rcp->cur is racy.  It can cause
    tickless idle CPUs to be included in rsp->cpumask, which will extend
    graceperiods unnecessarily.
    
    Fix this race.  It has been tested using extensions to RCU torture module
    that forces various CPUs to become idle.
    
    Signed-off-by: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Cc: Dipankar Sarma <dipankar@in.ibm.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89d46b8778f65223f732d82c0166e0abba20fb1e
Author: Srivatsa Vaddagiri <vatsa@in.ibm.com>
Date:   Mon Dec 12 00:37:06 2005 -0800

    [PATCH] Fix bug in RCU torture test
    
    While doing some test of RCU torture module, I hit a OOPS in rcu_do_batch,
    which was trying to processes callback of a module that was just removed.
    This is because we weren't waiting long enough for all callbacks to fire.
    
    Signed-off-by: Srivatsa Vaddagiri <vatsa@in.ibm.com>
    Cc: Dipankar Sarma <dipankar@in.ibm.com>
    Acked-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab4720ec76b756e1f8705e207a7b392b0453afd6
Author: Dipankar Sarma <dipankar@in.ibm.com>
Date:   Mon Dec 12 00:37:05 2005 -0800

    [PATCH] add rcu_barrier() synchronization point
    
    This introduces a new interface - rcu_barrier() which waits until all
    the RCUs queued until this call have been completed.
    
    Reiser4 needs this, because we do more than just freeing memory object
    in our RCU callback: we also remove it from the list hanging off
    super-block.  This means, that before freeing reiser4-specific portion
    of super-block (during umount) we have to wait until all pending RCU
    callbacks are executed.
    
    The only change of reiser4 made to the original patch, is exporting of
    rcu_barrier().
    
    Cc: Hans Reiser <reiser@namesys.com>
    Cc: Vladimir V. Saveliev <vs@namesys.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85b872424984e79519be904e7df02a91ba0a9486
Author: Andreas Gruenbacher <agruen@suse.de>
Date:   Mon Dec 12 00:37:04 2005 -0800

    [PATCH] ext3: fix mount options documentation
    
    Reported by Jacques de Mer and Daniel Drake <dsd@gentoo.org>.
    
    Signed-off-by: Andreas Gruenbacher <agruen@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b6a462c4ab75c1a5293b22562052cdf0e8bfb22
Author: Andreas Schwab <schwab@suse.de>
Date:   Mon Dec 12 00:37:03 2005 -0800

    [PATCH] KERNELRELEASE depends on CONFIG_LOCALVERSION
    
    Sam Ravnborg <sam@ravnborg.org> writes:
    
    > Author: Uwe Zeisberger <zeisberg@informatik.uni-freiburg.de>
    >
    >     [PATCH] kbuild: make kernelrelease in unconfigured kernel prints an error
    >
    >     Do not include .config for target kernelrelease
    
    This is wrong.  KERNELRELEASE depends on CONFIG_LOCALVERSION, thus you
    need .config.
    
    Signed-off-by: Andreas Schwab <schwab@suse.de>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82584ef75b7c14f22028595b0e8aa904464c5240
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Mon Dec 12 00:37:02 2005 -0800

    [PATCH] x86: fix NMI with CPU hotplug
    
    With CPU hotplug enabled, NMI watchdog stoped working.  It appears the
    violation is the cpu_online check in nmi handler.  local ACPI based NMI
    watchdog is initialized before we set CPU online for APs.  It's quite
    possible a NMI is fired before we set CPU online, and that's what happens
    here.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Acked-by: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3e55c727ff7349c5db722fbdb8d99a151e8e0bf
Author: Mao, Bibo <bibo.mao@intel.com>
Date:   Mon Dec 12 00:37:00 2005 -0800

    [PATCH] Kprobes: Reference count the modules when probed on it
    
    When a Kprobes are inserted/removed on a modules, the modules must be ref
    counted so as not to allow to unload while probes are registered on that
    module.
    
    Without this patch, the probed module is free to unload, and when the
    probing module unregister the probe, the kpobes code while trying to
    replace the original instruction might crash.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Mao Bibo <bibo.mao@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3fe968f167975d10c639f03c4934f05a29da73c0
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Dec 12 00:36:59 2005 -0800

    [PATCH] blkmtd: use clear_page_dirty()
    
    SetPageDirty() and ClearPageDirty() are low-level thing which filesystems
    shouldn't be using.  They bypass dirty page accounting.
    
    Cc: David Woodhouse <dwmw2@infradead.org>
    Acked-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf7ececa9b68f4720f1ce344f442435660bcdae7
Author: Keith Owens <kaos@sgi.com>
Date:   Sat Dec 10 14:24:28 2005 +1100

    [IA64] Define an ia64 version of __raw_read_trylock
    
    IA64 is using the generic version of __raw_read_trylock, which always
    waits for the lock to be free instead of returning when the lock is in
    use.  Define an ia64 version of __raw_read_trylock which behaves
    correctly, and drop the generic one.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1ee9530a71686436dbeb5f31dd5b925c39cf71d7
Author: Lothar Wassmann <LW@KARO-electronics.de>
Date:   Mon Dec 12 16:44:05 2005 +0000

    [ARM] 3201/1: PXA27x: Prevent hangup during resume due to inadvertedly enabling MBREQ (replaces: 3198/1)
    
    Patch from Lothar Wassmann
    
    The patch makes sure, that the ouptut functions of pins are restored
    before restoring the Alternat Function settings, preventing pins from
    being intermediately configured for undefined or unwanted alternate
    functions.
    
    Here is the original comment:
    I've got a PXA270 system that uses GPIO80 as nCS4. This system did
    hang on resume. Digging into the problem I found that the processor
    stalled immediately when restoring the GAFR2_U register which restored
    the alternate function for GPIO80. Since the GPDR registers were
    restored after the GAFR registers, the offending GPIO was configured
    as input at this point.
    Thus the alternate function that was in effect after restoring the
    GAFR was in fact the input function "MBREQ" instead of the output
    function "nCS4". The "PXA27x Processor Family Developer's Manual"
    (Footnote in Table 6-1 on page 6-3) states that:
    "The MBREQ alternate function must not be enabled until the PSSR[RDH]
    bit field is cleared. For more details, see Table 3-15, "PSSR Bit
    Definitions" on page 3-71."
    
    There is another note in the Developer's Manual (chapter 24.4.2
    "GPIO operation as Alternate Function" on page 24-4)
    stating that:
    "Configuring a GPIO for an alternate function that is not defined for
    it causes unpredictable results."
    
    Since some GPIOs have no input function defined, and to prevent
    inadvertedly programming the MBREQ function on some pin, the GAFR
    registers should be restored after the GPDR registers have been
    restored.
    
    Additional provisions have to be made when the MBREQ function is
    actually required. The corresponding GAFR bits should not be restored
    with the regular GAFR restore, but must be set only after the PSSR
    bits have been cleared.
    
    Signed-off-by: Lothar Wassmann <LW@KARO-electronics.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 67121172f9753f38689651b613a4850e0e75876f
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 11 20:38:17 2005 -0800

    Allow arbitrary read-only shared pfn-remapping too
    
    The VM layer (for historical reasons) turns a read-only shared mmap into
    a private-like mapping with the VM_MAYWRITE bit clear.  Thus checking
    just VM_SHARED isn't actually sufficient.
    
    So use a trivial helper function for the cases where we wanted to inquire
    if a mapping was COW-like or not.
    
    Moo!
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 913f2d792ff584bf9ebf5968472b3e4ffe0fd9c8
Merge: fe3f205... 73d4f84...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 11 20:23:58 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit fe3f2053fd42148b3ebb7b90de5f20eaf3393860
Merge: 7fc7e2e... ef96943...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 11 20:23:25 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 7fc7e2eeecb599ba719c4c4503100fc8cd6a6920
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 11 19:57:52 2005 -0800

    Remove (at least temporarily) the "incomplete PFN mapping" support
    
    With the previous commit, we can handle arbitrary shared re-mappings
    even without this complexity, and since the only known private mappings
    are for strange users of /dev/mem (which never create an incomplete one),
    there seems to be no reason to support it.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb155c1619f056ae9765eed272cd6aba6e1a7399
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Dec 11 19:46:02 2005 -0800

    Allow arbitrary shared PFNMAP's
    
    A shared mapping doesn't cause COW-pages, so we don't need to worry
    about the whole vm_pgoff logic to decide if a PFN-remapped page has
    gone through COW or not.
    
    This makes it possible to entirely avoid the special "partial remapping"
    logic for the common case.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ef969434005e772218c0b8086539804605070fa8
Author: Johannes Berg <johannes@sipsolutions.net>
Date:   Sat Dec 10 18:41:50 2005 -0800

    [PATCH] ppc32: set smp_tb_synchronized on UP with SMP kernel
    
    ppc32 kernel, when built with CONFIG_SMP and booted on a single CPU
    machine, will not properly set smp_tb_synchronized, thus causing
    gettimeofday() to not use the HW timebase and to be limited to jiffy
    resolution.  This, among others, causes unacceptable pauses when launching
    X.org.
    
    Signed-Off-By: Johannes Berg <johannes@sipsolutions.net>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b39f9485e6cfe1bf21b18b60fd8c631a72a1304d
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Dec 12 13:13:24 2005 +1100

    [PATCH] powerpc: Fix clock spreading setting on some powermacs
    
    The code that sets the clock spreading feature of the Intrepid ASIC
    must not be run on some machine models or those won't boot. This
    fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 22f975f4ffa707ea24507f6899bb9f5a1ff034bc
Author: Nikola Valerjev <nikola@ghs.com>
Date:   Sat Dec 10 11:59:15 2005 +0000

    [ARM] 3200/1: Singlestep over ARM BX and BLX instructions using ptrace fix
    
    Patch from Nikola Valerjev
    
    Single stepping an application using ptrace() fails over ARM instructions BX and BLX.
    
    Steps to reproduce:
    
    Compile and link the following files
    
    main.c
    -----
    void foo();
    int main() {
        foo();
        return 0;
    }
    
    foo.s
    -----
    	.text
    	.globl foo
    foo:
    	BX LR
    
    Using ptrace() functionality, run to main(), and start singlestepping.
    Singlestep over \"BX LR\" instruction won\'t transfer the control back
    to main, but run the code to completion.
    
    This problems seems to be in the function get_branch_address() in
    arch/arm/kernel/ptrace.c. The function doesn\'t seem to recognize BX
    and BLX instructions as branches. BX and BLX instructions can be used
    to convert from ARM to Thumb mode if the target address has the low
    bit set. However, they are also perfectly legal in the ARM only mode.
    Although other things in the kernel seem to indicate that only ARM
    mode is accepted (and not Thumb), many compilers will generate BX
    and BLX instructions even when generating ARM only code.
    
    Signed-off-by: Nikola Valerjev <nikola@ghs.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a8c730e85e80734412f4f73ab28496a0e8b04a7b
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Dec 9 14:42:16 2005 +0100

    [SCSI] fix panic when ejecting ieee1394 ipod
    
    The scsi_library routines don't correctly set DMA_NONE when
    req->data_len is zero (instead they check the command type first, so
    if it's write, we end up with req->data_len == 0 and direction as
    DMA_TO_DEVICE which confuses some drivers)
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 73d4f84fd001b0be67fea46e84b75e6a7a5da08e
Author: Kazunori MIYAZAWA <miyazawa@linux-ipv6.org>
Date:   Thu Dec 8 23:11:42 2005 -0800

    [IPv6] IPsec: fix pmtu calculation of esp
    
    It is a simple bug which uses the wrong member.
    
    This bug does not seriously affect ordinary use of IPsec.
    But it is important to pass IPv6 ready logo phase-2
    conformance test of IPsec SGW.
    
    Signed-off-by: Kazunori MIYAZAWA <miyazawa@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 23ed6cb9a237902cce6018a24d1993c346abddb4
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Dec 9 16:45:17 2005 +1100

    [PATCH] powerpc: Fix SLB flushing path in hugepage
    
    On ppc64, when opening a new hugepage region, we need to make sure any
    old normal-page SLBs for the area are flushed on all CPUs.  There was
    a bug in this logic - after putting the new hugepage area masks into
    the thread structure, we copied it into the paca (read by the SLB miss
    handler) only on one CPU, not on all.  This could cause incorrect SLB
    entries to be loaded when a multithreaded program was running
    simultaneously on several CPUs.  This patch corrects the error,
    copying the context information into the PACA on all CPUs using the mm
    in question before flushing any existing SLB entries.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cbf52afdc0eb88492cf7808cc4b4f58a46f1b1ad
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Dec 9 14:20:52 2005 +1100

    [PATCH] powerpc: Add missing icache flushes for hugepages
    
    On most powerpc CPUs, the dcache and icache are not coherent so
    between writing and executing a page, the caches must be flushed.
    Userspace programs assume pages given to them by the kernel are icache
    clean, so we must do this flush between the kernel clearing a page and
    it being mapped into userspace for execute.  We were not doing this
    for hugepages, this patch corrects the situation.
    
    We use the same lazy mechanism as we use for normal pages, delaying
    the flush until userspace actually attempts to execute from the page
    in question.
    
    Tested on G5.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dabcafd3f363bacd6b89f537af27dc79128e4806
Author: Olof Johansson <olof@lixom.net>
Date:   Thu Dec 8 19:40:17 2005 -0600

    [PATCH] powerpc: Set cache info defaults
    
    Cache info is setup by walking the device tree in initialize_cache_info().
    However, icache_flush_range might be called before that, in
    slb_initialize()->patch_slb_encoding, which modifies the load immediate
    instructions used with SLB fault code.
    
    Not only that, but depending on memory layout, we might take SLB faults
    during unflatten_device_tree. So that fault will load an SLB entry that
    might not contain the right LLP flags for the segment.
    
    Either we can walk the flattened device tree to setup cache info, or
    we can pick the known defaults that are known to work. Doing it in the
    flattened device tree is hairier since we need to know the machine type
    to know what property to look for, etc, etc.
    
    For now, it's just easier to go with the defaults. Worst thing that
    happens from it is that we might waste a few cycles doing too small
    dcbst/icbi increments.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 326743ead7d0c08e0da715832386660ff3823170
Author: Michal Ostrowski <mostrows@watson.ibm.com>
Date:   Thu Dec 8 16:56:17 2005 +1100

    [PATCH] Fix windfarm model-id table
    
    model_id fields of wf_smu_sys_all_params should match the model ID
    they are supposed to represent (as commented). Fixes windfarm on some
    iMac 8,1 models.
    
    Signed-off-by: Michal Ostrowski <mostrows@watson.ibm.com>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5b35193f5868da5e63f5b4cfe8fbcf9f10fe65cd
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Thu Dec 8 23:34:44 2005 +0000

    [ARM] 3199/1: Remove bogus function prototype from arch-pxa/irq.h
    
    Patch from Deepak Saxena
    
    This looks like a leftover from 2.4 days...
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 246a421207007a034da9b8cfa578bc00d16a9553
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Dec 8 15:21:39 2005 -0800

    [NET]: Fix NULL pointer deref in checksum debugging.
    
    The problem I was seeing turned out to be that skb->dev is NULL when
    the checksum is being completed in user context. This happens because
    the reference to the device is dropped (to allow it to be released
    when packets are in the queue).
    
    Because skb->dev was NULL, the netdev_rx_csum_fault was panicing on
    deref of dev->name. How about this?
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 85631672e6a8032267058b4ccbe53f1924a5d0be
Author: Michael Reed <mdr@sgi.com>
Date:   Wed Dec 7 21:46:27 2005 -0600

    [SCSI] fix OOPS due to clearing eh_action prior to aborting eh command
    
    The eh_action semaphore in scsi_eh_send_command is cleared after a
    command timeout.  The command is subsequently aborted and the abort
    will try to call scsi_done() on it.  Unfortunately, the scsi_eh_done()
    routine unconditinally completes the semaphore (which is now null).
    Fix this race by makiong the scsi_eh_done() routine check that the
    semaphore is non null before completing it (mirroring the ordinary
    command done/timeout logic).
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f0353301e6752399ceb874ede7f44e3571c5e4f3
Author: Mark Lord <lkml@rtr.ca>
Date:   Wed Dec 7 17:46:57 2005 -0500

    [SCSI] Fix incorrect pointer in megaraid.c MODE_SENSE emulation
    
    The SCSI megaraid drive goes to great effort to kmap
    the scatterlist buffer (if used), but then uses the
    wrong pointer when copying to it afterward.
    
    Signed-off-by:  Mark Lord <lkml@rtr.ca>
    Acked by: Ju, Seokmann <Seokmann.Ju@engenio.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6184b723876cd1a374e2d1094b3c73765d4c31c1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Dec 8 16:53:34 2005 +1100

    [PATCH] powerpc: Remove debug code in hash path
    
    Some debug code wasn't properly removed from the initial 64k pages
    patch, and while it's harmless, it's also slowing down significantly a
    very hot code path, thus it should really be removed.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 325c82a029ca7ea80f8cb24815d6c9288d177190
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Dec 8 16:51:44 2005 +1100

    [PATCH] powerpc: Fix a huge page bug
    
    The 64k pages patch changed the meaning of one argument passed to the
    low level hash functions (from "large" it became "psize" or page size
    index), but one of the call sites wasn't properly updated, causing
    potential random weird problems with huge pages. This fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6d91bb93e45857259ec80cf7393ea561dba1a1de
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Wed Dec 7 13:07:23 2005 -0800

    [PATCH] powerpc/pseries: boot failures on numa if no memory on node
    
    This bug exists in the current code and prevents machines from booting
    with numa enabled if there is a node that does not contain memory.
    Workaround is to boot with 'numa=off'.  Looks like a simple typo.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f64fa6772aa874e5cad02a9d87e6b0d99ced3d48
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Wed Dec 7 11:24:42 2005 -0800

    [IA64] Fix missing parameter for local_add/sub
    
    Local add/sub macros need to have a parameter to specify
    the addend/subtrahend respectively.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit c2cd6d3c122798c39f63e21e4dd04ee5790010b6
Author: Dave Jones <davej@redhat.com>
Date:   Wed Dec 7 18:11:26 2005 +0000

    [SERIAL] 8250_pci: Remove redundant assignment, and mark fallthrough.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 0da69df1e54146eece38e0a144051f6dd3526821
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Dec 6 10:58:06 2005 -0800

    [SCSI] qla2xxx: Correct short-WRITE status handling.
    
    Properly check FC_RESID for any non-transfered bytes
    regardless of firmware completion status.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 23443b1d6130eff8e1335e4f84eaf0577a331dcf
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Dec 6 10:57:06 2005 -0800

    [SCSI] qla2xxx: Correct mis-handling of AENs.
    
    A regression in a recent change
    33135aa2a568ec1a30e734f18e5315e10516e4f3 caused the driver
    to mistakenly drop handling of AENs.  Due to the incorrect
    handling, ports would not reappear after RSCNs and LIPs.
    
    Drops unused/incorrect compound #define from qla_def.h.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bb58596f6802a4959c2cea02acd272245e671c1d
Author: Dave Boutcher <sleddog@us.ibm.com>
Date:   Tue Nov 15 09:53:00 2005 -0600

    [SCSI] ibmvscsi kexec fix
    
    This makes ibmvscsi work correctly with the recent set of kexec
    patches that went in.  This is based on work by Michael Ellerman, who
    chased this initially.  He validated that it works during kexec.
    
    Handle kexec correctly in ibmvscsi.   During kexec the adapter
    will not get cleaned up correctly, so we may need to reset it
    to make it sane again.
    
    Signed-off-by: Dave Boutcher <sleddog@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1f064a87c80c86bd3878e6633de61e8b71aa6788
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Dec 6 17:36:44 2005 -0800

    [TG3]: remove warning on race
    
    [ Move assosciated code comment to the correct spot, and
      update driver version and release date -DaveM ]
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4ebf0ae2618fbbb0d365e5d295a30ccfcb91fe0b
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Dec 6 16:38:35 2005 -0800

    [AF_PACKET]: Convert PACKET_MMAP over to vm_insert_page().
    
    So we can properly use __GFP_COMP and avoid the use of
    PG_reserved pages.
    
    With extremely helpful review from Hugh Dickins.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dfb4b9dceb35c567a595ae5e9d035cfda044a103
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Dec 6 16:24:52 2005 -0800

    [TCP] Vegas: timestamp before clone
    
    We have to store the congestion control timestamp on the SKB before we
    clone it, not after.  Else we get no timestamping information at all.
    
    tcp_transmit_skb() has been reworked so that we can do the timestamp
    still in one spot, instead of at all the call sites.
    
    Problem discovered, and initial fix, from Tom Young
    <tyo@ee.unimelb.edu.au>.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0d7bef600acab393898bd5553e167496587da3e1
Author: Thomas Young <tyo@ee.mu.oz.au>
Date:   Tue Dec 6 16:17:11 2005 -0800

    [TCP] Vegas: Remove extra call to tcp_vegas_rtt_calc
    
    Remove unneeded call to tcp_vegas_rtt_calc. The more accurate
    microsecond value has already been registered prior to calling
    tcp_vegas_cong_avoid.
    
    Signed-off-by: Thomas Young <tyo@ee.mu.oz.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5b4956138173cb8b58d83d3173360e8e681a2b66
Author: Thomas Young <tyo@ee.mu.oz.au>
Date:   Tue Dec 6 16:16:34 2005 -0800

    [TCP] Vegas: stop resetting rtt every ack
    
    Move the resetting of rtt measurements to inside the once per RTT
    block of code.
    
    Signed-off-by: Thomas Young <tyo@ee.mu.oz.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 590711b7dd731bb04e7892c0451566d788985e79
Author: Jack Steiner <steiner@sgi.com>
Date:   Tue Dec 6 08:05:24 2005 -0600

    [IA64-SGI] Fix SN PTC deadlock recovery
    
    The patch that added support for a new platform chipset (shub2) broke
    PTC deadlock recovery on older versions of the chipset. (PTCs are the
    SN platform-specific method for doing a global TLB purge). This
    patch fixes deadlock recovery so that it works on both the old & new
    chipsets.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit bd1d6e2451f2bb0132416fda4d129c4f57a827bc
Author: Robin Holt <holt@sgi.com>
Date:   Mon Dec 5 20:02:31 2005 -0600

    [IA64] Change SET_PERSONALITY to comply with comment in binfmt_elf.c.
    
    We have a customer application which trips a bug.  The problem arises
    when a driver attempts to call do_munmap on an area which is mapped, but
    because current->thread.task_size has been set to 0xC0000000, the call
    to do_munmap fails thinking it is an unmap beyond the user's address
    space.
    
    The comment in fs/binfmt_elf.c in load_elf_library() before the call
    to SET_PERSONALITY() indicates that task_size must not be changed for
    the running application until flush_thread, but is for ia64 executing
    ia32 binaries.
    
    This patch moves the setting of task_size from SET_PERSONALITY() to
    flush_thread() as indicated.  The customer application no longer is able
    to trip the bug.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit acb7f67280128a9ddaa756ff10212391d28caec4
Author: Jack Steiner <steiner@sgi.com>
Date:   Mon Dec 5 13:56:50 2005 -0600

    [IA64] Limit the maximum NODEDATA_ALIGN() offset
    
    The per-node data structures are allocated with strided offsets that are a
    function of the node number. This prevents excessive cache-aliasing from
    occurring.
    
    On systems with a large number of nodes, the strided offset becomes
    too large. This patch restricts the maximum offset to 32MB. This is far larger
    than the size of any current L3 cache.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 3ec829b6895092b0686254c315f42642b4a07efc
Author: John Keller <jpk@sgi.com>
Date:   Tue Nov 29 16:36:32 2005 -0600

    [IA64-SGI] altix: pci_window fixup
    
    Altix only patch to add fixup code that sets up
    pci_controller->window. This code is a temporary
    fix until ACPI support on Altix is added.
    
    Also, corrects the usage of pci_dev->sysdata,
    which had previously been used to reference
    platform specific device info, to now point to
    a pci_controller struct.
    
    Signed-off-by: John Keller <jpk@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 92f268e034faf793f6d40de2f0fc81478a14ff39
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Dec 5 11:00:40 2005 -0800

    [PATCH] sk98lin: rx checksum offset not set
    
    The checksum offsets for receive offload were not being set correctly.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 927fe18397b3b1194a5b26b1d388d97e391e5fd2
Merge: e4f5c82... 1e48396...
Author: Len Brown <len.brown@intel.com>
Date:   Mon Dec 5 17:08:40 2005 -0500

    Pull 5165 into release branch

commit 1e483969930a82e16767884449f3a121a817ef00
Author: David Shaohua Li <shaohua.li@intel.com>
Date:   Thu Dec 1 17:00:00 2005 -0500

    [ACPI] correct earlier SMP deep C-states on HT patch
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5165
    
    Change polarity of test for PLVL2_UP flag.
    Skip promotion/demotion code when not needed.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 1f12bcc9d1840fd26bf577065214f1ebeb2609ba
Author: Steven Whitehouse <steve@chygwyn.com>
Date:   Mon Dec 5 13:42:06 2005 -0800

    [DECNET]: add memory buffer settings
    
    The patch (originally from Steve) simply adds memory buffer settings to
    DECnet similar to those in TCP.
    
    Signed-off-by: Patrick Caulfield <patrick@tykepenguin.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dab9630fb3d206f49658066a3ecf80ea120364db
Author: Martin Waitz <tali@admingilde.org>
Date:   Mon Dec 5 13:40:12 2005 -0800

    [NET]: make function pointer argument parseable by kernel-doc
    
    When a function takes a function pointer as argument it should use the 'return
    (*pointer)(params...)' syntax used everywhere else in the kernel as this is
    recognized by kernel-doc.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2fdf1faa8e33082d691bcba18814276f2bd5a6f0
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:38:16 2005 -0800

    [NETFILTER]: Don't use conntrack entry after dropping the reference
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 266c8543480e2202ab63d1d604a5ca049f350cd8
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:37:33 2005 -0800

    [NETFILTER]: Fix unbalanced read_unlock_bh in ctnetlink
    
    NFA_NEST calls NFA_PUT which jumps to nfattr_failure if the skb has no
    room left. We call read_unlock_bh at nfattr_failure for the NFA_PUT inside
    the locked section, so move NFA_NEST inside the locked section too.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6636568cf85ef5898a892e90fcc88b61cca9ca27
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:36:50 2005 -0800

    [NETFILTER]: Wait for untracked references in nf_conntrack module unload
    
    Noticed by Pablo Neira <pablo@eurodev.net>.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a79575633300adb5d3f1bd856cc518c45fefcb86
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:36:25 2005 -0800

    [NETFILTER]: Mark ctnetlink as EXPERIMENTAL
    
    Should have been marked EXPERIMENTAL from the beginning, as the current
    bunch of fixes show.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0be7fa92ca162bf5e7993c392e6f93909d617bbb
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:34:51 2005 -0800

    [NETFILTER]: Fix CTA_PROTO_NUM attribute size in ctnetlink
    
    CTA_PROTO_NUM is a u_int8_t.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit afe5c6bb034bfa5824f8e7def6a739653e8f4655
Author: Patrick McHardy <kaber@trash.net>
Date:   Mon Dec 5 13:33:50 2005 -0800

    [NETFILTER]: Fix ip_conntrack_flush abuse in ctnetlink
    
    ip_conntrack_flush() used to be part of ip_conntrack_cleanup(), which needs
    to drop _all_ references on module unload. Table flushed using ctnetlink
    just needs to clean the table and doesn't need to flush the event cache or
    wait for any references attached to skbs. Move everything but pure table
    flushing back to ip_conntrack_cleanup().
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3ebbe0cdd41f62e5c79cb4d7aa42a1ca50d7d2f2
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Dec 5 13:33:26 2005 -0800

    [NETFILTER]: nfnetlink: Fix calculation of minimum message length
    
    At least, valid nfnetlink message should have nlmsghdr and nfgenmsg.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f16c910724250c1af0f53111b4c76505000819f6
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Dec 5 13:32:50 2005 -0800

    [NETFILTER]: nf_conntrack: Fix missing check for ICMPv6 type
    
    This makes nf_conntrack_icmpv6 check that ICMPv6 type isn't < 128
    to avoid accessing out of array valid_new[] and invmap[].
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8d1ca69984ed1e5930c0537b8f606c54007d7319
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Mon Dec 5 13:32:14 2005 -0800

    [NETFILTER]: Fix incorrect argument to ip_nat_initialized() in ctnetlink
    
    ip_nat_initialized() takes enum ip_nat_manip_type as it's second argument,
    not a hook number.
    
    Noticed and initial patch by Marcus Sundberg <marcus@ingate.com>.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3e356b2660eda9da7776144cbc0a038c93dcb335
Merge: 05f7039... e4f5c82...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Dec 5 11:50:17 2005 -0800

    Auto-update from upstream

commit 05f70395c642bed0300bc1955bfa8c0f93de2bc2
Author: Keith Owens <kaos@sgi.com>
Date:   Fri Dec 2 13:40:15 2005 +1100

    [IA64] Allow salinfo_decode to detect signals on read
    
    Return -EINTR instead of -ERESTARTSYS when signals are delivered during
    a blocked read of /proc/sal/*/event.  This allows salinfo_decode to
    detect signals when it is blocked on a read of those files.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 31a5539e57fa80e877a2f180cd4ec9ce9de6fea0
Author: Hiroki Kaminaga <kaminaga@sm.sony.co.jp>
Date:   Mon Dec 5 10:55:00 2005 +0000

    [ARM] 3194/1: add pfn_to_kaddr macro for ARM take2
    
    Patch from Hiroki Kaminaga
    
    This patch defines a new macro: pfn_to_kaddr(pfn).
    Same macro is already defined on other arch, such as i386.
    
    Signed-off-by: Hiroki Kaminaga <kaminaga@sm.sony.co.jp>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a0d95af5c28666155ad4c85a63a5065436ae1d79
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Dec 5 10:54:59 2005 +0000

    [ARM] 3191/1: Mark I/O pointer as const in __raw_reads[bwl]
    
    Patch from Deepak Saxena
    
    Mark the ioremap'd cookie/pointer in said functions as const since
    we should not be actualy touching the data. This fixes a slew of
    compile warnings on IXP4xx as our reads[bwl] already mark this
    parameter as const.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9ddf61bd09a7668279d2b208a96eba784bec3d80
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Dec 5 10:15:06 2005 +0000

    [ARM SMP] mpcore_wdt bogus fpos check
    
    drivers/char/watchdog/mpcore_wdt.c write function contains a check for
    (ppos != &file->f_pos). Such check used to make sense when a pointer to
    file->f_pos was handed by vfs_write(), not a copy of it as it stands
    now.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e781de44153885d5f772731726b4c0c16f8af021
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Mon Dec 5 10:00:50 2005 +0000

    [MMC] Proper check of SCR error code
    
    The routine reading the SCR wasn't paying proper attention to the
    error codes returned from the driver.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ca507eaf32fa599a92182ce91050046e807a994c
Author: Olof Johansson <olof@lixom.net>
Date:   Tue Nov 29 14:04:17 2005 -0600

    [PATCH] powerpc: remove redundant code in stab init
    
    There's never been a hardware platform that has both pSeries/RPA LPAR
    hypervisor and stab (pre-POWER4 segment management). This removes
    the redundant code in stab_initalize().
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b6d78157ad129b1bce87cc831d0d038e97ca5551
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Dec 5 14:39:53 2005 +1100

    ppc: Build in all three of powermac, PREP and CHRP support
    
    This reverts commit da0825fd201a03294dbf7f8f030676d608da122c, making
    it so that if you select CONFIG_PPC_MULTIPLATFORM you get support
    for PMAC, PREP and CHRP built in.
    
    The reason for not allowing PMAC, PREP and CHRP to be selected
    individually for ARCH=ppc is that there is too much interdependency
    between them in the platform support code.  For example, CHRP uses
    the PMAC nvram code.
    
    Configuring with ARCH=powerpc does allow you to select support for
    PMAC and CHRP separately.  Support for PREP is not there yet but
    should be there soon.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6fbb618f5da0424adcba5f666035e4772a8df526
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Dec 5 14:19:10 2005 +1100

    powerpc/pseries: Optimize IOMMU setup
    
    The previous commit will use the page-at-a-time hypervisor call for
    setting up IOMMU entries when we are using 64k pages and setting up
    one 64k page, even though that means 16 calls to the hypervisor, since
    the hypervisor still works on 4k pages.  This optimizes this case by
    using the multi-page IOMMU setup hypervisor call instead.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit db20da32a22ccfa3a118408034eeb0ba61a42329
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Dec 4 17:56:46 2005 +0000

    [ARM] Add memory.txt to 00-INDEX
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e4f5c82a92c2a546a16af1614114eec19120e40a
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Dec 4 12:41:54 2005 -0200

    [PATCH] V4L/DVB (3087) fix analog NTSC for pcHDTV 3000
    
    - fix analog NTSC for pcHDTV 3000
    - Fix regression: broken analog NTSC for DViCO FusionHDTV3 Gold-T
    - add tda9887 to card struct, required for both cards.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 436b0f76f2cee6617f27a649637766628909dd5d
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 3 21:10:42 2005 -0800

    Linux v2.6.15-rc5
    
    Hey, for no other reason than the fact that I'll be off-line for a
    week.
    
    Of course, I could force everybody to just use git (and when I'm emperor
    of the world, don't think I won't!), but it seems some people want to
    just test official releases.  Even if they are just -rc's.
    
    By the time I'm back, Andrew will have fixed all my bugs, and I'll
    release it as 2.6.15 and take all the credit.
    
    Mwahahahaaa
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6015d2c4ca5470509d9721d7bab8d796617ed996
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 3 20:50:51 2005 -0800

    Link USB drivers later in the kernel
    
    We want to link the "regular" SCSI drivers before the USB storage
    driver, since historically we've always detected internal SCSI disks
    before the external USB storage modules.
    
    The link order matters for initcall ordering, and this got broken by
    mistake by commit 7586269c0b52970f60bb69fcb86e765fc1d72309 which moved
    the USB host controller PCI quirk handling around.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e3c3374fbf7efe9487edc53cd10436ed641983aa
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Dec 3 20:48:11 2005 -0800

    Make vm_insert_page() available to NVidia module
    
    It used to use remap_pfn_range(), which wasn't GPL-only either, and the
    new interface is actually simpler and does more checking, so we
    shouldn't unnecessarily discourage people from switching over.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ceaacc9785fedc500e19b024d606a82a23f5372
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Dec 4 13:55:25 2005 +1100

    [PATCH] Fix up per-cpu page batch sizes
    
    The code to clamp batch sizes to 2^n - 1 went missing and an extra
    check got added, which must have been a hunk of the "higer order pcp
    batch refills" work sneaking in.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a40525788a1b692ee0fc780a8cdb2ac808de1b0
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Dec 2 11:49:11 2005 +0900

    [PATCH] libata: fix ata_scsi_pass_thru error handling
    
    This patch makes ata_scsi_pass_thru() properly set result code and
    sense data on translation failures.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3b6efee9231e12fce09c94930bfc59f66f18d662
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Dec 3 15:20:21 2005 -0500

    NFSv4: Fix an Oops in the synchronous write path
    
     - Missing initialisation of attribute bitmask in _nfs4_proc_write()
     - On success, _nfs4_proc_write() must return number of bytes written.
     - Missing post_op_update_inode() in _nfs4_proc_write()
     - Missing initialisation of attribute bitmask in _nfs4_proc_commit()
     - Missing post_op_update_inode() in _nfs4_proc_commit()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 5ba7cc4801ae0fe74b6e0160f008521ae71d9f5d
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Dec 3 15:20:17 2005 -0500

    NFS: Fix post-op attribute revalidation...
    
      - Missing nfs_mark_for_revalidate in nfs_proc_link()
      - Missing nfs_mark_for_revalidate in nfs_rename()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit bb713d6d38f7be4f4e7d790cddb1b076e7da6699
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Dec 3 15:20:14 2005 -0500

    NFS: use set_page_writeback() in the appropriate places
    
     Ensure that we use set_page_writeback() in the appropriate places
     to help the VM in keeping its page radix_tree in sync.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit bb184f3356adbbb1605df2f7c570b4c92231fa3a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Dec 3 15:20:10 2005 -0500

    SUNRPC: Fix Oopsable condition in rpc_pipefs
    
     The elements on rpci->in_upcall are tracked by the filp->private_data,
     which will ensure that they get released when the file is closed.
    
     The exception is if rpc_close_pipes() gets called first, since that
     sets rpci->ops to NULL.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 24aa1fe6779eaddb3e0b1b802585dcf6faf9cc44
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sat Dec 3 15:20:07 2005 -0500

    NFS: Fix a few further cache consistency regressions
    
     Steve Dickson writes:
     Doing the following:
     1. On server:
     $ mkdir ~/t
     $ echo Hello > ~/t/tmp
    
     2. On client, wait for a string to appear in this file:
     $ until grep -q foo t/tmp ; do echo -n . ; sleep 1 ; done
    
     3. On server, create a *new* file with the same name containing that
     string:
     $ mv ~/t/tmp ~/t/tmp.old; echo foo > ~/t/tmp
    
     will show how the client will never (and I mean never ;-) ) see
     the updated file.
    
     The problem is that we do not update nfsi->cache_change_attribute when the
     file changes on the server (we only update it when our client makes the
     changes). This again means that functions like nfs_check_verifier() will
     fail to register when the parent directory has changed and should trigger
     a dentry lookup revalidation.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 223db122bfccd463751d8b0c09a638abee03681d
Author: Steve Dickson <steved@redhat.com>
Date:   Wed Nov 30 09:25:33 2005 -0500

    NFS: Fix cache consistency regression
    
     Make sure cache_change_attribute is initialized to jiffies
     so when the mtime changes on directory, the directory
     will be refreshed.
    
     Signed-off by: Steve Dickson <steved@redhat.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b3c6aeb3ce26b286769d2deafec47d218c83dd09
Merge: af2eb17... af1afe8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 2 23:09:38 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit af2eb17bac41a116b73d85b3fb160405c32bea5b
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 2 23:09:06 2005 -0800

    Add missing "local_irq_enable()" to C2/C3 exit logic
    
    Silly bug crept in with the C2/C3 TIF_POLLING_NRFLAG fixes.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af1afe866297448ad8a1da99fa8a6af86c43c909
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Fri Dec 2 20:56:57 2005 -0800

    [IPV6]: Load protocol module dynamically.
    
    [ Modified to match inet_create() bug fix by Herbert Xu -DaveM ]
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 86c8f9d158f68538a971a47206a46a22c7479bac
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Fri Dec 2 20:43:26 2005 -0800

    [IPV4] Fix EPROTONOSUPPORT error in inet_create
    
    There is a coding error in inet_create that causes it to always return
    ESOCKTNOSUPPORT.  It should return EPROTONOSUPPORT when there are
    protocols registered for a given socket type but none of them match
    the requested protocol.
    
    This is based on a patch by Jayachandran C.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 24c6927505ca77ee4ac25fb31dcd56f6506979ed
Author: David Stevens <dlstevens@us.ibm.com>
Date:   Fri Dec 2 20:32:59 2005 -0800

    [IGMP]: workaround for IGMP v1/v2 bug
    
    From: David Stevens <dlstevens@us.ibm.com>
    
    As explained at:
    
    	http://www.cs.ucsb.edu/~krishna/igmp_dos/
    
    With IGMP version 1 and 2 it is possible to inject a unicast
    report to a client which will make it ignore multicast
    reports sent later by the router.
    
    The fix is to only accept the report if is was sent to a
    multicast or unicast address.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bf031fff1fac77775b2cd2c72ad8b017f4c0af13
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Fri Dec 2 20:32:29 2005 -0800

    [SCTP]: Fix getsockname for sctp when an ipv6 socket accepts a connection from
    an ipv4 socket.
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6736dc35e9e1b9c8084d5c362a429a3e8189af6b
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Fri Dec 2 20:30:06 2005 -0800

    [SCTP]: Return socket errors only if the receive queue is empty.
    
    This patch fixes an issue where it is possible to get valid data after
    a ENOTCONN error. It returns socket errors only after data queued on
    socket receive queue is consumed.
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 885da19e8044051a92cfd70099398c373245c431
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Dec 2 16:18:42 2005 -0800

    [IA64] refresh tiger_defconfig ready for 2.6.15
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1b0997f561bf46689cc6e0903f342e9bf2506bf1
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 2 15:54:37 2005 -0800

    Revert "[SCSI] fix usb storage oops"
    
    This reverts commit 34ea80ec6a02ad02e6b9c75c478c18e5880d6713.
    
    It does a put_device() from softirq context, which is bad since it gets
    a semaphore for reading.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2741049e66d9698da5e0c90c849406fa3d3fc45c
Merge: 2a298a3... 4d5cda0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Dec 2 14:32:44 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-rc-fixes-2.6

commit 2a298a35ebe060a6f2b06b20c2a34ea188ddfd37
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Fri Dec 2 12:44:19 2005 +1100

    [PATCH] Fix TIF_POLLING_NRFLAG in ACPI idle routines
    
    Commit 64c7c8f88559624abdbe12b5da6502e8879f8d28 broke the ACPI C2 and C3
    sleep states, because it left TIF_POLLING_NRFLAG active even though
    those states do not actually poll the reschedule flag at all.  As a
    result, the CPU wouldn't get sent an IPI when it was to be woken up, and
    would only notice that it had runnable processes on the next timer tick.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1448652a54b5de5189a217374706700275b857e6
Author: Robin Holt <holt@sgi.com>
Date:   Fri Dec 2 11:14:41 2005 -0600

    [IA64] Updates to the sn2_defconfig for 2.6.15.
    
    This updates the sn2_defconfig file for the Altix 330 hardware, enables
    the AGP graphics for the SGI Prism, and removes prompts for the remainder
    of the new features.  Greg Edwards reviewed the changes.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Greg Edwards <edwardsg@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 4d5cda069b3f0a3bbc18576bc15903ed665d0295
Author: Hugh Dickins <hugh@veritas.com>
Date:   Fri Dec 2 15:58:09 2005 +0000

    [SCSI] sg: fix a bug in st_map_user_pages failure path
    
    sg's st_map_user_pages is modelled on an earlier version of st's
    sgl_map_user_pages, and has the same bug: if get_user_pages got some but
    not all of the pages, then those got were released, but the positive res
    code returned implied that they were still to be freed.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Douglas Gilbert <dougg@torque.net>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 032c09d76cdb448484859cc84dac4bba8f5f8f14
Author: Hugh Dickins <hugh@veritas.com>
Date:   Fri Dec 2 15:59:59 2005 +0000

    [SCSI] sg and st unmap_user_pages allow PageReserved
    
    2.6.15-rc1 made sg's st_unmap_user_pages and st's sgl_unmap_user_pages
    BUG on a PageReserved page.  But that's wrong: they could be unmapping
    the ZERO_PAGE, which is marked PG_reserved; and perhaps others (while
    get_user_pages is still permitted on VM_PFNMAP areas - that may change).
    
    More change is needed here: sg claims to dirty even pages written from,
    and st claims not to dirty even pages read into; and SetPageDirty is not
    adequate for this nowadays.  Fixes to those follow in a later patch: for
    the moment just fix the 2.6.15 regression.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e8a167accb47de528d2ffddc0f13f8e84eaa71de
Author: Olaf Hering <olh@suse.de>
Date:   Thu Dec 1 21:10:10 2005 +0100

    [PATCH] powerpc: correct the NR_CPUS description text
    
    Update the help text to match the allowed range.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cc8b5c96a7ac7d695c2887427b1003bd33ec9c97
Author: Michal Ostrowski <mostrows@watson.ibm.com>
Date:   Fri Dec 2 13:09:13 2005 +1100

    [PATCH] powerpc/pseries: Fix TCE building with 64k pagesize
    
    Must adjust tcenum and npages by TCE_PAGE_FACTOR to convert between
    64KB pages and TCE (4K) pages.  (This is done in other places, except
    for this one location.)
    
    Signed-off-by: Michal Ostrowski <mostrows@watson.ibm.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit deda498710e190c7922c2634ed630ee64ce86c05
Merge: ca98f82... ea86575...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:54:00 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit ca98f825ea05edb41346f12408caa30be8a287c6
Merge: b67c26e... 11849fe...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:53:33 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit b67c26e4fcfdade157d5bd54085720e71518cccd
Merge: c6b7941... 80b4259...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:52:58 2005 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit c6b79418a4bb0260a92a25f562047d5be7b0e7f4
Merge: f327220... f4e4015...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:52:12 2005 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/roland/infiniband

commit f327220b1494aa23fd4206ac4778b8aa449a3351
Merge: 31b3c31... ea182d4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:49:37 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 31b3c31bca3b4df975631323d6ee6f49f43f4956
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Thu Dec 1 00:52:10 2005 -0800

    [PATCH] V4l/dvb: Fix typo, removing incorrect info from CONFIG_BT848_DVB kconfig entry.
    
    Fix typo, removing incorrect info from CONFIG_BT848_DVB kconfig entry.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a72403594ad23bbd2ac0349dd0e537b28862faac
Author: Mike Isely <isely@pobox.com>
Date:   Thu Dec 1 00:52:04 2005 -0800

    [PATCH] V4l/dvb: Restore missing tuner definition for Hauppauge tuner type 0x103
    
    Type 0x103 ("TCL MFNM05-4") in the Hauppauge eeprom is a more recent tuner
    that maps to TUNER_PHILIPS_FM1236_MK3.  This had been previously defined but
    due to some accident the definition got removed.  This change restores that
    definition.  Change committed on advice from Hans Verkuil
    <hverkuil@xs4all.nl>, who thinks he's the one who had accidentally removed it
    before.
    
    Signed-off-by: Mike Isely <isely@pobox.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab60e303cd3e73a68d5e397be50a1cb35452513c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Thu Dec 1 00:51:58 2005 -0800

    [PATCH] V4L/dvb: fix kernel message (print of %s from random pointer)
    
    Fix kernel message ( basically printk("%s", random_pointer) ).
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3535396d3ac7fc5eeda4526aee34494a479cc628
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Thu Dec 1 00:51:57 2005 -0800

    [PATCH] V4L/DVB: SCM update
    
    Add v4l/dvb quilt tree to MAINTAINERS file.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f05cb3239d078f16d082398818dd4e66e645f388
Author: Carlos Silva <r3pek@gentoo.org>
Date:   Thu Dec 1 00:51:56 2005 -0800

    [PATCH] DVB: BUDGET CI card depends on STV0297 demodulator.
    
    BUDGET_CI card depends on STV0297 demodulator.
    
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48063a75aff8a572ed167470564309697cf0e8cc
Author: Denis Vlasenko <vda@ilport.com.ua>
Date:   Thu Dec 1 00:51:55 2005 -0800

    [PATCH] DVB: Fixes ifs in ves1820 set symbolrate().
    
    Remove stray semicolons after if (foo); in ves1820_set_symbolrate().
    
    Signed-off-by: Denis Vlasenko <vda@ilport.com.ua>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1130ca45c719fe788fa544a54a82ea53ef5ea87a
Author: Ralph Metzler <rjkm@metzlerbros.de>
Date:   Thu Dec 1 00:51:54 2005 -0800

    [PATCH] DVB: Fix locking to prevent Oops on SMP systems
    
    Fix locking to prevent Oops on SMP systems when starting/stopping dvb network
    interfaces.
    
    Signed-off-by: Ralph Metzler <rjkm@metzlerbros.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b9225f0f002c39f340da2ed1e7efec6885ca312
Author: Steven Toth <stoth@hauppauge.com>
Date:   Thu Dec 1 00:51:53 2005 -0800

    [PATCH] DVB: Update Steve's email address.
    
    Update Steve's email address.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15ac8e663b354ed98d43d149f718f6f15ab732ac
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 1 00:51:53 2005 -0800

    [PATCH] DVB: Small cleanups and CodeStyle fixes
    
    - Small cleanups:
    
    - make needlessly global functions static
    
    - every file should #include the headers containing the prototypes for it's
      global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18e55eea0104927feedfe81de1adf5e46a7ad1f3
Author: Tim Schmielau <tim@physik3.uni-rostock.de>
Date:   Thu Dec 1 00:51:51 2005 -0800

    [PATCH] DVB: Include fixes for 2.6.15-rc1 for removing sched.h from module.h
    
    Include fixes for 2.6.15-rc1 for removing sched.h from module.h.
    
    Signed-off-by: Tim Schmielau <tim@physik3.uni-rostock.de>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 363bbf42da23898ab48dc227cca9d80b50b481eb
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Thu Dec 1 00:51:51 2005 -0800

    [PATCH] DVB: Fixed incorrect usage at the private state of the dvb-usb-devices
    
    Fixed mistake of an incorrect usage of pid_filter-callbacks inside the private
    state of the dvb-usb-devices
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ded928468407c8e08dcb6aedb91aaa97b80d5752
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Thu Dec 1 00:51:49 2005 -0800

    [PATCH] DVB: Fix locking problems and code cleanup
    
    Fix locking problems and code cleanup
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69459f3d2fb9eea370535ceba91dd8c9df3d94bc
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Thu Dec 1 00:51:48 2005 -0800

    [PATCH] DVB: Fixed DiSEqC timing for saa7146-based budget cards
    
    Fixed DiSEqC timing for saa7146-based budget cards (speed-up ioctls using
    SAA7146_I2C_SHORT_DELAY)
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f95006f89576cac504323daa53157013bf099fc9
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Thu Dec 1 00:51:42 2005 -0800

    [PATCH] V4L: Add workaround for Hauppauge PVR150 with certain NTSC tuner models
    
    Add workaround for Hauppauge PVR150 hardware problem with tuner models 85, 99
    and 112 (model numbers as reported by tveeprom).  The audio standard
    autodetection does not always work correctly for these models.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0fe22865ddee524017a1012528b0e15475acc942
Author: Steven Toth <stoth@hauppauge.com>
Date:   Thu Dec 1 00:51:41 2005 -0800

    [PATCH] V4L: Fixed eeprom handling for cx88 and added Nova-T PCI model 90003
    
    - Fixed code handling for eeprom on cx88 boards.
    
    - Hauppauge released a new version of the Nova-T-PCI (9002) a few months ago
      with a different (compatible) tuner (but lacking RF passthru).  The official
      model# is 90003.  All features are working.
    
    - Adding entry to the known model list after testing.
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bbf7871e1cd58b89f77b1152f457250c6e94b614
Author: Michael H. Schimek <mschimek@gmx.at>
Date:   Thu Dec 1 00:51:40 2005 -0800

    [PATCH] V4L: Fix bttv ioctls VIDIOC_ENUMINPUT, VIDIOCGTUNER, VIDIOC_QUERYCAP
    
    Fixed bttv ioctls VIDIOC_ENUMINPUT, VIDIOCGTUNER, VIDIOC_QUERYCAP.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Michael H. Schimek <mschimek@gmx.at>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd1eab73d50258b4c622b8dc23d896abd5cff2e6
Author: Reimar Doeffinger <Reimar.Doeffinger@stud.uni-karlsruhe.de>
Date:   Thu Dec 1 00:51:39 2005 -0800

    [PATCH] V4L: Fix crash when not compiled as module
    
    Fix crash when not compiled as module.
    
    Signed-off-by: Reimar Doeffinger <Reimar.Doeffinger@stud.uni-karlsruhe.de>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1bcd2a36711e6a72802a92a4e3fcef9d0c59dc3f
Author: Dwaine Garden <DwaineGarden@rogers.com>
Date:   Thu Dec 1 00:51:37 2005 -0800

    [PATCH] V4L: Write cached value to correct register for SECAM
    
    Write cached value to correct register for SECAM.
    
    Signed-off-by: Dwaine Garden <DwaineGarden@rogers.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 13c72805b3d922d85d5c470e851c93e8f8c076d8
Author: Michael H. Schimek <mschimek@gmx.at>
Date:   Thu Dec 1 00:51:37 2005 -0800

    [PATCH] V4L: Fixes Bttv raw format to fix VIDIOCSPICT ioctl
    
    Fixes Bttv raw format to fix VIDIOCSPICT ioctl.
    
    Signed-off-by: Michael H. Schimek <mschimek@gmx.at>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 943a49027b6d9829b737e6da3d72b867a7a6f832
Author: Adrian Bunk <bunk@stusta.de>
Date:   Thu Dec 1 00:51:35 2005 -0800

    [PATCH] V4L: Makes needlessly global code static
    
    This patch makes needlessly global code static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 769e24382dd47434dfda681f360868c4acd8b6e2
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Thu Dec 1 00:51:35 2005 -0800

    [PATCH] V4L: Some funcions now static and I2C hw code for IR
    
    - Some funcions are now declared as static
    - Added a I2C code for InfraRed.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f502b8a7858ecfa7d2a0762f7663b8b3d0808fc
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Thu Dec 1 00:51:34 2005 -0800

    [PATCH] V4L: Enables audio DMA setting on cx88 chips, even when dma not in use
    
    - Enabled audio DMA transfer code even when DMA not in use to solve a
      problem on some broken cx88 chips.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c87c948ebd75525df4d67dd5b40e6ea81859cc17
Author: Michael H. Schimek <mschimek@gmx.at>
Date:   Thu Dec 1 00:51:33 2005 -0800

    [PATCH] V4L: Bttv bytes per line fix
    
    bttv bytes per line fix.
    
    Signed-off-by: Michael H. Schimek <mschimek@gmx.at>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50ab5edc973c979e8f620e09d20b96761d271894
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Thu Dec 1 00:51:32 2005 -0800

    [PATCH] V4L: Fix read() bugs in bttv driver
    
    Fix read() bugs in bttv driver.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Michael H. Schimek <mschimek@gmx.at>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b86b9999deb04bbfbb20e6b6fe1119a4bf0ff34
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Thu Dec 1 00:51:31 2005 -0800

    [PATCH] V4L: Removed audio DMA enabling from cx88-core
    
    - Removed code that enables audio DMA transfers at cx88-core.
    - This stuff should be at cx88-alsa when ready.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53a7338af60689817e81114d42cfa2ab4bb95516
Author: Ian Pickworth <ian@pickworth.me.uk>
Date:   Thu Dec 1 00:51:28 2005 -0800

    [PATCH] V4L: Fixes nicam sound
    
    - Resolved problem of sporadic buzz after setting Nicam stereo
    - improved setting audio standard with dma reset
    - cleaned up comments format
    - more sensitive Nicam detection
    
    Signed-off-by: Ian Pickworth <ian@pickworth.me.uk>
    Signed-off-by: Michal Pytasz <pytasz@lodz.home.pl>
    Signed-off-by: Marcin Rudowski <mar_rud@poczta.onet.pl>
    Signed-off-by: Torsten Seeboth <Torsten.Seeboth@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3ca0ea980697d3b3c3d5c13ba7e525ed6c434756
Author: Steven Toth <stoth@hauppauge.com>
Date:   Thu Dec 1 00:51:27 2005 -0800

    [PATCH] V4L: tveeprom MAC address parsing/cleanup
    
    - Added a mac address field to the tveeprom structure.
    
    - allow callers to query the MAC address.
    
    - removed some redundant eeprom parsing code in cx88-cards.c (specific to
      Hauppauge DVB products) Instead, placed calls directly to the single eeprom
      parsing function in tveeprom.c
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 759324c3c4b8d63203d7ea41b56553330bc0df06
Author: Steven Toth <stoth@hauppauge.com>
Date:   Thu Dec 1 00:51:26 2005 -0800

    [PATCH] V4: Include comments for DVB models and includes missing ones
    
    Include comments for DVB models and includes missing ones
    
    Signed-off-by: Steven Toth <stoth@hauppauge.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 97cb445df6c6cb81e4f06ee159331f15bf5c4513
Author: Luiz Capitulino <lcapitulino@mandriva.com.br>
Date:   Thu Dec 1 00:51:24 2005 -0800

    [PATCH] V4L: Fixes warning at bttv-driver.c
    
    Fixes warning at bttv-driver.c
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5b974cb16dd95d1ae0424f68f74550dbd793a33
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Thu Dec 1 00:51:20 2005 -0800

    [PATCH] V4L: Fix hotplugging issues with saa7134
    
    - Fixed issue with hotplugging and DMA sound (sound was lost when replugging
      a card)
    
    - Added notifiers to main saa7134 module to let the sound sub-modules know
      when a card has been inserted or removed
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 938606b02b3d7b587777e5b1e44f4196903250ca
Author: Sigmund Augdal Helberg <sigmund@snap.tv>
Date:   Thu Dec 1 00:51:19 2005 -0800

    [PATCH] V4L: Fixes maximum number of VBI devices
    
    - Increases the minor number limitation for vbi devices from 223 to 255.
      This is in agreement with the minor number allocation specified in
      Documentation/devices.txt.
    
    - Without this patch it is not possible to use more than 5 Hauppauge
      WinTV-PVR 350 cards since each of these allocate 3 vbi devices.
    
    Signed-of-by: Sigmund Augdal Helberg <sigmund@snap.tv>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db1d1d57e97700b4131fe80556dc6ef976d534c4
Author: David Howells <dhowells@redhat.com>
Date:   Thu Dec 1 00:51:18 2005 -0800

    [PATCH] Keys: Fix permissions check for update vs add
    
    Permit add_key() to once again update a matching key rather than adding a
    new one if a matching key already exists in the target keyring.
    
    This bug causes add_key() to always add a new key, displacing the old from
    the target keyring.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c72c343719a8c5dba675cd1b27b63c06bfe23d1
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Thu Dec 1 00:51:17 2005 -0800

    [PATCH] ppc32: fix treeboot image entrypoint
    
    Correctly specify treeboot based image entrypoint.  Currently makefile uses
    $(ENTRYPOINT) which isn't defined anywhere.  Each board port sets
    entrypoint-$(CONFIG_BOARD_NAME) instead.
    
    Without this patch I cannot boot Ocotea (PPC440GX eval board) anymore.  I
    was getting random "OS panic" errors from OpenBIOS for a while, but with
    current kernel I get them all the time (probably because image became
    bigger).
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Acked-by: Tom Rini <trini@kernel.crashing.org>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42ea0d037860690dde07a015d3473a17da35f74a
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Thu Dec 1 00:51:15 2005 -0800

    [PATCH] ppc32: Fix incorrect PCI frequency value
    
    The time to wait after deasserting PCI_RST has been counted with incorrect
    value - this patch fixes the issue.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00c1bd54d8c7b6210530cdbb3508125a0bf4a32b
Merge: 5666c09... 220ec70...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Dec 1 15:45:30 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/lenb/linux-acpi-2.6

commit ea86575eaf99a9262a969309d934318028dbfacb
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Dec 1 14:30:00 2005 -0800

    [NETLINK]: Fix processing of fib_lookup netlink messages
    
    The receive path for fib_lookup netlink messages is lacking sanity
    checks for header and payload and is thus vulnerable to malformed
    netlink messages causing illegal memory references.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2a43c4af3fa2e701008d51c28365e26fccf9cbb0
Author: Phil Oester <kernel@linuxace.com>
Date:   Thu Dec 1 14:29:24 2005 -0800

    [NETFILTER]: Fix recent match jiffies wrap mismatches
    
    Around jiffies wrap time (i.e. within first 5 mins after boot), recent
    match rules which contain both --seconds and --hitcount arguments
    experience false matches.
    
    This is because the last_pkts array is filled with zeros on creation, and
    when comparing 'now' to 0 (+ --seconds argument), time_before_eq thinks it
    has found a hit.
    
    Below patch adds a break if the packet value is zero.  This has the
    unfortunate side effect of causing mismatches if a packet was received
    when jiffies really was equal to zero.  The odds of that happening are
    slim compared to the problems caused by not adding the break however.
    Plus, the author used this same method just below, so it is "good enough".
    
    This fixes netfilter bugs #383 and #395.
    
    Signed-off-by: Phil Oester <kernel@linuxace.com>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 73f306024c15bd12e59677d6eaf43ecced614f04
Author: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
Date:   Thu Dec 1 14:28:58 2005 -0800

    [NETFILTER]: Ignore ACKs ACKs on half open connections in TCP conntrack
    
    Mounting NFS file systems after a (warm) reboot could take a long time if
    firewalling and connection tracking was enabled.
    
    The reason is that the NFS clients tends to use the same ports (800 and
    counting down). Now on reboot, the server would still have a TCB for an
    existing TCP connection client:800 -> server:2049. The client sends a
    SYN from port 800 to server:2049, which elicits an ACK from the server.
    The firewall on the client drops the ACK because (from its point of
    view) the connection is still in half-open state, and it expects to see
    a SYNACK.
    
    The client will eventually time out after several minutes.
    
    The following patch corrects this, by accepting ACKs on half open
    connections as well.
    
    Signed-off-by: Jozsef Kadlecsik <kadlec@blackhole.kfki.hu>
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6bc733e9f71c937f3c64159bf1e569321726a44c
Author: Hugh Dickins <hugh@veritas.com>
Date:   Thu Dec 1 20:21:57 2005 +0000

    [SCSI] st: fix a bug in sgl_map_user_pages failure path
    
    Nick and I had already been looking at drivers/scsi/{sg.c,st.c},
    brought there by __put_page in sg.c's peculiar sg_rb_correct4mmap,
    which we'd like to remove.  But that's irrelevant to your pain, except...
    
    One extract from the patches I'd like to send Doug and Kai for 2.6.15
    or 2.6.16 is this below: since the incomplete get_user_pages path omits
    to reset res, but has already released all the pages, it will result in
    premature freeing of user pages, and behaviour just like you've seen.
    
    Though I'd have thought incomplete get_user_pages was an exceptional
    case, and a bit surprised you'd encounter it.  Perhaps there's some
    other premature freeing in the driver, and this instance has nothing
    whatever to do with it.
    
    If the problem were easily reproducible, it'd be great if you could
    try this patch; but I think you've said it's not :-(
    
    Signed-off-by: Kai Makisara <kai.makisara@kolumbus.fi>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c87e34efaecc952f9a0c1bbb9c6da76ccbf5ee3d
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Thu Dec 1 11:06:25 2005 -0700

    [SCSI] mptfusion: Add maintainers
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2a238ea5fbf2bd9a18a4ffb607418a4b9394647e
Author: Moore, Eric Dean <Eric.Moore@lsil.com>
Date:   Thu Dec 1 10:50:32 2005 -0700

    [SCSI] mptfusion : dv performance fix
    
    Syncronization for Domain Validation workqueue and the initiation of the
    alternate controller.  Its possible that dv could be terminated if the
    workqueue on the 1st channel doesn complete in time before the 2nd channel
    begins initialization.
    
    Signed-off-by: Eric Moore <Eric.Moore@lsil.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8b2f81385aa02e9405990b7fe44462dfceb75ef7
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Nov 29 23:08:38 2005 -0500

    [SCSI] sym2: Disable IU and QAS negotiation
    
    Enabling these features causes problems with some drives, so disable
    them until they're debugged
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fb121b067be77a9927e9453e427cf5819eb8ef01
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Thu Dec 1 02:49:29 2005 +0100

    [SCSI] zfcp: fix return code of zfcp_scsi_slave_alloc
    
    Change return code in slave_alloc to avoid irritating error message from
    scsi_alloc_sdev() when scsi stack tries target scan.
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ee69ab7af3cd68423e389272e1276718d4cd8ebc
Author: Maxim Shchetynin <maxim@de.ibm.com>
Date:   Thu Dec 1 02:48:41 2005 +0100

    [SCSI] zfcp: fix link down handling during firmware update
    
    Don't check link down payload in case of firmware update.
    
    Signed-off-by: Maxim Shchetynin <maxim@de.ibm.com>
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2448c45965870ca9cfdb66388b4fcc93f1e12bb7
Author: Andreas Herrmann <aherrman@de.ibm.com>
Date:   Thu Dec 1 02:50:36 2005 +0100

    [SCSI] zfcp: fix adapter initialization
    
    Fixed various problems in opening sequence of adapters which was previously
    changed with NPIV support:
    o corrected handling when exchange port data function is not supported,
      otherwise adapters on z900 cannot be opened anymore
    o corrected setup of timer for exchange port data if called from error
      recovery
    o corrected check of return code of exchange config data
    
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c48a29d065cfa18c3e8699f5e3a84a59ad35e062
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Thu Dec 1 02:46:32 2005 +0100

    [SCSI] zfcp: fix spinlock initialization
    
    Move initialization of locks and lists to adapter allocation function.
    Otherwise we might end up with some uninitialized locks, like e.g. the
    erp locks which only will be inititialized if an error recovery thread
    for an adapter will be started.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andreas Herrmann <aherrman@de.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8bdf810f89c3e686ba18a11e2852f32014f1506a
Author: Mark Haverkamp <markh@osdl.org>
Date:   Wed Nov 30 12:01:39 2005 -0800

    [SCSI] aacraid: Check scsi_bios_ptabe return code
    
    Received from Mark Salyzyn.
    
    scsi_bios_ptable return value is not being checked in aac_biosparm.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 349cd7cfe6ba0b2e7cd2afdc3e70ede845311afe
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Mon Nov 28 15:41:58 2005 -0600

    [SCSI] SPI DV: be more conservative about echo buffer usage
    
    Some SCSI devices apparently get very confused if we try to use the
    echo buffer on a non-DT negotiated bus (this mirrors the problems of
    using PPR on non-LVD for some devices).  The fix is to be far more
    conservative about when we use an echo buffer.  With this patch, we'll
    now see what parameters are negotiated by the read only test, and only
    look for an echo buffer if DT is negotiated.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 11849fe67430ba48547e17b25a7831da29863efa
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Thu Dec 1 20:58:01 2005 +0000

    [ARM] sema_count() removal
    
    sema_count() defined only for ARM but not used anywhere.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 08af295ba491123d067400228d887ca574aceecd
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Dec 1 15:52:47 2005 +0000

    [ARM] 3188/1: Add missing i2c dependency for Akita
    
    Patch from Richard Purdie
    
    Akita requires inbuilt kernel i2c support for its GPIOs. Add this
    requirement to Kconfig and update the defconfig to match.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a35d6c91b8f061da9b76c8c0102d1e1e6bc6f47b
Author: Jeff Hansen <jhansen@cardaccess-inc.com>
Date:   Thu Dec 1 15:50:35 2005 +0000

    [ARM] Fix IXDP425 setup bug
    
    There is a typo in the ARM IXDP425 setup definition that mistakenly tries
    to use UART1's IRQ for UART2's traffic.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 00b4c90787298349b799069360ced9ca843153dc
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Dec 1 15:47:24 2005 +0000

    [ARM SMP] Use event instructions for spinlocks
    
    ARMv6K CPUs have SEV (send event) and WFE (wait for event) instructions
    which allow the CPU clock to be suspended until another CPU issues a
    SEV, rather than spinning on the lock wasting power.  Make use of these
    instructions.
    
    Note that WFE does not wait if an event has been sent since the last WFE
    cleared the event status, so although it may look racy, the instruction
    implementation ensures that these are dealt with.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 80b42598eec1627084e225c575201bdd838f5b8f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Dec 1 11:05:19 2005 +0000

    [MIPS] Update defconfigs to reflect Kconfig changes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 85b05496024fd913da2c1fbea711ebcdfd40c2f3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 30 17:21:06 2005 +0000

    [MIPS] Avoid duplicate do_syscall_trace calls on return from sigreturn.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 04a7052c8399edc95b5e120c980823ccaade6aaf
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 30 16:24:57 2005 +0000

    [MIPS] Fix register handling in syscalls when debugging.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ecd5a739048b4d94e4ae3545196eb752d6776c97
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 29 17:03:02 2005 +0000

    [MIPS] Alchemy: Set board type on initialization.
    
    From Sergei Shtylylov <sshtylyov@ru.mvista.com>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dea91002d45e4f0fe83768703288e1cde917371c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 29 16:01:32 2005 +0000

    [MIPS] Alchemy: Fix BCSR accesses.
    
    Fixes BCSR accesses in the board setup/reset code.  The registers are
    actually 16-bit, and their addresses are different between DBAu1550 and
    other DBAu1xx0 boards.
    
    From Sergei Shtylylov <sshtylyov@ru.mvista.com>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit edcb98d1db7d0320d7b1920c05a4f1cafe7cb798
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 29 13:01:01 2005 +0000

    [MIPS] Fix return path of sysmips(MIPS_ATOMIC_SET, ...)
    
    The way we were doing things does no longer work on 2.6.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fe3d72858c34a464976c6f8076971e2862d5c3b8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 28 13:15:08 2005 +0000

    [MIPS] Qemu: Accept kernel command line passed by the Emulator.
    
    From Daniel Jacobowitz <dan@debian.org>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e76beeebff09b6a5eb338f306349ddc451a7804d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 28 13:12:51 2005 +0000

    [MIPS] Qemu: Qemu is emulating a 1193.182kHz i8254 PIC.
    
    From Daniel Jacobowitz <dan@debian.org>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 56ebd51bae72c2e47c83f6eacf258479d5658ec8
Author: Daniel Jacobowitz <dan@debian.org>
Date:   Sat Nov 26 22:34:41 2005 -0500

    [MIPS] Generate SIGILL again
    
    The rdhwr emulation accidentally swallowed the SIGILL from most other
    illegal instructions.  Make sure to return -EFAULT by default.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b6c3539bdd6d766cffea76698c85ebb92bf3fb12
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Nov 25 11:35:40 2005 +0000

    [MIPS] Kconfig: Include init/Kconfig after we've set 32BIT / 64BIT.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d981733aaf970e4537bb8dee9422ee775d92e5ae
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 23 13:49:09 2005 +0000

    [MIPS] Use reset_page_mapcount to initialize empty_zero_page usage counter.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8b36612a23fda542fab5f0c6c26e15e2178e3d0e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 22 17:53:59 2005 +0000

    [MIPS] R10000 and R12000 need to set MIPS_CPU_4K_CACHE ...
    
    ... because they have R4000-style caches.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 380b92537c23422b277ff66eb7086a092dbb75cb
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Nov 19 21:51:56 2005 +0000

    [MIPS] JMR3927: Declare puts function.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 702a96a62b2a37025a752409b0dc08d8473096b1
Author: Sergei Shtylylov <sshtylyov@ru.mvista.com>
Date:   Fri Nov 18 22:20:31 2005 +0300

    [MIPS] JMR3927 fixes.
    
     o Check if IRQ is disabled or in progress before reenabling interrupts
       in jmr3927_irq_end..
     o s/spinlock_irqsave/spin_lock_irqsave/
     o s/spinlock_irqrestore/spin_unlock_irqrestore/
     o Flush write buffer after setting IRQ mask
     o In 2.6 jmr3927_ioc_interrupt interrupt handlers return irqreturn_t
    
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ea182d4aefa3a27847d890b1592a608d1180aa45
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 04:31:32 2005 -0500

    [netdrvr skge] fix typo, fix build

commit ab80882bf339c5954a69bb0603df0113b17d384f
Author: Komuro <komurojun-mbn@nifty.com>
Date:   Thu Dec 1 02:37:17 2005 -0500

    [netdrvr fmvj18x_cs] fix multicast bug
    
    * use set_rx_mode to (re)initialize the multicast table.
    * MC_FILTERBREAK is 64 (= 8 * 8bit)
    * remove local_info_t.mc_filter

commit 1d97f384486a697ed227ef4609a26f18a8ea9a11
Author: Matthieu CASTET <castet.matthieu@free.fr>
Date:   Thu Dec 1 02:35:26 2005 -0500

    [wireless airo] reset card in init
    
    without this patch after an rmmod, modprobe the card won't work anymore
    until the next reboot.
    
    This patch seem safe to apply for all cards as the bsd driver already do
    that.
    
    I had to add a timeout because strange things happen (issuecommand will
    fail) if the card is already reseted (after a reboot).
    
    PS : it seems there are missing reset when leaving monitor mode...
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>

commit 1096e87174f925bb817a41386ee70573b2a7d6ff
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Nov 28 11:38:50 2005 -0800

    [PATCH] skge: handle VLAN checksum correctly on yukon rev 0
    
    If using UDP over VLAN, with the skge driver there is a possibility
    of generating an incorrect checksum. This is a unlikely occurrence
    because it is only an issue on Yukon revision 0, and that revision
    doesn't seem to exist on any current hardware (probably early prototype).
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c08ad1e304061dbd6ef7545d8f2db530b43c0fbd
Author: Pavel Roskin <proski@gnu.org>
Date:   Tue Nov 29 02:59:27 2005 -0500

    [PATCH] orinoco: fix setting power management parameters
    
    Power management parameters could not be set by iwconfig due to
    incorrect error handling.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee7ebdf40260c6c5586f20cda5d253bc988e7baa
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 22 00:19:44 2005 +0000

    [PATCH] jazzsonic: Fix platform device code
    
    Use platform_driver_unregister not driver_unregister to unregister a
    struct platform_driver.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 23c2a7b5dea983c7cee2813817409552f9714e95
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 22 00:16:51 2005 +0000

    [PATCH] jazzsonic: Fix build error.
    
    jazz_sonnic_device -> jazz_sonic_device
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 56344d822efb25e66df87c5ee81aab8accf4d706
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 21 21:05:02 2005 +0000

    [PATCH] mipsnet: Fix Copyright notice.
    
    Sorry, no sekr1t mips c0dez ;-)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8169bd919146f468942f40c3e708f9ada74a30a4
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Thu Nov 24 14:48:40 2005 -0800

    [PATCH] ibm_emac: fix graceful stop timeout handling
    
    This patch fixes graceful stop timeout handling in PPC4xx EMAC driver.
    
    Currently, when we stop TX/RX channels we just do some number of loops
    without relying on actual spent time. This has finally bitten me on
    one of our systems (heavy network traffic during start up, RX channel
    is stopped several times to configure multicast list).
    
    Graceful channel stop can take up to 1 frame time, so I've added
    device specific timeout counter which depends on current link speed
    and calls to udelay() to really wait required amount of time before
    giving up.
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit be0df20cb5ffd36ced9393d004e473d5c531b5da
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:51 2005 -0800

    [PATCH] sk98lin: avoid message confusion with skge
    
    Avoid possible confusion between skge and sk98lin driver by
    tagging messages properly.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4f4c81504284c0ab66fc6d773dfb3b54aca02427
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:50 2005 -0800

    [PATCH] sk98lin: add permanent address support
    
    Add permanent address and link status support via ethtool.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 596f86a8d8a70005728944143f08fe5414443355
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Wed Nov 23 22:00:49 2005 -0800

    [PATCH] sk98lin: fix checksumming code
    
    Remove code from sk98lin that does it's own checksum validation.
    This code is incorrect when dealing with nested protocols like
    VLAN's, and it is better to use regular receive code path to
    handle hardware checksum.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a174fd88d2b73c1933ea24ed533354d618c7d089
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Tue Nov 29 19:23:59 2005 -0800

    [PATCH] e1000: fix for dhcp issue
    
    Parse outgoing packets in e1000_transfer_dhcp_info as raw packet even if
    protocol bits are set.  pump, for instance causes kernel panic on some
    systems, if parsed via udp header.
    
    Thanks to Derrell Lipman <Derrell.Lipman@BacklotTech.com> for reporting and
    testing.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d5366d9e24d1e864e48e1705c9b7c21cfc0e9cea
Merge: 5666c09... 981d9c1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Dec 1 02:08:27 2005 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit 220ec706645ecf13ee3a87046d17316303905698
Merge: 16071a0... 1cbf4c5...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 1 01:42:17 2005 -0500

    Pull 3410 into release branch

commit 16071a073d44ef3ca3f79d0b49371a79464d9ac0
Merge: b7639da... cd8e2b4...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 1 01:39:55 2005 -0500

    Pull 5452 into release branch

commit b7639dafb4e175ddd637425da5ff65f03e08028e
Merge: c8734a9... 59d399d...
Author: Len Brown <len.brown@intel.com>
Date:   Thu Dec 1 01:39:41 2005 -0500

    Pull 5571 into release branch

commit 5666c0947ede0432ba5148570aa66ffb9febff5b
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 30 22:25:15 2005 -0800

    Linux v2.6.15-rc4

commit cd8e2b48daee891011a4f21e2c62b210d24dcc9e
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Fri Oct 21 19:22:00 2005 -0400

    [ACPI] fix 2.6.13 boot hang regression on HT box w/ broken BIOS
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5452
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 59d399d357a7705568f424c6e861ee8657f7f655
Author: Thomas Renninger <trenn@suse.de>
Date:   Tue Nov 8 05:27:00 2005 -0500

    [ACPI] Fix Null pointer deref in video/lcd/brightness
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5571
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Signed-off-by: Yu Luming <luming.yu@gmail.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 1cbf4c563c0eaaf11c552a88b374e213181c6ddd
Author: Thomas Renninger <trenn@suse.de>
Date:   Thu Sep 16 11:07:00 2004 -0400

    [ACPI] Allow return to active cooling mode once passive mode is entered
    
    http://bugzilla.kernel.org/show_bug.cgi?id=3410
    https://bugzilla.novell.com/show_bug.cgi?id=131543
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Signed-off-by: Konstantin Karasyov <konstantin.a.karasyov@intel.com>
    Signed-off-by: Alexey Starikovskiy <alexey.y.starikovskiy@intel.com>
    Signed-off-by: Yu Luming <luming.yu@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit c8734a9663806b7ebd3b5e33bae65a60ff6553bd
Merge: 8e9887c... e6e87b4...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 30 22:28:15 2005 -0500

    Pull 5283 into release branch

commit e6e87b4bfe3720b4308a8e669078d9be58bc9780
Author: David Shaohua Li <shaohua.li@intel.com>
Date:   Wed Sep 21 01:35:00 2005 -0400

    [ACPI] properly detect pmtimer on ASUS a8v motherboard
    
    Handle FADT 2.0 xpmtmr address 0 case.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5283
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 8e9887cc3b8d9f1c88c6f3842346a9478e52718f
Merge: 0a47c90... d2149b5...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 30 22:22:52 2005 -0500

    Auto-update from upstream

commit 0a47c906342e2447003e207d23917dfa5c912071
Author: Borislav Petkov <petkov@uni-muenster.de>
Date:   Wed Nov 30 22:12:45 2005 -0500

    [ACPI] delete "default y" on Kconfig for ibm_acpi extras driver
    
    Signed-off-by: Borislav Petkov <petkov@uni-muenster.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 5d8e7aa6e5c21e14843404c5e4c04d4cf043e40e
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Thu Sep 22 01:15:57 2005 -0400

    [ACPI] IA64 build: blacklist.c is used only on X86
    
    Signed-off-by: Al Viro <viro@ftp.linux.org.uk>
    Signed-off-by: Len Brown <len.brown@intel.com>
    (cherry picked from ef4611613657dfb8af8d336f2f61f08cfcdc9d8a commit)

commit 7dac562f6d89b3f70c3f12b0e17878b07af42298
Merge: 3141b67... 4c03355...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 30 21:55:14 2005 -0500

    Pull 5165 into release branch

commit 3141b6708dd9ad09b6667c23393cfdc25b127771
Merge: d2149b5... bd7ce5b...
Author: Len Brown <len.brown@intel.com>
Date:   Wed Nov 30 21:55:02 2005 -0500

    Pull 5221 into release branch

commit d2149b542382bfc206cb28485108f6470c979566
Merge: 25741b3... 346f7db...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Nov 30 15:56:59 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 981d9c176dacf397d267215d44a4060c28663480
Author: Francois Romieu <romieu@electric-eye.fr.zoreil.com>
Date:   Wed Nov 30 22:35:39 2005 +0100

    b44: increase version number
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 3410572d519b6c68505f746f25033de97809eaa1
Author: Francois Romieu <romieu@electric-eye.fr.zoreil.com>
Date:   Wed Nov 30 22:32:13 2005 +0100

    b44: early return in dev->do_ioctl when the device is not up
    
    The device has not gone through a whole reset/init sequence until the
    device is up. Accessing the mii interface before this point is not
    safe.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit d9e2d185bf01e20339158f77c3fca00b02014912
Author: Mark Lord <lkml@rtr.ca>
Date:   Wed Nov 30 22:30:23 2005 +0100

    b44: missing netif_wake_queue() in b44_open()
    
    This patch fixes a problem plaguing Dell notebooks with built-in b44
    ethernet: The driver refuses to transmit packets of any kind until after
    the first 5-second tx_timeout occurs. This bug causes DHCP negotiation to
    fail (timeout) during installation of Ubuntu Linux.
    
    Signed-off-by: Mark Lord <lkml@rtr.ca>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit 346f7dbb17cb7d84317b4410df2e8f7bf2e57f44
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 30 10:22:30 2005 -0800

    Revert "[PATCH] pci_ids.h: remove duplicate entries"
    
    This reverts commit c9d6073fb3cda856132dd544d537679f9715436c.
    
    It was totally bogus.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a145dd411eb28c83ee4bb68b66f62c326c0f764e
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 30 09:35:19 2005 -0800

    VM: add "vm_insert_page()" function
    
    This is what a lot of drivers will actually want to use to insert
    individual pages into a user VMA.  It doesn't have the old PageReserved
    restrictions of remap_pfn_range(), and it doesn't complain about partial
    remappings.
    
    The page you insert needs to be a nice clean kernel allocation, so you
    can't insert arbitrary page mappings with this, but that's not what
    people want.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8e988436b9d83b20bc5cc378f1a8034816ae6a6
Merge: c801147... 8926bfa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 30 08:49:20 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/usb-2.6

commit c801147c5a103eec864afee348c4ee3fdb0f380c
Author: Egbert Eich <eich@suse.de>
Date:   Wed Nov 30 15:32:59 2005 +0100

    [PATCH] SiS DRM: Fix possible NULL dereference
    
    This fixes a NULL pointer reference in DRM.  The SiS driver tries to
    allocate a big chunk of memory, but the return value is never checked.
    
    Reported in Novell bugzilla #132271:
      https://bugzilla.novell.com/show_bug.cgi?id=132271
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df2f5e721ed36e21da27e1f415c71ba0e20f31b5
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 30 16:02:54 2005 +0000

    [ARM SMP] Disable lazy flush_dcache_page for SMP
    
    Lazy flush_dcache_page() causes userspace instability on SMP
    platforms, so disable it for now.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bd7ce5b5ff930c29b1c0405051e9c9388660b785
Author: Thomas Renninger <trenn@suse.de>
Date:   Mon Oct 3 10:39:00 2005 -0700

    [ACPI] fix HP nx8220 boot hang regression
    
    This patch reverts the acpi_bus_find_driver() return value check
    that came in via the PCI tree via 3fb02738b0fd36f47710a2bf207129efd2f5daa2
    
            [PATCH] acpi bridge hotadd: Allow ACPI .add and .start
    	operations to be done independently
    
    This particular change broke booting of some HP/Compaq laptops unless
    acpi=noirq is used.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5221
    https://bugzilla.novell.com/show_bug.cgi?id=116763
    
    Signed-off-by: Thomas Renninger <trenn@suse.de>
    Cc: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>

commit 4c0335526c95d90a1d958e0059f40a5745fc7c5d
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Thu Sep 15 12:20:00 2005 -0400

    [ACPI] Add support for FADT P_LVL2_UP flag
    which tells us if C2 is valid for UP-only, or SMP.
    
    As there is no separate bit for C3,  use P_LVL2_UP
    bit to cover both C2 and C3.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5165
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>
    (cherry picked from 28b86b368af3944eb383078fc5797caf2dc8ce44 commit)

commit 6d93c64803a5fea84839789aae13290419c62d92
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Thu Sep 15 12:19:00 2005 -0400

    [ACPI] Prefer _CST over FADT for C-state capabilities
    
    Note: This ACPI standard compliance may cause regression
    on some system, if they have _CST present, but _CST value
    is bogus. "nocst" module parameter should workaround
    that regression.
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5165
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Len Brown <len.brown@intel.com>
    (cherry picked from 883baf7f7e81cca26f4683ae0d25ba48f094cc08 commit)

commit 25741b3e43151bc207dd2b850b0bb157c442682b
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 29 22:38:43 2005 -0800

    [CIFS] For previous fix, mode on mkdir needed S_IFDIR left out.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 8926bfa7462d4c3f8b05cca929e0c4bcde93ae38
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Nov 28 08:40:38 2005 -0800

    [PATCH] USB: ehci fixups
    
    Rename the EHCI "reset" routine so it better matches what it does (setup);
    and move the one-time data structure setup earlier, before doing anything
    that implicitly relies on it having been completed already.
    
    From: David Brownell <david-b@pacbell.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8de98402652c01839ae321be6cb3054cf5735d83
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Nov 25 09:59:46 2005 +1100

    [PATCH] USB: Fix USB suspend/resume crasher (#2)
    
    This patch closes the IRQ race and makes various other OHCI & EHCI code
    path safer vs. suspend/resume.
    I've been able to (finally !) successfully suspend and resume various
    Mac models, with or without USB mouse plugged, or plugging while asleep,
    or unplugging while asleep etc... all without a crash.
    
    Alan, please verify the UHCI bit I did, I only verified that it builds.
    It's very simple so I wouldn't expect any issue there. If you aren't
    confident, then just drop the hunks that change uhci-hcd.c
    
    I also made the patch a little bit more "safer" by making sure the store
    to the interrupt register that disables interrupts is not posted before
    I set the flag and drop the spinlock.
    
    Without this patch, you cannot reliably sleep/wakeup any recent Mac, and
    I suspect PCs have some more sneaky issues too (they don't frankly crash
    with machine checks because x86 tend to silently swallow PCI errors but
    that won't last afaik, at least PCI Express will blow up in those
    situations, but the USB code may still misbehave).
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d3420ba4930d61f4ec4abc046765de274182b4ed
Author: Dave Jones <davej@redhat.com>
Date:   Mon Nov 28 13:44:52 2005 -0500

    [PATCH] Additional device ID for Conexant AccessRunner USB driver
    
    Reported as working in Fedora bugzilla by Petr.
    
    From: Petr Tuma <petr.tuma@mff.cuni.cz>
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 620948a01c71060a32611bc2f792f58a88cf28b1
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Nov 28 15:22:55 2005 -0500

    [PATCH] USB: documentation update
    
    This patch (as611) fixes a minor mistake and misspelling in the USB
    documentation.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c9d6073fb3cda856132dd544d537679f9715436c
Author: Grant Coady <grant_lkml@dodo.com.au>
Date:   Thu Nov 24 20:41:06 2005 +1100

    [PATCH] pci_ids.h: remove duplicate entries
    
    G'day Albert, Andrew,
    
    	commit 4fb80634d30f5e639a92b78c8f215f96a61ba8c7
    	Author: Albert Lee <albertcc@tw.ibm.com>
    	Date:   Thu May 12 15:49:21 2005 -0400
    
    duplicates symbols already appearing in pci_ids.h, appended patch
    removes them again :o)
    
    From: Grant Coady <gcoady@gmail.com>
    
    pci_ids: commit 4fb80634d30f5e639a92b78c8f215f96a61ba8c7 duplicated a
    couple existing symbols in pci_ids.h, remove them.
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9632051963cb6e6f7412990f8b962209b9334e13
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Nov 29 22:27:14 2005 +0100

    [PATCH] hwmon: w83792d fix unused fan pins
    
    1. This patch add check for fan4,5,6,7 and do not create device file
       if their pins are not configured as fan.
    2. Fix the issue that can not set fan divisor to 128.
    3. Fix the index out of bounds bug in w83792d_detect function.
    
    Signed-off-by: Yuan Mu <ymu@winbond.com.tw>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2a138ebb012ac42c082ae8b40c87c1f265664391
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 29 21:22:19 2005 -0800

    [CIFS] Missing parenthesis and typo in previous fix
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 606c0dafbe88102d64c1253caed8a2c36987070f
Merge: 6ab16d2... d2ef5eb...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 29 20:56:07 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 6ab16d249513a50bef3f1b275cea6aa8d3f51832
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 29 20:55:11 2005 -0800

    [CIFS] Fix umount --force to wake up the pending response queue, not just
    the request queue. Also periodically wakeup response_q so threads can
    check if stuck requests have timed out. Workaround Windows server illegal smb
    length on transact2 findfirst response.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 6473a559c336d5c407f9df412ca2f55357767ff8
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 29 20:20:10 2005 -0800

    [CIFS] Fix missing permission check on setattr when noperm mount option is
    disabled.  Also set mode, uid, gid better on mkdir and create for the
    case when Unix Extensions is not enabled and setuids is enabled. This is
    necessary to fix the hole in which chown could be allowed for non-root
    users in some cases if root mounted, and also to display the mode and uid
    properly in some cases.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d2ef5ebb4c4fe141a82252d4db8d8521e6765c5a
Merge: 1a57198... ed1189b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 20:17:08 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 1a57198609615a936ff57da37b6957db9bafde83
Author: Mark Fortescue <mark@mtfhpc.demon.co.uk>
Date:   Tue Nov 29 19:34:44 2005 -0800

    [PATCH] fbdev: cg3fb: Kconfig fix
    
    A cut and past error regarding the CG3 frame buffer needs to be fixed.  It
    also affects Creator/Creator3D/Elite3D.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49d5c7b08713c3a482d62b5a0ad41b4ec32905a5
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Tue Nov 29 19:34:43 2005 -0800

    [PATCH] fbdev: cirrusfb: Driver cleanup and bug fixes
    
    - pseudo_palette is only 16 entries long
    
    - the pseudo_palette, if using the generic drawing functions, must always be
      u32 regardless of bpp
    
    - the fillrect accelerator is using region->color regardless of the visual.
      region->color is the index to the pseudo_palette if visual is truecolor
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe655d3a06488c8a188461bca493e9f23fc8c448
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Tue Nov 29 19:34:42 2005 -0800

    [PATCH] setting irq affinity is broken in ia32 with MSI enabled
    
    Setting irq affinity stops working when MSI is enabled.  With MSI, move_irq
    is empty, so we can't change irq affinity.  It appears a typo in Ashok's
    original commit for this issue.  X86_64 actually is using move_native_irq.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0b623c3b22d57d6941b200321779d56c4e79e6b
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 29 19:34:41 2005 -0800

    [PATCH] hfsplus: don't modify journaled volume
    
    Access to a journaled HFS+ volume is not officially supported under Linux, so
    mount such a volume read-only, but users can override this behaviour using the
    "force" mount option.
    
    The minimum requirement to relax this check is to at least check that the
    journal is empty and so nothing needs to be replayed to make sure the volume
    is consistent.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 576f6d79564d0d2c1f43088e6805674d2e122935
Author: Jeff Mahoney <jeffm@suse.com>
Date:   Tue Nov 29 19:34:39 2005 -0800

    [PATCH] reiserfs: handle cnode allocation failure gracefully
    
    If an external device is used for a journal, by default it will use the
    entire device.  The reiserfs journal code allocates structures per journal
    block when it mounts the file system.  If the journal device is too large,
    and memory cannot be allocated for the structures, it will continue and
    ultimately panic when it can't pull one off the free list.
    
    This patch handles the allocation failure gracefully and prints an error
    message at mount time.
    
    Changes: Updated error message to be more descriptive to the user.
    
    Discussed and approved on ReiserFS Mailing List, Nov 28.
    
    Signed-off-by: Jeff Mahoney <jeffm@suse.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f232a125bf86b0dae09f8ea4a0553535cf6b658
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Tue Nov 29 19:34:38 2005 -0800

    [PATCH] ppc: fix floating point register corruption
    
    I recently discovered a bug on PPC which causes the floating point
    registers to get corrupted when CONFIG_PREEMPT=y.
    
    The problem occurred while running a multi threaded Java application that
    does floating point.  The problem could be reproduced in anywhere from 2 to
    6 hours.  With the patch I have included below it ran for over a week
    without failure.
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Cc: Kumar Gala <galak@gate.crashing.org>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Cc: Tom Rini <trini@kernel.crashing.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 123d3c13e2853a11b4d599d754b356acb12886e2
Author: Pavel Machek <pavel@ucw.cz>
Date:   Tue Nov 29 19:34:37 2005 -0800

    [PATCH] fix swsusp on machines not supporting S4
    
    Fix swsusp on machines not supporting S4.  With recent changes, it is not
    possible to trigger it using /sys filesystem.  Swsusp does not really need
    any support from low-level code, it is possible to reboot or halt at the
    end of suspend.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: "Brown, Len" <len.brown@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d91b14c463306eb6527550ba48617e7f5500d3ae
Author: Thierry Vignaud <tvignaud@mandriva.com>
Date:   Tue Nov 29 19:34:35 2005 -0800

    [PATCH] fix rebooting on HP nc6120 laptop
    
    Anne NICOLAS <anne.nicolas@mandriva.com> and Andres Kaaber
    <andres.kaaber@rescue.ee> reported their HP laptop didn't reboot smoothly.
    
    Signed-off-by: Thierry Vignaud <tvignaud@mandriva.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5bd0190bf3d7e53043a048e809ffa29d41b9d6ac
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Nov 29 19:34:32 2005 -0800

    [PATCH] Fix crash when ptrace poking hugepage areas
    
    set_page_dirty() will not cope with being handed a page * which is part of
    a compound page, but not the master page in that compound page.  This case
    can occur via access_process_vm() if you attemp to write to another
    process's hugepage memory area using ptrace() (causing an oops or hang).
    
    This patch fixes the bug by only calling set_page_dirty() from
    access_process_vm() if the page is not a compound page.  We already use a
    similar fix in bio_set_pages_dirty() for the case of direct io to
    hugepages.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit df69a60dc6afc2936d79054d30b481c1fd9720e5
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Tue Nov 29 19:34:31 2005 -0800

    [PATCH] process events connector: uid_t gid_t size issues
    
    The uid_t and gid_t fields appear to present a 32/64-bit userspace/kernel
    problem for some archs.
    
    This patch addresses the problem by fixing the size to the largest size for
    uid_t/gid_t used in the kernel.  This preserves the total size of the event
    structure while ensuring that the layouts of the ID change event match in
    32 and 64-bit kernels and applications.
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed1189b7e8cd8144f0b232c220aed4ee26d89463
Author: Olaf Hering <olh@suse.de>
Date:   Tue Nov 29 14:04:05 2005 +0100

    [PATCH] powerpc: prevent stack corruption in call_prom_ret
    
    Use the correct pointer to clear the memory of the return values,
    to prevent stack corruption in the callers stackframe.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 48abec07cf8063184d397560a6a5f27eaf9caddf
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 30 13:20:54 2005 +1100

    powerpc: Fix bug causing FP registers corruption on UP + preempt
    
    This fixes a bug noticed by Paolo Galtieri and fixed for ARCH=ppc in
    the previous commit (ppc: fix floating point register corruption).
    This fixes the arch/powerpc code by adding preempt_disable/enable,
    and also cleans it up a bit by pulling out the code that discards
    any lazily-switched CPU register state into a new function, rather
    than having that code repeated in three places.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8117ce76c28ef0cab8545b518fa0543f6d1437e6
Author: Paolo Galtieri <pgaltieri@mvista.com>
Date:   Tue Nov 29 14:26:47 2005 -0800

    [PATCH] ppc: fix floating point register corruption
    
    I recently discovered a bug on PPC which causes the floating point
    registers to get corrupted when CONFIG_PREEMPT=y.
    
    The problem occurred while running a multi threaded Java application that
    does floating point.  The problem could be reproduced in anywhere from 2 to
    6 hours.  With the patch I have included below it ran for over a week
    without failure.
    
    Signed-off-by: Paolo Galtieri <pgaltieri@mvista.com>
    Cc: Kumar Gala <galak@gate.crashing.org>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Cc: Tom Rini <trini@kernel.crashing.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 12074a35b4ef36d7a971beaf42412b22f304cdd1
Merge: 49c91fb... 34a0b3c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 17:32:08 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 49c91fb01ff3948285608c65754b3ffbf57d50f2
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Tue Nov 29 19:27:22 2005 -0500

    [PATCH] VM: Fix typos in get_locked_pte
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4e401562c11c7ca65592ebd749353cf0b19af7b
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Tue Nov 29 16:57:01 2005 -0800

    IB/uverbs: track multicast group membership for userspace QPs
    
    uverbs needs to track which multicast groups is each qp
    attached to, in order to properly detach when cleanup
    is performed on device file close.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 34a0b3cdc078746788ffc49e56da0db62b8b6ea4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 29 16:28:56 2005 -0800

    [IPV6]: make two functions static
    
    This patch makes two needlessly global functions static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d127e94a5cf1c9c996b8c67cd2595b96c3e35e4c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 29 16:28:18 2005 -0800

    [NETFILTER] ipv4: small cleanups
    
    This patch contains the following cleanups:
    - make needlessly global code static
    - ip_conntrack_core.c: ip_conntrack_flush() -> ip_conntrack_flush(void)
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4b30b1c6a3e58dc74f2dbb0aa39f16a23cfcdd56
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 29 16:27:20 2005 -0800

    [IPV4]: make two functions static
    
    This patch makes two needlessly global functions static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9b5b5cff9a6655dbb6d2e2be365bb95eec3950eb
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Tue Nov 29 16:21:38 2005 -0800

    [NET]: Add const markers to various variables.
    
    the patch below marks various variables const in net/; the goal is to
    move them to the .rodata section so that they can't false-share
    cachelines with things that get written to, as well as potentially
    helping gcc a bit with optimisations.  (these were found using a gcc
    patch to warn about such variables)
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fb29644994744a63bc57186cefa79534b5d9b5a9
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Nov 29 16:17:11 2005 -0800

    [ATM]: [adummy] dummy ATM driver (similar to net/dummy)
    
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 64bf69ddff7637b7ed7acf9b2a823cc0ee519439
Author: Stanislaw Gruszka <stf_xl@wp.pl>
Date:   Tue Nov 29 16:16:41 2005 -0800

    [ATM]: deregistration removes device from atm_devs list immediately
    
    atm_dev_deregister() removes device from atm_dev list immediately to
    prevent operations on a phantom device.  Decision to free device based
    only on ->refcnt  now. Remove shutdown_atm_dev() use atm_dev_deregister()
    instead.  atm_dev_deregister() also asynchronously releases all vccs
    related to device.
    
    Signed-off-by: Stanislaw Gruszka <stf_xl@wp.pl>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit aaaaaadbe7a663d110814db50fcbe7d320eb4c32
Author: Stanislaw Gruszka <stf_xl@wp.pl>
Date:   Tue Nov 29 16:16:21 2005 -0800

    [ATM]: avoid race conditions related to atm_devs list
    
    Use semaphore to protect atm_devs list, as no one need access to it from
    interrupt context.  Avoid race conditions between atm_dev_register(),
    atm_dev_lookup() and atm_dev_deregister().  Fix double spin_unlock() bug.
    
    Signed-off-by: Stanislaw Gruszka <stf_xl@wp.pl>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 49693280262a149e5430d3401e263e464c88334a
Author: Mitchell Blank Jr <mitch@sfgoth.com>
Date:   Tue Nov 29 16:15:59 2005 -0800

    [ATM]: [lanai] kill lanai_ioctl() which just contains some old debugging code
    
    Signed-off-by: Mitchell Blank Jr <mitch@sfgoth.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5045b6d34c6a9efa4a8a1815265ca9fcf44d6a7c
Author: Chas Williams <chas@cmf.nrl.navy.mil>
Date:   Tue Nov 29 16:15:38 2005 -0800

    [ATM]: linux/config.h only needed for #ifdef __KERNEL__ section
    
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 50accc9c428273501dd2a6295c84a533dd1fe645
Author: Mitchell Blank Jr <mitch@sfgoth.com>
Date:   Tue Nov 29 16:15:18 2005 -0800

    [ATM]: attempt to autoload atm drivers
    
    From: Mitchell Blank Jr <mitch@sfgoth.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e91a73568b19b4a8145fc6e05314d522ee35a0b1
Author: Jan Pieter <pptp@jp.dhs.org>
Date:   Tue Nov 29 16:14:58 2005 -0800

    [ATM]: drivers/atm/atmdev_init.c no longer necessary
    
    From: Jan Pieter <pptp@jp.dhs.org>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fd22f1e037be33040f5583fe091d39d1e632e183
Author: Dave Jones <davej@redhat.com>
Date:   Tue Nov 29 16:14:33 2005 -0800

    [ATM]: [lanai] lanai missing unregister
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c22c28f69b1e28505bd0d26bd0f64554a9e66fe8
Author: Mitchell Blank Jr <mitch@sfgoth.com>
Date:   Tue Nov 29 16:14:12 2005 -0800

    [ATM]: [lanai] better constification
    
    Signed-off-by: Mitchell Blank Jr <mitch@sfgoth.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c219750b2e667f4f79f4d8faca5057dad793db87
Author: Mitchell Blank Jr <mitch@sfgoth.com>
Date:   Tue Nov 29 16:13:55 2005 -0800

    [ATM]: atm_pcr_goal() doesn't modify its argument's contents -- mark it as const
    
    Signed-off-by: Mitchell Blank Jr <mitch@sfgoth.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c9933d0856d6d0ede6b4b30e5e7330614f5203af
Author: Mitchell Blank Jr <mitch@sfgoth.com>
Date:   Tue Nov 29 16:13:32 2005 -0800

    [ATM]: always return the first interface for ATM_ITF_ANY
    
    From: Mitchell Blank Jr <mitch@sfgoth.com>
    Signed-off-by: Chas Williams <chas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 18955cfcb2a5d75a08e0cb297f13ccfb6904de48
Author: Mike Stroyan <mike.stroyan@hp.com>
Date:   Tue Nov 29 16:12:55 2005 -0800

    [IPV4] tcp/route: Another look at hash table sizes
    
      The tcp_ehash hash table gets too big on systems with really big memory.
    It is worse on systems with pages larger than 4KB.  It wastes memory that
    could be better used.  It also makes the netstat command slow because reading
    /proc/net/tcp and /proc/net/tcp6 needs to go through the full hash table.
    
      The default value should not be larger for larger page sizes.  It seems
    that the effect of page size is an unintended error dating back a long
    time.  I also wonder if the default value really should be a larger
    fraction of memory for systems with more memory.  While systems with
    really big ram can afford more space for hash tables, it is not clear to
    me that they benefit from increasing the allocation ratio for this table.
    
      The amount of memory allocated is determined by net/ipv4/tcp.c:tcp_init and
    mm/page_alloc.c:alloc_large_system_hash.
    
    tcp_init calls alloc_large_system_hash passing parameters-
        bucketsize=sizeof(struct tcp_ehash_bucket)
        numentries=thash_entries
        scale=(num_physpages >= 128 * 1024) ? (25-PAGE_SHIFT) : (27-PAGE_SHIFT)
        limit=0
    
    On i386, PAGE_SHIFT is 12 for a page size of 4K
    On ia64, PAGE_SHIFT defaults to 14 for a page size of 16K
    
    The num_physpages test above makes the allocation take a larger fraction
    of the total memory on systems with larger memory.  The threshold size
    for a i386 system is 512MB.  For an ia64 system with 16KB pages the
    threshold is 2GB.
    
    For smaller memory systems-
    On i386, scale = (27 - 12) = 15
    On ia64, scale = (27 - 14) = 13
    For larger memory systems-
    On i386, scale = (25 - 12) = 13
    On ia64, scale = (25 - 14) = 11
    
      For the rest of this discussion, I'll just track the larger memory case.
    
      The default behavior has numentries=thash_entries=0, so the allocated
    size is determined by either scale or by the default limit of 1/16 of
    total memory.
    
    In alloc_large_system_hash-
    |	numentries = (flags & HASH_HIGHMEM) ? nr_all_pages : nr_kernel_pages;
    |	numentries += (1UL << (20 - PAGE_SHIFT)) - 1;
    |	numentries >>= 20 - PAGE_SHIFT;
    |	numentries <<= 20 - PAGE_SHIFT;
    
      At this point, numentries is pages for all of memory, rounded up to the
    nearest megabyte boundary.
    
    |	/* limit to 1 bucket per 2^scale bytes of low memory */
    |	if (scale > PAGE_SHIFT)
    |		numentries >>= (scale - PAGE_SHIFT);
    |	else
    |		numentries <<= (PAGE_SHIFT - scale);
    
    On i386, numentries >>= (13 - 12), so numentries is 1/8196 of
    bytes of total memory.
    On ia64, numentries <<= (14 - 11), so numentries is 1/2048 of
    bytes of total memory.
    
    |        log2qty = long_log2(numentries);
    |
    |        do {
    |                size = bucketsize << log2qty;
    
    bucketsize is 16, so size is 16 times numentries, rounded
    down to a power of two.
    
    On i386, size is 1/512 of bytes of total memory.
    On ia64, size is 1/128 of bytes of total memory.
    
    For smaller systems the results are
    On i386, size is 1/2048 of bytes of total memory.
    On ia64, size is 1/512 of bytes of total memory.
    
      The large page effect can be removed by just replacing
    the use of PAGE_SHIFT with a constant of 12 in the calls to
    alloc_large_system_hash.  That makes them more like the other uses of
    that function from fs/inode.c and fs/dcache.c
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2f12c74f0cfdc93e1d47ac70766e837ef29472fd
Merge: 92af254... cab3f16...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 14:23:38 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 92af254a1b7ea8c09ddff83887e5edc1342b37f8
Merge: f747307... 5a94bcf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 14:23:21 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit f747307ed1defcdfd37a3ef84c48e3138691cd26
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 14:21:57 2005 -0800

    Revert "[PATCH] drivers/message/fusion/mptbase.c: make code static"
    
    This reverts commit 252ac865535e1ea9cc2d28be83f477d8d8b961a2.
    
    It impacts the LSI customers using the mptstm target mode drivers
    (source tar-ball at
    
      ftp://ftp.lsil.com/HostAdapterDrivers/linux/Fusion-MPT/mptstm-1.00.13-src.tar.gz
    
    for those who care).
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 325f04dbca60a4cfe4ac25e7cf246edd07eb4c5f
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Nov 29 16:55:48 2005 +0000

    [PATCH] pfnmap: do_no_page BUG_ON again
    
    Use copy_user_highpage directly instead of cow_user_page in do_no_page:
    in the immediately following page_cache_release, and elsewhere, it is
    assuming that new_page is normal.  If any VM_PFNMAP driver can get to
    do_no_page, it's just a BUG (but not in the case of do_anonymous_page).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5bbe4dfc8dbfc50ef89f8641e020616d4d1e69e
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Nov 29 16:54:51 2005 +0000

    [PATCH] pfnmap: remove src_page from do_wp_page
    
    Clean away do_wp_page's "src_page": cow_user_page makes it unnecessary.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d2a2dbbc1025dbf7998b9289574d9592b8f21cc
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 14:07:55 2005 -0800

    cow_user_page: fix page alignment
    
    High Dickins points out that the user virtual address passed to the page
    fault handler isn't necessarily page-aligned.
    
    Also, add a comment on why the copy could fail for the user address case.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9cfcddfd65735437a4cb8563d6b66a6da8a5ed6
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 14:03:14 2005 -0800

    VM: add common helper function to create the page tables
    
    This logic was duplicated four times, for no good reason.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cab3f16febeaf1a60e38159ff578f609f9976544
Author: David S. Miller <davem@davemloft.net>
Date:   Tue Nov 29 13:59:03 2005 -0800

    [SPARC64]: Fix >8K I/O mappings.
    
    Increment the PFN field of the PTE so that the tests
    on vm_pfn in mm/memory.c match up.  The TLB ignores these
    lower bits for larger page sizes, so it's OK to set things
    like this.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4168f7a31801bba6acc18662978d24ec850bbbd0
Merge: 238f9b0... 2b9175c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 13:04:07 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/tglx/mtd-2.6

commit 238f9b063dcc9f23493a0d3fecca29fe332d4905
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 29 21:36:16 2005 +0100

    [PATCH] fix megaraid.c locking
    
    This fixes locking in megaraid.c, namely:
    
     (1) make sure megaraid_queue release the adapter lock by changing the
         code to have a single return
     (2) remove the errornous scsi_assign_lock call
    
    Testing by Burton Windle.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Burton Windle <bwindle@fint.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 238f58d898df941aa9d1cb390fb27ff4febe8965
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 13:01:56 2005 -0800

    Support strange discontiguous PFN remappings
    
    These get created by some drivers that don't generally even want a pfn
    remapping at all, but would really mostly prefer to just map pages
    they've allocated individually instead.
    
    For now, create a helper function that turns such an incomplete PFN
    remapping call into a loop that does that explicit mapping.  In the long
    run we almost certainly want to export a totally different interface for
    that, though.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eca351336acb2fa943611e0846562ce3997ef53b
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Nov 29 11:45:26 2005 -0800

    [PATCH] Fix missing pfn variables caused by vm changes
    
    I image this showed up because of "unused var..." when the changes
    occured, because flush_cache_page() is a noop in most places.  This
    showed up for me on parisc however, where flush_cache_page() is a real
    function.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0ae9ecf469fdd3c1ad999efbf4fe6b782f49900
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Nov 29 11:33:46 2005 -0800

    IB/mthca: fix posting of send lists of length >= 255 on mem-free HCAs
    
    On mem-free HCAs, when posting a long list of send requests, a
    doorbell must be rung every 255 requests.  Add code to handle this.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 267ee88ed34c76dc527eeb3d95f9f9558ac99973
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 29 10:55:58 2005 -0800

    IPoIB: fix error handling in ipoib_open
    
    If ipoib_ib_dev_up() fails after ipoib_ib_dev_open() is called, then
    ipoib_ib_dev_stop() needs to be called to clean up.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 2b9175c174b83b8d97db9398efe948fa9092938f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 29 14:49:38 2005 +0000

    [MTD] Make functions static, include header files with prototypes
    
    This patch contains the following possible cleanups:
    - every file should #include the headers containing the prototypes for
      it's global functions
    - make needlessly global functions static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 4f71055a45a503273c039d80db8ba9b13cb17549
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Nov 29 10:53:30 2005 -0800

    IPoIB: protect child list in ipoib_ib_dev_flush
    
    race condition: ipoib_ib_dev_flush is accessing child list without locks.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ee2d49de3e3a0b846ecedb36fec0e4a5ff222dcb
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Tue Nov 29 14:28:31 2005 +0000

    [MTD] chips: make sharps driver usable again
    
    Update the pre-CFI Sharp driver sharps.c so it compiles.  map_read32 /
    map_write32 no longer exist in the kernel so the driver is totally broken
    as it stands.  The replacement functions use different parameters resulting
    in the other changes.
    
    Change collie to use this driver until someone works out why the cfi driver
    fails on that machine.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Tested-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 72af3b2c5a9946e78125e143b636f3d7217bcf08
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 28 22:36:12 2005 +0000

    [MTD] Remove bogus PQ2FADS driver
    
    Remove disfunctional driver, which slipped through the review mechanism
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e2602b347aa6f62b61754c5f65191ef67ffd0dc7
Author: Luiz Capitulino <lcapitulino@mandriva.com.br>
Date:   Tue Nov 29 14:30:03 2005 +0000

    [MTD] maps: sparse fixup
    
    The patch below fixes the following sparse warning:
    
    drivers/mtd/maps/nettel.c:482:27: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 8bc3b3804a6123e634be26359558aa998102506a
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Nov 23 22:07:56 2005 +0000

    [MTD] cfi_cmdset_0001: relax locking rules for multi hardware partition support
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 7ac571f8d0f843fb818f7c70ec77784545e91bc4
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Nov 17 08:20:31 2005 +0000

    [MTD] Make some tables 'const' so they can live in .rodata
    
    arjan: drivers/mtd/maps/sc520cdp.c:167: warning: par_table is never written to and should be declared 'const'
    arjan: drivers/mtd/maps/pci.c:105: warning: mtd_pci_map is never written to and should be declared 'const'
    arjan: mind fixing those up ?
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 3c77354794939143fdf1dd669895a812f94f9a38
Author: John Bowler <jbowler@acm.org>
Date:   Wed Nov 16 16:23:25 2005 +0000

    [MTD] maps/ixp4xx: half-word boundary and little-endian fixups
    
    ixp4xx updates:
      - Handle reads that don't start on a half-word boundary.
      - Make it work when CPU is in little-endian mode.
    
    Signed-off-by: John Bowler <jbowler@acm.org>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: David Vrabel <dvrabel@arcom.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 987d24018dc83d27e491674c50ff2272f51eb719
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Tue Nov 15 23:28:20 2005 +0000

    [MTD] CFI: Use 16-bit access to autoselect/read device id data
    
    Recent models of Intel/Sharp and Spansion CFI flash now have significant
    bits in the upper byte of device ID codes, read via what Spansion calls
    "autoselect" and Intel calls "read device identifier".  Currently these
    values are truncated to the low 8 bits in the mtd data structures, as
    all CFI read query info has previously been read one byte at a time.
    Add a new method for reading 16-bit info, currently just manufacturer
    and device codes; datasheets hint at future uses for upper bytes in
    other fields.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 3eb8ceac486ed9b6eceed098423f1ca6b180ec9d
Author: Maciej W. Rozycki <macro@infradead.org>
Date:   Mon Nov 14 13:41:51 2005 +0000

    [MTD] devices/ms02-nv: phys/virt address fixups
    
    Merge from linux-mips:
    Use physical addresses at the interface level, letting drivers remap
    them as appropriate.
    
    Signed-off-by: Maciej W. Rozycki <macro@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2e86541ec878de9ec5771600a77f451a80bebfc4
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 29 10:25:23 2005 -0800

    IPoIB: don't zero members after we allocate with kzalloc
    
    ipoib_mcast_alloc() uses kzalloc(), so there's no need to zero out
    members of the mcast struct after it's allocated.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit de922487890936470660e89f9095aee980637989
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Tue Nov 29 10:18:45 2005 -0800

    IPoIB: reinitialize mcast structs' completions for every query
    
    Make sure mcast->done is initialized to uncompleted value before we
    submit a new query, so that it's safe to wait on.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 5872a9fc28e6cd3a4e51479a50970d19a01573b3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 29 10:13:54 2005 -0800

    IPoIB: always set path->query to NULL when query finishes
    
    Always set path->query to NULL when the SA path record query
    completes, rather than only when we don't have an address handle.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 5a94bcfd2a18edcf368b3128c7df07b58e529932
Author: Keshavamurthy Anil S <anil.s.keshavamurthy@intel.com>
Date:   Tue Nov 22 14:15:49 2005 -0800

    [IA64] Remove getting break_num by decoding instruction
    
    break.b always sets cr.iim to 0 and the current code tries to
    get the break_num by decoding instruction. However, their
    seems to be a race condition while reading the regs->cr_iip,
    as on other cpu the break.b at regs->cr_iip might have been
    replaced with the original instruction as a result of
    unregister_kprobe() and hence decoding instruction to
    obtain break_num will result in wrong value in this case.
    
    Also includes changes to kprobes.c which now has to handle
    break number zero.
    
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b77dae5293efba42ea1ff04d410ee68e66d5b0cf
Author: Dean Roe <roe@sgi.com>
Date:   Wed Nov 9 14:25:06 2005 -0600

    [IA64] - Make pfn_valid more precise for SGI Altix systems
    
    A single SGI Altix system can be divided into multiple partitions,
    each running their own instance of the Linux kernel.  pfn_valid()
    is currently not optimal for any but the first partition, since it
    does not compare the pfn with min_low_pfn before calling the more
    costly ia64_pfn_valid().
    
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d70aa5e4b54aa7e704c886838715ac8a45d5750f
Merge: 4570cd6... 220bbd7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 08:06:51 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 4570cd6a65f0559b0e11a6f953f5204fea5c719d
Merge: fa2a455... 666acb9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 29 08:05:54 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 21eeb7aa116b1f59fc23339521173cbb13e57f1a
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Tue Nov 29 16:57:17 2005 +0100

    [JFFS2] Fix the slab cache constructor of 'struct jffs2_inode_info' objects.
    
    JFFS2 initialize f->sem mutex as "locked" in the slab constructor which is a
    bug. Objects are freed with unlocked f->sem mutex. So, when they allocated
    again, f->sem is unlocked because the slab cache constructor is not called for
    them. The constructor is called only once when memory pages are allocated for
    objects (namely, when the slab layer allocates new slabs). So, sometimes
    'struct jffs2_inode_info' are allocated with unlocked f->sem, sometimes with
    locked. This is a bug. Instead, initialize f->sem as unlocked in the
    constructor. I.e., in the "constructed" state f->sem must be unlocked.
    
    From: Keijiro Yano <keijiro_yano@yahoo.co.jp>
    Acked-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit fa2a455b028f3b6ca4dae129c6337d7edf21f12c
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Tue Nov 29 18:43:17 2005 +1100

    [PATCH] Fix vma argument in get_usr_pages() for gate areas
    
    The system call gate area handling called vm_normal_page() with the
    wrong vma (which was always NULL, and caused an oops).
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc4117f8767203927e78b92e9e5b3ddb71d6a84d
Author: Sean Young <sean@mess.org>
Date:   Tue Nov 29 11:48:00 2005 +0000

    [MTD] RFD_FTL: Use lanana assigned major device number
    
    A major block device number is now assigned by lanana.
    
    Signed-off-by: Sean Young <sean@mess.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 220bbd748335f73aafb472a97716762a42cb0d58
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Mon Nov 28 22:27:11 2005 -0800

    [IPV6]: Implement appropriate dummy rule 4 in ipv6_dev_get_saddr().
    
    Ensure to update hiscore.rule in dummy rule 4 in ipv6_dev_get_saddr().
    Pointed out by Yan Zheng <yanzheng@21cn.com>.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 65c7eddaba33995e013ef3c04718f6dc8fdf2335
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 28 21:20:34 2005 -0800

    IPoIB: reinitialize path struct's completion for every query
    
    It's possible that IPoIB will issue multiple SA queries for the same
    path struct.  Therefore the struct's completion needs to be
    initialized for each query rather than only once when the struct is
    allocated, or else we might not wait long enough for later queries to
    finish and free the path struct too soon.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 666acb94d155106e494c6dfdd8b2fae44e0fad61
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 29 15:50:58 2005 +1100

    powerpc: Export __flush_icache_range for 32-bit
    
    Both 32-bit and 64-bit use the same inline flush_icache_range definition
    now, so both need to export __flush_icache_range, not just 64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 624f54be206adf970cd8eece16446b027913e533
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 28 19:51:27 2005 -0800

    Linux v2.6.15-rc3

commit 0e2d94f6a09d0a2d39c3b7d9529ac5c378098245
Author: Otavio Salvador <otavio@debian.org>
Date:   Tue Nov 29 08:02:24 2005 +1100

    [PATCH] ppc: Export symbol needed by MOL
    
    Export symbol needed to allow MOL to run. This was changed to be inline
    in past and forgot to be change here.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5d240918e6813b5c050eeff0c06480ee29e66df9
Merge: cba2fa1... cb3592b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 28 15:03:28 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit cba2fa186146aacde99bba3dcd713552dad5a897
Merge: 89a1623... 24117de...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 28 15:02:50 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 89a1623df6024e3093f6f3336466809d4f003fe7
Merge: 2827d0b... 0e16374...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 28 15:02:30 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 2827d0b23b7279d0a717eea4029efeef2e1b0183
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 28 13:44:16 2005 -0800

    [PATCH] fuse: check for invalid node ID in fuse_create_open()
    
    Check for invalid node ID values in the new atomic create+open method.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f007d5c961448170d0ec2998b1a80eef054b6235
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 28 13:44:16 2005 -0800

    [PATCH] fuse: check directory aliasing in mkdir
    
    Check the created directory inode for aliases in the mkdir() method.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea164d73a7a0b2b2be3a1d8c2a8a4dab8999fa9c
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Mon Nov 28 13:44:15 2005 -0800

    [PATCH] shrinker->nr = LONG_MAX means deadlock for icache
    
    With Andrew Morton <akpm@osdl.org>
    
    The slab scanning code tries to balance the scanning rate of slabs versus the
    scanning rate of LRU pages.  To do this, it retains state concerning how many
    slabs have been scanned - if a particular slab shrinker didn't scan enough
    objects, we remember that for next time, and scan more objects on the next
    pass.
    
    The problem with this is that with (say) a huge number of GFP_NOIO
    direct-reclaim attempts, the number of objects which are to be scanned when we
    finally get a GFP_KERNEL request can be huge.  Because some shrinker handlers
    just bail out if !__GFP_FS.
    
    So the patch clamps the number of objects-to-be-scanned to 2* the total number
    of objects in the slab cache.
    
    Signed-off-by: Andrea Arcangeli <andrea@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 154f484b92e5c25c400f6903512c511644a49322
Author: Jan Kara <jack@suse.cz>
Date:   Mon Nov 28 13:44:14 2005 -0800

    [PATCH] Fix oops in vfs_quotaon_mount()
    
    When quota file specified in mount options did not exist, we tried to
    dereference NULL pointer later. Fix it.
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6aea114a728db9296f42102d4885e7fb035de0a9
Author: Neil Brown <neilb@suse.de>
Date:   Mon Nov 28 13:44:13 2005 -0800

    [PATCH] md: fix --re-add for raid1 and raid6
    
    If you have an array with a write-intent-bitmap, and you remove a device, then
    re-add it, a full recovery isn't needed.  We detect a re-add by looking at
    saved_raid_disk.  For raid1, it doesn't matter which disk it was, only whether
    or not it was an active device.  The old code being removed set a value of
    'mirror' which was then ignored, so it can go.  The changed code performs the
    correct check.
    
    For raid6, if there are two missing devices, make sure we chose the right slot
    on --re-add rather than always the first slot.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2a2703c282ce77d189a250f58039daac1da3314
Author: Neil Brown <neilb@suse.de>
Date:   Mon Nov 28 13:44:12 2005 -0800

    [PATCH] md: set default_bitmap_offset properly in set_array_info
    
    If an array is created using set_array_info, default_bitmap_offset isn't set
    properly meaning that an internal bitmap cannot be hot-added until the array
    is stopped and re-assembled.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b5ab28a3b81381103b686ff6b9d2f5fbb944bc8c
Author: Neil Brown <neilb@suse.de>
Date:   Mon Nov 28 13:44:11 2005 -0800

    [PATCH] md: fix problem with raid6 intent bitmap
    
    When doing a recovery, we need to know whether the array will still be
    degraded after the recovery has finished, so we can know whether bits can be
    clearred yet or not.  This patch performs the required check.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 700e432d8364ce59c521abbe03a522051610ebc2
Author: Neil Brown <neilb@suse.de>
Date:   Mon Nov 28 13:44:10 2005 -0800

    [PATCH] md: fix locking problem in r5/r6
    
    bitmap_unplug actually writes data (bits) to storage, so we shouldn't be
    holding a spinlock...
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 22dfdf5212e5864b844f629736fb993d4611f190
Author: Neil Brown <neilb@suse.de>
Date:   Mon Nov 28 13:44:09 2005 -0800

    [PATCH] md: improve read speed to raid10 arrays using 'far copies'
    
    raid10 has two different layouts.  One uses near-copies (so multiple
    copies of a block are at the same or similar offsets of different
    devices) and the other uses far-copies (so multiple copies of a block
    are stored a greatly different offsets on different devices).  The point
    of far-copies is that it allows the first section (normally first half)
    to be layed out in normal raid0 style, and thus provide raid0 sequential
    read performance.
    
    Unfortunately, the read balancing in raid10 makes some poor decisions
    for far-copies arrays and you don't get the desired performance.  So
    turn off that bad bit of read_balance for far-copies arrays.
    
    With this patch, read speed of an 'f2' array is comparable with a raid0
    with the same number of devices, though write speed is ofcourse still
    very slow.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20c5ab6821b3a7aad31fb5a4660e9fe414fb37f6
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Mon Nov 28 13:44:08 2005 -0800

    [PATCH] fix broken hybrid v4l-dvb frontend selection
    
    Repair broken build configuration for hybrid v4l/dvb card frontend
    selection.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7b7fd8f3ebbb2810d6893295aa984acd0fd30db
Author: Rik van Riel <riel@redhat.com>
Date:   Mon Nov 28 13:44:07 2005 -0800

    [PATCH] temporarily disable swap token on memory pressure
    
    Some users (hi Zwane) have seen a problem when running a workload that
    eats nearly all of physical memory - th system does an OOM kill, even
    when there is still a lot of swap free.
    
    The problem appears to be a very big task that is holding the swap
    token, and the VM has a very hard time finding any other page in the
    system that is swappable.
    
    Instead of ignoring the swap token when sc->priority reaches 0, we could
    simply take the swap token away from the memory hog and make sure we
    don't give it back to the memory hog for a few seconds.
    
    This patch resolves the problem Zwane ran into.
    
    Signed-off-by: Rik van Riel <riel@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a93a117eaa0bec426d4671a49bfa96a6fdcd2ac9
Author: Latchesar Ionkov <lucho@ionkov.net>
Date:   Mon Nov 28 13:44:05 2005 -0800

    [PATCH] v9fs: fix memory leak in v9fs dentry code
    
    Assign the appropriate dentry operations to the dentry. Fixes memory leak.
    
    Signed-off-by: Latchesar Ionkov <lucho@ionkov.net>
    Cc: Eric Van Hensbergen <ericvh@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c4b8add83c93306b07d78469fd351dc462e4b66
Author: Paul Jackson <pj@sgi.com>
Date:   Mon Nov 28 13:44:05 2005 -0800

    [PATCH] cpuset fork locking fix
    
    Move the cpuset_fork() call below the write_unlock_irq call in
    kernel/fork.c copy_process().
    
    Since the cpuset-dual-semaphore-locking-overhaul.patch, the cpuset_fork()
    routine acquires task_lock(), so cannot be called while holding the
    tasklist_lock for write.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3148890bfa4f36c9949871264e06ef4d449eeff9
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Mon Nov 28 13:44:03 2005 -0800

    [PATCH] mm: __alloc_pages cleanup fix
    
    I believe this patch is required to fix breakage in the asynch reclaim
    watermark logic introduced by this patch:
    
    http://www.kernel.org/git/?p=linux/kernel/git/torvalds/linux-2.6.git;a=commitdiff;h=7fb1d9fca5c6e3b06773b69165a73f3fb786b8ee
    
    Just some background of the watermark logic in case it isn't clear...
    Basically what we have is this:
    
     ---  pages_high
       |
       | (a)
       |
     ---  pages_low
       |
       | (b)
       |
     ---  pages_min
       |
       | (c)
       |
     ---  0
    
    Now when pages_low is reached, we want to kick asynch reclaim, which gives us
    an interval of "b" before we must start synch reclaim, and gives kswapd an
    interval of "a" before it need go back to sleep.
    
    When pages_min is reached, normal allocators must enter synch reclaim, but
    PF_MEMALLOC, ALLOC_HARDER, and ALLOC_HIGH (ie.  atomic allocations, recursive
    allocations, etc.) get access to varying amounts of the reserve "c".
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa877b3dc9f2a1fdffac4ea36bee97c21db11a69
Author: Glauber de Oliveira Costa <glommer@br.ibm.com>
Date:   Mon Nov 28 13:44:02 2005 -0800

    [PATCH] ext3: Wrong return value for EXT3_IOC_GROUP_ADD
    
    This patch corrects the return value for the EXT3_IOC_GROUP_ADD in case it
    fails due to the presence of multiple resizers at the filesystem.
    
    The problem is a little bit more serious than a wrong return value in this
    case, since the clause err=0 in the exit_journal path will lead to a call
    to update_backups which in turns causes a NULL pointer dereference.
    
    Signed-off-by: Glauber de Oliveira Costa <glommer@br.ibm.com>
    Cc: "Stephen C. Tweedie" <sct@redhat.com>
    Cc: Andreas Dilger <adilger@clusterfs.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad09d583106fadfdf751926107cfe35fba6bdbd4
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Mon Nov 28 13:44:00 2005 -0800

    [PATCH] m32r: M3A-2170(Mappi-III) IDE support
    
    This patch is for supporting IDE interface for M3A-2170(Mappi-III) board.
    
    Signed-off-by: Mamoru Sakugawa <sakugawa@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Cc: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0332db5aff3eec73eead6d991782b0dee1376dc0
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Mon Nov 28 13:43:59 2005 -0800

    [PATCH] m32r: Introduce atomic_cmpxchg and atomic_inc_not_zero operations
    
    Introduce atomic_cmpxchg and atomic_inc_not_zero operations for m32r.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91f4ab056d85d23fa6955927fdeb1558673e8cd1
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Mon Nov 28 13:43:58 2005 -0800

    [PATCH] m32r: Fix sys_tas() syscall
    
    This patch fixes a deadlock problem of the m32r SMP kernel.
    
    In the m32r kernel, sys_tas() system call is provided as a test-and-set
    function for userspace, for backward compatibility.
    
    In some multi-threading application program, deadlocks were rarely caused
    at sys_tas() funcion.  Such a deadlock was caused due to a collision of
    __pthread_lock() and __pthread_unlock() operations.
    
    The "tas" syscall is repeatedly called by pthread_mutex_lock() to get a
    lock, while a lock variable's value is not 0.  On the other hand,
    pthead_mutex_unlock() sets the lock variable to 0 for unlocking.
    
    In the previous implementation of sys_tas() routine, there was a
    possibility that a unlock operation was ignored in the following case:
    
    - Assume a lock variable (*addr) was equal to 1 before sys_tas() execution.
    - __pthread_unlock() operation is executed by the other processor
      and the lock variable (*addr) is set to 0, between a read operation
      ("oldval = *addr;") and the following write operation ("*addr = 1;")
      during a execution of sys_tas().
    
    In this case, the following write operation ("*addr = 1;") overwrites the
    __pthread_unlock() result, and sys_tas() fails to get a lock in the next
    turn and after that.
    
    According to the attatched patch, sys_tas() returns 0 value in the next
    turn and deadlocks never happen.
    
    Signed-off-by: Hitoshi Yamamoto <Yamamoto.Hitoshi@ap.MitsubishiElectric.co.jp>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bce61dd49d6ba7799be2de17c772e4c701558f14
Author: Ben Collins <bcollins@debian.org>
Date:   Mon Nov 28 13:43:56 2005 -0800

    [PATCH] Fix hardcoded cpu=0 in workqueue for per_cpu_ptr() calls
    
    Tracked this down on an Ultra Enterprise 3000.  It's a 6-way machine.  Odd
    thing about this machine (and it's good for finding bugs like this) is that
    the CPU id's are not 0 based.  For instance, on my machine the CPU's are
    6/7/10/11/14/15.
    
    This caused some NULL pointer dereference in kernel/workqueue.c because for
    single_threaded workqueue's, it hardcoded the cpu to 0.
    
    I changed the 0's to any_online_cpu(cpu_online_mask), which cpumask.h
    claims is "First cpu in mask".  So this fits the same usage.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee500f274914653a7d3dfca7d0140a3d21658e32
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Mon Nov 28 13:43:55 2005 -0800

    [PATCH] fix 32bit overflow in timespec_to_sample()
    
    fix 32bit overflow in timespec_to_sample()
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46596338a10a54550ff03a6f60c28145a080296b
Author: Chris Humbert <mahadri-kernel@drigon.com>
Date:   Mon Nov 28 13:43:54 2005 -0800

    [PATCH] fix broken lib/genalloc.c
    
    genalloc improperly stores the sizes of freed chunks, allocates overlapping
    memory regions, and oopses after its in-band data is overwritten.
    
    Signed-off-by: Chris Humbert <mahadri-kernel@drigon.com>
    Cc: Jes Sorensen <jes@trained-monkey.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7729ac5efe156129d172784fedeaddb2167a1914
Author: Oleg Drokin <green@linuxhacker.ru>
Date:   Mon Nov 28 13:43:53 2005 -0800

    [PATCH] reiserfs: fix 32-bit overflow in map_block_for_writepage()
    
    I now see another overflow in reiserfs that should lead to data corruptions
    with files that are bigger than 4G under certain circumstances when using
    mmap.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a9c3f78a32ddc4ec50f5da2cf2db5db6f442986
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 28 13:43:52 2005 -0800

    [PATCH] Console rotation fixes
    
    Remove bogus usage of test/set_bit() from fbcon rotation code and just
    manipulate the bits directly.  This fixes an oops on powerpc among others
    and should be faster.  Seems to work fine on the G5 here.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8080f231224ccd3169f39e73fd750ba98d5b98a7
Author: David Howells <dhowells@redhat.com>
Date:   Mon Nov 28 13:43:51 2005 -0800

    [PATCH] FRV: Make the FRV arch work again
    
    The attached patch implements a bunch of small changes to the FRV arch to
    make it work again.
    
    It deals with the following problems:
    
     (1) SEM_DEBUG should be SEMAPHORE_DEBUG.
    
     (2) The argument list to pcibios_penalize_isa_irq() has changed.
    
     (3) CONFIG_HIGHMEM can't be used directly in #if as it may not be defined.
    
     (4) page->private is no longer directly accessible.
    
     (5) linux/hardirq.h assumes asm/hardirq.h will include linux/irq.h
    
     (6) The IDE MMIO access functions are given pointers, not integers, and so
         get type casting errors.
    
     (7) __pa() is passed an explicit u64 type in drivers/char/mem.c, but that
         can't be cast directly to a pointer on a 32-bit platform.
    
     (8) SEMAPHORE_DEBUG should not be contingent on WAITQUEUE_DEBUG as that no
         longer exists.
    
     (9) PREEMPT_ACTIVE is too low a value.
    
    Signed-off-by: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c13cf856cbe16aec3007604dc013cbf3a16c6686
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 28 13:43:48 2005 -0800

    [PATCH] fork.c: proc_fork_connector() called under write_lock()
    
    Don't do that - it does GFP_KERNEL allocations, for a start.
    
    (Reported by Guillaume Thouvenin <guillaume.thouvenin@bull.net>)
    
    Acked-by: Matt Helsley <matthltc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff88a3b2f56ae4f3296ea957ea38f99f8bd0e5a8
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 28 13:43:47 2005 -0800

    [PATCH] memory_sysdev_class is static
    
    So don't define it as extern in the header file.
    
    drivers/base/memory.c:28: error: static declaration of 'memory_sysdev_class' follows non-static declaration
    include/linux/memory.h:88: error: previous declaration of 'memory_sysdev_class' was here
    
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9d9baa1e819b2f92f9cfa5240f766c535e636a6
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Mon Nov 28 13:43:46 2005 -0800

    [PATCH] clean up lock_cpu_hotplug() in cpufreq
    
    There are some callers in cpufreq hotplug notify path that the lowest
    function calls lock_cpu_hotplug().  The lock is already held during
    cpu_up() and cpu_down() calls when the notify calls are broadcast to
    registered clients.
    
    Ideally if possible, we could disable_preempt() at the highest caller and
    make sure we dont sleep in the path down in cpufreq->driver_target() calls
    but the calls are so intertwined and cumbersome to cleanup.
    
    Hence we consistently use lock_cpu_hotplug() and unlock_cpu_hotplug() in
    all places.
    
     - Removed export of cpucontrol semaphore and made it static.
     - removed explicit uses of up/down with lock_cpu_hotplug()
       so we can keep track of the the callers in same thread context and
       just keep refcounts without calling a down() that causes a deadlock.
     - Removed current_in_hotplug() uses
     - Removed PF_HOTPLUG_CPU in sched.h introduced for the current_in_hotplug()
       temporary workaround.
    
    Tested with insmod of cpufreq_stat.ko, and logical online/offline
    to make sure we dont have any hang situations.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Cc: Zwane Mwaikambo <zwane@linuxpower.ca>
    Cc: Shaohua Li <shaohua.li@intel.com>
    Cc: "Suresh Siddha" <suresh.b.siddha@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0f39591cc178026607fcbbe9a53be435fe8285d
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Nov 28 13:43:44 2005 -0800

    [PATCH] Workaround for gcc 2.96 (undefined references)
    
      LD      .tmp_vmlinux1
    mm/built-in.o(.text+0x100d6): In function `copy_page_range':
    : undefined reference to `__pud_alloc'
    mm/built-in.o(.text+0x1010b): In function `copy_page_range':
    : undefined reference to `__pmd_alloc'
    mm/built-in.o(.text+0x11ef4): In function `__handle_mm_fault':
    : undefined reference to `__pud_alloc'
    fs/built-in.o(.text+0xc930): In function `install_arg_page':
    : undefined reference to `__pud_alloc'
    make: *** [.tmp_vmlinux1] Error 1
    
    Those missing references in mm/memory.c arise from this code in
    include/linux/mm.h, combined with the fact that __PGTABLE_PMD_FOLDED and
    __PGTABLE_PUD_FOLDED are both set and __ARCH_HAS_4LEVEL_HACK is not:
    
    /*
     * The following ifdef needed to get the 4level-fixup.h header to work.
     * Remove it when 4level-fixup.h has been removed.
     */
    #if defined(CONFIG_MMU) && !defined(__ARCH_HAS_4LEVEL_HACK)
    static inline pud_t *pud_alloc(struct mm_struct *mm, pgd_t *pgd, unsigned long address)
    {
            return (unlikely(pgd_none(*pgd)) && __pud_alloc(mm, pgd, address))?
                    NULL: pud_offset(pgd, address);
    }
    
    static inline pmd_t *pmd_alloc(struct mm_struct *mm, pud_t *pud, unsigned long address)
    {
            return (unlikely(pud_none(*pud)) && __pmd_alloc(mm, pud, address))?
                    NULL: pmd_offset(pud, address);
    }
    #endif /* CONFIG_MMU && !__ARCH_HAS_4LEVEL_HACK */
    
    With my configuration the pgd_none and pud_none routines are inlines
    returning a constant 0.  Apparently the old compiler avoids generating
    calls to __pud_alloc and __pmd_alloc but still lists them as undefined
    references in the module's symbol table.
    
    I don't know which change caused this problem.  I think it was added
    somewhere between 2.6.14 and 2.6.15-rc1, because I remember building
    several 2.6.14-rc kernels without difficulty.  However I can't point to an
    individual culprit.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5cd9194a1b0b0fa219c31421ac64dfd38670ed49
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 28 14:02:10 2005 -0800

    [PATCH] sparc: convert IO remapping to VM_PFNMAP
    
    Here are the Sparc bits.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6aab341e0a28aff100a09831c5300a2994b8b986
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 28 14:34:23 2005 -0800

    mm: re-architect the VM_UNPAGED logic
    
    This replaces the (in my opinion horrible) VM_UNMAPPED logic with very
    explicit support for a "remapped page range" aka VM_PFNMAP.  It allows a
    VM area to contain an arbitrary range of page table entries that the VM
    never touches, and never considers to be normal pages.
    
    Any user of "remap_pfn_range()" automatically gets this new
    functionality, and doesn't even have to mark the pages reserved or
    indeed mark them any other way.  It just works.  As a side effect, doing
    mmap() on /dev/mem works for arbitrary ranges.
    
    Sparc update from David in the next commit.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf6d9e23a36c8a01bf6fbb945387d8ca3870ff71
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Nov 28 13:07:20 2005 -0800

    IB/umad: fix RMPP handling
    
    ib_umad_write in user_mad.c is looking at rmpp_hdr field in MAD before
    checking that the MAD actually has the RMPP header.  So for a MAD
    without RMPP header it looks like we are actually checking a bit
    inside M_Key, or something.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit cb3592be272d83011051dc49f4326355c01f1e1f
Author: Arjan van de Ven <arjan@infradead.org>
Date:   Mon Nov 28 21:04:11 2005 +0000

    [SERIAL] mark several serial tables const
    
    This patch marks a few serial data structures const, moving them to
    .rodata where they won't false-share cachelines with things that get
    written to.
    
    Signed-off-by: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 24117defabc849a6ad5081ad0fafd0664bf55f13
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Mon Nov 28 21:00:29 2005 +0000

    [MMC] Fix protocol errors
    
    A review against MMC/SD specifications found some errors in the current
    implementation.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 187a25863fe014486ee834164776b2a587d6934d
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Mon Nov 28 11:19:43 2005 -0800

    IB/mthca: reset QP's last pointers when transitioning to reset state
    
    last pointer is not updated when QP is modified to reset state.  This
    causes data corruption if WQEs are already posted on the queue.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit dce200670d63615120de17d4aed0a4fd777cc825
Author: Vasily Averin <vvs@sw.ru>
Date:   Sun Nov 27 20:15:06 2005 +0300

    [SCSI] aic7xxx: reset handler selects a wrong command
    
    To transport scsi reset command to device aic7xxx reset handler looks
    at the driver's pending_list and searches any proper command. However
    the search condition has been inverted: ahc_match_scb() returns TRUE
    if a matched command is found. As a result the reset on required
    devices did not turn out well, a correctly working neighbour device
    may be surprised by the reset. aic7xxx reset handler reports about the
    success, but really the original situation is not corrected yet.
    
    Signed-off-by: Vasily Averin <vvs@sw.ru>
    
    Naturally, there's a corresponding problem in the aic79xx driver, so
    I've also added the same fix for that.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f5417612d787e6b619fd69616bbf95f1b895e900
Author: Sascha Hauer <sascha@saschahauer.de>
Date:   Mon Nov 28 18:09:44 2005 +0000

    [ARM] 3181/1: add PORT_ identifier for Hilscher netx uart
    
    Patch from Sascha Hauer
    
    This patch adds PORT_NETX for supporting the Hilscher netx embedded
    UARTs.
    
    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0e1637420e94d501eb80763cce0c498f00d65b0a
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Mon Nov 28 18:08:45 2005 +0000

    [ARM] 3180/1: Update Zaurus defconfigs
    
    Patch from Richard Purdie
    
    This updates the Zaurus defconfigs. Poodle gets merged into
    corgi_defconfig and support for tosa and akita is enabled.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 243077f58f2ae2540e35d8ea01a15f13586d9e9e
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Mon Nov 28 18:08:44 2005 +0000

    [ARM] 3179/1: Update/correct Zaurus Kconfig entries
    
    Patch from Richard Purdie
    
    Add iWMMX Extentions for the pxa27x based Zaurus models and
    fix a couple of minor mistakes in the PXA Kconfig file.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 192cdc5809f676841d16d58e1f249176e38d7dda
Author: Lucas Correia Villa Real <lucasvr@gobolinux.org>
Date:   Mon Nov 28 18:08:43 2005 +0000

    [ARM] 3178/1: S3C2400 - adds GPIO registers definitions to regs-gpio.h
    
    Patch from Lucas Correia Villa Real
    
    This patch adds definitions to GPIO registers for the S3C2400 into
    include/asm-arm/arch-s3c2410/regs-gpio.h.
    
    Signed-off-by: Lucas Correia Villa Real <lucasvr@gobolinux.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3abb92722ab1784b419dadb5444daf8ea9636905
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Nov 28 08:16:13 2005 -0800

    [CIFS] When file is deleted locally but later recreated on the server
    fix cifs negative dentries so they are freed faster (not requiring
    umount or readdir e.g.) so the client recognizes the new file on
    the server more quickly.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 458af5439fe7ae7d95ca14106844e61f0795166c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 27 00:36:37 2005 +0100

    [PATCH] drivers/scsi/dpt_i2o.c: fix a NULL pointer dereference
    
    The Coverity checker spotted this obvious NULL pointer dereference.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Mark Salyzyn <mark_salyzyn@adaptec.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2012a116d9e6803fb072d0cfe1aae0cc4e6d6416
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 27 00:37:36 2005 +0100

    [PATCH] drivers/infiniband/core/mad.c: fix use-after-release case
    
    The Coverity checker spotted this obvious use-after-release bug caused
    by a wrong order of the cleanups.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16a631733135a625dd8bc83207553aaf34c0a72c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 27 00:37:05 2005 +0100

    [PATCH] drivers/message/i2o/pci.c: fix a NULL pointer dereference
    
    The Coverity checker spotted this obvious NULL pointer dereference.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Markus Lidel <Markus.Lidel@shadowconnect.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42aacfba6c2d1ee773615cfcfce0fe973d1d0f37
Merge: b3eb67a... cf65f16...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 25 16:48:48 2005 -0800

    Merge branch 'drm-linus' of master.kernel.org:/pub/scm/linux/kernel/git/airlied/drm-2.6

commit b3eb67a2ab4e14fc6cc035907400b86462d174db
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 25 17:10:11 2005 -0500

    SUNRPC: Funny looking code in __rpc_purge_upcall
    
     In __rpc_purge_upcall (net/sunrpc/rpc_pipe.c), the newer code to clean up
     the in_upcall list has a typo.
     Thanks to Vince Busam <vbusam@google.com> for spotting this!
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b37b03b7051493c9f9a6b336c9c0f81334885b7d
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 25 17:10:06 2005 -0500

    NFS: Fix a spinlock recursion inside nfs_update_inode()
    
     In cases where the server has gone insane, nfs_update_inode() may end
     up calling nfs_invalidate_inode(), which again calls stuff that takes
     the inode->i_lock that we're already holding.
    
     In addition, given the sort of things we have in NFS these days that
     need to be cleaned up on inode release, I'm not sure we should ever
     be calling make_bad_inode().
    
     Fix up spinlock recursion, and limit nfs_invalidate_inode() to clearing
     the caches, and marking the inode as being stale.
    
     Thanks to Steve Dickson <SteveD@redhat.com> for spotting this.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit ff6040667ad5a21fa1090e02941ecefb94ebe32c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 25 17:10:01 2005 -0500

    NFSv4: Fix typo in lock caching
    
     When caching locks due to holding a file delegation, we must always
     check against local locks before sending anything to the server.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 36f20c6df75d599393d79c7feb6283b20913e3d5
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 25 17:09:57 2005 -0500

    NFSv4: Fix buggy nfs_wait_on_sequence()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit af95598744a83506063b411d81c4f819bf774f62
Merge: 4ad5bd2... 9a94c57...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 25 09:42:19 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 4ad5bd25683ae3a913efb7d5afb7ddf2b2ef09db
Merge: cd0cca7... 551c81e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 25 09:33:53 2005 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit 79a558ffba25ecefe21a5203077971a08dda598b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 25 15:59:01 2005 +0000

    [ARM] Update mach-types
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9f2209078089e223a773a77518e53016173ead39
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 25 15:57:21 2005 +0000

    [ARM] Realview core.c does not need mach-types.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5edf71ae129167ac276ebac18b25ccc7bec6ac3e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 25 15:52:51 2005 +0000

    [ARM] Do not call flush_tlb_kernel_range() with IRQs disabled.
    
    We must not call TLB maintainence operations with interrupts disabled,
    otherwise we risk a lockup in the SMP IPI code.
    
    This means that consistent_free() can not be called from a context with
    IRQs disabled.  In addition, we must not hold the lock in consistent_free
    when we call flush_tlb_kernel_range().  However, we must continue to
    prevent consistent_alloc() from re-using the memory region until we've
    finished tearing down the mapping and dealing with the TLB.
    
    Therefore, leave the vm_region entry in the list, but mark it inactive
    before dropping the lock and starting the tear-down process.  After the
    mapping has been torn down, re-acquire the lock and remove the entry
    from the list.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3c0bdac3875505516eda1c6b6e68dd84eff3b231
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 25 15:43:22 2005 +0000

    [ARM] Remove mach-types.h from head.S
    
    We don't really need to check whether the machine type is Netwinder
    or CATS before setting up the PCI IO mapping for debugging.  This
    allows us to eliminate asm/mach-types.h from head.S
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 225937bd5d69a40b886f47a7bc1f0837882586e3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 25 15:33:12 2005 +0000

    [ARM] Remove asm/hardware.h include from SA1100 io.h
    
    Unfortunately, we have a symbol clash between the SA-1100 header and
    some drivers.  Since everywhere which needs SA1100 specifics includes
    asm/hardware.h, we don't need to include it in the SA1100 io.h header.
    
    In file included from drivers/net/wireless/wavelan_cs.p.h:459,
                     from drivers/net/wireless/wavelan_cs.c:60:
    drivers/net/wireless/wavelan_cs.h:97:1: warning: "LCSR" redefined
    In file included from include/asm/arch/hardware.h:56,
                     from include/asm/hardware.h:16,
                     from include/asm/arch/io.h:13,
                     from include/asm/io.h:71,
                     from drivers/net/wireless/wavelan_cs.p.h:433,
                     from drivers/net/wireless/wavelan_cs.c:60:
    include/asm/arch/SA-1100.h:1907:1: warning: this is the location of the previous definition
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9a94c5793a7b44720f19ebb71b636bc9c31b44d8
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 24 13:34:56 2005 +1100

    [PATCH] powerpc: More hugepage boundary case fixes
    
    Blah.  The patch [0] I recently sent fixing errors with
    in_hugepage_area() and prepare_hugepage_range() for powerpc itself has
    an off-by-one bug.  Furthermore, the related functions
    touches_hugepage_*_range() and within_hugepage_*_range() are also
    buggy.  Some of the bugs, like those addressed in [0] originated with
    commit 7d24f0b8a53261709938ffabe3e00f88f6498df9 where we tweaked the
    semantics of where hugepages are allowed.  Other bugs have been there
    essentially forever, and are due to the undefined behaviour of '<<'
    with shift counts greater than the type width (LOW_ESID_MASK could
    return non-zero for high ranges with the right congruences).
    
    The good news is that I now have a testsuite which should pick up
    things like this if they creep in again.
    
    [0] "powerpc-fix-for-hugepage-areas-straddling-4gb-boundary"
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 26925c5910ab77fc95b4d8bb6d98780b50ab1e5a
Merge: 55bb239... cd0cca7...
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 25 22:12:01 2005 +1100

    Merge ../linux-2.6

commit 55bb239e5464ecde046af3e45052ef06efda6444
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 22 12:05:26 2005 +1100

    [PATCH] powerpc: remove arch/powerpc/include hack for 64 bit
    
    With the removal of include/asm-powerpc, we no longer need
    arch/powerpc/include/asm for the 64 bit build.  We also do not need
    -Iarch/powerpc for the 64 bit build either.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 551c81e2d32c5867fb592091365d8c37e1509dce
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Nov 25 16:42:28 2005 +1100

    [XFS] Resolve the xlog_grant_log_space hang, revert inline to macro.
    
    SGI-PV: 946205
    SGI-Modid: xfs-linux-melb:xfs-kern:24567a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e0144ca55391556d781cb1c90fd6f00bb0c20760
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Nov 25 16:42:22 2005 +1100

    [XFS] Fix a case where attr2 format was being used unconditionally.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux-melb:xfs-kern:24566a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 6b2cf618cc8445a03640d1e5e36829352e297017
Author: Felix Blyakher <felixb@sgi.com>
Date:   Fri Nov 25 16:42:13 2005 +1100

    [XFS] Tight loop in xfs_finish_reclaim_all prevented the xfslogd to run
    its queue of IO completion callbacks, thus creating the deadlock between
    umount and xfslogd. Breaking the loop solves the problem.
    
    SGI-PV: 943821
    SGI-Modid: xfs-linux-melb:xfs-kern:202363a
    
    Signed-off-by: Felix Blyakher <felixb@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit a4656391b76ed93faed724c5963f033164ee477e
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Nov 25 16:41:57 2005 +1100

    [XFS] Fix a 32 bit value wraparound when providing a mapping for a large
    direct write.
    
    SGI-PV: 944820
    SGI-Modid: xfs-linux-melb:xfs-kern:24351a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f33c6797bccc695c4c85885f2c676ad4c8fed98d
Author: Christoph Hellwig <hch@sgi.com>
Date:   Fri Nov 25 16:41:47 2005 +1100

    [XFS] handle error returns from freeze_bdev
    
    SGI-PV: 945483
    SGI-Modid: xfs-linux-melb:xfs-kern:201884a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 55b02d74e126df70fb6b92a0e4e4bed2f0a13fe4
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Fri Nov 25 16:41:33 2005 +1100

    [XFS] Fix potential overflow in xfs_iomap_t delta for very large extents
    
    SGI-PV: 945311
    SGI-Modid: xfs-linux-melb:xfs-kern:201708a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit cd0cca7bf5e201dcea5632f78ad9b37cb419a5df
Merge: 6d9885a... 3238c44...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 24 18:41:59 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 6d9885a8ce45cd9b7d36517ee823a480eaf95c02
Author: Jasper Spaans <jasper@vs19.net>
Date:   Thu Nov 24 16:53:36 2005 +0100

    [PATCH] fbcon: fix obvious bug in fbcon logo rotation code
    
    This code fixes a tiny problem with the recent fbcon rotation changes:
    fb_prepare_logo doesn't check the return value of fb_find_logo and that
    causes a crash for my while booting.
    
    Obvious & working & tested fix is here.
    
    Signed-off-by: Jasper Spaans <jasper@vs19.net>
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf65f1623dd005ddfb1cbba20af3423a6c638dbe
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Nov 24 21:41:14 2005 +1100

    drm: fix quiescent locking
    
    A fix for a locking bug which is triggered when a client tries to lock with
    flag DMA_QUIESCENT (typically the X server), but gets interrupted by a signal.
    The locking IOCTL should then return an error, but if DMA_QUIESCENT succeeds
    it returns 0, and the client falsely thinks it has the lock. In addition
    The client waits for DMA_QUISCENT and possibly DMA_READY without having the lock.
    
    From: Thomas Hellstrom
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 33bc227e4e48ddadcf2eacb381c19df338f0a6c8
Merge: 569cfaa... 7655f49...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 23 23:10:47 2005 -0800

    Merge branch 'drm-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/airlied/drm-2.6

commit 569cfaadb0ea21bfcedac85dbc5147b4a9ed42d2
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Wed Nov 23 15:45:58 2005 -0800

    [PATCH] usb serial: remove redundant include
    
    remove redundant include
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8dd396ec7bf706fe85d8c6792b478ee6f09e8de6
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Nov 23 15:45:53 2005 -0800

    [PATCH] USB: kernel-doc for linux/usb.h
    
    Fix kernel-doc warning in linux/usb.h.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63dc3ff3e019287e8cb4647808de1d93acddd006
Author: David Hardeman <david@2gen.com>
Date:   Wed Nov 23 15:45:49 2005 -0800

    [PATCH] USB: fix USB key generates ioctl_internal_command errors issue
    
    On Wed, Nov 16, 2005 at 06:34:24PM -0800, Pete Zaitcev wrote:
    >On Wed, 16 Nov 2005 23:52:32 +0100, David Hardeman <david@2gen.com> wrote:
    >> usb-storage: waiting for device to settle before scanning
    >>   Vendor: I0MEGA    Model: UMni1GB*IOM2K4    Rev: 1.01
    >>   Type:   Direct-Access                      ANSI SCSI revision: 02
    >> SCSI device sda: 2048000 512-byte hdwr sectors (1049 MB)
    >> sda: Write Protect is off
    >> sda: Mode Sense: 00 00 00 00
    >> sda: assuming drive cache: write through
    >> ioctl_internal_command: <8 0 0 0> return code = 8000002
    >>    : Current: sense key=0x0
    >>     ASC=0x0 ASCQ=0x0
    >> SCSI device sda: 2048000 512-byte hdwr sectors (1049 MB)
    >
    >I think it's harmless. I saw things like that, and initially I plugged
    >them with workarounds like this:
    
    Thanks for the pointer, and yes, it is harmless, but it floods the
    console with the messages which hides other (potentially important)
    messages...following your example I've made a patch which fixes the
    problem.
    
    Signed-off-by: David Hardeman <david@2gen.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21b1861fb2ba5b25b32c63bc540bbc7ca1d186f8
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Nov 23 15:45:42 2005 -0800

    [PATCH] USB: ohci, move ppc asic tweaks nearer pci
    
    This should fix a suspend/resume issues that appear with OHCI on some
    PPC hardware.  The PCI layer should doesn't have the hooks needed for
    such ASIC-specific hooks (in this case, software clock gating), so
    this moves the code to do that into hcd-pci.c ... where it can be
    done after the relevant PCI PM state transition (to/from D3).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 188075211cc75a31190de4a19a084e3d83ee1c89
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Nov 23 15:45:37 2005 -0800

    [PATCH] USB: EHCI updates split init/reinit logic for resume
    
    Moving the PCI-specific parts of the EHCI driver into their own file
    created a few issues ... notably on resume paths which (like swsusp)
    require re-initializing the controller.  This patch:
    
     - Splits the EHCI startup code into run-once HCD setup code and
       separate "init the hardware" reinit code.  (That reinit code is
       a superset of the "early usb handoff" code.)
    
     - Then it makes the PCI init code run both, and the resume code only
       run the reinit code.
    
     - It also removes needless pci wrappers around EHCI start/stop methods.
    
     - Removes a byteswap issue that would be seen on big-endian hardware.
    
    The HCD glue still doesn't actually provide a good way to do all this
    run-one init stuff in one place though.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abcc94480634f6fe9fc29b821261e8162c87ddd2
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Nov 23 15:45:32 2005 -0800

    [PATCH] USB: EHCI updates mostly whitespace cleanups
    
    This cleans up the recent updates to EHCI PCI support:
    
      - Gets rid of checks for "is this a PCI device", they're no
        longer needed since this is now all PCI-only code.
    
      - Reduce log spamming:  MWI is only interesting in the atypical
        case that it can actually be used.
    
      - Whitespace cleanup, as appropriate for a new file with no
        other pending patches.
    
    So other than that minor logging change, no functional updates.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f03c17fc9abe8582d6ad830290b3093fdf1eea61
Author: David Brownell <david-b@pacbell.net>
Date:   Wed Nov 23 15:45:28 2005 -0800

    [PATCH] USB: EHCI updates
    
    This fixes some bugs in EHCI suspend/resume that joined us over the past
    few releases (as usbcore, PCI, pmcore, and other components evolved):
    
      - Removes suspend and resume recursion from the EHCI driver, getting
        rid of the USB_SUSPEND special casing.
    
      - Updates the wakeup mechanism to work again; there's a newish usbcore
        call it needs to use.
    
      - Provide simpler tests for "do we need to restart from scratch", to
        address another case where PCI Vaux was lost.  (In this case it was
        restoring a swsusp snapshot, but there could be others.)
    
    Un-exports a symbol that was temporarily exported.
    
    A notable change from previous version is that this doesn't move
    the spinlock init, so there's still a resume/reinit path bug.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4723ae3cc66fd067a8e661b5c05d5bd41be29b5
Author: Ian Abbott <abbotti@mev.co.uk>
Date:   Wed Nov 23 15:45:23 2005 -0800

    [PATCH] USB: ftdi_sio: new IDs for KOBIL devices
    
    This patch adds two new devices to the ftdi_sio driver's device ID
    table.  The device IDs were supplied by Stefan Nies of KOBIL Systems for
    two of their devices using the FTDI chip.
    
    Signed-off-by: Ian Abbott <abbotti@mev.co.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b67ba63605a0107f4f3f6d928cdea1e8953fb63
Author: Damian Wrobel <dwrobel@ertel.com.pl>
Date:   Wed Nov 23 15:45:17 2005 -0800

    [PATCH] USB: SN9C10x driver - bad page state fix
    
    This patch solves the following problem I've already discovered on the
    latest 2.6.15-rc1-git1 kernel:
    
    Nov 13 07:37:28 wrobel kernel: Bad page state at free_hot_cold_page (in process 'motion', page c164e020)
    Nov 13 07:37:28 wrobel kernel: flags:0x40000400 mapping:00000000 mapcount:0 count:0
    Nov 13 07:37:28 wrobel kernel: Backtrace:
    Nov 13 07:37:28 wrobel kernel:  [<c0146d86>] bad_page+0x85/0xbe
    Nov 13 07:37:28 wrobel kernel:  [<c0147629>] free_hot_cold_page+0x54/0x129
    Nov 13 07:37:28 wrobel kernel:  [<c01598c6>] __vunmap+0xa9/0xfe
    Nov 13 07:37:28 wrobel kernel:  [<c0154114>] vmalloc_to_page+0x34/0x55
    Nov 13 07:37:28 wrobel kernel:  [<c0159942>] vfree+0x27/0x35
    Nov 13 07:37:28 wrobel kernel:  [<f8a20292>]  sn9c102_release_buffers+0x30/0x3f [sn9c102]
    Nov 13 07:37:28 wrobel kernel:  [<f8a231c2>] sn9c102_release+0x37/0xeb [sn9c102]
    Nov 13 07:37:28 wrobel kernel:  [<c0163e74>] __fput+0xa9/0x1aa
    Nov 13 07:37:28 wrobel kernel:  [<c01624f7>] filp_close+0x49/0x6d
    Nov 13 07:37:30 wrobel kernel:  [<c016258f>] sys_close+0x74/0x95
    Nov 13 07:37:30 wrobel kernel:  [<c0102ef9>] syscall_call+0x7/0xb
    Nov 13 07:37:31 wrobel kernel: Trying to fix it up, but a reboot is needed
    
    Signed-off-by: Damian Wrobel <dwrobel@ertel.com.pl>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cac1a293469a868fab1ecc2dc1b6441728f7e0e7
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Wed Nov 23 15:45:09 2005 -0800

    [PATCH] PCI: direct.c: DBG
    
    The DBG() call where updated with the appropriate KERN_* symbol.
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f366633fc31db1668b4c261e94816d7304ae9810
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Wed Nov 23 15:45:04 2005 -0800

    [PATCH] PCI: kernel-doc fix for pci-acpi.c
    
    Fix kernel-doc warning in pci/pci-acpi.c.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed6d14f9760857c745206c978b80352fc09cfd19
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Wed Nov 23 15:44:59 2005 -0800

    [PATCH] PCI: remove bogus resource collision error
    
    When attempting to hotadd a PCI card with a bridge on it, I saw
    the kernel reporting resource collision errors even when there were
    really no collisions. The problem is that the code doesn't skip
    over "invalid" resources with their resource type flag not set.
    Others have reported similar problems at boot time and for
    non-bridge PCI card hotplug too, where the code flags a
    resource collision for disabled ROMs. This patch fixes both
    problems.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a49f2036ad14092c11d09f186da86fd5ae49a05
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Wed Nov 23 15:44:54 2005 -0800

    [PATCH] PCI Express Hotplug: clear sticky power-fault bit
    
    Per the PCI Express spec, the power-fault-detected bit in the
    slot status register can be set anytime hardware detects a power
    fault, regardless of whether the slot has a device populated in
    it or not. This bit is sticky and must be explicitly cleared.
    This patch is needed to allow hot-add after such a power fault
    has been detected.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dcb890749bbe63af96163c499e9c86b441fb6c83
Author: Daniel Marjamaki <daniel.marjamaki@comhem.se>
Date:   Wed Nov 23 15:44:49 2005 -0800

    [PATCH] PCI: trivial printk updates in common.c
    
    Modified common.c so it's using the appropriate KERN_* in printk() calls.
    
    Signed-off-by: Daniel Marjamaki <daniel.marjamaki@comhem.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 657a19ebb74128ec52f20b7e34705bdeadc59400
Author: Eugeniy Meshcheryakov <eugen@univ.kiev.ua>
Date:   Wed Nov 23 15:44:35 2005 -0800

    [PATCH] hwmon: hdaps missing an axis
    
    Trivial patch to report both hdaps axises to the joystick device, not
    just the X axis.
    
    Signed-off-by: Robert Love <rml@novell.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07eab46db7f78b2ed49bc9e41eda80695f93886f
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Nov 23 15:44:31 2005 -0800

    [PATCH] hwmon: Fix missing it87 fan div init
    
    Fix a bug where setting the low fan speed limits will not work if no
    data was ever read through the sysfs interface and the fan clock
    dividers have not been explicitely set yet either. The reason is that
    data->fan_div[nr] may currently be used before it is initialized from
    the chip register values. The fix is to explicitely initialize
    data->fan_div[nr] before using it.
    
    Bug reported, and fix tested, by Nicolas Mailhot.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d0d3cd6965d8e957764663cbb5aaa5ff486a2616
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Nov 23 15:44:26 2005 -0800

    [PATCH] hwmon: Fix lm78 VID conversion
    
    Fix the lm78 VID reading, which I accidentally broke while making
    this driver use the common vid_from_reg function rather than
    reimplementing its own in 2.6.14-rc1.
    
    I'm not proud of it, trust me.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2723ab91cb4019def10bdb01b0fecb85e6ac7884
Author: Yuan Mu <Ymu@winbond.com.tw>
Date:   Wed Nov 23 15:44:21 2005 -0800

    [PATCH] hwmon: Fix missing boundary check when setting W83627THF in0 limits
    
    Add SENSORS_LIMIT in store VCore limit functions. This fixes a potential
    u8 overflow on out-of-range user input.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1adc123079207bf9ba5bcf3dbf52bcdb22f82c7c
Author: Josh Boyer <jwboyer@gmail.com>
Date:   Wed Nov 23 15:44:15 2005 -0800

    [PATCH] Add more SCM trees to MAINTAINERS
    
    Greg requested a patch to update MAINTAINERS with more SCM entries.
    The patch below is what I've found so far.
    
    Signed-off-by: Josh Boyer <jwboyer@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50306fb5398f0aac65047c966a4341adee37f512
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Wed Nov 23 15:44:03 2005 -0800

    [PATCH] Clarify T: field in MAINTAINERS
    
    Pavel Machek points out that for git repos, what we include is not
    actually a URL.  It is undesirable to use a URL since git repos can be
    accessed in many different ways.
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c560ace1531870715fdfdae36fa9d75f4e63ae1
Author: Josh Boyer <jwboyer@gmail.com>
Date:   Wed Nov 23 15:43:57 2005 -0800

    [PATCH] MTD git tree location added to MAINTAINERS
    
    Here's the MTD one.  More later as I find them.
    
    Signed-off-by: Josh Boyer <jwboyer@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b08c8d0468866f86da97f836c6ac14338cb81a9
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Nov 23 15:43:50 2005 -0800

    [PATCH] Small fixes to driver core
    
    This patch (as603) makes a few small fixes to the driver core:
    
    Change spin_lock_irq for a klist lock to spin_lock;
    
    Fix reference count leaks;
    
    Minor spelling and formatting changes.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Acked-by Patrick Mochel <mochel@digitalimplant.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 133747e8d1e912863edfb3869e36b97b9939d4fc
Author: Olaf Rempel <razzor@kopf-tisch.de>
Date:   Wed Nov 23 19:04:08 2005 -0800

    [BRIDGE]: recompute features when adding a new device
    
    We must recompute bridge features everytime the list of underlying
    devices changes, or we might end up with features that are not
    supported by all devices (eg. NETIF_F_TSO)
    This patch adds the missing recompute when adding a device to the bridge.
    
    Signed-off-by: Olaf Rempel <razzor@kopf-tisch.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit de919820cf7fe6674cdf47f8f47d2af284e4309f
Author: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
Date:   Wed Nov 23 19:03:46 2005 -0800

    [NETFILTER]: ip_conntrack_netlink.c needs linux/interrupt.h
    
    net/ipv4/netfilter/ip_conntrack_netlink.c: In function 'ctnetlink_dump_table':
    net/ipv4/netfilter/ip_conntrack_netlink.c:409: warning: implicit declaration of function 'local_bh_disable'
    net/ipv4/netfilter/ip_conntrack_netlink.c:427: warning: implicit declaration of function 'local_bh_enable'
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 479ef592f3664dd629417098c8599261c0f689ab
Author: Oleg Drokin <green@linuxhacker.ru>
Date:   Wed Nov 23 13:37:47 2005 -0800

    [PATCH] 32bit integer overflow in invalidate_inode_pages2()
    
    Fix a 32 bit integer overflow in invalidate_inode_pages2_range.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 02b7068221eed702a37527fa2da4d63a27b3126a
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 23 13:37:47 2005 -0800

    [PATCH] jffs2 debug gcc-2.9x fix
    
    Work around gcc-2.95.x macro expansion bug.
    
    Cc: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5e391dc9e3fec68922137ae317bf680a74656c1b
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 23 13:37:45 2005 -0800

    [PATCH] powerpc: fix for hugepage areas straddling 4GB boundary
    
    Commit 7d24f0b8a53261709938ffabe3e00f88f6498df9 fixed bugs in the ppc64 SLB
    miss handler with respect to hugepage handling, and in the process tweaked
    the semantics of the hugepage address masks in mm_context_t.
    
    Unfortunately, it left out a couple of necessary changes to go with that
    change.  First, the in_hugepage_area() macro was not updated to match,
    second prepare_hugepage_range() was not updated to correctly handle
    hugepages regions which straddled the 4GB point.
    
    The latter appears only to cause process-hangs when attempting to map such
    a region, but the former can cause oopses if a get_user_pages() is
    triggered at the wrong point.  This patch addresses both bugs.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e9b15b54d3646108bbd3e054158b402025d3e704
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 23 13:37:44 2005 -0800

    [PATCH] Fix crash in unregister_console()
    
    If unregister_console() is inadvertently called while no consoles are
    registered, it will crash trying to dereference NULL pointer.  It is
    necessary to fix that because register_console() provides no indication
    that it actually registered the console passed in.  In fact, it may well
    decide not to register it based on various things...
    
    (akpm: It'd be better to make register_console() return something and fix the
    callers.  All 106 of them...)
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 962b564cf1ec8041e8890a3c3847e3a630a08f42
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Wed Nov 23 13:37:43 2005 -0800

    [PATCH] fix do_wait() vs exec() race
    
    When non-leader thread does exec, de_thread adds old leader to the init's
    ->children list in EXIT_ZOMBIE state and drops tasklist_lock.
    
    This means that release_task(leader) in de_thread() is racy vs do_wait()
    from init task.
    
    I think de_thread() should set old leader's state to EXIT_DEAD instead.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: george anzinger <george@mvista.com>
    Cc: Roland Dreier <rolandd@cisco.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Linus Torvalds <torvalds@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bf1101bd52573e0573e374d56d2feecdbb5e444
Author: Jim Keniston <jkenisto@us.ibm.com>
Date:   Wed Nov 23 13:37:42 2005 -0800

    [PATCH] kprobes: Fix return probes on sys_execve
    
    Fix a bug in kprobes that can cause an Oops or even a crash when a return
    probe is installed on one of the following functions: sys_execve,
    do_execve, load_*_binary, flush_old_exec, or flush_thread.  The fix is to
    remove the call to kprobe_flush_task() in flush_thread().  This fix has
    been tested on all architectures for which the return-probes feature has
    been implemented (i386, x86_64, ppc64, ia64).  Please apply.
    
    BACKGROUND
    
    Up to now, we have called kprobe_flush_task() under two situations: when a
    task exits, and when it execs.  Flushing kretprobe_instances on exit is
    correct because (a) do_exit() doesn't return, and (b) one or more
    return-probed functions may be active when a task calls do_exit().  Neither
    is the case for sys_execve() and its callees.
    
    Initially, the mistaken call to kprobe_flush_task() on exec was harmless
    because we put the "real" return address of each active probed function
    back in the stack, just to be safe, when we recycled its
    kretprobe_instance.  When support for ppc64 and ia64 was added, this safety
    measure couldn't be employed, and was eventually dropped even for i386 and
    x86_64.  sys_execve() and its callees were informally blacklisted for
    return probes until this fix was developed.
    
    Acked-by: Prasanna S Panchamukhi <prasanna@in.ibm.com>
    Signed-off-by: Jim Keniston <jkenisto@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c72aaf29621d29ed19fd68c44edb45321645049
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Nov 23 13:37:40 2005 -0800

    [PATCH] mm: fill arch atomic64 gaps
    
    alpha, sparc64, x86_64 are each missing some primitives from their atomic64
    support: fill in the gaps I've noticed by extrapolating asm, follow the
    groupings in each file.  But powerpc and parisc still lack atomic64.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Cc: Richard Henderson <rth@twiddle.net>
    Cc: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Andi Kleen <ak@muc.de>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ce774b4808c019c2f143ff5dea1a1b094ff01e1
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Nov 23 13:37:39 2005 -0800

    [PATCH] mm: powerpc init_mm without ptlock
    
    Restore an earlier mod which went missing in the powerpc reshuffle: the 4xx
    mmu_mapin_ram does not need to take init_mm.page_table_lock.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01edcd891c3e9f4bb992ff2ceb69836bf76f8ddf
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Nov 23 13:37:39 2005 -0800

    [PATCH] mm: powerpc ptlock comments
    
    Update comments (only) on page_table_lock and mmap_sem in arch/powerpc.
    Removed the comment on page_table_lock from hash_huge_page: since it's no
    longer taking page_table_lock itself, it's irrelevant whether others are; but
    how it is safe (even against huge file truncation?) I can't say.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc3327e7dfc16a9a3e164075234c869867a59e45
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Nov 23 13:37:38 2005 -0800

    [PATCH] mm: unbloat get_futex_key
    
    The follow_page changes in get_futex_key have left it with two almost
    identical blocks, when handling the rare case of a futex in a nonlinear vma.
    get_user_pages will itself do that follow_page, and its additional
    find_extend_vma is hardly any overhead since the vma is already cached.  Let's
    just delete the follow_page block and let get_user_pages do it.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b6ac9dffe6f4dd8776908b234ac1410ed15f112
Author: Hugh Dickins <hugh@veritas.com>
Date:   Wed Nov 23 13:37:37 2005 -0800

    [PATCH] mm: update split ptlock Kconfig
    
    Closer attention to the arithmetic shows that neither ppc64 nor sparc really
    uses one page for multiple page tables: how on earth could they, while
    pte_alloc_one returns just a struct page pointer, with no offset?
    
    Well, arm26 manages it by returning a pte_t pointer cast to a struct page
    pointer, harumph, then compensating in its pmd_populate.  But arm26 is never
    SMP, so it's not a problem for split ptlock either.
    
    And the PA-RISC situation has been recently improved: CONFIG_PA20 works
    without the 16-byte alignment which inflated its spinlock_t.  But the current
    union of spinlock_t with private does make the 7xxx struct page significantly
    larger, even without debug, so disable its split ptlock.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c101e77301877086e6f977fcfb140d1cbbe23fd5
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 23 13:37:36 2005 -0800

    [PATCH] revert floppy-fix-read-only-handling
    
    This fix causes problems on the very first floppy access - we haven't yet
    talked to the FDC so we don't know which state the write-protect tab is in.
    
    Revert for now.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3238c448c6e26d7c26d2e9b070ef149d066cb6c2
Author: Adam Brooks <adam.j.brooks@intel.com>
Date:   Wed Nov 23 22:45:27 2005 +0000

    [ARM] 3173/1: Fix to allow 2.6.15-rc2 to compile for IOP3xx boards
    
    Patch from Adam Brooks
    
    Fixes an issue in 2.6.15-rc2 that prevented compilation of kernels for IOP3xx boards.
    
    Signed-off-by: Adam Brooks <adam.j.brooks@intel.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c2b5a251b9feca727661f1a3278cafb1de4c80f3
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Thu Nov 3 07:51:18 2005 -0700

    [PATCH] Check the irq number is within bounds
    
    Most of the functions already check. Do the ones that didn't.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d0ebb36038c0626cde662a3b06da9787cfb68c3
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 23 08:44:05 2005 -0800

    Revert "[NET]: Shut up warnings in net/core/flow.c"
    
    This reverts commit af2b4079ab154bd12e8c12b02db5f31b31babe63
    
    Changing the #define to an inline function breaks on non-SMP builds,
    since wuite a few places in the kernel do not implement the ipi handler
    when compiling for UP.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7655f493b74f3048c02458bc32cd0b144f7b394f
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Nov 23 22:12:59 2005 +1100

    drm: move is_pci to the end of the structure
    
    We memset the structure across opens except for the flags. The correct
    fix is more intrusive but this should fix a problem with bad iounmaps
    seen on AGP radeons acting like PCI ones.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit c41f47121d8bf44b886ef2039779dab8c1e3a25f
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Nov 23 22:09:13 2005 +1100

    drm: add __GFP_COMP to the drm_alloc_pages
    
    The DRM only uses drm_alloc_pages for non-SG PCI cards using DRM.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit bd07ed2b4d7071716c09895e19849e8b04991656
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Wed Nov 23 21:45:43 2005 +1100

    I think that if a PCI bus is a root bus, attached to a host bridge not a
    PCI->PCI bridge, then bus->self is allowed to be NULL. Certainly that's
    the case on my Pegasos, and it makes the MGA DRM driver oops...
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 91f14480a55a7487d61c3fb40500380099e0da50
Author: Olof Johansson <olof@lixom.net>
Date:   Mon Nov 21 02:12:32 2005 -0600

    [PATCH] powerpc: update my email address
    
    Email address update, changing old work address to personal (permanent)
    one.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1778d55edb62753a92b979fa57072c2e1ff3d062
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 22 21:58:37 2005 -0800

    compat-ioctl.c: fix compile with no CONFIG_JBD
    
    The ext3 compat-ioctl translation wants to translate data structures
    that <linux/jbd.h> only declared when CONFIG_JBD was enabled.
    
    So make <linux/jbd.h> play nicely even when we don't actually end up
    using it.
    
    Acked-by: Andrew Morton <akpm@osdl.org>
    Acked-by: Jeffrey Hundstad <jeffrey.hundstad@mnsu.edu>
    Acked-by: Zan Lynx <zlynx@acm.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac3461ad632e86e7debd871776683c05ef3ba4c6
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 22 19:39:30 2005 -0800

    Fix up GFP_ZONEMASK for GFP_DMA32 usage
    
    There was some confusion about the different zone usage, this should fix
    up the resulting mess in the GFP zonemask handling.
    
    The different zone usage is still confusing (it's very easy to mix up
    the individual zone numbers with the GFP zone _list_ numbers), so we
    might want to clean up some of this in the future, but in the meantime
    this should fix the actual problems.
    
    Acked-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b4a27dff4e2d4cc2eac1cde31aede834a966a48
Merge: e6d184e... a9b1ef8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 22 16:51:33 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit a9b1ef8ec7df544b236b19fb6cc42ed2591b65cd
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 22 15:30:29 2005 -0800

    [SPARC]: drivers/sbus/char/aurora.c:  "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e6d184e33109010412ad1d59719af74755a935f4
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Tue Nov 22 14:56:32 2005 -0800

    [NET]: Fix ifenslave to not fail on lack of IP information
    
    Patch to ifenslave so that under older ABI versions, a failure to propogate ip
    information from master to slave does not result in a filure to enslave the
    slave device.
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 00cb277a4a1fb76aafb2fb28aa99f30546e619c5
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Tue Nov 22 14:54:34 2005 -0800

    [NETFILTER] ctnetlink: Fix refcount leak ip_conntrack/nat_proto
    
    Remove proto == NULL checking since ip_conntrack_[nat_]proto_find_get
    always returns a valid pointer.
    
    Fix missing ip_conntrack_proto_put in some paths.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 0ff60a45678e67b2547256a636fd00c1667ce4fa
Author: Jamal Hadi Salim <hadi@cyberus.ca>
Date:   Tue Nov 22 14:47:37 2005 -0800

    [IPV4]: Fix secondary IP addresses after promotion
    
    This patch fixes the problem with promoting aliases when:
    a) a single primary and > 1 secondary addresses
    b) multiple primary addresses each with at least one secondary address
    
    Based on earlier efforts from Brian Pomerantz <bapper@piratehaven.org>,
    Patrick McHardy <kaber@trash.net> and Thomas Graf <tgraf@suug.ch>
    
    Signed-off-by: Jamal Hadi Salim <hadi@cyberus.ca>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c27bd492fd84c590767a3c0f9f74e637b17af138
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Nov 22 14:41:50 2005 -0800

    [NETLINK]: Use tgid instead of pid for nlmsg_pid
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit af2b4079ab154bd12e8c12b02db5f31b31babe63
Author: Russell King <rmk+kernel@arm.linux.org.uk>
Date:   Tue Nov 22 14:38:04 2005 -0800

    [NET]: Shut up warnings in net/core/flow.c
    
    Not really a network problem, more a !SMP issue.
    
    net/core/flow.c:295: warning: statement with no effect
    
    flow.c:295:        smp_call_function(flow_cache_flush_per_cpu, &info, 1, 0);
    
    Fix this by converting the macro to an inline function, which
    also increases the typechecking for !SMP builds.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b3a5225f31180322fd7d692fd4cf786702826b94
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Mon Nov 21 21:32:38 2005 -0800

    [PATCH] prefer pkg-config for the QT check
    
    This makes pkg-config now the prefered way to configure QT and properly
    fixes the recent Fedora breakage and leaves the old QT detection as
    fallback mechanism.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7692c5dd48026d952199c2b97c3418f927cc0407
Author: Jonathan E Brassow <jbrassow@redhat.com>
Date:   Mon Nov 21 21:32:37 2005 -0800

    [PATCH] device-mapper raid1: drop mark_region spinlock fix
    
    The spinlock region_lock is held while calling mark_region which can sleep.
    Drop the spinlock before calling that function.
    
    A region's state and inclusion in the clean list are altered by rh_inc and
    rh_dec.  The state variable is set to RH_CLEAN in rh_dec, but only if
    'pending' is zero.  It is set to RH_DIRTY in rh_inc, but not if it is already
    so.  The changes to 'pending', the state, and the region's inclusion in the
    clean list need to be atomicly.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 233886dd32ad71daf9c21bf3728c0933a94870f0
Author: Jan Blunck <jblunck@suse.de>
Date:   Mon Nov 21 21:32:36 2005 -0800

    [PATCH] device-mapper snapshot: bio_list fix
    
    bio_list_merge() should do nothing if the second list is empty - not oops.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 640eb3b0456f8273726d31160aa24568ae703eec
Author: Stefan Bader <Stefan.Bader@de.ibm.com>
Date:   Mon Nov 21 21:32:35 2005 -0800

    [PATCH] device-mapper dm-mpath: endio spinlock fix
    
    do_end_io() can be called without interrupts blocked.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0e56822d30184d0da35a6ecc51f38c4ceb457a80
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Mon Nov 21 21:32:34 2005 -0800

    [PATCH] device-mapper: mirror log bitset fix
    
    The linux bitset operators (test_bit, set_bit etc) work on arrays of "unsigned
    long".  dm-log uses such bitsets but treats them as arrays of uint32_t, only
    allocating and zeroing a multiple of 4 bytes (as 'clean_bits' is a uint32_t).
    
    The patch below fixes this problem.
    
    The problem is specific to 64-bit big endian machines such as s390x or ppc-64
    and can prevent pvmove terminating.
    
    In the simplest case, if "region_count" were (say) 30, then
    bitset_size (below) would be 4 and bitset_uint32_count would be 1.
    Thus the memory for this butset, after allocation and zeroing would
    be
       0 0 0 0 X X X X
    On a bigendian 64bit machine, bit 0 for this bitset is in the 8th
    byte! (and every bit that dm-log would use would be in the X area).
    
       0 0 0 0 X X X X
                     ^
                     here
    
    which hasn't been cleared properly.
    
    As the dm-raid1 code only syncs and counts regions which have a 0 in the
    'sync_bits' bitset, and only finishes when it has counted high enough, a large
    number of 1's among those 'X's will cause the sync to not complete.
    
    It is worth noting that the code uses the same bitsets for in-memory and
    on-disk logs.  As these bitsets are host-endian and host-sized, this means
    that they cannot safely be moved between computers with
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4cc66351a24da5feec298be2da59a85f68dd3ea
Author: Alasdair G Kergon <agk@redhat.com>
Date:   Mon Nov 21 21:32:33 2005 -0800

    [PATCH] device-mapper: list_versions fix
    
    In some circumstances the LIST_VERSIONS output is truncated because the size
    calculation forgets about a 'uint32_t' in each structure - but the inclusion
    of the whole of ALIGN_MASK frequently compensates for the omission.
    
    This is a quick workaround to use an upper bound.  (The code ought to be fixed
    to supply the actual size.)
    
    Running 'dmsetup targets' may demonstrate the problem: when I run it, the last
    line comes out as 'erro' instead of 'error'.  Consequently, 'lvcreate --type
    error' doesn't work.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b6fcc80d03b41162ed88c3fb542aca9b654bc414
Author: Kiyoshi Ueda <k-ueda@ct.jp.nec.com>
Date:   Mon Nov 21 21:32:32 2005 -0800

    [PATCH] device-mapper dm-ioctl: missing put in table load error case
    
    An error path in table_load() forgets to release a table that won't now be
    referenced.
    
    Signed-off-by: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98766fbe604bc198ced93c57220c2d4a78ad6c11
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 21 21:32:31 2005 -0800

    [PATCH] kernel Doc/ URL corrections
    
    Correct lots of URLs in Documentation/ Also a few minor whitespace cleanups
    and typo/spello fixes.  Sadly there are still a lot of bad URLs remaining.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c52f1377d9cc4bedec5d4e1e3b22756b8978399
Author: Dave Jones <davej@redhat.com>
Date:   Mon Nov 21 21:32:30 2005 -0800

    [PATCH] dell_rbu driver depends on x86[64]
    
    This driver only appears on IA32 & EM64T boxes.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79e448bf2d71d52d28c99be4faff9cc51928f90b
Author: Matthew Dobson <colpatch@us.ibm.com>
Date:   Mon Nov 21 21:32:29 2005 -0800

    [PATCH] Fix a bug in scsi_get_command
    
    scsi_get_command() attempts to write into a structure that may not have
    been successfully allocated.  Move this write inside the if statement that
    ensures we won't panic the kernel with a NULL pointer dereference.
    
    Signed-off-by: Matthew Dobson <colpatch@us.ibm.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e738cf6d03786486b7e1adbaed1c5c4e14d23626
Author: Grant Coady <gcoady@gmail.com>
Date:   Mon Nov 21 21:32:28 2005 -0800

    [PATCH] cpufreq: silence cpufreq for UP
    
    drivers/cpufreq/cpufreq.c: In function `cpufreq_remove_dev':
    drivers/cpufreq/cpufreq.c:696: warning: unused variable `cpu_sys_dev'
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0bd0f9fb190a0fc0fb25b764c8b04869711f7657
Author: Eric Paris <eparis@redhat.com>
Date:   Mon Nov 21 21:32:28 2005 -0800

    [PATCH] hugetlb: fix race in set_max_huge_pages for multiple updaters of nr_huge_pages
    
    If there are multiple updaters to /proc/sys/vm/nr_hugepages simultaneously
    it is possible for the nr_huge_pages variable to become incorrect.  There
    is no locking in the set_max_huge_pages function around
    alloc_fresh_huge_page which is able to update nr_huge_pages.  Two callers
    to alloc_fresh_huge_page could race against each other as could a call to
    alloc_fresh_huge_page and a call to update_and_free_page.  This patch just
    expands the area covered by the hugetlb_lock to cover the call into
    alloc_fresh_huge_page.  I'm not sure how we could say that a sysctl section
    is performance critical where more specific locking would be needed.
    
    My reproducer was to run a couple copies of the following script
    simultaneously
    
    while [ true ]; do
    	echo 1000 > /proc/sys/vm/nr_hugepages
    	echo 500 > /proc/sys/vm/nr_hugepages
    	echo 750 > /proc/sys/vm/nr_hugepages
    	echo 100 > /proc/sys/vm/nr_hugepages
    	echo 0 > /proc/sys/vm/nr_hugepages
    done
    
    and then watch /proc/meminfo and eventually you will see things like
    
    HugePages_Total:     100
    HugePages_Free:      109
    
    After applying the patch all seemed well.
    
    Signed-off-by: Eric Paris <eparis@redhat.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ef897c71a8985b62b7ec320a37376daaad364d0
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Nov 21 21:32:26 2005 -0800

    [PATCH] vgacon: Fix usage of stale height value on vc initialization
    
    Reported by: Wayne E. Harlan
    
    "[1.] One line summary of the problem:
    When the kernel option "vga=1" is used, additional tty's (alt+control+Fx
    with x=2,3,4,5, etc) do not provide the full 50 lines of output.  The first
    one does have 50 lines, however.
    
    [2.] Full description of the problem/report:
    These addtitional tty's show only 39 lines plus the top pixel of the 40-th
    line.  The remaining lines are black and not shown.  Kernel version
    2.6.13.4 does not show this problem."
    
    This bug is caused by using a stale font height value on vgacon_init.
    
    Booting with vga=1 gives an 80x50 screen with an 8x8 font.  Somewhere
    during the initialization, the font was changed to 8x9 and the first
    vc was correctly resized to 80x44.  However, the rest of the vc's were
    not allocated yet, and when they were subsequently initialized, they
    still used a font height of 8 (instead of 9) causing the mentioned bug.
    
    Fix by saving the new font height to vga_video_font_height.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4627dea032ab1f6e472fcf030e28f22ea971f9b
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Mon Nov 21 21:32:25 2005 -0800

    [PATCH] fbcon: Console Rotation - Fix wrong shift calculation
    
    The shift value (amount to shift the bitmap so first pixel starts at
    origin(0,0)) is incorrect.  This causes corrupted characters or a kernel crash
    if fontwidth is not divisible by 8 at 270 degrees, or fontheight not divisible
    by 8 at 180 degrees.
    
    Report and part of the fix contributed by Knut Petersen.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74a8a65c526187fe636a6a2abcb7d9ebc5c753ab
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Nov 21 21:32:24 2005 -0800

    [PATCH] Fix hugetlbfs_statfs() reporting of block limits
    
    Currently, if a hugetlbfs is mounted without limits (the default), statfs()
    will return -1 for max/free/used blocks.  This does not appear to be in
    line with normal convention: simple_statfs() and shmem_statfs() both return
    0 in similar cases.  Worse, it confuses the translation logic in
    put_compat_statfs(), causing it to return -EOVERFLOW on such a mount.
    
    This patch alters hugetlbfs_statfs() to return 0 for max/free/used blocks
    on a mount without limits.  Note that we need the test in the patch below,
    rather than just using 0 in the sbinfo structure, because the -1 marked in
    the free blocks field is used internally to tell the
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86e07ce71a8aad5074f7316f9b297d2137630283
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Nov 21 21:32:23 2005 -0800

    [PATCH] Fix error handling with put_compat_statfs()
    
    In fs/compat.c, whenever put_compat_statfs() returns an error, the
    containing syscall returns -EFAULT.  This is presumably by analogy with the
    non-compat case, where any non-zero code from copy_to_user() should be
    translated into an EFAULT.  However, put_compat_statfs() is also return
    -EOVERFLOW.  The same applies for put_compat_statfs64().
    
    This bug can be observed with a statfs() on a hugetlbfs directory.
    hugetlbfs, when mounted without limits reports available, free and total
    blocks as -1 (itself a bug, another patch coming).  statfs() will
    mysteriously return EFAULT although it's parameters are perfectly valid
    addresses.
    
    This patch causes the compat versions of statfs() and statfs64() to
    correctly propogate the return values from put_compat_statfs() and
    put_compat_statfs64().
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3d48f0373c14a6203202f7b1dfc7b0d8aaf6ed2
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:22 2005 -0800

    [PATCH] unpaged: fix sound Bad page states
    
    Earlier I unifdefed PageCompound, so that snd_pcm_mmap_control_nopage and
    others can give out a 0-order component of a higher-order page, which won't
    be mistakenly freed when zap_pte_range unmaps it.  But many Bad page states
    reported a PG_reserved was freed after all: I had missed that we need to
    say __GFP_COMP to get compound page behaviour.
    
    Some of these higher-order pages are allocated by snd_malloc_pages, some by
    snd_malloc_dev_pages; or if SBUS, by sbus_alloc_consistent - but that has
    no gfp arg, so add __GFP_COMP into its sparc32/64 implementations.
    
    I'm still rather puzzled that DRM seems not to need a similar change.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b0db14c536debd92328819fe6c51a49717e8440
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:20 2005 -0800

    [PATCH] unpaged: copy_page_range vma
    
    For copy_one_pte's print_bad_pte to show the task correctly (instead of
    "???"), dup_mmap must pass down parent vma rather than child vma.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 689bcebfda16d7bace742740bfb3137fff30b529
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:20 2005 -0800

    [PATCH] unpaged: PG_reserved bad_page
    
    It used to be the case that PG_reserved pages were silently never freed, but
    in 2.6.15-rc1 they may be freed with a "Bad page state" message.  We should
    work through such cases as they appear, fixing the code; but for now it's
    safer to issue the message without freeing the page, leaving PG_reserved set.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f57e88a8d83de8d844b57e16b84d2f762fe9f092
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:19 2005 -0800

    [PATCH] unpaged: ZERO_PAGE in VM_UNPAGED
    
    It's strange enough to be looking out for anonymous pages in VM_UNPAGED areas,
    let's not insert the ZERO_PAGE there - though whether it would matter will
    depend on what we decide about ZERO_PAGE refcounting.
    
    But whereas do_anonymous_page may (exceptionally) be called on a VM_UNPAGED
    area, do_no_page should never be: just BUG_ON.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee498ed730283e9cdfc8913f12b90a2246f1a8cc
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:18 2005 -0800

    [PATCH] unpaged: anon in VM_UNPAGED
    
    copy_one_pte needs to copy the anonymous COWed pages in a VM_UNPAGED area,
    zap_pte_range needs to free them, do_wp_page needs to COW them: just like
    ordinary pages, not like the unpaged.
    
    But recognizing them is a little subtle: because PageReserved is no longer a
    condition for remap_pfn_range, we can now mmap all of /dev/mem (whether the
    distro permits, and whether it's advisable on this or that architecture, is
    another matter).  So if we can see a PageAnon, it may not be ours to mess with
    (or may be ours from elsewhere in the address space).  I suspect there's an
    entertaining insoluble self-referential problem here, but the page_is_anon
    function does a good practical job, and MAP_PRIVATE PROT_WRITE VM_UNPAGED will
    always be an odd choice.
    
    In updating the comment on page_address_in_vma, noticed a potential NULL
    dereference, in a path we don't actually take, but fixed it.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 920fc356f58d0e455bdfa53451f1c58eb211a846
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:17 2005 -0800

    [PATCH] unpaged: COW on VM_UNPAGED
    
    Remove the BUG_ON(vma->vm_flags & VM_UNPAGED) from do_wp_page, and let it do
    Copy-On-Write without touching the VM_UNPAGED's page counts - but this is
    incomplete, because the anonymous page it inserts will itself need to be
    handled, here and in other functions - next patch.
    
    We still don't copy the page if the pfn is invalid, because the
    copy_user_highpage interface does not allow it.  But that's not been a problem
    in the past: can be added in later if the need arises.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 101d2be7646b7dd1c367d50208a59b29fce61398
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:16 2005 -0800

    [PATCH] unpaged: VM_NONLINEAR VM_RESERVED
    
    There's one peculiar use of VM_RESERVED which the previous patch left behind:
    because VM_NONLINEAR's try_to_unmap_cluster uses vm_private_data as a swapout
    cursor, but should never meet VM_RESERVED vmas, it was a way of extending
    VM_NONLINEAR to VM_RESERVED vmas using vm_private_data for some other purpose.
     But that's an empty set - they don't have the populate function required.  So
    just throw away those VM_RESERVED tests.
    
    But one more interesting in rmap.c has to go too: try_to_unmap_one will want
    to swap out an anonymous page from VM_RESERVED or VM_UNPAGED area.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b14c179a483e71ea41df2aa4a661760063115bd
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:15 2005 -0800

    [PATCH] unpaged: VM_UNPAGED
    
    Although we tend to associate VM_RESERVED with remap_pfn_range, quite a few
    drivers set VM_RESERVED on areas which are then populated by nopage.  The
    PageReserved removal in 2.6.15-rc1 changed VM_RESERVED not to free pages in
    zap_pte_range, without changing those drivers not to set it: so their pages
    just leak away.
    
    Let's not change miscellaneous drivers now: introduce VM_UNPAGED at the core,
    to flag the special areas where the ptes may have no struct page, or if they
    have then it's not to be touched.  Replace most instances of VM_RESERVED in
    core mm by VM_UNPAGED.  Force it on in remap_pfn_range, and the sparc and
    sparc64 io_remap_pfn_range.
    
    Revert addition of VM_RESERVED to powerpc vdso, it's not needed there.  Is it
    needed anywhere?  It still governs the mm->reserved_vm statistic, and special
    vmas not to be merged, and areas not to be core dumped; but could probably be
    eliminated later (the drivers are probably specifying it because in 2.4 it
    kept swapout off the vma, but in 2.6 we work from the LRU, which these pages
    don't get on).
    
    Use the VM_SHM slot for VM_UNPAGED, and define VM_SHM to 0: it serves no
    purpose whatsoever, and should be removed from drivers when we clean up.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 664beed0190fae687ac51295694004902ddeb18e
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:14 2005 -0800

    [PATCH] unpaged: unifdefed PageCompound
    
    It looks like snd_xxx is not the only nopage to be using PageReserved as a way
    of holding a high-order page together: which no longer works, but is masked by
    our failure to free from VM_RESERVED areas.  We cannot fix that bug without
    first substituting another way to hold the high-order page together, while
    farming out the 0-order pages from within it.
    
    That's just what PageCompound is designed for, but it's been kept under
    CONFIG_HUGETLB_PAGE.  Remove the #ifdefs: which saves some space (out- of-line
    put_page), doesn't slow down what most needs to be fast (already using
    hugetlb), and unifies the way we handle high-order pages.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1cdca61bf8537043edde8ef784ce1a1351361dac
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:13 2005 -0800

    [PATCH] unpaged: sound nopage get_page
    
    Something noticed when studying use of VM_RESERVED in different drivers:
    snd_usX2Y_hwdep_pcm_vm_nopage omitted to get_page: fixed.
    
    And how did this work before?  Aargh!  That nopage is returning a page from
    within a buffer allocated by snd_malloc_pages, which allocates a high-order
    page, then does SetPageReserved on each 0-order page within.
    
    That would have worked in 2.6.14, because when the area was unmapped,
    PageReserved inhibited put_page.  2.6.15-rc1 removed that inhibition (while
    leaving ineffective PageReserveds around for now), but it hasn't caused
    trouble because..  we've not been freeing from VM_RESERVED at all.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83e9b7e929d1323b9a155d186f77aa8c06155cc3
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:12 2005 -0800

    [PATCH] unpaged: private write VM_RESERVED
    
    The PageReserved removal in 2.6.15-rc1 issued a "deprecated" message when you
    tried to mmap or mprotect MAP_PRIVATE PROT_WRITE a VM_RESERVED, and failed
    with -EACCES: because do_wp_page lacks the refinement to COW pages in those
    areas, nor do we expect to find anonymous pages in them; and it seemed just
    bloat to add code for handling such a peculiar case.  But immediately it
    caused vbetool and ddcprobe (using lrmi) to fail.
    
    So revert the "deprecated" messages, letting mmap and mprotect succeed.  But
    leave do_wp_page's BUG_ON(vma->vm_flags & VM_RESERVED) in place until we've
    added the code to do it right: so this particular patch is only good if the
    app doesn't really need to write to that private area.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed5297a94090d9a9f27b0ce1f9601ebe73561cff
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 21 21:32:11 2005 -0800

    [PATCH] unpaged: get_user_pages VM_RESERVED
    
    The PageReserved removal in 2.6.15-rc1 prohibited get_user_pages on the areas
    flagged VM_RESERVED in place of PageReserved.  That is correct in theory - we
    ought not to interfere with struct pages in such a reserved area; but in
    practice it broke BTTV for one.
    
    So revert to prohibiting only on VM_IO: if someone gets into trouble with
    get_user_pages on VM_RESERVED, it'll just be a "don't do that".
    
    You can argue that videobuf_mmap_mapper shouldn't set VM_RESERVED in the first
    place, but now's not the time for breaking drivers without notice.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa1a64ee12ae130706f3fc0007841ce9b0ddf9c2
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 21 21:32:10 2005 -0800

    [PATCH] uml: eliminate use of libc PAGE_SIZE
    
    On some systems, libc PAGE_SIZE calls getpagesize, which can't happen from a
    stub.  So, I use UM_KERN_PAGE_SIZE, which is less variable in its definition,
    instead.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17d469715c6453e4994e6617e8f644bf10f38584
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 21 21:32:09 2005 -0800

    [PATCH] uml: properly invoke x86_64 system calls
    
    This patch makes stub_segv use the stub_syscall macros.  This was needed
    anyway, but the bug that prompted this was the discovery that gcc was storing
    stuff in RCX, which is trashed across a system call.  This is exactly the sort
    of problem that the new macros fix.
    
    There is a stub_syscall0 for getpid.  stub_segv was changed to be a libc file,
    and that caused some include changes.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e23181deec0d2a8be576faf9d71211abb84d5ccc
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 21 21:32:08 2005 -0800

    [PATCH] uml: eliminate anonymous union and clean up symlink lossage
    
    This gives a name to the anonymous union introduced in skas-hold-own-ldt,
    allowing to build on a wider range of gccs.
    
    It also removes ldt.h, which somehow became real, and replaces it with a
    symlink, and creates ldt-x86_64.h as a copy of ldt-i386.h for now.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39d730ab87f07592e3a3794353f097d5184cae7a
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 21 21:32:04 2005 -0800

    [PATCH] uml: eliminate use of local in clone stub
    
    We have a bug in the i386 stub_syscall6 which pushes ebp before the system
    call and pops it afterwards.  Because we use syscall6 to remap the stack, the
    old contents of the stack (and the former value of ebp) are no longer
    available.  Some versions of gcc make from a real local, accessed through ebp,
    despite my efforts to make it obvious that references to from are really
    constants.  This patch attempts to make it even more obvious by eliminating
    from and using a macro to access the stub's data explicitly with constants.
    
    My original thinking on this was to replace syscall6 with a remap_stack
    interface which saved ebp someplace and restored it afterwards.  The problem
    is that there are no registers to put it in, except for esp.  That could work,
    since we can store a constant in esp after the mmap because we just replaced
    the stack.  However, this approach seems a tad cleaner.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18317ab0ca5ac0c654be3eac31ebb781b4a5e9b2
Author: Richard Knutsson <ricknu-0@student.ltu.se>
Date:   Mon Nov 21 21:32:03 2005 -0800

    [PATCH] net: Fix compiler-error on dgrs.c when !CONFIG_PCI
    
    drivers/net/dgrs.c: In function `dgrs_init_module':
    drivers/net/dgrs.c:1598: `dgrs_pci_driver' undeclared (first use in this function)
    
    Signed-off-by: Richard Knutsson <ricknu-0@student.ltu.se>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 989e4d6cbc69191c41ddf4b1c492457410376b43
Merge: 5ea8051... 963f48a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 19:04:44 2005 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/scjody/ieee1394

commit 5ea8051a23de7b39bd5efebcaf63c05fd03f0d98
Merge: 66b5920... c889b89...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 19:00:43 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 66b5920f61b020fc2fc34fef9c4fcdd86df3b52e
Merge: 49bd96c... 9b73fcf...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 19:00:05 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 49bd96c2caa3f02a9273d31b96e75b7574af8c06
Merge: 8ad9ebb... ab2ff46...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 17:44:56 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit ab2ff46a2d22177daeae4d473c8916e4f14b4253
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Nov 11 16:52:02 2005 -0600

    [IA64-SGI] bte_copy nasid_index fix
    
    The nasid_index was not being incremented if the
    pointer was null, causing an infinite loop.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 771388dc7d1efe26a40242bd509e87ade2c971d1
Author: Jack Steiner <steiner@sgi.com>
Date:   Fri Nov 18 16:11:27 2005 -0600

    [IA64-SGI] support for older versions of PROM
    
    Add support for old versions of the SN PROMs. Eventually this
    support will be deleted but it is useful right now to continue
    supporting older PROMs.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 090de0b77ceed1f1d05883fa744760f0c65d9c31
Author: John Hawkes <hawkes@sgi.com>
Date:   Fri Nov 18 11:30:34 2005 -0800

    [IA64] fix bug in sn/ia64 for sparse CPU numbering
    
    The kernel's use of the for_each_*cpu(i) macros has allowed for sparse CPU
    numbering.  When I hacked the kernel to test sparse cpu_present_map[] and
    cpu_possible_map[] cpumasks, I discovered one remaining spot, in
    sn_hwperf_ioctl() during sn initialization, that needs to be fixed.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9ad4f924ecd9c067a22a64699bcf4eaad1935a61
Author: Prarit Bhargava <prarit@sgi.com>
Date:   Mon Nov 21 13:00:38 2005 -0500

    [IA64] Prevent sn2 ptc code from executing on all ia64 subarches
    
    Patch to prevent sn2_ptc_init code from attempting to load on non-sn2 systems
    when sn2_smp.c is built-in to generic kernel.
    
    Signed-off-by: Prarit Bhargava <prarit@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8ad9ebb391e4cd75837ee608b9c33fcaceda0bc2
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Nov 21 19:49:41 2005 +0100

    [PATCH] as-iosched: remove state assertion in as_add_request()
    
    Kill the arq->state poison statement in as_add_request(), it can trigger
    for perfectly valid code that just reuses a request after io completion
    instead of freeing it and allocating a new one. We probably should
    introduce a blk_init_request() to start from scratch, but for now just
    kill it as we will be removing the as specific poisoning soon.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9e6bfa141c5bcf3402d98204b7b23b310be9ddb
Merge: 1a32472... e7e37ee...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 10:56:30 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/agpgart

commit 1a324727caa26cd65a359a958c90fbd251d4aa49
Merge: db93a82... 461ddf3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 21 10:46:34 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit c889b89619339636240227abb9ee5c9ec1167a1a
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 21 17:05:21 2005 +0000

    [SERIAL] imx: Fix missed platform_driver_unregister
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9b73fcf85f65a301107c89e05227cd6fd6965680
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 21 17:03:15 2005 +0000

    [ARM] Shut up gcc warning in clps7500 core.c
    
    core.c:263: warning: initialization makes integer from pointer without a cast
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2f3eca8b4f1e9ff3c712519170f5c070ddbddff9
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 21 17:01:13 2005 +0000

    [ARM] Shut up gcc warning in assabet.c
    
    assabet.c:291: warning: 'scr' may be used uninitialized in this function
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 30a09616df38ab282e66084f40fb438fe715b2ec
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 21 15:26:52 2005 +0000

    [ARM] ebsa110: __arch_ioremap should be 3 args
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5aaf291056b6142c11f6f7fd48cf937595a70e93
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 21 15:26:18 2005 +0000

    [ARM] Add asm/memory.h to asm/numnodes.h
    
    Since the defintion of NODES_SHIFT may be overridden in asm/arch/memory.h
    it's important to include asm/memory.h into asm/numnodes.h to ensure
    that the correct value is always defined.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 19f07be3b83d707940cc29abd8cc99d36d9d1f4e
Author: Kenneth Tan <chong.yin.tan@intel.com>
Date:   Mon Nov 21 15:17:07 2005 +0000

    [ARM] 3171/1: To add missing QMGR region size for IXP4XX
    
    Patch from Kenneth Tan
    
    To add queue manager region size which is missing from ixp4xx-regs.h
    
    Signed-off-by: Kenneth Tan <chong.yin.tan@intel.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 067c90481aad752dca9a4685091c0163dec7dfe0
Author: Dirk Opfer <dirk@opfer-online.de>
Date:   Mon Nov 21 15:17:06 2005 +0000

    [ARM] 3170/1: Sharp SL-6000x: platform device conversion fixup
    
    Patch from Dirk Opfer
    
    Fix an error in tosa.c after the platform device conversion.
    
    Signed-off-by: Dirk Opfer <Dirk@Opfer-Online.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e7e37ee9c547213d726b29c2510cbb6696050405
Merge: c243f1f... db93a82...
Author: Dave Jones <davej@redhat.com>
Date:   Mon Nov 21 06:56:52 2005 -0800

    Merge ../linus/

commit c243f1f1f6545985afcc6adf1fc085729029c3ee
Author: Dave Jones <davej@redhat.com>
Date:   Mon Nov 21 06:53:16 2005 -0800

    [AGPGART] Support VIA P4M800CE bridge.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 461ddf3b90bb149b99c3f675959c1bd6b11ed936
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Nov 20 21:25:15 2005 -0800

    [NET]: kernel-doc fixes
    
    Fix kernel-doc warnings in network files.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b84f4cc977ec4a1260dc8d9165efc9319a93c2a2
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Nov 20 21:19:21 2005 -0800

    [NET]: Use unused bit for ipvs_property field in struct sk_buff
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a516b04950f62d36b33db00c0d3c69d09dae99a9
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Nov 20 21:16:13 2005 -0800

    [DCCP]: Add missing no_policy flag to struct net_protocol
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bd4cfb594bdea00c3920b31bd12f497fc4a2e79c
Author: Nicolas Kaiser <nikai@nikai.net>
Date:   Sun Nov 20 21:11:31 2005 -0800

    [NETFILTER]: Remove ARRAY_SIZE duplicate
    
    Signed-off-by: Nicolas Kaiser <nikai@nikai.net>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2b8f2ff6f4c11fff9c3016b54fa261f522a54b70
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Sun Nov 20 21:09:55 2005 -0800

    [NETFILTER]: fixed dependencies between modules related with ip_conntrack
    
    - IP_NF_CONNTRACK_MARK is bool and depends on only IP_NF_CONNTRACK
      which is tristate. If a variable depends on IP_NF_CONNTRACK_MARK and
      doesn't care about IP_NF_CONNTRACK, it can be y. This must be avoided.
    - IP_NF_CT_ACCT has same problem.
    - IP_NF_TARGET_CLUSTERIP also depends on IP_NF_MANGLE.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c9e53cbe7ad6eabb3c7c5140b6127b4e5f9ee840
Author: Patrick McHardy <kaber@trash.net>
Date:   Sun Nov 20 21:09:00 2005 -0800

    [FIB_TRIE]: Don't show local table in /proc/net/route output
    
    Don't show local table to behave similar to fib_hash.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1ef43204f4bd24dcd3156185b19b31b6b4151ae9
Merge: 5d5780d... df9890c...
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Sun Nov 20 20:52:16 2005 -0800

    Merge git://git.skbuff.net/gitroot/yoshfuji/linux-2.6.14+advapi-fix/

commit db93a82fa9d8b4d6e31c227922eaae829253bb88
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 11:13:29 2005 -0500

    [PATCH] Fix an OOPS is CinergyT2
    
    Fix an OOPS is CinergyT2 driver when registering IR remote
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d5780df23537ad0db72267fe11103d2c23d9b2a
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Sun Nov 20 13:42:20 2005 -0800

    [IPV6]: Acquire addrconf_hash_lock for read in addrconf_verify(...)
    
    addrconf_verify(...) only traverse address hash table when
    addrconf_hash_lock is held for writing, and it may hold
    addrconf_hash_lock for a long time. So I think it's better to acquire
    addrconf_hash_lock for reading instead of writing
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4909724b5dee8fb7c52bbe90afa40c65b17be9eb
Author: Alexandra Kossovsky <Alexandra.Kossovsky@oktetlabs.ru>
Date:   Sun Nov 20 13:41:59 2005 -0800

    [COMPAT] net: SIOCGIFCONF data corruption
    
    From: Alexandra Kossovsky <Alexandra.Kossovsky@oktetlabs.ru>
    
    From http://bugzilla.kernel.org/show_bug.cgi?id=4746
    
    There is user data corruption when using ioctl(SIOCGIFCONF) in 32-bit
    application running amd64 kernel. I do not think that this problem is
    exploitable, but any data corruption may lead to security problems.
    Following code demonstrates the problem
    
    #include <stdint.h>
    #include <stdio.h>
    #include <sys/time.h>
    #include <sys/socket.h>
    #include <net/if.h>
    #include <sys/ioctl.h>
    
    char buf[256];
    
    main()
    {
    	int s = socket(AF_INET, SOCK_DGRAM, 0);
    	struct ifconf req;
    	int i;
    
    	req.ifc_buf = buf;
    	req.ifc_len = 41;
    
    	printf("Result %d\n", ioctl(s, SIOCGIFCONF, &req));
    	printf("Len %d\n", req.ifc_len);
    	for (i = 41; i < 256; i++)
    		if (buf[i] != 0)
    			printf("Byte %d is corrupted\n", i);
    }
    
    Steps to reproduce:
    Compile the code above into 32-bit elf and run it. You'll get
    Result 0
    Len 32
    Byte 48 is corrupted
    Byte 52 is corrupted
    Byte 53 is corrupted
    Byte 54 is corrupted
    Byte 55 is corrupted
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fb0d366b0803571f06a5b838f02c6706fc287995
Author: Kris Katterjohn <kjak@users.sourceforge.net>
Date:   Sun Nov 20 13:41:34 2005 -0800

    [NET]: Reject socket filter if division by constant zero is attempted.
    
    This way we don't have to check it in sk_run_filter().
    
    Signed-off-by: Kris Katterjohn <kjak@users.sourceforge.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit aa8751667dcd757dd9a711b51140adf181501c44
Author: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
Date:   Sun Nov 20 13:41:05 2005 -0800

    [PKT_SCHED]: sch_netem: correctly order packets to be sent simultaneously
    
    If two packets were queued to be sent at the same time in the future,
    their order would be reversed.  This would occur because the queue is
    traversed back to front, and a position is found by checking whether
    the new packet needs to be sent before the packet being examined.  If
    the new packet is to be sent at the same time of a previous packet, it
    would end up before the old packet in the queue.  This patch places
    packets in the correct order when they are queued to be sent at a same
    time in the future.
    
    Signed-off-by: Andrea Bittau <a.bittau@cs.ucl.ac.uk>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9e18fcdd346c6befdac360c047327fb058f33628
Author: Andi Kleen <ak@suse.de>
Date:   Sun Nov 20 18:49:08 2005 +0100

    [PATCH] Remove compat ioctl semaphore
    
    Originally for 2.6.16, but the semaphore causes problems for some
    people so get rid of it now.
    
    It's not needed anymore because the ioctl hash table is never changed
    at run time now.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6c667592e824c2871fe0ae3bc4b9bc7e81941f4
Author: Jacob Shin <Jacob.Shin@amd.com>
Date:   Sun Nov 20 18:49:07 2005 +0100

    [PATCH] Fix x86_64/msr.h interface to agree with i386/msr.h
    
    Ever since we remove msr.c from x86_64 branch and started grabbing it from
    i386, msr device (read functionality) has been broken for us.
    
    This is due to the differences between asm-i386/msr.h and asm-x86_64/msr.h interfaces.
    
    Here is a patch to our side to fix this.
    
    Thankfully, as of current (2.6.15-rc1-git6) tree, arch/i386/kernel/msr.c is the only file that uses rdmsr_safe macro.
    
    Signed-off-by: Jacob Shin <jacob.shin@amd.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fbe83e209ad9c8281e29ac17a60f91119d86fa8c
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Nov 20 18:49:06 2005 +0100

    [PATCH] Register disabled CPUs
    
    Needed to make the earlier use disabled CPUs for CPU hotplug patch
    actually work.
    
    Need to register disabled processors as well, so we can count them
    towards cpu_possible_map as hot pluggable cpus.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d7169160bb772efe6510d8bc0c8e7625efbcc0b3
Author: Andi Kleen <ak@suse.de>
Date:   Sun Nov 20 18:49:05 2005 +0100

    [PATCH] i386: Use bigsmp for > 8 core Opteron systems
    
    bigsmp is reported to work on large Opteron systems on 32bit too.
    Enable it by default there.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 252ec9e28f0cf350e246c065ffe70a2e32b84ad4
Merge: d489227... 1e6b39f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 20 09:19:38 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6

commit d4892279d786dd11f9d6269b3029ad3340e79597
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:57:02 2005 -0500

    Fix missing initialization in ir-kbd-gpio.c
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit d271d1c2217b2e9868c32c0437d76b2af3a4b971
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:56:54 2005 -0500

    Fix an OOPS when initializing IR remote on saa7134
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 9e50afd0cb3ff9ee152dbcf8601f5fb7eba5cff8
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:56:43 2005 -0500

    Input: make serio and gameport more swsusp friendly
    
    kseriod and kgameportd used to process all pending events before
    checking for freeze condition. This may cause swsusp to time out
    while stopping tasks when resuming. Switch to process events one
    by one to check freeze status more often.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit bd0ef2356cd85d39387be36fdf1f83a40075057f
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:56:31 2005 -0500

    Input: handle failures in input_register_device()
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e597f0c80de7e2ef840b28d111ec532988abc432
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:51:43 2005 -0500

    Input: uinput - don't use "interruptible" in FF code
    
    If thread that submitted FF request gets interrupted somehow it
    will release request structure and ioctl handler will work with
    freed memory. TO prevent that from happening switch to using
    wait_for_completion instead of wait_for_completion_interruptible.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 59c7c0377e00a3cbd7b71631177fb92166ceb437
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:51:33 2005 -0500

    Input: uinput - add UI_SET_SWBIT ioctl
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 29506415a0ff0152cc2928f8fcac724fbbf98651
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:51:22 2005 -0500

    Input: uinput - convert to dynalloc allocation
    
    Also introduce proper locking when creating/deleting device.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e753b650e10af8a040b1081e72088b826bdef72f
Author: Miloslav Trmac <mitr@volny.cz>
Date:   Sun Nov 20 00:51:05 2005 -0500

    Input: wistron - disable wifi/bluetooth on suspend
    
    Try to save battery power by disabling wifi and bluetooth on suspend.
    
    Signed-off-by: Miloslav Trmac <mitr@volny.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit a5b0cc80bc3cc98809c7674bda9928db497f0ebb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:50:58 2005 -0500

    Input: wistron - add PM support
    
    Register wistron-bios as a platform device, restore WIFI and
    Bluetooth state upon resume.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 22a397e2c189dedf857836f2a49542b8aedfeb65
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:50:46 2005 -0500

    Input: wistron - convert to dynamic input_dev allocation
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 84b256a66360cedc25eb6e2ac6f167ca9778307b
Author: Bernhard Rosenkraenzer <bero@arklinux.org>
Date:   Sun Nov 20 00:50:37 2005 -0500

    Input: wistron - add support for Acer Aspire 1500 notebooks
    
    Also fix a potential issue with some notebooks:
    
    The current code assumes the response to bios_wifi_get_default_setting is
    either 1 (disabled) or 3 (enabled), or wifi isn't supported.  The BIOS
    response appears to be a bit field w/ 0x1 indicating hardware presence, 0x2
    indicating actiation status, and the other 6 bits being unknown/reserved --
    with the patch, these 6 bits are ignored.
    
    Signed-off-by: Bernhard Rosenkraenzer <bero@arklinux.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e9fb028ea2a0a70dad0f467410418e5ee2af811b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 20 00:50:21 2005 -0500

    Input: wistron - disable for x86_64
    
    On x86_64:
    
    {standard input}:233: Error: suffix or operands invalid for `push'
    {standard input}:233: Error: suffix or operands invalid for `pop'
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 5fc1468029e2a4da90ded1e0e2cdd94fbdf83bac
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:50:06 2005 -0500

    Input: add Wistron driver
    
    A driver for laptop buttons using an x86 BIOS interface that is
    apparently used on quite a few laptops and seems to be originating
    from Wistron.
    
    This driver currently "knows" only about Fujitsu-Siemens Amilo Pro V2000
    (i.e. it can detect the laptop using DMI and it contains the
    keycode->key meaning mapping for this laptop) and Xeron SonicPro X 155G
    (probably can't be reliably autodetected, requires a module parameter),
    adding other laptops should be easy.
    
    In addition to reporting button presses to the input layer the driver
    also allows enabling/disabling the embedded wireless NIC (using the
    "Wifi" button); this is done using the same BIOS interface, so it seems
    only logical to keep the implementation together.  Any flexibility
    possibly gained by allowing users to remap the function of the "Wifi"
    button is IMHO not worth it when weighted against the necessity to run
    an user-space daemon to convert button presses to wifi state changes.
    
    Signed-off-by: Miloslav Trmac <mitr@volny.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 0d4c859734a818721b2d5ac712283ba8f92bd23a
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Nov 20 00:49:42 2005 -0500

    Input: atkbd - speed up setting leds/repeat state
    
    Changing led state is pretty slow operation; when there are multiple
    requests coming at a high rate they may interfere with normal typing.
    Try optimize (skip) changing hardware state when multiple requests
    are coming back-to-back.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 1e6b39fbb61800e3ecee58dc8c4bca57c89365cd
Merge: cdbce9c... 3bedff1...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Nov 19 21:05:42 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit cdbce9c87e4ebd186389919b95e49592ec35dae6
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Nov 19 21:04:52 2005 -0800

    [CIFS] Fix setattr of mode only (e.g. in some chmod cases) to Windows
    so it does not return EACCESS (unless server really returns that).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 3bedff1d73b86e0cf52634efb447e9ada08f2cc6
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 19 19:25:03 2005 -0800

    Linux v2.6.15-rc2

commit df9890c31a1a447254f39e40c3fd81ad6547945b
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Sun Nov 20 12:23:18 2005 +0900

    [IPV6]: Fix sending extension headers before and including routing header.
    
    Based on suggestion from Masahide Nakamura <nakam@linux-ipv6.org>.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit a305989386e402f48b216786a5c8cf440b33bdad
Author: Ville Nuorvala <vnuorval@tcs.hut.fi>
Date:   Sun Nov 20 12:21:59 2005 +0900

    [IPV6]: Fix calculation of AH length during filling ancillary data.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 8b8aa4b5a66ecf90f0a7033c8cbc49cfd97c4347
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Sun Nov 20 12:18:17 2005 +0900

    [IPV6]: Fix memory management error during setting up new advapi sockopts.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>

commit 44779149e91ec8e684be23e06dc05197e367a45f
Merge: 8ee3f40... 17514e8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 19 16:31:03 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/bart/ide-2.6

commit 8ee3f402676bf59caa454b7171ae09c8ac136627
Merge: 3b762d3... 832f4ed...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 19 15:25:23 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 3b762d321a5e73d3a892a13f0c84dc1d3d50e928
Merge: 29ac878... 20913a9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 19 15:24:42 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-drvmodel
    
    Manual fixups to ARM ixp4xxx by hand.

commit 29ac878a71d1900cc2e283819b1daa388961ab6e
Merge: 54c4e6b... a6c61e9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 19 15:21:51 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 17514e8a6f1836a5c95b1f18d2bc0493ad732cf0
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Sat Nov 19 22:24:35 2005 +0100

    [PATCH] ide: add missing __init tags to device drivers
    
    Also remove bogus comments for idefloppy_init() and idetape_init().
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit e07bc7096424b977e53a16d72ec02645389107ba
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Sat Nov 19 22:17:55 2005 +0100

    [PATCH] ide: remove dead code from flagged_taskfile()
    
    flagged_taskfile() is called from execute_drive_cmd()
    (the only user) only if args->tf_out_flags.all != 0.
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit c0bc113373d94ebd89d0d024421df8aac60ed08a
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Sat Nov 19 22:04:10 2005 +0100

    [PATCH] ide: remove dead DEBUG_TASKFILE code
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 071ffcc0f7dd8df871f443be3f5059f05da528e2
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Sat Nov 19 22:01:35 2005 +0100

    [PATCH] ide: remove unused ide_action_t:ide_next
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 84e7b9e94b474d40582090b7e09139f0029cff2c
Author: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>
Date:   Sat Nov 19 21:54:04 2005 +0100

    [PATCH] ide: remove duplicate documentation for ide_do_drive_cmd()
    
    Remove duplicate documentation for ide_do_drive_cmd() from
    <linux/ide.h>, this function is already documented in ide-io.c.
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 14351f8e573442e2437d4b177fa10075aaefd5c9
Author: Aurelien Jarno <aurelien@aurel32.net>
Date:   Sat Nov 19 21:43:45 2005 +0100

    [PATCH] sis5513: enable ATA133 for the SiS965 southbridge
    
    Signed-off-by: Aurelien Jarno <aurelien@aurel32.net>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 4f1d774aadfc5a6ed1545dca180f66ab6d0f543d
Author: Mathias Kretschmer <posting@blx4.net>
Date:   Sat Nov 19 21:32:38 2005 +0100

    [PATCH] via82cxxx: add VIA VT6410 IDE support
    
    From: Mathias Kretschmer <posting@blx4.net>
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Acked-by: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 832f4ede791ae0a96dcbb231ccb181ad7a54bfc2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 19 11:26:17 2005 +0000

    [SERIAL] Remove unused variable in sa1100.c
    
    Since the spinlock was removed from sa1100_start_tx(), the "flags"
    variable becomes redundant.  Remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b63d4f0fb80918ab37b6c0ee1adcd49e05c9994c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 19 11:10:35 2005 +0000

    [SERIAL] Fix status reporting with PL011 serial driver
    
    The receiver status register reports latched error conditions, which
    must be cleared by writing to it.  However, the data register reports
    unlatched conditions which are associated with the current character.
    Use the data register to interpret error status rather than the RSR.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 54c4e6b5fee0347ab81e2c2fe4239c455c3422ae
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 21:24:55 2005 +1100

    powerpc: Fix bug in timebase synchronization on 32-bit SMP powermac
    
    We were using udelay in the loop on the primary cpu waiting for the
    secondary cpu to take the timebase value.  Unfortunately now that
    udelay uses the timebase, and the timebase is stopped at this point,
    the udelay never terminated.  This fixes it by not using udelay, and
    increases the number of loops before we time out to compensate.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a6c61e9dfdd0adf8443932cfc43b0c1e25036ad5
Author: Daniel Jacobowitz <drow@false.org>
Date:   Sat Nov 19 10:01:07 2005 +0000

    [ARM] 3168/1: Update ARM signal delivery and masking
    
    Patch from Daniel Jacobowitz
    
    After delivering a signal (creating its stack frame) we must check for
    additional pending unblocked signals before returning to userspace.
    Otherwise signals may be delayed past the next syscall or reschedule.
    
    Once that was fixed it became obvious that the ARM signal mask manipulation
    was broken.  It was a little bit broken before the recent SA_NODEFER
    changes, and then very broken after them.  We must block the requested
    signals before starting the handler or the same signal can be delivered
    again before the handler even gets a chance to run.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0212ddd839470f7a54cccccbaecd4833b4123da2
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 20:50:46 2005 +1100

    powerpc: Merge spinlock.h
    
    The result is mostly similar to the original ppc64 version but with
    some adaptations for 32-bit compilation.
    
    include/asm-ppc64 is now empty!
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 21a6290220679d94912a068c75db2c5cd9c6552a
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 20:47:22 2005 +1100

    powerpc: move include/asm-ppc64/ptrace-common.h to arch/powerpc/kernel
    
    It's only used by arch/powerpc/kernel/ptrace{,32}.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f8ef2705969e0409efedeb889445da67806ba9ea
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 20:46:04 2005 +1100

    powerpc: Merge pci.h
    
    This involves some minor changes: a few unused functions that the
    ppc32 pci.c provides are no longer declared here or exported;
    pcibios_assign_all_busses now just refers to the pci_assign_all_buses
    variable on both 32-bit and 64-bit; pcibios_scan_all_fns is now
    just 0 instead of a function that always returns 0 on 64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 047ea7846565917c4a666635fa1fa4b5c587cd55
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 20:17:32 2005 +1100

    powerpc: Trivially merge several headers from asm-ppc64 to asm-powerpc
    
    For these, I have just done the lame-o merge where the file ends up
    looking like:
    
    	#ifndef CONFIG_PPC64
    	#include <asm-ppc/foo.h>
    	#else
    	... contents from asm-ppc64/foo.h
    	#endif
    
    so nothing has changed, really, except that we reduce include/asm-ppc64
    a bit more.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 86c96b4bb70dac67d6815e09a0949427d439b280
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 18 20:25:31 2005 -0800

    [CIFS] Fix mknod of block and chardev over SFU mounts
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 800fc3eeb0eed3bf98d621c0da24d68cabcf6526
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 16 15:43:48 2005 +1100

    [PATCH] powerpc: Remove imalloc.h
    
    asm-ppc64/imalloc.h is only included from files in arch/powerpc/mm.
    We already have a header for mm local definitions,
    arch/powerpc/mm/mmu_decl.h.  Thus, this patch moves the contents of
    imalloc.h into mmu_decl.h.  The only exception are the definitions of
    PHBS_IO_BASE, IMALLOC_BASE and IMALLOC_END.  Those are moved into
    pgtable.h, next to similar definitions of VMALLOC_START and
    VMALLOC_SIZE.
    
    Built for multiplatform 32bit and 64bit (ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0e6850f615af510c992ff9753f4d8c385969a17c
Merge: e535664... 78b0973...
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 19 14:25:23 2005 +1100

    Merge branch 'mymerge' of ssh://ozlabs.org/home/sfr/kernel-sfr

commit e53566409c38d38680cc02299fa9fa5fe8623e9f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Nov 18 17:18:15 2005 +1100

    [PATCH] powerpc: Fix setting MPIC priority
    
    Trying to set the priority would just disable the interrupt due to an
    incorrect mask used. We rarely use that call, in fact, I think only in
    the powermac code for the cmd-power key combo that triggers xmon. So it
    got unnoticed for a while.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b286e39207237e2f6929959372bf66d9a8d05a82
Merge: bcb6ad1... 6593178...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 15:58:38 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/bart/ide-2.6

commit bcb6ad1f5adb267c7b509f83e8edb16cc59d8500
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Fri Nov 18 14:50:20 2005 -0800

    [COMPAT]: EXT3_IOC_SETVERSION is _IOW() not _IOR().
    
    Noticed by Helge Deller.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9b152d53b763d99802f5948cf4c9eb9e15c07178
Merge: 62ae144... eabc779...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 14:33:03 2005 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 62ae144f56b61f541193df4a6465c06ee7eb9096
Merge: bcd039b... 2161558...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 14:25:40 2005 -0800

    Merge branch 'parisc' of master.kernel.org:/pub/scm/linux/kernel/git/kyle/parisc-2.6

commit eabc77935d8d2a761c88b9cbb6313bd54b6ddbb3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Nov 18 14:18:26 2005 -0800

    IB/umad: make sure write()s have sufficient data
    
    Make sure that userspace passes in enough data when sending a MAD.  We
    always copy at least sizeof (struct ib_user_mad) + IB_MGMT_RMPP_HDR
    bytes from userspace, so anything less is definitely invalid.  Also,
    if the length is less than this limit, it's possible for the second
    copy_from_user() to get a negative length and trigger a BUG().
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6593178dd46d64a5bcb0402a4f3acd95b0687abd
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Fri Nov 18 23:13:33 2005 +0100

    [PATCH] ide: fix ide_toggle_bounce() to not try to bounce if we have an IOMMU
    
    The following patch fixes a crash caused by attempting to bounce buffer
    when an IDE CD-ROM is used on a machine with an IO-MMU. [At least, this
    patch fixes things so I can use my IDE CD-ROM behind an ns87415 on a
    HP PA-RISC workstation.]
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit c37ea218cb43c67bf1578f5e535fcc3a751018ef
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Nov 18 23:11:24 2005 +0100

    [PATCH] ide: make comment match reality
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 48fd0d1fdd357caa2de8cb4ce6af810df7535f43
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Fri Nov 18 14:11:17 2005 -0800

    IB/mthca: Safer max_send_sge/max_recv_sge calculation
    
    Calculation of QP capabilities still isn't exactly right in mthca:
    max_send_sge/max_recv_sge fields returned in create_qp can exceed the
    handware supported limits.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 1e39dead2bfa8023bcdee4f1e5e6c933aff24e20
Author: Amit Gud <amitg@calsoftinc.com>
Date:   Fri Nov 18 23:03:19 2005 +0100

    [PATCH] cs5520: fix return value of cs5520_init_one()
    
    From: Amit Gud <amitg@calsoftinc.com>
    
    Patch follows from the suggestions by AC and Felipe W Damasio for fixing the
    return codes from IDE drivers.
    
    [ bart: fix coding style while at it ]
    
    Signed-off-by: Amit Gud <gud@eth.net>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit bf4c796df61c5b3772709bf0fd62296e0ae662d7
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 22:55:47 2005 +0100

    [PATCH] siimage: docs urls
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit ec0fb4bd31e1ef60aa26798f594265a9ad061f21
Author: Thibaut VARENE <varenet@parisc-linux.org>
Date:   Fri Nov 18 22:51:48 2005 +0100

    [PATCH] aec62xxx: remove all dead (#if0'd) code
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit bcd039b230f738243193ef7dbb03298d967b8370
Merge: e67b23c... 6f5a0f7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 13:49:44 2005 -0800

    Merge branch 'for-linus' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 963f48a116bf3b797fe184e74c79c50de1da70bb
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Mon Nov 7 06:29:39 2005 -0500

    sbp2_command_orb_lock must be held when accessing the _orb_inuse list.
    Fixes an oops in sbp2util_find_command_for_SCpnt after sbp2scsi_abort:
    https://bugzilla.novell.com/show_bug.cgi?id=113734
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    (cherry picked from 7945619794314414a5c44df11fca4d3f2a3389cf commit)

commit 2161558fa5bebfeb272493ae91e836b497029023
Merge: e670dfb... e67b23c...
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Nov 18 16:39:20 2005 -0500

    Merge branch 'master'

commit fba51bae8c3797034f497ed68f4ed120a903f941
Author: Thibaut VARENE <T-Bone@parisc-linux.org>
Date:   Fri Nov 18 22:37:37 2005 +0100

    [PATCH] pmac IDE: don't release empty interfaces
    
    From: Thibaut VARENE <T-Bone@parisc-linux.org>
    
    Cleaning up the hwif without knowing its previous state in pmac.c is a big
    and potentially dangerous job, and there seems to be no generic code interface
    that would provide either a way to properly release an hwif or to clean it up.
    
    Fixes OOPS for empty PMAC interface and add-on PCI controller.
    
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 2fefef1828ded4df17cfb51481b9e0782d2b3ce2
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Nov 18 22:22:21 2005 +0100

    [PATCH] alim15x3: use KERN_WARNING
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit e670dfb9a4f9e136da44db167da75b2365f7cebb
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Nov 18 16:21:12 2005 -0500

    [PARISC] Update CREDITS entries
    
    Update Randolph Chung's location, and add Thibaut Varene.
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    Signed-off-by: Thibaut Varene <varenet@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 21b3d1d792af367854e61ee05dd9b2c931b60fed
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Nov 18 16:20:10 2005 -0500

    [PARISC] Mark hisax and pcbit ISDN drivers as not for parisc
    
    These drivers do not compile on big endian systems, and parisc
    is big endian. Also mark some as broken on m68k as well.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit cc3f7ca51abb68b6ba0da719f56e33efcc2f450b
Author: Hanna Linder <hannal@us.ibm.com>
Date:   Fri Nov 18 22:19:15 2005 +0100

    [PATCH] alim15x3: replace pci_find_device() with pci_dev_present()
    
    From: Hanna Linder <hannal@us.ibm.com>
    
    The dev returned from pci_find_device() was not used so it can be
    replaced with pci_dev_present().  Compile tested.
    
    Signed-off-by: Hanna Linder <hannal@us.ibm.com>
    Signed-off-by: Maximilian Attems <janitor@sternwelten.at>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 41df894007c5607b3892336fd72024c4dfa35bdf
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Nov 18 16:18:40 2005 -0500

    [PARISC] Mention PA-RISC in NS87415 help
    
    Mention PA-RISC in NS87415 help. PA-RISC [BCJ]xxx0 workstations come with
    NS87415 integrated for their CD-ROM drives.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 305f5167f1e9d832b332933979b6b5e3cc68ce73
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Nov 18 16:17:50 2005 -0500

    [PARISC] Make Serial MUX depend on a specific bus type.
    
    Depend on GSC, not PARISC.  Machines without GSC don't have a MUX.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9ab8851549fb9ed570013c33e0786a3fd084be41
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Nov 18 16:16:42 2005 -0500

    [PARISC] Fix compile warning caused by conflicting types of expand_upwards()
    
    Fix compile warning caused by conflicting types of expand_upwards. IA64
    requires it to not be static inline, as it's used outside mm/mmap.c
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4ef3b8f4a5c056d5f784725974a530d1a7b4a811
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Fri Nov 18 22:15:40 2005 +0100

    [PATCH] ide: remove ide_driver_t.owner field
    
    The structure ide_driver_t have a .owner field which is a duplicate
    of .gendriver.owner field (.gen_driver is a struct device_driver).
    
    This patch removes ide_driver_t's owner field.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 7462cbff7d4c2dc0d182613fb4e801efb29b90ac
Author: Daniel Drake <dsd@gentoo.org>
Date:   Fri Nov 18 22:09:45 2005 +0100

    [PATCH] via82cxxx IDE: support multiple controllers
    
    Support multiple controllers in the via82cxxx IDE driver.
    Cable detection and ISA bridge finding have been moved into
    their own functions.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 861e76a8ab7ba64a74c567fa8c4d1d38c4dfdd24
Author: Daniel Drake <dsd@gentoo.org>
Date:   Fri Nov 18 22:08:29 2005 +0100

    [PATCH] via82cxxx IDE: remove /proc/via entry
    
    This entry adds needless complication to the driver as it requires the use of
    global variables to be passed into via_get_info(), making things quite ugly
    when we try and make this driver support multiple controllers simultaneously.
    
    This patch removes /proc/via for simplicity.
    
    On 10/13/05, Daniel Drake <dsd@gentoo.org> wrote:
    > Per Bart's suggestion, I've created a user-space app which shows identical
    > data (and doesn't even rely on the via82cxxx IDE driver).
    >
    > http://www.reactivated.net/software/viaideinfo/
    >
    > So, I think we should be clear to drop /proc/ide/via now.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 48b1dcc5d80921dc0c54f2fabf4fe6e8538cb9b3
Author: Mark Maule <maule@sgi.com>
Date:   Thu Nov 17 15:50:01 2005 -0600

    [IA64] altix: fix copyright in tioce .h files
    
    Fix up copyright in tioce header files
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 6f5a0f7c955d3567f800fa36f978758cb5b99aa2
Author: Mike Miller <mikem@beardog.cca.cpqcorp.net>
Date:   Fri Nov 18 22:05:36 2005 +0100

    [PATCH 3/3] cciss: add put_disk into cleanup routines
    
    Jeff Garzik pointed me to his code to see how to remove a disk from
    the system _properly_. Well, here it is...
    Every place we remove disks we are now testing before calling del_gendisk
    or blk_cleanup_queue and then call put_disk.
    
    Signed-off-by: Mike Miller <mike.miller@hp.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 15534d3803993345d8db32246ec329d8f83502e1
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Nov 18 22:02:44 2005 +0100

    [PATCH 2/3] cciss: bug fix for BIG_PASS_THRU
    
    Applications using CCISS_BIG_PASSTHRU complained that the data written
    was zeros. The problem is that the buffer is being cleared after the
    user copy, unless the user copy has failed... Correct that logic.
    
    Signed-off-by: Mike Miller <mike.miller@hp.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 7f0d50391adf371a0e66da0a1a44ba5cc6744ee8
Author: Mike Miller <mikem@beardog.cca.cpqcorp.net>
Date:   Fri Nov 18 22:00:17 2005 +0100

    [PATCH 1/3] cciss: bug fix for hpacucli
    
    This patch fixes a bug that breaks hpacucli, a command line interface
    for the HP Array Config Utility. Without this fix the utility will
    not detect any controllers in the system. I thought I had already fixed
    this, but I guess not.
    
    Thanks to all who reported the issue. Please consider this this inclusion.
    
    Signed-off-by: Mike Miller <mikem@beardog.cca.cpqcorp.net>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit eb97b73d75d5c9af7c78c05106de9e3fdc4455ab
Author: Coywolf Qi Hunt <qiyong@fc-cn.com>
Date:   Wed Nov 16 15:27:24 2005 +0100

    [BLOCK] new block/ directory comment tidy
    
    Some leftover comments referring to drivers/block that are now block/.
    They don't add any information we don't already have, so kill them.
    
    Signed-off-by: Coywolf Qi Hunt <qiyong@fc-cn.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit c119b87d596cdd99ac20095ae2ae90b525418605
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 18 12:27:27 2005 -0800

    [CIFS] Missing part of previous patch
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit e67b23c71cb9ee02d65a74c3858716ba2dedd554
Merge: d4bf205... f7492f1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 12:23:07 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit d4bf205305a9188894ac4e2e9875e42f9f8eabfd
Merge: 8907e94... e2b1be5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 12:19:12 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit f7492f17f2123f0f4db5f9e8ba89867a7b352658
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 15:06:59 2005 -0500

    [wireless hermes] build fix

commit 3020a1f58c564e3060ec908c0c4f1b74a12e4280
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 18 11:31:10 2005 -0800

    [CIFS] Fix scheduling while atomic when pending writes at file close time
    Fix the case in which readdir reset file type when SFU mount option
    specified.
    
    Also fix sfu related functions to not request EAs (xattrs) when not
    configured in Kconfig
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit e2b1be56c5656902744c2b52e8304126a40bb609
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 14:04:23 2005 -0500

    [libata sata_mv] update copyright, driver version

commit 51c83a946d5c8bc05eef7828197080f31fa33601
Merge: cea00da... eaf8f53...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:57:44 2005 -0500

    Merge branch 'upstream-fixes' of git://git.tuxdriver.com/git/netdev-jwl

commit eaf8f53bc001d20aa59aa4519b71f11a1cc7f945
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Sat Nov 12 12:50:12 2005 -0600

    [PATCH] ipw2100: Fix 'Driver using old /proc/net/wireless...' message
    
    ipw2100: Fix 'Driver using old /proc/net/wireless...' message
    
    Wireless extensions moved the get_wireless_stats handler from being
    in net_device into wireless_handler.
    
    A prior instance of this patch resolved the issue for the ipw2200.
    This one fixes it for the ipw2100.
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit a7a461b32fdff1e7db42b50db53840e4fa978384
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 13:24:59 2005 -0500

    [PATCH] fec_8xx: make CONFIG_FEC_8XX depend on CONFIG_8xx
    
    Change CONFIG_FEC_8XX to depend on CONFIG_8xx instead of CONFIG_FEC.
    CONFIG_FEC depends on ColdFire CPUs, which does not apply for the
    PPC 8xx processors.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 8907e94be2661be940c622232d6ce5ae938f10c3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Nov 18 09:31:15 2005 -0800

    [PATCH] update Documentation/00-INDEX
    
    Update the index file with descriptions of the stable_api_nonsense.txt
    and stable_kernel_rules.txt files.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d36cc9d0813f813408a1f0bed5e8ced358bb43bf
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Nov 18 09:31:11 2005 -0800

    [PATCH] Add HOWTO do kernel development document to the Documentation directory
    
    Here's a document that describes the process and procedures of how to do Linux
    kernel development.  It has gone through a number of rounds of review on the
    linux-kernel mailing list, and contains contributions and help from Paolo
    Ciarrocchi, Randy Dunlap, Gerrit Huizenga, Pat Mochel, Hanna Linder, Kay
    Sievers, Vojtech Pavlik, Jan Kara, Josh Boyer, Kees Cook, Andrew Morton, Andi
    Kleen, Vadim Lobanov, Jesper Juhl, Adrian Bunk, Keri Harris, Frans Pop, David
    A. Wheeler, Junio Hamano, Michael Kerrisk, and Alex Shepard.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6fb0425b99e00d4d73012264785c662e1783755f
Author: Jody McIntyre <scjody@steamballoon.com>
Date:   Fri Nov 18 09:31:06 2005 -0800

    [PATCH] Add SCM info to MAINTAINERS
    
    Add tree information to MAINTAINERS file.
    
    Signed-off-by: Jody McIntyre <scjody@steamballoon.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cea00da3972806d213a7dbe1b98e889435385e6b
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 9 11:30:51 2005 -0800

    [PATCH] git-netdev-all-ieee80211_get_payload-warning-fix
    
    include/net/ieee80211.h: In function `ieee80211_get_payload':
    include/net/ieee80211.h:1046: warning: control reaches end of non-void function
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c5b42f343d19d0a04782db0dde5b128dd282f95c
Author: Gabriel A. Devenyi <ace@staticwave.ca>
Date:   Sat Nov 12 16:00:46 2005 -0500

    [PATCH] drivers/net/wireless/hermes.c unsigned int comparision
    
    hermas_bap_pread,  hermes_bap_pwrite, and hermes_bap_pwrite_pad all have a parameter "len" that is declared unsigned,
    but checked for a value less than zero. Auditing the callers, it is possible for len to be passed a negative value, so len should be an int.
    
    Thanks to LinuxICC (http://linuxicc.sf.net)
    
    Signed-off-by: Gabriel A. Devenyi <ace@staticwave.ca>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cbf7c42b727826770a44c0a10ef3663da08e64bc
Author: Roger While <simrw@sim-basis.de>
Date:   Mon Nov 14 11:50:46 2005 +0100

    [PATCH] prism54 : Remove extraneous udelay/register read
    
    In isl_38xx.c
    In routine isl38xx_trigger-device
    
    Move unnecessary udelay/register read.
    This is only required when hand-compiling the driver and
    setting  VERBOSE > SHOW_ERROR_MESSAGES
    
    Signed-off-by: Roger While <simrw@sim-basis.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 344547093274c8bdb87becb939e5c8ab009ebfe6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 14 00:19:44 2005 +0000

    [PATCH] SAA9730: Add missing header bits.
    
    This header file patch was missing from the recent SAA9730 patch.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0c0abbc58011e977921eae9037668452bef80265
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 14 00:16:29 2005 +0000

    [PATCH] au1000_eth: Include <linux/config.h>
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    The Au1000 ethernet driver references plenty of CONFIG_* symbols.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 70f1e002cfaad708ac561bcc6700dc50888999f5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Nov 13 10:13:05 2005 +0000

    [PATCH] IOC3: Replace obsolete PCI API
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 620d9aa95b7910da07912340971bc2d9b2497382
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Nov 16 16:09:53 2005 -0500

    [PATCH] i82593.h: make header comment GPL-compatible
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2afecc047e9077d8dc9e312b32e944955e71ce53
Author: Jesse Brandeburg <jesse.brandeburg@intel.com>
Date:   Mon Nov 14 13:15:49 2005 -0800

    [PATCH] e100: re-enable microcode with more useful defaults
    
    For the four versions of hardware that we (currently) support microcode
    download on, the default configuration of our receive interrupt mitigation
    microcode was too aggressive, and caused unnecessary delays when pinging,
    and low(er) throughput on single connection latency sensitive performance
    tests.
    
    This code adds microcode support, and sets the defaults to more reasonable
    settings. It also explains the functionality in the code in more detail.
    Compile and load tested, shows expected behavior for slight delay of ping
    packets (1-2ms) when ucode is loaded, and decent interrupt moderation for
    small packets, while maintaining good throughput.
    
    Signed-off-by: Jesse Brandeburg <jesse.brandeburg@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f1b8c63ef404367c60dc9b4f68dec33cae3c707b
Merge: 9724212... 1f7bad7...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:24:33 2005 -0500

    Merge branch 'halasa-hdlc' of git://git.tuxdriver.com/git/netdev-jwl

commit 972421264637b5df168125e157d881c1899519dd
Merge: e525424... e53091f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 18 13:21:24 2005 -0500

    Merge branch 'for-jeff' of git://electric-eye.fr.zoreil.com/home/romieu/linux-2.6

commit c0ab424238ceabcaa3a2948f283bcb94f6979c93
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Nov 18 14:22:03 2005 +0900

    [PATCH] sil24: make error_intr less verbose
    
    sil24_error_intr logs all error interrupts.  ATAPI devices generates
    many harmless errors which can be ignored and all serious ones are
    reported via sense data by SCSI layer.  Don't log device errors from
    ATAPI devices.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 69ad185fa139b8fff2442d89440e382679d51f0f
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Nov 18 14:16:45 2005 +0900

    [PATCH] sil24: add ATAPI support
    
    This patch implements ATAPI support for sil24 and bumps driver version
    to 0.23.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
    --
    
    Jeff, it has been converted to use ->dev_config as pointed out.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ca45160db70661a006d884df07f82c9b51d27a52
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Nov 18 14:14:01 2005 +0900

    [PATCH] sil24: use SRST for phy_reset
    
    There seems to be no way to obtain device signature from sil24 after
    SATA phy reset and SRST is needed anyway for later port multiplier
    suppport.  This patch converts sil24_phy_reset to use SRST instaed.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
    --
    
    Jeff, I didn't remove the 10ms sleep just to be on the safe side.  I
    think we can live with 10ms sleep on SRST.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7d1ce682d08625258524d23ef5eb9e7ae261c1d0
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Nov 18 14:09:05 2005 +0900

    [PATCH] sil24: add sil24_restart_controller
    
    When an error condition is raised by device via D2H FIS or SDB.  sil24
    controller should be restarted by setting PORT_CS_INIT and waiting
    until PORT_CS_RDY is asserted instead of resetting the controller.
    This patch implements sil24_restart_controller for those cases.  This
    patch also makes sure that PORT_CS_RDY is asserted on
    sil24_reset_controller completion.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
    --
    
    Jeff, delay is reduced to 1us and cnt increased to 10k.  My sil3124
    turns on PORT_CS_RDY on the second iteration even without any delay.
    I think 10k * 1us should be more than enough.
    
    I tried to convert both restart and reset to use msleep's with work
    queue, but if we do that, host_set lock should be released after
    initiating restart or reset, leading to race condition among
    reset/restart, other interrupts and timeout.  Implementing
    synchronization among those in low-level driver doesn't seem right.
    Well, reduced timeout should work for the time being.
    
    Thanks.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e52542443aa9be15439e9879baf6d41b290e94db
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Nov 18 12:57:55 2005 -0500

    [PATCH] smc91x: fix bank mismatch
    
    The smc91x driver relies upon register bank 2 being selected whenever
    the interrupt handler is called.  This isn't always so, especially if
    we have a link change event during PHY configuration.
    
    This results in register bank 0 being selected when the interrupt
    handler is called, causing the wrong registers to be read for the
    IRQ mask and status.  In turn, this causes us to spin with a
    permanently asserted IRQ.
    
    The patch ensures that smc_phy_configure always exits with register
    bank 2 selected.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5d0571d915f3e281f151df9a18a6a0be5a57c4b0
Author: Nicolas Pitre <nico@cam.org>
Date:   Thu Nov 17 14:02:48 2005 -0500

    [PATCH] smc91x: fix one source of spurious interrupts
    
    Not only SMC_ACK_INT(IM_TX_EMPTY_INT) in in smc_hardware_send_pkt)
    appears to be unnecessary (tested with an SMC91C94 and SMC91C111), but
    it seems to trigger spurious interrupts on some machines as well.
    Removed.
    
    While at it, let's log any remaining spurious interrupts if any (and
    clean usage of the max IRQ loop count value).
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cdf2c465f0438ef92f099e435b6b64738c0ff168
Merge: fc71fe4... e8aabc4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 09:27:05 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit fc71fe40d2bedcc57d3406bf2050481f8b3441b6
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Fri Nov 18 01:11:03 2005 -0800

    [PATCH] s390: fix class_device_create calls in 3270 the driver
    
    Add the missing NULL argument to the class_device_create calls.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b50ce2324cecf4efc7babe31f4aa1a07f9157317
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Nov 18 01:11:02 2005 -0800

    [PATCH] ppc64 need HPAGE_SHIFT when huge pages disabled
    
    With the new powerpc architecture we don't seem to be able to disable huge
    pages anymore.
    
        mm/built-in.o(.toc1+0xae0): undefined reference to `HPAGE_SHIFT'
        make: *** [.tmp_vmlinux1] Error 1
    
    We seem to need to define HPAGE_SHIFT to something when HUGETLB_PAGE isn't
    defined.  This patch defines it to PAGE_SHIFT when we have no support.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0e485216de80046dd0d448b7cd530dbfc31402f
Author: Neil Brown <neilb@suse.de>
Date:   Fri Nov 18 01:11:01 2005 -0800

    [PATCH] md: fix is_mddev_idle calculation now that disk/sector accounting happens when request completes
    
    md needs to monitor the rate of requests to its devices when doing
    resync/recovery so that it can back-off when there is non-resync IO.  It
    does this by comparing resync IO, which it counts, with total IO which is
    taken from disk_stats.
    
    disk_stats were recently changed to account sectors when a request
    completes instead of when it is queued.  This upsets md's calculations.
    
    We could do the sync_io accounting at the end of requests too, but that has
    problems.  If an underlying device is an md array, the accounting will
    still be done when the request is submitted.  This could be changed for
    some raid levels, but it cannot be changed for raid0 or linear without
    substantial code changes.
    
    So instead, we increase the error that is_mddev_idle allows, up to the
    maximum amount of resync IO that can be in flight at any time.  The
    calculation is current fragile as each personality as different limits for
    in-flight resync.  This should be fixed up.
    
    For now, this simple patch fixes the problem.
    
    Increasing the error margin decreases the sensitivity to non-resync IO.  To
    partially compensate for this, the time to wait when non-resync IO is
    detected is increased so that less steady IO is required to keep the resync
    at bay.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 34ef75f09f09611b62ae11ae36c3c7b0a6a8a9cb
Author: Neil Brown <neilb@suse.de>
Date:   Fri Nov 18 01:10:59 2005 -0800

    [PATCH] md: don't pass a NULL file* into ->prepare_write()
    
    Some filesystems go oops.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4b32b8b010d036dc03f77b0ef2a747db0cc3588
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Fri Nov 18 01:10:59 2005 -0800

    [PATCH] tpm: remove PCI kconfig dependency
    
    The driver dependencies on PCI have been removed.  This patch clears that
    up in the Kconfig file
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90612b308f2a2cc8aa08fbaf6f7184f5b7b5a855
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Fri Nov 18 01:10:58 2005 -0800

    [PATCH] tpm: use ioread8 and iowrite8
    
    Use ioread8 and iowrite8 as suggested.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba3961152e7016237e15e3dfc18f08c1853d156b
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Fri Nov 18 01:10:57 2005 -0800

    [PATCH] tpm: use flush_scheduled_work()
    
    Add the necessary flush_schedule_work calls when canceling the timer.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 966cc04b4d9d3d7a49e744888628acc36ebec5d4
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Fri Nov 18 01:10:55 2005 -0800

    [PATCH] ppc32: add missing define for fs_enet Ethernet driver
    
    This adds the FCC_PSMR_RMII defenition, which is used in fs_enet to enable
    RMII mode.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 44f080c46e84090daf81b4d142359f8e38d7c5ee
Author: Matt Domsch <Matt_Domsch@dell.com>
Date:   Fri Nov 18 01:10:54 2005 -0800

    [PATCH] ipmi: missing NULL test for kthread
    
    On IPMI systems with BT interfaces, we don't start the kernel thread, so
    smi_info->thread is NULL.  Test for NULL when stopping the thread, because
    kthread_stop() doesn't, and an oops ensues otherwise.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Acked-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 58bb01a9cd72eebf60d00c57b948a76aa7b85727
Author: Hans Reiser <reiser@namesys.com>
Date:   Fri Nov 18 01:10:53 2005 -0800

    [PATCH] re-export clear_page_dirty_for_io()
    
    2.6.14 has this exported, and reiser4 (at least) uses it.  Put things back
    the way they were.
    
    Signed-off-by: Vladimir V. Saveliev <vs@namesys.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 996417d2c4eb583e94553e4ede58974e0da1c38e
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Fri Nov 18 01:10:50 2005 -0800

    [PATCH] add success/failure indication to RCU torture test
    
    One issue with the RCU torture test is that the current error flagging can
    be lost in dmesg.  This patch adds a "SUCCESS"/"FAILURE" string to the line
    that flags the end of the test, where it can easily be seen with "dmesg |
    tail" at the end of the test.  Also adds tests of architecture-specific
    memory barriers -- or, more likely, of the RCU torture test itself.
    
    Cc: <vatsa@in.ibm.com>
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2463ade2cb78224302998ee3c7dc7d53da88d258
Author: Andrey Volkov <avolkov@varma-el.com>
Date:   Fri Nov 18 01:10:48 2005 -0800

    [PATCH] Fix copy-paste bug in ohci-ppc-soc.c
    
    Fix copy-paste bug in ohci-ppc-soc.c(ohci_hcd_ppc_soc_drv_remove)
    
    Signed-off-by: Andrey Volkov <avolkov@varma-el.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2203d6ed448ff3b777ee6bb614a53e686b483e5b
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 07:29:51 2005 -0800

    Fix ACPI processor power block initialization
    
    Properly clear the memory, and set "pr->flags.power" only if a C2 or
    deeper state is valid (to make the code match both the comment and
    previous behaviour).
    
    This fixes a boot-time lockup reported by Maneesh Soni when using
    "maxcpus=1".
    
    Acked-by: Maneesh Soni <maneesh@in.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2656c076e31a3ce3ab2a987a578e7122dc2af51d
Merge: 811803c... f365cfd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 18 07:22:51 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 78b09735a2f42f32c4611d92ea51755e1faae385
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Sat Nov 19 01:40:46 2005 +1100

    powerpc: merge dma-mapping.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 78baa2f8ad53968ff82ad9827b7793b3f46cba0e
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Sat Nov 19 00:33:56 2005 +1100

    ppc32: move some dma routines
    
    Every other architecture define dma_cache_{inv,wback,wback_inv}
    in asm/io.h and doing so brings us closer to ppc64.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d2c5b69099ff747f9757da2416383b9a999171b1
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 18 14:22:03 2005 +0000

    [ARM] Fix get_user when passed a const pointer
    
    Unfortunately, later gcc versions error out when our get_user is passed
    a const pointer, since we write to a temporary variable declared as
    typeof(*(p)) which propagates the const-ness.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f365cfd0d8b6d8fb3583d23d48f54efa88ee8563
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 16:41:49 2005 +1100

    offb: Fix compile error on ppc32 systems
    
    The code Ben H added needs <linux/pci.h> for things like pci_dev, etc.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8a5abdf80ecf3ad3fa052878778c7185c5911a53
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 16:39:08 2005 +1100

    powerpc: Move defconfig over and remove remaining arch/ppc64 files
    
    make defconfig will now use arch/powerpc/configs/ppc64_defconfig
    if running on a ppc64 system.  I need to add an
    arch/powerpc/configs/ppc_defconfig sometime.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 44aedfe7dedb1ba9f4f9d17f55dec5727f5ff82f
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 15:54:12 2005 +1100

    powerpc: Fix a couple of compile warnings for 32-bit compiles
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 49e16b7becd6320bde51aa238c11815708f836d9
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 15:52:38 2005 +1100

    powerpc: time-of-day fixes for 32-bit CHRP systems
    
    This makes 32-bit CHRP systems use the RTAS time-of-day routines if
    available.  It fixes a bug in the RTAS time-of-day routines where they
    were storing a 64-bit timebase value in an unsigned long by making
    those variables u64.  Also, the direct-access time-of-day routines
    had the wrong convention for the month and year in the struct rtc_time.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6146eed1e972a7de93ce2e36adc5812de81e879c
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 15:47:18 2005 +1100

    powerpc: Fix compile error on pSeries arising from delay.h changes
    
    pseries_dedicated_idle() was using __get_tb which used to be defined
    in asm/delay.h.  Change it to use get_tb from asm/time.h, which is
    in fact exactly the same thing.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 437a58db57c61385baaa1cb8b7fa590b6a2f1607
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 15:43:34 2005 +1100

    powerpc: Move remaining .c files from arch/ppc64 to arch/powerpc
    
    This also deletes the now-unused Makefiles under arch/ppc64.
    
    Both of the files moved over could use some merging, but for now I
    have moved them as-is and arranged for them to be used only in 64-bit
    kernels.  For 32-bit kernels we still use arch/ppc/kernel/idle.c and
    drivers/char/generic_nvram.c as before.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f62859bb6871c5e4a8e591c60befc8caaf54db8c
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Nov 14 16:12:49 2005 -0800

    [PATCH] Remove SPAN_OTHER_NODES config definition
    
    The config option SPAN_OTHER_NODES was created so that we could
    make pSeries numa layouts work within the DISCONTIG memory model.
    Now that DISCONTIG has been replaced by SPARSEMEM, we can eliminate
    this option.
    
    I'll be sending a separate patch to Andrew to remove the arch
    independent code as pSeries was the only arch that needed this.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5daf9071b527089b1bd5d9cb3a5354b83121550e
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Nov 18 14:09:41 2005 +1100

    [PATCH] powerpc: merge align.c
    
    This patch merges align.c, the result isn't quite what was in ppc64 nor
    what was in ppc32 :) It should implement all the functionalities of both
    though. Kumar, since you played with that in the past, I suppose you
    have some test cases for verifying that it works properly before I dig
    out the 601 machine ? :)
    
    Since it's likely that I won't be able to test all scenario, code
    inspection is much welcome.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6defa38b3754c84cd3449447477aed81ea979407
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 18 13:44:17 2005 +1100

    powerpc: Fix delay functions for 601 processors
    
    My earlier merge of delay.h introduced a timebase-based udelay for
    32-bit machines but also broke the 601, which doesn't have the
    timebase register.  This fixes it by using the 601's RTC register on
    the 601, and also moves __delay() and udelay() to be out-of-line in
    arch/powerpc/kernel/time.c.  These functions aren't really performance
    critical, after all.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fe7bce5ef70105a6546dc9b5c354219b9f6ea991
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Thu Nov 17 17:45:40 2005 -0600

    [PATCH] ppc: Fix warnings related to seq_file
    
    When we moved things around in irq.h seq_file became an issue.  Fix
    warnings related to its usage.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6760a1bdf56de6e1a30399d9069b94bfea59c13d
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Thu Nov 17 17:05:02 2005 -0600

    [PATCH] ppc: Fix MPC83xx device table
    
    The SVRs for MPC8343/E were incorrect and really the SVRs
    for MPC8347/E.
    
    Signed-off-by: David Updegraff <dave@cray.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a097a35c9a6de6316c18a3e914c64400b5a6db57
Author: Segher Boessenkool <segher@kernel.crashing.org>
Date:   Thu Nov 17 22:22:14 2005 +0100

    [PATCH] powerpc: Maple: request I/O resource.
    
    Reserve the Maple RTC I/O resource.  Needed now we use genrtc.
    
    Signed-off-by: Segher Boessenkool <segher@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 68643cfb879ad8c327441f875b60981822016575
Author: Olaf Hering <olh@suse.de>
Date:   Thu Nov 17 22:09:02 2005 +0100

    [PATCH] ppc boot: replace string labels with numbers
    
    Replacing the string labels with numbers saves 117 bytes in the final zImage.
    These local labels are not discared.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    
     arch/powerpc/boot/crt0.S |   23 +++++++++++------------
     1 files changed, 11 insertions(+), 12 deletions(-)
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d2a33170972c5772826f7f6cc950ab69ba034667
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 17 20:34:35 2005 +1100

    [PATCH] powerpc: Fix typo in topology.h
    
    The fix to topology.h (5cfccd7f132432dd4705444a44b51d12ef88a85f) seems to have
    a typeo, struct sched_domain has an idle_idx member but not an idle_id
    member. I assume this is the fix.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 811803c5572b296e0031e0099203de90d77c7bcf
Merge: 42f9cab... d5ea655...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 17:26:56 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 42f9cabebe5915351bdba2f6f7f80e47c68e6ac8
Merge: 9761644... 9e147a1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 17:26:26 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 976164497d6d8050403c96894ad418de44ec748f
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Thu Nov 17 17:45:40 2005 -0600

    [PATCH] ppc: Fix warnings related to seq_file
    
    When we moved things around in irq.h seq_file became an issue.  Fix
    warnings related to its usage.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87c89dd7330735d70cc9912483f6f4c7bc3ff19c
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 17 17:03:00 2005 -0800

    [CIFS] Vectored and async i/o turned on and correct the
    writev and aio_write to flush properly.
    
    This is Christoph's patch merged with the new nobrl file operations
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    
    From: Christoph Hellwig <hch@lst.de>
    
     - support vectored and async aio ops unconditionally - this is above
       the pagecache and transparent to the fs
     - remove cifs_read_wrapper.  it was only doing silly checks and
       calling generic_file_write in all cases.
     - use do_sync_read/do_sync_write as read/write operations.  They call
       ->readv/->writev which we now always implemente.
     - add the filemap_fdatawrite calls to writev/aio_write which were
       missing previously compared to plain write.  no idea what the point
       behind them is, but let's be consistent at least..
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Steven French <sfrench@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit 9e294f1c4d4a5fc0068fcb21f5809ff6e88e49bc
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 17 16:59:21 2005 -0800

    [CIFS] Recognize properly symlinks and char/blk devices (not just
    FIFOs) created by SFU (part 2 of 2).
    
        Thanks to Martin Koeppe for useful analysis.
    
        Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 9e147a1cfce5ec6308b024abe425d5b4e1884a03
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Nov 17 16:52:51 2005 -0800

    [IPV6]: Fib dump really needs GFP_ATOMIC.
    
    Revert: 8225ccbaf01b459cf1e462047a51b2851e756bc1
    
    Based upon a report by Yan Zheng.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 05b8b0fafd4cac75d205ecd5ad40992e2cc5934d
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Thu Nov 17 15:22:39 2005 -0800

    [NET]: Sanitize NET_SCHED protection in /net/sched/Kconfig
    
    On Thu, 17 Nov 2005, David Gmez wrote:
    
    > I found out that if i select NET_CLS_ROUTE4, save my changes and exit
    > menuconfig, execute again make menuconfig and go to QoS options, then the new
    > available options are visible. So menuconfig has some problem refreshing
    > contents :?
    
    No, they were there before too, but you have to go up one level to see
    them.
    
    It's better in 2.6.15-rc1-git5, but the menu structure is still a little
    messed up, the patch below properly indents all menu entries.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 381998241fd1fc635596f4e8ae835f0d64ca1ba2
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Nov 17 15:17:42 2005 -0800

    [LLC]: Fix compiler warnings introduced by TX window scaling changes.
    
    Noticed by Olaf Hering.
    
    The comparisons want a u8 here (the data type on the left-hand branch
    is a u8 structure member, and the constant on the right-hand branch is
    "~((u8) 128)"), but C turns it into an integer so we get:
    
    net/llc/llc_c_ac.c: In function `llc_conn_ac_inc_npta_value':
    net/llc/llc_c_ac.c:998: warning: comparison is always true due to limited range of data type
    net/llc/llc_c_ac.c:999: warning: large integer implicitly truncated to unsigned type
    
    Fix this up by explicitly recasting the right-hand branch constant
    into a "u8" once more.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2fce76afdb067fa3e7f8ee33c9fe366bd65887ea
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 17 15:06:47 2005 -0800

    [NETFILTER] ip_conntrack: fix ftp/irc/tftp helpers on ports >= 32768
    
    Since we've converted the ftp/irc/tftp helpers to use the new
    module_parm_array() some time ago, we ware accidentially using signed data
    types - thus preventing those modules from being used on ports >= 32768.
    
    This patch fixes it by using 'ushort' module parameters.
    
    Thanks to Jan Nijs for reporting this bug.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5ea655376c471731845735dfe9a0bdfbe4492e9
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Nov 17 15:04:34 2005 -0800

    [COMPAT]: Add ext3 ioctl translations.
    
    So things like on-line resizing et al. work.
    
    Based almost entirely upon a patch by Guido Gnther <agx@sigxcpu.org>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 02b30839220fa3ef80a34ed6ee174fa2d9937eac
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 17 22:43:30 2005 +0000

    [ARM] Fix some corner cases in new mm initialisation
    
    Document that the VMALLOC_END address must be aligned to 2MB since
    it must align with a PGD boundary.
    
    Allocate the vectors page early so that the flush_cache_all() later
    will cause any dirty cache lines in the direct mapping will be safely
    written back.
    
    Move the flush_cache_all() to the second local_flush_cache_tlb() and
    remove the now redundant first local_flush_cache_tlb().
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bd6af700a7191f483f41706467033588f28c8877
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 17 14:11:18 2005 -0800

    [TCP]: TCP highspeed build error
    
    There is a compile error that crept in with the last patch of
    TCP patches.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a39cf72ceb406e152c4682c0b635a96f1439c5ed
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Thu Nov 17 16:44:57 2005 -0500

    [PARISC] Make superio.c initialize before any driver needs it
    
    Convert superio_init to use PCI_FIXUP_FINAL as ohci_pci being called
    before superio_probe really makes a mess. superio_init will then fail
    to register irq 20 (the "SuperIO" irq) and BUG() because ohci_pci has
    stolen it before superio_fixup_irq can be moved USB to irq 1.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 29a622dd2b577d98731d325954f328b810826cfa
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Thu Nov 17 16:44:14 2005 -0500

    [PARISC] Always spinlock tlb flush operations to ensure preempt safety
    
    Since taking a spinlock disables preempt, and we need to spinlock tlb flush
    on SMP for N class, we might as well just spinlock on uniprocessor machines
    too.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9d7d57567c026a06f0cb2edabe75250d8f61d44a
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Thu Nov 17 16:43:52 2005 -0500

    [PARISC] Remove unused variable in signal.c
    
    Remove unused variable "struct siginfo si" in signal.c
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 784412f74c0f74dac8ba30a4713273423c2ae155
Author: Christoph Hellwig <hch@lst.de>
Date:   Thu Nov 17 16:41:26 2005 -0500

    [PARISC] remove drm compat ioctls handlers
    
    Remove drm compat_ioctl handlers. The drm drivers have proper
    compat_ioctl methods these days.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit ad7dd338fbb82ea54a866b369c4c9a78cfd16234
Author: Christoph Hellwig <hch@lst.de>
Date:   Thu Nov 17 16:40:31 2005 -0500

    [PARISC] move PA perf driver over to ->compat_ioctl
    
    Move PA perf driver over to ->compat_ioctl.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Randolph Chung <tausq@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit a137ce8536f6124c42ac300be01b9b611c7db5a1
Author: Ryan Bradetich <rbrad@parisc-linux.org>
Date:   Thu Nov 17 16:38:28 2005 -0500

    [PARISC] Define port->timeout to fix a long msleep in mux.c
    
    This commit is in response to a bug reported by Vesa on the irc channel
    a couple of weeks ago.
    
    The bug was that the console would apparently hang (not return) while
    using the mux console.
    
    The root cause of this bug is that bash (with readline support) makes a
    call to the tcsetattr() glibc function with the argument TCSADRAIN.  This
    causes the serial core in the kernel use the uart_wait_until_sent() to be
    called. This function verifies the mux transmit queue is empty or calls the
    msleep_interruptable() with a calculated timeout value that is dependant
    upon the port->timeout variable.
    
    The real problem here is that the port->timeout was not defined so it
    was defaulted to 0 and the timeout calculation performs the following
    calculation:
    
    char_time = (port->timeout - HZ/50) / port->fifosize;
    
    where char_time is an unsigned long. Since the serial Mux does not use
    interrupts, the msleep_interruptable() function waits until the timeout
    has been reached ... and when the port->timeout < HZ/50 this timeout will
    be a long time. (I have validated that the console will eventually
    return ... but it takes quite a while for this to happen).
    
    This patch simply sets the port->timeout on the Mux to HZ/50 to avoid
    this long timeout period.
    
    Signed-off-by: Ryan Bradetich <rbrad@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 83aceb5b6a561c7fd7cc2d481fb55a0a2ae37c12
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Thu Nov 17 16:37:24 2005 -0500

    [PARISC] Fix some compile problems in ptrace.c
    
    Fix some compile problems:
    - ret wasn't being initialised in all code paths
    - I'm pretty sure 'goto out' should have been 'goto out_tsk'
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 92495c0ebc99ee00651571cba6939783234f7696
Author: Ryan Bradetich <rbrad@parisc-linux.org>
Date:   Thu Nov 17 16:36:52 2005 -0500

    [PARISC] Compile fixups for serial/mux.c
    
    This patch does the following:
    * Fixes compiler warnings.
    * Replaces a __raw_readl call with the existing macro.
    
    Signed-off-by: Ryan Bradetich <rbrad@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 08dc2ca61e683e9119ff534dfcd0fd555401fcf7
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Thu Nov 17 16:35:09 2005 -0500

    [PARISC] Fix our spinlock implementation
    
    We actually have two separate bad bugs
    
    1. The read_lock implementation spins with disabled interrupts.  This is
    completely wrong
    2. Our spin_lock_irqsave should check to see if interrupts were enabled
    before the call and re-enable interrupts around the inner spin loop.
    
    The problem is that if we spin with interrupts off, we can't receive
    IPIs. This has resulted in a bug where SMP machines suddenly spit
    smp_call_function timeout messages and hang.
    
    The scenario I've caught is
    
    CPU0 does a flush_tlb_all holding the vmlist_lock for write.
    CPU1 tries a cat of /proc/meminfo which tries to acquire vmlist_lock for
         read
    CPU1 is now spinning with interrupts disabled
    CPU0 tries to execute a smp_call_function to flush the local tlb caches
    
    This is now a deadlock because CPU1 is spinning with interrupts disabled
    and can never receive the IPI
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 4269b0d371c43bc8f3c9e183847a08258587cf06
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Thu Nov 17 16:33:56 2005 -0500

    [PARISC] Improve the error message when we get a clashing mod path
    
    Improve the error message when we get a clashing mod path, and
    actually display the IODC data and path for the conflicting device.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit ba5c4f1bae89eba7b03e58a5448e8b28a006d4df
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Thu Nov 17 16:33:29 2005 -0500

    [PARISC] Return PDC_OK when alloc_pa_dev fails to enumerate all devices
    
    Return PDC_OK when device registration fails so that we enumerate all
    subsequent devices, even when we get two devices with the same hardware
    path (which should never happen, but does with at least one revision of
    rp8400 firmware).
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit aa0eecb07f27bea25a7cbe4150822be72493e574
Author: Carlos O'Donell <carlos@parisc-linux.org>
Date:   Thu Nov 17 16:32:46 2005 -0500

    [PARISC] Document some register usages in assembly files
    
    Document clobbers and args in entry.S and syscall.S.
    
    entry.S: Add comment to indicate that cr27 may recycle and EDEADLOCK
    detection is not 100% correct. Since this is only enabled when using
    ENABLE_LWS_DEBUG, the user is warned by the comment.
    
    Signed-off-by: Carlos O'Donell <carlos@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 75be99a8c597aaebf82802109cdfd1249eea951e
Author: Ryan Bradetich <rbrad@parisc-linux.org>
Date:   Thu Nov 17 16:29:50 2005 -0500

    [PARISC] Make redirecting irq messages less noisy
    
    Make the "redirecting irq" message to not display on the console by
    setting the severity to KERN_DEBUG.  The console was basically unusable.
    
    Signed-off-by: Ryan Bradetich <rbrad@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 03afe22f074231196dcf3298f962cfc787ebbc60
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Thu Nov 17 16:29:16 2005 -0500

    [PARISC] irq_affinityp[] only available for SMP builds
    
    irq_affinityp[] only available for SMP builds, make code that uses
    it conditional on CONFIG_SMP.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit c2ab64d09815cc4d48347ee3679658f197455a2a
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Thu Nov 17 16:28:37 2005 -0500

    [PARISC] Add IRQ affinities
    
    This really only adds them for the machines I can check SMP on, which
    is CPU interrupts and IOSAPIC (so not any of the GSC based machines).
    
    With this patch, irqbalanced can be used to maintain irq balancing.
    Unfortunately, irqbalanced is a bit x86 centric, so it doesn't do an
    incredibly good job, but it does work.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 1d4c452a85503cdb4bca5925cf698b61d3aa43a0
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Thu Nov 17 16:27:44 2005 -0500

    [PARISC] Fix uniprocessor build by dummying smp_send_all_nop()
    
    Since irq.c uses smp_send_all_nop, we must define it for UP builds
    as well. Make it a static inline so it gets optimized away. This forces
    irq.c to include <asm/smp.h> though.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit d911aed8adf74e1fae88d082b8474b2175b7f1da
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Thu Nov 17 16:27:02 2005 -0500

    [PARISC] Fix our interrupts not to use smp_call_function
    
    Fix our interrupts not to use smp_call_function
    
    On K and D class smp, the generic code calls this under an irq
    spinlock, which causes the WARN_ON() message in smp_call_function()
    (and is also illegal because it could deadlock).
    
    The fix is to use a new scheme based on the IPI_NOP.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 3f902886a81c6d4e6c399760936b645b5c7a7342
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Thu Nov 17 16:26:20 2005 -0500

    [PARISC] Disable nesting of interrupts
    
    Disable nesting of interrupts - still has holes
    
    The offending sequence starts out like this:
    1) take external interrupt
    2) set_eiem() to only allow TIMER_IRQ; local interrupts still disabled
    3) read the EIRR to get a "list" of pending interrupts
    4) clear EIRR of pending interrupts we intend to handle
    5) call __do_IRQ() to handle IRQ.
    6) handle_IRQ_event() enables local interrupts (I-Bit)
    7) take a timer interrupt
    8) read EIRR to get a new list of pending interrupts
    9) clear EIRR of pending interrupts we just read
    10) handle pending interrupts found in (8)
    11) set_eiem(cpu_eiem) and return
            [ TROUBLE! all enabled CPU IRQs are unmasked. }
    12) handle remaining interrupts pending from (3)
            e.g. call __do_IRQ() -> handle_IRQ_event()..etc
            [ TROUBLE! call to handle_IRQ_event() can now enable *any* IRQ. }
    13) set_eiem(cpu_eiem) and return
    
    The problem is we now get into ugly race conditions with Timer and IPI
    interrupts at this point.  I'm not exactly sure what happens when
    things go wrong (perhaps nest calls to IPI or timer interrupt?).
    But I'm certain it's not good.
    
    This sequence will break sooner if (10) would accidentally leave
    interrupts enabled.
    
    I'm pretty sure the right answer is now to make cpu_eiem
    a per CPU variable since all external interrupts on parisc
    are per CPU. This means we will NOT need to send an IPI to
    every CPU in the system when enabling or disabling an IRQ
    since only one CPU needs to change it's EIEM.
    
    Thanks to James Bottomley for (once again) pointing out the problem.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9a8b4584065dd241d6c2bf818e349986bd900b8e
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Thu Nov 17 16:24:52 2005 -0500

    [PARISC] Make sure timer and IPI execute with interrupts disabled
    
    Fix a longstanding smp bug
    
    The problem is that both the timer and ipi interrupts are being called
    with interrupts enabled, which isn't what anyone is expecting.
    
    The IPI issue has just started to show up by causing a BUG_ON in the
    slab debugging code.  The timer issue never shows up because there's an
    eiem work around in our irq.c
    
    The fix is to label both these as SA_INTERRUPT which causes the generic
    irq code not to enable interrupts.
    
    I also suspect the smp_call_function timeouts we're seeing might be
    connected with the fact that we disable IPIs when handling any other
    type of interrupt.  I've put a WARN_ON in the code for executing
    smp_call_function() with IPIs disabled.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 6b1de9161e973bac8c4675db608fe4f38d2689bd
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Nov 17 21:35:02 2005 +0100

    [PATCH] VM: fix zone list restart in page allocatate
    
    We must reassign z before looping through the zones kicking kswapd,
    since it will be NULL if we hit an OOM condition and jump back to the
    beginning again. 'z' is initially assigned before the restart: label. So
    move the restart label up a little.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit bb833986674ce1fc1b237b3d81459511ad2df393
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Nov 17 09:48:18 2005 -0800

    [PATCH] USB: add the anydata usb-serial driver
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d117403ae4006eeeb9037b82e9ecd8b3b043584
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Nov 17 09:48:13 2005 -0800

    [PATCH] USB: delete the nokia_dku2 driver
    
    It was causing too many problems, and this is not the proper type of
    driver for this device.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 654f31189e550cd5924b786487a5d93d9feaada9
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Nov 17 09:48:09 2005 -0800

    [PATCH] USB: move CONFIG_USB_DEBUG checks into the Makefile
    
    This lets us remove a lot of code in the drivers that were all checking
    the same thing.  It also found some bugs in a few of the drivers, which
    has been fixed up.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87cf203935a646d5fb00464dc5887292da71d928
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Nov 17 09:47:57 2005 -0800

    [PATCH] USB: OHCI lh7a404 platform device conversion fixup
    
    Fix an error in the OHCI lh7a404 driver after the platform device
    conversion.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9465663965fbe7de4e21d090e8eb0cc34b65294f
Author: Antti Andreimann <Antti.Andreimann@mail.ee>
Date:   Thu Nov 17 09:47:53 2005 -0800

    [PATCH] USB: Maxtor OneTouch button support for older drives
    
    This small patch adds a device ID used by older Maxtor OneTouch drives
    (the ones with blue face-plate instead of the fancy silver one used in
    newer models). The button on those drives works well with the current
    driver.
    
    From: Antti Andreimann <Antti.Andreimann@mail.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 058120d70ebb430e27ad55871429028361c5baed
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Nov 17 09:47:49 2005 -0800

    [PATCH] usb devio warning fix
    
    drivers/usb/core/devio.c: In function `proc_ioctl_compat':
    drivers/usb/core/devio.c:1401: warning: passing arg 1 of `compat_ptr' makes integer from pointer without a cast
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d23b536bb715673ca0ccbdaac2b6ce2c001d06e9
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Nov 17 09:47:45 2005 -0800

    [PATCH] USB: fix race in kaweth disconnect
    
    this patch from Herbert Xu fixes a race by moving termination of
    the URBs into close() exclusively.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8845add380854ffce5268714a093df8c80b4a6e2
Author: Daniel Drake <dsd@gentoo.org>
Date:   Thu Nov 17 09:48:01 2005 -0800

    [PATCH] usb-storage: Fix detection of kodak flash readers in shuttle_usbat driver
    
    Peter Favrholdt reported that his Kodak flash device was getting
    detected as a CDROM, and he helped me track this down to the fact that
    the device takes a long time (approx 440ms!) to reset.
    
    This patch increases the delay to 500ms, which solves the problem.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9142d59a451731d23539d218c962418acc93283c
Author: Oliver Neukum <oliver@neukum.org>
Date:   Thu Nov 17 09:47:41 2005 -0800

    [PATCH] USB: Adapt microtek driver to new scsi features
    
    the scsi layer now uses very short sg lists. This breaks the microtek
    driver. Here is a patch fixes this and some other issues.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8f4c1d6674463e5824eada1ad7ec799276718bd
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Thu Nov 17 09:47:36 2005 -0800

    [PATCH] USB: pl2303: updates pl2303_update_line_status()
    
    Updates pl2303_update_line_status() to handle X75 and SX1 Siemens mobiles
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8310f3b8b713e52d77c56d4b8865685ee40d02a
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Thu Nov 17 09:47:32 2005 -0800

    [PATCH] USB: pl2303: adds new IDs.
    
    This patch adds two new Siemens mobiles IDs for the pl2303 driver.
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9d00fc148b210aa8cf388d6e1eac187a0e855a6
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Nov 17 09:47:28 2005 -0800

    [PATCH] USB: onetouch doesn't suspend yet
    
    The onetouch support doesn't suspend correctly (leaves an interrupt
    URB posted, instead of unlinking it) so for now just disable it
    when PM is in the air.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0ce84d5539de88a1001f9aa3deeaa20fde3d152
Author: Josef Balatka <balatka@email.cz>
Date:   Thu Nov 17 09:47:24 2005 -0800

    [PATCH] USB: cp2101.c: Jablotron usb serial interface identification
    
    Jablotron usb serial interface identification
    
    Signed-off-by: Josef Balatka <balatka@email.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5dbf868e2bbeea6581f388a09539779c0d61357
Author: Pavel Machek <pavel@ucw.cz>
Date:   Thu Nov 17 09:47:11 2005 -0800

    [PATCH] USB: kill unneccessary usb-storage blacklist entries
    
    I actually have this device, and kernel reports blacklist entry is no
    longer neccessary.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 777da5905e82695d1dd73eee6cfe50bd486d8fe9
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Nov 17 09:47:02 2005 -0800

    [PATCH] USB: usbdevfs_ioctl 32bit fix
    
    drivers/usb/core/devio.c: In function `proc_ioctl_compat':
    drivers/usb/core/devio.c:1401: warning: passing arg 1 of `compat_ptr' makes integer from pointer without a cast
    
    NFI if this is correct...
    
    Cc: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc7cb323bab717660830211d50555dedf19e372e
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Thu Nov 17 09:47:07 2005 -0800

    [PATCH] usbfs: usbfs_dir_inode_operations cleanup
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c611d2cd2f74988baa9a4c6cfc8a48064fd075e6
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Thu Nov 17 09:46:39 2005 -0800

    [PATCH] USB: Delete leftovers from bluetty driver
    
    This patch deletes the bluetooth.txt help file of the bluetty driver and
    hands over its major device nodes for character devices to the RFCOMM TTY
    implementation of the Bluetooth subsystem.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4ece29d89d424ea045753c639971429faa9ee58
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Nov 17 09:46:44 2005 -0800

    [PATCH] USB: fix 'unused variable' warning
    
    USB: fix 'unused variable' warning
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ebb6f371ac5ce623051c4431c5d0f093462f679b
Author: Ping Cheng <pingc@wacom.com>
Date:   Thu Nov 17 09:46:51 2005 -0800

    [PATCH] USB: wacom tablet driver update
    
    This patch adds support for Graphire4, Cintiq 710, Intuos3 6x11, etc. and
    report Device IDs.
    
    Signed-off-by: Ping Cheng <pingc@wacom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 116d75bd4d539309e0e1391e509f852a9cce82a6
Author: Ping Cheng <pingc@wacom.com>
Date:   Thu Nov 17 09:46:33 2005 -0800

    [PATCH] USB: add new wacom devices to usb hid-core list
    
    This patch adds support for Graphire4, Cintiq 710, Intuos3 6x11, etc.
    
    Signed-off-by: Ping Cheng <pingc@wacom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80ed89f6105fd2f35b3b9ee2078f31e1510da71e
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Nov 17 09:46:28 2005 -0800

    [PATCH] USB Serial: rename ChangeLog.old
    
    People are complaining about a .old file in the tree.  So rename
    drivers/usb/serial/ChangeLog.old to ChangeLog.history.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cca2362c64429283d384df5b4cb948dcd6e8127b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Nov 17 09:46:24 2005 -0800

    [PATCH] USB: fix build breakage in dummy_hcd.c
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a7ec1a6a1df63aab9a1fa6174bd704241329805
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Thu Nov 17 11:09:53 2005 -0800

    [PATCH] Fix IXP4xx I2C driver build breakage
    
    Platform device conversion missed a couple of spots.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7652aab77fbf6de8bcc69ee6a864270b0da6b3f6
Merge: cd02e27... aec8b75...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 10:56:34 2005 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit cd02e27b1514a27b2a8ab59755ae6d23d4d8a10f
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 10:04:31 2005 -0800

    x86: Fix silly typo in recent <asm/signal.h> fixes
    
    The second __const_sigaddset() should have been a sigdelset..  Compile
    trouble noted by Greg K-H.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8aabc47168d24eabc08418db4e034a4c625721c
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Thu Nov 17 01:55:34 2005 -0800

    [IA64] polish comments for tlb fault handler in ivt.S
    
    Polish the comments specifically in vhpt_miss and nested_dtlb_miss
    handlers.  I think it's better to explicitly name each page table
    level with its name instead of numerically name them.  i.e., use
    pgd, pud, pmd, and pte instead of referring as L1, L2, L3 etc.
    Along the line, remove some magic number in the comments like:
    "PTA + (((IFA(61,63) << 7) | IFA(33,39))*8)".  No code change at
    all, pure comment update.  Feel free to shoot anything you have,
    darts or tomahawk cruise missile.  I will duck behind a bunker ;-)
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Acked-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit fedb25fae72bc2c3709448a43be067439643da87
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Thu Nov 17 01:38:42 2005 -0800

    [IA64] 4 level page table bug fix in vhpt_miss
    
    From source code inspection, I think there is a bug with 4 level
    page table with vhpt_miss handler.  In the code path of rechecking
    page table entry against previously read value after tlb insertion,
    *pte value in register r18 was overwritten with value newly read
    from pud pointer, render the check of new *pte against previous
    *pte completely wrong.  Though the bug is none fatal and the penalty
    is to purge the entry and retry.  For functional correctness, it
    should be fixed.  The fix is to use a different register so new
    *pud don't trash *pte.  (btw, the comments in the cmp statement is
    wrong as well, which I will address in the next patch).
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 6027994423e12a3c0b22d3dbf9ac87364ca4e0ec
Merge: d0fa7e9... 4a59a81...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 09:06:54 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 67a1901ff498363e253b90ba132e336c925203ed
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 17 16:48:00 2005 +0000

    [ARM] __ioremap doesn't use 4th argument
    
    The "align" argument in ARMs __ioremap is unused and provides a
    misleading expectation that it might do something.  It doesn't.
    Remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0c2e4b4ff38986e5b6f707d006799bff9663c802
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 17 16:46:41 2005 +0000

    [ARM] Drivers should not make use of architecture private __ioremap
    
    __ioremap is an architecture private interface and must not be used
    by drivers when the architecture independent interface will do just
    as well.  Switch the ipaq drivers to use the correct interface.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d0fa7e9f8ebeb19db4d2aed33c35f9d16fa7f32d
Merge: fbf0e13... 5470dc6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 08:45:42 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit fbf0e1348ec4023675123d432ce1fdfa1eef8e54
Merge: b7fd1ed... a2c91a8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 17 08:43:38 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 728f5c076ad000e547aa9e00d16792043ee1bfc6
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 17 16:43:14 2005 +0000

    [ARM] Improve comment about ASSERT()s in vmlinux.lds.S
    
    Provide folk with an idea what to do if the ASSERT statements fail
    with their linker.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b7fd1edd2c0c225afa96af92d4adecb91e7d439d
Author: Constantine Gavrilov <constg@qlusters.com>
Date:   Thu Nov 17 11:40:43 2005 +0200

    [PATCH] x86: fix sigaddset() inline asm memory constraint
    
    Due to incomplete memory constraints, gcc would miscompile code with
    sigaddset on i386 if sig arg was const.
    
    A quote form Jakub to make the issue clear:
    
     "You need either
    	__asm__("btsl %1,%0" : "+m"(*set) : "Ir"(_sig-1) : "cc");
      or
    	__asm__("btsl %1,%0" : "=m"(*set) : "Ir"(_sig-1), "m"(*set) : "cc");
      because the btsl instruction doesn't just set the memory to some
      value, but needs to read its previous content as well.  If you don't
      tell that fact to GCC, GCC is of course free to optimize as if the asm
      was just setting the value and not depended on the previous value."
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b26b1100e26811e54770abaa221eae140ba840d
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Nov 17 13:58:30 2005 +0800

    [PATCH] ipw2200: fix error log offset calculation
    
    This fixes a slab corruption issue in the ipw2200 driver: it essentially
    multiplied the error log number _twice_ by the size of the error element
    entry (once explicitly in the code, and once implicitly as part of the
    regular pointer arithmetic).
    
    Cc: Henrik Brix Andersen <brix@gentoo.org>
    Cc: Bernard Blackham <bernard@blackham.com.au>
    Cc: Zilvinas Valinskas <zilvinas@gemtek.lt>
    Cc: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>
    --

commit efb3442cf1c65747a858476e10f705612383eed1
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Wed Nov 16 21:55:05 2005 +0200

    [PATCH] ipw2200: disallow direct scanning when device is down
    
    The function ipw_request_direct_scan() should bail out when the device
    is down.  This fixes a lockup caused by wpa_supplicant triggering
    ipw_request_direct_scan() while the driver was in a middle of a reset
    due to firmware errors.
    
    Thanks to Zilvinas Valinskas for reporting the bug and helping me
    debug it.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Acked-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aec8b7557cf0fc4dac059112328b5aa89271c77e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:58 2005 +0000

    [MIPS] Update defconfigs
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1a6ea3ec6784cf3dedc338e1980dc0b4cf28a805
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 16:10:01 2005 +0000

    [MIPS] SEAD: More build fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 09b696efd93560609f25821208dae18027187425
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 13:55:06 2005 +0000

    [MIPS] TX3927: Try to glue the PCI code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 561a0792405bea8ead78990d755dd1f95b8e95b8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 13:25:59 2005 +0000

    [MIPS] SEAD: Delete seadint_init() prototype.
    
    There is no definition for seadint_init() and the unprotected prototype
    breaks compilation of assembler files.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3d5d44017601c927f5e14c43b0efee34e7e50a66
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 13:11:35 2005 +0000

    [MIPS] Ocelot G: Use CPU_MASK_NONE instead of 0 to initialize cpu mask.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c183f1224bbae052b5fbb971d6eafc5cbdc6be4f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 13:05:26 2005 +0000

    [MIPS] JMR3927: Fix include wrapper symbol.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c32cf78c0289c4d8f5973c985dda18f2b3a03e2b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 13:01:50 2005 +0000

    [MIPS] JMR3927: Fix compilation by including <linux/ds1742rtc.h>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5135b0cdb23e47dd48d8100e45bd48ce937732ff
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 12:19:46 2005 +0000

    [MIPS] JMR3927: need include/asm-mips/mach-jmr3927 in it's include path.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8bf4057bdd8912c7388c28e625f0b846a4ca1468
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 15 12:17:42 2005 +0000

    [MIPS] JMR3927: It's ops-tx3927.o not ops-jmr3927.o
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4237f229018ccf937578dee97565a49d712809e8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:50 2005 +0000

    [IDE] Add driver for Sibyte Swarm evaluation board
    
    This driver supports the IDE port on the Sibyte Swarm evaluation boards
    and it's relatives for the BCM1250 family of systems on a chip.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Acked-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit b60ccd575c2d96041b856aad19a7d3af168d79b9
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Nov 13 23:27:46 2005 +0200

    [MIPS] Alchemy: Console output fixup
    
    This is needed to make console output appear with the new driver...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f10d14ddec8daf11a298f05ab3d644887df39830
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Sun Nov 13 00:38:18 2005 +0100

    [MIPS] Fix documentation typos.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 99289a4e8a9cb3fa6caa8fc4ebf57a33db497340
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Sun Nov 13 00:38:18 2005 +0100

    [MIPS] Add const qualifier to writes##bwlq.
    
    Add const qualifier to parameter addr of writes##bwlq.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 59f145d28ce853b13dafdfab438c48f3ead0b38e
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Sun Nov 13 00:38:18 2005 +0100

    [MIPS] IP32: Fix sparse warnings.
    
    Add __iomem qualifier to crime and mace pointers.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 84c493d8e143360cfba3efede97e5a93d62c4d3d
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Sun Nov 13 00:38:18 2005 +0100

    [MIPS] IP32 Fix and complete IP32 parport definitions
    
    Fix, complete, and indent IP32 parport definitions.
    Definition were wrong for CTXINUSE and DMACTIVE (1-bit shift).
    Add macros DATA_BOUND, DATALEN_SHIFT, and CTRSHIFT.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 19ce1cfb2d53e5b9f70d0199d551789db2718e6f
Author: Arnaud Giersch <arnaud.giersch@free.fr>
Date:   Sun Nov 13 00:38:18 2005 +0100

    [MIPS] IP32: Export mace symbol.
    
    Export mace symbol so that it can be used in modules.
    
    Signed-off-by: Arnaud Giersch <arnaud.giersch@free.fr>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 70ad7d1840d3479ea8503c9f89ec503115bfd2cf
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Nov 11 11:49:53 2005 +0000

    [MIPS] JMR3927: Fix syntax error.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit efd9412d850397fc129c17eb33c84f74abb0d3ee
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Nov 11 11:46:25 2005 +0000

    [MIPS] JMR3927: Undo accidental rename.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d93efab838ee399b45379bd97b2812ecee84471b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Nov 11 11:15:41 2005 +0000

    [MIPS] DDB5477: Fix unused variable warning.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 16212017a54afdb702ecc796aaa0448b795de03b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:44 2005 +0000

    [MIPS] IP32: No need to include <asm/io.h>.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cd017fbdd33f2d8294b0e0324faa1dc7750b4af0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:43 2005 +0000

    Add definitions for the Dallas DS1742 RTC / non-volatile memory.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 443bf3292f04c53e92bf0588f1aa2c9b421545e2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:42 2005 +0000

    Add definitions for the Dallas DS17287 RTC.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bdc3c3c7cbc3e1244c03640b4b372d097a1dacf3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Nov 17 16:23:42 2005 +0000

    [MIPS] Add missing arch defines for the Alchemy MTD driver.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6f17ce33fef3fd84e3e45850c9388d118adfad96
Author: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
Date:   Thu Nov 10 22:42:36 2005 +0900

    Add GT64111 PCI ID back
    
    Signed-off-by: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0905780aae58ea69f2dafea9716ee2ea78dbe4e2
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 19:58:50 2005 +0000

    [MIPS] zs.c: Resurrect the deceased zs.c for now.
    
    Not that it's meant to be sustained for long, but from time to time it's
    useful to have some console...
    
    Signed-off-by: Maciej W. Rozycki <macro@linux-mips.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e0c9b7973021ea4baa1ed76ff25ceb80f75edd8f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 22:36:48 2005 +0000

    [MIPS] feature-removal-schedule.txt: Schedule au1x00_uart for removal.
    
    The 8250 serial driver now has the ability to deal with the differences
    between the standard 8250 family of UARTs and their slightly strange
    brother on Alchemy SOCs.  The loss of features is not considered an
    issue.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit db7f6861822c80f17a23647b4d0042dcc56e2024
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 22:23:13 2005 +0000

    [MIPS] Delete duplicate definitions of break codes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 20913a9f6e3ae9a7facf96c7b1299e3875a895a0
Author: Andrey Volkov <avolkov@varma-el.com>
Date:   Thu Nov 17 16:05:35 2005 +0000

    [DRIVER MODEL] Fix typo in ohci-ppc-soc.c
    
    Fix copy-paste bug in ohci-ppc-soc.c(ohci_hcd_ppc_soc_drv_remove)
    
    Signed-off-by: Andrey Volkov <avolkov@varma-el.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7d78c887a94067ba218dc71b89d0d7a09415197f
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 17 15:47:30 2005 +0000

    [DRIVER MODEL] Fix merge clashes with ARM ixp2000 / ixp4xx platforms
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a2c91a8819e315e9fd1aef3ff57badb6c1be3f80
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 17 05:44:44 2005 -0500

    [libata sata_mv] handle lack of hardware nIEN support
    
    Handle errata (it was unintentional on this h/w, whereas its intentional
    on others) whereby the nIEN bit in Device Control is ignored, leading to
    a situation where a hardware interrupt completes the qc before the
    polling code has a chance to.
    
    This will get fixed The Right Way(tm) once Albert Lee's irq-pio
    branch is merged, as the more natural PIO method on this hardware is
    interrupt-driven.

commit 22374677d18c5eeefd3a283431d312b8c44fef02
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 17 10:59:48 2005 -0500

    [libata sata_mv] SATA probe, DMA boundary fixes
    
    - DMA boundary was being handled incorrectly.  Copied the code from
      ata_fill_sg(), since Marvell has the same DMA boundary needs.
      (we can't use ata_fill_sg directly since we have different hardware
       descriptors)
    - cleaned up the SATA phy reset code, to deal with various errata

commit 64f043d80752a8e5f0d55255e7bb9a1a05af206f
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 17 10:50:01 2005 -0500

    [libata] add timeout to commands for which we call wait_completion()

commit 4a59a810513d5f7aa76515908b8e3620fa1b9b69
Author: Patrick McHardy <kaber@trash.net>
Date:   Wed Nov 16 23:14:19 2005 -0800

    [NETFILTER]: Fix nf_conntrack compilation with CONFIG_NETFILTER_DEBUG
    
    CC [M]  net/netfilter/nf_conntrack_core.o
    net/netfilter/nf_conntrack_core.c: In function 'nf_ct_unlink_expect':
    net/netfilter/nf_conntrack_core.c:390: error: 'exp_timeout' undeclared (first use in this function)
    net/netfilter/nf_conntrack_core.c:390: error: (Each undeclared identifier is reported only once
    net/netfilter/nf_conntrack_core.c:390: error: for each function it appears in.)
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b341e32e5cc1a154cb0ac2f4229c2d040647804b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 17 13:34:57 2005 +1100

    [PATCH] powerpc: Workaround for offb on 64 bits platforms
    
    This fixes a problem with offb not parsing addresses properly on 64 bits
    machines, and thus crashing at boot.  The problem is worked around by
    locating the matching PCI device and using the properly relocated PCI
    base addresses instead of misparsing the Open Firmware properties.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1e28a7ddd3e713384e9c6768e7c502031dc205e2
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Thu Nov 17 00:44:03 2005 +0000

    [PATCH] Avoid use of uninitialised spinlock in EEH.
    
    If the kernel supports both G5 and pSeries, and CONFIG_EEH is enabled,
    eeh_init() is (quite reasonably) never called when we boot on a G5. Yet
    eeh_check_failure() still gets called. We should avoid doing that if
    !eeh_subsystem_enabled.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5cfccd7f132432dd4705444a44b51d12ef88a85f
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Wed Nov 16 23:37:53 2005 +1100

    [PATCH] powerpc: Fix database regression due to scheduler changes
    
    PowerPC's NUMA domain doesn't currently set up some of the newer
    sched-domains parameters.
    
    Brian Twichell <tbrian@us.ibm.com> discovered and diagnosed a 1.5% OLTP
    database regression on a 4 core POWER5 system that was due to the use of
    NUMA scheduling on ppc64.
    
    This patch applies some saneish values to the parameters, in line with
    other architectures. This solves the regression.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 556c66db0794b9b85481cb5e3cb57688eabad982
Merge: 3be4bb0... 8b200ab...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 20:45:51 2005 -0500

    Merge branch 'upstream-fixes'

commit 8b200abdcf237528a3eb0fe8c680c711fc9824b5
Merge: 7bdd720... 0db169f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 20:45:40 2005 -0500

    Merge branch 'master'

commit a42ab7f2349a72ecf5c3b1b7c836dc4249a71c0c
Author: Dave Jones <davej@redhat.com>
Date:   Wed Nov 16 16:07:02 2005 -0800

    [AGPGART] Mark AMD64 aperture size structs as const
    
    Neither of them are ever written to.
    
    Noted by Arjan van de Ven
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 5e9ad06ad953c6022e4a7f6012c9b5708a8a5d8a
Author: Dave Jones <davej@redhat.com>
Date:   Wed Nov 16 16:05:49 2005 -0800

    [AGPGART] Mark maxes_table as const
    
    It's never written to.
    
    Noted by Arjan van de Ven
    Signed-off-by: Dave Jones <davej@redhat.com>

commit e53091fae52931a96dfb661f2b78e0a91e5f9978
Author: Francois Romieu <romieu@electric-eye.fr.zoreil.com>
Date:   Wed Nov 16 23:44:41 2005 +0100

    r8169: do not abort when the power management capabilities are disabled
    
    The capabilities of the 8169 can be disabled but it is hardly a reason
    to prevent the use the device. The (so far) unusual behavior has been
    reported on a MIPS platform by Yoichi Yuasa.
    
    Spotted-by: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 7c8b2eb4c71d5c3d45dbfe0c81fefe81e264e9b3
Author: Francois Romieu <romieu@electric-eye.fr.zoreil.com>
Date:   Wed Nov 16 23:44:05 2005 +0100

    r8169: fix printk_ratelimit in the interrupt handler
    
    I keep on getting "printk: N messages suppressed" messages.  We need to test
    netif_msg_intr() _before_ running printk_ratelimit(), because the latter
    updates state.
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>

commit 0f2b27c438cb593717dde8ee0fc05e0874eabbb6
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Nov 16 14:25:50 2005 -0800

    [CIFS] Fix sparse warnings on smb bcc (byte count)
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit e7c8a41e817f381ac5c2a59ecc81b483bd68a7df
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Nov 16 12:55:37 2005 -0800

    [IPV4,IPV6]: replace handmade list with hlist in IPv{4,6} reassembly
    
    Both of ipq and frag_queue have *next and **prev, and they can be replaced
    with hlist. Thanks Arnaldo Carvalho de Melo for the suggestion.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3be4bb06b53df2c0a760eeaa5f53448faddedfca
Merge: 85d6162... 7bdd720...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 15:12:58 2005 -0500

    Merge branch 'upstream-fixes'

commit 1f7bad72c0ed8cf29d13bac81ceeba9e1ac05c66
Author: Krzysztof Halasa <khc@pm.waw.pl>
Date:   Fri Nov 11 01:10:30 2005 +0100

    [PATCH] Generic HDLC WAN drivers - disable netif_carrier_off()
    
    As we are currently unable to fix the problem with carrier and protocol
    state signaling in net core I've to disable netif_carrier_off()
    calls used by WAN protocol drivers. The attached patch should make
    them working again.
    
    The remaining netif_carrier_*() calls in hdlc_fr.c are fine as they
    don't touch the physical device.
    
    Signed-off-by: Krzysztof Halasa <khc@pm.waw.pl>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 5470dc656820fb67c0a2e352f0aaa48b86c19026
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 18:36:49 2005 +0000

    [ARM] No need to include asm/proc-fns.h into asm/system.h
    
    In the old days when arm26/arm32 was combined into the same
    architecture, proc-fns.h provided the xchg implementation for
    arm26 CPUs.  Since we no longer combine these two, this include
    is no longer required.  Remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 45e109d07275e0820745dc465302de0aa5a8703b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 18:29:51 2005 +0000

    [ARM] sa1111.c needs asm/sizes.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 49ee57a3295a227b6a02785f75ccd521e493e983
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 18:03:10 2005 +0000

    [ARM] Use unsigned long not u32 in atomic_cmpxchg
    
    Since atomic.h does not include types.h, u32 may not be defined.
    Since atomics are supposed to work on unsigned long quantities,
    use unsigned long instead.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1b12050f17460dc312cfd8cc59c79e181b23062b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 17:38:40 2005 +0000

    [ARM] Move zone adjustment for SA1111 on SA11x0 platforms
    
    Unfortunately, using PAGE_SHIFT in asm/arch/memory.h is unsafe, and we
    can't include asm/page.h into this file because then we have a circular
    dependency.  Move the offending code to arch/arm/common/sa1111.c
    instead.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8dc39b883e9497445b53c498be7493c3e43af006
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 17:23:57 2005 +0000

    [ARM] Add linux/compiler.h includes where required
    
    atomic.h, bitops.h and mmu_context.h are using likely/unlikely.
    thread_info.h uses __attribute_const__.  Hence these files require
    linux/compiler.h to be included.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0db169f9703115bab09eda5d89a8f6937a7bf98e
Merge: d58a75e... 6e87abd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 16 08:25:28 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 7bdd720869ff75700b48b132ee71852615b55808
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 11:06:59 2005 -0500

    [libata] bump versions

commit d58a75ef75ad98f2d20ee6dccfc71f881aabffb0
Merge: f6ff56c... 5d66da3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 16 07:58:48 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 994e12805336f899d0ec1cf38a99c7b6405d144a
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Nov 16 15:05:13 2005 +0000

    [ARM] 3162/1: S3C2410 - updated defconfig
    
    Patch from Ben Dooks
    
    Minor changes, including add SysRq, selecting the DM9000
    as a built-in driver, not as a module, and selecting the
    framebuffer.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b526bf23fd4138456b1bb4f1305862695604c798
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Nov 16 15:05:12 2005 +0000

    [ARM] 3161/1: BAST - fix commas on end of structs
    
    Patch from Ben Dooks
    
    Make the use of , on the lsat entry structs consistenent
    through arch/arm/mach-s3c2410/mach-bast.c
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a7d068336197945dc4af65c5973c996e526d51cb
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Nov 16 15:05:11 2005 +0000

    [ARM] 3165/1: fix atomic_cmpxchg() implementation for ARMv6+
    
    Patch from Nicolas Pitre
    
    If 'old' and 'oldval' are different then 'res' never gets set.  In that
    case, if ever %0 happened to contain anything but zero (rather likely)
    then the code will loop forever (or until another CPU just come along
    and change the atomic value to match 'old' which is rather unlikely).
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 224b5be6ddc12fa7587433878866cd39e7b935f5
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 14:59:51 2005 +0000

    [ARM] compressed/head.S debugging defaults to asm/arch/debug-macro.S
    
    Since we want new platforms to use debug-macro.S, make the decompressor
    debugging method default to using this include file rather than having
    new platforms add to an #if defined().
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0a5709b2dc84140082ea235130a05c05d51f94a2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 14:51:20 2005 +0000

    [ARM] Include asm/hardware.h instead of asm/arch/hardware.h
    
    Rationalise hardware.h include.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ce07d90aa80a4c9a956eb2f662e4be5ea5c6baf8
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 16 14:38:19 2005 +0000

    [ARM] Fix arch-realview/system.h to use __io_address()
    
    Move __io_address to arch-realview/hardware.h, drop core.h from platsmp.c
    and localtimer.c, and include asm/io.h where required.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c2cd76ff106b8bd9c0a754c6439c74e86fd2aba7
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 16 09:23:30 2005 -0500

    [libata ahci] tone down ATAPI errors
    
    ATA devices don't generate many errors, so the preferred method is to
    printk() when they occur.
    
    ATAPI devices generate tons of exceptions during the normal course
    of operation, so this change skips logging the most common class of
    errors.

commit 75b1f2f865c6e6c6c04e2779750192b8d3d504e8
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Wed Nov 16 17:06:18 2005 +0800

    [PATCH] libata: honor the transfer cycle time speficied by the EIDE device
    
      The following code segment is not functional because the transfer cycle time speficied by
      the EIDE device is later overwritten by ata_timing_quantize():
    
    	/*
    	 * If the drive is an EIDE drive, it can tell us it needs extended
    	 * PIO/MW_DMA cycle timing.
    	 */
    	if (adev->id[ATA_ID_FIELD_VALID] & 2) {	/* EIDE drive */
    		memset(&p, 0, sizeof(p));
    		(snip)
    		ata_timing_merge(&p, t, t, ATA_TIMING_CYCLE | ATA_TIMING_CYC8B);
                   <== uninitialized "t" is used here
    	}
    
    	/*
    	 * Convert the timing to bus clock counts.
    	 */
    	ata_timing_quantize(s, t, T, UT);  <== t is overwritten by quantized s
    
      The patch has been submitted for ide-timing.h before:
      http://marc.theaimsgroup.com/?l=linux-ide&m=110820013425454&w=2
      Resubmitted for libata.
    
    Changes:
      - Minor fix to honor the following transfer cycle time speficied by the device
        - id[65]: Minimum Multiword DMA transfer cycle time per word
        - id[67]: Minimum PIO transfer cycle time without flow control
        - id[68]: Minimum PIO transfer cycle time with IORDY
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    =======
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d10cb35a876c72b4b6711a366e341a1e4d8aa709
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Nov 16 16:56:49 2005 +0900

    [PATCH] sil24: add constants
    
    Adds constants for ATAPI support to sata_sil24.  This patch is
    originally from Jeff Garzik <jgarzik@pobox.com>.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6e87abd0b8cbb23ed9ffe5cc9f790fb5cac45eae
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Nov 16 00:52:57 2005 -0800

    [DVB]: Add compat ioctl handling.
    
    Based upon a patch by Guido Guenther <agx@sigxcpu.org>.
    
    Some of these ioctls had embedded time_t objects
    or pointers, so needed translation.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7b5603e056b8b5f3175f14badd895b9ac567f315
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Nov 16 00:11:50 2005 -0800

    [DVB] cinergyT2: cinergyt2_register_rc() should return 0 on success
    
    Currently, the version when ENABLE_RC is defined, falls through
    to the end of the function without returning anything.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 574780d56fdafe2c8ea98660a932760dfea9bffc
Author: Guido Guenther <agx@sigxcpu.org>
Date:   Wed Nov 16 00:08:44 2005 -0800

    [SPARC64]: Oops in pci_alloc_consistent with cingergyT2
    
    From: Guido Guenther <agx@sigxcpu.org>
    
    - Use correct API for allocating and freeing DMA buffers.
    
    Acked-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5d66da3d71e6aeca80ca08dbebd8a1cd72e6ee1f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 16 13:54:32 2005 +1100

    [PATCH] powerpc: Make the vDSO functions set error code (#2)
    
    The vDSO functions should have the same calling convention as a syscall.
    Unfortunately, they currently don't set the cr0.so bit which is used to
    indicate an error. This patch makes them clear this bit unconditionally
    since all functions currently succeed. The syscall fallback done by some
    of them will eventually override this if the syscall fails.
    
    This also changes the symbol version of all vdso exports to make sure
    glibc can differenciate between old and fixed calls for existing ones
    like __kernel_gettimeofday.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d3ed65832029dcaf5fe086670a2f2c25600b51e9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Wed Nov 16 13:40:43 2005 +1100

    [PATCH] ppc: Fix build with CONFIG_CHRP not set
    
    Building ARCH=ppc for multiplatforms with CONFIG_CHRP not set fails
    due to some unshielded code in xmon
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 94b212c29f685ca54b5689a8e89ac7671c43d651
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 16 13:38:21 2005 +1100

    powerpc: Move ppc64 boot wrapper code over to arch/powerpc
    
    This also extends the code to handle 32-bit ELF vmlinux files as well
    as 64-bit ones.  This is sufficient for booting on new-world 32-bit
    powermacs (i.e. all recent machines).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7486a38f683d49e6f8b2b9050ff06778b151a40c
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Tue Nov 15 11:03:24 2005 -0600

    [PATCH] powerpc: replace page_to_virt() with lowmem_page_address() for Book-E
    
    page_to_virt and lowmem_page_address provided equiavlent functionality
    so use the more standard lowmem_page_address
    
    This also addresses build issue in ARCH=powerpc since page_to_virt()
    has been removed from include/asm-powerpc/page.h
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 950fc0025f8566d1c44da04fed216513f83268af
Author: Olof Johansson <olof@lixom.net>
Date:   Tue Nov 15 09:05:14 2005 -0800

    [PATCH] powerpc: add new powerbooks to feature table
    
    Hi,
    
    The previous PowerBook patch didn't contain the feature table updates
    for ARCH=powerpc. Here they are.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit de93f0d62ccaa730fd46de14d46c0317bd82596a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Nov 15 18:21:45 2005 +1100

    [PATCH] ppc: Fix boot with yaboot with ARCH=ppc
    
    The merge of machine types broke boot with yaboot & ARCH=ppc due to the
    old code still retreiving the old-syle machine type passed in by yaboot.
    This patch fixes it by translating those old numbers. Since that whole
    mecanism is deprecated, this is a temporary fix until ARCH=ppc uses the
    new prom_init that the merged architecture now uses for both ppc32 and
    ppc64 (after 2.6.15)
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c0ce5c5228dd17d4e3dd1d15b8d52714262cab70
Author: Guido Guenther <agx@sigxcpu.org>
Date:   Tue Nov 15 17:28:05 2005 +1100

    [PATCH] PowerBook 6,1: headphone not detected after suspend
    
    ever since suspend to disk works I had the problem that headphone
    (un)plugging doesn't get detected properly anymore after the first
    resume.
    Reloading the module worked around this ever since, however the real
    cause of the problem was that after a resume the driver only got
    interrupts on "unplug" not on "plug". Reactivating the headphone status
    interrupt in tumbler_resume fixes this. This shouldn't cause
    any trouble with software suspend, but it would be nice if somebody
    could confirm this:
    
    Signed-off-by: Guido Guenther <agx@sigxcpu.org>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b5166cc252190be80465f3b4f050e4a0310f71af
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Nov 15 16:05:33 2005 +1100

    [PATCH] powerpc: pci_64 fixes & cleanups
    
    I discovered that in some cases (PowerMac for example) we wouldn't
    properly map the PCI IO space on recent kernels. In addition, the code
    for initializing PCI host bridges was scattered all over the place with
    some duplication between platforms.
    
    This patch fixes the problem and does a small cleanup by creating a
    pcibios_alloc_controller() in pci_64.c that is similar to the one in
    pci_32.c (just takes an additional device node argument) that takes care
    of all the grunt allocation and initialisation work. It should work for
    both boot time and dynamically allocated PHBs.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f9e4ec57c66586d0c165ed9373efaf9e329d5766
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Nov 15 15:16:38 2005 +1100

    [PATCH] powerpc: More debugging fixups
    
    Add a few more missing includes of udbg.h
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eb481899aa319cf5cbeccfd9deac907300698b57
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Tue Nov 15 14:49:22 2005 +1100

    [PATCH] powerpc: Fixup debugging in lmb.c
    
    Somewhere we lost the include of udbg.h in lmb.c. While we're there, add a DBG
    macro like every other file has and use it in lmb_dump_all().
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5444a5e9e872f599ec12534bd1bf9bc79a1c72ca
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Nov 15 14:40:25 2005 +1100

    [PATCH] powerpc: update defconfigs
    
    My patch moving ppc64 RTC to genrtc was supposed to update all
    defconfigs, but for some reason, the patch actually posted only had the
    pseries one... ouch. This patch properly updates all defconfigs.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eb07d964b4491d1bb5864cd3d7e7633ccdda9a53
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Nov 14 05:38:31 2005 -0200

    [PATCH] ppc32 8xx: update_mmu_cache() needs unconditional tlbie
    
    Currently 8xx fails to boot due to endless pagefaults.
    
    Seems the bug is exposed by the change which avoids flushing the
    TLB when not necessary (in case the pte has not changed), introduced
    recently:
    
    __handle_mm_fault():
    
            entry = pte_mkyoung(entry);
            if (!pte_same(old_entry, entry)) {
                    ptep_set_access_flags(vma, address, pte, entry, write_access);
                    update_mmu_cache(vma, address, entry);
                    lazy_mmu_prot_update(entry);
            } else {
                    /*
                     * This is needed only for protection faults but the arch code
                     * is not yet telling us if this is a protection fault or not.
                     * This still avoids useless tlb flushes for .text page faults
                     * with threads.
                     */
                    if (write_access)
                            flush_tlb_page(vma, address);
            }
    
    The "update_mmu_cache()" call was unconditional before, which caused the TLB
    to be flushed by:
    
            if (pfn_valid(pfn)) {
                    struct page *page = pfn_to_page(pfn);
                    if (!PageReserved(page)
                        && !test_bit(PG_arch_1, &page->flags)) {
                            if (vma->vm_mm == current->active_mm) {
    #ifdef CONFIG_8xx
                            /* On 8xx, cache control instructions (particularly
                             * "dcbst" from flush_dcache_icache) fault as write
                             * operation if there is an unpopulated TLB entry
                             * for the address in question. To workaround that,
                             * we invalidate the TLB here, thus avoiding dcbst
                             * misbehaviour.
                             */
                                    _tlbie(address);
    #endif
                                    __flush_dcache_icache((void *) address);
                            } else
                                    flush_dcache_icache_page(page);
                            set_bit(PG_arch_1, &page->flags);
                    }
    
    Which worked to due to pure luck: PG_arch_1 was always unset before, but
    now it isnt.
    
    The root of the problem are the changes against the 8xx TLB handlers introduced
    during v2.6. What happens is the TLBMiss handlers load the zeroed pte into
    the TLB, causing the TLBError handler to be invoked (thats two TLB faults per
    pagefault), which then jumps to the generic MM code to setup the pte.
    
    The bug is that the zeroed TLB is not invalidated (the same reason
    for the "dcbst" misbehaviour), resulting in infinite TLBError faults.
    
    The "two exception" approach requires a TLB flush (to nuke the zeroed TLB)
    at each PTE update for correct behaviour:
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f6ff56cd56b83d8edf4b3cffc5c53c56b37a5081
Merge: fb6d73d... 5a6f294...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 15 16:59:38 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit fb6d73d3014babb69f5cc2d1d78b31e9d09fc5df
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 16 11:43:26 2005 +1100

    [PATCH] powerpc: Fix sparsemem with memory holes [was Re: ppc64 oops..]
    
    This patch should fix the crashes we have been seeing on 64-bit
    powerpc systems with a memory hole when sparsemem is enabled.
    I'd appreciate it if people who know more about NUMA and sparsemem
    than me could look over it.
    
    There were two bugs.  The first was that if NUMA was enabled but there
    was no NUMA information for the machine, the setup_nonnuma() function
    was adding a single region, assuming memory was contiguous.  The
    second was that the loops in mem_init() and show_mem() assumed that
    all pages within the span of a pgdat were valid (had a valid struct
    page).
    
    I also fixed the incorrect setting of num_physpages that Mike Kravetz
    pointed out.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c12489ad40a9db6b17225e0f38151d41c6175fe8
Merge: ff7feac... 1e185b9...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 15 16:49:04 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 5a6f294e43e432bd207a702fea49ebb303ef9b23
Author: KOVACS Krisztian <hidden@balabit.hu>
Date:   Tue Nov 15 16:47:34 2005 -0800

    [NETFILTER] Free layer-3 specific protocol tables at cleanup
    
    Although the comment around the allocation code tells us that
    the layer-3 specific protocol tables will be freed when cleaning up,
    they aren't. And this makes nfsim complain loudly...
    
    Signed-off-by: KOVACS Krisztian <hidden@balabit.hu>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 96479376c89e5be92c85bd350e3e2e8f0e7e3b52
Author: KOVACS Krisztian <hidden@balabit.hu>
Date:   Tue Nov 15 16:47:09 2005 -0800

    [NETFILTER] Remove nf_conntrack stat proc file when cleaning up
    
    Fix nf_conntrack statistics proc file removal. Looks like the old bug
    was forward-ported from ip_conntrack. :-]
    
    Signed-off-by: KOVACS Krisztian <hidden@balabit.hu>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ff7feac9638e162263463edaeb342b4f3b1ce90e
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 15 16:45:16 2005 -0800

    [CIFS] Fix endian errors (setfacl/getfacl failures) in handling ACLs
    (and a ppc64 compiler warning)
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d6e2f2a4c892e4d131ab4fa5d212546c47dd3c40
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 15 16:43:39 2005 -0800

    [CIFS] Recognize properly symlinks and char/blk devices (not just FIFOs)
    created by SFU (part 1 of 2).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1e185b97b4364063f1135604b87f8d8469944233
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Tue Nov 15 14:37:05 2005 -0800

    [PATCH] ia64: cpu_idle performance bug fix
    
    Our performance validation on 2.6.15-rc1 caught a disastrous performance
    regression on ia64 with netperf (-98%) and volanomark (-58%) compares to
    previous kernel version 2.6.14-git7.  See the following chart (result
    group 1 & 2).
    
      http://kernel-perf.sourceforge.net/results.machine_id=26.html
    
    We have root caused it to commit 64c7c8f88559624abdbe12b5da6502e8879f8d28
    
    This changeset broke the ia64 task resched notification.  In
    sched.c:resched_task(), a reschedule IPI is conditioned upon
    TIF_POLLING_NRFLAG.  However, the above changeset unconditionally set
    the polling thread flag for idle tasks regardless whether pal_halt_light
    is in use or not.  As a result, resched IPI is not sent from
    resched_task().  And since the default behavior on ia64 is to use
    pal_halt_light, we end up delaying the rescheduling task until next
    timer tick, and thus cause the performance regression.
    
    This fixes the performance bug.  I'm glad our performance suite is
    turning up bad performance bug like this in time.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31f3426904e066f17e3f88c468a2f7c869ad4aac
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 15 15:17:10 2005 -0800

    [TCP]: More spelling fixes.
    
    From Joe Perches
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 47227d50c4ba7d2308b30c19b14e6edf133d5aa8
Merge: 7ae8c5e... 7272438...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 15 12:46:57 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 7ae8c5ec122e4e909193dbbdb2ad2de349e307c9
Merge: e1f1def... 9f68a24...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 15 12:45:33 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 72724382d3c9caab1d85e54080d338b854f10dd3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 15 19:04:22 2005 +0000

    [ARM] Initialise SA1111 core before SA1111 PCMCIA
    
    This avoids a BUG_ON with kref.c when SA1111 tries to register
    a driver with an unregistered bus type.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9f68a24853dd37d18f2cfa979cf4e131f5a10e8f
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Nov 15 14:03:47 2005 -0500

    [libata ahci] command completion fixes, improved debug msgs
    
    - Fix a regression in command completion, which prevented
      the restart of the DMA engine after the device throws
      an error.
    - Pack more hardware info into the port-reset error message.
    - Promote "welcome to our timeout" message from debug msg
      to normal printk.

commit e1f1def6ef3f0c71d0df302c3759f6937adaf9ae
Author: Dave Jones <davej@redhat.com>
Date:   Tue Nov 15 00:09:24 2005 -0800

    [PATCH] oops-tracing: mention extended VGA
    
    Something I've found handy countless times when users do this..
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Acked-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d193f4f112b9d8855ba1339fa784ee95f25b9c7
Author: Ben Collins <bcollins@debian.org>
Date:   Tue Nov 15 00:09:21 2005 -0800

    [PATCH] Update location of ll_rw_blk.c in docs
    
    Picked from the ubuntu-2.6 tree
    
    The change in location for ll_rw_blk.c from drivers/block/ to block/ caused
    failure to generate documentation.
    
    Signed-off-by: Ben Collins <bcollins@ubuntu.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 400bb2369df481abae5aa801e63e70008e15fba5
Author: Grant Coady <gcoady@gmail.com>
Date:   Tue Nov 15 00:09:20 2005 -0800

    [PATCH] cciss_scsi warning fix
    
    drivers/block/cciss_scsi.c:264: warning: `print_bytes' defined but not used
    drivers/block/cciss_scsi.c:298: warning: `print_cmd' defined but not used
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Acked-by: Mike Miller <mike.miller@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c53508980a95b84c296c4336a831776cc22cf58
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 15 00:09:18 2005 -0800

    [PATCH] v850: use generic hardirq code
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Miles Bader <miles@gnu.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4eeb0a20f017fd8bc849cc50469c2e2e6a0c05c
Author: Miles Bader <miles@gnu.org>
Date:   Tue Nov 15 00:09:17 2005 -0800

    [PATCH] v850: Add missing include in hardirq.h
    
    Signed-off-by: Miles Bader <miles@gnu.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 228322f13fe20bd29e81fca8341cc1fc7ffc5929
Author: Miles Bader <miles@gnu.org>
Date:   Tue Nov 15 00:09:16 2005 -0800

    [PATCH] v850: Fix show_interrupts
    
    A variable was being used in multiple conflicting ways.  I also restructured
    the code a bit for clarity.
    
    Signed-off-by: Miles Bader <miles@gnu.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09071e35f9f0b308c37c9853766de573591589ea
Author: Toni Mueller <support@oeko.net>
Date:   Tue Nov 15 00:09:14 2005 -0800

    [PATCH] sdladrv.c build fix
    
    gcc4 doesn't allow typecasted lvals.
    
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6a1a64aec2b2e2e13b629ed72afd319d8bce5da
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 15 00:09:13 2005 -0800

    [PATCH] hfc_usb: fix usb device table
    
    We need to use the USB_DEVICE macro here, else the modinfo aliases go all wrong.
    
    Also, correctly terminate the table, as noted by Dave Jones <davej@redhat.com>
    
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Acked-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93588e2284b6be1873cc0bb7fbf0947bdbf72830
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 15 00:09:12 2005 -0800

    [PATCH] md: make md threads interruptible again
    
    Despite the fact that md threads don't need to be signalled, and won't
    respond to signals anyway, we need to have an 'interruptible' wait, else
    they stay in 'D' state and add to the load average.
    
    (akpm: the signal_pending() test is unneeded - we'll fix that up in the next
    round.  For now, leave it there because that's how the code used to be).
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8a0033451f7972169b2f375be34d9d805ad8687
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 15 00:09:11 2005 -0800

    [PATCH] md: mark START_ARRAY deprecated with a date
    
    This was marked deprecated "after 2.6" back in the 2.5 days.  But now it
    seems there isn't going to be any "after 2.6", and we deprecate by date
    now.  So set a date.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1887b93529410633b5529a7c2d304897dbed5b3e
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Tue Nov 15 00:09:10 2005 -0800

    [PATCH] knfsd: make sure nfsd doesn't hog a cpu forever
    
    Being kernel-threads, nfsd servers don't get pre-empted (depending on
    CONFIG).  If there is a steady stream of NFS requests that can be served
    from cache, an nfsd thread may hold on to a cpu indefinitely, which isn't
    very friendly.
    
    So it is good to have a cond_resched in there (just before looking for a
    new request to serve), to make sure we play nice.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fa63b229829e73361900183bc1ae21b71b6c2dae
Author: Ben Collins <bcollins@ubuntu.com>
Date:   Tue Nov 15 00:09:09 2005 -0800

    [PATCH] Add missing EXPORT_SYMBOLS() for __ide_mm_* functions on powerpc
    
    These exported symbols are in arch/ppc/ but missing from arch/powerpc/ for
    ppc32 builds.
    
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3225e1d3d1ebc3fcb74fbbb166520f35c35a22f4
Author: Corey Minyard <minyard@acm.org>
Date:   Tue Nov 15 00:09:07 2005 -0800

    [PATCH] ipmi: bump-driver-version
    
    Lots of good changes to the driver lately that userspace will care about
    the version of the driver.  Bump the version from 36.0 to 38.0 to be higher
    than 37 that the 2.4 driver came out with a few weeks ago which doesn't
    have all the same changes.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4ed803c564701eae9534ab26a86ddb06acaf49c
Author: Harald Welte <laforge@gnumonks.org>
Date:   Tue Nov 15 00:09:06 2005 -0800

    [PATCH] Make sysctl.h (again) usable from userspace
    
    Make sysctl.h (again) useable from userspace
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19842d67340e4a8f616552d344e97fc7452aa37a
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Tue Nov 15 00:09:04 2005 -0800

    [PATCH] drop "[PATCH] i386 kexec-on-panic: Don't shutdown the apics"
    
    A patch by Eric was merged (f2b36db692b7ff6972320ad9839ae656a3b0ee3e)
    and later on reverted back (1e4c85f97fe26fbd70da12148b3992c0e00361fd).
    
    Along with above patch, another patch was posted and has been merged
    (3d1675b41b02d64bd1185903ea0d25a8c0bb6dea).  That patch was dependent on
    the above patch and now it should also be reverted.
    
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eceab4ac8d9dd8955e0961fd7477664c087a9017
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 15 11:31:41 2005 +0000

    [ARM] Use kernel/power/Kconfig
    
    Rather than defining our own PM option, use kernel/power/Kconfig.
    This fixes build errors introduced by
    bca73e4bf8563d83f7856164caa44d5f42e44cca
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cbc5b2bb9e226c2b2b981836d2289912e2ef3c1c
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 15 00:24:23 2005 -0800

    [IB] mthca: don't disable RDMA writes if no responder resources
    
    Responder resources are only required to handle RDMA reads and atomic
    operations, not RDMA writes.  So the driver should allow RDMA writes
    even if responder resources are set to 0.  This is especially
    important for the UC transport -- with the old code, it was impossible
    to enable RDMA writes for UC QPs.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 47f2bce9021b4974ed33b072ebb8348c8145c946
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 15 00:19:21 2005 -0800

    [IB] srp: don't post receive if no send buf available
    
    Have __srp_get_tx_iu() fail if the target port's request limit will
    not allow the initiator to post a send.  This avoids continuing on and
    posting a receive, and then failing to post a corresponding send.  If
    that happens, then the initiator will end up with an extra receive
    posted, and if this happens to much, the receive queue will overflow.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit cf225356578326308b16a0fd03ff3fa72fe3da07
Author: Jochen Friedrich <jochen@scram.de>
Date:   Mon Nov 14 21:58:18 2005 -0800

    [LLC]: Fix typo
    
    Signed-off-by: Jochen Friedrich <jochen@scram.de>
    Acked-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 451677c46feb5fb39cb7f71035b8716064fcbd57
Author: Jochen Friedrich <jochen@scram.de>
Date:   Mon Nov 14 21:57:46 2005 -0800

    [LLC]: Make core block on remote busy.
    
    Signed-off-by: Jochen Friedrich <jochen@scram.de>
    Acked-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 59c6196e59a4b85d9c994e70ff20a460cdbaa003
Author: Jochen Friedrich <jochen@scram.de>
Date:   Mon Nov 14 21:57:15 2005 -0800

    [LLC]: Fix TX window scaling
    
    Signed-off-by: Jochen Friedrich <jochen@scram.de>
    Acked-by: Arnaldo Carvalho de Melo <acme@mandriva.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cb422c464bdaeeb3b9ad4539010e357bf1bd1745
Author: Luiz Capitulino <lcapitulino@mandriva.com.br>
Date:   Mon Nov 14 21:43:36 2005 -0800

    [IPV6]: Fixes sparse warning in ipv6/ipv6_sockglue.c
    
    The patch below fixes the following sparse warning:
    
    net/ipv6/ipv6_sockglue.c:291:13: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 12da2a435c1e8b9abb780d928ccbf04fc3d860a7
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Mon Nov 14 21:42:46 2005 -0800

    [IPV6]: small fix for ipv6_dev_get_saddr(...)
    
    The "score.rule++" doesn't make any sense for me.
    According to codes above, I think it should be "hiscore.rule++;" .
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4060994c3e337b40e0f6fa8ce2cc178e021baf3d
Merge: 0174f72... d3ee871...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 14 19:56:02 2005 -0800

    Merge x86-64 update from Andi

commit d3ee871e63d0a0c70413dc0aa5534b8d6cd6ec37
Author: Bob Picco <bob.picco@hp.com>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Fix sparse mem
    
    Fix up booting with sparse mem enabled. Otherwise it would just
    cause an early PANIC at boot.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8893166ff8694f36655009aa9bf8e7f2e1c9339f
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Increase the maximum number of local APICs to the maximum
    
    This is needed for large multinode IBM systems which have a sparse
    APIC space in clustered mode, fully covering the available 8 bits.
    
    The previous kernels would limit the local APIC number to 127,
    which caused it to reject some of the CPUs at boot.
    
    I increased the maximum and shrunk the apic_version array a bit
    to make up for that (the version is only 8 bit, so don't need
    an full int to store)
    
    Cc:  Chris McDermott <lcm@us.ibm.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e43e1b7c7c9872da032442d8e4bb112a02d16f4
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Remove CONFIG_CHECKING and add command line option for pagefault tracing
    
    CONFIG_CHECKING covered some debugging code used in the early times
    of the port. But it wasn't even SMP safe for quite some time
    and the bugs it checked for seem to be gone.
    
    This patch removes all the code to verify GS at kernel entry. There
    haven't been any new bugs in this area for a long time.
    
    Previously it also covered the sysctl for the page fault tracing.
    That didn't make much sense because that code was unconditionally
    compiled in. I made that a boot option now because it is typically
    only useful at boot.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ffd10a2b77bca50dd05ba26acd5a6e68bcc8f61f
Author: Magnus Damm <magnus@valinux.co.jp>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Make node boundaries consistent
    
    The current x86_64 NUMA memory code is inconsequent when it comes to node
    memory ranges. The exact behaviour varies depending on which config option
    that is used.
    
    setup_node_bootmem() has start and end as arguments and these are used to
    calculate the size of the node like this: (end - start). This is all fine
    if end is pointing to the first non-available byte. The problem is that the
    current x86_64 code sometimes treats it as the last present byte and sometimes
    as the first non-available byte. The result is that some configurations might
    lose a page at the end of the range.
    
    This patch tries to fix CONFIG_ACPI_NUMA, CONFIG_K8_NUMA and CONFIG_NUMA_EMU
    so they all treat the end variable as the first non-available byte. This is
    the same way as the single node code.
    
    The patch is boot tested on dual x86_64 hardware with the above configurations,
    but maybe the removed code is needed as some workaround?
    
    Signed-off-by: Magnus Damm <magnus@valinux.co.jp>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e583538f077d5f70191670b47a046ba436ec3428
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Log machine checks from boot on Intel systems
    
    The logging for boot errors was turned off because it was broken
    on some AMD systems. But give Intel EM64T systems a chance because they are
    supposed to be correct there.
    
    The advantage is that there is a chance to actually log uncorrected
    machine checks after the reset.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0bd35e622ffbda2c01dc67a0381c6a18817a29a
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Make ACPI NUMA and NUMA emulation peers of K8_NUMA in Kconfig
    
    On x86_64 arches, there is no way to choose ACPI_NUMA without having to choose
    K8_NUMA.  CONFIG_K8_NUMA is not needed for Intel EM64T NUMA boxes.  It also
    looks odd if you have to select ACPI_NUMA from the power management menu.
    This patch fixes those oddities.  Patch does the following:
    
    1. Makes NUMA a config option like other arches
    2. Makes topology detection options like K8_NUMA dependent on NUMA
    3. Choosing ACPI NUMA detection can be done from the standard
       "Processor type and features" menu
    
    AK: I fixed up the dependencies and changed the help texts a bit
    on top of Kiran's patch.
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Signed-off-by: Shai Fultheim <shai@scalex86.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit efbbdce94f6ea54cf06d9a06e4c95f6874ad64a8
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Use common sys_time64
    
    Keeping this function does not makes sense because it's a copied (and
    buggy) copy of sys_time.  The only difference is that now.tv_sec (which is
    a time_t, i.e.  a 64-bit long) is copied (and truncated) into a int
    (32-bit).
    
    The prototype is the same (they both take a long __user *), so let's drop
    this and redirect it to sys_time (and make sure it exists by defining
    __ARCH_WANT_SYS_TIME).
    
    Only disadvantage is that the sys_stime definition is also compiled (may be
    fixed if needed by adding a separate __ARCH_WANT_SYS_STIME macro, and
    defining it for all arch's defining __ARCH_WANT_SYS_TIME except x86_64).
    
    Acked-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf0f2e23834e2bf7d64b467ef07095b1c7e2c04b
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Set ____cacheline_maxaligned_in_smp alignment to 128 bytes
    
    The current value was correct before the introduction of Intel EM64T support -
    but now L1_CACHE_SHIFT_MAX can be less than L1_CACHE_SHIFT, which _is_ funny!
    
    Between the few users of ____cacheline_maxaligned_in_smp, we also have (for
    example) rcu_ctrlblk, and struct zone, with zone->{lru_,}lock.  I.e.  we have
    a lot of excess cacheline bouncing on them.
    
    No correctness issues, obviously.  So this could even be merged for 2.6.14
    (I'm not a fan of this idea, though).
    
    CC: Andi Kleen <ak@suse.de>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e0d4f4e9132ae6e353f9cf27261627bcc7c65cc
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Remove asm-x86_64/rwsem.h
    
    Not needed since x86-64 always uses the spinlock based rwsems.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5b250a428aabc619ace872f8220a7d0b8f7d557
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Remove optimization for B stepping AMD K8
    
    B stepping were the first shipping Opterons. memcpy/memset/copy_page/
    clear_page had special optimized version for them. These are really
    old and in the minority now and the difference to the generic versions
    (using rep microcode) is not that big anyways. So just remove them.
    
    TODO: figure out optimized versions for Intel Netburst based EM64T
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6f5deb2be4c82f24fefadcbf7e448f540c05ae6
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Reduce number of retries for reset through keyboard controller
    
    Old code could retry for 10 seconds worst time. Only try it
    for one second now.
    
    Suggested by Yinghai Lu
    
    Cc: Yinghai.Lu@amd.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b0918758dd68d6b8d01318a5200b65b9209760d
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: x86_64/i386 fix Intel cache detection code assumption about threads sharing
    
    Fix the Intel cache detection code assumption that number of threads
    sharing the cache will either be equal to number of HT or core siblings.
    
    This also cleans up the code in general a bit.
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 94605eff572b727aaad9b4b29bc358b919096503
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86-64/i386: Intel HT, Multi core detection fixes
    
    Fields obtained through cpuid vector 0x1(ebx[16:23]) and
    vector 0x4(eax[14:25], eax[26:31]) indicate the maximum values and might not
    always be the same as what is available and what OS sees.  So make sure
    "siblings" and "cpu cores" values in /proc/cpuinfo reflect the values as seen
    by OS instead of what cpuid instruction says. This will also fix the buggy BIOS
    cases (for example where cpuid on a single core cpu says there are "2" siblings,
    even when HT is disabled in the BIOS.
    http://bugzilla.kernel.org/show_bug.cgi?id=4359)
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e90f22edf432512219cc2952f5811961abbd164f
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Fix NUMA node lookup debug code which had bitrotted
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3506229ff9968e5dbc862a50285fbea0e8821b58
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Don't enable interrupt unconditionally in reboot path
    
    When they were disabled before (e.g. after a panic) it's better
    to keep them off, otherwise followon panics can happen from timer
    interrupt handlers etc.
    
    Drawback is that pageup in the console won't work anymore though.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a88cde13bae3fffd6ecc812bdd02c91eafb6073e
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Formatting fixes for arch/x86_64/kernel/process.c
    
    No functional changes.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea0be473a1f0ee89024a24d8ea4b05fbf6efcee3
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Allow modular build of ia32 aout loader
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af9c142de94ecf724a18700273bbba390873e072
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Force correct address space size for MTRR on some 64bit Intel Xeons
    
    They report 40bit, but only have 36bits of physical address space.
    This caused problems with setting up the correct masks for MTRR.
    
    CPUID workaround for steppings 0F33h(supporting x86) and 0F34h(supporting x86
    and EM64T). Detail info can be found at:
    http://download.intel.com/design/Xeon/specupdt/30240216.pdf
    http://download.intel.com/design/Pentium4/specupdt/30235221.pdf
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1d2e6bd86152ab86fb866555281869df340e6c6a
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] AGP: Make gart iterator in K8 AGP driver SMP safe
    
    Ugh!
    
    Cc: davej@redhat.com
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 172efbb40333d0ca10ebaab11a98f9be687bee39
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] AGP: Try unsupported AGP chipsets on x86-64 by default
    
    So far all new ones have worked and there isn't much variation because
    the CPU does all the interesting bits.
    
    So enable try unsupported by default.
    
    Can be still disabled with try_unsupported=0 (module) or
    amd64.try_unsupported=0   (boot option)
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 870b7681cd3f867c1ffc8d7fbe9b22216e73a536
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] AGP: Support ULI/ALI 1689 bridge on AMD64
    
    (no name because I'm not sure of the correct name)
    
    Cc: davej@redhat.com
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 529a340402e419f935d411ce0a085e96fcaf3872
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Optimize NUMA node hash function
    
    Compute the highest possible value for memnode_shift, in order to reduce
    footprint of memnodemap[] to the minimum, thus making all users
    (phys_to_nid(), kfree()), more cache friendly.
    
    Before the patch :
    
     Node 0 MemBase 0000000000000000 Limit 00000001ffffffff
     Node 1 MemBase 0000000200000000 Limit 00000003ffffffff
     Using 23 for the hash shift. Max adder is 3ffffffff
    
    After the patch :
    
     Node 0 MemBase 0000000000000000 Limit 00000001ffffffff
     Node 1 MemBase 0000000200000000 Limit 00000003ffffffff
     Using 33 for the hash shift.
    
    In this case, only 2 bytes of memnodemap[] are used, instead of 2048
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4e5d324b9c5586f408a72d1534474c449dd5212
Author: Bryan Ford <baford@mit.edu>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Save/restore CS in 64bit signal handlers and force __USER_CS for CS
    
    This allows to run 64bit signal handlers in 64bit processes that run small
    code snippets in compat mode.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 420f8f68c9c5148dddf946bebdbc7eacde2172cb
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: New heuristics to find out hotpluggable CPUs.
    
    With a NR_CPUS==128 kernel with CPU hotplug enabled we would waste 4MB
    on per CPU data of all possible CPUs.  The reason was that HOTPLUG
    always set up possible map to NR_CPUS cpus and then we need to allocate
    that much (each per CPU data is roughly ~32k now)
    
    The underlying problem is that ACPI didn't tell us how many hotplug CPUs
    the platform supports.  So the old code just assumed all, which would
    lead to this memory wastage.
    
    This implements some new heuristics:
    
     - If the BIOS specified disabled CPUs in the ACPI/mptables assume they
       can be enabled later (this is bending the ACPI specification a bit,
       but seems like a obvious extension)
     - The user can overwrite it with a new additionals_cpus=NUM option
     - Otherwise use half of the available CPUs or 2, whatever is more.
    
    Cc: ashok.raj@intel.com
    Cc: len.brown@intel.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 485832a5d928facd82f1525270d9f048da2063a1
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Use int operations in spinlocks to support more than 128 CPUs spinning.
    
    Pointed out by Eric Dumazet
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8315eca25583c369e28f48909d3341dc21d6214d
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:54 2005 +0100

    [PATCH] x86_64: Some clarifications for Documention/x86_64/mm.txt
    
    I got some questions on this, so just fix up the documentation.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 59170891049cc469777a392e0b3f5aa7aad784a6
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Replace swiotlb extern with include
    
    Minor victory on the continuous quest against all stray extern.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d74dbd79a571b31f7cd2c69bb5e44368972bf93
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Replace cpu_pda extern with include
    
    Minor cleanup - remove obsolete extern
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2bc0414ee04fd8bb798760801f5d7476dff44241
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Only use asm/sections.h to declare section symbols
    
    Adding __initdata_* to asm-generic/sections.h
    Replaces a lot of open coded externs in arch/x86_64/*
    I had to change __bss_end to __bss_stop to match the other architectures.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b75aeedde1e8a8513393d3c1367bf81bc5b0c67
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Don't apply __PHYSICAL_MASK to page frame numbers
    
    It is for physical addresses, not for PFNs.
    
    Pointed out by Tejun Heo.
    
    Cc: htejun@gmail.com
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6c2e3330d3fdd5474bc3756da46fca889a30e33
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Unmap NULL during early bootup
    
    We should zap the low mappings, as soon as possible, so that we can catch
    kernel bugs more effectively. Previously early boot had NULL mapped
    and didn't trap on NULL references.
    
    This patch introduces boot_level4_pgt, which will always have low identity
    addresses mapped.  Druing boot, all the processors will use this as their
    level4 pgt.  On BP, we will switch to init_level4_pgt as soon as we enter C
    code and zap the low mappings as soon as we are done with the usage of
    identity low mapped addresses.  On AP's we will zap the low mappings as
    soon as we jump to C code.
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69d81fcde7797342417591ba7affb372b9c86eae
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Speed up numa_node_id by putting it directly into the PDA
    
    Not go from the CPU number to an mapping array.
    Mode number is often used now in fast paths.
    
    This also adds a generic numa_node_id to all the topology includes
    
    Suggested by Eric Dumazet
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50895c5d76e15d8af480eff1aaab5770cabbc2c2
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Fix gcc 4 warning in aperture.c
    
    Fix
    
      arch/x86_64/kernel/aperture.c: In function #iommu_hole_init#:
      arch/x86_64/kernel/aperture.c:199: warning: #aper_order# may be used uninitialized in this function
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5f786d0455c359c554b8f74783f887c0a2c9fac
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86-64/i386: Fix CPU model for family 6
    
    According to cpuid instruction in IA32 SDM-Vol2, when computing cpu model,
    we need to consider extended model ID for family 0x6 also.
    
    AK: Also added fixes/simplifcation from Petr Vandrovec
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e9b59d834faf0305cb6214a358f65f72c57b9e99
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Remove duplicate __cpuinit define
    
    Remove duplicate __cpuinit in smp.c. Already defined in init.h which is
    already included.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47492d3667ec519172ab978bd8231b8c7152fa9d
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Use the DMA32 zone for dma_alloc_coherent()/pci_alloc_consistent
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07808b74e7dab1aa385e698795875337d72daf7d
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Remove obsolete ARCH_HAS_ATOMIC_UNSIGNED and page_flags_t
    
    Has been introduced for x86-64 at some point to save memory
    in struct page, but has been obsolete for some time. Just
    remove it.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1dff7f3db5f045ccbfeca5bb00b0958a78501557
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Fix up outdated pfn_to_page comment
    
    pfn_to_page really requires pfn_valid to be true now, no question.
    Some people stumbled over it, but it was misleading and wrong.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6004e1b7effcbb385a6b7c790e4b8008682cf679
Author: James Cleverdon <jamesclv@us.ibm.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] i386/x86-64: Share interrupt vectors when there is a large number of interrupt sources
    
    Here's a patch that builds on Natalie Protasevich's IRQ compression
    patch and tries to work for MPS boots as well as ACPI.  It is meant for
    a 4-node IBM x460 NUMA box, which was dying because it had interrupt
    pins with GSI numbers > NR_IRQS and thus overflowed irq_desc.
    
    The problem is that this system has 270 GSIs (which are 1:1 mapped with
    I/O APIC RTEs) and an 8-node box would have 540.  This is much bigger
    than NR_IRQS (224 for both i386 and x86_64).  Also, there aren't enough
    vectors to go around.  There are about 190 usable vectors, not counting
    the reserved ones and the unused vectors at 0x20 to 0x2F.  So, my patch
    attempts to compress the GSI range and share vectors by sharing IRQs.
    
    Cc: "Protasevich, Natalie" <Natalie.Protasevich@unisys.com>
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89b831ef8bf5cfbb357dbc0a2e07700d7f20eec5
Author: Jacob Shin <jacob.shin@amd.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Support for AMD specific MCE Threshold.
    
    MC4_MISC - DRAM Errors Threshold Register realized under AMD K8 Rev F.
    This register is used to count correctable and uncorrectable ECC errors that occur during DRAM read operations.
    The user may interface through sysfs files in order to change the threshold configuration.
    
    bank%d/error_count - reads current error count, write to clear.
    bank%d/interrupt_enable - set/clear interrupt enable.
    bank%d/threshold_limit - read/write the threshold limit.
    
    APIC vector 0xF9 in hw_irq.h.
    5 software defined bank ids in mce.h.
    new apic.c function to setup threshold apic lvt.
    defaults to interrupt off, count enabled, and threshold limit max.
    sysfs interface created on /sys/devices/system/threshold.
    
    AK: added some ifdefs to make it compile on UP
    
    Signed-off-by: Jacob Shin <jacob.shin@amd.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 979edfadbae2286eec5b46143c00e81bca96498e
Author: Jan Beulich <jbeulich@novell.com>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Adjust, correct, and complete the HPET definitions for x86-64.
    
    Signed-off-by: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e18c6874a505958d153a11f9d6947971c349008a
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Account mem_map in VM holes accounting
    
    The VM needs to know about lost memory in zones to accurately
    balance dirty pages. This patch accounts mem_map in there too,
    which fixes a constant errror of a few percent. Also some
    other misc mappings and the kernel text itself are accounted
    too.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0d41693217b3bb5b837940dc7465e82a9d49476
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: When cpu_up fails clean up page allocator properly
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fed644132f8ec4bf05b63f79c507c0acaa692c37
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Make i386 compile again with fourth DMA32 zone
    
    The code should deal with an additional empty zone, so fix up the
    #error.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d1e3dfdc2c934a279bcfa19359e4daec02bda18f
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Set compatibility flag for 4GB zone on IA64
    
    IA64 traditionally had a 4GB DMA32 zone. Set the compatibility flag
    to keep old drivers working.
    
    For new drivers it would be better to use ZONE_DMA32 now.
    
    Cc: tony.luck@intel.com
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a2f1b424900715ed9d1699c3bb88a434a2b42bc0
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Add 4GB DMA32 zone
    
    Add a new 4GB GFP_DMA32 zone between the GFP_DMA and GFP_NORMAL zones.
    
    As a bit of historical background: when the x86-64 port
    was originally designed we had some discussion if we should
    use a 16MB DMA zone like i386 or a 4GB DMA zone like IA64 or
    both. Both was ruled out at this point because it was in early
    2.4 when VM is still quite shakey and had bad troubles even
    dealing with one DMA zone.  We settled on the 16MB DMA zone mainly
    because we worried about older soundcards and the floppy.
    
    But this has always caused problems since then because
    device drivers had trouble getting enough DMA able memory. These days
    the VM works much better and the wide use of NUMA has proven
    it can deal with many zones successfully.
    
    So this patch adds both zones.
    
    This helps drivers who need a lot of memory below 4GB because
    their hardware is not accessing more (graphic drivers - proprietary
    and free ones, video frame buffer drivers, sound drivers etc.).
    Previously they could only use IOMMU+16MB GFP_DMA, which
    was not enough memory.
    
    Another common problem is that hardware who has full memory
    addressing for >4GB misses it for some control structures in memory
    (like transmit rings or other metadata).  They tended to allocate memory
    in the 16MB GFP_DMA or the IOMMU/swiotlb then using pci_alloc_consistent,
    but that can tie up a lot of precious 16MB GFPDMA/IOMMU/swiotlb memory
    (even on AMD systems the IOMMU tends to be quite small) especially if you have
    many devices.  With the new zone pci_alloc_consistent can just put
    this stuff into memory below 4GB which works better.
    
    One argument was still if the zone should be 4GB or 2GB. The main
    motivation for 2GB would be an unnamed not so unpopular hardware
    raid controller (mostly found in older machines from a particular four letter
    company) who has a strange 2GB restriction in firmware. But
    that one works ok with swiotlb/IOMMU anyways, so it doesn't really
    need GFP_DMA32. I chose 4GB to be compatible with IA64 and because
    it seems to be the most common restriction.
    
    The new zone is so far added only for x86-64.
    
    For other architectures who don't set up this
    new zone nothing changes. Architectures can set a compatibility
    define in Kconfig CONFIG_DMA_IS_DMA32 that will define GFP_DMA32
    as GFP_DMA. Otherwise it's a nop because on 32bit architectures
    it's normally not needed because GFP_NORMAL (=0) is DMA able
    enough.
    
    One problem is still that GFP_DMA means different things on different
    architectures. e.g. some drivers used to have #ifdef ia64  use GFP_DMA
    (trusting it to be 4GB) #elif __x86_64__ (use other hacks like
    the swiotlb because 16MB is not enough) ... . This was quite
    ugly and is now obsolete.
    
    These should be now converted to use GFP_DMA32 unconditionally. I haven't done
    this yet. Or best only use pci_alloc_consistent/dma_alloc_coherent
    which will use GFP_DMA32 transparently.
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 56720367cd89ef5265f39da2d674c5b92cd4cd87
Author: Andi Kleen <ak@suse.de>
Date:   Sat Nov 5 17:25:53 2005 +0100

    [PATCH] x86_64: Update defconfig
    
    Rerun and enable autofs 4, relayfs and softdog
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0174f72f848dfe7dc7488799776303c81b181b16
Merge: 302fe17... ba76cd5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 14 17:56:00 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit ba76cd575ffd461d83507c23cf53c78d56d1ea0a
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 21:56:57 2005 +1100

    powerpc: Remove __init from a function used in suspend/resume.
    
    Suspend/resume on powermacs uses the pmac_get_boot_time function,
    so it can't be marked as __init.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a272e24cc8751d125f9582befed0213a2a2b270f
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 21:55:48 2005 +1100

    powerpc: Remove an extraneous and incorrect declaration of pmac_nvram_init.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cc657f53928997c65bf2409c45166c6ceee8d306
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 21:55:15 2005 +1100

    powerpc: Fix clearing of the FPSCR when invoking a signal handler
    
    As pointed out by Gary Byers, we were clearing the image of the FPSCR
    (floating point status and control register) in the thread_struct before
    copying it to the user stack when invoking a signal.  Thus the task
    would see its FPSCR getting cleared when it took a signal.
    
    While fixing it I noticed that our swapcontext system call was also
    clearing FPSCR.  It shouldn't, so I fixed that too.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 302fe1758d85ad9c868e77625f61b7edad106381
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Nov 14 15:28:45 2005 -0800

    [NETFILTER] fix leak of fragment queue at unloading nf_conntrack_ipv6
    
    This patch makes nf_conntrack_ipv6 free all IPv6 fragment queues at module
    unloading time.  Also introduce a BUG_ON if we ever again have leaks in
    the memory accounting.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1ba430bc3e243d38c0bb2b185bea664b04fc59df
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Nov 14 15:28:18 2005 -0800

    [NETFILTER] nf_conntrack: fix possibility of infinite loop while evicting nf_ct_frag6_queue
    
    This synchronizes nf_ct_reasm with ipv6 reassembly, and fixes a possibility
    of an infinite loop if CPUs evict and create nf_ct_frag6_queue in parallel.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7686a02c0ebc11e4f881fe14db3df18569b7dbc1
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Nov 14 15:27:43 2005 -0800

    [NETFILTER]: fix type of sysctl variables in nf_conntrack_ipv6
    
    These variables should be unsigned.  This fixes sysctl handler for
    nf_ct_frag6_{low,high}_thresh.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9bdf87d90bbd1a3e3183ac116a6a9d861f32baca
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Mon Nov 14 15:26:58 2005 -0800

    [NETFILTER]: cleanup IPv6 Netfilter Kconfig
    
    This removes linux 2.4 configs in comments as TODO lists.
    And this also move the entry of nf_conntrack to top like IPv4 Netfilter
    Kconfig.
    
    Based on original patch by Krzysztof Piotr Oledzki <ole@ans.pl>.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 47d4305bf2275f82a51fa025257c2c1996356d6b
Author: Krzysztof Oledzki <olenf@ans.pl>
Date:   Mon Nov 14 15:25:59 2005 -0800

    [NETFILTER]: link 'netfilter' before ipv4
    
    Staticaly linked nf_conntrack_ipv4 requires nf_conntrack. but currently
    nf_conntrack is linked after it. This changes the order of ipv4 and netfilter
    to fix this.
    
    Signed-off-by: Krzysztof Oledzki <olenf@ans.pl>
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 37d2e7a20d745035b600f1a6be56cbb9c7259419
Author: Harald Welte <laforge@netfilter.org>
Date:   Mon Nov 14 15:24:59 2005 -0800

    [NETFILTER] nfnetlink: unconditionally require CAP_NET_ADMIN
    
    This patch unconditionally requires CAP_NET_ADMIN for all nfnetlink
    messages.  It also removes the per-message cap_required field, since all
    existing subsystems use CAP_NET_ADMIN for all their messages anyway.
    
    Patrick McHardy owes me a beer if we ever need to re-introduce this.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 3746a2b1402e7933c7f1eabdce384b8454dc2ef7
Author: KOVACS Krisztian <hidden@balabit.hu>
Date:   Mon Nov 14 15:23:01 2005 -0800

    [NETFILTER] nf_conntrack: Add missing code to TCP conntrack module
    
    Looks like the nf_conntrack TCP code was slightly mismerged: it does
    not contain an else branch present in the IPv4 version. Let's add that
    code and make the testsuite happy.
    
    Signed-off-by: KOVACS Krisztian <hidden@balabit.hu>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 56558208521729fa6b2a0f12df22e1569dee297a
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Mon Nov 14 15:22:11 2005 -0800

    [NETFILTER] ctnetlink: More thorough size checking of attributes
    
    Add missing size checks. Thanks Patrick McHardy for the hint.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c0400c4f5a08cfd1c657f7f616fcf1dfbd76a4d7
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Mon Nov 14 15:21:41 2005 -0800

    [NETFILTER] nfnetlink: skip size check if size not specified (== 0)
    
    Skip sizecheck if the size of the attribute wasn't specified, ie. zero.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dbd36ea496726460299842fdbeaaa7fff2f0c5c7
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Mon Nov 14 15:21:01 2005 -0800

    [NETFILTER] ctnetlink: use size_t to make gcc-4.x happy
    
    Make gcc-4.x happy. Use size_t instead of int. Thanks to Patrick McHardy
    for the hint.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit c6e6e666cbfe40f0d7fb1a293ff6332973acac37
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 14:50:05 2005 -0500

    [libata] REQUEST SENSE handling fixes
    
    - Move ATAPI check-condition handling out of the timeout handler
    - Use multi-qc-issue feature to issue REQUEST SENSE ATAPI PACKET
      command upon receiving an ATAPI check-condition.
    
    This cleans things up a lot, and eliminates a nasty recursion bug.

commit 2c13b7cee045af689b36349c2bc6a9ed6e3d73fa
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 14:14:16 2005 -0500

    [libata] minor fixes, new helpers
    
    - in ata_dev_identify(), don't assume that all devices are either
      ATA or ATAPI.  In the future, this code will see port multipliers
      and other devices.
    - make a debugging printk less verbose
    - add new helper ata_qc_reinit()
    - add new helper BPRINTK() and port flag ATA_FLAG_DEBUGMSG, for
      fine-grained debugging use.

commit e1410f2d951d45aee3bdbcc05ecedaaa9db276e5
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 14:06:26 2005 -0500

    [libata] fix bugs in ATAPI padding DMA mapping code
    
    The ATAPI pad-to-next-32bit-boundary code modifies the scatterlist's
    length variable, sometimes to zero.  x86-64 platform would oops if a
    zero-length scatterlist entry was asked to be mapped.  Work around this
    by ensuring that we never DMA-map a zero length buffer or SG entry.

commit ad36d1a533da91d3448029b4da1113c5b880f25d
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 14 13:56:37 2005 -0500

    [libata ahci] error handling fixes
    
    Needed to get ATAPI working.
    
    - dump hardware error bits, if hardware signals an error
    - only reset hardware during timeout if a command was active
    - call ata_qc_complete() with a fine-grained error mask.
      Needed so that atapi_qc_complete() can distinguish between
      device errors and other errors.

commit 493f25ef4087395891c99fcfe2c72e62e293e89f
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:32:50 2005 +1100

    powerpc: Fix 32-bit compile: PPC_MEMSTART was undeclared
    
    This defines PPC_MEMSTART as 0 because it is still used in a couple
    of places in the 32-bit code.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5be396b00ca0f2f769c55cf69bbd7c77451c925e
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:31:55 2005 +1100

    powerpc: Mark PREP and embedded as broken for now
    
    These machines don't have working ARCH=powerpc support yet, so make
    them depend on BROKEN so people don't enable them inadvertently and
    get compile errors.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1dfc6772097ef4eadd39a10ce44557c782d5058e
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:30:40 2005 +1100

    powerpc: Export a couple of prom functions
    
    These are needed by the TPM driver, apparently.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7568cb4ef6c507164b65b01f972a3bd026898ae1
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:30:17 2005 +1100

    powerpc: Move most remaining ppc64 files over to arch/powerpc
    
    Also deletes files in arch/ppc64 that are no longer used now that
    we don't compile with ARCH=ppc64 any more.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c55377ee73f6efeb373ae06f6e918d87660b4852
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:22:01 2005 +1100

    powerpc: Move a bunch of ppc64 headers to include/asm-powerpc
    
    ... and also delete some that are no longer used because we already
    had an include/asm-powerpc version of the header.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 821077b2617ef70662a861393c929d7e47609512
Merge: 3136254... d786795...
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 14 17:15:45 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit d7867959e7e928ab52ef204e2559937e5c9fc4ce
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Nov 14 17:14:51 2005 +1100

    powerpc: iSeries build fixes
    
    log_plpar_hcall_return is only used on PPC_PSERIES, so move
    it closer to its users and inside ifdef CONFIG_PPC_PSERIES.
    
    remove the last vestiges of systemcfg in iSeries.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 3136254ca5dfaf53486f7032c674f9b6d7fd1d53
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 14 15:49:48 2005 +1100

    [PATCH] powerpc: kill ppc64 rtc.c, use genrtc instead
    
    This moves the rtas RTC callbacks to rtas-rtc.c in arch/powerpc/kernel,
    and kills the rest of arch/ppc64/kernel/rtc.c which was just a duplicate
    of the genrtc functionality. Also enable build of genrtc for
    CONFIG_PPC64 (it just works are we already have the required callbacks)
    and enable it in all defconfigs.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0c37ec2aa88bd8a6aaeb284ff5c86f4c6d8e8469
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 14 14:55:58 2005 +1100

    [PATCH] powerpc: vdso fixes (take #2)
    
    This fixes various errors in the new functions added in the vDSO's,
    I've now verified all functions on both 32 and 64 bits vDSOs. It also
    fix a sign extension bug getting the initial time of day at boot that
    could cause the monotonic clock value to be completely on bogus for
    64 bits applications (with either the vDSO or the syscall) on
    powermacs.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 50092b233afa96b4c9a4b24ac38199c34e0880cd
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 14 11:02:20 2005 +1100

    [PATCH] powerpc: Always rebuild arch/powerpc/include/asm symlink
    
    This patch uses a FORCE dependency on the arch/powerpc/include/asm
    symlink so that it always gets rebuilt, thus avoiding all sort of funny
    errors if the .config is changed between 32 and 64 bits.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 593e537b93193d1696809817533ce5ad510445b1
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sat Nov 12 00:06:06 2005 +1100

    [PATCH] powerpc: Export htab start/end via device tree
    
    The userspace kexec-tools need to know the location of the htab on non-lpar
    machines, as well as the end of the kernel. Export via the device tree.
    
    NB. This patch has been updated to use "linux,x" property names. You may
    need to update your kexec-tools to match.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c5e24354efae9f962e0e369d875d45f47e0bb9aa
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Sat Nov 12 00:06:05 2005 +1100

    [PATCH] powerpc: Turn cpu_irq_down into kexec_cpu_down
    
    We currently have a ppc_md member called cpu_irq_down, which disables IRQs
    for the cpu in question. The only caller of cpu_irq_down is the kexec code.
    
    On pSeries we need to do more than just teardown IRQs at kexec time, so rename
    the ppc_md member to kexec_cpu_down and expand it. The pSeries code needs to
    know, and other platforms might too, whether we're doing a crash shutdown (ie.
    panicking) or a regular kexec, so add a flag for that.
    
    The pSeries implementation of kexec_cpu_down does an unregister VPA call, which
    tells the Hypervisor to stop writing stuff into our pacas. Without this we can
    get weird memory corruption bugs when we kexec, caused by the Hypervisor
    writing into the first kernel's pacas which happens to be somewhere interesting
    in the second kernel's memory.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5cd16ee934eafca74a6bb790328950cec68a8b78
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Nov 11 14:25:24 2005 +1100

    [PATCH] powerpc: Merge page.h
    
    Merge asm-ppc/page.h and asm-ppc64/page.h into asm-powerpc/page.h,
    asm-powerpc/page_32.h and asm-powerpc/page_64.h
    
    Built for PPC (common_defconfig), with ARCH=powerpc, mostly built with
    ARCH=ppc (other things break the build). Built and booted on P5 LPAR
    for PPC64 with ARCH=ppc/powerpc (pseries_defconfig). Mostly built for
    iSeries powerpc.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7b0a65f9923ffe7885a5473648baaa3a1a701726
Merge: 1b98a82... ee90f62...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Nov 13 20:28:58 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 85d6162d6cea9220e483989817eac0cebc03070e
Merge: c9d3913... 4ba529a...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 13 23:20:16 2005 -0500

    Merge branch 'master'

commit 868accb7b9126dffdebb6b45631e145991e3535d
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 10 18:38:46 2005 +1100

    powerpc: have only one definition of __irq_offset_value
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d9ae2bad5c92cd116e3daedf16f79cf597e09ad7
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 10 18:11:19 2005 +1100

    powerpc: make iSeries use generic virtual irq mapping
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ee90f62b3e69d0cd9f8edc6b95f07b1a8c38aaf4
Merge: 70ac551... 807277c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 18:22:49 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-fixes-2.6

commit 70ac551651a2c5a234b703d9a495817f2ca09639
Merge: 7f729cc... bd5d080...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 18:17:54 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 7f729ccff35befa08a836ab33a4372c7f6735645
Merge: cbc7495... ee31b33...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 18:17:21 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit cbc749518235b0f1dacb867c8c25059a1b876276
Merge: 71f95cf... 69177e8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 18:16:56 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 71f95cfbcfc31ba0d002ddb6e37ca5a0b5eaf02c
Author: Martin Waitz <tali@admingilde.org>
Date:   Sun Nov 13 16:08:15 2005 -0800

    [PATCH] DocBook: revert xmlto use for .ps and .pdf documentation
    
    As xmlto doesn't work for print documentation, we need docbook-utils again for
    these targets.
    
    This patch allows the user to choose the method he wants to use.  (I'm still
    hoping that someone will fix passivetex ;-)
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e56367fe70955beb82e5e7c71ccfa064add42c21
Author: Martin Waitz <tali@admingilde.org>
Date:   Sun Nov 13 16:08:15 2005 -0800

    [PATCH] DocBook: comment about paper type
    
    Add a comment showing how to change paper type.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ddad86c2d6f660112c6ce8aabae6ffd346e25b9b
Author: Martin Waitz <tali@admingilde.org>
Date:   Sun Nov 13 16:08:14 2005 -0800

    [PATCH] DocBook: include printk documentation
    
    Add printk documentation to kernel-api.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aeec46b97a7975fd983219177980c58ed4fd607c
Author: Martin Waitz <tali@admingilde.org>
Date:   Sun Nov 13 16:08:13 2005 -0800

    [PATCH] DocBook: allow to mark structure members private
    
    Many structures contain both an internal part and one which is part of the API
    to other modules.  With this patch it is possible to only include these public
    members in the kernel documentation.
    
    Signed-off-by: Martin Waitz <tali@admingilde.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5f4917c92a9a3814eda9c947fda8afabbd1812d
Author: Jan Beulich <jbeulich@novell.com>
Date:   Sun Nov 13 16:08:12 2005 -0800

    [PATCH] make vesafb build without CONFIG_MTRR
    
    vesafb did not build without CONFIG_MTRR.
    
    Cc: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60f6c464d14b177778334344c86f15616899735a
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:08:12 2005 -0800

    [PATCH] v4l: 976: ensure consistent v4l firmware prefixes
    
    Ensure consistent v4l firmware prefixes.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3e63002433d9a3de763b6cb49dc2c75a74d8604
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:08:11 2005 -0800

    [PATCH] v4l: 977: fix broken dependency needed for sa7134 module
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5ee43afc9fdde8f853346d32f5ca5c00e8ed886
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Nov 13 16:08:10 2005 -0800

    [PATCH] v4l: 975: apply saa7134-alsa fixes
    
    Merged parts of a patch from Takashi Iwai for an older version of the module.
    
    This patch was adapted and tested by Ricardo Cerqueira.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c01ee851d3e64753877017e8fb19f2e23a1945bc
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Nov 13 16:08:09 2005 -0800

    [PATCH] v4l: 974: saa7134 shouldn't DEPEND on SND_PCM_OSS. Instead, SELECT it.
    
    saa7134 shouldn't DEPEND on SND_PCM_OSS. Instead, SELECT it.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93067f387e104e48e616436fe1804911f90402e3
Author: Dave Jones <davej@redhat.com>
Date:   Sun Nov 13 16:08:09 2005 -0800

    [PATCH] v4l: saa711x driver doesn't need segment.h
    
    This breaks compilation on non-x86 architectures, and isn't even used.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Acked-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24b59258eb987c26c5813d7768c516422830db35
Author: Mike Krufky <mkrufky@linuxtv.org>
Date:   Sun Nov 13 16:08:08 2005 -0800

    [PATCH] v4l: prevent saa7134 alsa undefined warnings
    
    Prevent the following build warnings:
    
    *** Warning: "snd_card_free"
    *** Warning: "snd_card_register"
    *** Warning: "snd_device_new"
    *** Warning: "snd_card_new"
    *** Warning: "snd_ctl_add"
    *** Warning: "snd_ctl_new1"
    *** Warning: "snd_pcm_set_ops"
    *** Warning: "snd_pcm_new"
    *** Warning: "snd_pcm_lib_ioctl"
    *** Warning: "snd_pcm_hw_constraint_integer"
    *** Warning: "snd_pcm_stop"
    *** Warning: "snd_pcm_period_elapsed"
    [drivers/media/video/saa7134/saa7134-alsa.ko] undefined!
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Acked-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e77f34d6948af83db75ece2e1bc0c73087d7cf69
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:08:06 2005 -0800

    [PATCH] v4l: (966.1) Removes Obsoleted i2c-compat.h from newer drivers
    
    Removed obsoleted i2c-compat.h file from cx25840, saa7115 and saa7127 drivers.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f4b33651cfb18caac6b6a0d664b0750074b14f4
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:08:05 2005 -0800

    [PATCH] v4l: (966) Authorship fixes for new Modules
    
    Fixes Module Author macros
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e19b2fcccde976621560c26373c7fba29b0d0f29
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:08:04 2005 -0800

    [PATCH] v4l: (948) adds support for saa7115 video decoder
    
    - Adds support for saa7115 video decoder.
      Driver Authors: Hans Verkuil, Chris Kennedy, Kevin Thayer
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Chris Kennedy <c@groovy.org>
    Signed-off-by: Kevin Thayer <nufan_wfk@yahoo.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e1e28da4059ce293334a8e820955a0ce320b07b
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Sun Nov 13 16:08:03 2005 -0800

    [PATCH] v4l: (963.1) hybrid v4l/dvb: remove duplicated code
    
    The following patch caused some duplicated code in cx88-dvb.c:
    [PATCH] v4l: 634: implemented tuner set standby on cx88 init
    
    The cx88-dvb.c portion of this patch was already applied
    in an earlier patch, entitled:
    [PATCH] v4l: fixup on cx88_dvb for Dvico HDTV5 Gold
    
    I love quilt and all, but AFAIK, no tool is 100% perfect for catching
    oversights like this.
    
    The non-overlapping portions of each of these patches are still needed, and
    must not be discarded, so rather than reverting old patches, please just apply
    this fixup patch to remove the duplicated code.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6555f4322f5c8dc03047eb566d8519ba348e02de
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:08:02 2005 -0800

    [PATCH] v4l: (963) em28xx IR fixup
    
    Removed the code that avoids repeating events when pressing IR keys.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80d2ad9259b04bc46556c1cd8cec558a02460a2d
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Nov 13 16:08:01 2005 -0800

    [PATCH] v4l: (962) Added new saa7134 card (MSI TV@anywhere plus)
    
    Added new saa7134 card (MSI TV@anywhere plus)
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3717e170e1585d79a8ceced9161f18ceb796411e
Author: Tyler Trafford <tatrafford@comcast.net>
Date:   Sun Nov 13 16:08:00 2005 -0800

    [PATCH] v4l: (958) Make cx25840 use firmware image named 'cx25840.fw'
    
    Change default filename of firmware image to 'cx25840.fw'
    
    Signed-off-by: Tyler Trafford <tatrafford@comcast.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4aabf6331f89c18a46e7f083ca0b27f15ca85422
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Nov 13 16:08:00 2005 -0800

    [PATCH] v4l: (951) Make saa7134-oss as a stand-alone module
    
    - saa7134-oss is now a standalone module as well
    - remaining DMA sound code has been removed from core the module
    - Lots of small cleanups and variable renames to get more consistency
      between the OSS and ALSA drivers
    - Fixed saa7134-alsa spinlock bug
    - Added missing #include in saa7134-oss
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 714a095abfa22dfe2accf641118a65796e966a98
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:07:59 2005 -0800

    [PATCH] v4l: (950) Added compiler options for cx25840 saa7115 and saa7127
    
    Added compiler options for cx25840, saa7115 and saa7127
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70146cfc84dca917ac27cdc754deae63c1282844
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Sun Nov 13 16:07:58 2005 -0800

    [PATCH] v4l: (949) Added support for secam l'
    
    Added support for SECAM L'
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd985160a9f4623fdb24fcfeb36fe59e1b8f7b57
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:07:56 2005 -0800

    [PATCH] v4l: (946) adds support for cx25840 video decoder
    
    Adds support for cx25840 video decoder.
    
    Driver authors: Hans Verkuil, Chris Kennedy, Tyler Trafford, Ulf Eklund.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Chris Kennedy <c@groovy.org>
    Signed-off-by: Tyler Trafford <tatrafford@comcast.net>
    Thanks-to: Ulf Eklund <ivtv@eklund.to>.
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2f0648ffda862d53f04f0a05979f3fa530d63c9
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:07:55 2005 -0800

    [PATCH] v4l: (945) adds a new include for internal v4l2 ioctls and api
    
    Adds a new include for internal V4L2 ioctls and API
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 419d4e753a5dbd6e19ad45cb4045ac213f15eac4
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:07:55 2005 -0800

    [PATCH] v4l-944-added-driver-for-saa7127-video-tidy
    
    Remove unneeded (and undesirable) casts.
    
    Cc: Hans Verkuil <hverkuil@xs4all.nl>
    Cc: Chris Kennedy <c@groovy.org>
    Cc: Kevin Thayer <nufan_wfk@yahoo.com>
    Cc: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cfbb5b8cb059609696ba38a9a87eafb93b3de43c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Sun Nov 13 16:07:53 2005 -0800

    [PATCH] v4l: (944) added driver for saa7127 video decoder
    
    - Added driver for saa7127 video decoder.  Driver authors:Hans Verkuil,
      Chris Kennedy, Kevin Thayer
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Chris Kennedy <c@groovy.org>
    Signed-off-by: Kevin Thayer <nufan_wfk@yahoo.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c6c0b2c27e70c3593e023882fabb1cebcbd077e
Author: Mark Weaver <mark-clist@npsl.co.uk>
Date:   Sun Nov 13 16:07:52 2005 -0800

    [PATCH] v4l: (939) Support for nebula rc5 based gpio remote
    
    Support for Nebula rc5-based gpio remote.
    
    Signed-off-by: Mark Weaver <mark-clist@npsl.co.uk>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 871242b93e75b24c99687249c2812aed026b40af
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Sun Nov 13 16:07:51 2005 -0800

    [PATCH] v4l: (937) Included missing interrupt.h at saa7134-alsa.c
    
    Included missing interrupt.h at saa7134-alsa.c
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 633323ffffae91c3f22a08e0185fbfd3fae2a825
Author: Bill Pechter <pechter@gmail.com>
Date:   Sun Nov 13 16:07:50 2005 -0800

    [PATCH] v4l:: (936) Support for sabrent bt848 version
    
    Support for Sabrent bt848 version.
    
    Signed-off-by: Bill Pechter <pechter@gmail.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8069695c9e7da7ab7cd8ee749e8d5aa9e6e0660b
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Nov 13 16:07:49 2005 -0800

    [PATCH] v4l: (935) Moved common IR stuff to ir-common.c
    
    - The pinnacle handler & remote are common to saa7134 PCI boards and em28xx
      USB boards, so the keymap was moved to ir-common and the keyhandler is back
      to ir-kbd-i2c
    
    - request_module("ir-kbd-i2c") is no longer necessary at saa7134-core since
      saa7134.ko now depends on ir-kbd-i2c.ko to get the keyhandler
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 800d3c6f90b61cc82b09db635b59c00b1c460728
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:07:48 2005 -0800

    [PATCH] v4l: (943) added secam l video standard
    
    - Added SECAM L' video standard
    - SECAM L' is a Secam variant that requires special config.
    
    This patch adds support on V4L core. Requires aditional patches
    on tuners to support.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c817e7634260b298fc03b856ddb53d9aa77326b5
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Sun Nov 13 16:07:47 2005 -0800

    [PATCH] v4l: (930) Alsa fixes and improvements
    
    - Fix nasty IRQ hook bug.
    - Fix multiple board support in saa7134-alsa
    - Minor comment updates
    - SAA7134/ALSA IRQ management improvements
    - Removed superfluous stop_dma() from saa7134-alsa IRQ handler
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 770599d07564f049234d0a5eb0ef3d607d747878
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Sun Nov 13 16:07:45 2005 -0800

    [PATCH] v4l: (926.1) Added compiling options for wm8775 and cs53l32a chips
    
    Added compiling options for wm8775 and cs53l32a chips.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ad44229ec85b3938a313a325f0449e23eac8aac
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Nov 13 16:07:44 2005 -0800

    [PATCH] README: add info about -stable to README and point at applying-patches.txt
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f39894d1b5c253b10fcb8fbbbcf65a330f6cdc7
Author: George Anzinger <george@mvista.com>
Date:   Sun Nov 13 16:07:44 2005 -0800

    [PATCH] timespec: normalize off by one errors
    
    It would appear that the timespec normalize code has an off by one error.
    Found in three places.  Thanks to Ben for spotting.
    
    Signed-off-by: George Anzinger <george@mvista.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09e12f9f6bcd9af516d901223cebdbae58b32c9f
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Nov 13 16:07:43 2005 -0800

    [PATCH] tpm: locking fix
    
    Use schedule_work() to avoid down()-in-timer-handler problem.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6a2382cec3ed9b67b01febfa85d7d72b254844a
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Nov 13 16:07:42 2005 -0800

    [PATCH] tpm: dev_mask handling fix
    
    - Use ~, not !
    
    - Remove unneeded cast
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad5ea3cc5f745aef243ade0dafc8cf6f7f0bfea7
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Nov 13 16:07:41 2005 -0800

    [PATCH] tpm: updates for new hardware
    
    This is the patch to support TPMs on power ppc hardware.  It has been
    reworked as requested to remove the need for messing with the io page mask
    by just using ioremap.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0131c143204ee0ba00592c016f20ce6fc67827d
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Nov 13 16:07:41 2005 -0800

    [PATCH] tpm: necessary PPC64 function exports
    
    Some work is needed in the tpm device driver to discover the TPM out of the
    device tree rather than based on set address on Power PPC.  This patch
    exports a couple of functions for the parsing.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36174494b64ec0f6c2593af12d1cec97c9754192
Author: Diego Calleja <diegocg@gmail.com>
Date:   Sun Nov 13 16:07:40 2005 -0800

    [PATCH] oops-tracing: mention digital photos
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 113fab1386f0093602d9f48b424b945cafd3db23
Author: matthieu castet <castet.matthieu@free.fr>
Date:   Sun Nov 13 16:07:39 2005 -0800

    [PATCH] fix leaks in request_firmware_nowait
    
    Wasn't checking return error and forgot to free in some case.
    
    Signed-off-by: Matthieu CASTET <castet.matthieu@free.fr>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff6ed4063da39e6a30ce904005e4ed17385e2739
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:07:38 2005 -0800

    [PATCH] acct.h needs jiffies.h
    
    allnoconfig:
    
    In file included from fs/super.c:28:
    include/linux/acct.h:173: warning: `TICK_NSEC' is not defined
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ec63f22dc31de19b273b7aca66e73ae85cc2418e
Author: Johann Lombardi <johann.lombardi@bull.net>
Date:   Sun Nov 13 16:07:36 2005 -0800

    [PATCH] ext2: remove duplicate newlines in ext2_fill_super
    
    ext2_warning() already adds a newline.
    
    Signed-off-by: Johann Lombardi <johann.lombardi@bull.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ef1c49f8f9f0d6b5b8d57bb4b66c605a3d65876
Author: Zach Brown <zach.brown@oracle.com>
Date:   Sun Nov 13 16:07:35 2005 -0800

    [PATCH] aio: don't ref kioctx after decref in put_ioctx
    
    put_ioctx's refcount debugging was doing an atomic_read after dropping its
    reference when it wasn't the last ref, leaving a tiny race for another freeing
    thread to sneak into.  This shifts the debugging before the ops, uses BUG_ON,
    and reformats the defines a little.  Sadly, moving to inlines increased the
    code size but this change decreases the code size by a whole 9 bytes :)
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Cc: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d00689af6b3b6ba9e1fdefec3bd62edc860c385d
Author: Zach Brown <zach.brown@oracle.com>
Date:   Sun Nov 13 16:07:34 2005 -0800

    [PATCH] aio: replace locking comments with assert_spin_locked()
    
    aio: replace locking comments with assert_spin_locked()
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Acked-by: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20dcae32439384b6863c626bb3b2a09bed65b33e
Author: Zach Brown <zach.brown@oracle.com>
Date:   Sun Nov 13 16:07:33 2005 -0800

    [PATCH] aio: remove kioctx from mm_struct
    
    Sync iocbs have a life cycle that don't need a kioctx.  Their retrying, if
    any, is done in the context of their owner who has allocated them on the
    stack.
    
    The sole user of a sync iocb's ctx reference was aio_complete() checking for
    an elevated iocb ref count that could never happen.  No path which grabs an
    iocb ref has access to sync iocbs.
    
    If we were to implement sync iocb cancelation it would be done by the owner of
    the iocb using its on-stack reference.
    
    Removing this chunk from aio_complete allows us to remove the entire kioctx
    instance from mm_struct, reducing its size by a third.  On a i386 testing box
    the slab size went from 768 to 504 bytes and from 5 to 8 per page.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Acked-by: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4557398f8cbaf9f254cff747534b4724c7f75c4f
Author: Kirill Korotaev <dev@sw.ru>
Date:   Sun Nov 13 16:07:30 2005 -0800

    [PATCH] stop_machine() vs. synchronous IPI send deadlock
    
    This fixes deadlock of stop_machine() vs.  synchronous IPI send.  The
    problem is that stop_machine() disables interrupts before disabling
    preemption on other CPUs.  So if another CPU is preempted and then calls
    something like flush_tlb_all() it will deadlock with CPU doing
    stop_machine() and which can't process IPI due to disabled IRQs.
    
    I changed stop_machine() to do the same things exactly as it does on other
    CPUs, i.e.  it should disable preemption first on _all_ CPUs including
    itself and only after that disable IRQs.
    
    Signed-off-by: Kirill Korotaev <dev@sw.ru>
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Cc: "Andrey Savochkin" <saw@sawoct.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5b609797b8e212dbfaf23944da8bf8c53233d5c
Author: Clemens Buchacher <drizzd@aon.at>
Date:   Sun Nov 13 16:07:26 2005 -0800

    [PATCH] arch/mips/au1000/common/usbdev.c: don't concatenate __FUNCTION__ with strings
    
    It's deprecated. Use "%s", __FUNCTION__ instead.
    
    Signed-off-by: Clemens Buchacher <drizzd@aon.at>
    Signed-off-by: Maximilian Attems <janitor@sternwelten.at>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8426e1f6af0fd7f44d040af7263750c5a52f3cc3
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Nov 13 16:07:25 2005 -0800

    [PATCH] atomic: inc_not_zero
    
    Introduce an atomic_inc_not_zero operation.  Make this a special case of
    atomic_add_unless because lockless pagecache actually wants
    atomic_inc_not_negativeone due to its offset refcount.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4a6dae6d382e9edf3ff440b819e554ed706359bc
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Nov 13 16:07:24 2005 -0800

    [PATCH] atomic: cmpxchg
    
    Introduce an atomic_cmpxchg operation.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53e86b91b7ae66d4c2757195cbd42e00d9199cf2
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Nov 13 16:07:23 2005 -0800

    [PATCH] i386: generic cmpxchg
    
    - Make cmpxchg generally available on the i386 platform.
    
    - Provide emulation of cmpxchg suitable for uniprocessor if built and run on
      386.
    
    From: Christoph Lameter <clameter@sgi.com>
    
    - Cut down patch and small style changes.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dbdf65b1b7f8ec48bda1604cfea7ac09ce583d6b
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sun Nov 13 16:07:22 2005 -0800

    [PATCH] rcutorture: renice to low priority
    
    Make the box usable for interactive work when running the RCU torture test,
    by renicing the RCU torture-test threads to +19 by default.  Kthreads run
    at nice -5 by default.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Acked-by: Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66341a905ef5b3e7aea65b5d9bd1b0361b0ccc61
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Sun Nov 13 16:07:21 2005 -0800

    [PATCH] Shut up per_cpu_ptr() on UP
    
    Currently per_cpu_ptr() doesn't really do anything with 'cpu' in the UP
    case.  This is problematic in the cases where this is the only place the
    variable is referenced:
    
      CC      kernel/workqueue.o
      kernel/workqueue.c: In function `current_is_keventd':
      kernel/workqueue.c:460: warning: unused variable `cpu'
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f5c79f2920cbc21c718daeb0b12d69acf4de163
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Sun Nov 13 16:07:20 2005 -0800

    [PATCH] Fix sparse warning in proc/task_mmu.c
    
    fs/proc/task_mmu.c:198:33: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ff1b2c8ceaf92197f756be569afefd593c56f68
Author: Paul Fulghum <paulkf@microgate.com>
Date:   Sun Nov 13 16:07:19 2005 -0800

    [PATCH] synclink: update to use DMA mapping API
    
    Update synclink to use DMA mapping API.  This removes warning about
    isa_virt_to_bus() usage on architectures other than i386
    
    Signed-off-by: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab4eb43ce759559d7b15c5dde4a1562f202539f6
Author: Denis Lunev <den@sw.ru>
Date:   Sun Nov 13 16:07:17 2005 -0800

    [PATCH] ext3: journal handling on error path in ext3_journalled_writepage()
    
    This patch fixes lost referrence on ext3 current handle in
    ext3_journalled_writepage().
    
    Signed-Off-By: Denis Lunev <den@sw.ru>
    Cc: Kirill Korotaev <dev@sw.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b17b0421d70f5b85a791afe145a16d5ca5f849aa
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sun Nov 13 16:07:14 2005 -0800

    [PATCH] signal handling: revert sigkill priority fix
    
    This patch reverts commit c33880aaddbbab1ccf36f4457ed1090621f2e39a since
    it's not needed anymore. As pointed out by Roland McGrath the real fix
    is to deliver all signals before returning to user space.
    See http://www.ussg.iu.edu/hypermail/linux/kernel/0509.2/0683.html
    A fix for s390 has been merged.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Linus Torvalds <torvalds@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba260e23efbabcff975f60401475c2bdd693f872
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:14 2005 -0800

    [PATCH] uml: fix daemon transport exit path bug
    
    Fix some exit path bugs in the daemon driver.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a590611c0f1e1302c58fdfdc958f2d6bdddd78a
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:13 2005 -0800

    [PATCH] uml: fix access_ok
    
    The access_ok_tt() macro is bogus, in that a read access is unconditionally
    considered valid.
    
    I couldn't find in SCM logs the introduction of this check, but I went back to
    2.4.20-1um and the definition was the same.
    
    Possibly this was done to avoid problems with missing set_fs() calls, but
    there can't be any I think because they would fail with SKAS mode.
    TT-specific code is still to check.
    
    Also, this patch joins common code together, and makes the "address range
    wrapping" check happen for all cases, rather than for only some.
    
    This may, possibly, be reoptimized at some time, but the current code doesn't
    seem clever, just confused.
    
    * Important: I've also had to change references to access_ok_{tt,skas} back to
      access_ok - the kernel wasn't that happy otherwise.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55c033c1f6cdedc350c79c3198b542e3ab496899
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:11 2005 -0800

    [PATCH] uml console channels: fix the API of console_write
    
    Since the 4th param is unused, remove it altogether.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd9bc53b99a77aefe89d810d889aa6385565959b
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:10 2005 -0800

    [PATCH] uml console channels: remove console_write wrappers
    
    We were using a long series of (stupid) wrappers which all call
    generic_console_write().  Since the wrappers only change the 4th param, which
    is unused by the called proc, remove them and call generic_console_write()
    directly.
    
    If needed at any time in the future to reintroduce this stuff, the member
    could be moved to a generic struct, to avoid this duplicated handling.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c50d2c4d6685db9b45cf6521046296df5bc42592
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:07 2005 -0800

    [PATCH] uml: fix mcast network driver error handling
    
    printk clears the host errno (I verified this in debugging and it's reasonable
    enough, given that it ends via a write call on some fd, especially since
    printk() goes on /dev/tty0 which is often the host stdout).  So save errno
    earlier.  There's no reason to change the printk calls to use -err rather than
    errno - the assignment can't clear errno.
    
    And in the first failure path, we used to return 0 too (and this time more
    clearly), which is totally wrong.  0 is a success fd, which is then registered
    and gives a "registering fd twice" warning.
    
    Finally, fix up some whitespace.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85977376c73b7712ed3618888ade126075888c06
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:06 2005 -0800

    [PATCH] uml: fixups for "reuse i386 cpu-specific tuning"
    
    A few fixups - show the new submenu only for x86 subarchitecture (it does not
    make sense to show it for x86_64 users) and remove X86_CMPXCHG, which is now a
    duplicate of Kconfig.i386, even though Kconfig doesn't complain (we also miss
    the dependency on !M386 CPU).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b8d108a6e7992a53e0736abefac1b2e07ce98de
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:04 2005 -0800

    [PATCH] uml: micro fixups to arch Kconfig
    
    Remove a stone-age comment (UM *does* have a MMU, i.e.  the host), and fix a
    dependency (introduced in commit 02edeb586ae4cdd17778923674700edb732a4741) to
    do what was intended.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cbc24afa82106b67df804cb434739e4382eecd9a
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:04 2005 -0800

    [PATCH] uml: remove bogus WARN_ON, triggerable harmlessly on a page fault race
    
    The below warning was added in place of pte_mkyoung(); if (is_write)
    pte_mkdirty();
    
    In fact, if the PTE is not marked young/dirty, our dirty/accessed bit
    emulation would cause the TLB permission not to be changed, and so we'd loop,
    and given we don't support preemption yet, we'd busy-hang here.
    
    However, I've seen this warning trigger without crashes during a loop of
    concurrent kernel builds, at random times (i.e. like a race condition), and I
    realized that two concurrent faults on the same page, one on read and one on
    write, can trigger it. The read fault gets serviced and the PTE gets marked
    writable but clean (it's possible on a shared-writable mapping), while the
    generic code sees the PTE was already installed and returns without action. In
    this case, we'll see another fault and service it normally.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ab23c95a0b77d45dc764dd4aed48fe6e8906e59
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Nov 13 16:07:00 2005 -0800

    [PATCH] Kbuild: index asm-$(SUBARCH) headers for UML
    
    In Uml, many definitions are borrowed from underlying subarch headers (with
    #include <asm/arch/stuff.h>).  And it has become annoying to keep switching
    tag files all time, so by default index the underlying subarch headers too.
    Btw, it adds negligible space to the tags file (less than 1M surely, IIRC it
    was around 500k over 40M).
    
    Finally, preserve the ALLSOURCE_ARCHS command line option (I hope) - if it is
    set, it is used for headers too as before.  But check my construct please, I
    didn't test this.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b66a1edb01b82269a668a478625765b1fa4936f
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Sun Nov 13 16:06:59 2005 -0800

    [PATCH] m68k: convert thread flags to use bit fields
    
    Remove task_work structure, use the standard thread flags functions and use
    shifts in entry.S to test the thread flags.  Add a few local labels to entry.S
    to allow gas to generate short jumps.
    
    Finally it changes a number of inline functions in thread_info.h to macros to
    delay the current_thread_info() usage, which requires on m68k a structure
    (task_struct) not yet defined at this point.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit abd03753bd1532c05eb13231569a5257b007e29c
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sun Nov 13 16:06:58 2005 -0800

    [PATCH] m68k: m68k-specific thread_info changes
    
    a) added embedded thread_info [m68k processor.h]
    
    b) added missing symbols in asm-offsets.c
    
    c) task_thread_info() and friends in asm-m68k/thread_info.h
    
    d) made m68k thread_info.h included by m68k processor.h, not the other way
       round.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f037360f2ed111fe89a8f5cb6ba351f4e9934e53
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sun Nov 13 16:06:57 2005 -0800

    [PATCH] m68k: thread_info header cleanup
    
    a) in smp_lock.h #include of sched.h and spinlock.h moved under #ifdef
       CONFIG_LOCK_KERNEL.
    
    b) interrupt.h now explicitly pulls sched.h (not via smp_lock.h from
       hardirq.h as it used to)
    
    c) in three more places we need changes to compensate for (a) - one place
       in arch/sparc needs string.h now, hardirq.h needs forward declaration of
       task_struct and preempt.h needs direct include of thread_info.h.
    
    d) thread_info-related helpers in sched.h and thread_info.h put under
       ifndef __HAVE_THREAD_FUNCTIONS.  Obviously safe.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10ebffde3d3916026974352b7900e44afe2b243f
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sun Nov 13 16:06:56 2005 -0800

    [PATCH] m68k: introduce setup_thread_stack() and end_of_stack()
    
    encapsulates the rest of arch-dependent operations with thread_info access.
    Two new helpers - setup_thread_stack() and end_of_stack().  For normal case
    the former consists of copying thread_info of parent to new thread_info and
    the latter returns pointer immediately past the end of thread_info.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a1261f54611ec4ad6a7ab7080f86747e3ac3685b
Author: Al Viro <viro@www.linux.org.uk>
Date:   Sun Nov 13 16:06:55 2005 -0800

    [PATCH] m68k: introduce task_thread_info
    
    new helper - task_thread_info(task).  On platforms that have thread_info
    allocated separately (i.e.  in default case) it simply returns
    task->thread_info.  m68k wants (and for good reasons) to embed its thread_info
    into task_struct.  So it will (in later patch) have task_thread_info() of its
    own.  For now we just add a macro for generic case and convert existing
    instances of its body in core kernel to uses of new macro.  Obviously safe -
    all normal architectures get the same preprocessor output they used to get.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7feacd53347c04aee789ba5d632eda0c3fc421c4
Author: Tim Mann <mann@vmware.com>
Date:   Sun Nov 13 16:06:54 2005 -0800

    [PATCH] x86: fix cpu_khz with clock=pit
    
    Fix http://bugzilla.kernel.org/show_bug.cgi?id=5546
    
    The cpu_khz global is not initialized and remains 0 if you boot with
    clock=pit, even if the processor does have a TSC.  This may have bad
    ramifications since the variable is used in various places scattered around
    the kernel, though I didn't check them all to see if they can tolerate cpu_khz
    = 0.  You can observe the problem by doing "cat /proc/cpuinfo"; the cpu MHz
    line says 0.000.
    
    The fix is trivial; call init_cpu_khz() from init_pit(), just as it's called
    from the timers/timer_foo.c:init_foo() for other values of foo.
    
    Cc: john stultz <johnstul@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e27182088e607880713d9c286a3d92d861c280e4
Author: Jan Beulich <JBeulich@novell.com>
Date:   Sun Nov 13 16:06:52 2005 -0800

    [PATCH] i386: NMI pointer comparison fix
    
    Instruction pointer comparisons for the NMI on debug stack check/fixup
    were incorrect.
    
    From: Jan Beulich <jbeulich@novell.com>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Acked-by: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 27d99f7ead8cd6d2231798bff0d4c38814afea22
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 13 16:06:51 2005 -0800

    [PATCH] arch/i386/mm/init.c: small cleanups
    
    This patch contains the following cleanups:
    - make a needlessly global function static
    - every file should include the headers containing the prototypes for
      it's global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4694ca02d19f42f5fd0b62cc2d0c7d3e5a0eef47
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:06:50 2005 -0800

    [PATCH] powerpc-xmon-build-fix
    
    arch/powerpc/xmon/xmon.c:525: error: syntax error before "xmon_irq"
    arch/powerpc/xmon/xmon.c:526: warning: return type defaults to `int'
    arch/powerpc/xmon/xmon.c: In function `xmon_irq':
    arch/powerpc/xmon/xmon.c:532: error: `IRQ_HANDLED' undeclared (first use in this function)
    arch/powerpc/xmon/xmon.c:532: error: (Each undeclared identifier is reported only once
    arch/powerpc/xmon/xmon.c:532: error: for each function it appears in.)
    
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 647422868e48c9abd8ab85ad2a7de9161170ec89
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Sun Nov 13 16:06:49 2005 -0800

    [PATCH] ppc32: Add support for handling PCI interrupts on MPC834x PCI expansion card
    
    The MPC8349 PIBs system has a expansion board with 6 PCI slots.  We needed
    to update the IDSEL interrupt mapping for it to work properly.  However,
    only PCI1 is supported as the first revision of this expansion board
    doesn't function properly for PCI2.  For the time being we have zero'd out
    the entries for the IDSELs related to PCI2.  When a functioning expansion
    board exists we can fix the table.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fce260a6bf75080ef61408504add5618f90e41b
Author: Olof Johansson <olof@lixom.net>
Date:   Sun Nov 13 16:06:48 2005 -0800

    [PATCH] ppc: add support for new powerbooks
    
    Enablement patch for the new PowerBooks (late 2005 edition).
    
    This enables the ATA controller, Gigabit ethernet and basic AGP setup.
    Bluetooth works out-of-the box after running hid2hci.
    
    Still remaining is to get the touchpad to work, the simple change of just
    adding the new USB ids isn't enough.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50c85a19e7b3928b5b5188524c44ffcbacdd4e35
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Nov 13 16:06:47 2005 -0800

    [PATCH] slab: remove alloc_pages() calls
    
    The slab allocator never uses alloc_pages since kmem_getpages() is always
    called with a valid nodeid.  Remove the branch and the code from
    kmem_getpages()
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 065d41cb269e9debb18c6d5052e4de1088ae3d8f
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Nov 13 16:06:46 2005 -0800

    [PATCH] slab: convert cache to page mapping macros
    
    This patch converts object cache <-> page mapping macros to static inline
    functions to make the more explicit and readable.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Cc: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 669ed17521b9b78cdbeac8a53c30599aca9527ce
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sun Nov 13 16:06:45 2005 -0800

    [PATCH] mm: highmem watermarks
    
    The pages_high - pages_low and pages_low - pages_min deltas are the asynch
    reclaim watermarks.  As such, the should be in the same ratios as any other
    zone for highmem zones.  It is the pages_min - 0 delta which is the
    PF_MEMALLOC reserve, and this is the region that isn't very useful for
    highmem.
    
    This patch ensures highmem systems have similar characteristics as non highmem
    ones with the same amount of memory, and also that highmem zones get similar
    reclaim pressures to other zones.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d6c666e8704cf06267f29a4fa3d2cf823469c38
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Nov 13 16:06:44 2005 -0800

    [PATCH] mm: gfp_noreclaim cleanup
    
    Remove last remnant of the defunct early reclaim page logic, the no longer
    used __GFP_NORECLAIM flag bit.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Acked-by: Martin Hicks <mort@bork.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fb1d9fca5c6e3b06773b69165a73f3fb786b8ee
Author: Rohit Seth <rohit.seth@intel.com>
Date:   Sun Nov 13 16:06:43 2005 -0800

    [PATCH] mm: __alloc_pages cleanup
    
    Clean up of __alloc_pages.
    
    Restoration of previous behaviour, plus further cleanups by introducing an
    'alloc_flags', removing the last of should_reclaim_zone.
    
    Signed-off-by: Rohit Seth <rohit.seth@intel.com>
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51c6f666fceb3184eeff045dad4432b602cd648e
Author: Robin Holt <holt@sgi.com>
Date:   Sun Nov 13 16:06:42 2005 -0800

    [PATCH] mm: ZAP_BLOCK causes redundant work
    
    The address based work estimate for unmapping (for lockbreak) is and always
    was horribly inefficient for sparse mappings.  The problem is most simply
    explained with an example:
    
    If we find a pgd is clear, we still have to call into unmap_page_range
    PGDIR_SIZE / ZAP_BLOCK_SIZE times, each time checking the clear pgd, in
    order to progress the working address to the next pgd.
    
    The fundamental way to solve the problem is to keep track of the end
    address we've processed and pass it back to the higher layers.
    
    From: Nick Piggin <npiggin@suse.de>
    
      Modification to completely get away from address based work estimate
      and instead use an abstract count, with a very small cost for empty
      entries as opposed to present pages.
    
      On 2.6.14-git2, ppc64, and CONFIG_PREEMPT=y, mapping and unmapping 1TB
      of virtual address space takes 1.69s; with the following patch applied,
      this operation can be done 1000 times in less than 0.01s
    
    From: Andrew Morton <akpm@osdl.org>
    
    With CONFIG_HUTETLB_PAGE=n:
    
    mm/memory.c: In function `unmap_vmas':
    mm/memory.c:779: warning: division by zero
    
    Due to
    
    			zap_work -= (end - start) /
    					(HPAGE_SIZE / PAGE_SIZE);
    
    So make the dummy HPAGE_SIZE non-zero
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 885036d32f5d3c427c3e2b385b5a5503805e3e52
Author: Kirill Korotaev <dev@sw.ru>
Date:   Sun Nov 13 16:06:41 2005 -0800

    [PATCH] mm: __GFP_NOFAIL fix
    
    In __alloc_pages():
    
    if ((p->flags & (PF_MEMALLOC | PF_MEMDIE)) && !in_interrupt()) {
             /* go through the zonelist yet again, ignoring mins */
             for (i = 0; zones[i] != NULL; i++) {
                     struct zone *z = zones[i];
    
                     page = buffered_rmqueue(z, order, gfp_mask);
                     if (page) {
                             zone_statistics(zonelist, z);
                             goto got_pg;
                     }
             }
             goto nopage;                <<<< HERE!!! FAIL...
    }
    
    kswapd (which has PF_MEMALLOC flag) can fail to allocate memory even when
    it allocates it with __GFP_NOFAIL flag.
    
    Signed-Off-By: Pavel Emelianov <xemul@sw.ru>
    Signed-Off-By: Denis Lunev <den@sw.ru>
    Signed-Off-By: Kirill Korotaev <dev@sw.ru>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4d28dd4b12649d02a89d19e6bd12ab92a6fcd4e
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:06:40 2005 -0800

    [PATCH] shpchp_hpc build fix
    
    Missing include.
    
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d1b8c9ef6edbe5feea1439c428b9388b8dec6f8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:06:39 2005 -0800

    [PATCH] pciehp_hpc build fix
    
    drivers/pci/hotplug/pciehp_hpc.c:221: parse error before "pcie_isr"
    drivers/pci/hotplug/pciehp_hpc.c:221: warning: type defaults to `int' in declaration of `pcie_isr'
    drivers/pci/hotplug/pciehp_hpc.c:221: warning: data definition has no type or storage class
    drivers/pci/hotplug/pciehp_hpc.c: In function `hpc_release_ctlr':
    drivers/pci/hotplug/pciehp_hpc.c:715: implicit declaration of function `free_irq'
    drivers/pci/hotplug/pciehp_hpc.c: At top level:
    drivers/pci/hotplug/pciehp_hpc.c:839: parse error before "pcie_isr"
    drivers/pci/hotplug/pciehp_hpc.c:840: warning: return type defaults to `int'
    drivers/pci/hotplug/pciehp_hpc.c: In function `pcie_isr':
    drivers/pci/hotplug/pciehp_hpc.c:850: `IRQ_NONE' undeclared (first use in this function)
    drivers/pci/hotplug/pciehp_hpc.c:850: (Each undeclared identifier is reported only once
    drivers/pci/hotplug/pciehp_hpc.c:850: for each function it appears in.)
    drivers/pci/hotplug/pciehp_hpc.c:979: `IRQ_HANDLED' undeclared (first use in this function)
    drivers/pci/hotplug/pciehp_hpc.c: In function `pcie_init':
    drivers/pci/hotplug/pciehp_hpc.c:1362: implicit declaration of function `request_irq'
    
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit afdd3b3c8ee63c662bafc9194c182610b254c59b
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Nov 13 16:06:38 2005 -0800

    [PATCH] w100fb: platform device conversion fixup
    
    Fix an error in w100fb after the platform device conversion.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Cc: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae7642bb05623988d8ca82b332dad1ed7bdb8ceb
Author: Peter Osterlund <petero2@telia.com>
Date:   Sun Nov 13 16:06:36 2005 -0800

    [PATCH] packet writing oops fix
    
    There is an old bug in the pkt_count_states() function that causes stack
    corruption.  When compiling with gcc 3.x or 2.x it is harmless, but gcc 4
    allocates local variables differently, which makes the bug visible.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Cc: <stable@kernel.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5563e77078d85c4f107a0a673500c43ce57cf702
Author: Bob Picco <bob.picco@hp.com>
Date:   Sun Nov 13 16:06:35 2005 -0800

    [PATCH] cpuset: fix return without releasing semaphore
    
    It is wrong to acquire the semaphore and then return from
    cpuset_zone_allowed without releasing it.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Acked-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c8d61bcf2d762fb84dbf741df400c833cada18a
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Sun Nov 13 16:06:34 2005 -0800

    [PATCH] nvidiafb: Fix bug in nvidiafb_pan_display
    
    nvidiafb_pan_display() is incorrectly using the fields in info->var instead
    of var passed to the function.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89a071b80767c3a7ed56e13ae5e810f751b19eeb
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:06:33 2005 -0800

    [PATCH] rpaphp_pci build fix
    
    (akpm: _machine is some ppc64 thing - this is a powerpc-only driver)
    
    Signed-off-by: Serge Hallyn <serue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 005f18dfd0ed86c39716277b61dfb4bd2af91059
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Nov 13 16:06:33 2005 -0800

    [PATCH] fix task_struct leak in ptrace
    
    When ptrace_attach fails we need to drop the task_struct reference.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab767201881fec073157986c314485ab26caa4a0
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Sun Nov 13 16:06:32 2005 -0800

    [PATCH] fbdev: fix module dependency loop
    
    Exporting struct fb_display produces this warning error on depmod:
    
    WARNING: Module
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/fbcon_ud.ko
    ignored, due to loop
    WARNING: Module
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/fbcon_rotate.ko
    ignored, due to loop
    WARNING: Module
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/fbcon_cw.ko
    ignored, due to loop
    WARNING: Module
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/fbcon_ccw.ko
    ignored, due to loop
    WARNING: Module
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/fbcon.ko ignored,
    due to loop
    WARNING: Loop detected:
    /lib/modules/2.6.14-mm2/kernel/drivers/video/console/bitblit.ko needs
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c53ca784dc3e72a17dc210bee0361e13ad83d4cd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 13 16:06:31 2005 -0800

    [PATCH] nv_of.c build fix
    
    drivers/video/nvidia/nv_of.c:33: error: redefinition of `nvidia_probe_of_connector'
    drivers/video/nvidia/nv_proto.h:51: error: `nvidia_probe_of_connector' previously defined here
    
    Because the inline version depends on !CONFIG_FB_OF and the out-of-line
    version depends on CONFIG_PPC_OF.
    
    Ben said: "Yes, CONFIG_PPC_OF is the right one, must be a typo."
    
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    C: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c8d3d997ef3c0594350fba716529905b314287e
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Sun Nov 13 16:06:30 2005 -0800

    [PATCH] Update email address for Kumar
    
    Changed jobs and the Freescale address is no longer valid.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c1986ee9bea3d880bcf0d3f1a31e055778f306c7
Author: Harald Welte <laforge@gnumonks.org>
Date:   Sun Nov 13 16:06:29 2005 -0800

    [PATCH] New Omnikey Cardman 4000 driver
    
    Add new Omnikey Cardman 4000 smartcard reader driver
    
    Signed-off-by: Harald Welte <laforge@gnumonks.org>
    Cc: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77c44ab1d8e9da31bf927223e1579b44f772b579
Author: Harald Welte <laforge@gnumonks.org>
Date:   Sun Nov 13 16:06:26 2005 -0800

    [PATCH] New Omnikey Cardman 4040 driver
    
    Add new Omnikey Cardman 4040 smartcard reader driver
    
    Signed-off-by: Harald Welte <laforge@gnumonks.org>
    Cc: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bca73e4bf8563d83f7856164caa44d5f42e44cca
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 13 16:06:25 2005 -0800

    [PATCH] move pm_register/etc. to CONFIG_PM_LEGACY, pm_legacy.h
    
    Since few people need the support anymore, this moves the legacy
    pm_xxx functions to CONFIG_PM_LEGACY, and include/linux/pm_legacy.h.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95e861db3eaba7bc99f8605db70103ec3d078203
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sun Nov 13 16:06:24 2005 -0800

    [PATCH] reorder struct files_struct
    
    The file_lock spinlock sits close to mostly read fields of 'struct
    files_struct'
    
    In SMP (and NUMA) environments, each time a thread wants to open or close
    a file, it has to acquire the spinlock, thus invalidating the cache line
    containing this spinlock on other CPUS.  So other threads doing
    read()/write()/...  calls that use RCU to access the file table are going
    to ask further memory (possibly NUMA) transactions to read again this
    memory line.
    
    Move the spinlock to another cache line, so that concurrent threads can
    share the cache line containing 'count' and 'fdt' fields.
    
    It's worth up to 9% on a microbenchmark using a 4-thread 2-package x86
    machine.  See
    http://marc.theaimsgroup.com/?l=linux-kernel&m=112680448713342&w=2
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6c7ac081bf6cafcf780b919ee97978f1d01a0d7
Author: Karsten Wiese <annabellesgarden@yahoo.de>
Date:   Sun Nov 13 16:06:22 2005 -0800

    [PATCH] x86_64 two timer entries in /sys
    
    attached patch renames one instance of
    	/sys/devices/system/timer
    to
    	/sys/devices/system/timer_pit
    to avoid a name clash with another instance created in time.c.
    
    Acked-by: Andi Kleen <ak@muc.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47936357c0d14809c3c9547e532511f6625654b2
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sun Nov 13 16:06:21 2005 -0800

    [PATCH] x86_64: fix tss limit
    
    Fix the x86_64 TSS limit in TSS descriptor.
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Acked-by: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9d39130123238ac18478a42e25cb7996eacfcc0
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 13 17:47:51 2005 -0500

    [libata sata_mv] fix tons of 50XX bugs

commit 4ba529a8a39e15688b6a3d31b11930d1f8a1edad
Merge: 41866a5... dcc2d1e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 13:45:00 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit dcc2d1e7f0acf7d3f7ae632a73cd5f828ef9de20
Author: Mark Lord <mlord@pobox.com>
Date:   Sun Nov 13 16:22:06 2005 -0500

    [libata passthru] address slave devices correctly

commit e12a1be6e8fa47ae6cdc4127a1b4640e19c288eb
Author: Mark Lord <liml@rtr.ca>
Date:   Sat Nov 12 18:55:45 2005 -0500

    [PATCH] libata: fix comments on ata_tf_from_fis()
    
    Fix description on comments for ata_tf_from_fis().
    
    Signed-off-by: Mark Lord <mlord@pobox.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 41866a56cc4e676240b94ed8eaeca375aaef7496
Merge: f3a9388... 5b9d1f1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 13 12:30:14 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/tglx/mtd-2.6

commit 5b9d1f19a7d6f13a97ac3eea9a1caea011ebd0ae
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Sun Nov 13 19:33:24 2005 +0100

    [JFFS2] Remove broken and useless debug code
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ef63d0049a28008c133e83743681c66e8b0872be
Author: Sean Young <sean@mess.org>
Date:   Wed Nov 9 00:12:50 2005 +0000

    [MTD] maps: Replace dependency on non existing config option
    
    CONFIG_ELAN doesn't exist any more; CONFIG_X86_ELAN is too specific
    so make ts-5500 memory map dependant on CONFIG_X86.
    
    Signed-off-by: Sean Young <sean@mess.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit f3a9388e4ebea57583272007311fffa26ebbb305
Author: Chris Wright <chrisw@osdl.org>
Date:   Fri Nov 11 17:20:14 2005 -0800

    [PATCH] VFS: local denial-of-service with file leases
    
     Remove time_out_leases() printk that's easily triggered by users.
    
     Signed-off-by: Chris Wright <chrisw@osdl.org>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit dc15ae14e97ee9d5ed740cbb0b94996076d8b37e
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Nov 10 19:08:00 2005 -0500

    [PATCH] VFS: Fix memory leak with file leases
    
     The patch
     http://linux.bkbits.net:8080/linux-2.6/diffs/fs/locks.c@1.70??nav=index.html
     introduced a pretty nasty memory leak in the lease code. When freeing
     the lease, the code in locks_delete_lock() will correctly clean up
     the fasync queue, but when we return to fcntl_setlease(), the freed
     fasync entry will be reinstated.
    
     This patch ensures that we skip the call to fasync_helper() when we're
     freeing up the lease.
    
     Signed-off-by: J. Bruce Fields <bfields@fieldses.org>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit e9c05afa80ba9368ec5f78d493b17a8f836ef508
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Nov 14 00:24:18 2005 +0900

    [PATCH] sil24: add missing ata_pad_free()
    
    sil24_port_stop() is missing call to ata_pad_free() thus leaking pad
    buffer when a port is stopped.  This patch adds it.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee31b337852ca8a65840702544ff5c64d37740f5
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 13 15:28:51 2005 +0000

    [SERIAL] Fix Bug 4900: S3 resume oops with irattach - Thinkpad A21m
    
    If we fail to re-startup a serial port on resume, shut it down
    immediately and mark it as an error condition.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bd5d080ab99642e3245ef7cfa54490384c01d878
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Nov 13 10:07:48 2005 +0000

    [ARM] 3160/1: SharpSL: Add driver for Akita specific GPIOs
    
    Patch from Richard Purdie
    
    Add a driver for the extra GPIOs found on the Sharp SL-C1000 (Akita).
    These GPIOs are found on a Maxim MAX7310 I2C i/o expander chip. A
    generic GPIO driver for the MAX7310 was attempted but this mini
    driver is a much simpler and much more effective solution avoiding
    several issues and complexity the generic driver had (as discussed
    on LKML).
    
    The platform device is required so the device parent can be set
    correctly which ensures the device is one of the last to suspend
    and first to resume. Whilst the i2c suspend/resume calls can be
    influenced, nothing guarantees this is easlier/later than the
    subsystems the gpios are used on which are all independent of i2c
    (sound, irda, video/backlight etc.).
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e8b6f7f437a624fc2e2a2ec92fbeffdcf6f0e11e
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Nov 13 10:07:47 2005 +0000

    [ARM] 3159/1: SharpSL: Add PM device driver for the SL-Cx00 machines.
    
    Patch from Richard Purdie
    
    Add a SharpSL PM device driver for the SL-Cxx00 machines.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d72f25b0dfb0807bd758da56a7ed88c0eb6e70d8
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Nov 13 10:07:46 2005 +0000

    [ARM] 3158/1: SharpSL: Add PM device driver for the SL-C7x0 machines.
    
    Patch from Richard Purdie
    
    Add a SharpSL PM device driver for the SL-C7x0 machines.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 865052fd51a4f95a9c61961198695877ddc3dc9e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 13 09:53:34 2005 +0000

    [ARM] Re-fix footbridge
    
    That's __phys_to_pfn, not __phy_to_pfn.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2a47ce06d534692f9bd2bf4e90a20fc9b1054c39
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 23:05:14 2005 -0500

    [libata sata_mv] call phy fixups during init, as well as phy reset

commit 1b98a8221e3c9c86ae7e292ba7542d2dd6f10eb9
Merge: e89dc92... 9e6c67f...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Nov 12 19:53:33 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 101ffae26c23ea928fce6d31a8b4901327d91a15
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 22:17:49 2005 -0500

    [libata sata_mv] move code around
    
    No content changes.  Move 60xx code to be closer to other 60xx code.

commit 522479fb98c6667f081e75f87e298e413c0b1db8
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 22:14:02 2005 -0500

    [libata sata_mv] hardware initialization work
    
    Implement flash reset and PCI reset on 50xx and 60xx.
    Implement LED enable on 50xx.

commit 47c2b677daeed9c79ecb7167c211ff36876ea611
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 21:13:17 2005 -0500

    [libata sata_mv] mv_hw_ops for hardware families; new errata
    
    - eliminate a bunch of redundant tests by creating a per-chip-family
      set of hooks, mv_hw_ops
    - implement more errata, from newer Marvell GPL'd driver

commit ba3fe8fb6a469390a14379519915f3c39a973d99
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 19:08:48 2005 -0500

    [libata sata_mv] move code around
    
    No content change, just prepping up future mv_hw_ops modularization.

commit 807277cbf9a240b133ee378a53b65375088ef62a
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Sat Nov 12 23:34:06 2005 +0100

    [PCMCIA] inform user of insertion and ejection events
    
    Print out minimal information in dmesg whnever a CardBus or PCMCIA card
    is inserted into or ejected from a slot. This will make debugging certain
    types of bugs much easier, and is similar to output produced by other
    hotpluggable buses.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 270c7a721548d116d9e054f48469e75cb0f35288
Author: Florin Malita <fmalita@gmail.com>
Date:   Sat Nov 12 22:09:22 2005 +0000

    [SERIAL] sa1100_start_tx spinlock recursion
    
    The serial core aquires the port spinlock before calling
    port->ops->start_tx(), so sa1100_start_tx() shouldn't try to lock it
    again.
    
    BUG: spinlock recursion on CPU#0, init/1
     lock: c0205f20, .magic: dead4ead, .owner: init/1, .owner_cpu: 0
    [<c0022cdc>] (dump_stack+0x0/0x14) [<c00dc338>] (spin_bug+0x0/0xbc)
    [<c00dc6b0>] (_raw_spin_lock+0x0/0x170)  r8 = 00000007  r7 = C02FE0070
    [<c018a2a8>] (_spin_lock_irqsave+0x0/0x24)  r4 = C0205F20
    [<c0112110>] (sa1100_start_tx+0x0/0x40)  r4 = C038C000
    [<c010ee38>] (__uart_start+0x0/0x5c) [<c010ee94>] (uart_start+0x0/0x3
    [<c010f1d0>] (uart_write+0x0/0xdc) [<c00fee34>] (write_chan+0x0/0x370
    
    Signed-off-by: Florin Malita <fmalita@gmail.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fa609435a6edaaca14a646d470d7e10abebc8604
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sat Nov 12 22:06:31 2005 +0000

    [SERIAL] Claim Wacom tablet device on HP tc1100 tablet
    
    Claim the WACF005 device.  This is the pen display pointing device on
    the HP Compaq tc1100 Tablet PC.  More information about using this
    device, including using it as an X pointer device:
    
        http://www.theory.bham.ac.uk/staff/schofield/linux/tc1100/
    
    Christopher Kemp <ck231@cam.ac.uk> did the legwork of determining that
    the WACF005 is really just a plain old UART and doing an initial ACPI
    driver (before we had PNPACPI), and David Ludlow <dave@adsllc.com>
    confirmed that PNPACPI + the attached patch is now sufficient:
    
        pnp: Device 00:05 activated.
        ttyS4 at I/O 0x300 (irq = 4) is a 16550A
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 38801e2e54308ec52fc580c0fcdee98fe8696195
Author: Andrey Volkov <avolkov@varma-el.com>
Date:   Sat Nov 12 22:04:06 2005 +0000

    [SERIAL] Fix mpc52xx_uart.c
    
    Fix copy-paste bug in mpc52xx_uart.c (pdev<->dev)
    
    Signed-off-by: Andrey Volkov <avolkov@varma-el.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 46677736bec5c44601987e8780e55bc242e0aa46
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Nov 12 22:00:27 2005 +0000

    [SERIAL] dz: Use CKSEG1ADDR to setup mappings.
    
    Use physical addresses at the interface level, letting drivers remap
    them as appropriate.
    
    Signed-off-by: Maciej W. Rozycki <macro@linux-mips.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fd8c597214f868df7c0055c54e27baaae8df9e70
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Nov 12 21:59:59 2005 +0000

    [SERIAL] dz: Nuke trailing whitespace
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5c8c755ce508a9d41d8a8d80fff387cb4e2929fc
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Nov 12 21:58:05 2005 +0000

    [SERIAL] don't disable xscale serial ports after autoconfig
    
    xscale-type UARTs have an extra bit (UUE) in the IER register that has
    to be written as 1 to enable the UART.  At the end of autoconfig() in
    drivers/serial/8250.c, the IER register is unconditionally written as
    zero, which turns off the UART, and makes any subsequent printch() hang
    the box.
    
    Since other 8250-type UARTs don't have this enable bit and are thus
    always 'enabled' in this sense, it can't hurt to enable xscale-type
    serial ports all the time as well.  The attached patch changes the
    autoconfig() exit path to see if the port has an UUE enable bit, and if
    yes, to write UUE=1 instead of just putting a zero into IER, using the
    same test as is used at the beginning of serial8250_console_write().
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1cf99be560e471a868e14b12c08b0ae383966cec
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 21:49:36 2005 +0000

    [ARM] Use correct IO operations for Pleb
    
    Use read/write IO operations rather than in/out, as per other
    SA1100 platforms.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dfb279c97510da659816f4f055146bb1f9f0a870
Author: Dominik Brodowski <linux@dominikbrodowski.net>
Date:   Thu Nov 10 16:26:13 2005 +0100

    [PCMCIA] i82365: use new platform_device helpers
    
    Use the new platform_device helpers in the i82365 driver to get rid of the
    "device 'i823650' does not have a release() function" warning, and to solve
    bug #3676.
    
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit c35bf4a593631850ab437b37ddcded4e05548e9e
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sat Nov 12 20:25:25 2005 +0000

    [ARM] Fix collie for -rc1
    
    This fixes compilation for collie after -rc1 platform_device
    changes. And yes, it even boots.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9e6c67fd2716720d9029d38ea25884efcfdedeb6
Merge: 8225ccb... 9ffb83b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 12 12:23:25 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 8225ccbaf01b459cf1e462047a51b2851e756bc1
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 12 12:15:16 2005 -0800

    [IPV6]: Fix unnecessary GFP_ATOMIC allocation in fib6 dump
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a2d7222f0f5861ce13b9308c30bd18f28ebeb583
Author: Vlad Drukker <vlad@storewiz.com>
Date:   Sat Nov 12 12:13:14 2005 -0800

    [NETFILTER] {ip,nf}_conntrack TCP: Accept SYN+PUSH like SYN
    
    Some devices (e.g. Qlogic iSCSI HBA hardware like QLA4010 up to firmware
    3.0.0.4) initiates TCP with SYN and PUSH flags set.
    
    The Linux TCP/IP stack deals fine with that, but the connection tracking
    code doesn't.
    
    This patch alters TCP connection tracking to accept SYN+PUSH as a valid
    flag combination.
    
    Signed-off-by: Vlad Drukker <vlad@storewiz.com>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit efacfbcb6c88677809f44a574fbcd9824835dccb
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Nov 12 12:12:05 2005 -0800

    [IPV6]: Fix rtnetlink dump infinite loop
    
    The recent change to netlink dump "done" callback handling broke IPv6
    which played dirty tricks with the "done" callback.  This causes an
    infinite loop during a dump.
    
    The following patch fixes it.
    
    This bug was reported by Jeff Garzik.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9ffb83bcc5c5337f980dc0576bf13ac9bd4fd33d
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Nov 12 12:11:12 2005 -0800

    [SBUSFB]: implement ->compat_ioctl
    
    This patch adds a new function, sbusfb_compat_ioctl() to
    drivers/video/sbuslib.c and uses it as compat_ioctl in all sbus fb
    drivers
    
    This remove the last per-arch compat ioctl bits in
    arch/sparc64/kernel/ioctl32.c so it would be nice if people could test
    if this actually copiles and works and if yes apply it :)
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 535f8d65d808421a6e1730990e39d41885b1f951
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Nov 12 12:10:54 2005 -0800

    [SPARC]: Fix RTC compat ioctl kernel log spam.
    
    On Fri, Nov 11, 2005 at 12:58:40PM -0800, David S. Miller wrote:
    >
    > This change:
    >
    > diff-tree 8ca2bdc7a98b9584ac5f640761501405154171c7 (from feee207e44d3643d19e648aAuthor: Christoph Hellwig <hch@lst.de>
    > Date:   Wed Nov 9 12:07:18 2005 -0800
    >
    >     [SPARC] sbus rtc: implement ->compat_ioctl
    >
    >     Signed-off-by: Christoph Hellwig <hch@lst.de>
    >     Signed-off-by: David S. Miller <davem@davemloft.net>
    >
    > results in the console now getting spewed on sparc64 systems
    > with messages like:
    >
    > [   11.968298] ioctl32(hwclock:464): Unknown cmd fd(3) cmd(401c7014){00} arg(efc
    > What's happening is hwclock tries first the SBUS rtc device ioctls
    > then the normal rtc driver ones.
    >
    > So things actually worked better when we had the SBUS rtc compat ioctl
    > directly handled via the generic compat ioctl code.
    >
    > There are _so_ many rtc drivers in the kernel implementing the
    > generic rtc ioctls that I don't think putting a ->compat_ioctl
    > into all of them to fix this problem is feasible.  Unless we
    > write a single rtc_compat_ioctl(), export it to modules, and hook
    > it into all of those somehow.
    >
    > But even that doesn't appear to have any pretty implementation.
    >
    > Any better ideas?
    
    We had similar problems with other ioctls where userspace did things
    like that.  What we did there was to put the compat handler to generic
    code.  The patch below does that, adding a big comment about what's
    going on and removing the COMPAT_IOCTL entires for these on powerpc
    that not only weren't ever useful but are duplicated now aswell.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4f005551a8fac21b6fec8d10d57cd12d373d79e1
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sat Nov 12 00:55:15 2005 -0500

    [PATCH] I8K: fix /proc reporting of blank service tags
    
    Make /proc/i8k display '?' when service tag is blank in BIOS.
    This fixes segfault in i8k gkrellm plugin.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5e1ae9729d97d3c543cc70d7865df1e724da0d0
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sat Nov 12 18:53:48 2005 +0000

    [ARM] 3154/1: SharpSL PM Driver updates
    
    Patch from Richard Purdie
    
    Updates to the SharpSL PM driver including cleanups from both
    Pavel Machek and myself and updates after the platform device
    changes to make it compile again.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 94cabd003e989556d8bf84027d96284dc2d99c76
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sat Nov 12 18:53:48 2005 +0000

    [ARM] 3149/1: SharpSL: Add Akita (SL-C1000) machine support
    
    Patch from Richard Purdie
    
    Add the core machine support for the Sharp SL-C1000 (Akita)
    and enable the Kconfig selection for it.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 44e6f84e3597905816a0440e7218d2ed072120da
Author: Prakash Punnoor <prakash@punnoor.de>
Date:   Sat Nov 12 09:17:38 2005 +0100

    [PATCH] fix b2c2 dvb undefined symbol
    
    This fixes
    
      drivers/built-in.o: In function `flexcop_frontend_init':
      : undefined reference to `lgdt330x_attach'
    
    [ Side note: I really dislike that dvb people want to include every
      possible frontend into the kernel - I only need the mt312 one for my
      Skystar2 card.  I'd highly appreciate it this would be made selectable
      again... ]
    
    Signed-off-by: Prakash Punnoor <prakash@punnoor.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae5684ceb478bfbb7c3c5a49970e20f4701dbdf7
Merge: 0fde7f5... 02eaa66...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 12 10:39:03 2005 -0800

    Merge branch 'upstream-fixes' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 0fde7f591860e48dd210144ff24c061da03bfa39
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 12 10:14:02 2005 -0800

    Revert "[PATCH] fbcon: Add rl (Roman Large) font"
    
    This reverts 998e6d51162707685336ff99c029c8911b270d32 commit.

commit bca1c4eb9411533d613123618c0d127fae532595
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 12:48:15 2005 -0500

    [libata sata_mv] implement a bunch of errata workarounds
    
    Based largely on the GPL'd Marvell vendor driver.

commit a1510210c45c9af5784d64596c7025997e1add7d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 17:45:45 2005 +0000

    [ARM] Ensure sl82c105 IDE interfaces are serialized when using DMA
    
    We don't want to reset the DMA state machine while the other
    channel is in use.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9a68c1b9580886a2ff07a42733adb7583ee3d9ac
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 12:40:41 2005 -0500

    [libata sata_mv] note driver is "HIGHLY EXPERIMENTAL" in Kconfig

commit 8b260248d9e0e8b64bb72fd4dee03ad86984c344
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 12:32:50 2005 -0500

    [libata sata_mv] trim trailing whitespace

commit 69177e890cd43e781c3aa9eed98ea091c4cb0788
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 17:26:21 2005 +0000

    [MMC] mmci doesn't need asm/irq.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit da2660d2c40496b1699c4de652f6d0cfd13937c0
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 17:21:47 2005 +0000

    [ARM] Restore apparant pointless change in arch/arm/kernel/smp.c
    
    Restore smp.c back to how it used to be.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9648f552f9e08548a3979643b99f14c21c7d8f5b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 16:57:29 2005 +0000

    [ARM] Fix broken sl82c105 DMA prevention
    
    We must _never_ _ever_ on pain of death enable IDE DMA on SL82C105
    chipsets where the southbridge revision is <= 5, otherwise data
    corruption will occur.
    
    Strangely this used to work, but something has changed in the upper
    echelons of the IDE layer to break the hosts decision to deny DMA.
    Let's make it crystal clear to the IDE layer that we know best.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6460177f42358a744e110cc583adbe8a36f6aa08
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 12 16:49:37 2005 +0000

    [ARM] Fix Footbridge-based machines
    
    Unfortunately, all these machines got broken when the PFN memory
    setup changes happened.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 095fec887eaa1c38d17c0c929a6733c744a9fa1f
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 09:50:49 2005 -0500

    [libata sata_mv] minor fixes
    
    - clear SError and EDMA irq cause registers, after re-init'ing the phy
    - move enums with type suffix 'U' to their own enum

commit 3beb2077125d8457118140653e75efc998ac6630
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 18:22:36 2005 +0100

    [BLOCK] elevator: elv_latter/former_request update
    
    With generic dispatch queue update, implicit former/latter request
    handling using rq->queuelist.prev/next doesn't work as expected
    anymore.  Also, the only iosched dependent on this feature was
    noop-iosched and it has been reimplemented to have its own
    latter/former methods.  This patch removes implicit former/latter
    handling.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 5a7c47eefb31f6b4982add7473ef3e551b058ea4
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 18:21:30 2005 +0100

    [BLOCK] noop-iosched: reimplementation of request dispatching
    
    The original implementation directly used dispatch queue.  As new
    generic dispatch queue imposes stricter rules over ioscheds and
    dispatch queue usage, this direct use becomes somewhat problematic.
    This patch reimplements noop-iosched such that it complies to generic
    iosched model better.  Request merging with q->last_merge and
    rq->queuelist.prev/next work again now.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit b740d98f5614e34b4cff2e1e67826f007c8d4f30
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 18:20:16 2005 +0100

    [BLOCK] cfq-iosched: fix slice_left calculation
    
    When cfq slice expires, remainder of slice is calculated and stored in
    cfqq->slice_left.  Current code calculates the opposite of remainder -
    how many jiffies the cfqq has used past slice end.  This patch fixes
    the bug.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit be56123568072d223263a6a70a087d1e7faabb83
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 08:55:01 2005 +0100

    [BLOCK] fix string handling in elv_iosched_store
    
    elv_iosched_store doesn't terminate string passed from userspace if
    it's too long.  Also, if the written length is zero (probably not
    possible), it accesses elevator_name[-1].  This patch fixes both bugs.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 15853af9f07673680439b224519c692f1352b959
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 08:52:05 2005 +0100

    [BLOCK] Implement elv_drain_elevator for improved switch error detection
    
    This patch adds request_queue->nr_sorted which keeps the number of
    requests in the iosched and implement elv_drain_elevator which
    performs forced dispatching.  elv_drain_elevator checks whether
    iosched actually dispatches all requests it has and prints error
    message if it doesn't.  As buggy forced dispatching can result in
    wrong barrier operations, I think this extra check is worthwhile.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 1b5ed5e1f1315e37380e55102f58bcae3344d2a7
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 08:49:19 2005 +0100

    [BLOCK] cfq-iosched: cfq forced dispatching fix
    
    cfq forced dispatching might not return all requests on the queue.
    This bug can hang elevator switchinig and corrupt request ordering
    during flush sequence.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 407df2aa29a33fe16f6ee4bac8cdfa414783b9f1
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Nov 10 08:48:21 2005 +0100

    [BLOCK] elevator: run queue in elevator_switch
    
    elevator_dispatch needs to run queue after forced dispatching;
    otherwise, the queue might stall.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 47a004103d663bbba8c7c433a710a86f44351cf3
Author: Jens Axboe <axboe@suse.de>
Date:   Wed Nov 9 13:38:47 2005 +0100

    [BLOCK] Document the READ/WRITE splitup of the disk stats
    
    Use the symbolic name where appropriate and add a comment to the
    disk_stats structure.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit cff3ba2204a0797b05150a4b2b7f40a55023d952
Author: Zachary Amsden <zach@vmware.com>
Date:   Wed Nov 9 13:24:20 2005 +0100

    [BLOCK] elevator init fixes #2
    
    In addition to the first patch, which is probably goodness, I found the
    cause of my panic - applying this patch fixes it and now I am booting.
    If the chosen_elevator[] is not found, fall back to noop.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit b8ea2cb5120a92fe63053a2896be42abbb919a76
Author: Zachary Amsden <zach@vmware.com>
Date:   Wed Nov 9 13:23:01 2005 +0100

    [BLOCK] elevator init fixes
    
    I got a panic in the elevator code, backtrace :
    
    Unable to handle kernel NULL pointer dereference at virtual address 00000060
    ..
    EIP is at elevator_put+0x0/0x30 (null elevator_type passed)
    ..
    elevator_init+0x38
    blk_init_queu_node+0xc9
    floppy_init+0xdb
    do_initcalls+0x23
    init+0x10a
    init+0x0
    
    Clearly if the kmalloc here fails, e->elevator_type is not yet set; this
    appears to be the correct fix, but I think I probably hit the second case
    due to a race condition.  Someone more familiar with the elevator code
    should look at this more closely until I can determine if I can reproduce.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 02eaa66629a29cd5712fe81a360c3ab5b1fc9531
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 01:32:19 2005 -0500

    [libata ahci] set port ATAPI bit correctly
    
    Although according to the documentation this largely only affects
    desktop LED control, let's make sure we set the ATAPI bit when we
    have an ATAPI device attached to the port.

commit 828d09de4a6c922517f533093583b9fe8cbf5808
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 12 01:27:07 2005 -0500

    [libata ahci, qstor] fix miscount of scatter/gather entries
    
    Don't directly reference qc->n_elem, as that might cause an off-by-one
    error for misaligned (padded) ATAPI transfers.

commit cd52d1ee9a92587b242d946a2300a3245d3b885a
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 17:43:36 2005 -0800

    Linux v2.6.15-rc1
    
    As per the new release rules: two weeks of merging, and then an -rc1 and
    calming down for the next release.

commit 508862e493f1107d17fa5a0015084b1773ffc41e
Merge: 9cf93d7... 049b3ff...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 17:00:17 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 9cf93d7b2f4516271ccf5b48f958bd474cf9dd67
Merge: 4012215... c6bd232...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 16:30:35 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 401221501af4b87b502eca36ece97b4191380082
Merge: 63f45b8... ff51224...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 16:29:47 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 63f45b80947cb0819673860f6970f483e2cab21d
Merge: 85837eb... b2d1a8a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 16:29:22 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/bunk/trivial

commit 049b3ff5a86d0187184a189d2e31b8654d58fe22
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Fri Nov 11 16:08:24 2005 -0800

    [SCTP]: Include ulpevents in socket receive buffer accounting.
    
    Also introduces a sysctl option to configure the receive buffer
    accounting policy to be either at socket or association level.
    Default is all the associations on the same socket share the
    receive buffer.
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 19c7e9eef503dc1ae926f3d26c56f88bee568d7b
Author: Vladislav Yasevich <vladislav.yasevich@hp.com>
Date:   Fri Nov 11 16:07:40 2005 -0800

    [SCTP]: Fix ia64 NaT consumption fault with sctp_sideffect commands.
    
    On ia64, it is possible to get NaT Consumption Fault and a kernel panic
    when initializing sctp sideeffect commands arguments.  The union
    sctp_arg_t contains different sized elements and when loading a smaller
    sized element (32 or 16 bits), it is possible for a speculative load to
    fail and result in a NaT bit set which causes a kernel crash.  The easy
    way to get around it is to load the largerst member of the union.
    
    Signed-off-by: Vladislav Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1e7d3d90c95b32374057e454417b2f50440be20e
Author: Vladislav Yasevich <vladislav.yasevich@hp.com>
Date:   Fri Nov 11 16:06:16 2005 -0800

    [SCTP]: Remove timeouts[] array from sctp_endpoint.
    
    The socket level timeout values are maintained in sctp_sock and
    association level timeouts are in sctp_association. So there is
    no need for ep->timeouts.
    
    Signed-off-by: Vladislav Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 23ec47a0889dabf4b9e7f8d52e848194734159ee
Author: Vladislav Yasevich <vladislav.yasevich@hp.com>
Date:   Fri Nov 11 16:05:55 2005 -0800

    [SCTP]: Fix potential NULL pointer dereference in sctp_v4_get_saddr
    
    It is possible to get to sctp_v4_get_saddr() without a valid
    association.  This happens when processing OOTB packets and
    the cached route entry is no longer valid.
    However, when responding to OOTB packets we already properly
    set the source address based on the information in the OOTB
    packet.  So, if we we get to sctp_v4_get_saddr() without an
    association we can simply return.
    
    Signed-off-by: Vladislav Yasevich <vladislav.yasevich@hp.com>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e89dc9209692293434da45ec31826a55becb91c0
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 11 15:18:19 2005 -0800

    [CIFS] Cleanup sparse warnings for unicode little endian casts
    
    Following Shaggy's suggestion, do a better job on the unicode string
    handling routines in cifs in specifying that the wchar_t are really
    little endian widechars (__le16).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 8eb55910521f3449a8125a38dd32fb676703395d
Author: David S. Miller <davem@davemloft.net>
Date:   Fri Nov 11 15:05:47 2005 -0800

    [IPV6]: Fix inet6_init missing unregister.
    
    Based mostly upon a patch from Olaf Kirch <okir@suse.de>
    
    When initialization fails in inet6_init(), we should
    unregister the PF_INET6 socket ops.
    
    Also, check sock_register()'s return value for errors.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 85837ebdd7bb3e96a60e9b4c6af6c60d1273bc67
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Fri Nov 11 16:38:53 2005 -0600

    [PATCH] kill libata scsi_wait_req usage (make libata compile with scsi-misc changes)
    
    scsi_wait_req does not exist any more in the SCSI layer.  This patch
    makes it so libata can compile again.
    
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39990b5eb93c624abc345f81c30f1a9c7f2ec3f3
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 14:27:32 2005 -0800

    ppc64: default build as the merged 'powerpc' architecture
    
    After the last merge of the new unified 'powerpc' architecture, ppc64 no
    longer compiles cleanly as a standalone architecture.  Some bits and
    pieces still exist as files under the old ppc64 hierarchy, but the old
    "ARCH=ppc64" is dead.
    
    So if "uname" says ppc64, that now implies that the default architecture
    should be "powerpc".
    
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f068992a1bccda5574b4f6d33458ef806686d7f
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Nov 11 14:06:01 2005 -0800

    [IB] srp: increase max_luns
    
    Increase SRP max_luns to 512 to match the kernel's default, since SRP
    storage targets can have lots of LUNs and the SRP initiator itself
    doesn't have any particular limit.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit d72d6f1b5647258e83819b51f72fe37e2b7d7965
Merge: 33ddcbb... 8a87a0b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 14:04:37 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-for-linus-2.6

commit 33ddcbbfb1d9f1bf1259531ae0ba8400ea3c8ba1
Merge: 4d45cba... 9eb5c94...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 14:03:49 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit c6bd2328434a3a6f8f6bc6f77f49c12ec966448a
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 11 21:56:33 2005 +0000

    [ARM] Update mach-types
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 60cef2988af29299f0cc01fc8f0a5dcf55baf776
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Fri Nov 11 21:53:30 2005 +0000

    [ARM] 3147/1: update ixp2000 defconfigs to 2.6.14-git13
    
    Patch from Lennert Buytenhek
    
    Update the ixp2000 defconfigs to 2.6.14-git13.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8adbb3718d6cead304f84f7dd60ad65274df0b15
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Nov 11 21:51:49 2005 +0000

    [ARM] 3152/1: make various assembly local labels actually local (the rest)
    
    Patch from Nicolas Pitre
    
    For assembly labels to actually be local they must start with ".L" and
    not only "." otherwise they still remain visible in the final link and
    clutter kallsyms needlessly, and possibly make for unclear symbolic
    backtrace. This patch simply inserts a"L" where appropriate. The code
    itself is unchanged.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a9c4814d8db200052c07d8b68e76c134682c4569
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Nov 11 21:51:48 2005 +0000

    [ARM] 3151/1: make various assembly local labels actually local (io-*.S)
    
    Patch from Nicolas Pitre
    
    For assembly labels to actually be local they must start with ".L" and
    not only "." otherwise they still remain visible in the final link and
    clutter kallsyms needlessly, and possibly make for unclear symbolic
    backtrace. This patch simply inserts a"L" where appropriate. The code
    itself is unchanged.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7ba11a9c1598ced7d719648a5998a2a81ba06dc9
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Nov 11 21:51:47 2005 +0000

    [ARM] 3150/1: make various assembly local labels actually local (uaccess.S)
    
    Patch from Nicolas Pitre
    
    For assembly labels to actually be local they must start with ".L" and
    not only "." otherwise they still remain visible in the final link and
    clutter kallsyms needlessly, and possibly make for unclear symbolic
    backtrace. This patch simply inserts a"L" where appropriate. The code
    itself is unchanged.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4d45cbacb8488ae3172065e4fca608079492231b
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Fri Nov 11 12:48:56 2005 -0800

    [SPARC64]: Restore 2.4.x /proc/cpuinfo behavior for "ncpus probed" field.
    
    Noticed by Tom 'spot' Callaway.
    
    Even on uniprocessor we always reported the number of physical
    cpus in the system via /proc/cpuinfo.  But when this got changed
    to use num_possible_cpus() it always reads as "1" on uniprocessor.
    This change was unintentional.
    
    So scan the firmware device tree and count the number of cpu
    nodes, and report that, as we always did.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9eb5c94ef217d61d974f384b29b7298490b0a4d9
Author: Patrick Caulfield <patrick@tykepenguin.com>
Date:   Fri Nov 11 12:04:28 2005 -0800

    [DECNET]: fix SIGPIPE
    
    Currently recvmsg generates SIGPIPE whereas sendmsg does not; for the
    other stacks it seems to be the other way round!
    
    It also fixes the bug where reading from a socket whose peer has shutdown
    returned -EINVAL rather than 0.
    
    Signed-off-by: Patrick Caulfield <patrick@tykepenguin.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 8b94bcb923dff923a5a5b7c6f890702a54cb19cf
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 11 11:41:00 2005 -0800

    [CIFS] Fix CIFS "nobrl" mount option so does not disable sending brl requests
    for all mounts just that particular mount.
    
    Found by Arjan Vand de Ven
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit ff51224cab12845c8bd539ca1f2dc18cc851b445
Author: Mark Maule <maule@sgi.com>
Date:   Fri Nov 11 11:52:43 2005 -0600

    [IA64-SGI] set altix preferred console
    
    Fix default VGA console on SN platforms.  Since SN firmware does not pass
    enough ACPI information to identify VGA cards and the associated legacy IO/MEM
    addresses, we rely on the EFI PCDP table.  Since the linux pcdp driver is
    optional (and overridden if console= directives are used) SN duplicates a
    portion of the pcdp scan code to identify if there is a usable console VGA
    adapter.  Additionally, dup necessary pcdp related structs to avoid dragging
    drivers/pcdp.h into a more public location.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 837cd0bdf54dd954cd6aa43d250f75ab5db79617
Author: Robin Holt <holt@sgi.com>
Date:   Fri Nov 11 09:35:43 2005 -0600

    [IA64] 4-level page tables
    
    This patch introduces 4-level page tables to ia64.  I have run
    some benchmarks and found nothing interesting.  Performance has
    consistently fallen within the noise range.
    
    It also introduces a config option (setting the default to 3
    levels).  The config option prevents having 4 level page
    tables with 64k base page size.
    
    Signed-off-by: Robin Holt <holt@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 388f7ef720a982f49925e7b4e96f216f208f8c03
Merge: d5eebf4... 560c22f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 09:26:39 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit d5eebf428ac91ad12d316a391b734670d61480d8
Merge: 5643f00... e99f8b5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 09:25:54 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 5643f000c1e10ab991182478b76550e1364c3570
Merge: 177294d... 3ae5eae...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 09:24:26 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-drvmodel

commit 177294d19174cf92de22434bb1fc9a8ecdbbe658
Author: Hironobu Ishii <hishii@soft.fujitsu.com>
Date:   Fri Nov 11 08:12:21 2005 -0600

    [PATCH] ipmi: fix inconsistent spinlock usage
    
    Part of a patch was accidentally reverted, this corrects an
    inconsistent spinlock use in the IPMI message handler.
    
    Signed-off-by: Hironobu Ishii <hishii@soft.fujitsu.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b80b11c3faa460cf42904a1e368bf2cd075aff6
Merge: b0b7b8e... 271c3f3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 09:22:27 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit b0b7b8eac33dc0f58ce9e7b7a61cf6529ee0b38c
Merge: c050970... 402771c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 11 09:22:08 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit c050970a257a4060e927e497a12323e961fcbadc
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 04:43:47 2005 -0500

    [PATCH] TCP: fix vegas build
    
    Recent TCP changes broke the build.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d12eb7e11cf30c30f639b2093735af2ac177830b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Nov 10 22:10:55 2005 -0500

    [PATCH] Input: convert hdaps to dynamic input_dev allocation.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 560c22fe1fc8b3523ef422da4f1cf04aa22d1471
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 22:02:35 2005 +0000

    [PATCH] gt96100eth.c: Don't concatenate __FUNCTION__ with strings.
    
    As part of the ISO C9x conversion gcc deprecates concatenation with
    __FUNCTION__ because __FUNCTION__ is not a preprocessor macro.
    
    Signed-off-by: Clemens Buchacher <drizzd@aon.at>
    Signed-off-by: Maximilian Attems <janitor@sternwelten.at>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 557934554655ac119d96a1bdb6ed75319bb9d1b1
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Wed Nov 9 22:46:05 2005 -0500

    [PATCH] smc91x: DB1200 support.
    
    The following patch support the SMC9111 present on DB1200 boards.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 05d9c84dfbbb654f60d98d465b58d4c68222ef1c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 9 17:10:05 2005 +0000

    [PATCH] SAA9730: Driver overhaul
    
     o Try to work around some of the undocumented "features" of the SAA9730
     o Use netdev_priv() instead of the previous broken mechanism to allocate
       the private data structure.
     o Try to make sure we don't leak resources on exit.
     o No more need to call SET_MODULE_OWNER in 2.6.
     o Use pci_free_consistent instead of homegrown architecture-specific
       allocation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/saa9730.c |  531 +++++++++++++++++++++++---------------------------
     1 files changed, 249 insertions(+), 282 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 62ff0d0a0769f08806d3f50449a78f17420971e8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 9 16:44:02 2005 +0000

    [PATCH] SAA9730: Whitespace cleanup.
    
    Kill trailing whitespace, replace leading whitespace with tabs.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/saa9730.c |   98 +++++++++++++++++++++++++-------------------------
     1 files changed, 49 insertions(+), 49 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7a33e45a2498460d6daa20a1740d3185798d6026
Author: Ayaz Abdulla <aabdulla@nvidia.com>
Date:   Fri Nov 11 08:31:11 2005 -0500

    [netdrvr forcedeth] phy address scan range
    
    Added phy address 0 to the phy scan.
    
    Signed-off-by: Ayaz Abdulla <aabdulla@nvidia.com>

commit a971c32488569b5443c48168756e8ccfb0862c50
Author: Ayaz Abdulla <aabdulla@nvidia.com>
Date:   Fri Nov 11 08:30:38 2005 -0500

    [netdrvr forcedeth] support for irq mitigation
    
    This patch contains support for different modes of interrupt mitigation
    of forcedeth. It includes changes based on Jeff's comments. Currently,
    the modes are changed through module parameters since ethtool does not
    support something similar.
    
    Signed-off-by: Ayaz Abdulla <aabdulla@nvidia.com>

commit 4ea7f299bba0e4331bdbec4e1c1b90463478180d
Author: Ayaz Abdulla <aabdulla@nvidia.com>
Date:   Fri Nov 11 08:29:59 2005 -0500

    [netdrvr forcedeth] remove superfluous rx engine stop/start
    
    Signed-off-by: Ayaz Abdulla <aabdulla@nvidia.com>

commit 125d128bec1bbf81be4c198243334a6153c0b023
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Wed Nov 9 12:13:11 2005 -0600

    [PATCH] gianfar mii needs to zero out the mii_bus structure
    
    To ensure that phy_mask and any future elements of the mii_bus
    structure are initialized use kzalloc() instead of kmalloc().
    
    This fixes an issue in which phy_mask was not being initialized
    and we would skip random phy addresses when scanning.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1387780f7dbaa8c770fbbbec3b2f42cd9adf1921
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:51:42 2005 +0100

    [PATCH] s390: mail address changed
    
    [patch 7/7] s390: mail address changed
    
    From: Frank Pavlic <fpavlic@de.ibm.com>
    	- mail address changed to fpavlic@de.ibm.com
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     lcs.c       |    4 ++--
     qeth_main.c |    4 ++--
     qeth_mpc.c  |    2 +-
     qeth_mpc.h  |    2 +-
     qeth_sys.c  |    2 +-
     qeth_tso.h  |    2 +-
     6 files changed, 8 insertions(+), 8 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6c951b9051f2094dd98bafcb46e7e6b3e8813231
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:51:25 2005 +0100

    [PATCH] s390: introduce guestLan sniffer support in qeth
    
    [patch 6/7] s390: introduce guestLan sniffer support in qeth
    
    From: Peter Tiedemann  <ptiedem@de.ibm.com>
    	- introduce guestLan sniffer support in qeth
    	  feature allows a linux in a virtual machine
    	  guest to become a network LAN sniffer,
    	  monitoring and recording the networking traffic
    	  within an entire guestLan.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth.h      |    2 +
     qeth_main.c |   93 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
     qeth_mpc.h  |   11 ++++---
     3 files changed, 102 insertions(+), 4 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e08d88cccbe0dfcfbaffb704d24e19803407935d
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:51:17 2005 +0100

    [PATCH] s390: fix recovery failure of non-guestLAN devices
    
    [patch 5/7] s390: fix recovery failure of non-guestLAN devices
    
    From: Frank Pavlic <fpavlic@de.ibm.com>
    	- Recovery of non-guestLAN Layer 2 device failed due to
    	  trying to register the real MAC address we got from
    	  the READ_MAC adapter parameters command.
    	  We have to keep the "old" MAC address when we process
    	  the reply of a READ_MAC.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth.h      |   12 ++++++------
     qeth_main.c |   27 ++++++++++++++++-----------
     2 files changed, 22 insertions(+), 17 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d805d7c692e414c3adf01bb414a8c542ac2e67d1
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:50:58 2005 +0100

    [PATCH] s390: some more qeth fixes
    
    [patch 4/7] s390: some more qeth fixes
    
    From: Frank Pavlic <fpavlic@de.ibm.com>
    From: Peter Tiedemann <ptiedem@de.ibm.com>
    	- possible race on list fixed by reset
    	  list processing after every operation
    	- traffic hang fixed
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth_main.c |   11 +++++++----
     1 files changed, 7 insertions(+), 4 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6c88ad2ded1de1fe87e917b4a0a45873939c16e1
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:49:28 2005 +0100

    [PATCH] s390: qeth multicast address registration fixed
    
    [patch 3/7] s390: qeth multicast address registration fixed
    
    From: Klaus Dieter Wacker <kdwacker@de.ibm.com>
    	- when running in Layer2 mode we don't have to register
    	  the multicast IP address but only group mac address.
    	  Therefore for Layer 2 devices it is enough to go
    	  through dev->mc_list list and register these entries.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth_main.c |  106 +++++++++++++++++++++++++++++++++++++++++++++---------------
     1 files changed, 80 insertions(+), 26 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 508cc2b0e078c806bb7cc8bba22fb97a4ca99b91
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:49:15 2005 +0100

    [PATCH] s390: minor modification in qeth layer2 code
    
    [patch 2/7] s390: minor modification in qeth layer2 code
    
    From: Frank Pavlic <fpavlic@de.ibm.com>
    	- use qeth_layer2_send_setdelvlan_cb to check
    	  return code of a SET/DELVLAN IP Assist command.
    	  It fits better in qeth's design and mechanism of IP Assist
    	  command handling.
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth_main.c |   40 ++++++++++++++++++++++++++--------------
     1 files changed, 26 insertions(+), 14 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bd389b9059d8ba4edc563e77f71909d88e566b2d
Author: Frank Pavlic <fpavlic@de.ibm.com>
Date:   Thu Nov 10 13:49:02 2005 +0100

    [PATCH] s390: synthax checking for VIPA addresses fixed
    
    [patch 1/7] s390: synthax checking for VIPA addresses fixed
    
    From: Peter Tiedemann <ptiedem@de.ibm.com>
    	- synthax checking for VIPA addresses fixed
    
    Signed-off-by: Frank Pavlic <fpavlic@de.ibm.com>
    
    diffstat:
     qeth.h     |   65 ++++++++++++++++++++++++++++++++++++++++++++++++-------------
     qeth_sys.c |    6 ++---
     2 files changed, 55 insertions(+), 16 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e99f8b5efe78110e4af10f35ebf11feeef8f43b6
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Nov 8 14:09:44 2005 +0000

    [PATCH] libata: propogate host private data from probe function
    
    This will let me chop the code size of several drivers right down. In
    many cases the actual private data is very useful and constant for a
    given host controller so being able to just pass it at probe time would
    be very useful indeed (eg with the via driver would could pass the udma
    clocking and reduce the code size, or with the AMD one the UDMA
    multiplier and the offset)
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2ecc26b87a2b3e8650d3c7fe3fc85a8c73d5560d
Merge: 6af37fa... b16a228...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 08:14:56 2005 -0500

    Merge branch 'atmel'

commit b16a228d05a95b27d77d07a91688382f68ece8a7
Author: Simon Kelley <simon@thekelleys.org.uk>
Date:   Sun Oct 30 15:50:15 2005 +0000

    [PATCH] Atmel wireless update
    
    * Merge PCMCIA card table with new Brodowski PCMCIA id table.
    * Add missing entries to PCMCIA id table.
    * Other tweaks to conform with Documentation/driver-changes.txt
      (types, call request_region, etc)
    * Fix size of requested IO region.
    * Reduce printk verbosity.
    * Remove EXPERIMENTAL
    * tweak to association code - don't force shared key authentication
      when wep in use.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 29179539dac74bf46b519b889602f23841be12e8
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 08:08:03 2005 -0500

    [libata sata_mv] add Adaptec 1420SA PCI ID
    
    Contributed by Jeroen <dekien@pandora.be>

commit 271c3f35bd36613513e2c2cc90dc914a84df116e
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 11 23:04:40 2005 +1100

    powerpc: Fix some compile problems with the VDSO stuff
    
    We needed the VDSO symbols in the arch/ppc asm-offsets.c, and there
    were a few usages of _systemcfg still left lying around.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 548ccebc2a79c780724529948c79de0613f96776
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 11 22:36:34 2005 +1100

    powerpc: Fix reading and writing SPRs from xmon on 32-bit
    
    When we created the instructions to read/write SPRs in xmon, we were
    setting up a ppc64-style procedure descriptor and calling that, which
    doesn't work in 32-bit.  For 32-bit a function pointer just points
    to the instructions of the function.  This fixes it to do the right
    thing for both 32-bit and 64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 22c841c9a465a6b29a6140fcc5dae9fdb3c8674d
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 11 22:34:43 2005 +1100

    powerpc: Initialize secondary CPU setup for 32-bit SMP
    
    32-bit SMP powermacs weren't booting with ARCH=powerpc because the
    boot cpu wasn't saving away the state of various control registers,
    but the secondary CPUs were loading them from the uninitialized
    state.  This adds the necessary save-state call.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a7f290dad32ee34d931561b7943c858fe2aae503
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Fri Nov 11 21:15:21 2005 +1100

    [PATCH] powerpc: Merge vdso's and add vdso support to 32 bits kernel
    
    This patch moves the vdso's to arch/powerpc, adds support for the 32
    bits vdso to the 32 bits kernel, rename systemcfg (finally !), and adds
    some new (still untested) routines to both vdso's: clock_gettime() with
    support for CLOCK_REALTIME and CLOCK_MONOTONIC, clock_getres() (same
    clocks) and get_tbfreq() for glibc to retreive the timebase frequency.
    
    Tom,Steve: The implementation of get_tbfreq() I've done for 32 bits
    returns a long long (r3, r4) not a long. This is such that if we ever
    add support for >4Ghz timebases on ppc32, the userland interface won't
    have to change.
    
    I have tested gettimeofday() using some glibc patches in both ppc32 and
    ppc64 kernels using 32 bits userland (I haven't had a chance to test a
    64 bits userland yet, but the implementation didn't change and was
    tested earlier). I haven't tested yet the new functions.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6761c4a07378e19e3710bb69cea65795774529b1
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Fri Nov 11 08:07:11 2005 +0000

    [PATCH] powerpc: remove initrd debug printk
    
    This removes a stray debugging printk which offended Anton.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35cd8785de39c90a52287d0f041cff8a792eaa74
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Nov 11 16:42:12 2005 +1100

    [PATCH] powerpc: Move udbg code to arch/powerpc
    
    Since the udbg code in ppc64 has no ppc32 equivalent, move it straight
    over into arch/powerpc (and include/asm-powerpc for udbg.h).  In time,
    we probably want to meld the various bits and pieces of 32-bit early
    debugging code into udbg, but for now only include it on
    CONFIG_PPC64=y builds.  The only change during the move is to
    standardise the protecting #ifdef/#define in udbg.h, and move its
    banner comment above the initial #ifdef (which seems to be normal
    practice).
    
    Built and booted on POWER5 LPAR (ARCH=powerpc and ARCH=ppc64).  Built
    for 32bit multiplatform (ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a7df61a0e2b6300d8b8349c1e5e87a4336c0ab38
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 15:02:03 2005 +1100

    [PATCH] ppc64: Increase sparsemem defaults
    
    The definitions in sparsemem.h arent sufficient. We currently sell
    machines with 2TB of RAM, and in order to give us room for a few years
    growth lets set it to 16TB.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 45fb6cea09443b2066016f895937f9c2647a1507
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 14:22:35 2005 +1100

    [PATCH] ppc64: Convert NUMA to sparsemem (3)
    
    Convert to sparsemem and remove all the discontigmem code in the
    process. This has a few advantages:
    
    - The old numa_memory_lookup_table can go away
    - All the arch specific discontigmem magic can go away
    
    We also remove the triple pass of memory properties and instead create a
    list of per node extents that we iterate through. A final cleanup would
    be to change our lmb code to store extents per node, then we can reuse
    that information in the numa code.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3e66c4def14aa64ee6d1d4ef077d789abc30125d
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 14:13:20 2005 +1100

    [PATCH] ppc64: prep for NUMA sparsemem rework 2
    
    Remove ppc64 specific version of nr_cpus_node and use the generic one
    provided.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c0d33403ad39f4e945dd5b3febe5c1f94a9a1d29
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 14:12:26 2005 +1100

    [PATCH] ppc64: prep for NUMA sparsemem rework
    
    Remove an unused numa define and move a discontigmem specific define
    inside the relevant ifdef.
    
    I will submit a separate patch to remove them from other architectures,
    but the ppc64 patches to follow depend on this.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1dff227e0184de3d1f12265dff0c47d86dad2eec
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 14:07:20 2005 +1100

    [PATCH] ppc64: Cleanup kprobe assembly
    
    The kprobes code is doing ".previous .text". While the assembler doesnt
    warn at the moment (and it seems to work), it might in the future.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 50bcfec19fcdf3aa936547bad5dee02062917d04
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 13:56:16 2005 +1100

    [PATCH] ppc64: Remove debug boot message
    
    We have been printing the raw ppc64_firmware_features during boot. Since
    we can work it out from the device tree, lets remove it.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8acb888c9cf70d03598eb4a731e3c6e5a588f1ce
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 13:53:11 2005 +1100

    [PATCH] ppc64: Quieten lparcfg
    
    If we dont have permission to read some information from the hypervisor,
    lparcfg outputs a warning on the console. Now that lparcfg is world
    readable this is a problem.
    
    Dont warn in the case of H_Authority, remove some unnecessary function
    prototypes and fix whitespace damage in a structure as well.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7f7fda04a6a00d2b99990cec2182bf5181c53de1
Author: Kumar Gala <galak@gate.crashing.org>
Date:   Thu Nov 10 10:34:33 2005 -0600

    [PATCH] ppc32: fix PQ2 PCI DMA interrupt handling
    
    The bit position in the status register corresponding to the
    PCI DMA interrupt was incorrect.  Additionally, we did not
    have a define for the PCI DMA interrupt.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f85272a97825d4a67098a8ad70fa5efb55e4847a
Merge: 1c72d8d... 5e04e7f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 11 05:50:22 2005 -0500

    Merge branch 'master'

commit 1c72d8d90da3b29540c3c281a3e0b743ee6b6f74
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Nov 10 16:21:38 2005 -0800

    [PATCH] libata.h needs dma-mapping.h
    
    On Alpha:
    
    include/linux/libata.h: In function `ata_pad_alloc':
    include/linux/libata.h:785: warning: implicit declaration of function `dma_alloc_coherent'
    include/linux/libata.h:786: warning: assignment makes pointer from integer without a cast
    include/linux/libata.h: In function `ata_pad_free':
    include/linux/libata.h:792: warning: implicit declaration of function `dma_free_coherent'
    
    (I have a decouple-some-header-files cleanup in -mm, so it's causing some
    fallout of this nature)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6af37fa9928a0d50cda1bad14b2eda8c1a4d1a0e
Author: Anton Blanchard <anton@samba.org>
Date:   Fri Nov 11 14:02:04 2005 +1100

    [PATCH] disable DEBUG in ibmveth
    
    At the moment ibmveth has DEBUG enabled which is rather verbose. Disable
    it.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5e04e7fe774794b837e1d3897e6b96ae2d06679a
Merge: a5cf8b7... 1b397f4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 21:37:50 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6

commit a5cf8b7dc5ae69c65ef366325dfc1abb507276c7
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 10 20:34:12 2005 -0500

    [PATCH] lpfc build fix
    
    Current upstream 'allmodconfig' build is broken.  This is the obvious
    patch...
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79ffeeb9e66da8c60de8c8ab676658bcbc47c1f7
Merge: a5aac37... 6a438bb...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 21:24:21 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit a5aac37f1cdbbd1e587fc618e778ddae124e5ac3
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Nov 10 21:14:16 2005 -0800

    [SPARC]: display7seg build fix
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1b397f4f1c167dbf06397b3182fca521c00125c4
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 19:36:39 2005 -0800

    [CIFS] Fix spaces in cifs kconfig entry
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 69114089b75e039f531a3cb9e5e9d8c610679320
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 19:28:44 2005 -0800

    [CIFS] Reduce sparse endian warnings
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 84cdda8a1966288de26be5cecf7702d378861ff9
Merge: 3c50c61... 6e6ece5...
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 17:31:49 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 3c50c61826d1e2e9354232f625216c8fcfef48db
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 17:31:33 2005 -0800

    [CIFS] Update CIFS change log
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 6a438bbe68c7013a42d9c5aee5a40d7dafdbe6ec
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 17:14:59 2005 -0800

    [TCP]: speed up SACK processing
    
    Use "hints" to speed up the SACK processing. Various forms
    of this have been used by TCP developers (Web100, STCP, BIC)
    to avoid the 2x linear search of outstanding segments.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit caa20d9abe810be2ede9612b6c9db6ce7d6edf80
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 17:13:47 2005 -0800

    [TCP]: spelling fixes
    
    Minor spelling fixes for TCP code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 326f36e9e7de362e09745ce6f84b65e7ccac33ba
Author: John Heffner <jheffner@psc.edu>
Date:   Thu Nov 10 17:11:48 2005 -0800

    [TCP]: receive buffer growth limiting with mixed MTU
    
    This is a patch for discussion addressing some receive buffer growing issues.
    This is partially related to the thread "Possible BUG in IPv4 TCP window
    handling..." last week.
    
    Specifically it addresses the problem of an interaction between rcvbuf
    moderation (receiver autotuning) and rcv_ssthresh.  The problem occurs when
    sending small packets to a receiver with a larger MTU.  (A very common case I
    have is a host with a 1500 byte MTU sending to a host with a 9k MTU.)  In
    such a case, the rcv_ssthresh code is targeting a window size corresponding
    to filling up the current rcvbuf, not taking into account that the new rcvbuf
    moderation may increase the rcvbuf size.
    
    One hunk makes rcv_ssthresh use tcp_rmem[2] as the size target rather than
    rcvbuf.  The other changes the behavior when it overflows its memory bounds
    with in-order data so that it tries to grow rcvbuf (the same as with
    out-of-order data).
    
    These changes should help my problem of mixed MTUs, and should also help the
    case from last week's thread I think.  (In both cases though you still need
    tcp_rmem[2] to be set much larger than the TCP window.)  One question is if
    this is too aggressive at trying to increase rcvbuf if it's under memory
    stress.
    
    Orignally-from: John Heffner <jheffner@psc.edu>
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9772efb970780aeed488c19d8b4afd46c3b484af
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 17:09:53 2005 -0800

    [TCP]: Appropriate Byte Count support
    
    This is an updated version of the RFC3465 ABC patch originally
    for Linux 2.6.11-rc4 by Yee-Ting Li. ABC is a way of counting
    bytes ack'd rather than packets when updating congestion control.
    
    The orignal ABC described in the RFC applied to a Reno style
    algorithm. For advanced congestion control there is little
    change after leaving slow start.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7faffa1c7fb9b8e8917e3225d4e2638270c0a48b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 17:07:24 2005 -0800

    [TCP]: add tcp_slow_start helper
    
    Move all the code that does linear TCP slowstart to one
    inline function to ease later patch to add ABC support.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2d2abbab63f6726a147ae61ada39bf2c9ee0db9a
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 16:56:12 2005 -0800

    [TCP]: simplify microsecond rtt sampling
    
    Simplify the code that comuputes microsecond rtt estimate used
    by TCP Vegas. Move the callback out of the RTT sampler and into
    the end of the ack cleanup.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f4805eded7d38c4e42bf473dc5eb2f34853beb06
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 10 16:53:30 2005 -0800

    [TCP]: fix congestion window update when using TSO deferal
    
    TCP peformance with TSO over networks with delay is awful.
    On a 100Mbit link with 150ms delay, we get 4Mbits/sec with TSO and
    50Mbits/sec without TSO.
    
    The problem is with TSO, we intentionally do not keep the maximum
    number of packets in flight to fill the window, we hold out to until
    we can send a MSS chunk. But, we also don't update the congestion window
    unless we have filled, as per RFC2861.
    
    This patch replaces the check for the congestion window being full
    with something smarter that accounts for TSO.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6e6ece5dc6022e8086c565498d23511bbceda811
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Nov 8 20:13:02 2005 -0800

    [PATCH] PCI: fix for Toshiba ohci1394 quirk
    
    After much testing and agony, I've discovered that my previous ohci1394
    quirk for Toshiba laptops is not 100% reliable.  It apparently fails to
    do the interrupt line change either correctly or in time, since in about
    2 out of 5 boots, the kernel's irqdebug code will *still* disable irq 11
    when the ohci1394 driver is loaded (at pci_enable_device time I think).
    
    This patch switches things around a little in the workaround.  First, it
    removes the mdelay.  I didn't see a need for it and my testing has shown
    that it's not necessary for the quirk to work.
    
    Secondly, instead of trying to change the interrupt line to what ACPI
    tells us it should be, this patch makes the quirk use the value in the
    PCI_INTERRUPT_LINE register.  On this laptop at least, that seems to be
    the right thing to do, though additional testing on other laptops and/or
    with actual firewire devices would be appreciated.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6560aa5c430fd8a7002b6e7abc1ee6c42521b06b
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Nov 7 13:37:36 2005 -0800

    [PATCH] PCI: fix namespace clashes
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b4033c1715cb5aa1dcb1a25bdaf71fea908bb3f1
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Tue Nov 8 21:42:33 2005 -0800

    [PATCH] PCI: Change MSI to use physical delivery mode always
    
    MSI hardcoded delivery mode to use logical delivery mode. Recently
    x86_64 moved to use physical mode addressing to support physflat mode.
    With this mode enabled noticed that my eth with MSI werent working.
    
    msi_address_init()  was hardcoded to use logical mode for i386 and x86_64.
    So when we switch to use physical mode, things stopped working.
    
    Since anyway we dont use lowest priority delivery with MSI, its always
    directed to just a single CPU. Its safe  and simpler to use
    physical mode always, even when we use logical delivery mode for IPI's
    or other ioapic RTE's.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 48b19148733b4826eeedfd8be9f19b61c8d010b1
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 6 01:45:08 2005 +0100

    [PATCH] PCI: drivers/pci/: small cleanups
    
    This patch contains the following cleanups:
    - access.c should #include "pci.h" for getting the prototypes of it's
      global functions
    - hotplug/shpchp_pci.c: make the needlessly global function
      program_fw_provided_values() static
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 26205e026cf2b3bb039d6169978ae520973f4141
Author: Grant Coady <gcoady@gmail.com>
Date:   Sun Nov 6 10:52:51 2005 +1100

    [PATCH] pci_ids cleanup: fix two additional IDs in bt87x
    
    pci_ids cleanup: fixup bt87x.c: two macro defined IDs missed in prior cleanup.
    
    Caught by Chun-Chung Chen <cjj@u.washington.edu>: "In the patch for bt87x.c,
    you seemed have missed the two occurrences of BT_DEVICE on line 897 and
    line 898."
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5fa80fcdca9d20d30c9ecec30d4dbff4ed93a5c6
Author: John Rose <johnrose@austin.ibm.com>
Date:   Fri Nov 4 15:38:50 2005 -0600

    [PATCH] dlpar regression for ppc64 - probe change
    
    This patch contains the driver bits for enabling DLPAR and PCI Hotplug
    for the new OF-based PCI probe.  This functionality was regressed when
    the new PCI approach was introduced.  Please apply if appropriate.
    
    Signed-off-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 249bb070f5e821503c1118e1e87c0ccb1432d191
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Nov 4 18:56:13 2005 -0800

    [PATCH] PCI: removed unneeded .owner field from struct pci_driver
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 863b18f4b5e7d9e6903b353328cf6fa084dbb619
Author: Laurent riffard <laurent.riffard@free.fr>
Date:   Thu Oct 27 23:12:54 2005 +0200

    [PATCH] PCI: automatically set device_driver.owner
    
    A nice feature of sysfs is that it can create the symlink from the
    driver to the module that is contained in it.
    
    It requires that the device_driver.owner is set, what is not the
    case for many PCI drivers.
    
    This patch allows pci_register_driver to set automatically the
    device_driver.owner for any PCI driver.
    
    Credits to Al Viro who suggested the method.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    --
    
     drivers/ide/setup-pci.c  |   12 +++++++-----
     drivers/pci/pci-driver.c |    9 +++++----
     include/linux/ide.h      |    3 ++-
     include/linux/pci.h      |   10 ++++++++--
     4 files changed, 22 insertions(+), 12 deletions(-)

commit f8eb1005a5bdb019d2a4ff3ef8d8e8015b22afcb
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Oct 28 20:36:51 2005 -0700

    [PATCH] pci-driver: store_new_id() not inline
    
    store_new_id() should not be (and cannot be) inline;
    the function pointer is stored in a device_attribute table.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a5312e28c195f6118ba52fb8abe17cf2efc6a427
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Tue Nov 1 01:43:56 2005 +0300

    [PATCH] PCI: NCR 53c810 quirk
    
    Move the PPC fixup for old NCR 810 controllers to generic quirks -
    it's needed for Alpha, x86 and other architectures that use
    setup-bus.c.
    
    Thanks to Jay Estabrook for pointing out the issue.
    
    Signed-off-by: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 02f313b2cc5d8273e3f2ffa23fc72392b2174cef
Author: Meelis Roos <mroos@linux.ee>
Date:   Sat Oct 29 13:31:49 2005 +0300

    [PATCH] PCI: Fix VIA 686 PCI quirk names
    
    The quirk names for VIA 686 are mistyped in 2.6.14 (686 vs 868). S3 868
    influence? :) Here is a patch to correct them.
    
    Signed-off-by: Meelis Roos <mroos@linux.ee>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8239def1b56e0c0c8e0fd3754a12df3d60a64ed7
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:13 2005 -0800

    [PATCH] pciehp: fix handling of power faults during hotplug
    
    The current pciehp implementation reports a power-fail error
    even if the condition has cleared by the time the corresponding
    interrupt handling code gets a chance to run. This patch
    fixes this problem.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a3a45ec8f8edaf088449e37fe81c99cbf580b9bd
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:12 2005 -0800

    [PATCH] pciehp: clean-up how we request control of hotplug hardware
    
    This patch further tweaks how we request control of hotplug
    controller hardware from BIOS. We first search the ACPI namespace
    corresponding to a specific hotplug controller looking for an
    _OSC or OSHP method. On failure, we successively move to the
    ACPI parent object, till we hit the highest level host bridge
    in the hierarchy. This allows for different types of BIOS's
    which place the _OSC/OSHP methods at various places in the acpi
    namespace, while still not encroaching on the namespace of
    some other root level host bridge.
    
    This patch also introduces a new load time option (pciehp_force)
    that allows us to bypass all _OSC/OSHP checking. Not supporting
    these methods seems to be be the most common ACPI firmware problem
    we've run into. This will still _not_ allow the pciehp driver to
    work correctly if the BIOS really doesn't support pciehp (i.e. if
    it doesn't generate a hotplug interrupt). Use this option with
    caution.  Some BIOS's may deliberately not build any _OSC/OSHP
    methods to make sure it retains control the hotplug hardware.
    Using the pciehp_force parameter for such systems can lead to
    two separate entities trying to control the same hardware.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 427bf532b5ad6db5addc2bce675d13f874397c0c
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:11 2005 -0800

    [PATCH] pciehp: request control of each hotplug controller individually
    
    This patch tweaks the way pciehp requests control of the hotplug
    hardware from BIOS. It now tries to invoke the ACPI _OSC method
    for a specific hotplug controller only, rather than walking the
    entire acpi namespace invoking all possible _OSC methods under
    all host bridges. This allows us to gain control of each hotplug
    controller individually, even if BIOS fails to give us control of
    some other hotplug controller in the system.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1a9ed1bfe2fb17cc30227a12a3c1212128bb78b6
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:10 2005 -0800

    [PATCH] pciehp: reduce debug message verbosity
    
    Reduce the number of debug messages generated if pciehp debug is
    enabled. I tried to restrict this to removing debug messages that
    are either early-driver-debug type messages, or print information
    that can be inferred through other debug prints.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ed6cbcf2ac706aa47194fd2f7a99865cc06833d7
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:09 2005 -0800

    [PATCH] pciehp: miscellaneous cleanups
    
    Remove un-necessary header includes, remove dead code, remove
    some hardcoded constants...
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ca22a5e4d70620b7f3d809e424daa5214b0aa00d
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:08 2005 -0800

    [PATCH] pciehp: remove redundant data structures
    
    State information is currently stored in per-slot as well as
    per-pci-function data structures in pciehp. There's a lot of
    overlap in the information kept, and some of it is never used.
    This patch consolidates the state information to per-slot and
    eliminates unused data structures. The biggest change is to
    eliminate the pci_func structure and the code around managing
    its lists.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a8a2be949267cb0d1d933a92d9fb43eda4f4fe88
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:07 2005 -0800

    [PATCH] pciehp: reduce dependence on ACPI
    
    Reduce the PCI Express hotplug driver's dependence on ACPI.
    We don't walk the acpi namespace anymore to build a list of
    bridges and devices. We go to ACPI only to run the _OSC or
    _OSHP methods to transition control of hotplug hardware from
    system BIOS to the hotplug driver, and to run the _HPP
    method to get hotplug device parameters like cache line size,
    latency timer and SERR/PERR enable from BIOS.
    
    Note that one of the side effects of this patch is that pciehp
    does not automatically enable the hot-added device or its DMA
    bus mastering capability now. It expects the device driver to
    do that. This may break some drivers and we will have to fix
    them as they are reported.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 71b720c0f96145f5868c87591c286b290bc1a6af
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Mon Oct 31 16:20:06 2005 -0800

    [PATCH] patch 1/8] pciehp: use the PCI core for hotplug resource management
    
    This patch converts the pci express hotplug controller driver
    to use the PCI core for resource management. This eliminates a
    lot of duplicated code and integrates pciehp with the system's
    normal PCI handling code.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 24a4e377068d15424cd6a921d41352f295548037
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 17:35:34 2005 -0700

    [PATCH] PCI: add pci_find_next_capability()
    
    Some devices have more than one capability of the same type.  For
    example, the PCI header for the PathScale InfiniPath looks like:
    
    	04:01.0 InfiniBand: Unknown device 1fc1:000d (rev 02)
    		Subsystem: Unknown device 1fc1:000d
    		Flags: bus master, fast devsel, latency 0, IRQ 193
    		Memory at fea00000 (64-bit, non-prefetchable) [size=2M]
    		Capabilities: [c0] HyperTransport: Slave or Primary Interface
    		Capabilities: [f8] HyperTransport: Interrupt Discovery and Configuration
    
    There are _two_ HyperTransport capabilities, and the PathScale driver
    wants to look at both of them.
    
    The current pci_find_capability() API doesn't work for this, since it
    only allows us to get to the first capability of a given type.  The
    patch below introduces a new pci_find_next_capability(), which can be
    used in a loop like
    
    	for (pos = pci_find_capability(pdev, <ID>);
    	     pos;
    	     pos = pci_find_next_capability(pdev, pos, <ID>)) {
    		/* ... */
    	}
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6d23c8bc7a6af4300b3c5244f4c21211f9adb960
Merge: 985834a... 780d09e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 15:39:44 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 9551583e55e26a0940894828c2d1066e9276325e
Merge: a2653eb... 985834a...
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 15:34:57 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit a2653ebab3a96c6e6183360821faa492c1f88c3f
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Nov 10 15:33:38 2005 -0800

    [CIFS] Reserve upcall IDX value for CIFS with connector header and add
    Kconfig option for CIFS upcall.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 985834a1c3a2e9639145bd8ea16af6e25f2143ad
Merge: b8cbfa69... f3b84ec...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 14:46:07 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit b8cbfa692485bf7568eda3d2f37545a76efb7c93
Merge: 78b9c0f... e623a3b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 13:45:34 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sam/kbuild

commit 78b9c0f91cf908616b8f9f356e1d1220e727ea88
Merge: 6b482c6... 94382f3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 13:27:06 2005 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 6b482c6779daaa893b277fc9b70767a7c2e7c5eb
Author: Dave Jones <davej@redhat.com>
Date:   Thu Nov 10 15:45:56 2005 -0500

    [PATCH] Don't print per-cpu vm stats for offline cpus.
    
    I just hit a page allocation error on a kernel configured to support
    64 CPUs.  It spewed 60 completely useless unnecessary lines of info.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3b84ec2a67bbfbe44cf907203ee99b23b38fc30
Author: Ian McDonald <imcdnzl@gmail.com>
Date:   Thu Nov 10 13:05:01 2005 -0800

    [DCCP]: Alter website for DCCP in MAINTAINERS
    
    Website for DCCP is now hosted at OSDL
    
    Signed-off-by: Ian McDonald <imcdnzl@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 98069ff4ec9c73a03e6c61dbb17f8e5a0b85ef6e
Author: Ian McDonald <imcdnzl@gmail.com>
Date:   Thu Nov 10 13:04:33 2005 -0800

    [DCCP]: Create Documentation/networking/dccp.txt
    
    This patch is a first go at some documentation. Please advise if gmail
    has mangled patch and I will revert to an attachment:
    
    Signed-off-by: Ian McDonald <imcdnzl@gmail.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ac57d04267383829ce817e522e4ebbb39f50ae75
Author: Pavel Roskin <proski@gnu.org>
Date:   Thu Nov 10 13:03:08 2005 -0800

    [NET]: Annotate h_proto in struct ethhdr
    
    The protocol field in ethernet headers is big-endian and should be
    annotated as such.  This patch allows detection of missing ntohs() calls
    on the ethernet protocol field when sparse is run with __CHECK_ENDIAN__
    defined.
    
    This is a revised version that includes <linux/types.h> so that the
    userspace programs are not confused by __be16.  Thanks to David S.
    Miller.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fb286bb2990a107009dbf25f6ffebeb7df77f9be
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Thu Nov 10 13:01:24 2005 -0800

    [NET]: Detect hardware rx checksum faults correctly
    
    Here is the patch that introduces the generic skb_checksum_complete
    which also checks for hardware RX checksum faults.  If that happens,
    it'll call netdev_rx_csum_fault which currently prints out a stack
    trace with the device name.  In future it can turn off RX checksum.
    
    I've converted every spot under net/ that does RX checksum checks to
    use skb_checksum_complete or __skb_checksum_complete with the
    exceptions of:
    
    * Those places where checksums are done bit by bit.  These will call
    netdev_rx_csum_fault directly.
    
    * The following have not been completely checked/converted:
    
    ipmr
    ip_vs
    netfilter
    dccp
    
    This patch is based on patches and suggestions from Stephen Hemminger
    and David S. Miller.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1064e944d03eb7a72c0fa11236d5e69cfd877a71
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Nov 10 12:58:24 2005 -0800

    [BNX2]: simplify parameter checks in bnx2_{get,set}_eeprom
    
    Remove the superfluous parameter checking in bnx2_{get,set}_eeprom.
    The parameters are already validated in ethtool_{get,set}_eeprom.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b6cbc3b6fe588c0ea1341d10413e12c2a96a6032
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Nov 10 12:58:00 2005 -0800

    [BNX2]: check return of dev_alloc_skb in bnx2_test_loopback
    
    Check return of dev_alloc_skb in bnx2_test_loopback, and handle
    appropriately.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 2f23c523f32324e5b5f39565cbcb0a8ff8923019
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Nov 10 12:57:33 2005 -0800

    [BNX2]: output driver name as prefix in error message
    
    Output driver name as prefix to "Unknown flash/EEPROM type." message.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b925556cc9e82b32ab68a7620b247f47193501a7
Author: Dave Jones <davej@redhat.com>
Date:   Thu Nov 10 12:55:52 2005 -0800

    [ATM]: [horizon] fix sparse warnings
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Chas Williams <cmas@cmf.nrl.navy.mil>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e623a3b8086208eb118d9501b8bfb3e656e754d4
Author: Zachary Amsden <zach@vmware.com>
Date:   Mon Nov 7 15:27:51 2005 -0800

    [PATCH] kbuild: build breaks after -imacros was introduced
    
    I have to revert the recent addition of -imacros to the Makefile to get my
    tool chain to build.  Without the change, below, I get:
    
    Note that this looks entirely like a toolchain bug.  Here is the offending command:
    
    [pid 12163] execve("/usr/lib/gcc-lib/i386-redhat-linux/3.2.2/tradcpp0", ["/usr/lib/gcc-lib/i386-redhat-linux/3.2.2/tradcpp0", "-lang-asm", "-nostdinc", "-Iinclude", "-Iinclude/asm-i386/mach-default", "-D__GNUC__=3", "-D__GNUC_MINOR__=2", "-D__GNUC_PATCHLEVEL__=2", "-D__GXX_ABI_VERSION=102", "-D__ELF__", "-Dunix", "-D__gnu_linux__", "-Dlinux", "-D__ELF__", "-D__unix__", "-D__gnu_linux__", "-D__linux__", "-D__unix", "-D__linux", "-Asystem=posix", "-D__NO_INLINE__", "-D__STDC_HOSTED__=1", "-Acpu=i386", "-Amachine=i386", "-Di386", "-D__i386", "-D__i386__", "-D__tune_i386__", "-D__KERNEL__", "-D__ASSEMBLY__", "-isystem", "/usr/lib/gcc-lib/i386-redhat-linux/3.2.2/include", "-imacros", "include/linux/autoconf.h", "-MD", "arch/i386/kernel/.entry.o.d", "arch/i386/kernel/entry.S", "-o", "/tmp/ccOlsFJR.s"]
    
    Which should execute properly, I think.  But it does not:
    
    zach-dev:linux-2.6.14-zach-work $ make
      CHK     include/linux/version.h
      CHK     include/linux/compile.h
      CHK     usr/initramfs_list
      AS      arch/i386/kernel/entry.o
    /usr/lib/gcc-lib/i386-redhat-linux/3.2.2/tradcpp0: output filename specified twice
    make[1]: *** [arch/i386/kernel/entry.o] Error 1
    make: *** [arch/i386/kernel] Error 2
    
    gcc (GCC) 3.2.2 20030222 (Red Hat Linux 3.2.2-5)
    
    Deprecating the -imacros fixes the build for me.  It does not appear to be a
    simple argument overflow problem in trapcpp0, since deprecating all the defines
    reproduces the problem as well.  Also, switching -imacros to -include fixes the
    problem.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 393b07258766130146b962bc294d66615a47468a
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Thu Nov 10 12:47:50 2005 -0800

    [SPARC64]: Re-export uts_sem for solaris compat module.
    
    Revert: b26b9bc58263acda274f82a9dde8b6d96559878a
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 780d09e895032207a6b070a44d392a3c60574b70
Author: Dean Nelson <dcn@sgi.com>
Date:   Wed Nov 9 14:41:57 2005 -0600

    [IA64] utilize notify_die() for XPC disengage
    
    XPC (as in arch/ia64/sn/kernel/xp*) has a need to notify other partitions
    (SGI Altix) whenever a partition is going down in order to get them to
    disengage from accessing the halting partition's memory. If this is not
    done before the reset of the hardware, the other partitions can find
    themselves encountering MCAs that bring them down.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit baf47fb66020e5c3fe2386680fa2d79d1f8e0052
Author: Panagiotis Issaris <takis@issaris.org>
Date:   Wed Nov 9 02:08:42 2005 +0100

    [IA64] Replace kcalloc(1, with kzalloc.
    
    Conversion from kcalloc(1, to kzalloc.
    
    Signed-off-by: Panagiotis Issaris <takis@issaris.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 16e85d1a3182009ff81d71aaf65a2808bd395a6b
Merge: 7669a22... 4f41d5a...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:40:32 2005 -0800

    Pull add-mmio-to-proc-iomem into release branch

commit 7669a22592fc6cc7ac03f55a7db8d23ce938f1dc
Merge: cb8a55e... 58cd908...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:39:49 2005 -0800

    Pull context-bitmap into release branch

commit cb8a55e4cda017ed37a3ee051365f33a86956312
Merge: 4ddccb8... 9138d58...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:39:09 2005 -0800

    Pull extend-notify-die into release branch

commit 4ddccb8eb9d1c57c7dd3838d8328690bf1869145
Merge: cf1d469... 9783524...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:38:41 2005 -0800

    Pull memoryless-node-allocation into release branch

commit cf1d469ec10015f8ced338c00e7944941f816e89
Merge: 64de57f... a14f25a...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:38:05 2005 -0800

    Pull mca-check-psp into release branch

commit 64de57ffd3bf379c5b953baa8f1b5d9a57ab3a49
Merge: 759979a... cf20d1e...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 10 10:37:35 2005 -0800

    Pull align-sig-frame into release branch

commit 94382f3562e350ed7c8f7dcd6fc968bdece31328
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Nov 10 10:18:23 2005 -0800

    [IB] umad: further ib_unregister_mad_agent() deadlock fixes
    
    The previous umad deadlock fix left ib_umad_kill_port() still
    vulnerable to deadlocking.  This patch fixes that by downgrading our
    lock to a read lock when we might end up trying to reacquire the lock
    for reading.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ae57e24a4006fd46b73d842ee99db9580ef74a02
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Wed Nov 9 14:59:57 2005 -0800

    [IB] mthca: fix posting long lists of receive work requests
    
    In Tavor mode, when posting a long list of receive work requests, a
    doorbell must be rung every 256 requests.  Add code to do this when
    required.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 64044bcf75063cb5a6d42712886a712449df2ce3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 9 12:23:17 2005 -0800

    [IB] mthca: fix wraparound handling in mthca_cq_clean()
    
    Handle case where prod_index has wrapped around and become less than
    cq->cons_index by checking that their difference as a signed int is
    positive rather than comparing directly.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 62abb8416f1923f4cef50ce9ce841b919275e3fb
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Wed Nov 9 11:30:14 2005 -0800

    [IB] mthca: fix posting of atomic operations
    
    The size of work requests for atomic operations was computed
    incorrectly in mthca: all sizeofs need to be divided by 16.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 77369ed31daac51f4827c50d30f233c45480235a
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Wed Nov 9 11:26:07 2005 -0800

    [IB] uverbs: have kernel return QP capabilities
    
    Move the computation of QP capabilities (max scatter/gather entries,
    max inline data, etc) into the kernel, and have the uverbs module
    return the values as part of the create QP response.  This keeps
    precise knowledge of device limits in the low-level kernel driver.
    
    This requires an ABI bump, so while we're making changes, get rid of
    the max_sge parameter for the modify SRQ command -- it's not used and
    shouldn't be there.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ec914c52d6208d8752dfd85b48a9aff304911434
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 9 09:58:10 2005 -0800

    [IB] umad: get rid of unused mr array
    
    Now that ib_umad uses the new MAD sending interface, it no longer
    needs its own L_Key.  So just delete the array of MRs that it keeps.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 40de2e548c225e3ef859e3c60de9785e37e1b5b1
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Nov 8 11:10:25 2005 -0800

    [IB] Have cq_resize() method take an int, not int*
    
    Change the struct ib_device.resize_cq() method to take a plain integer
    that holds the new CQ size, rather than a pointer to an integer that
    it uses to return the new size.  This makes the interface match the
    exported ib_resize_cq() signature, and allows the low-level driver to
    update the CQ size with proper locking if necessary.
    
    No in-tree drivers are exporting this method yet.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0b4ff2c0e624089ad87dc1604e239b7c3201c53f
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 22:01:02 2005 -0800

    [IB] mthca: fix typo in catastrophic error polling
    
    Fix a typo in the rearming of the catastrophic error polling timer: we
    should rearm the timer as long as the stop flag is _not_ set.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 8c608a32e3cd7ff14498ad996ca32d1452245a97
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 10:49:38 2005 -0800

    [IPoIB] no need to set skb->dev right before freeing skb
    
    For cut-and-paste reasons, the IPoIB driver was setting skb->dev right
    before calling dev_kfree_skb_any().  Get rid of this.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 2f76e82947b977a1008cfd2868351a701c93c69c
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 10:41:29 2005 -0800

    [IB] umad: avoid potential deadlock when unregistering MAD agents
    
    ib_unregister_mad_agent() completes all pending MAD sends and waits
    for the agent's send_handler routine to return.  umad's send_handler()
    calls queue_packet(), which does down_read() on the port mutex to look
    up the agent ID.  This means that the port mutex cannot be held for
    writing while calling ib_unregister_mad_agent(), or else it will
    deadlock.  This patch fixes all the calls to ib_unregister_mad_agent()
    in the umad module to avoid this deadlock.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 1732b0ef3b3a02e3df328086fb3018741c5476da
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 10:33:11 2005 -0800

    [IPoIB] add path record information in debugfs
    
    Add ibX_path files to debugfs that contain information about the IPoIB
    path cache.  IPoIB ARP only gives GIDs, which the IPoIB driver must
    resolve to real IB paths through the ib_sa module.  For debugging,
    when the ARP table looks OK but traffic isn't flowing, it's useful to
    be able to see if the resolution from GID to path worked.
    
    Also clean up the formatting of the existing _mcg debugfs files.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit a46699c9a32505cb5bbfd16f76e7d4a2c84a7705
Merge: 7ed0175... b216c01...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 10:17:11 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 7ed0175a462c4c30f6df6fac1cccac058f997739
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Thu Nov 10 17:22:18 2005 +0300

    [PATCH] Don't auto-reap traced children
    
    If a task is being traced we never auto-reap it even if it might look
    like its parent doesn't care. The tracer obviously _does_ care.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 759979ab17512a061c3a3e870f091af27ccdcbfb
Merge: 3ae0af1... a2932b3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 09:48:34 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/brodo/pcmcia-fixes-2.6

commit b216c01829d0b73a468204e2e763c0a818b77a46
Author: Liam Girdwood <Liam.Girdwood@wolfsonmicro.com>
Date:   Thu Nov 10 17:45:39 2005 +0000

    [ARM] 3098/1: pxa2xx disable ssp irq
    
    Patch from Liam Girdwood
    
    This patch allows users of the pxa SSP driver to register their own irq
    handlers instead of using the default SSP handler. It also cleans up the
    CKEN clock and irq detection as the values are now stored in a table.
    
    This patch replaces 2845/1
    
    Changes:-
    o Added flags parameter to ssp_init()
    o Added SSP_NO_IRQ flag to disable registering of ssp irq handler (for
    drivers that want to register their own handler)
    o Cleaned up clock and irq detection, values are now stored in table.
    o Added build changes to allow other drivers (e.g audio) to select the
    ssp driver.
    o corgi_ssp.c changed to use new interface.
    
    Signed-off-by: Liam Girdwood <liam.girdwood@wolfsonmicro.com>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 078abcf95cdb95c78d786dbc61ae3c22ee70fb61
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Nov 10 17:42:29 2005 +0000

    [ARM] 3096/1: Add SharpSL Zaurus power and battery management core driver
    
    Patch from Richard Purdie
    
    This patch adds a power and battery management core driver which with
    the addition of the right device files, supports the c7x0 and cxx00
    series of Sharp Zaurus handhelds.
    
    The driver is complex for several reasons. Battery charging is manually
    monitored and controlled. When suspended, the device needs to
    periodically partially resume, check the charging status and then
    re-suspend. It does without bothering the higher linux layers as
    a full resume and re-suspend is unnecessary. The code is carefully
    written to avoid interrupts or calling code outside the module under
    these circumstances. It also vets the various wake up sources and
    monitors the device's power situation.
    
    Hooks to limit the backlight intensity and to notify the battery
    monitoring code of backlight events are connected/added as the
    backlight is one of the biggest users of power on the device.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3b7d697dfb7d03edb87e50b743a7ecff029618e9
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Nov 10 11:04:11 2005 -0500

    [libata] constify PCI ID table in several drivers

commit 3ae0af12b458461f36dfddb26e54056be32928dd
Merge: 3b44f13... 7c43ee4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 10 07:37:51 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 8a87a0b6313109d2fea87b1271d497c954ce2ca8
Merge: e6a0446... 3b44f13...
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Nov 10 08:29:07 2005 -0600

    Merge by hand (whitespace conflicts in libata.h)
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b1faebb672edecf48d4745fb05eeca3c704b6823
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:54 2005 +0000

    [ARM] 3144/1: OMAP 5/5: Update omap H2 defconfig
    
    Patch from Tony Lindgren
    
    This patch updates omap H2 defconfig.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9ad5897c2659b3c610e0c717e8b3dbfb496d2c74
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:53 2005 +0000

    [ARM] 3143/1: OMAP 4/5: Update omap include files
    
    Patch from Tony Lindgren
    
    This patch syncs the mainline kernel with linux-omap tree.
    
    This patch contains changes to common header files for
    omap1xxx and omap24xx by various omap developers, and
    improved cpu detection by Imre Deak
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 046d6b28ebce92aab2865aa3eb3a0d8ede57e17e
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:52 2005 +0000

    [ARM] 3146/1: OMAP 3b/5: Add omap24xx clock framework
    
    Patch from Tony Lindgren
    
    This patch adds omap24xx specific clock code by
    Richard Woodruff, Nishant Menon, Tony Lindgren et al.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1dbae815a724303b46ab4663b5fc23c13e9d9690
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:51 2005 +0000

    [ARM] 3145/1: OMAP 3a/5: Add support for omap24xx
    
    Patch from Tony Lindgren
    
    This patch adds support for omap24xx series of processors.
    The files live in arch/arm/mach-omap2, and share common
    files with omap15xx and omap16xx processors in
    arch/arm/plat-omap.
    
    Omap24xx support was originally added for 2.6.9 by TI.
    This code was then improved and integrated to share common
    code with omap15xx and omap16xx processors by various
    omap developers, such as Paul Mundt, Juha Yrjola, Imre Deak,
    Tony Lindgren, Richard Woodruff, Nishant Menon, Komal Shah
    et al.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1a8bfa1eb998af6e650ad26201f7cae9f2a2fdc8
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:50 2005 +0000

    [ARM] 3142/1: OMAP 2/5: Update files common to omap1 and omap2
    
    Patch from Tony Lindgren
    
    This patch syncs the mainline kernel with linux-omap tree.
    The highlights of the patch are:
    
    - Serial port and framebuffer init improvments by Imre Deak
    
    - Common omap pin mux framework by Tony Lindgren
    
    - Common omap clock framework by Tony Lindren
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3179a019391f0f8081245fd564a5f1be308ba64f
Author: Tony Lindgren <tony@atomide.com>
Date:   Thu Nov 10 14:26:48 2005 +0000

    [ARM] 3141/1: OMAP 1/5: Update omap1 specific files
    
    Patch from Tony Lindgren
    
    This patch syncs the mainline kernel with linux-omap tree.
    The highlights of the patch are:
    
    - Omap1 serial pport and framebuffer init updates by Imre Deak
    
    - Add support for omap310 processor and Palm Tungsten E PDA
      by Laurent Gonzales, Romain Goyet, et al. Omap310 and
      omap1510 processors are now handled as omap15xx.
    
    - Omap1 specific changes to shared omap clock framework
      by Tony Lindgren
    
    - Omap1 specific changes to shared omap pin mux framework
      by Tony Lindgren
    
    - Other misc fixes, such as update memory timings for smc91x,
      omap1 specific device initialization etc.
    
    Signed-off-by: Tony Lindgren <tony@atomide.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a7918f39bbe59fe76f43743bdb6bb8b0bdefd94a
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Thu Nov 10 14:05:04 2005 +0000

    [ARM] 3140/1: NSLU2 machine support
    
    Patch from Alessandro Zummo
    
    This patch adds support for the LinkSys NSLU2 running with
    both big and little-endian kernels. The LinkSys NSLU2 is
    a cost engineered ARM, XScale 420 based system similar to
    the the Intel IXDP425 evaluation board. It uses the
    IXP4XX ARCH.
    
    While this patch applies independently of other patches
    the resultant kernel requires further patches to successfully
    use onboard devices, including the onboard flash. Since these
    patches are independent of this one they will be submitted
    separately.
    
    A defconfig is not included here because not all of
    the required drivers are actually in the kernel.
    We intend to provide one as soon as the patches
    will be incorporated in mainstream.
    
    This patch is the combined work of nslu2-linux.org
    
    Signed-off-by: John Bowler <jbowler@acm.org>
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f51750d5eab50f0db5396a5ca30d5bafc038c263
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Nov 7 17:06:33 2005 +0000

    [PATCH] libata: Note a nasty ATA quirk
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit af36bef0c5bb82f361ebb2f106f11d0f63dac887
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 10 11:40:53 2005 +0000

    [ARM] Fix csumpartial corner case
    
    Ji-In Park discovered a bug in csumpartial which caused wrong
    checksums with misaligned buffers.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a2932b35a0efd01b20a3f598d19db052d64935f5
Author: Igor Popik <igor.popik@gmail.com>
Date:   Thu Oct 6 20:32:58 2005 +0200

    [PCMCIA] i82365: release all resources if no devices are found
    
    The i82365 driver does not release all the resources when the device is not
    found. This can cause an oops when reading /proc/ioports after module
    unload.
    
    Signed-off-by: Igor Popik <igor.popik@gmail.com>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit e34631508861237e598e7d72703eae4478761f37
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Sat Nov 5 13:03:32 2005 -0200

    [PCMCIA] MPC8xx PCMCIA update
    
    Kconfig entry: dependency on 8xx
    Makefile: fix whitespace breakage
    m8xx_pcmcia.c:
    	- asm/segment.h is gone
    	- use generic PCMCIA suspend/resume methods
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 5ab0b374943b3e42a391a3929e91616ef37dda90
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Nov 2 18:08:40 2005 +0000

    [PATCH] Alchemy PCMCIA: Fix config.h inclusion
    
    Add rsp. remove the inclusion of <linux/config.h> as needed.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Dominik Brodowski <linux@dominikbrodowski.net>

commit 7c43ee40ec602db3fa27e6e2d4f092f06ab0901c
Merge: 97671e4... fe360cd...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 16:10:01 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit fe360cdfd26503a6def1dfebc0ef8371c5071340
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 10 16:07:12 2005 +1100

    powerpc: fix iSeries build
    
    Only MULTIPLATFORM has phbs_remap_io.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 97671e4b295fba1b7d3de2984f98bcdaeb197a26
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 16:06:30 2005 +1100

    ppc64: Add declarations to ppc64 headers as well as powerpc headers
    
    For now, we need these declarations that we moved from C code in
    the asm-ppc64 versions of these headers as well as the asm-powerpc
    versions.  The asm-ppc64 versions will be disappearing shortly.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fe98aeab8494cf431ef62e080cbe1dc1b6f5bd49
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:51:17 2005 -0600

    [PATCH] ppc64: bugfix: crash on PHB add
    
    19-rpaphp-crashing.patch
    
    This patch fixes a bug related to dlpar PHB add, after a PHB removal.
    
    -- The crash was due to the PHB not having a pci_dn structure yet,
       when the phb is being added.
    
    This code survived testing, of adding and removeig the PHB and all slots
    underneath it, 17 times so far, as of this writing.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d9564ad11454581f85b77026f290f4bb24eecf25
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:50:48 2005 -0600

    [PATCH] ppc64: mark failed devices
    
    17-eeh-slot-marking-bug.patch
    
    A device that experiences a PCI outage may be just one deivce out
    of many that was affected. In order to avoid repeated reports of
    a failure, the entire tree of affected devices should be marked
    as failed. This patch marks up the entire tree.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0c95fbb25602caa02ef697c3852cd61f9829e6ff
Merge: 49b0985... 06a98db...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 15:54:00 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit 49b09853df1a303876b82a6480efb2f7b45ef041
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 15:53:40 2005 +1100

    powerpc: Move some extern declarations from C code into headers
    
    This also make klimit have the same type on 32-bit as on 64-bit,
    namely unsigned long, and defines and initializes it in one place.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 06a98dba0d4b4f2f9b1f35f636beb166d6cbde34
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 10 15:51:14 2005 +1100

    powerpc: implement atomic64_t on ppc64
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d3d2176a0bc696b5365ce0e8f82a29a521d85fd0
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 10 15:26:20 2005 +1100

    [PATCH] powerpc: Move more ppc64 files with no ppc32 equivalent to powerpc
    
    This patch moves a bunch more files from arch/ppc64 and
    include/asm-ppc64 which have no equivalents in ppc32 code into
    arch/powerpc and include/asm-powerpc.  The file affected are:
    	hvcall.h
    	proc_ppc64.c
    	sysfs.c
    	lparcfg.c
    	rtas_pci.c
    
    The only changes apart from the move and corresponding Makefile
    changes are:
    	- #ifndef/#define in includes updated to _ASM_POWERPC_ form
    	- trailing whitespace removed
    	- comments giving full paths removed
    
    Built and booted on POWER5 LPAR (ARCH=powerpc and ARCH=ppc64), built
    for 32-bit powermac (ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0f34f490290e05ee6c02e20b3811fce6f09318f4
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 10 15:04:24 2005 +1100

    [PATCH] ppc64: fix PCI IO mapping
    
    phbs_remap_io(), which maps the PCI IO space into the kernel virtual space,
    is called too early on powermac, and thus doesn't work.
    
    This fixes it by removing the call from all platforms and putting it back
    into the ppc64 common code where it belongs, after the actual probing of
    the bus.
    
    That means that before that call, only the ISA IO space (if any) is mapped,
    any PIO access (from quirks for example) will fail. This happens not to be
    a problem for now, but we'll have to rework that code if it becomes one in
    the future.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 47c2ac8cc3cf7c484e131d10cb812b6ab198885a
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 10 14:54:58 2005 +1100

    [PATCH] powerpc: 64k pages vs. U3 iommu
    
    That DART (U3 iommu) code didn't properly scale the number of entries
    when using !4k pages. That caused crashes when booting G5s with more
    than 2Gb of RAM. This fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 87655ff26817993932b7d049c4df226fb2c0ac5f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 10 14:53:16 2005 +1100

    [PATCH] powerpc: 64k pages pmd alloc fix
    
    This patch makes the kernel use a different kmem cache for PMD pages
    as they are smaller than PTE pages. Avoids waste of memory.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3b44f137b9a846c5452d9e6e1271b79b1dbcc942
Merge: b01a55a... 07203f6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 19:57:25 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/bart/ide-2.6

commit 676e2497f87501fb190a5b06103d396ca9147373
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 10 14:16:21 2005 +1100

    powerpc: remove some warnings when building iSeries
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit b01a55a865eeac0371f1a73d36b134d23d938e1a
Merge: 940e331... 482a852...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 19:32:25 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit 940e3318c36394939d805e797d7be39ddaaa7911
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Wed Nov 9 21:45:24 2005 -0500

    [PATCH] SUNRPC: don't reencode when looping in call transmit.
    
    If the call to xprt_transmit() fails due to socket buffer space
    exhaustion, we do not need to re-encode the RPC message when we
    loop back through call_transmit.
    
    Re-encoding can actually end up triggering the WARN_ON() in
    call_decode() if we re-encode something like a read() request and
    auth->au_rslack has changed.
    It can also cause us to increment the RPCSEC_GSS sequence number
    beyond the limits of the allowed window.
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1449ed956ae29129bde3e5137dde1d579d585ff
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:30:20 2005 +1100

    powerpc: 32-bit fixes for xmon
    
    This makes the memory examine/change command print the address as
    8 digits instead of 16, and makes the memory dump command print
    4 4-byte values per line instead of 2 8-byte values.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a7ddc5e85351931b67a48afa22788d77763837d8
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:29:18 2005 +1100

    powerpc: Add user CPU features for POWER4, POWER5, POWER5+ and Cell.
    
    This is at the request of the glibc folks, who want to use these bits
    to select libraries optimized for the microarchitecture and new
    instructions in these processors.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cbe62e2b4a764aa3f9a2b9c9004f8e86a1f0ade8
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:28:03 2005 +1100

    powerpc: Fix SMP time initialization problem
    
    We were getting the last_jiffy per-cpu variable set ahead of the current
    timebase in smp_space_timers on SMP machines.  This caused the loop in
    timer_interrupt to loop virtually forever, since tb_ticks_since assumes
    that it will never be called with the timebase behind the last_jiffy
    value.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 094fe2e712f38f49bf79ef93306c61b1b993b07b
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:26:12 2005 +1100

    powerpc: Fixes for 32-bit powermac SMP
    
    A couple of bugs crept in with the merge of smp.c...
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0a5cab42a1317326d87b0d074df50705a0c3fa77
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:23:54 2005 +1100

    powerpc: Fix compile error in EEH code with gcc4
    
    Gcc 4 doesn't like being told to inline a recursive function...
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3db9aaaf87b77eb9669157c723f6cb7e234bcef0
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 14:23:18 2005 +1100

    powerpc: Fix typo introduced in merging platform codes
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 799d6046d3fb557006e6d7c9767fdb96479b0e0a
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 13:37:51 2005 +1100

    [PATCH] powerpc: merge code values for identifying platforms
    
    This patch merges platform codes.  systemcfg->platform is no longer used,
    systemcfg use in general is deprecated as much as possible (and renamed
    _systemcfg before it gets completely moved elsewhere in a future patch),
    _machine is now used on ppc64 along as ppc32.  Platform codes aren't gone
    yet but we are getting a step closer. A bunch of asm code in head[_64].S
    is also turned into C code.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3ddfbcf19b15ccd25a0b4b2dc2e38000e08de739
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 10 12:56:55 2005 +1100

    [PATCH] powerpc: Consolidate asm compatibility macros
    
    This patch consolidates macros used to generate assembly for
    compatibility across different CPUs or configs.  A new header,
    asm-powerpc/asm-compat.h contains the main compatibility macros.  It
    uses some preprocessor magic to make the macros suitable both for use
    in .S files, and in inline asm in .c files.  Headers (bitops.h,
    uaccess.h, atomic.h, bug.h) which had their own such compatibility
    macros are changed to use asm-compat.h.
    
    ppc_asm.h is now for use in .S files *only*, and a #error enforces
    that.  As such, we're a lot more careless about namespace pollution
    here than in asm-compat.h.
    
    While we're at it, this patch adds a call to the PPC405_ERR77 macro in
    futex.h which should have had it already, but didn't.
    
    Built and booted on pSeries, Maple and iSeries (ARCH=powerpc).  Built
    for 32-bit powermac (ARCH=powerpc) and Walnut (ARCH=ppc).
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f6d3577da14e877b79517c883d1139ee6ad7da45
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 10 12:42:17 2005 +1100

    [PATCH] powerpc: Move scanlog.c to platforms/pseries
    
    scanlog.c is only compiled on pSeries.  Thus, this patch moves it to
    platforms/pseries.
    
    Built and booted on pSeries LPAR (ARCH=powerpc and ARCH=ppc64).  Built
    for iSeries (ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 26ef5c09576496dfd08d2b36ec1d08a6f917a0eb
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 10 11:50:16 2005 +1100

    [PATCH] powerpc: Merge cacheflush.h and cache.h
    
    The ppc32 and ppc64 versions of cacheflush.h were almost identical.
    The two versions of cache.h are fairly similar, except for a bunch of
    register definitions in the ppc32 version which probably belong better
    elsewhere.  This patch, therefore, merges both headers.  Notable
    points:
    	- there are several functions in cacheflush.h which exist only
    on ppc32 or only on ppc64.  These are handled by #ifdef for now, but
    these should probably be consolidated, along with the actual code
    behind them later.
    	- Confusingly, both ppc32 and ppc64 have a
    flush_dcache_range(), but they're subtly different: it uses dcbf on
    ppc32 and dcbst on ppc64, ppc64 has a flush_inval_dcache_range() which
    uses dcbf.  These too should be merged and consolidated later.
    	- Also flush_dcache_range() was defined in cacheflush.h on
    ppc64, and in cache.h on ppc32.  In the merged version it's in
    cacheflush.h
    	- On ppc32 flush_icache_range() is a normal function from
    misc.S.  On ppc64, it was wrapper, testing a feature bit before
    calling __flush_icache_range() which does the actual flush.  This
    patch takes the ppc64 approach, which amounts to no change on ppc32,
    since CPU_FTR_COHERENT_ICACHE will never be set there, but does mean
    renaming flush_icache_range() to __flush_icache_range() in
    arch/ppc/kernel/misc.S and arch/powerpc/kernel/misc_32.S
    	- The PReP register info from asm-ppc/cache.h has moved to
    arch/ppc/platforms/prep_setup.c
    	- The 8xx register info from asm-ppc/cache.h has moved to a
    new asm-powerpc/reg_8xx.h, included from reg.h
    	- flush_dcache_all() was defined on ppc32 (only), but was
    never called (although it was exported).  Thus this patch removes it
    from cacheflush.h and from ARCH=powerpc (misc_32.S) entirely.  It's
    left in ARCH=ppc for now, with the prototype moved to ppc_ksyms.c.
    
    Built for Walnut (ARCH=ppc), 32-bit multiplatform (pmac, CHRP and PReP
    ARCH=ppc, pmac and CHRP ARCH=powerpc).  Built and booted on POWER5
    LPAR (ARCH=powerpc and ARCH=ppc64).
    
    Built for 32-bit powermac (ARCH=ppc and ARCH=powerpc).  Built and
    booted on POWER5 LPAR (ARCH=powerpc and ARCH=ppc64).  Built and booted
    on G5 (ARCH=powerpc)
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e130bedb7ce718a8eb6b56a3806b96281f618111
Merge: 00557b5... 756e710...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 13:08:55 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit 482a8524f85a7d8c40c6fb5d072e85bc2fef327f
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:56 2005 +0100

    [NETLINK]: Generic netlink family
    
    The generic netlink family builds on top of netlink and provides
    simplifies access for the less demanding netlink users. It solves
    the problem of protocol numbers running out by introducing a so
    called controller taking care of id management and name resolving.
    
    Generic netlink modules register themself after filling out their
    id card (struct genl_family), after successful registration the
    modules are able to register callbacks to command numbers by
    filling out a struct genl_ops and calling genl_register_op(). The
    registered callbacks are invoked with attributes parsed making
    life of simple modules a lot easier.
    
    Although generic netlink modules can request static identifiers,
    it is recommended to use GENL_ID_GENERATE and to let the controller
    assign a unique identifier to the module. Userspace applications
    will then ask the controller and lookup the idenfier by the module
    name.
    
    Due to the current multicast implementation of netlink, the number
    of generic netlink modules is restricted to 1024 to avoid wasting
    memory for the per socket multiacst subscription bitmask.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9ac4a16983ea4edf719c390a1a234d956947688d
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:55 2005 +0100

    [RTNETLINK]: Use generic netlink receive queue processor
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 88fc2c84312d095545c08a9f871ad1888a688cf6
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:54 2005 +0100

    [XFRM]: Use generic netlink receive queue processor
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 82ace47a7256fd39d370a6442e0649f75961b831
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:53 2005 +0100

    [NETLINK]: Generic netlink receive queue processor
    
    Introduces netlink_run_queue() to handle the receive queue of
    a netlink socket in a generic way. Processes as much as there
    was in the queue upon entry and invokes a callback function
    for each netlink message found. The callback function may
    refuse a message by returning a negative error code but setting
    the error pointer to 0 in which case netlink_run_queue() will
    return with a qlen != 0.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a8f74b228826eef1cbe04a05647d61e896f5fd63
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:52 2005 +0100

    [NETLINK]: Make netlink_callback->done() optional
    
    Most netlink families make no use of the done() callback, making
    it optional gets rid of all unnecessary dummy implementations.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit bfa83a9e03cf8d501c6272999843470afecb32ed
Author: Thomas Graf <tgraf@suug.ch>
Date:   Thu Nov 10 02:25:51 2005 +0100

    [NETLINK]: Type-safe netlink messages/attributes interface
    
    Introduces a new type-safe interface for netlink message and
    attributes handling. The interface is fully binary compatible
    with the old interface towards userspace. Besides type safety,
    this interface features attribute validation capabilities,
    simplified message contstruction, and documentation.
    
    The resulting netlink code should be smaller, less error prone
    and easier to understand.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 00557b59c69ce284e5a61bcfcdbcc3dc867cb2da
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 12:01:41 2005 +1100

    powerpc: Fix find_next_bit on 32-bit
    
    We had a "64" that didn't get changed to BITS_PER_LONG, resulting
    in find_next_bit not working correctly.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a23414beb6607dfd40d3245f7df9dd97a4e2c82b
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 12:00:55 2005 +1100

    ppc/powerpc: workarounds for old Open Firmware versions
    
    This adds code to work around some problems with old versions of
    Open Firmware, such as on the early powermacs (7500 etc.) and the
    "Longtrail" CHRP machine.  On these machines we have to claim
    the physical and virtual address ranges explicitly when claiming
    memory and then set up a V->P mapping.
    
    The Longtrail has more problems: setprop doesn't work, and we have
    to set an "allow-reclaim" variable to 0 in order to get claim on
    physical memory ranges to fail if the memory is already claimed.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9fb9cbb1082d6b31fb45aa1a14432449a0df6cf1
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Nov 9 16:38:16 2005 -0800

    [NETFILTER]: Add nf_conntrack subsystem.
    
    The existing connection tracking subsystem in netfilter can only
    handle ipv4.  There were basically two choices present to add
    connection tracking support for ipv6.  We could either duplicate all
    of the ipv4 connection tracking code into an ipv6 counterpart, or (the
    choice taken by these patches) we could design a generic layer that
    could handle both ipv4 and ipv6 and thus requiring only one sub-protocol
    (TCP, UDP, etc.) connection tracking helper module to be written.
    
    In fact nf_conntrack is capable of working with any layer 3
    protocol.
    
    The existing ipv4 specific conntrack code could also not deal
    with the pecularities of doing connection tracking on ipv6,
    which is also cured here.  For example, these issues include:
    
    1) ICMPv6 handling, which is used for neighbour discovery in
       ipv6 thus some messages such as these should not participate
       in connection tracking since effectively they are like ARP
       messages
    
    2) fragmentation must be handled differently in ipv6, because
       the simplistic "defrag, connection track and NAT, refrag"
       (which the existing ipv4 connection tracking does) approach simply
       isn't feasible in ipv6
    
    3) ipv6 extension header parsing must occur at the correct spots
       before and after connection tracking decisions, and there were
       no provisions for this in the existing connection tracking
       design
    
    4) ipv6 has no need for stateful NAT
    
    The ipv4 specific conntrack layer is kept around, until all of
    the ipv4 specific conntrack helpers are ported over to nf_conntrack
    and it is feature complete.  Once that occurs, the old conntrack
    stuff will get placed into the feature-removal-schedule and we will
    fully kill it off 6 months later.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 8b553f32db3bf5d0ec0819c595932eb21cd45945
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:50:17 2005 -0600

    [PATCH] ppc64: Save & restore of PCI device BARS
    
    14-eeh-device-bar-save.patch
    
    After a PCI device has been resest, the device BAR's and other config
    space info must be restored to the same state as they were in when
    the firmware first handed us this device.  This will allow the
    PCI device driver, when restarted, to correctly recognize and set up
    the device.
    
    Tis patch saves the device config space as early as reasonable after
    the firmware has handed over the device.  Te state resore funcion
    is inteded for use by the EEH recovery routines.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6dee3fb94004c43ce09f6bf5e7c0b778ec5b8cc8
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:50:10 2005 -0600

    [PATCH] ppc64: PCI reset support routines
    
    13-eeh-recovery-support-routines.patch
    
    EEH Recovery support routines
    
    This patch adds routines required to help drive the recovery of
    EEH-frozen slots.  The main function is to drive the PCI #RST
    signal line high for a qurter of a second, and then allow for
    a second & a half of settle time.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 172ca9261800bacbbc7d320d9924d9b482dff8de
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:50:04 2005 -0600

    [PATCH] ppc64: PCI error event dispatcher
    
    12-eeh-event-dispatcher.patch
    
    ppc64: EEH Recovery dispatcher thread
    
    This patch adds a mechanism to create recovery threads when an
    EEH event is received.  Since an EEH freeze state may be detected
    within an interrupt context, we need to get out of the interrupt
    context before starting recovery. This dispatcher does this in
    two steps: first, it uses a workqueue to get out, and then
    lanuches a kernel thread, so that the recovery routine can
    sleep for exteded periods without upseting the keventd.
    
    A kernel thread is created with each EEH event, rather than
    having one long-running daemon started at boot time.  This is
    because it is anticipated that EEH events will be very rare
    (very very rare, ideally) and so its pointless to cluter the
    process tables with a daemon that will almost never run.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7f79da7accd63a6adb84f4602f66779f6a701e7b
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:51 2005 -0600

    [PATCH] ppc64: move eeh.c to powerpc directory from ppc64
    
    11-eeh-move-to-powerpc.patch
    
    Move arch/ppc64/kernel/eeh.c to arch//powerpc/platforms/pseries/eeh.c
    No other changes (except for Makefile to build it)
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f8632c822719cce08cfb128859e354007744cbba
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:45 2005 -0600

    [PATCH] ppc64: bugfix: don't silently ignore PCI errors
    
    10-EEH-enable-bugfix.patch
    
    Bugfix: With the curent linux-2.6.14-rc2-git6, EEH errors are
    ignored because thier detection requires an unused, uninitialized
    flag to be set.  This patch removes the unused flag.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 18126f35f69c928af26ec1dda2cb91b23220cdd4
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:38 2005 -0600

    [PATCH] ppc64: bugfix: crash on PCI hotplug
    
    09-hotplug-bugfix.patch
    
    In the current 2.6.14-rc2-git6 kernel, performing a Dynamic LPAR Add
    of a hotplug slot will crash the system, with the following (abbreviated)
    stack trace:
    
    cpu 0x3: Vector: 700 (Program Check) at [c000000053dff7f0]
        pc: c0000000004f5974: .__alloc_bootmem+0x0/0xb0
        lr: c0000000000258a0: .update_dn_pci_info+0x108/0x118
            c0000000000257c8 .update_dn_pci_info+0x30/0x118 (unreliable)
            c0000000000258fc .pci_dn_reconfig_notifier+0x4c/0x64
            c000000000060754 .notifier_call_chain+0x68/0x9c
    
    The root cause was that __init __alloc_bootmem() was called long after
    boot had finished, resulting in a crash because this routine is undefined
    after boot time.  The patch below fixes this crash, and adds some docs to
    clarify the code.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5c1344e988c716470b5609708215dd7f135f0e3a
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:31 2005 -0600

    [PATCH] ppc64: escape hatch for spinning interrupt deadlocks
    
    08-eeh-spin-counter.patch
    
    One an EEH event is triggers, all further I/O to a device is blocked (until
    reset).  Bad device drivers may end up spinning in their interrupt handlers,
    trying to read an interrupt status register that will never change state.
    This patch moves that spin counter to a per-device structure, and adds
    some diagnostic prints to help locate the bad driver.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fd761fd876e4d1c0d07b6d93bc45c999fa596cb0
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:23 2005 -0600

    [PATCH] ppc64: serialize reports of PCI errors
    
    07-eeh-report-race.patch
    
    When a PCI slot is isolated, all PCI functions under that slot are affected.
    If hese functions have separate device drivers, the EEH isolation event
    might be reported multiple times. This patch adds a lock to prevent the
    racing of such multiple reports. It also marks every device under the slot
    as having experienced an EEH event, so that multiple reports may be
    recognized more easily.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 76e6faf7a3a3ad3e18a1b70f9e4cd96cdf58140d
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:15 2005 -0600

    [PATCH] ppc64: avoid PCI error reporting for empty slots
    
    06-eeh-empty-slot-error.patch
    
    Performing PCI config-space reads to empty PCI slots can lead to reports of
    "permanent failure" from the firmware. Ignore permanent failures on empty slots.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit df7242b1156966c3b1aa0fd2bc63e3736099b592
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:49:01 2005 -0600

    [PATCH] ppc64: RTAS error reporting restructuring
    
    05-eeh-slot-error-detail.patch
    
    This patch encapsulates a section of code that reports the EEH event.
    The new subroutine can be used in several places to report the error.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 177bc9367efe89a642bc9a07351726fd2c31f5ff
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:48:52 2005 -0600

    [PATCH] ppc64: PCI error rate statistics
    
    04-eeh-statistics.patch
    
    This minor patch adds some statistics-gathering counters that allow the
    behaviour of the EEH subsystem o be monitored. While far from perfect,
    it does provide a rudimentary device that makes understanding of the
    current state of the system a bit easier.
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 56b0fca3a008ddec8c00cfdddbef17bd9ce188e3
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:48:45 2005 -0600

    [PATCH] ppc64: PCI address cache minor fixes
    
    03-eeh-addr-cache-cleanup.patch
    
    This is a minor patch to clean up a buglet related to the PCI address cache.
    (The buglet doesn't manifes itself unless there are also bugs elsewhere,
    which is why its minor.).  Also:
    
    -- Improved debug printing.
    -- Declare some private routines as static
    -- Adds reference counting to struct pci_dn->pcidev structure
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 693765021460f19c5d7c638eb76e2efe1cd84752
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:47:50 2005 -0600

    [PATCH] ppc64: misc minor cleanup
    
    02-eeh-minor-cleanup.patch
    
    This patch performs some minor cleanup of the eeh.c file, including:
    -- trim some trailing whitespace
    -- remove extraneous #includes
    -- use the macro PCI_DN uniformly, instead of the void pointer chase.
    -- typos in comments
    -- improved debug printk's
    
    Signed-off-by: Linas Vepstas <linas@linas.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ae65a391caf1830aea9e4cadd69bb1aa69aad492
Author: Linas Vepstas <linas@linas.org>
Date:   Thu Nov 3 18:42:26 2005 -0600

    [PATCH] ppc64: uniform usage of bus unit id interfaces
    
    01-pci-dn-uniformization.patch
    
    This patch changes the rtas_pci interface to use the new struct pci_dn
    structure for two routines that work with pci device nodes.
    
    This patch also does some minor janitorial work: it uses some handy macros
    and cleans up some trailing whitespace in the affected file.
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 77ac166fba909d520b9a21dcc28cb49081e31033
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Thu Nov 10 11:12:11 2005 +1100

    [PATCH] ppc64: Don't panic when early __ioremap fails
    
    Early calls to __ioremap() will panic if the hash insertion fails. This
    patch makes them return NULL instead. It happens with some pSeries users
    who enabled CONFIG_BOOTX_TEXT. The later is getting an incorrect address
    for the fame buffer and the hash insertion fails. With this patch, it
    will display an error instead of crashing at boot.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c44bc68dc0d2ca95e48b7242fef48200cd03352d
Author: Olaf Hering <olh@suse.de>
Date:   Wed Nov 9 20:54:43 2005 +0100

    [PATCH] ppc64 boot: fix compile warnings
    
    Fix a few compile warnings
    
    arch/ppc64/boot/addRamDisk.c:166: warning: int format, long unsigned int arg (arg 2)
    arch/ppc64/boot/addRamDisk.c:170: warning: int format, long unsigned int arg (arg 2)
    arch/ppc64/boot/addRamDisk.c:265: warning: unsigned int format, long unsigned int arg (arg 2)
    arch/ppc64/boot/addRamDisk.c:302: warning: unsigned int format, long unsigned int arg (arg 3)
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 681c774d0fb59c9b9525c2879d1cfae29c2f7866
Author: Olaf Hering <olh@suse.de>
Date:   Wed Nov 9 20:53:43 2005 +0100

    [PATCH] ppc64 boot: remove sysmap from required filenames
    
    A stripped vmlinux does not contain enough symbols to recreate the
    System.map.  The System.map file is only used to determine the end of
    the runtime memory size.  This is the same value (rounded up to
    PAGE_SIZE) as ->memsiz in the ELF program header.
    
    Also, the target vmlinux.initrd doesnt work in 2.6.14:
    
      arch/ppc64/boot/addRamDisk arch/ppc64/boot/ramdisk.image.gz vmlinux.strip arch/ppc64/boot/vmlinux.initrd
      Name of vmlinux output file missing.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 58638bffe3d594ed3a902824ea40a4196c745bbd
Author: Olaf Hering <olh@suse.de>
Date:   Wed Nov 9 20:52:20 2005 +0100

    [PATCH] ppc64 boot: remove argv usage
    
    Use a local variable for the input filenames.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eba2fb2dac93ed01a9f85b2f623b49a93bef3ed7
Author: Olaf Hering <olh@suse.de>
Date:   Wed Nov 9 20:51:03 2005 +0100

    [PATCH] ppc64 boot: remove local initializers
    
    Remove initialization of local variables.
    They get all values assigned before use.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f7b9996990bccaa9f53cbea7aea8ab5355e7f10c
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Wed Nov 9 11:00:16 2005 -0200

    [PATCH] fs_enet build fix
    
    Due to the recent update of the platform code, some platform device
    drivers fail to compile. This fix is for fs_enet, adding #include of a
    new header, to which a number of platform stuff has been relocated.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 43cefe29d497c2a9d3c7eae89964260e7b35149e
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Wed Nov 9 06:42:05 2005 -0700

    [PATCH] ppc32: fix ppc44x fpu build
    
    Fixes ppc44x fpu support that broke from a bad arch/powerpc merge.
    Instead of adding KernelFP back in (which duplicates code) we use
    the same kernel fpu unavailable handler as classic PPC processors.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8882a4da1c932c9f311c9f739e6719adea3e25d9
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 9 13:38:01 2005 +1100

    [PATCH] powerpc: Move various ppc64 files with no ppc32 equivalent to powerpc
    
    This patch moves a bunch of files from arch/ppc64 and
    include/asm-ppc64 which have no equivalents in ppc32 code into
    arch/powerpc and include/asm-powerpc.  The file affected are:
    	abs_addr.h
    	compat.h
    	lppaca.h
    	paca.h
    	tce.h
    	cpu_setup_power4.S
    	ioctl32.c
    	firmware.c
    	pacaData.c
    
    The only changes apart from the move and corresponding Makefile
    changes are:
    	- #ifndef/#define in includes updated to _ASM_POWERPC_ form
    	- trailing whitespace removed
    	- comments giving full paths removed
    	- pacaData.c renamed paca.c to remove studlyCaps
    	- Misplaced { moved in lppaca.h
    
    Built and booted on POWER5 LPAR (ARCH=powerpc and ARCH=ppc64), built
    for 32-bit powermac (ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 584224e4095d8abcf2bef38efacc291be9a44c20
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 9 13:04:06 2005 +1100

    [PATCH] powerpc: Merge current.h
    
    This patch merges current.h.  This is a one-big-ifdef merge, but both
    versions are so tiny, I think we can live with it.  While we're at it,
    we get rid of the fairly pointless redirection through get_current()
    in the ppc64 version.
    
    Built and booted on POWER5 LPAR (ARCH=powerpc & ARCH=ppc64).  Built
    for 32-bit pmac (ARCH=powerpc & ARCH=ppc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c5ff700116a56a870ef40cc4ac6f19bf2530b466
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 9 11:21:07 2005 +1100

    [PATCH] powerpc: Merge signal.h
    
    Having already merged the ppc and ppc64 versions of signal.c, this
    patch finishes the job by merging signal.h.  The two versions were
    almost identical already.  Notable changes:
    	- We use BITS_PER_LONG to correctly size sigset_t
    	- Remove some uneeded #includes and struct forward
    declarations.  This does mean adding an include to signal_32.c which
    relied on the indirect inclusion of sigcontext.h
    	- As the ppc64 version, the merged signal.h has prototypes for
    do_signal() and do_signal32().  Thus remove extra prototypes from
    ppc_ksyms.c which had them directly.
    
    Built and booted on POWER5 LPAR (ARCH=ppc64 and ARCH=powerpc).  Built
    for 32-bit powermac (ARCH=ppc and ARCH=powerpc) and Walnut (ARCH=ppc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e4d76e1c0b15590f2ad9bba89426c2520cd22ca6
Author: Andrew Morton <akpm@osdl.org>
Date:   Wed Nov 9 15:45:30 2005 -0800

    [PATCH] powerpc: sched fixups
    
    - Re-add a hunk lost during merge: ppc64 is missing the hunk that disables
      preempt on the secondary CPUs before they call cpu_idle().
    
    - ppc's cpu_idle() had the need_resched() test wrong.
    
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    CC: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a47ab9371e664952b1104a70ec8e9b74db3f7a5f
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Wed Nov 9 15:45:29 2005 -0800

    [PATCH] optimize activate_task()
    
    recalc_task_prio() is called from activate_task() to calculate dynamic
    priority and interactive credit for the activating task.  For real-time
    scheduling process, all that dynamic calculation is thrown away at the end
    because rt priority is fixed.  Patch to optimize recalc_task_prio() away
    for rt processes.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <piggin@cyberone.com.au>
    Cc: Con Kolivas <kernel@kolivas.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31e7f1ff3c5d39a70da85f7d81a1ab1f4e64fa97
Merge: fca5dcd... 6730c3c...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 10 11:06:04 2005 +1100

    Merge ../linux-2.6

commit 07203f6471a11f4eda48acbe528c0ce4704ad42c
Author: Ondrej Zary <linux@rainbow-software.org>
Date:   Thu Nov 10 00:25:15 2005 +0100

    [PATCH] ide-floppy: software eject not working with LS-120 drive
    
    The problem (eject not working on ATAPI LS-120 drive) is caused by
    idefloppy_ioctl() function which *first* tries generic_ide_ioctl()
    and *only* if it fails with -EINVAL, proceeds with the specific ioctls.
    The generic eject command fails with something other than -EINVAL
    and the specific one is never executed.
    
    This patch fixes it by first going through the internal ioctls
    and only trying generic_ide_ioctl() if none of them matches.
    
    Signed-off-by: Ondrej Zary <linux@rainbow-software.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 402771c786b71765c39d9a91f31b8c7b91faaa0a
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Wed Nov 9 23:22:27 2005 +0000

    [MMC] wbsd version 1.5
    
    New kernel, new patches, new version.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit de1d09e3e2ac576ee1e257b7d141c3cae4ce5fa9
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Wed Nov 9 23:21:49 2005 +0000

    [MMC] Add MODULE_AUTHOR to wbsd
    
    'cause I'm in it for the chicks. ;)
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7b7abfe3dd81d659a0889f88965168f7eef8c5c6
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Nov 9 15:21:09 2005 -0800

commit 93968d7551f1ff1806f70cdacf1bd997ef30836e
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Wed Nov 9 23:21:06 2005 +0000

    [MMC] Use __devexit_p in wbsd
    
    wbsd_*_remove() is declared as __devexit but __devexit_p isn't used
    when taking their addresses.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d868dd19ad0828b1b3b56f3b06bd4a39971847be
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Nov 10 00:19:14 2005 +0100

    [PATCH] siimage: enable interrupts on Adaptec SA-1210 card
    
    The siimage driver proports to support the Adaptec SA-1210 SATA
    controller.  However, at least some of those cards boot-up with their
    interrupts disabled internally.  The siimage driver currently ignores
    that fact, so that driver does not actually work with those cards.
    This patch enables those interrupts on cards that need it.
    
    [ This is implemented based on similar code in the libata-based
      sata_sil driver. ]
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 25000c2c8a6cbf9bba2de6560370ee222b4c613d
Author: Alan Cox <alan@redhat.com>
Date:   Thu Nov 10 00:10:37 2005 +0100

    [PATCH] ide: explain the PCI bus test we do in <asm-i386/ide.h>
    
    Matthew Wilcox asked that this got a comment explaining why it is done
    so here it is.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit f5b2d8b4b5146fa2d70fec7d514fa0bd64636958
Author: Jaya Kumar <jayakumar.ide@gmail.com>
Date:   Wed Nov 9 23:58:16 2005 +0100

    [PATCH] ide: CS5535 driver
    
    Signed-off-by: Jaya Kumar <jayakumar.ide@gmail.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 6730c3c14421b7c924d06e31bb66e0adad225547
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 14:56:00 2005 -0800

    Fix AGP compile on non-x86 architectures
    
    AGP shouldn't use "global_flush_tlb()" to flush the AGP mappings, that i
    spurely an x86'ism.  The proper AGP mapping flusher that should be used
    is "flush_agp_mappings()", which on x86 obviously happens to do a global
    TLB flush.
    
    This makes AGP (or at least the config _I_ happen to use) compile again
    on ppc64.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e82b3aec8d508d2a925a4c766e97f16b7c4dfb1b
Merge: ec58ef0... ad8f76b...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Nov 9 14:33:22 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 3ae5eaec1d2d9c0cf53745352e7d4b152810ba24
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 22:32:44 2005 +0000

    [DRIVER MODEL] Convert platform drivers to use struct platform_driver
    
    This allows us to eliminate the casts in the drivers, and eventually
    remove the use of the device_driver function pointer methods for
    platform device drivers.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7fab773de16ccaeb249acdc6e956a9759c68225d
Author: Jordan Crouse <jordan.crouse@amd.com>
Date:   Wed Nov 9 23:26:09 2005 +0100

    [PATCH] ide: AMD Geode GX/LX support
    
    From: "Jordan Crouse" <jordan.crouse@amd.com>
    
    The core IDE engine on the CS5536 is the same as the other AMD southbridges,
    so unlike the CS5535, we can simply add the appropriate PCI headers to
    the existing amd74xx code.
    
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 0046b06a367cd853efd3223ce60143f3a7952522
Author: Willem Riede <wrlk@riede.org>
Date:   Wed Nov 9 23:18:22 2005 +0100

    [PATCH] ide: ide-scsi fails to call idescsi_check_condition for things like "Medium not present"
    
    This patch started life as a response to fedora specific ide subsystem changes
    that made error handling of my ATAPI tape drive fail; the specifics are in
    
    https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=160868
    
    The insertion of the statement rq->errors = err; near the end of
    ide_end_drive_cmd() in drivers/ide/ide-io.c means that rq->errors does not
    contain what it needs to in idescsi_end_request() in drivers/scsi/ide-scsi.c
    anymore. Recent mainline kernels now also have this change.
    
    The patch below makes ide-scsi whole.
    
    Signed-off-by: Willem Riede <wrlk@riede.org>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 969780f8079994f161de991870feba68f49fc3d7
Merge: ad8f76b... 8750197...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 14:13:53 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/i2c-2.6

commit e851b620e775c9f0e00b1c7e35072d6b98097cb9
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Nov 9 23:07:56 2005 +0100

    [PATCH] ide: possible cleanups
    
    This patch contains the following possible cleanups:
    - pci/cy82c693.c: make a needlessly global function static
    - remove the following unneeded EXPORT_SYMBOL's:
      - ide-taskfile.c: do_rw_taskfile
      - ide-iops.c: default_hwif_iops
      - ide-iops.c: default_hwif_transport
      - ide-iops.c: wait_for_ready
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit 83ae20c849f1bff32100fa8584408dca99ce4a62
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Wed Nov 9 22:58:07 2005 +0100

    [PATCH] ide: move CONFIG_IDE_MAX_HWIFS into linux/ide.h
    
    CONFIG_IDE_MAX_HWIFS is a generic thing, no need to have it duplicated
    by every arch that uses it.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit ad8f76be48d817b48222411ae16a7dfe257bdb24
Merge: cad8e94... 988a649...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 13:47:34 2005 -0800

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/shaggy/jfs-2.6

commit 4349d5cdf28d46c22d467079e80ee9695dcec0ad
Author: Hannes Reinecke <hare@suse.de>
Date:   Wed Nov 9 22:47:18 2005 +0100

    [PATCH] ide: incorrect device link for ide-cs
    
    Devices driven by ide-cs will appear under /sys/devices instead of the
    appropriate PCMCIA device. To fix this I had to extend the hw_regs_t
    structure with a 'struct device' field, which allows us to set the
    parent link for the appropriate hwif.
    
    Signed-off-by: Hannes Reinecke <hare@suse.de>
    Signed-off-by: Jens Axboe <axboe@suse.com>
    Signed-off-by: Bartlomiej Zolnierkiewicz <bzolnier@gmail.com>

commit cad8e944364bd84c8c03e8c99e3fffa1cb2fc1ba
Merge: 8ca2bdc... 9f0ede5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 13:40:21 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/net-2.6

commit ac4d5f74a9b243d9f3f123fe5ce609478df208d8
Author: Uwe Zeisberger <zeisberg@informatik.uni-freiburg.de>
Date:   Wed Nov 9 15:54:08 2005 +0100

    [PATCH] kbuild: make kernelrelease in unconfigured kernel prints an error
    
    Do not include .config for target kernelrelease
    
    Signed-off-by: Uwe Zeisberger <zeisberg@informatik.uni-freiburg.de>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit e6a04466ba965875a6132700fabb2f2c0249c41a
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Nov 8 14:38:02 2005 -0800

    [SCSI] qla2xxx: Update version number to 8.01.03-k.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 335a1cc976ffbb58491a9b6dc58955349e3f0388
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Nov 8 14:37:48 2005 -0800

    [SCSI] qla2xxx: Correct ISP24xx soft-reset handling.
    
    A driver must wait 100us before attempting an MMIO operation
    to the RISC after a soft-reset has been initiated.  A
    similar delay was needed with earlier ISPs.
    
    Note: a PCI config-space read is used to flush the MMIO
    write to the ISP, since the ISP's state machines are unable
    to respond to any MMIO read during the reset process.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8d5708f3b5ea0765af92a79ebc4144c91718e695
Author: Ravi Anand <ravi.anand@qlogic.com>
Date:   Tue Nov 8 14:37:34 2005 -0800

    [SCSI] qla2xxx: Correct abort issue during loop-down state.
    
    Correct issue where abort I/O command was not being issued
    when the loop-state was down.
    
    Signed-off-by: Ravi Anand <ravi.anand@qlogic.com>
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 33135aa2a568ec1a30e734f18e5315e10516e4f3
Author: Ravi Anand <ravi.anand@qlogic.com>
Date:   Tue Nov 8 14:37:20 2005 -0800

    [SCSI] qla2xxx: Correct loop-in-transition issues
    
    When mulitple initiators are coming up in an FCAL topology.
    
    Signed-off-by: Ravi Anand <ravi.anand@qlogic.com>
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit dcb36ce9d9100eb821c6ea314b02f215cbdd8aca
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Nov 8 14:37:06 2005 -0800

    [SCSI] qla2xxx: Correct additional posting issues during NVRAM accesses.
    
    On MMIO relaxed-order platforms, it is possible for the
    proper delay during NVRAM access to begin before the request
    passes through the PCI bus (via a MMIO write) to the ISP.
    Thus, causing a subsequent read to the NVRAM part to fail.
    Add a MMIO read, after the MMIO write to insure any posted
    writes are flushed.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 07ce5eba857cb7dc8f6ae39eda74b108efe4a3f8
Author: Mark Haverkamp <markh@osdl.org>
Date:   Tue Nov 8 14:26:33 2005 -0800

    [SCSI] aacraid: Fix read capacity 16 return data
    
    Received from Mark Salyzyn.
    
    The return data from a read capacity 16 needs to have RTO_EN and PROT_EN
    zeroed out.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9f0ede52a0ebfe1fe99ee5bfd99d17e6ac0c503d
Author: Ken-ichirou MATSUZAWA <chamas@h4.dion.ne.jp>
Date:   Wed Nov 9 13:08:29 2005 -0800

    [IPV6]: ip6ip6_lock is not unlocked in error path.
    
    From: Ken-ichirou MATSUZAWA <chamas@h4.dion.ne.jp>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 44fd0261d3509b0b4303fd9ba792058d230186ab
Author: Peter Chubb <peterc@gelato.unsw.edu.au>
Date:   Wed Nov 9 13:05:47 2005 -0800

    [IPV6]: Fix fallout from CONFIG_IPV6_PRIVACY
    
    Trying to build today's 2.6.14+git snapshot gives undefined references
    to use_tempaddr
    
    Looks like an ifdef got left out.
    
    Signed-off-by: Peter Chubb <peterc@gelato.unsw.edu.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5fd52fe0989f8c84abd8d4a40ded79d4da911744
Author: Krzysztof Piotr Oledzki <ole@ans.pl>
Date:   Wed Nov 9 13:04:32 2005 -0800

    [NETFILTER] ctnetlink: ICMP_ID is u_int16_t not u_int8_t.
    
    Signed-off-by: Krzysztof Piotr Oledzki <ole@ans.pl>
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 439a9994bb6ae3c7cab1f0b776bca6bc7aa58a11
Author: Krzysztof Piotr Oledzki <ole@ans.pl>
Date:   Wed Nov 9 13:04:08 2005 -0800

    [NETFILTER] ctnetlink: Fix oops when no ICMP ID info in message
    
    This patch fixes an userspace triggered oops. If there is no ICMP_ID
    info the reference to attr will be NULL.
    
    Signed-off-by: Krzysztof Piotr Oledzki <ole@ans.pl>
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a856a19a9f3ee14fc0d555470f3af138aeb0245c
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:03:42 2005 -0800

    [NETFILTER] ctnetlink: Add support to identify expectations by ID's
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fcda46128d5cb50075339b79ce585ab767337e9e
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:03:26 2005 -0800

    [NETFILTER] ctnetlink: propagate error instaed of returning -EPERM
    
    Propagate the error to userspace instead of returning -EPERM if the get
    conntrack operation fails.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fe902a91ff427af7dbf20e7c196623b2a4eade13
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:03:09 2005 -0800

    [NETFILTER] ctnetlink: return -EINVAL if size is wrong
    
    Return -EINVAL if the size isn't OK instead of -EPERM.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d63a92810807e8da298895236f2b99697e884014
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Nov 9 13:02:45 2005 -0800

    [NETFILTER]: stop tracking ICMP error at early point
    
    Currently connection tracking handles ICMP error like normal packets
    if it failed to get related connection. But it fails that after all.
    
    This makes connection tracking stop tracking ICMP error at early point.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ed77de9fc69076e6e7c85edf7c1b70650f53121a
Author: Harald Welte <laforge@netfilter.org>
Date:   Wed Nov 9 13:02:16 2005 -0800

    [NETFILTER] nfnetlink: only load subsystems if CAP_NET_ADMIN is set
    
    Without this patch, any user can cause nfnetlink subsystems to be
    autoloaded.  Those subsystems however could add significant processing
    overhead to packet processing, and would refuse any configuration messages
    from non-CAP_NET_ADMIN processes anyway.
    
    This patch follows a suggestion from Patrick McHardy.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5978a9b82c55b82a1087bd86e0ae8b00f94d0d0b
Author: Philip Craig <philipc@snapgear.com>
Date:   Wed Nov 9 13:01:53 2005 -0800

    [NETFILTER] PPTP helper: fix PNS-PAC expectation call id
    
    The reply tuple of the PNS->PAC expectation was using the wrong call id.
    
    So we had the following situation:
    - PNS behind NAT firewall
    - PNS call id requires NATing
    - PNS->PAC gre packet arrives first
    
    then the PNS->PAC expectation is matched, and the other expectation
    is deleted, but the PAC->PNS gre packets do not match the gre conntrack
    because the call id is wrong.
    
    We also cannot use ip_nat_follow_master().
    
    Signed-off-by: Philip Craig <philipc@snapgear.com>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 81e5c27d08bb39e646fe822ea80ab8feba62b94d
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:01:19 2005 -0800

    [NETFILTER] ctnetlink: get_conntrack can use GFP_KERNEL
    
    ctnetlink_get_conntrack is always called from user context, so GFP_KERNEL
    is enough.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7a4fe3664b3cfecd2a40a46f54c71333639e28b7
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:00:47 2005 -0800

    [NETFILTER] ctnetlink: kill unused includes
    
    Kill some useless headers included in ctnetlink. They aren't used in any
    way.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 119a31849442215fa66e4d18a33443a55c45e631
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:00:29 2005 -0800

    [NETFILTER] ctnetlink: add module alias to fix autoloading
    
    Add missing module alias. This is a must to load ctnetlink on demand. For
    example, the conntrack tool will fail if the module isn't loaded.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 02a78cdf425156b86abdb6883f837a70fb7106da
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 13:00:04 2005 -0800

    [NETFILTER] ctnetlink: add marking support from userspace
    
    This patch adds support for conntrack marking from user space.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 51df784ed739246a3774b300e5f536e17bec36ed
Author: Pablo Neira Ayuso <pablo@netfilter.org>
Date:   Wed Nov 9 12:59:41 2005 -0800

    [NETFILTER] ctnetlink: check if protoinfo is present
    
    This fixes an oops triggered from userspace. If we don't pass information
    about the private protocol info, the reference to attr will be NULL. This is
    likely to happen in update messages.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@netfilter.org>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a2506c04322ca266fe2f9bd7d02a67b1972da611
Author: Harald Welte <laforge@netfilter.org>
Date:   Wed Nov 9 12:59:13 2005 -0800

    [NETFILTER] nfnetlink: nfattr_parse() can never fail, make it void
    
    nfattr_parse (and thus nfattr_parse_nested) always returns success. So we
    can make them 'void' and remove all the checking at the caller side.
    
    Based on original patch by Pablo Neira Ayuso <pablo@netfilter.org>
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit eaae4fa45e0f4cd1da0f00ae93551edb1002b2b9
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Nov 9 12:58:46 2005 -0800

    [NETFILTER]: refcount leak of proto when ctnetlink dumping tuple
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 46998f59c03ecbd7c2250810f35af6fe24868845
Author: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
Date:   Wed Nov 9 12:58:05 2005 -0800

    [NETFILTER]: packet counter of conntrack is 32bits
    
    The packet counter variable of conntrack was changed to 32bits from 64bits.
    This follows that change.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f64a181d898e0518d5ae90c4870069510de977e1
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 18:32:08 2005 +0100

    [SCSI] remove Scsi_Device typedef
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0a04137e75204e370dbdf2376033853eea126de7
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 18:31:56 2005 +0100

    [SCSI] remove Scsi_Pointer typedef
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d0be4a7d29ad0bd3ce2209dd9e46d410b632db59
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 18:31:40 2005 +0100

    [SCSI] remove Scsi_Host_Template typedef
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8ca2bdc7a98b9584ac5f640761501405154171c7
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Nov 9 12:07:18 2005 -0800

    [SPARC] sbus rtc: implement ->compat_ioctl
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit feee207e44d3643d19e648af3c88946bd1c5106b
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Wed Nov 9 12:05:37 2005 -0800

    [SPARC]: Fix locking thinkos in display7seg and cpwatchdog drivers.
    
    Noticed by Eric Brower.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 84c1a13a30f21406f39e546684a78ebe9859e6d7
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Wed Nov 9 12:03:42 2005 -0800

    [SPARC64]: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]) and remove a
    duplicate of ARRAY_SIZE which is never used anyways.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 940fdc6e1223f1323b88b7f1e7ae09a93a76b74d
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Wed Nov 9 12:03:05 2005 -0800

    [SPARC]: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0]) and remove a
    duplicate of ARRAY_SIZE which is never used anyways.
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a5ee3634630c218e86afc5bae2acb55b9e47625d
Merge: 28d838c... 49ebd7c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 11:45:00 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/agpgart

commit 28d838cc4dfea980cb6eda0a7409cbf91889ca74
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 11:33:07 2005 -0800

    Fix ptrace self-attach rule
    
    Before we did CLONE_THREAD, the way to check whether we were attaching
    to ourselves was to just check "current == task", but with CLONE_THREAD
    we should check that the thread group ID matches instead.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 00d3dcdd96646be6059cc21f2efa94c4edc1eda5
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 17:23:39 2005 +0000

    [DRIVER MODEL] Add platform_driver
    
    Introduce struct platform_driver.  This allows the platform device
    driver methods to be passed a platform_device structure instead of
    instead of a plain device structure, and therefore requiring casting
    in every platform driver.
    
    We introduce this in such a way that any existing platform drivers
    registered directly via driver_register continue to work as before,
    thereby allowing a gradual conversion to the new platform_driver
    methods.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ac111bfaa6b0b3c0edc63c27bd9617d6b08851ff
Merge: 19da9b8... 861e37a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 08:55:53 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 19da9b8b6ef80e4b1f870c0d270df32571fdaad6
Merge: a7c243b... 7c39833...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 08:35:50 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit a7c243b544c0e9f6775c2607decaa59d54fb9e11
Merge: 7df446e... f406db8...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 08:34:36 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 7df446e7e043b2ba5fd5de42529f9d797e8b501a
Merge: 8d3d81c... 6fb93a9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 9 08:33:27 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 8d3d81cf023f34fa42955ce0a6e77e7c340a9d9d
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:48 2005 -0800

    [PATCH] fs/hugetlbfs/inode.c: make a function static
    
    This patch makes a needlessly global function static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: William Lee Irwin III <wli@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 252ac865535e1ea9cc2d28be83f477d8d8b961a2
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:48 2005 -0800

    [PATCH] drivers/message/fusion/mptbase.c: make code static
    
    This patch makes the following previously global and EXPORT_SYMBOL'ed
    code static:
    - struct mpt_proc_root_dir
    - int mpt_stm_index
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf62ddce2ee137ff92ad11ae762338b864f1dee5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:47 2005 -0800

    [PATCH] drivers/char/sysrq.c: make two functions static
    
    This patch makes two needlessly global functions static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ce6e62bd6591777bd92873e2db93fdbc5228122
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:46 2005 -0800

    [PATCH] fs/namei.c: make path_lookup_create() static
    
    This patch makes the needlessly global function path_lookup_create()
    static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Trond Myklebust <trond.myklebust@fys.uio.no>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb636547b02411ca5eef87b1d030ea3fc090a717
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:45 2005 -0800

    [PATCH] md: document sysfs usage of md, and make a couple of small refinements
    
    Document in Documentation/md.txt the files that now appear in sysfs, and make
    a couple of small refinements to exactly when 'level' and 'raid_disks' are
    empty, to make it match the documentation.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7eec314d7512d5281742263cff3853b43df431db
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:44 2005 -0800

    [PATCH] md: improve 'scan_mode' and rename it to 'sync_action'
    
    The current sync_action for an array can be one of
    
       idle  - nothing happening
       resync - reduncancy being recalcualted
       recover - missing device being recoverred to spare
       check   - user initiated check of redundancy
       repair  - like resync but user-initiated and ignores
                 bitmap optimisation.
    
    Each of these strings can also be written to the 'sync_action' file to cause
    that action to happen (if appropriate).
    
    While 'sync' is not technically correct, as a recovery is *not* a 'sync', I
    think it is the most servicable word here.  Also 'action' is a strong word
    than 'mode'.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 787453c2397edcc3261efebb661739acd8c38547
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:43 2005 -0800

    [PATCH] md: complete conversion of md to use kthreads
    
    There are a few loose ends following the conversion of md to use kthreads:
    
    - Some fields in mdk_thread_t that aren't needed (kthreads does it's own
      completion and manages it's own name).
    
    - thread->run is now never NULL, so no need to check
    
    - Some tests for signal_pending that aren't needed (As we don't use signals
      to stop threads any more)
    
    - Some flush_signals are not needed
    
    - Some waits are interruptible and don't need to be.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd9d49cac46f5758d513ccf831b599dd4412546f
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:42 2005 -0800

    [PATCH] md: ignore auto-readonly flag for arrays where it isn't meaningful
    
    The 'auto-readonly' flag (which suppresses resync and superblock updates until
    the first write) is not meaningful for personalities that don't support resync
    or superblock writes (raid0, linear, etc).
    
    So clear the setting early to avoid it confusing anything - e.g.  appearing in
    /proc/mdstat
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e1b39d623359e5ef7983a2bd0fb676be45cba31
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:41 2005 -0800

    [PATCH] md: only try to print recovery/resync status for personalities that support recovery
    
    The introduction of 'resync=PENDING' (for read-only devices) caused that
    message to appear for non-syncable arrays like raid0 and linear.  Simplest
    thing is to not try to print any resync info unless the personality clearly
    supports it.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 411036fa1924f5e5b0f7f9d04ae5d8cdc72fb839
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:40 2005 -0800

    [PATCH] md: split off some md attributes in sysfs to a separate group
    
    Some, but not all, md array support data redundancy and hence support checking
    and restoring that redundancy (resync, rebuild).
    
    Some attributes apply specifically to functions involving this redundancy, and
    so should only appear for md arrays for which they are meaningful.  i.e.  they
    should not appear for raid0, linear, multpath, faulty.
    
    This patch separates these into a distinct group and creates the group only if
    the personality supports sync_request.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96de1e663cda65ba9275afb1bc007f34e5068ba1
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:39 2005 -0800

    [PATCH] md: fix some locking and module refcounting issues with md's use of sysfs
    
    1/ I really should be using the __ATTR macros for defining attributes, so
       that the .owner field get set properly, otherwise modules can be removed
       while sysfs files are open.  This also involves some name changes of _show
       routines.
    
    2/ Always lock the mddev (against reconfiguration) for all sysfs attribute
       access.  This easily avoid certain races and is completely consistant with
       other interfaces (ioctl and /proc/mdstat both always lock against
       reconfiguration).
    
    3/ raid5 attributes must check that the 'conf' structure actually exists
       (the array could have been stopped while an attribute file was open).
    
    4/ A missing 'kfree' from when the raid5_conf_t was converted to have a
       kobject embedded, and then converted back again.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3855ad9f398de88a3290f7dd799633c4b73903ea
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:38 2005 -0800

    [PATCH] md: make sure a user-request sync of raid5 ignores intent bitmap
    
    A sync of raid5 usually ignore blocks which the bitmap says are in-sync.  But
    a user-request check or repair should not ignore these.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e5de485f00d6e6c15f487869faaf999c708f69b1
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:38 2005 -0800

    [PATCH] md: make manual repair work for raid1
    
    Raid1 currently optimises resync using the intent bitmap etc.  This
    optimisation is not wanted when we explicitly request a repair through sysfs,
    so add appropriate checks.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f637b9f9fc195e4f4635faf495fd8b462c21b411
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:37 2005 -0800

    [PATCH] md: make sure /block link in /sys/.../md/ goes to correct devices
    
    If a block_device is a partition, then it's kobject is
      bdev->bd_part->kobj
    otherwise (if it is a full device), the kobject is
      bdev->bd_disk->kobj
    
    As md wants back-links to the correct object (whether partition or not), we
    need to respect this difference...  (Thus current code shows a link to the
    whole device, whether we are using a partition or not, which is wrong).
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f91de92ed6bfb70a3ff607558c910c7bf34d45e9
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:36 2005 -0800

    [PATCH] md: allow md arrays to be started read-only (module parameter).
    
    When an md array is started, the superblock will be written, and resync may
    commense.  This is not good if you want to be completely read-only as, for
    example, when preparing to resume from a suspend-to-disk image.
    
    So introduce a module parameter "start_ro" which can be set
    to '1' at boot, at module load, or via
      /sys/module/md_mod/parameters/start_ro
    
    When this is set, new arrays get an 'auto-ro' mode, which disables all
    internal io (superblock updates, resync, recovery) and is automatically
    switched to 'rw' when the first write request arrives.
    
    The array can be set to true 'ro' mode using 'mdadm -r' before the first
    write request, or resync can be started without a write using 'mdadm -w'.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19133a4298223422742db7b5f940e8c54c6a1846
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:35 2005 -0800

    [PATCH] md: Remove attempt to use dynamic names in sysfs for component devices on an MD array.
    
    With version-0.90 superblock, component devices on an md device to not have
    any stable name related to the array -(version-1 assigns a fixed index when
    a device is added to an array, and this remains despit any hot-swap).
    
    The intial code for making these devices appear in sysfs used dynamic
    names, which would change whenever a hot-spare was swapped for a failed or
    missing device.  This turns out not to be practical in sysfs for a number
    of reasons.
    
    This patch changes then naming of component devices to be based on the
    result of 'bdevname'.  This is stable and should be unique.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9701a30470856408d08657eb1bd7ae29a146190
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:34 2005 -0800

    [PATCH] md: support BIO_RW_BARRIER for md/raid1
    
    We can only accept BARRIER requests if all slaves handle
    barriers, and that can, of course, change with time....
    
    So we keep track of whether the whole array seems safe for barriers,
    and also whether each individual rdev handles barriers.
    
    We initially assumes barriers are OK.
    
    When writing the superblock we try a barrier, and if that fails, we flag
    things for no-barriers.  This will usually clear the flags fairly quickly.
    
    If writing the superblock finds that BIO_RW_BARRIER is -ENOTSUPP, we need to
    resubmit, so introduce function "md_super_wait" which waits for requests to
    finish, and retries ENOTSUPP requests without the barrier flag.
    
    When writing the real raid1, write requests which were BIO_RW_BARRIER but
    which aresn't supported need to be retried.  So raid1d is enhanced to do this,
    and when any bio write completes (i.e.  no retry needed) we remove it from the
    r1bio, so that devices needing retry are easy to find.
    
    We should hardly ever get -ENOTSUPP errors when writing data to the raid.
    It should only happen if:
      1/ the device used to support BARRIER, but now doesn't.  Few devices
         change like this, though raid1 can!
    or
      2/ the array has no persistent superblock, so there was no opportunity to
         pre-test for barriers when writing the superblock.
    
    Signed-off-by: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd926c63b7a6843d3ce2728396c0891e54fce5c4
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:32 2005 -0800

    [PATCH] md: make md on-disk bitmaps not host-endian
    
    Current bitmaps use set_bit et.al and so are host-endian, which means
    not-portable.  Oops.
    
    Define a new version number (4) for which bitmaps are little-endian.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2d444d7ad975d555bb919601bcdc0e58975a40e
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:31 2005 -0800

    [PATCH] md: convert 'faulty' and 'in_sync' fields to bits in 'flags' field
    
    This has the advantage of removing the confusion caused by 'rdev_t' and
    'mddev_t' both having 'in_sync' fields.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba22dcbf106338a5c46d6979f9b19564faae3d49
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:31 2005 -0800

    [PATCH] md: improvements to raid5 handling of read errors
    
    Two refinements to the 'attempt-overwrite-on-read-error' mechanism.
    1/ If the array is read-only, don't attempt an over-write.
    2/ If there are more than max_nr_stripes read errors on a device with
       no success, fail the drive.  This will make sure a dead
       drive will be eventually kicked even when we aren't trying
       to rewrite (which would normally kick a dead drive more quickly.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 007583c9253fed363a0bd71b039e9b40a0f6855e
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:30 2005 -0800

    [PATCH] md: change raid5 sysfs attribute to not create a new directory
    
    There isn't really a need for raid5 attributes to be an a subdirectory,
    so this patch moves them from
      /sys/block/mdX/md/raid5/attribute
    to
      /sys/block/mdX/md/attribute
    
    This suggests that all md personalities should co-operate about
    namespace usage, but that shouldn't be a problem.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31399d9e56abeec4d819f07eefc97f30b5d5ed75
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:29 2005 -0800

    [PATCH] md: minor MD fixes
    
    1/ Use reduce stack usage, because 'gcc' apparently doesn't overlay
       different variables  that are in separate scopes...
    
    2/ Use test_bit instead of ( .. & 1<< ..) which in this case is buggy.
    
    Thanks to Andrew Morton
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c79197761b4c181a143dc6a6044f4e47d44bdcc
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:28 2005 -0800

    [PATCH] md: fix ref-counting problems with kobjects in md
    
    Thanks Greg.
    
    Cc:  Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6065f7bf8bec170c9c56524a250093ce73ca5d9
Author: Suzanne Wood <suzannew@cs.pdx.edu>
Date:   Tue Nov 8 21:39:27 2005 -0800

    [PATCH] md: provide proper rcu_dereference / rcu_assign_pointer annotations in md
    
    Acked-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Suzanne Wood <suzannew@cs.pdx.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d88883e68f404d5581bd391713ceef470ea53a9
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:26 2005 -0800

    [PATCH] md: teach raid5 the difference between 'check' and 'repair'.
    
    With this, raid5 can be asked to check parity without repairing it.  It also
    keeps a count of the number of incorrect parity blocks found (mismatches) and
    reports them through sysfs.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24dd469d728dae07f40c5d79ea6dedd38cdf1a30
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:26 2005 -0800

    [PATCH] md: allow a manual resync with md
    
    You can trigger a 'check' with
      echo check > /sys/block/mdX/md/scan_mode
    or a check-and-repair errors with
      echo repair > /sys/block/mdX/md/scan_mode
    
    and read the current state from the same file.
    
    Note: personalities need to know the different between 'check' and 'repair',
    but don't yet.  Until they do, 'check' will be the same as 'repair' and will
    just do a normal resync pass.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f294f4fb6f2ba887b717674da26c21f3d57f3fc
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:25 2005 -0800

    [PATCH] md: add kobject/sysfs support to raid5
    
    /sys/block/mdX/md/raid5/
    contains raid5-related attributes.
    Currently
      stripe_cache_size
    is number of entries in stripe cache, and is settable.
      stripe_cache_active
    is number of active entries, and in only readable.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86e6ffdd243a06663713e637ee683fb27dce8e0c
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:24 2005 -0800

    [PATCH] md: extend md sysfs support to component devices.
    
    Each device in an md array how has a corresponding
      /sys/block/mdX/md/devNN/
    directory which can contain attributes.  Currently there is only 'state' which
    summarises the state, nd 'super' which has a copy of the superblock, and
    'block' which is a symlink to the block device.
    
    Also, /sys/block/mdX/md/rdNN represents slot 'NN' in the array, and is a
    symlink to the relevant 'devNN'.  Obviously spare devices do not have a slot
    in the array, and so don't have such a symlink.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eae1701fbd264cfc7efbaf7cd4cd999760070e27
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:23 2005 -0800

    [PATCH] md: initial sysfs support for md
    
    Start using kobjects in mddevs, and provide a couple of simple attributes
    (level and disks).  Attributes live in
      /sys/block/mdX/md/attr-name
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e5314b56a7ea11c7a5f2b8418992b2f49648a25
Author: Neil Brown <neilb@suse.de>
Date:   Tue Nov 8 21:39:22 2005 -0800

    [PATCH] md: better handling of readerrors with raid5.
    
    This patch changes the behaviour of raid5 when it gets a read error.
    Instead of just failing the device, it tried to find out what should have
    been there, and writes it over the bad block.  For some media-errors, this
    has a reasonable chance of fixing the error.  If the write succeeds, and a
    subsequent read succeeds as well, raid5 decided the address is OK and
    conitnues.
    
    Instead of failing a drive on read-error, we attempt to re-write the block,
    and then re-read.  If that all works, we allow the device to remain in the
    array.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 703ebe86a999861e833be4015aaf552837e9613a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:21 2005 -0800

    [PATCH] drivers/video/vgastate.c: kill dead code
    
    This patch kills some dead code.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78ac151c83219bd3de591330c1efc4dc64dd9294
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:39:21 2005 -0800

    [PATCH] i386: EXPORT_SYMBOL(screen_info) even #ifndef CONFIG_VT
    
    The folllowing modules require screen_info but don't depend
    on CONFIG_VT:
    - vga16fb.ko
    - intelfb.ko
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: "Antonino Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c7f82d9c49e763f40f7ea7126a2c9f067bfde71f
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Tue Nov 8 21:39:19 2005 -0800

    [PATCH] fbdev: move ioctl32 code to fbmem.c
    
    The frame buffer layer already had some code dealing with compat ioctls, this
    patch moves over the remaining code from fs/compat_ioctl.c
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01a16fae8e0e99a5abdd1c6c9a2b67e7e6167c18
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 21:39:18 2005 -0800

    [PATCH] fbdev: Remove remains of epson1356fb
    
    Delete leftovers of the FB_E1356 and anything that did depend on it.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 81d3e147ec9ffc6ef04b5f05afa4bef22487b32b
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:17 2005 -0800

    [PATCH] fbdev: Possible endian fix in cfbimageblit
    
    Fix possible endian bug(?) when bit testing in slow_imageblit().  This
    function is rarely called (only if (width * bpp) % 32 != 0) thus the bug is
    not triggered.
    
    However, if the console is rotated at 90 or 270 degrees, the height becomes
    the width, and a variety of fonts have heights that will force a call to
    slow_imageblit().
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 120ddb41f18c2d41702af561f4acfbcbd8d6fb46
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:16 2005 -0800

    [PATCH] vga16fb: Convert vga16fb as a platform device
    
    - Convert vga16fb as a platform device
    
    - use framebuffer_alloc() to dynamically allocate resources, and
      framebuffer_release() to free
    
    - remove unneeded casts
    
    - trivial whitespace changes
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit efb985f6b265faed75426010e84a79de972c640a
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:15 2005 -0800

    [PATCH] fbcon: Console Rotation - Add framebuffer console documentation
    
    Add documentation as Documentation/fb/fbcon.txt describing the framebuffer
    console and its boot options.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a812c94b94e3db76d1af68208fb3edef69070401
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:15 2005 -0800

    [PATCH] fbcon: Console Rotation - Add ability to control rotation via sysfs
    
    Add ability to set rotation via sysfs.  The attributes are located in
    /sys/class/graphics/fb[n] and accepts 0 - unrotated; 1 - clockwise; 2 - upside
    down; 3 - counterclockwise.
    
    The attributes are:
    
    con_rotate (r/w) -   set rotation of the active console
    con_rotate_all (w) - set rotation of all consoles
    rotate (r/w) -       set rotation of the framebuffer, if supported.
    Currently, none of the drivers support this.
    
    This is probably temporary, since con_rotate and con_rotate_all are
    console-specific and has no business being under the fb device.  However,
    until the console layer acquires it's own sysfs class, these attributes will
    temporarily reside here.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed8c0e99f27451a9b980adf0de318d60e6de811f
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:14 2005 -0800

    [PATCH] fbcon: Console Rotation - Add support for 270-degree rotation
    
    Add support for 270-degree (counterclockwise) rotation of the console.  To
    activate, boot with:
    
    fbcon=rotate:3
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33ee82978c4ecf7cbd56064391c9385264185de2
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:13 2005 -0800

    [PATCH] fbcon: Console Rotation - Add support for 180-degree console rotation
    
    Add support for 180-degree (upside down) rotation of the console.  To
    activate, boot with:
    
    fbcon=rotate:2
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dbcbfe1ea41e404d960a06fa2faf7da568909f33
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:12 2005 -0800

    [PATCH] fbcon: Console Rotation - Add support for 90-degree console rotation
    
    Add support for 90-degree (clockwise) rotation of the console.  To activate,
    boot with:
    
    fbcon=rotate:1
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6cc50e1c5b57180fd37a31282000f43859b0fe73
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:11 2005 -0800

    [PATCH] fbcon: Console Rotation - Add support to rotate font bitmap
    
    Add support to rotate the font bitmap.  To save on processing time, the entire
    fontdata will be rotated on a console switch, then stored in a buffer private
    to fbcon.  To further save on processing, the fontdata will only be rotated if
    the font has changed or if the angle of rotation has changed.  Only a single
    copy of the rotated fontdata will be kept.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c44e5f6c211a9b7313ded897f3135ef7d9ad3e2
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:10 2005 -0800

    [PATCH] fbcon: Console Rotation - Add support to rotate the logo
    
    Add support for rotating and positioning of the logo.  Rotation and position
    depends on 'int rotate' parameter added to fb_prepare_logo() and
    fb_show_logo().
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4fc27618b75234b721c4a13d0e0d9d07e75e641
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:09 2005 -0800

    [PATCH] fbcon: Console Rotation - Prepare fbcon for console rotation
    
    This patch series implements generic code to rotate the console at 90, 180,
    and 270 degrees. The implementation is completely done in the framebuffer
    console level, thus no changes to the framebuffer layer or to the drivers
    are needed.
    
    Console rotation is required by some Sharp-based devices where the natural
    orientation of the display is not at 0 degrees. Also, users that have
    displays that can pivot will benefit by having a console in portrait mode
    if they so desire.
    
    The choice to implement the code in the console layer rather than in the
    framebuffer layer is due to the following reasons:
    
    - it's fast
    - it does not require driver changes
    - it can coexist with devices that can rotate the display at the hardware level
    - it complements graphics applications that can do display rotation
    
    The changes to core fbcon are minimal-- recognition of the console
    rotation angle so it can swap directions, origins and axes (xres vs yres,
    xpanstep vs ypanstep, xoffset vs yoffset, etc) and storage of the rotation
    angle per display. The bulk of the code that does the actual drawing to the
    screen are placed in separate files. Each angle of rotation has separate
    methods (bmove, clear, putcs, cursor, update_start which is derived from
    update_var, and clear_margins).  To mimimize processing time, the fontdata
    are pre-rotated at each console switch (only if the font or the angle has
    changed).
    
    The option can be compiled out (CONFIG_FRAMEBUFFER_CONSOLE_ROTATION = n) if
    rotation is not needed.
    
    Choosing the rotation angle can be done in several ways:
    
    1. boot option fbcon=rotate:n, where
         n = 0 - normal
         n = 1 - 90 degrees (clockwise)
         n = 2 - 180 degrees (upside down)
         n = 3 - 270 degrees (counterclockwise)
    
    2. echo n > /sys/class/graphics/fb[num]/con_rotate
    
         where n is the same as described above. It sets the angle of rotation
    of the current console
    
    3 echo n > /sys/class/graphics/fb[num]/con_rotate_all
    
         where n is the same as described above. Globally sets the angle of
    rotation.
    
    GOTCHAS:
    
    	The option, especially at angles of 90 and 270 degrees, will exercise
    the least used code of drivers.  Namely, at these angles, panning is done
    in the x-axis, so it can reveal bugs in the driver if xpanstep is set
    incorrectly. A workaround is to set xpanstep = 0.
    
    	Secondly, at these angles, the framebuffer memory access can be
    unaligned if (fontheight * bpp) % 32 ~= 0 which can reveal bugs in the drivers
    imageblit, fillrect and copyarea functions.  (I think cfbfillrect may have
    this buglet). A workaround is to use a standard 8x16 font.
    
    Speed:
    
    	The scrolling speed difference between 0 and 180 degrees is minimal,
    somewhere areound 1-2%.  At 90 or 270 degress, speed drops down to a vicinity
    of 30-40%. This is understandable because the blit direction is across the
    framebuffer "direction." Scrolling will be helped at these angles if xpanstep
    is not equal to zero, use of 8x16 fonts, and setting xres_virtual >= xres * 2.
    
    Note: The code is tested on little-endian only, so I don't know if it will
    work in big-endian. Please let me know, it will take only less than a minute
    of your time.
    
    This patch prepares fbcon for console rotation and contains the following
    changes:
    
    - add rotate field in struct fbcon_ops to keep fbcon's current rotation
      angle
    
    - add con_rotate field in struct display to store per-display rotation angle
    
    - create a private copy of the current var to fbcon.  This will prevent
      fbcon from directly manipulating info->var, especially the fields xoffset,
      yoffset and vmode.
    
    - add ability to swap pertinent axes (xres, yres; xpanstep, ypanstep; etc)
      depending on the rotation angle
    
    - change global update_var() (function that sets the screen start address)
      as an fbcon method update_start.  This is required because the axes, start
      offset, and/or direction can be reversed depending on the rotation angle.
    
    - add fbcon method rotate_font() which will rotate each character bitmap to
      the correct angle of rotation.
    
    - add fbcon boot option 'rotate' to select the angle of rotation at bootime.
       Currently does nothing until all patches are applied.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1dfcdfae5783fc10d7f8fcc336de838a44e7636c
Author: Michael Hanselmann <linux-kernel@hansmi.ch>
Date:   Tue Nov 8 21:39:06 2005 -0800

    [PATCH] fbdev: Framebuffer mode required for PowerBook Titanium
    
    This patch adds the framebuffer mode required for an Apple PowerBook G4
    Titanium.
    
    Signed-off-by: Michael Hanselmann <linux-kernel@hansmi.ch>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d83b0bb8e5efda28ce4a1abc78277f1d03e50e5
Author: Antonino Daplas <adaplas@gmail.com>
Date:   Tue Nov 8 21:39:05 2005 -0800

    [PATCH] savagefb: X-panning fixes
    
    The driver unconditionally sets xpanstep to 2.  However, a value of 4
    empirically works better at bpp = 8, and 2 for 16 and 32.  This buglet was
    exposed by the rotation code.
    
    Second fix is the unconditional call to update_start() without verifying if
    the offsets are correct.  Remove this call, it's not necessary and secondly,
    it causes a crash with invalid values.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64c7c8f88559624abdbe12b5da6502e8879f8d28
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Tue Nov 8 21:39:04 2005 -0800

    [PATCH] sched: resched and cpu_idle rework
    
    Make some changes to the NEED_RESCHED and POLLING_NRFLAG to reduce
    confusion, and make their semantics rigid.  Improves efficiency of
    resched_task and some cpu_idle routines.
    
    * In resched_task:
    - TIF_NEED_RESCHED is only cleared with the task's runqueue lock held,
      and as we hold it during resched_task, then there is no need for an
      atomic test and set there. The only other time this should be set is
      when the task's quantum expires, in the timer interrupt - this is
      protected against because the rq lock is irq-safe.
    
    - If TIF_NEED_RESCHED is set, then we don't need to do anything. It
      won't get unset until the task get's schedule()d off.
    
    - If we are running on the same CPU as the task we resched, then set
      TIF_NEED_RESCHED and no further action is required.
    
    - If we are running on another CPU, and TIF_POLLING_NRFLAG is *not* set
      after TIF_NEED_RESCHED has been set, then we need to send an IPI.
    
    Using these rules, we are able to remove the test and set operation in
    resched_task, and make clear the previously vague semantics of
    POLLING_NRFLAG.
    
    * In idle routines:
    - Enter cpu_idle with preempt disabled. When the need_resched() condition
      becomes true, explicitly call schedule(). This makes things a bit clearer
      (IMO), but haven't updated all architectures yet.
    
    - Many do a test and clear of TIF_NEED_RESCHED for some reason. According
      to the resched_task rules, this isn't needed (and actually breaks the
      assumption that TIF_NEED_RESCHED is only cleared with the runqueue lock
      held). So remove that. Generally one less locked memory op when switching
      to the idle thread.
    
    - Many idle routines clear TIF_POLLING_NRFLAG, and only set it in the inner
      most polling idle loops. The above resched_task semantics allow it to be
      set until before the last time need_resched() is checked before going into
      a halt requiring interrupt wakeup.
    
      Many idle routines simply never enter such a halt, and so POLLING_NRFLAG
      can be always left set, completely eliminating resched IPIs when rescheduling
      the idle task.
    
      POLLING_NRFLAG width can be increased, to reduce the chance of resched IPIs.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Con Kolivas <kernel@kolivas.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5bfb5d690f36d316a5f3b4f7775fda996faa6b12
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Tue Nov 8 21:39:01 2005 -0800

    [PATCH] sched: disable preempt in idle tasks
    
    Run idle threads with preempt disabled.
    
    Also corrected a bugs in arm26's cpu_idle (make it actually call schedule()).
    How did it ever work before?
    
    Might fix the CPU hotplugging hang which Nigel Cunningham noted.
    
    We think the bug hits if the idle thread is preempted after checking
    need_resched() and before going to sleep, then the CPU offlined.
    
    After calling stop_machine_run, the CPU eventually returns from preemption and
    into the idle thread and goes to sleep.  The CPU will continue executing
    previous idle and have no chance to call play_dead.
    
    By disabling preemption until we are ready to explicitly schedule, this bug is
    fixed and the idle threads generally become more robust.
    
    From: alexs <ashepard@u.washington.edu>
    
      PPC build fix
    
    From: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
    
      MIPS build fix
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Yoichi Yuasa <yuasa@hh.iij4u.or.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ede3d0fba99520f268067917b50858d788bc41da
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:39:00 2005 -0800

    [PATCH] sched: consider migration thread with smp nice
    
    The intermittent scheduling of the migration thread at ultra high priority
    makes the smp nice handling see that runqueue as being heavily loaded.  The
    migration thread itself actually handles the balancing so its influence on
    priority balancing should be ignored.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6dd4a85bb3ee0715415892c8b0f2a9bd08d31ca4
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:38:59 2005 -0800

    [PATCH] sched: correct smp_nice_bias
    
    The priority biasing was off by mutliplying the total load by the total
    priority bias and this ruins the ratio of loads between runqueues. This
    patch should correct the ratios of loads between runqueues to be proportional
    to overall load. -2nd attempt.
    
    From: Dave Kleikamp <shaggy@austin.ibm.com>
    
      This patch fixes a divide-by-zero error that I hit on a two-way i386
      machine.  rq->nr_running is tested to be non-zero, but may change by the
      time it is used in the division.  Saving the value to a local variable
      ensures that the same value that is checked is used in the division.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b0bd9bc6f3b8a47853d1b1de4520de3878e8941
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:38:58 2005 -0800

    [PATCH] sched: smp nice bias busy queues on idle rebalance
    
    To intensify the 'nice' support across physical cpus on SMP we can bias the
    loads on idle rebalancing. To prevent idle rebalance from trying to pull tasks
    from queues that appear heavily loaded we only bias the load if there is more
    than one task running.
    
    Add some minor micro-optimisations and have only one return from __source_load
    and __target_load functions.
    
    Fix the fact that target_load was not biased by priority when type == 0.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dad1c65c8000f4485d8602e1875ded77e0d72133
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:38:57 2005 -0800

    [PATCH] sched: account rt tasks in prio_bias()
    
    Real time tasks' effect on prio_bias should be based on their real time
    priority level instead of their static_prio which is based on nice.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 738a2ccbcf8c2c1b039f1e76662dce60b22b694b
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:38:56 2005 -0800

    [PATCH] sched: change prio bias only if queued
    
    prio_bias should only be adjusted in set_user_nice if p is actually currently
    queued.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b910472dd3b7c1d51af9a594a759f642520c33e1
Author: Con Kolivas <kernel@kolivas.org>
Date:   Tue Nov 8 21:38:55 2005 -0800

    [PATCH] sched: implement nice support across physical cpus on SMP
    
    This patch implements 'nice' support across physical cpus on SMP.
    
    It introduces an extra runqueue variable prio_bias which is the sum of the
    (inverted) static priorities of all the tasks on the runqueue.
    
    This is then used to bias busy rebalancing between runqueues to obtain good
    distribution of tasks of different nice values.  By biasing the balancing only
    during busy rebalancing we can avoid having any significant loss of throughput
    by not affecting the carefully tuned idle balancing already in place.  If all
    tasks are running at the same nice level this code should also have minimal
    effect.  The code is optimised out in the !CONFIG_SMP case.
    
    Signed-off-by: Con Kolivas <kernel@kolivas.org>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Nick Piggin <nickpiggin@yahoo.com.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b54134be53be720da423692665ec215eb14a678b
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:54 2005 -0800

    [PATCH] V4L: 926: Saa7134 alsa can only be autoloaded after saa7134 is active
    
    - Saa7134-alsa can only be autoloaded after saa7134 is active
    - Applied pertinent changes proposed by the ALSA team
    - dsp_nr replaced by ALSA's index[]
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79dd0c69f05fccb0396bdcd861ad4686ce888cda
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:53 2005 -0800

    [PATCH] V4L: 925: saa7134 alsa is now a standalone module
    
    Saa7134-alsa is now a standalone module
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 875c296b8ef42a796dc8db57a40b5e2228240c33
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:53 2005 -0800

    [PATCH] V4L: removal schedule for V4L1 API
    
    States a date for removing V4L1 API
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d4d9c05c807ab8a49ac0024987b223bb32c022d
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:52 2005 -0800

    [PATCH] V4L: 920: fixed autodetection of max size by if alternate setting
    
    - Fixed autodetection of max size by if alternate setting
    - Fixed some debug messages
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f7e846ca552c4cf2e04b4666cea18dc26b36b59
Author: Torsten Seeboth <Torsten.Seeboth@t-online.de>
Date:   Tue Nov 8 21:38:51 2005 -0800

    [PATCH] V4L: 919: improves the audio handling for nicam on cx88-audio
    
    Improves the audio handling for NICAM on cx88 audio.
    
    Signed-off-by: Torsten Seeboth <Torsten.Seeboth@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7bde80769ddf76a2c2e3672f2a932cfc029a1d35
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:38:50 2005 -0800

    [PATCH] V4L: 917: fixes some bugs in msp3400
    
    - Adds missing msp34xxg_reset to VIDIOC_S_STD (just like VIDIOCSCHAN).
    - Improves msp3400 debug messages.
      Now, all kernel message in msp3400.c use the same prefix
      and include the I2C bus to differentiate between multiple
      msp3400 I2C chips.
    - Correctly prints the chip identifier for the msp44xx chips.
    - msp34xxg cleanups.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5d4a70ff82aab638b871debc9c8b27216cf1ecd
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:50 2005 -0800

    [PATCH] V4L: 916: fixes set scart parameter definitions and audout ioctl
    
    Fixes set_scart parameter definitions and AUDOUT ioctl
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2998e10a9ed47cb70a5be6207aa34b2f2f22c17
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:38:49 2005 -0800

    [PATCH] V4L: 915: fixes compilation problems due removal of media/id.h and i2c-algo-bit
    
    Fixes compilation problems due removal of media/id.h and I2C_ALGO_BIT
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d6242f209984795644fb08b5410f405406c7104a
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:48 2005 -0800

    [PATCH] V4L: SAA7134 alsa build fix
    
    Fixes saa7134-alsa build inside saa7134 driver.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17ce1ff9cfd90ab3ecffaa5ebfb4abbf8216f2cc
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:47 2005 -0800

    [PATCH] V4L: 914: use less generic name for saa7134 card 79
    
    Use less-generic name for saa7134 card #79
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cb2444dfa203b5b5c76d63c0ce8593e4e0385719
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:47 2005 -0800

    [PATCH] V4L: 913: saa713x cards with i2c remotes now autoload ir-kbd-i2c
    
    SAA713x cards with i2c remotes now autoload ir-kbd-i2c (disable_ir works, as
    it does for GPIO remotes)
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f1bcef8874ab33b1e517b79a9b9df7309a996877
Author: Tyler Trafford <tatrafford@comcast.net>
Date:   Tue Nov 8 21:38:46 2005 -0800

    [PATCH] V4L: 911: added support for ntsc 4.43 video standard
    
    Added support for NTSC 4.43 video standard.
    
    Signed-off-by: Tyler Trafford <tatrafford@comcast.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 247b661f83ad9be317da2e3b0c254ba283f874ef
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:45 2005 -0800

    [PATCH] V4L: 909: updated cardlist and strip trailing whitespace
    
    Updated CARDLIST and strip trailing whitespace.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4b0aba47d48a339572744cb23ba925f04e3cda9
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:38:44 2005 -0800

    [PATCH] V4L: 908: added dvb-t support for asus p7134 dual
    
    - Added dvb-t support for Asus P7134 Dual
    - added pci id for ADS Tech Instant TV cardbus variant
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eac94356c8f9f7d3854ed0290a406b13bfe8df4c
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:43 2005 -0800

    [PATCH] V4L: 907: em28xx cleanups and fixes
    
    - Em28xx cleanups and fixes.
    - Some cleanups and audio amux adjust.
    - em28xx will allways try, by default, the biggest size alt.
    - Fixes audio mux code.
    - Fixes some logs.
    - Adds support for digital output for WinTV USB2 board.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3d931929f1d11f9d198567850247ae1754dfc06
Author: Pavel Mihaylov <bin@bash.info>
Date:   Tue Nov 8 21:38:43 2005 -0800

    [PATCH] V4L: 906: remote and more info for pctv cardbus whitespace cleanup
    
    Remote and more info for PCTV Cardbus. Whitespace cleanup.
    
    Signed-off-by: Pavel Mihaylov <bin@bash.info>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90e9df7f186876584b938e01fcf7f40a50c950b9
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:38:42 2005 -0800

    [PATCH] V4L: 904: added dvb support for tda8275a philips tiger reference design
    
    Added dvb support for tda8275a (Philips Tiger reference design)
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12b0e1df5c10a094a4475439a484307478c4c607
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:41 2005 -0800

    [PATCH] V4L: 902: saa6588.c should build saa6588.ko rather than rds.ko
    
    Saa6588.c should build saa6588.ko, rather than rds.ko
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4c34aa024aef2be3f3deca751c335f72c3e32b6
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:38:40 2005 -0800

    [PATCH] V4L: 901: added function for nxt200x to change pll input
    
    Added function for nxt200x to change pll input
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c3d67abdb79ff3e22cd19476c05294274434143
Author: Hans J. Koch <koch@hjk-az.de>
Date:   Tue Nov 8 21:38:39 2005 -0800

    [PATCH] V4L: 899: fix rds raw data buffer handling bug which caused
    
    Fix RDS raw data buffer handling bug, which caused decoding delays and
    sometimes wrong data.
    
    Signed-off-by: Hans J. Koch <koch@hjk-az.de>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ac95af9a0bdc33f18e6a7532ac5319b2d4ab8c2
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:38:38 2005 -0800

    [PATCH] V4L: 896: fixed tda8290 secam l
    
    Fixed tda8290 SECAM-L
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 22ae2550f65bc322e6bdeff9d3948bbb5e0a9b67
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:38 2005 -0800

    [PATCH] v4l: 899: remove media id.h
    
    - Removed media id.h file
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b296fc6017e0ec6bc6cd0f40275f268035eb6b8b
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:37 2005 -0800

    [PATCH] v4l: 898: em2820 i2c fix
    
    - Miscelaneous fixes for em28xx
    	- I2C hardware named changed to wright value.
    	- utsname included to em28xx-video.c
    	- Makefile fixes.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad07d93ae7884a72a293eb4efb61a872f109ebd5
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:36 2005 -0800

    [PATCH] v4l: 897: saa7146 fix
    
    - Fixing headers to compile cleanly.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6cffcc23d2837295604033d884d1ad259d0aed57
Author: Michael Krufky <mkrufky@linuxtv.org>
Date:   Tue Nov 8 21:38:36 2005 -0800

    [PATCH] v4l: 896: rename BTTV_FOO --> BTTV_BOARD_FOO
    
    Adapt to changes in v4l tree: rename BTTV_FOO --> BTTV_BOARD_FOO
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7418f3462aedf6fb962a44c8fa7259dd94530ff5
Author: Lubomir Bulej <bulej@nenya.ms.mff.cuni.cz>
Date:   Tue Nov 8 21:38:34 2005 -0800

    [PATCH] v4l: 895: new avermedia 303 card without radio
    
    - New Avermedia 303 card (without radio).
    
    Signed-off-by: Lubomir Bulej <bulej@nenya.ms.mff.cuni.cz>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6e45f5d8d27cb619cf7e94c78a67fb61a4f3dd5e
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:34 2005 -0800

    [PATCH] v4l: 894: work around to allow hybrid dvb card to autoload the tda9887
    
    - Work-around to allow hybrid DVB card to autoload the tda9887
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 291d1d7356a2cf1da4934a06c4a4e3bca440fbc6
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:33 2005 -0800

    [PATCH] v4l: 893: rollback recent i2c change to solve tuner detection breakage
    
    - Rollback recent i2c change to solve tuner detection breakage
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d0fcdd7815e26f2e4a4ad239e2b464402a185f66
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:32 2005 -0800

    [PATCH] v4l: 892: correct nicam audio settings to match dscaler
    
    - Correct nicam audio settings to match dscaler
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ea55ad3897d8abac07435190c851f804433801f
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:31 2005 -0800

    [PATCH] v4l: 891: change config em28xx to config video em28xx
    
    - Change CONFIG_EM28XX to CONFIG_VIDEO_EM28XX
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2e0b62e050374ddbf3221e7b78e1d0f26e148cb
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:31 2005 -0800

    [PATCH] v4l: 890: fixed typo
    
    - Fixed typo.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15871a2905b84d6dba9013dbcbd9c79ace694ffb
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:30 2005 -0800

    [PATCH] v4l: 889: add em28xx to kernel build
    
    - Add em28xx to kernel build.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 404b32fb3d93c17f994ad4b1d852ce4ca682ff8b
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:29 2005 -0800

    [PATCH] v4l: 888: saa7113 renamed to saa711x
    
    - Saa7113 renamed to saa711x
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3b3924ea0843d6956e5f87c3a4be09f460fe923
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:29 2005 -0800

    [PATCH] v4l: 887: i2c id h updated to reflect the newer drivers
    
    - I2c-id.h Updated to reflect the newer drivers.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3acf28095009509c9ca1e283de821b5be9ddede6
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:27 2005 -0800

    [PATCH] v4l: 886: renamed common structures to em28xx
    
    - Renamed common structures to em28xx
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e0ec29b7e5aa1f4f1ff73ebd3003336dbe83e174
Author: Jean Delvare <khali@linux-fr.org>
Date:   Tue Nov 8 21:38:26 2005 -0800

    [PATCH] v4l: 885: second round of i2c ids redefinition cleanup
    
    - Second round of i2c IDs redefinition cleanup.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 710a72589a6727973405fd3580d7c724ba709296
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:25 2005 -0800

    [PATCH] v4l: 881: video cx88 need not depend on experimental
    
    - VIDEO_CX88 need not depend on EXPERIMENTAL
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7abcd385cc8a5a2f75b07c8325067ea2785ba1e
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:25 2005 -0800

    [PATCH] v4l: 877: module em2820 renamed to em28xx and moved to v4l dir
    
    - Module em2820 renamed to em28xx and moved to V4L dir.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c12097fd9adb07810fb28f70df5462c0603463cc
Author: Michael Schimek <mschimek@gmx.at>
Date:   Tue Nov 8 21:38:24 2005 -0800

    [PATCH] v4l: 876: moved some user defines to be out of kernel define
    
    - Moved some user defines to be out of __KERNEL__ define.
    
    Signed-off-by: Michael Schimek <mschimek@gmx.at>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3b512fd42b4ed6ff47a8afb4f42ac3cc325ddad
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:23 2005 -0800

    [PATCH] v4l: 875: some cleanups at i2c stuff and fixing when tuner addr is set
    
    - Some cleanups at I2C stuff and fixing when tuner addr is set.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 50c8640725453f2487da9267844a962108c8418e
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:38:22 2005 -0800

    [PATCH] v4l: 874: quick and dirty fix for audc config pinnacle
    
    - Quick and dirty fix for AUDC_CONFIG_PINNACLE.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac113d15a9d1a85f57969244301850379b5f17dd
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:21 2005 -0800

    [PATCH] v4l: 873: updated comments for avertvhd a180
    
    - Updated comments for AVerTVHD A180
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24d412289d5508f033d11154f981b478f8831c0d
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:38:21 2005 -0800

    [PATCH] v4l: 871: fixed bttv to accept radio devices like tea5767
    
    - Fixed bttv to accept radio devices like tea5767
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3b64e8e238217ebd3d847ca19ead631124a2ed14
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:20 2005 -0800

    [PATCH] v4l: 870: added dvb support for avermedia avertvhd mce a180
    
    - Added DVB support for AVerMedia AVerTVHD MCE A180
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4372beb84874ab33f2b06bd6a66ff6d07427081
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:19 2005 -0800

    [PATCH] v4l: 869: iso c90 forbids mixed declarations and code
    
    - ISO C90 forbids mixed declarations and code
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fde6d31e19addca8be17dee7f47ad0a7fcaa79ca
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:38:18 2005 -0800

    [PATCH] v4l: 868: added support for nxt200x based cards ati hdtv wonder
    
    - Added support for NXT200X based cards (ATI HDTV Wonder)
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85a2eb07e1a83a9569cdaddcef2db8d70e4fbea9
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:18 2005 -0800

    [PATCH] v4l: 867: correcting fixes to accept radio devices like tea5767
    
    - Correcting fixes to accept radio devices like tea5767.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e9d096dc52493228ce1ae0fbed1d2fe0271fbe16
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:38:17 2005 -0800

    [PATCH] v4l: 866: fix bug with setting mt2050 radio frequency
    
    - Fix bug with setting mt2050 radio frequency
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa8d5e72c3b2dbd18e494564345e84a0b890dd7b
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:16 2005 -0800

    [PATCH] v4l: 865: fixed bttv to accept radio devices like tea5767
    
    - Fixed bttv to accept radio devices like tea5767.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit feff0485ebcf05b5af8a3c82aa5c361d9f8b6e75
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:16 2005 -0800

    [PATCH] v4l: 864: improved isoc error detection
    
    - Improved isoc error detection.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 45632c4f835e74f937d8632f7ba2dd49aa39c476
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:15 2005 -0800

    [PATCH] v4l: 863: added pinnacle dazzle dvc 90
    
    - Added Pinnacle Dazzle DVC 90
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07eef6ce1558b21ebed9c95ad9c2b4879decf2a8
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:38:14 2005 -0800

    [PATCH] v4l: 859: fix compilation with 2.6.8
    
    - Fix compilation with 2.6.8.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 91cad0f2bda7cd254efcbbff0e53f86941ca7764
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:13 2005 -0800

    [PATCH] v4l: 856: some module rename and small fixes
    
    - Some module rename and small fixes
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 141a877949ffc22f33dc467dc256259c547ad52e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:13 2005 -0800

    [PATCH] v4l: 855: improve kconfig user friendliness for hybrid dvb v4l boards
    
    - Improve Kconfig user-friendliness for hybrid dvb/v4l boards.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5f69daf91edda79e97fbb702e6a15cdf3e496a1
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:12 2005 -0800

    [PATCH] v4l: 854: move cx88 and saa7134 configuration
    
    - Move cx88 and saa7134 configuration out of
      drivers/media/video/Kconfig and instead, use
      new Kconfig files in each respective directory.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b228ede44c1cded7f3dadbb8bfaeaec97f7885e8
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:38:11 2005 -0800

    [PATCH] v4l: 851: fixed broken api link and indentation
    
    - Fixed broken API link and indentation.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 52c02fcd00cf6fb6f5b2c8beae3b283c63cf1210
Author: Sascha Sommer <saschasommer@freenet.de>
Date:   Tue Nov 8 21:38:10 2005 -0800

    [PATCH] v4l: 850: update em2800 scaler code and comments based on info from empiatech
    
    - Update em2800 scaler code and comments based on info from empiatech
    
    Signed-off-by: Sascha Sommer <saschasommer@freenet.de>
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07345f5d6a92bc1184ca8b05069ec1cd3514fe11
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:38:09 2005 -0800

    [PATCH] v4l: 848: fixed tda8290 autodetection
    
    - Fixed tda8290 autodetection
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d5c9904e56ae39ff71b86dc5046e24601bff00f
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:08 2005 -0800

    [PATCH] v4l: 847: fix bug 5484 asus digimatrix card doesnt work with pal tuner
    
    - Fix bug 5484: ASUS digimatrix card doesnt work with PAL tuner
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 791b403f5f8b2bb9ecaefc6dacfd4b96cb282274
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:38:08 2005 -0800

    [PATCH] v4l: 843: added saa7114 support on i2c address 0x42
    
    - Added saa7114 support on i2c address 0x42
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6d6e6dbdfcfc9d56550744068c2a9918798b773
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:38:07 2005 -0800

    [PATCH] v4l: 842: create kconfig files for cx88 and saa7134 directories
    
    - Create Kconfig files for cx88 and saa7134 directories.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a38a7d4ff8539817691a335149cac903be4250f8
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:38:06 2005 -0800

    [PATCH] v4l: 841: added saa7114 initcode for msi vox usb 2.0
    
    - Added saa7114 initcode for MSI Vox USB 2.0
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30556b23f31973ca311341277c4e4b128c0528bb
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:38:05 2005 -0800

    [PATCH] v4l: 840: fixed settings for msi vox usb 2.0 saa7114 is missing atm
    
    - Fixed settings for MSI Vox USB 2.0 (saa7114 is missing atm)
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08eca13dc407c389f04ce295144bb3fcd996a10d
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:38:05 2005 -0800

    [PATCH] v4l: 838: modified settings for msi vox usb 2.0
    
    - Modified settings for MSI VOX USB 2.0
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fe2e36c8cdc81bea8edf7d0408a1f49da01e16ee
Author: Paul T Zalac <pzalac@gmail.com>
Date:   Tue Nov 8 21:38:04 2005 -0800

    [PATCH] v4l: 834: add card pctv cardbus tv radio ito25 rev 2b
    
    - Add card: PCTV Cardbus TV/Radio (ITO25 Rev:2B)
    
    Signed-off-by: Paul T Zalac <pzalac@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28f0224170c4d8115383f56985575a42ed8b4dc1
Author: Hermann Pitton <hermann.pitton@onlinehome.de>
Date:   Tue Nov 8 21:38:03 2005 -0800

    [PATCH] v4l: 833: analog support for asus p7131 dual tda8275a
    
    - Analog support for Asus P7131 Dual - TDA8275A
    
    Signed-off-by: Hermann Pitton <hermann.pitton@onlinehome.de>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67678360c8b8b15b05d730eb8f1b02411891417f
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:02 2005 -0800

    [PATCH] v4l: 830: rearranged print order to present a correct answer
    
    - Rearranged print order to present a correct answer.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f958b68d40b870f5a0d1582f094bc93a53af7cd7
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:38:01 2005 -0800

    [PATCH] v4l: 829: fixed user mode compiling
    
    - Fixed user mode compiling.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01cb9633e1b294c604c2dfa01dcac95daf775213
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:38:00 2005 -0800

    [PATCH] v4l: 826: unify whitespaces
    
    - Unify whitespaces.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95736034df751631657140aebe677e67d7522867
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:38:00 2005 -0800

    [PATCH] v4l: 823: corrected probing code for tda8290
    
    - Corrected probing code for tda8290
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48c425965ecbd3472133adb857c2fe0608c053a0
Author: Elad Lahav <elad_lahav@users.sourceforge.net>
Date:   Tue Nov 8 21:37:59 2005 -0800

    [PATCH] v4l: 821: set tuner type in vidioc_g_tuner
    
    - Set tuner type in VIDIOC_G_TUNER.
    
    Signed-off-by: Elad Lahav <elad_lahav@users.sourceforge.net>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f59ab27b7a6fd760268f695078c739f3036b4edf
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:58 2005 -0800

    [PATCH] v4l: 820: fixed log for tveeprom on em28xx cards
    
    - Fixed log for tveeprom on em28xx cards.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 13dd38d0814f36fce3a7ec9cb29a5ce6b0fc2522
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:57 2005 -0800

    [PATCH] v4l: 819: added autodetection code to tda8290 to avoid conflicts
    
    - Added autodetection code to tda8290, to avoid conflicts with tda9887.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e8b23c0238887e1987d82ec0014a7a1fe010e724
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:56 2005 -0800

    [PATCH] v4l: 818: cleanup some unnecessary alsa memory (de/)allocations
    
    - Cleanup some unnecessary ALSA memory (de/)allocations
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ac9cd97640a8bcad75dc7305761365c3e339bbc5
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:56 2005 -0800

    [PATCH] v4l: 817: saa713x keymaps and key builders were moved from ir kbd i2c c
    
    - SAA713x keymaps and key builders were moved from ir-kbd-i2c.c
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4067fd46aa330d6df0a79b9dd0eb9555809c440
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:55 2005 -0800

    [PATCH] v4l: 816: added driver for cirrus logic low voltage stereo a-d converter
    
    - Added driver for Cirrus Logic Low Voltage Stereo A/D Converter.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a9ca74d22065355d61bb6395590378040e7366d
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:54 2005 -0800

    [PATCH] v4l: 815: commented obsoleted stuff at videodev headers
    
    - Commented obsoleted stuff at videodev headers.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86bb4a215d152111f20daeb2a530f064afee8542
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:53 2005 -0800

    [PATCH] v4l: 814: cleanup dev assignment
    
    - Cleanup dev assignment
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c75541fc97252e605b7bc8f9b09f816483e22fb
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:52 2005 -0800

    [PATCH] v4l: 813: replaced obsolete video get drvdata and video set drvdata
    
    - Replaced obsolete video_get_drvdata and video_set_drvdata
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2f6f9d866d3ea25eebe32c6c51e47e5141669cf
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:51 2005 -0800

    [PATCH] v4l: 812: supports the pinnacle pctv 110i board video inputs and remote
    
    - Supports the Pinnacle PCTV 110i board, video inputs, and remote.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a741ec9b87ac13f13a1dfcb05979d7c785d0755
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:50 2005 -0800

    [PATCH] v4l: 811: strip trailing whitespaces
    
    - Strip trailing whitespaces.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf7e26ee5fce3eb1074ba3e1c8f265cb37c8451c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:50 2005 -0800

    [PATCH] v4l: 810: vidioc log status is added to videodev2.h
    
    - VIDIOC_LOG_STATUS is added to videodev2.h this can be enabled
              again in wm8775.c. Also use the v4l2 VIDIOC_S_FREQUENCY instead of
              VIDIOCSFREQ.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 79436633dbced18aa348f8669ef507109f851303
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:49 2005 -0800

    [PATCH] v4l: 809: some changes to allow compiling cx88 and saa7134
    
    - Some changes to allow compiling cx88 and saa7134 without V4L1 support.
    - This patch will help obsoleting V4L1 API.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de48eebce8b63dbae7272ee80f4fe0eaddb61278
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:37:48 2005 -0800

    [PATCH] v4l: 806: add support for tda8275a
    
    - Add support for tda8275a
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c0772a9e1fdd5972751993c58d0ac2a427ceb24
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:47 2005 -0800

    [PATCH] v4l: 803: after msp34xxg reset msp wake thread should be called
    
    - After msp34xxg_reset, msp_wake_thread should be called to
    	wake again.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 02f7427333c5784a937314a305132ed31cc6b9d1
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:46 2005 -0800

    [PATCH] v4l: 802: replaced kmalloc kfree with usb buffer alloc usb buffer free to get
    
    - Replaced kmalloc/kfree with usb_buffer_alloc/usb_buffer_free to get
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f2421ca3383ed35bc634aa29416a3229dc603fa4
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:45 2005 -0800

    [PATCH] v4l: 801: whitespaces cleanups
    
    - Whitespaces Cleanups.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ac97914c6c35f6bf132071c718e034d0846b9f5
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:43 2005 -0800

    [PATCH] v4l: 800: whitespace cleanups
    
    - Whitespace Cleanups.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8900fc242406f25f315190a6d650f1d54617c2f
Author: Ray Cole <ray_cole@earthlink.net>
Date:   Tue Nov 8 21:37:43 2005 -0800

    [PATCH] v4l: 799: don t request gpint on avermedia tv capture 98
    
    - Don't request GPINT on Avermedia TV Capture 98.
    
    Signed-off-by: Ray Cole <ray_cole@earthlink.net>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 299392bf2040fc53ebfc94363ac0abdd0f0bf619
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:42 2005 -0800

    [PATCH] v4l: 798: this patch adds the vidioc log status to videodev2 h and adds
    
    - This patch adds the VIDIOC_LOG_STATUS to videodev2.h and adds
              LOG_STATUS support to tda9887.c and bttv-driver.c.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c58c21c7a2ef7d1eb45231d5c1bb24d88a9666b8
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:41 2005 -0800

    [PATCH] v4l: 797: more intellect on clearing in bits on irq lock
    
    - More intellect on clearing in bits on irq lock.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf1c5d1d58793bb9320467226ffc850c75c20902
Author: Pieter Palmers <pieterp@joow.be>
Date:   Tue Nov 8 21:37:40 2005 -0800

    [PATCH] v4l: 796: add sknet monster tv mobile card
    
    - Add SKNet Monster TV Mobile card.
    
    Signed-off-by: Pieter Palmers <pieterp@joow.be>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3ae1adc6ed93d55a27523f395284940fbe056401
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:39 2005 -0800

    [PATCH] v4l: 795: new config option for tda9887 to specifically set intercarrier
    
    - New config option for tda9887 to specifically set intercarrier
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 71633c05724d85f1afb87629bb96fdf2ef18b41f
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:38 2005 -0800

    [PATCH] v4l: 794: added asound skyeye bttv card
    
    - Added Asound Skyeye bttv card.
    
    Signed-off-by: Nickolay V. Shmyrev <<nshmyrev@yandex.ru>>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 16f2e6229f6f7b89cb42f4942cb46dc645faae2a
Author: Sascha Sommer <saschasommer@freenet.de>
Date:   Tue Nov 8 21:37:37 2005 -0800

    [PATCH] v4l: 793: remotes for the cinergy 200 usb and cinergy 250 usb are the same
    
    - Remotes for the Cinergy 200 USB and Cinergy 250 USB are the same.
    
    Signed-off-by: Sascha Sommer <saschasommer@freenet.de>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f9c05aa727a3b27e28972f2f3938b29ad81b833
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:36 2005 -0800

    [PATCH] v4l: 791: codingstyle fixes
    
    - CodingStyle fixes
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e43f14af143921ac6680aa3ddfff111bef4e034a
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:35 2005 -0800

    [PATCH] v4l: 790: added support for terratec cinergy 250 usb
    
    - Added support for Terratec Cinergy 250 USB
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 340622c5a9028d70b1238ecafb463125277a30eb
Author: Dwaine Garden <DwaineGarden@rogers.com>
Date:   Tue Nov 8 21:37:34 2005 -0800

    [PATCH] v4l: 789: added support for saa7113
    
    - Added support for saa7113.
    
    Signed-off-by: Dwaine Garden <DwaineGarden@rogers.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78f82405ace9415e72a87b16c195675f053381f1
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:34 2005 -0800

    [PATCH] v4l: 788: log message
    
    - This fixes dual language detection on the msp3400.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 74458e6c1aea9e422e46030e7bc61e9b0984be5b
Author: Sascha Sommer <saschasommer@freenet.de>
Date:   Tue Nov 8 21:37:33 2005 -0800

    [PATCH] v4l: 786: chip id removed since it isn t required anymore
    
    - Chip_id removed since it isn't required anymore.
    
    Signed-off-by: Sascha Sommer <saschasommer@freenet.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5e5265315770bda46c50ecaa64e2b9790f2064c
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:32 2005 -0800

    [PATCH] v4l: 784: several improvement on i2c ir handling for em2820
    
    - Several Improvement on I2C IR handling for em2820:
            - moved Pinnacle IR table (ir_codes_em2820) to em2820-input.c
            - IR struct renamed and moved to a header file.
            - New file to handle em2820-specific IR.
            - Some cleanups.
            - attach now detects I2C IR and calls em2820-specific IR code
            - IR compat code moved to compat.h
            - New header with struct IR_i2c there, to allow it to be
              used by board-specific input handlers.
    
    - Some improvements at em28xx board detection:
            - Board detection message improved to show interface and class.
            - Now it doesn't touch audio interfaces.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit da45a2a5b96afd7188c058a55eb2917d6524c0cf
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:31 2005 -0800

    [PATCH] v4l: 783: fixed bad em2820 remote layout values
    
    - Fixed bad em2820 remote layout values
    - set KNC One and Purple TV layouts back to default
    - added pinnacle ir remote i2c address to the i2c scanner
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f4710b1b1c62da3050c4eac08a5f08227e0e0f0
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:30 2005 -0800

    [PATCH] v4l: 782: ir-kbd-i2c.c updates
    
    - fixed probe function
    - em2820 remote layout
    - disabled em2820 pinnacle ir support
    - whitespace cleanups
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55b8b2d173adea54a9e8407f26630c19274fa0b6
Author: Paul Vriens <Paul.Vriens@xs4all.nl>
Date:   Tue Nov 8 21:37:29 2005 -0800

    [PATCH] v4l: 780: fixed typo in module param description
    
    - Fixed typo in module param description
    
    Signed-off-by: Paul Vriens <Paul.Vriens@xs4all.nl>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 994914ea7aecea3d8bc30e6283dacea1f157353c
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:28 2005 -0800

    [PATCH] v4l: 777: updated script to function in new tree layout
    
    - Whitespace cleanups
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76bc3a3933de50559fdd4081f26867f1d25cd5a6
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:27 2005 -0800

    [PATCH] v4l: 776: added card 75 avermedia avertvhd mce a180
    
    - Added card 75 AVerMedia AVerTVHD MCE A180
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67081a46116e6d9a47f4621ccd63b2fdcd1f45f1
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:27 2005 -0800

    [PATCH] v4l: 775: fix build warnings
    
    - Fix build warnings
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47028d62f9aef032ed4e9645ea0c9eb451312dd9
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:26 2005 -0800

    [PATCH] v4l: 773: be sure to enable video buf dvb in kernel build
    
    - Be sure to enable video-buf-dvb in kernel build.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0edeea4f917ab6f0b806c496822267cef2218500
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:25 2005 -0800

    [PATCH] v4l: 771: the wm8775 is a wolfson microelectronics 24 bit 96khz adc with 4
    
    - Support for Wolfson Microelectronics wm8775 audio processor
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a2d857c005399fdf4e0913cb43cca9beb9941a7
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:24 2005 -0800

    [PATCH] v4l: 768: don t bother gerd with bttv cards patches
    
    - Don't bother Gerd with bttv-cards patches.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 596d92d5128d308b5a79f21c3e72c87f5fc7e58b
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:24 2005 -0800

    [PATCH] v4l: 767: included support for em2800
    
    - Included support for em2800.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b5200a7b19a53969db68c97d379339592ca6a4f
Author: David Shirley <David.Shirley@team.telstra.com>
Date:   Tue Nov 8 21:37:22 2005 -0800

    [PATCH] v4l: 766: add dvb card winfast dtv1000-t
    
    - Add DVB card WinFast DTV1000-T
    
    Signed-off-by: David Shirley <David.Shirley@team.telstra.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40c717ff48b2c91091a69de0e28c02a43e9b0c7c
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:21 2005 -0800

    [PATCH] v4l: 763: include newer i2c id at linux include media id h
    
    - Include newer I2C ID at  ../linux/include/media/id.h:
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c365864faf8c68db9d1a64d4356758da9f206ff1
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:21 2005 -0800

    [PATCH] v4l: 762: added support for the terratec cinergy 250 usb tv remote
    
    - Added support for the terratec cinergy 250 usb tv remote
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9ae9fb17bdcb22ae0c1abc6ebd97704dd80d9d1
Author: Markus Rechberger <mrechberger@gmail.com>
Date:   Tue Nov 8 21:37:20 2005 -0800

    [PATCH] v4l: 761: fixed registry value in em2820
    
    - Fixed registry value in em2820-i2c.c which corrects a tuner setting (also
      removed that call from em2820-video.c)
    
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18f47d10bc8076bb126a1a369b782e29cc91c824
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:19 2005 -0800

    [PATCH] v4l: 759: more improvements at msp3400 c from ivtv code
    
    - More improvements at msp3400.c from ivtv code.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6df840f20d1ff63fd13ed1bb3e186395ee800794
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:18 2005 -0800

    [PATCH] v4l: 758: some improvements at msp3400 c from ivtv code
    
    - Some improvements at msp3400.c from ivtv code.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4eb0c14465a9221f040551a91238b57af301c145
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:18 2005 -0800

    [PATCH] v4l: 754: add the adapter address prefix to the tda9887 kernel messages
    
    - Add the adapter/address prefix to the tda9887 kernel messages.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 98f30ed06a0feade6250438b0bd6cc472f26b12a
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:17 2005 -0800

    [PATCH] v4l: 739: created make changelog to make easier to generate patches
    
    - Created make changelog to make easier to generate patches.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1f6173ed9b48709383631e2c43eed770f15d05d1
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:16 2005 -0800

    [PATCH] v4l: 729: fixed include when compiling at kernel tree
    
    - Fixed include when compiling at kernel tree
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 376f269e4731a90db41683cb72717e217d3774f5
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:37:15 2005 -0800

    [PATCH] v4l: 728: vidiocsfreq and vidiocgfreq expect an unsigned long as argument
    
    - VIDIOCSFREQ and VIDIOCGFREQ expect an unsigned long as argument.
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a866623cdc94a3a800167568db24bc55b6860ef0
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:14 2005 -0800

    [PATCH] v4l: 727: fixed a bug that caused some saa7133 code to run on saa7134 boards
    
    - Fixed a bug that caused some saa7133 code to run on saa7134 boards
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2c15ea9b23c216bb49303c076bbdcef7e7ba278
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:14 2005 -0800

    [PATCH] v4l: 725: fixed kernel oops when hotswapping pc cards
    
    - Fixed kernel oops when hotswapping PC Cards
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c06f57f55a0e499ec38fbb62812ad3fe08ad246e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:13 2005 -0800

    [PATCH] v4l: 723: fix build for 2.6.14
    
    - Fix build for 2.6.14
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d63cb45a2ee5cbf2e6d568fb2c4007a52e21bcf
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Nov 8 21:37:12 2005 -0800

    [PATCH] v4l: 721: check kthread correctly
    
    - Check ->kthread correctly
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bd15eba3a0f2b175bd80c21d5fc86c02ed4c56f6
Author: Ricardo Cerqueira <v4l@cerqueira.org>
Date:   Tue Nov 8 21:37:11 2005 -0800

    [PATCH] v4l: 720: alsa support for saa7134 that should work wonderful
    
    - Alsa support for saa7134 that should work.
    
    Signed-off-by: Ricardo Cerqueira <v4l@cerqueira.org>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f8d4f5139fe7817f43202d8ee2f4b68ac53e58f
Author: Robert W. Boone <rboone@rtd.com>
Date:   Tue Nov 8 21:37:10 2005 -0800

    [PATCH] v4l: 719: implement some differences in video output port
    
    - Implement some differences in video output port
    
    Signed-off-by: Robert W. Boone <rboone@rtd.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd35a6b454818e01f761622e9ac5824ce2d7baf5
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:09 2005 -0800

    [PATCH] v4l: 718: fixed build
    
    - Fixed build.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c1904a997153b17861bd331c9075017ba34b901
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:37:08 2005 -0800

    [PATCH] v4l: 717: added scripts and cardlist for em2820
    
    - Added scripts and CARDLIST for em2820.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6c2ba283565dbc9f055dcb2ecba1971460bb535
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 21:37:07 2005 -0800

    [PATCH] v4l: 716: support for em28xx board family
    
    - Added support for em28xx board family
    
    Signed-off-by: Ludovico Cavedon <cavedon@sssup.it>
    Signed-off-by: Markus Rechberger <mrechberger@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b017415fc9ab63f7c0e49aced5e403c18d55659
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:06 2005 -0800

    [PATCH] v4l: 715: enable s video input on dvico fusionhdtv5 lite
    
    - Enable S-Video input on DViCO FusionHDTV5 Lite
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3375c39844b58ad8a5d9f454fa908d722a94a5a4
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:05 2005 -0800

    [PATCH] v4l: 714: fix typo
    
    - Fix typo.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f7591c04f3797694e331a31d00317ae4acb9af0
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:04 2005 -0800

    [PATCH] v4l: 713: add alsa support to saa7134 driver
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e976f93725ce16b4a493d40a6dd3bccbd74b9a8a
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:37:04 2005 -0800

    [PATCH] v4l: 712: added analog support for ati hdtv wonder
    
    - Added analog support for ATI HDTV Wonder
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cf583ac40d06825bc850dc4f47627d7661aaa4f8
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:37:03 2005 -0800

    [PATCH] v4l: 711: changed pll 1 to pll pll 28
    
    - Changed { .pll = 1, } to { .pll = PLL_28, }
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f718e6e7a2c402195f3d2944605ef4b01e8e3347
Author: Kenth Andersson <kenth@popwire.com>
Date:   Tue Nov 8 21:37:02 2005 -0800

    [PATCH] v4l: 709: added osprey 440 card
    
    - Added Osprey 440 card.
    
    Signed-off-by: Kenth Andersson <kenth@popwire.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1eaad5b113811db7fdb6d02e1c8d9ff7c8ba6919
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:37:01 2005 -0800

    [PATCH] v4l: 708: full mute of saa7134 on mute command
    
    - Full mute of saa7134 on mute command.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc2286cfce214c0de00571f3219a50488c58dd6b
Author: James R. Webb <jrwebb@qwest.net>
Date:   Tue Nov 8 21:37:00 2005 -0800

    [PATCH] v4l: 707: remote for kworld terminator
    
    - Remote for KWorld Terminator.
    
    Signed-off-by: James R. Webb <jrwebb@qwest.net>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b3c6d659fc392cfd80e57840c10ccd4c6ab62c5
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:59 2005 -0800

    [PATCH] v4l: 706: reindent cx88 tvaudio c to keep coding style
    
    - Reindent cx88-tvaudio.c to keep coding style.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0bcc37c328ac66ede45a6672f85795eee0b05b87
Author: Alexander Wold <awold@bigfoot.com>
Date:   Tue Nov 8 21:36:58 2005 -0800

    [PATCH] v4l: 705: added kworld vstream expertdvd
    
    - Added Kworld Vstream ExpertDVD.
    
    Signed-off-by: Alexander Wold <awold@bigfoot.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit afce892f66c196989fe7d938150201d337c553e5
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:57 2005 -0800

    [PATCH] v4l: 704: enable support for the ir remote on compro videomate t200
    
    - Enable support for the IR Remote on Compro Videomate T200
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 10c2c8b18a9cd29fc3f5faa5ad8e825dcc8b58e6
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:56 2005 -0800

    [PATCH] v4l: 703: added new card prolink pixelview playtv mpeg2 pv m4900
    
    - Added new card: Prolink PixelView PlayTV MPEG2 PV-M4900
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90a7ed47a37297bee1f4ce11484190ccac29ae7c
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:56 2005 -0800

    [PATCH] v4l: 702: included audio chips enum
    
    - Included audio chips enum
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6af90ab5e7a9111a861fde33726ae960d30915f0
Author: Arnaud Patard <apatard@mandriva.com>
Date:   Tue Nov 8 21:36:55 2005 -0800

    [PATCH] v4l: 700: added ir for lifeview flytv platinum mini2
    
    - Added IR for LifeView FlyTV Platinum Mini2.
    
    Signed-off-by: Arnaud Patard <apatard@mandriva.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6589d36a07864aa110dd4f1065c02f5bc7cc29a1
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:54 2005 -0800

    [PATCH] v4l: 695: added more pci id
    
    - Added more PCI ID.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit da57a5d9050d83441769e275d54d88fbd768be49
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:53 2005 -0800

    [PATCH] v4l: 694: updated an entry to reflect changes on tuner-simple.c
    
    - Updated an entry to reflect changes on tuner-simple.c
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5a25e84b3ca053f240dc8fa3320bc843a0a394f5
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:52 2005 -0800

    [PATCH] vl4: 693: bttv board renaming
    
    - Boards renamed to BTTV_BOARD_xxx
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2bfa1ac6ce854a7f895d5c9d6c273ef770fad9ae
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:51 2005 -0800

    [PATCH] v4l: 692: bttv coding style and card ids
    
    - BTTV Boards now use the same CodingStyle as cx88 and saa7134.
    - Included missing card numbers
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70b6934a6c6b5f242a42978f3c5e4f45d476dddb
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:50 2005 -0800

    [PATCH] v4l: 691: set if of tda8275 according to tv norm
    
    - Set IF of tda8275 according to tv norm.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 058afaf80932445fb33f957d29758479a65932ce
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:49 2005 -0800

    [PATCH] v4l: 690: added support for lifeview flytv platinum mini2
    
    - Added support for LifeView FlyTV Platinum Mini2.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ea246862863d712bacf3f2c0cb43de7bf1feeba
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:48 2005 -0800

    [PATCH] v4l: 689: cx88 cardlist updated now it also includes pci subsystem ids
    
    - Cx88 cardlist updated. Now, it also includes PCI subsystem IDs.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fea095fe4c8f7f615472ee8036fe511b47eec53d
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:47 2005 -0800

    [PATCH] v4l: 688: add remote for dvb t300 remote
    
    - Add remote for DVB-T300 Remote.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93e960ff2d94a68403f87bbd2e664509bdfefbae
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Tue Nov 8 21:36:46 2005 -0800

    [PATCH] v4l: 687: fix source charset make symbols utf 8
    
    - Fix source charset. Make symbols UTF-8.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b71521b66da26129255ade6ad71f708032bc0e0
Author: Robert W. Boone <rboone@rtd.com>
Date:   Tue Nov 8 21:36:45 2005 -0800

    [PATCH] v4l: 686: change the number of lines in the input signal when the
    
    - Change the number of lines in the input signal when the video standard is
      changed.
    
    - Fix comments style.
    
    Signed-off-by: Robert W. Boone <rboone@rtd.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20f441f6900d786606583263d89653c48c7093a8
Author: Hans Verkuil <hverkuil@xs4all.nl>
Date:   Tue Nov 8 21:36:44 2005 -0800

    [PATCH] v4l: 685: update the tveeprom tuner list with the tuner
    
    - Update the tveeprom tuner list with the tuner
    
    Signed-off-by: Hans Verkuil <hverkuil@xs4all.nl>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 372dffdb4b2d23e94b657d2321c16c4c86df45d2
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:44 2005 -0800

    [PATCH] v4l: 683: some v4l2 api calls implemented on msp3400.c
    
    - Some V4L2 API calls implemented on msp3400.c.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c86f973ba0f49af1f4c54ff3d1935093c173450
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:43 2005 -0800

    [PATCH] v4l: 678: fixed input selection
    
    - Fixed input selection.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83331624aac006b615f6853aacd28aef3111ef07
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:36:42 2005 -0800

    [PATCH] v4l: 677: increased eeprom dump to 128 bytes
    
    - Increased eeprom dump to 128 bytes
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84486d53b7fab2cf939acd378959fc4896d3bb68
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:41 2005 -0800

    [PATCH] v4l: 675: tvp5150 included on makefile
    
    - Tvp5150 included on makefile.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35f8d4d623953b5d868d9735a4c10e57dca6dc97
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:41 2005 -0800

    [PATCH] v4l: 674: move some if kernel version into compat.h
    
    - Move some #if kernel version into compat.h
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd4665c5dcf9916dc2f71d30c7e7830ee7cbf884
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:40 2005 -0800

    [PATCH] v4l: 673: initial code for texas instruments tvp5150a and tvp5150am1
    
    - Initial code for Texas Instruments TVP5150A and TVP5150AM1
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46a3a575bcc6a82b8538dd7a02fef634853ad31e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:39 2005 -0800

    [PATCH] v4l: 672: fix build for 2.6.14
    
    - Fix build for 2.6.14
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit caa812e4a5d77703f4839b5d25139aa05615ddb3
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:39 2005 -0800

    [PATCH] v4l: 670: cardlist update
    
    - Cardlist update.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 699a40690b5facb3aa1256304cd6b97691eb5fdc
Author: Luis Miguel Garcia <ktecho@gmail.com>
Date:   Tue Nov 8 21:36:38 2005 -0800

    [PATCH] v4l: 669: added prolink pixelview pv bt878p rev 2e compatibility
    
    - Added Prolink Pixelview PV-BT878P+ (Rev.2E) compatibility
    
    Signed-off-by: Luis Miguel Garcia <ktecho@gmail.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f95a0bf8594f59c708492d5ab6ea9a72621f0dd
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:37 2005 -0800

    [PATCH] v4l: 667: remove some if 0 which doesn t have any sense
    
    - Remove some #if 0 which doesn't have any sense
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17a05ef33a3c9489f659c4e40f8bfafd834e0cb9
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:36 2005 -0800

    [PATCH] v4l: 665: fix for problem with audio register setup via dsp access
    
    - Fix for problem with audio register setup via DSP access
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e222f83406f987c661b6da2d3fb4fc8ae8b5c660
Author: Hans J. Koch <koch@hjk-az.de>
Date:   Tue Nov 8 21:36:35 2005 -0800

    [PATCH] v4l: 664: improved coding style for timer settings
    
    - Improved coding style for timer settings
    
    Signed-off-by: Hans J. Koch <koch@hjk-az.de>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb881f142465a7a70bc9a364786e39aa4aaba4d2
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:35 2005 -0800

    [PATCH] v4l: 663: add new rtd cards
    
    - Add new RTD cards
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd1c388125d713b403569d96d9845470142884a2
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:34 2005 -0800

    [PATCH] v4l: 660: small fixes
    
    - Small fixes on tuner debug message.
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84a5e55c70d881451208ec56609ccd75053c08fa
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:33 2005 -0800

    [PATCH] v4l: 657: update documentation
    
    - Update tuner documentation
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2cf36ac447308046d1c1d50b9f662bddbba56b33
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:36:32 2005 -0800

    [PATCH] v4l: 656: added support for the following cards
    
    - Added support for the following cards:
    - Philips EUROPA reference desigh
    - Compro VideoMate DVB-T300
    - Compro VideoMate DVB-T200 (initial)
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93df3413f1b4c437b93c5b64562632f4f0e2b3ca
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:36:31 2005 -0800

    [PATCH] v4l: 655: added support for the philips td1316 tuner
    
    - Added support for the Philips TD1316 tuner
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3aa4f48aee93e793071e26d6807efdf6eb111614
Author: Hartmut Hackmann <hartmut.hackmann@t.online.de>
Date:   Tue Nov 8 21:36:30 2005 -0800

    [PATCH] v4l: 653: ts dma buffer synchronization was inverted
    
    - TS DMA buffer synchronization was inverted
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t.online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9e7a0203def0704beaf4af1ff2c772f9fa712cf
Author: Peter Hagervall <hager@cs.umu.se>
Date:   Tue Nov 8 21:36:29 2005 -0800

    [PATCH] v4l: 651: fix a number of sparse warnings
    
    - Fix a number of sparse warnings.
    
    Signed-off-by: Peter Hagervall <hager@cs.umu.se>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c5df599b67b5a061d28a2154a49f9704e0d1040b
Author: Catalin Climov <catalin@climov.com>
Date:   Tue Nov 8 21:36:28 2005 -0800

    [PATCH] v4l: 649: fixed gcc 4 0 compile warnings by moving var declarations to the top of the function or block
    
    - Fixed gcc 4.0 compile warnings by moving var declarations to the top of
      the function or block.
    
    Signed-off-by: Catalin Climov <catalin@climov.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b1706b91051e1270e0bd5134219e48732a9d6c42
Author: Torsten Seeboth <Torsten.Seeboth@t-online.de>
Date:   Tue Nov 8 21:36:27 2005 -0800

    [PATCH] v4l: 648: some clean up in cx88 tvaudio c
    
    - Some clean up in cx88-tvaudio.c
    
    Signed-off-by: Torsten Seeboth <Torsten.Seeboth@t-online.de>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c35d4b84f19d3f4b6a2fec652519e721f2cca169
Author: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
Date:   Tue Nov 8 21:36:27 2005 -0800

    [PATCH] v4l: 647: included cb3 structures on tda8290 that should be changed according with
    
    - Included CB3 structures on tda8290
    
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99d6c34864342c2071e3a9820bb797374a314fb2
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:26 2005 -0800

    [PATCH] v4l: 646: enable dvb support for dvico fusionhdtv5 lite
    
    - Enable DVB support for DViCO FusionHDTV5 Lite.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b01bc14a2c67b0b562d8201a864d7b4aada07ab4
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:25 2005 -0800

    [PATCH] v4l: 645: refine input handling for manli beholder
    
    - Refine input handling for Manli/Beholder.
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f3c343bfa61532e02b95d409455a8bab6b47a6b
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:24 2005 -0800

    [PATCH] v4l: 644: lower switch from vhf lo to vhf hi for philips 1216me mk3
    
    - Lower switch from VHF_LO to VHF_HI for Philips 1216ME MK3
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 84cd961cab8abd764f74d27ee47feff8942fca10
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:24 2005 -0800

    [PATCH] v4l: 643: use key media instead of key videomodeswitch since
    
    - Use KEY_MEDIA instead of KEY_VIDEOMODESWITCH
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dcd555ece9a2228d918a439480d748c163a11d00
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:23 2005 -0800

    [PATCH] v4l: 640: fixed typos
    
    - Fixed typos
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b96144026e27b9250713f86355e83095204d5f2
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:22 2005 -0800

    [PATCH] v4l: 639: added new card gotview pci 7135
    
    - Added new card GoTView PCI 7135
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c08fb02f1a1b86292aa144cc876a95fbe2a5606
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:21 2005 -0800

    [PATCH] v4l: 636: don t enable gpioirq until after card probe
    
    - Don't enable gpioirq until after card probe.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc9d8d49bb13fdcea521f907e120d3a7c7ce94f8
Author: Ricardo Cerqueira <v4l\@cerqueira.org>
Date:   Tue Nov 8 21:36:20 2005 -0800

    [PATCH] v4l: 635: add bttv card 137 conceptronic ctvfmi v2
    
    - Add bttv card 137 - Conceptronic CTVFMi v2
    
    Signed-off-by: Ricardo Cerqueira <v4l\@cerqueira.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87f0783159783a315c68a00e50706cd01aa10511
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:19 2005 -0800

    [PATCH] v4l: 634: implemented tuner set standby on cx88 init
    
    - Implemented TUNER_SET_STANDBY on cx88 init.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ccd7b6500275e34e2fb90bcf316a5a721d5cdb52
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:19 2005 -0800

    [PATCH] v4l: 633: climov s previous patch missing changelog entry
    
    - Fixes broken compile of cx88-dvb.c
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31629424132c87f7c8bd79d7ed4d014354a06427
Author: Catalin Climov <catalin@climov.com>
Date:   Tue Nov 8 21:36:17 2005 -0800

    [PATCH] v4l: 631: implemented the v4l2 mpeg api for blackbird cards
    
    - Implemented the v4l2 mpeg api for blackbird cards.
    
    Signed-off-by: Catalin Climov <catalin@climov.com>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7df64e8c9cee596c2609c99b0ca1ebb6ae2d5b1d
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:36:16 2005 -0800

    [PATCH] v4l: 630: capitalized hex a f changed to lowercase in pci subsystem id constants
    
    - Capitalized hex A-F changed to lowercase in pci subsystem id constants
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8ff417e7310c63b890cbd94c67043ec153f8709
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:16 2005 -0800

    [PATCH] v4l: 629: added behold tv 409 fm
    
    - Added Behold TV 409 FM
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d45170ed6731a55885386f0e8d04578f77d3045d
Author: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
Date:   Tue Nov 8 21:36:15 2005 -0800

    [PATCH] v4l: 628: added new avermedia card 550
    
    - Added new Avermedia card 550
    
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d14f78e4bfa55e5a534cc4c03ddab8841a1b32e
Author: Glen Gray <glen@lincor.com>
Date:   Tue Nov 8 21:36:12 2005 -0800

    [PATCH] v4l: 627: added support for oem version of flytv platinum mini with a
    
    - Added support for OEM version of FlyTV Platinum mini with a subvendor id
      of 0x4e42.
    
    - Added the OEM PCI id's to the docs/CARDLIST.saa7134 for item 39
    
    - Modified the vmux in the SAA7134_BOARD_FLYTVPLATINUM_MINI driver data from
      0 (Composite over S-Video) to 3 (Composite).
    
    Signed-off-by: Glen Gray <glen@lincor.com>
    Signed-off-by: Nickolay V. Shmyrev <nshmyrev@yandex.ru>
    Signed-off-by: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc952d03c0c36ec9a4c2a683015dbb98e8a889df
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:36:02 2005 -0800

    [PATCH] dvb: nxt200x: Add function for nxt200x to change pll input
    
    - Added function for nxt200x to change pll input
    - For VSB set to input 0, for QAM set to input 1
    - will only be set for cards that have set_pll_input defined
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 496157d089c3caeda35017833ea3bb895f29ed15
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:35:55 2005 -0800

    [PATCH] dvb: nxt200x: Fix typo in Makefile for nxt200x
    
    - Fix Typo: Change CONFIG_DVB_NXT2002 to CONFIG_DVB_NXT200X for the nxt200x
      module.
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66944e998a7e1164895e9bd7cae9f841a9f46ef5
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:55 2005 -0800

    [PATCH] dvb: lgdt330x: Correct QAM symbol_rate_min for lgdt3302 and lgdt3303
    
    Correct QAM symbol_rate_min for lgdt3302 and lgdt3303
    
    Thanks to: Mac Michaels and Steve Malenfant
    
    Signed-off-by: Mac Michaels <wmichaels1@earthlink.net>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d371d6a04c6b50125e8dbf9a2234cc694f6e3cdf
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 21:35:54 2005 -0800

    [PATCH] dvb-usb-urb printk fix
    
    drivers/media/dvb/dvb-usb/dvb-usb-urb.c: In function `dvb_usb_allocate_stream_buffers':
    drivers/media/dvb/dvb-usb/dvb-usb-urb.c:199: warning: int format, different type arg (arg 4)
    
    Don't assume that dma_addr_t is 32-bit.
    
    (dvb has quite a few such warnings.  Please compile it with a 64-bit compiler,
    fix them up - some are oopsable).
    
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de122dfda505e693f75e73628e026e4f6250ede7
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:53 2005 -0800

    [PATCH] dvb: documentation updates for hybrid v4l/dvb cards
    
    Updated documentation to include "hybrid" v4l/dvb and ATSC cards.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6f4b725461d1f3e2587993b22b0c6fe524d9259
Author: Patrick Boettcher <pb@linuxtv.org>
Date:   Tue Nov 8 21:35:52 2005 -0800

    [PATCH] dvb: Add support for the Artec T1 USB2.0 box
    
    Adding support for the Artec T1 USB2.0 box (real USB2.0)
    
    Signed-off-by: Patrick Boettcher <pb@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f93cf038d5930810e7e280e70de6e0c07ad959da
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:35:51 2005 -0800

    [PATCH] dvb: Remove status check from nxt200x_readreg_multibyte
    
    Remove status check from nxt200x_readreg_multibyte, it really shouldn't be
    necessary.
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3967d6c251d8482fe42a1aad3cc292ee04c0a6b
Author: Mark Adams <mark147m@gmail.com>
Date:   Tue Nov 8 21:35:50 2005 -0800

    [PATCH] dvb: fix bug in demux that caused lost mpeg sections
    
    Fix a bug in the software demux which causes large MPEG sections to be lost
    when they follow very small sections.
    
    The problem happens when two sections begin in the same transport packet.  The
    dvb_demux code resets its buffer only before the first of these sections.
    This means that when the second (or subsequent) section begins, there is up to
    182 bytes of buffer space already used.  If the following section is close to
    the maximum size, it currently won't fit in the (4096-byte) buffer and is
    thrown away.
    
    The fix is simply to enlarge the buffer by the size of one transport packet
    and correct one usage of the SECFEED_SIZE definition where what is really
    meant is the maximum size of a section.
    
    Signed-off-by: Mark Adams <mark147m@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f0fa86a574843264bdcbed4c84b41a2778861fde
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:49 2005 -0800

    [PATCH] dvb: determine tuner write method based on nxt chip
    
    - Add support for AVerTVHD MCE a180.
    - Instead of determining how to write to the tuner based on which NIM
      is being used, make this determination based on whether the chip is a
      NXT2002 or NXT2004.
    - If NXT2004, write directly to tuner. If NXT2002, write through NXT chip.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6d35ae3d1137c92a315b7ff10aecd45b1f37d99e
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:48 2005 -0800

    [PATCH] dvb: nxt200x: remove null check before kfree()
    
    Removed unnecessary null check before kfree() ...inspired by the big patch
    from Jesper Juhl.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c6dd2d5d61b000509e3a7f6c06778b16a4ef10ba
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:47 2005 -0800

    [PATCH] dvb: nxt200x: check callback fix
    
    Check that a callback (set_ts_params) is set before calling it.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 04a45929e7f00ed4fc7b1d375397f808c8a5d0eb
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:35:46 2005 -0800

    [PATCH] dvb: add nxt200x frontend module
    
    * nxt200x.c, nxt200x.h
    - New frontend module that supports both NXT2002 and NXT2004.
      So far, only tested on NXT2004.  After testing on NXT2002, we should
      deprecate the nxt2002 module, and implement this one instead on the
      applicable cards.
    
    * get_dvb_firmware:
    - Added support for the NXT2004 firmware. This firmware works with both
      the ATI HDTV Wonder and the AVerTVHD MCE a180.
      This was originally written by Jean-Francois Thibert
    
    * dvb-pll.c
    - Fixed minimum frequency for tuv1236d. It seems that the data sheets
      are wrong.
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f44dcda3f659ce47c1660a705802f12a2403a90
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Tue Nov 8 21:35:44 2005 -0800

    [PATCH] dvb: fixed inittab register 0x12 for BSRU6/BSBE1
    
    fixed inittab register 0x12 for BSRU6/BSBE1
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff29d06a102b35f9523ab4b6c38c9eb9948d1c80
Author: Oliver Endriss <o.endriss@gmx.de>
Date:   Tue Nov 8 21:35:43 2005 -0800

    [PATCH] dvb: stv0299: reduce i2c xfer and set register 0x12 from inittab
    
    stv0299_set_frontend(): reduced number of i2c transfers, set register 0x12
    from inittab
    
    Signed-off-by: Oliver Endriss <o.endriss@gmx.de>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 163d8fed1640c9a6c9f54e261ad5c755e373d04e
Author: Stuart Auchterlonie <stuarta@squashedfrog.net>
Date:   Tue Nov 8 21:35:40 2005 -0800

    [PATCH] dvb: Nebula nxt6000 requires fe reset
    
    Nebula nxt6000 requires fe reset.
    
    Signed-off-by: Stuart Auchterlonie <stuarta@squashedfrog.net>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 147418c9ca7bdffadafb0122c15b1eae167142f4
Author: Kirk Lapray <kirk.lapray@gmail.com>
Date:   Tue Nov 8 21:35:39 2005 -0800

    [PATCH] dvb: add support for plls used by nxt200x
    
    - Added support for the following:
      Philips TUV1236D - ATI HDTV Wonder
      ALPS TDHU2 - AverTVHD MCE A180
      Samsung TBMV30111IN - Air2PC ATSC - 2nd generation
    
    These will be used in a new NXT200X driver that incorporates the NXT2002
    driver and adds support for a couple NXT2004 based cards.
    
    Signed-off-by: Kirk Lapray <kirk.lapray@gmail.com>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f1016dec71a4ff3cf49110137c87ab988bd316e6
Author: Henrik Sjoberg <henke@epact.se>
Date:   Tue Nov 8 21:35:38 2005 -0800

    [PATCH] dvb: dst: protect dst_write_tuna from simultaneous writes
    
    dst_write_tuna needs to be protected against simultaeneous writes, just like
    dst_command
    
    Signed-off-by: Henrik Sjoberg <henke@epact.se>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d28d57629ffcd30e11a6085e15ee1327fea60b60
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Nov 8 21:35:36 2005 -0800

    [PATCH] dvb: dst: protect the read/write commands with a mutex
    
    We need to protect the read/write commands with a mutex.
    
    Bug reported by Henrik Sjoberg <henke@epact.se>
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2cbeddc976645262dbe036d6ec0825f96af70da3
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:35 2005 -0800

    [PATCH] dvb: Updated documentation for FusionHDTV Lite cards
    
    - Updated documentation for FusionHDTV Lite cards. We must differentiate
      the bt8xx based "Lite" cards from the cx2388x based "Gold" cards.
    
    - Provide location of CARDLIST.bttv Documentation, rather than
      instructing users to look at bttv.h
    
    - Include card decimal id numbers. These are valid for module arguments,
      and might be easier for some people to remember, rather than hex.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28fdd7599cb9c6c620caf13bcaea41e2532cb5fd
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Nov 8 21:35:33 2005 -0800

    [PATCH] dvb: Updated Documentation
    
    Updated Documentation
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0b11b914de27e0e82b5311cf9b498a1b008b591
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:32 2005 -0800

    [PATCH] dvb: Add support for Air2PC/AirStar 2 ATSC 3rd generation (HD5000)
    
    Added support for Air2PC/AirStar 2 ATSC 3rd generation (HD5000)
    
    Signed-off-by: Taylor Jacob <rtjacob@earthlink.net>
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7b67195ea571b8540ac79daf27f5932ec40c098
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Tue Nov 8 21:35:29 2005 -0800

    [PATCH] dvb: Remove DEBUG_LOCKLOSS stuff
    
    Remove DEBUG_LOCKLOSS stuff - as the problem has been found and resolved
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3528cc4e731b098b5743f8f91516e2e6c01dd1ce
Author: Andrew de Quincey <quincy@linuxtv.org>
Date:   Tue Nov 8 21:35:28 2005 -0800

    [PATCH] dvb: Remove broken stv0299 enhanced tuning code
    
    Remove broken stv0299 enhanced tuning code
    
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83b75b049be981e579ba2cb88aa9bf3534bbbdb1
Author: NooneImportant <nxhxzi702@sneakemail.com>
Date:   Tue Nov 8 21:35:27 2005 -0800

    [PATCH] dvb: let other frontends support FE_DISHNETWORK_SEND_LEGACY_CMD
    
    Add support to FE_DISHNETWORK_SEND_LEGACY_CMD code to support other frontends
    besides stv0299.  The generic code is a fallback in the case that it doesn't
    work for some specific frontends (again stv0299 being a good example).
    
    Signed-off-by: NooneImportant <nxhxzi702@sneakemail.com>
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b90ed914e513a6ad6184f7a46a0df0888dcfc177
Author: Johannes Stezenbach <js@linuxtv.org>
Date:   Tue Nov 8 21:35:25 2005 -0800

    [PATCH] dvb: Fix integer overflow bug
    
    Fix integer overflow bug in read_signal_strength() reported by Anthony
    Leclerc.
    
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c15c0b4fa850543b8ccfcf93686d24456cc384d
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Nov 8 21:35:24 2005 -0800

    [PATCH] dvb: dst: Fix possible buffer overflow
    
    Fixes a possible buffer overflow due to reading more than 8 bytes into an 8
    byte long array
    
    Thanks to Perceval Anichini <perceval.anichini@streamvision.fr> for pointing
    out the bug.
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4fbbc7ee591ab19707d12e2f86a1ae11f7195423
Author: Perceval Anichini <perceval.anichini@streamvision.fr>
Date:   Tue Nov 8 21:35:23 2005 -0800

    [PATCH] dvb: dst: remove redundant checksum calculation
    
    removes the redundant checksum calculation, which was also exported from the
    dst.c module
    
    Signed-off-by: Perceval Anichini <perceval.anichini@streamvision.fr>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5648e8a68daec5fd1c42c1500c662967adb8f6c
Author: Tom Hughes <tom@compton.nu>
Date:   Tue Nov 8 21:35:22 2005 -0800

    [PATCH] dvb: dst: fix DST DVB-S get_frequency
    
    fix DST DVB-S get_frequency
    
     - fixes a bug that caused the returned frequency to wrong
    
    Signed-off-by: Tom Hughes <tom@compton.nu>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c09aa72b60f30650527afb384c1b3b1cb56aeea
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Nov 8 21:35:20 2005 -0800

    [PATCH] dvb: dst: fix broken support for vp-3040 TS204
    
    fixes broken support for vp-3040 TS204
    
    Thanks-to: Lee Hammerton <savoury.snax@bulldoghome.com>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f630558dfbd47301c2ce30f7e4acd2817a7455ac
Author: Perceval Anichini <perceval.anichini@streamvision.fr>
Date:   Tue Nov 8 21:35:19 2005 -0800

    [PATCH] dvb: dst: fix memory leaks
    
    fix memory leaks
    
    Signed-off-by: Perceval Anichini <perceval.anichini@streamvision.fr>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 174f80dfcba45677f12ba57479d03750dd9cad7b
Author: Peter Hagervall <hager@cs.umu.se>
Date:   Tue Nov 8 21:35:18 2005 -0800

    [PATCH] dvb: fix sparse warnings
    
    Sparse warnings
     - remove address space related warnings
    
    Signed-off-by: Peter Hagervall <hager@cs.umu.se>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 93a14f15d35cd60742220995d3413d256ebde9ee
Author: Raymond Mantchala <raymond.mantchala@streamvision.ft>
Date:   Tue Nov 8 21:35:17 2005 -0800

    [PATCH] dvb: dst: ASN.1 length field Fix
    
    ASN.1 length field Fix
    
    Signed-off-by: Raymond Mantchala <raymond.mantchala@streamvision.ft>
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b70a2f55e249308c57879df5723d96406e12b27
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:16 2005 -0800

    [PATCH] dvb: microtune mt7202dtf: Fix charge pump setting
    
    Fix charge pump setting in microtune_mt7202dtf_pll_set().  Thanks to Jyrki
    Niskala for reporting.
    
    Signed-off-by: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a18a80b09f78178f6404b538ab09937ee9044e2e
Author: Thorsten Maerz <torte@netztorte.de>
Date:   Tue Nov 8 21:35:15 2005 -0800

    [PATCH] dvb: remove duplicate key definitions
    
    The duplicate key definitions cause misinterpretations with other keys, e.g.
    the "TELETEXT" key clashes with "CHANNEL_UP" and thus can not be used with
    LIRC.  This patch removes these duplicates.
    
    Signed-off-by: Thorsten Maerz <torte@netztorte.de>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6573dd752d50730d44c550ad0467d15871963655
Author: Andreas Oberritter <obi@linuxtv.org>
Date:   Tue Nov 8 21:35:14 2005 -0800

    [PATCH] dvb: pluto2: Removed unavoidable error message and related code
    
    Removed unavoidable error message and related code.
    
    Signed-off-by: Andreas Oberritter <obi@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 634623d3ba6146e13d06d3f36188c189c8a58a23
Author: Hartmut Hackmann <hartmut.hackmann@t-online.de>
Date:   Tue Nov 8 21:35:13 2005 -0800

    [PATCH] dvb: tda1004x: pll communication fixes
    
    - leave I2C bridge open at pll_sleep to support Philips EUROPA based cards.
    - give an error message if the communication with the pll fails.
    
    Signed-off-by: Hartmut Hackmann <hartmut.hackmann@t-online.de>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3cff00d91292e744a510be7256f1c80e1b0be819
Author: Michael Krufky <mkrufky@m1k.net>
Date:   Tue Nov 8 21:35:12 2005 -0800

    [PATCH] dvb: Add ATSC support for DViCO FusionHDTV5 Lite
    
    Added ATSC support for DViCO FusionHDTV5 Lite.
    
    Signed-off-by: Michael Krufky <mkrufky@m1k.net>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3765022171874d249535a1c8b8190f408fd85f21
Author: Andrew de Quincey <adq_dvb@lidskialf.net>
Date:   Tue Nov 8 21:35:11 2005 -0800

    [PATCH] dvb: stv0299: revert improper method
    
    Remove my badly thought out patch.  This does need done, but in a proper way.
    
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9691bb14d9ab646868a6392e9419070c304a9590
Author: Martin Zwickel <martin.zwickel@technotrend.de>
Date:   Tue Nov 8 21:35:10 2005 -0800

    [PATCH] dvb: add support for Technotrend Budget Card S1500
    
    This patch adds support for the Technotrend Budget Card S1500 with a BSBE1
    frontend and the LNBP21.
    
    Signed-off-by: Martin Zwickel <martin.zwickel@technotrend.de>
    Signed-off-by: Andrew de Quincey <adq_dvb@lidskialf.net>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29b2f784da28cc8289f17a07360997093b7b0156
Author: Manu Abraham <manu@linuxtv.org>
Date:   Tue Nov 8 21:35:09 2005 -0800

    [PATCH] dvb: dst: Correcty Identify Tuner and Daughterboards
    
    - Identify Tuner, Daughterboards correctly
    - Added partial support for
      VP-10320A (DVB-S), VP-20210 (DVB-C), VP-3040 (DVB-T)
    
    Signed-off-by: Manu Abraham <manu@linuxtv.org>
    Signed-off-by: Michael Krufky <mkrufky@linuxtv.org>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b05a581d4865d74c0e270d27156a88d2dee9494e
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:08 2005 -0800

    [PATCH] move some COMPATIBLE_IOCTL entries from x86_64 to common code
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7e4c54a2a4f1cec6a652c6014714ee51b7e1311f
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:07 2005 -0800

    [PATCH] remove ioctl32_handler_t
    
    Some architectures define and use this type in their compat_ioctl code, but
    all of them can easily use the identical ioctl_trans_handler_t type that is
    defined in common code.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a81e316866be8053b18fe1dffc663f1ff19bfc3
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:07 2005 -0800

    [PATCH] re-add TIOCSTART and TIOCSTOP compat_ioctl handlers
    
    We don't implement these ioctls, but some architectures define them in the
    headers.  Bash picks them up and issues them frequently.  Add compat_ioctl
    handlers to silence warnings about unhandled copat ioctls.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49705b7743fd8f5632a95ec4c6547d169d27ac1f
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:06 2005 -0800

    [PATCH] sanitize lookup_hash prototype
    
    ->permission and ->lookup have a struct nameidata * argument these days to
    pass down lookup intents.  Unfortunately some callers of lookup_hash don't
    actually pass this one down.  For lookup_one_len() we don't have a struct
    nameidata to pass down, but as this function is a library function only
    used by filesystem code this is an acceptable limitation.  All other
    callers should pass down the nameidata, so this patch changes the
    lookup_hash interface to only take a struct nameidata argument and derives
    the other two arguments to __lookup_hash from it.  All callers already have
    the nameidata argument available so this is not a problem.
    
    At the same time I'd like to deprecate the lookup_hash interface as there
    are better exported interfaces for filesystem usage.  Before it can
    actually be removed I need to fix up rpc_pipefs.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Cc: Ram Pai <linuxram@us.ibm.com>
    Cc: Jeff Mahoney <jeffm@suse.com>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c744fb83da0771afa04695028e3550b798dad90
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:04 2005 -0800

    [PATCH] add a file_permission helper
    
    A few more callers of permission() just want to check for a different access
    pattern on an already open file.  This patch adds a wrapper for permission()
    that takes a file in preparation of per-mount read-only support and to clean
    up the callers a little.  The helper is not intended for new code, everything
    without the interface set in stone should use vfs_permission()
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4543eddfd3bf3e0d625841377fa695a519edfd4
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:35:04 2005 -0800

    [PATCH] add a vfs_permission helper
    
    Most permission() calls have a struct nameidata * available.  This helper
    takes that as an argument and thus makes sure we pass it down for lookup
    intents and prepares for per-mount read-only support where we need a struct
    vfsmount for checking whether a file is writeable.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e4a53cbabc81f04e24a5570b4aa6a6384bdbfc67
Author: Gabriel A. Devenyi <ace@staticwave.ca>
Date:   Tue Nov 8 21:35:00 2005 -0800

    [PATCH] drivers/block/pktcdvd.c: remove write-only variable in pkt_iosched_process_queue()
    
    Found this on Coverty's linux bug database (http://linuxbugsdb.coverity.com).
    
    The function pkt_iosched_process_queue makes a call to bdev_get_queue and
    stores the result but never uses it, so it looks like it can be safely
    removed.
    
    Signed-off-by: Gabriel A. Devenyi <ace@staticwave.ca>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55e64b3003f03355d8e950af58d456b6314a5a62
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:34:59 2005 -0800

    [PATCH] ext2: remove the ancient CHANGES file
    
    This patch removes an ancient changelog file.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2860b733f114e088b56c20da6145902c16b79a44
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:34:59 2005 -0800

    [PATCH] remove CONFIG_EXT{2,3}_CHECK
    
    The CONFIG_EXT{2,3}_CHECK options where were never available, and all they
    did was to implement a subset of e2fsck in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ad74ffa90fb20b4132ae6e67e473f24621c6af2
Author: Jan Kara <jack@suse.cz>
Date:   Tue Nov 8 21:34:58 2005 -0800

    [PATCH] Fix return value in reiserfs allocator
    
    Make reiserfs correctly return EDQUOT when the allocation failed due to
    quotas (so far we just returned ENOSPC).
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41a34a4fe1d4478b1c8b6b6ea634ab1adb156885
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:34:57 2005 -0800

    [PATCH] fat: respect silent mount flag
    
    Pass down the silent flag to parse_options().  Without this fat gives
    warnings when mounting some non-fat rootfs with options.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33096b1e735b0a36c289ced394da7a25e94bc815
Author: Christoph Hellwig <hch@lst.de>
Date:   Tue Nov 8 21:34:56 2005 -0800

    [PATCH] hpfs: remove spurious mtime update
    
    Remove mtime update in hpfs_file_write, it's done in generic_file_write
    already.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 733482e445ca4450cf41381b1c95e2b8c7145114
Author: Olaf Hering <olh@suse.de>
Date:   Tue Nov 8 21:34:55 2005 -0800

    [PATCH] changing CONFIG_LOCALVERSION rebuilds too much, for no good reason
    
    This patch removes almost all inclusions of linux/version.h.  The 3
    #defines are unused in most of the touched files.
    
    A few drivers use the simple KERNEL_VERSION(a,b,c) macro, which is
    unfortunatly in linux/version.h.
    
    There are also lots of #ifdef for long obsolete kernels, this was not
    touched.  In a few places, the linux/version.h include was move to where
    the LINUX_VERSION_CODE was used.
    
    quilt vi `find * -type f -name "*.[ch]"|xargs grep -El '(UTS_RELEASE|LINUX_VERSION_CODE|KERNEL_VERSION|linux/version.h)'|grep -Ev '(/(boot|coda|drm)/|~$)'`
    
    search pattern:
    /UTS_RELEASE\|LINUX_VERSION_CODE\|KERNEL_VERSION\|linux\/\(utsname\|version\).h
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c1a0f5e3c01d28b6782457bee5ae5ace3a9958ec
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:54 2005 -0800

    [PATCH] kconfig: stricter error checking for .config
    
    Add some more checks during the parsing of .config, so that after parsing
    sym_change_count reflects the correct state whether the .config is correct and
    in sync with the Kconfig or if it needs saving.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a02f0570ae201c495ee991b959bb974af18f35cc
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:53 2005 -0800

    [PATCH] kconfig: improve error handling in the parser
    
    Add a few error tokens to the parser to catch common errors and print more
    descriptive error messages.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3370f9f0d9c7d14bf71aab27fa45c0537f130614
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:52 2005 -0800

    [PATCH] kconfig: simplify symbol type parsing
    
    This simplifies the parser a bit by merging the various symbol types into a
    single token and adds the type to the keyword hash.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a88488bbc231e48a4a88ee2569bc0cc5d706f0a
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:51 2005 -0800

    [PATCH] kconfig: use gperf for kconfig keywords
    
    Use gperf to generate a hash for the kconfig keywords.  This greatly reduces
    the size of the generated scanner and makes it easier to extend kconfig.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 491d711035dc08071ed58cf470f15efadb67cb1c
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:50 2005 -0800

    [PATCH] kconfig: update kconfig Makefile
    
    Remove the long obsolete zconf.tab.h and fix kconfig make rules to generate
    the correct output files.  Setting LKC_GENPARSER will now also update the
    shipped files.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4cf3cbe2a9682242cd38897914b1f2a95f1db7e4
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:49 2005 -0800

    [PATCH] kconfig: allow variable argumnts for range
    
    This allows variable arguments in the range option for int and hex config
    symbols.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90389160efc2864501ced6e662f9419eb7a3e6c8
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:49 2005 -0800

    [PATCH] kconfig: preset config during all*config
    
    Allow to force setting of config variables during all{no,mod,yes,random}config
    to a specific value.  For that conf first checks the KCONFIG_ALLCONFIG
    environment variable for a file name, otherwise it checks for
    all{no,mod,yes,random}.config and all.config.  The file is a normal config
    file, which presets the config variables, but they are still subject to normal
    dependency checks.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f23ca2b37d13a89bb6cd0421821fc9c3b8ccd47
Author: Roman Zippel <zippel@linux-m68k.org>
Date:   Tue Nov 8 21:34:48 2005 -0800

    [PATCH] kconfig: fix restart for choice symbols
    
    The restart check whether new symbols became visible, didn't always work for
    choice symbols.  Even if a choice symbol itself isn't changable, the childs
    are.  This also requires to update the new status of all choice values, once
    one of them is set.
    
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f04e7ddf47a1c821dfaa886161d94774af583fa
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Nov 8 21:34:46 2005 -0800

    [PATCH] kconfig: Fix Kconfig performance bug
    
    When doing its recursive dependency check, scripts/kconfig/conf uses the flag
    SYMBOL_CHECK_DONE to avoid rechecking a symbol it has already checked.
    However, that flag is only set at the top level, so if a symbol is first
    encountered as a dependency of another symbol it will be rechecked every time
    it is encountered until it's encountered at the top level.
    
    This patch adjusts the flag setting so that each symbol will only be checked
    once, regardless of whether it is first encountered at the top level, or while
    recursing down from another symbol.  On complex configurations, this vastly
    speeds up scripts/kconfig/conf.  The config in the powerpc merge tree is
    particularly bad: this patch reduces the time for 'scripts/kconfig/conf -o
    arch/powerpc/Kconfig' by a factor of 40 on a G5.  That's even including the
    time to print the config, so the speedup in the actual checking is more likely
    2 or 3 orders of magnitude.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Roman Zippel <zippel@linux-m68k.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cecd1ca0cbd6fc5873e9bb110dacb8411be72928
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:34:45 2005 -0800

    [PATCH] schedule obsolete OSS drivers for removal
    
    This patch schedules obsolete OSS drivers (with ALSA drivers that support
    the same hardware) for removal.
    
    Scheduling the via82cxxx driver for removal was ACK'ed by Jeff Garzik.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88baf3e85af72f606363a85e9a60e9e61cc64a6c
Author: Jon Masters <jonathan@jonmasters.org>
Date:   Tue Nov 8 21:34:43 2005 -0800

    [PATCH] fix floppy.c to store correct ro/rw status in underlying gendisk
    
    Evgeny Stambulchik found that doing the following always worked:
    
    # mount /dev/fd0 /mnt/floppy/
    mount: block device /dev/fd0 is write-protected, mounting read-only
    # mount -o remount,rw /mnt/floppy
    # echo $?
    0
    
    This is the case because the block device /dev/fd0 is writeable but the
    floppy disk is marked protected.  A fix is to simply have floppy_open mark
    the underlying gendisk policy according to reality (since the VFS doesn't
    provide a way for do_remount_sb to inquire as to the current device
    status).
    
    Signed-off-by: Jon Masters <jcm@jonmasters.org>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4448aaf0faafff3f275d15937c28b6346760e028
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 21:34:42 2005 -0800

    [PATCH] s390: "extern inline" -> "static inline"
    
    "extern inline" -> "static inline"
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0fbeb5a45dccd493c35a68a5548e6a9d9882a791
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Tue Nov 8 21:34:41 2005 -0800

    [PATCH] swsusp: rework swsusp_suspend
    
    This patch makes only the functions in swsusp.c call functions in snapshot.c
    and not both ways.  It also moves the check for available swap out of
    swsusp_suspend() which is necessary for separating the swap-handling functions
    in swsusp from the core code.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Cc: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed14b52701e6ef5a5aaf7bdb75932d5ea5dd7387
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Tue Nov 8 21:34:40 2005 -0800

    [PATCH] swsusp: simplify pagedir relocation
    
    This patch simplifies the relocation of the page backup list (aka pagedir)
    during resume.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Cc: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 054bd4c18853f3a3851bd97aa90e11022a69dc42
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Tue Nov 8 21:34:39 2005 -0800

    [PATCH] swsusp: reduce code duplication
    
    The changes made by this patch are necessary for the pagedir relocation
    simplification in the next patch.  Additionally, these changes allow us to
    drop check_pagedir() and make get_safe_page() be a one-line wrapper around
    alloc_image_page() (get_safe_page() goes to snapshot.c, because
    alloc_image_page() is static and it does not make sense to export it).
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Cc: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a31751e04ea738acc8042e5aa1a825901aa7b97f
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Tue Nov 8 21:34:38 2005 -0800

    [PATCH] ppc32: fix perf_irq extern on e500
    
    Fixes e500 build and cleans up traps.c by moving perf_irq extern to
    pmc.h.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78b331213ec738ee4c1218034d6eec17293b3aed
Author: Kumar Gala <galak@kernel.crashing.org>
Date:   Tue Nov 8 21:34:37 2005 -0800

    [PATCH] ppc32: Update MPC834x platform to work with new phylib
    
    MPC834x uses the gianfar network driver which now uses the new phylib.  We
    need to update the platform code to create a gianfar platform MDIO bus and
    pass the right intializations to the gianfar driver to make things work
    again.
    
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 143dcec2f7123b630b9e2c01c31b01a383dc15ff
Author: Olaf Hering <olh@suse.de>
Date:   Tue Nov 8 21:34:36 2005 -0800

    [PATCH] ppc64: add MODALIAS= for vio bus
    
    A non-broken udev would autoload also the drivers for devices on the
    pseries vio bus, like ibmveth, ibmvscsic and hvsc.  This is similar to pci,
    usb and ieee1394:
    
     /lib/modules/`uname -r`/modules.alias
    alias vio:TvscsiSIBM,v-scsi* ibmvscsic
    alias vio:TnetworkSIBM,l-lan* ibmveth
    alias vio:Tserial-serverShvterm2* hvcs
    
    /events/debug.00004.pci.add.1394:MODALIAS='pci:v00001014d00000188sv00000000sd00000000bc06sc04i0f'
    /events/debug.00005.pci.add.1509:MODALIAS='pci:v00008086d00001229sv00001014sd000001FFbc02sc00i00'
    /events/debug.00026.vio.add.1519:MODALIAS='vio:TserialShvterm1'
    /events/debug.00027.vio.add.1446:MODALIAS='vio:TvscsiSIBM,v-scsi'
    /events/debug.00028.vio.add.1451:MODALIAS='vio:TnetworkSIBM,l-lan'
    
     modprobe -v vio:TnetworkSIBM,l-lan
    insmod /lib/modules/2.6.14-20051030_vio-ppc64/kernel/drivers/net/ibmveth.ko
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8827cc706861070f8a3a9e839b96e40231b16ce0
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Tue Nov 8 21:34:35 2005 -0800

    [PATCH] ppc32: Fix STx GP3 build
    
    Add missing include file to fix STx GP3 build.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c099af7622c8e032edcfdc057cde1015761adeac
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Tue Nov 8 21:34:34 2005 -0800

    [PATCH] ppc32: Fix RapidIO build on 85xx
    
    Fixes mismerged Makefile that prevented the ppc85xx rapidio support from being
    built.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce9982d048bb498c38ec1fe2ae59a44350882f3f
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Tue Nov 8 21:34:33 2005 -0800

    [PATCH] selinux: extend selinuxfs context interface
    
    This patch extends the selinuxfs context interface to allow return the
    canonical form of the context to userspace.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 25a74f3ba8efb394e9a30d6de37566bf03fd3de8
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Tue Nov 8 21:34:33 2005 -0800

    [PATCH] selinux: disable setxattr on mountpoint labeled filesystems
    
    This patch disables the setting of SELinux xattrs on files created in
    filesystems labeled via mountpoint labeling (mounted with the context=
    option).  selinux_inode_setxattr already prevents explicit setxattr from
    userspace on such filesystems, so this provides consistent behavior for
    file creation.
    
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e517a0cd859ae0c4d9451107113fc2b076456f8f
Author: Stephen Smalley <sds@tycho.nsa.gov>
Date:   Tue Nov 8 21:34:32 2005 -0800

    [PATCH] selinux: MLS compatibility
    
    This patch enables files created on a MLS-enabled SELinux system to be
    accessible on a non-MLS SELinux system, by skipping the MLS component of
    the security context in the non-MLS case.
    
    Signed-off-by:  Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by:  James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d34d7ae266b23932809c43f115fda71fc5e5fcb1
Author: Dave Airlie <airlied@linux.ie>
Date:   Tue Nov 8 21:34:31 2005 -0800

    [PATCH] drm fixup pci gart settings
    
    Fix the PCIGART increment and add a cpu_to_le32 for ppc (untested)
    
    Paulus was unsure if we need to cpu_to_le32 but the old code was definitely
    wrong, so make it consistent and let the PPC guys figure it out later.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>
    Cc: Paul Mackerras <paulus@samba.org>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 969e9afd489514252a680914c6d8b9322c713eb4
Author: Pavel Machek <pavel@ucw.cz>
Date:   Tue Nov 8 21:34:30 2005 -0800

    [PATCH] sleep: Fix oops in enter_state
    
    If ACPI sleep is not configured, but someone still wants to run swsusp,
    he'd get oops in enter_state.  This is regression since 2.6.14 and this
    fixes it.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08de1f0461ad40136e7373cf85e2f3c221a9ad9a
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Tue Nov 8 21:34:29 2005 -0800

    [PATCH] Input: fix 'uniq' reporting in hotplug handler
    
    Input: fix 'uniq' reporting in hotplug handler
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 015953d706b1b7ad61c37fe329042828a0f3b0f6
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 21:34:28 2005 -0800

    [PATCH] mtd: onenand_base needs sched.h
    
    drivers/mtd/onenand/onenand_base.c: In function `onenand_wait':
    drivers/mtd/onenand/onenand_base.c:293: error: `jiffies' undeclared (first use in this function)
    drivers/mtd/onenand/onenand_base.c:293: error: (Each undeclared identifier is reported only once
    drivers/mtd/onenand/onenand_base.c:293: error: for each function it appears in.)
    drivers/mtd/onenand/onenand_base.c:293: error: implicit declaration of function `msecs_to_jiffies'
    drivers/mtd/onenand/onenand_base.c:294: error: implicit declaration of function `time_before'
    drivers/mtd/onenand/onenand_base.c:301: error: implicit declaration of function `cond_resched'
    drivers/mtd/onenand/onenand_base.c: In function `onenand_get_device':
    drivers/mtd/onenand/onenand_base.c:522: error: implicit declaration of function `set_current_state'
    drivers/mtd/onenand/onenand_base.c:522: error: `TASK_UNINTERRUPTIBLE' undeclared (first use in this function)
    drivers/mtd/onenand/onenand_base.c:525: error: implicit declaration of function `schedule'
    drivers/mtd/onenand/onenand_base.c: In function `onenand_release_device':
    drivers/mtd/onenand/onenand_base.c:545: error: `TASK_UNINTERRUPTIBLE' undeclared (first use in this function)
    drivers/mtd/onenand/onenand_base.c:545: error: `TASK_INTERRUPTIBLE' undeclared (first use in this function)
    
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b80b5832ffc03cb5e2af9bb12c04836190a74481
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 21:34:27 2005 -0800

    [PATCH] mtd: rfd_ftl build fix
    
    drivers/mtd/rfd_ftl.c: In function `find_free_block':
    drivers/mtd/rfd_ftl.c:528: error: `jiffies' undeclared (first use in this function)
    drivers/mtd/rfd_ftl.c:528: error: (Each undeclared identifier is reported only once
    drivers/mtd/rfd_ftl.c:528: error: for each function it appears in.)
    
    Cc: Thomas Gleixner <tglx@linutronix.de>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 409ef74a1558f4550de677957d1d136f1e5b03b3
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 21:34:26 2005 -0800

    [PATCH] vx_hwdep.c needs vmalloc.h
    
    sound/drivers/vx/vx_hwdep.c: In function `free_fw':
    sound/drivers/vx/vx_hwdep.c:144: error: implicit declaration of function `vfree'
    sound/drivers/vx/vx_hwdep.c: In function `vx_hwdep_dsp_load':
    sound/drivers/vx/vx_hwdep.c:163: error: implicit declaration of function `vmalloc'
    
    Cc: Jaroslav Kysela <perex@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3aef1bde147a503aacb59b767826720a996aea6d
Author: Anton Blanchard <anton@samba.org>
Date:   Tue Nov 8 21:34:25 2005 -0800

    [PATCH] quieten softlockup at boot
    
    On a large SMP box we get a lot of softlockup thread XX started lines.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90d45d17f3e68608ac7ba8fc3d7acce022a19c8e
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Tue Nov 8 21:34:24 2005 -0800

    [PATCH] cpu hotplug: fix locking in cpufreq drivers
    
    When calling target drivers to set frequency, we take cpucontrol lock.
    When we modified the code to accomodate CPU hotplug, there was an attempt
    to take a double lock of cpucontrol leading to a deadlock.  Since the
    current thread context is already holding the cpucontrol lock, we dont need
    to make another attempt to acquire it.
    
    Now we leave a trace in current->flags indicating current thread already is
    under cpucontrol lock held, so we dont attempt to do this another time.
    
    Thanks to Andrew Morton for the beating:-)
    
    From: Brice Goglin <Brice.Goglin@ens-lyon.org>
    
      Build fix
    
    (akpm: this patch is still unpleasant.  Ashok continues to look for a cleaner
    solution, doesn't he?  ;))
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Brice Goglin <Brice.Goglin@ens-lyon.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 861e37ad5969f764574722f4cfc0734511cbac7f
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Wed Nov 9 15:15:10 2005 +0000

    [ARM] 3057/1: Add memory control method to support OneNAND sync burst read
    
    Patch from Kyungmin Park
    
    This patch is required for OneNAND MTD to passing the OneNAND sync. burst read
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 59d1ff3bfb56d9b8cf3ec864857e6a4dfd9d2dba
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 15:04:22 2005 +0000

    [ARM] Clean up save_and_disable_irqs macro and allow use of ARMv6 CPSID
    
    save_and_disable_irqs does not need to use mov + msr (which was
    introduced to work around a documentation bug which was propagated
    into binutils.)  Use msr with an immediate constant, and if we're
    building for ARMv6 or later, use the new CPSID instruction.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit be6eb9b79f99e652a0827a475c4daa02ecef221f
Merge: c906107... 97a63ec...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 14:57:32 2005 +0000

    Merge with ARM SMP tree

commit c0ed79a331caa68ac027dd6afc02bb5b58ef2798
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Tue Nov 8 09:21:07 2005 -0500

    [SCSI] sd: fix issue_flush
    
    sd_issue_flush() is called from atomic context so we can't use the
    semaphore based routines to get a reference to the scsi_disk.  Assume
    something else already got the reference so we can safely use it.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c906107bb72b7bd5ecfc98cc807bdb8f34d17501
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Nov 9 14:09:31 2005 +0000

    [ARM] 3100/1: simplify a pointer computation
    
    Patch from Nicolas Pitre
    
    Looks clearer this way.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cbe69f95fa7ffc4604622cd4f7efd56ed10999fe
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Nov 9 14:05:31 2005 +0000

    [ARM] 3138/1: SMDK2440 - fix map_desc initialisation (and ISA memory space)
    
    Patch from Ben Dooks
    
    Fix the map_desc initialisers for the SMDK2440 machine
    to use the new .pfn method, and at the same time making
    the differntiation between ISA IO and Memory space
    accesses
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ff6ffa82fe122ecda457bb10dbab7b0c08ee3803
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Nov 9 14:05:31 2005 +0000

    [ARM] 3137/1: RX3715 - fix map_desc initialiser
    
    Patch from Ben Dooks
    
    Change the initialiser for the map_desc for the
    iPAQ RX3715 to use the new pfn initialiser, and
    also reduce the amount of ISA space mapped (we
    only need to stop any ISA IO writes OOPsing
    the system, so do not need >1Mbyte of space)
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8dd523118bfbcaca5b67923ff6ee546e04a4db64
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Nov 9 14:05:30 2005 +0000

    [ARM] 3136/1: Anubis - fix map_desc initialisers
    
    Patch from Ben Dooks
    
    Fix the map_desc initialisers for the Simtec Anubis
    board to match the new initialiser scheme.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 97a63ecff4bd06da5d8feb8c0394a4d020f2d34d
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 13:50:57 2005 +0000

    [ARM SMP] Add CPU hotplug support for Realview MPcore
    
    Add platform specific parts for hotplug CPU support for the
    Realview board.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2a98beb6390aef8fad85103ea25b3b1ace8015b5
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 9 10:50:29 2005 +0000

    [ARM SMP] Add local timer support for Realview MPcore
    
    Add platform specific parts for local timer support for the
    Realview board.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 756e7104fefc82e3ebaa5f1da5ba6659c9c1cae5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 9 18:07:45 2005 +1100

    powerpc: merge irq.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f406db8cba6bbce42b96490e6d31bdec229ad994
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 19:10:24 2005 +0000

    [PATCH] IOC: And don't mark the things as broken Cowboy.
    
    And don't mark the things as broken Cowboy.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 385023cb8972971540d17c92baf0132693955f5f
Author: Ashutosh Naik <ashutosh.naik@gmail.com>
Date:   Sun Nov 6 23:43:22 2005 -0800

    [PATCH] dgrs: fix warnings when CONFIG_ISA and CONFIG_PCI are not enabled
    
    This patch fixes compiler warnings when CONFIG_ISA and CONFIG_PCI are not
    enabled in the dgrc network driver.
    
    Signed-off-by: Ashutosh Naik <ashutosh.naik@gmail.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7c3983357fdaef3ae71a0d7081a4b6dcfd869d39
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Wed Nov 9 13:03:30 2005 +0800

    [PATCH] libata: if condition fix for ata_dev_identify()
    
      - if condition fix for ata_dev_identify()
      - ata_pio_poll() minor cleanup.
    
    Changes:
       - Use (dev->class == ATA_DEV_ATA) for ata_dev_identify()
         since "qc->tf.command" has been overwritten by the device status
       - Use HSM_ST_TMOUT directly in ata_pio_poll()
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8e8b77dd4846b73f2e0756cf59123ee709246d11
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Tue Nov 1 21:29:27 2005 -0800

    [PATCH] libata kernel-doc fixes
    
    Fix all reported kernel-doc errors in libata.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6d3874844f3279f170dca5339b8a94d6f1868425
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 06:21:21 2005 +0100

    [PATCH] uml_net: use ethtool_ops
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d3757472841cddfa2f905d1de76fabf1b98cfc1a
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 06:20:36 2005 +0100

    [PATCH] xtensa platform-iss network: remove no-op ioctl handler
    
    If the driver ever wants to add ethtool support it should use
    ethtool_ops.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 76f2b4d98c3d6a88a260275acbede99c23a24d60
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 06:18:57 2005 +0100

    [PATCH] cris v10 eth: use ethtool_ops
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a892acacd3a8546ac161526522f13b5174f2c471
Merge: 193515d... 330d57f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 9 01:07:12 2005 -0500

    Merge branch 'master'

commit eac1dfcb32fbe8b0d9135caea90b0bba9945360f
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Tue Nov 8 23:38:01 2005 +0100

    [PATCH] b44: increase version number
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ba5eec9c55ec4be99d21a6ea614003b65d7f37d7
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Tue Nov 8 23:37:12 2005 +0100

    [PATCH] b44: race on device closing
    
    Usual fix:
    - b44_interrupt() does not schedule NAPI polling when the device is
      going down;
    - b44_close() waits for any scheduled NAPI polling before it starts
      to release the private structures of the device.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b9dcbb40f40d60c7e33a2b7ea858fcd27c35cc00
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Tue Nov 8 23:36:20 2005 +0100

    [PATCH] b44: replace B44_FLAG_INIT_COMPLETE with netif_running()
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e3305626e0985faa8796f1f4e5a99c1f40bfa70e
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Nov 9 01:01:04 2005 -0500

    ieee80211: cleanup crypto list handling, other minor cleanups.

commit c2a8fad43376b2567087358a9cc46844f742342e
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 9 00:49:38 2005 -0500

    [wireless ipw2100] kill unused-var warnings for debug-disabled code

commit eedb9f09e92598c165de37a8c210434d270ca3a6
Merge: f24e097... 826d2ab...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 9 00:47:08 2005 -0500

    Merge rsync://bughost.org/repos/ipw-delta/

commit d4be4f37d9d2a5afc8e79a95beafbac4b83f20c5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 9 16:19:53 2005 +1100

    ppc64: remove ppc_irq_dispatch_handler
    
    Use __do_IRQ instead.  The only difference is that every controller
    is now assumed to have an end() routine (only xics_8259 did not).
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f24e09754bcb4d367664ea635c0c4ccde6ec4df5
Merge: d7eaee0... d7e02ed...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Nov 9 00:00:29 2005 -0500

    Merge rsync://bughost.org/repos/ieee80211-delta/

commit d7eaee087a8cb850ed33ee39a3e2a0f02ecff44c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:46 2005 -0800

    [PATCH] skge: increase version number
    
    Increase the driver version number and print version when
    probing.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8f3f8193a49e1eb0d2e01309fdef2ad4fb33293c
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:45 2005 -0800

    [PATCH] skge: spelling fixes
    
    Fix some of my bad spelling.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1631aef15193ef8a199982fa3d45db4d07786d7f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:44 2005 -0800

    [PATCH] skge: use prefetch on receive
    
    Use prefetch() in the interrupt path to try and look ahead
    at the next place will be looking at in the ring.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 355ec57243574c439a4b731fc83af6165ec2f1ec
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:43 2005 -0800

    [PATCH] skge: goto low power mode on shutdown
    
    Go into power down mode on shutdown.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2cd8e5d36584653c62a6fdf0e7d9fbde5022b5d6
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:42 2005 -0800

    [PATCH] skge: add mii ioctl support
    
    Basic MII ioctl support for skge driver.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7e86306113ca9e418e49ff1c7c0984f8ffe8cf61
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:41 2005 -0800

    [PATCH] skge: use kzalloc
    
    Can use kzalloc in skge driver.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit adba9e23b4066f1d741a2076fc6ad18b6c0cea44
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 10:33:40 2005 -0800

    [PATCH] skge: clear PCI PHY COMA mode on boot
    
    When skge is booted up, the PHY may be stuck in power down state
    by the previous OS. So we may need to turn it on.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5a7b3ff4670be3330842558dc5ae46ec3fc448e5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 9 15:07:16 2005 +1100

    ppc64: allow iSeries to use IRQSTACKS again
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit b709c0832824da20a32a3119911b9f0cf6970452
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 9 13:28:33 2005 +1100

    ppc64: move stack switching up in interrupt processing
    
    This will make the ppc64 multiplatform irq handling more like
    the generic handling.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 330d57fb98a916fa8e1363846540dd420e99499a
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Nov 4 10:18:40 2005 +0000

    [PATCH] Fix sysctl unregistration oops (CVE-2005-2709)
    
    You could open the /proc/sys/net/ipv4/conf/<if>/<whatever> file, then
    wait for interface to go away, try to grab as much memory as possible in
    hope to hit the (kfreed) ctl_table.  Then fill it with pointers to your
    function.  Then do read from file you've opened and if you are lucky,
    you'll get it called as ->proc_handler() in kernel mode.
    
    So this is at least an Oops and possibly more.  It does depend on an
    interface going away though, so less of a security risk than it would
    otherwise be.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66ba135c5a398df5c3a4b43d84d9df80cbc87c61
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 9 11:01:06 2005 +1100

    powerpc: create kernel/setup.h
    
    for functions defined by setup-common.c and used in setup_xx.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 8546df6f357dadf1989ad8da9309c9524fd56cdf
Merge: 9f04012... 15a9380...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 8 16:04:39 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 9f04012c58a32756bbbd0239c4144e835048aa4d
Merge: 329f7db... 72274c9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 8 15:15:31 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 15a93807826a5cbffb47d6bfbeeee108d6da1dbc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Nov 8 23:10:51 2005 +0000

    [SERIAL] IOC3: Update 8250 driver bits
    
    Update the support for the 16550 present on most IOC3 configurations to use
    the current API.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 72274c9e24d58d09489d37e732545e52395da270
Merge: 5285eb5... 37ee16a...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 22:43:44 2005 +0000

    Merge with ARM SMP tree

commit 5285eb57c9a20d8df2569c770ff6048c3202cc91
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Nov 8 22:43:06 2005 +0000

    [ARM] 3135/1: harden SA11x0 and PXA2xx timer init code
    
    Patch from Nicolas Pitre
    
    Make it completely deterministic and leave nothing to chance
    (even if it had at worst 0.001% probability of failing).
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d07ad967e3c1cb955c4f9ee6a4eba4e6e1edb1e8
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Nov 8 22:43:05 2005 +0000

    [ARM] 3134/1: add missing EXPORT_SYMBOL for the ARM  version of sha_transform
    
    Patch from Nicolas Pitre
    
    Noticed by Woody Suwalski <woodys@xandros.com>.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f8c905d368c757e2c96db293a472a31abcf4b147
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 8 22:43:05 2005 +0000

    [ARM] 3132/1: S3C2410 - reset on decompression error
    
    Patch from Ben Dooks
    
    Force a watchdog reset if the system fails to
    decompress properly.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 49ebd7c6bb1f70a6c5465925e6ca2f4a32d6a6cd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Nov 6 23:35:35 2005 -0800

    [PATCH] i460-agp warning fixes
    
    drivers/char/agp/i460-agp.c: In function `i460_fetch_size':
    drivers/char/agp/i460-agp.c:115: warning: size_t format, long unsigned int arg (arg 2)
    drivers/char/agp/i460-agp.c:115: warning: size_t format, long unsigned int arg (arg 3)
    drivers/char/agp/i460-agp.c: In function `i460_mask_memory':
    drivers/char/agp/i460-agp.c:542: warning: integer constant is too large for "long" type
    
    Note that the i460_mask_memory() change is a guess.  But a good one, I suspect.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit 88d51967f56f55a45849efe50858ea7dfa0d38dc
Author: Alan Hourihane <alanh@fairlite.demon.co.uk>
Date:   Sun Nov 6 23:35:34 2005 -0800

    [PATCH] AGP performance fixes
    
    AGP allocation/deallocation is suffering major performance issues due to
    the nature of global_flush_tlb() being called on every change_page_attr()
    call.
    
    For small allocations this isn't really seen, but when you start allocating
    50000 pages of AGP space, for say, texture memory, then things can take
    seconds to complete.
    
    In some cases the situation is doubled or even quadrupled in the time due
    to SMP, or a deallocation, then a new reallocation.  I've had a case of
    upto 20 seconds wait time to deallocate and reallocate AGP space.
    
    This patch fixes the problem by making it the caller's responsibility to
    call global_flush_tlb(), and so removes it from every instance of mapping a
    page into AGP space until the time that all change_page_attr() changes are
    done.
    
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit 2ef8919830a262f10fb5e4a685e95f71a64bce6c
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Nov 8 15:51:55 2005 -0500

    [SCSI] Fix refcount leak in scsi_report_lun_scan
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 34ea80ec6a02ad02e6b9c75c478c18e5880d6713
Author: goggin, edward <egoggin@emc.com>
Date:   Tue Nov 8 15:02:23 2005 -0500

    [SCSI] fix usb storage oops
    
    The problem is that scsi_run_queue is called from scsi_next_command()
    after doing a scsi_put_command.  If the command was the only thing
    holding the reference on the scsi_device then the resulting device put
    will tear down the block queue.  Fix this by taking a reference to the
    device and holding it around scsi_run_queue()
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 329f7dba5f7dc3bc9a30ad00cf373d2e83115aa1
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Mon Nov 7 21:12:43 2005 +0300

    [PATCH] fix de_thread() vs send_group_sigqueue() race
    
    When non-leader thread does exec, de_thread calls release_task(leader) before
    calling exit_itimers(). If local timer interrupt happens in between, it can
    oops in send_group_sigqueue() while taking ->sighand->siglock == NULL.
    
    However, we can't change send_group_sigqueue() to check p->signal != NULL,
    because sys_timer_create() does get_task_struct() only in SIGEV_THREAD_ID
    case. So it is possible that this task_struct was already freed and we can't
    trust p->signal.
    
    This patch changes de_thread() so that leader released after exit_itimers()
    call.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Chris Wright <chrisw@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c18ad20493c9eac6e7d0c2a05156acfc02d9b6b
Author: Dirk Opfer <dirk@opfer-online.de>
Date:   Tue Nov 8 19:15:50 2005 +0000

    [ARM] 3124/1: Sharp SL-6000x: SharpSL PCMCIA Updates
    
    Patch from Dirk Opfer
    
    This patch updates the tosa machine to use the new SharpSL PCMCIA layer introduced with Patch #3093/1
    
    Depends on #3093/1
    
    Signed-off-by: Dirk Opfer <Dirk@Opfer-Online.de>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a63ae4427c6af66d6eda26e5da8fed53f8fbede3
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Tue Nov 8 19:15:43 2005 +0000

    [ARM] 3093/1: SharpSL PCMCIA Updates for Cxx00 models
    
    Patch from Richard Purdie
    
    The Sharp SL-Cxx00 models have a combined power control for the SD
    and CF slot 0. This patch adds hooks to the scoop driver to allow
    machines to provide a custom control function for this and such a
    function is added for spitz/akita/borzoi.
    
    It also moves the gpio init code into the machine files as this
    is machine dependent and differs between some models. A couple of
    warnings when compiling for collie are also fixed.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1d23b65de54c35844e82bdb08bc85d8142e310ea
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 8 19:15:31 2005 +0000

    [ARM] 3126/1: BAST: fix map_desc initialisation
    
    Patch from Ben Dooks
    
    Fix the map_desc entries to use the new .pfn
    initialiser for the Simtec BAST machine support.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit df1ec6deeb18097ae670bf6d001b6e95c8332640
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 8 19:15:30 2005 +0000

    [ARM] 3125/2: VR1000: Fix map_decs initialiser
    
    Patch from Ben Dooks
    
    Fix the initialisation of the map_desc fields
    in the Thorcom VR1000 machine support to use
    the new .pfn initialiser.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a93876c16275376c4f9f1630ce24036d329fa7a0
Author: Dirk Opfer <dirk@opfer-online.de>
Date:   Tue Nov 8 19:15:30 2005 +0000

    [ARM] 3123/1: Sharp SL-6000x: Add IRDA, MMC, UDC and keyboard device
    
    Patch from Dirk Opfer
    
    This patch adds MMC, IRDA and UDC support to the Sharp SL-6000x device. Also it adds a platform device for the keyboard driver.
    
    Signed-off-by: Dirk Opfer <dirk@opfer-online.de>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 37ee16ae93a3e4ae7dd51beb81d249f5f12a55c2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 19:08:05 2005 +0000

    [ARM SMP] Add core ARM support for local timers
    
    Add infrastructure for supporting per-cpu local timers to update
    the profiling information and update system time accounting.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a52e8381c430896d3bd6065a34fda99cb5c74c82
Merge: be9d122... da16054...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 8 10:23:00 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit 4f41d5a4e665d05b4e74eef164469b7d81932ef1
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Mon Nov 7 15:13:59 2005 -0700

    [IA64] add the MMIO regions that are translated to I/O port space to /proc/iomem
    
    ia64 translates normal loads and stores to special MMIO regions into I/O port
    accesses.  Reserve these special MMIO regions in /proc/iomem.
    
    Sample /proc/iomem:
        f8100000000-f81003fffff : PCI Bus 0000:80 I/O Ports 00000000-00000fff
        f8100400000-f81007fffff : PCI Bus 0000:8e I/O Ports 00001000-00001fff
        f8100800000-f8100ffffff : PCI Bus 0000:9c I/O Ports 00002000-00003fff
        f8101000000-f81017fffff : PCI Bus 0000:aa I/O Ports 00004000-00005fff
    
    and corresponding /proc/ioports:
        00000000-00000fff : PCI Bus 0000:80
        00001000-00001fff : PCI Bus 0000:8e
        00002000-00003fff : PCI Bus 0000:9c
        00004000-00005fff : PCI Bus 0000:aa
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 6fb93a92ec2a012fa525499c330522bbb8c18d80
Author: Mark Maule <maule@sgi.com>
Date:   Mon Nov 7 15:48:50 2005 -0600

    [IA64] altix: misc pci interrupt related fixes
    
    Fix a couple of altix interrupt related bugs.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit cbb921443424fb8019e52bae83e442d01f7715ef
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Nov 4 16:58:28 2005 -0600

    [IA64] MCA recovery: Bump reference count on bad pages
    
    When a page has a memory uncorrectable ECC error, the recovery
    code wants to prevent the page from being reused.  This change
    bumps the reference count to prevent the page from getting back
    on the free list.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 56f87b82171245a81a5dbac5e703d3941d80da49
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Nov 4 13:57:00 2005 -0600

    [IA64] MCA recovery: pfn_valid() needs a pfn
    
    paddr needs to be shifted by PAGE_SHIFT to be valid
    input for pfn_valid().
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a14f25a076a8e5040d6f4e93f84034c81bcddbf7
Author: Russ Anderson <rja@efs.americas.sgi.com>
Date:   Fri Nov 4 13:39:38 2005 -0600

    [IA64] MCA recovery based on PSP bits
    
    The determination of whether an MCA is recoverable or not must
    be based on the bits set in the PSP (Processor State Parameter).
    The specific bits are shown in the Intel IA-64 Architecture Software
    Developer's Manual, Vol 2, Table 11-6 Software Recovery Bits in
    Processor State Parameter.  Those bits should be consistent
    across the entire IA-64 family of processors.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit da1605465ebdb9dc25296a354394086cd559c243
Author: Hugh Dickins <hugh@veritas.com>
Date:   Tue Nov 8 10:00:55 2005 -0800

    [SPARC64] mm: update get_user_insn comment
    
    Update comment on get_user_insn to the more general "pte lock", which may
    or may not be the page_table_lock.  Note vmtruncate handled like kswapd.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d5a858bc148fe97996af9cf685cc124b70519adf
Author: David S. Miller <davem@sunset.davemloft.net>
Date:   Tue Nov 8 10:00:13 2005 -0800

    [SPARC]: Missing compat_ioctl hookup in openprom driver.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit cf20d1eafb648bf395b153cbcd0cde40f88c220a
Author: David Mosberger-Tang <davidm@mostang.com>
Date:   Wed Nov 2 22:40:19 2005 -0800

    [IA64] align signal-frame even when not using alternate signal-stack
    
    At the moment, attempting to invoke a signal-handler on the normal
    stack is guaranteed to fail if the stack-pointer happens not to be
    16-byte aligned.  This is because the signal-trampoline will attempt
    to store fp-regs with stf.spill instructions, which will trap for
    misaligned addresses.  This isn't terribly useful behavior.  It's
    better to just always align the signal frame to the next lower 16-byte
    boundary.
    
    Signed-off-by: David Mosberger-Tang <David.Mosberger@acm.org>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit be9d122730c878baafe11e70d1436faac229f2fc
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Nov 8 09:57:38 2005 -0800

    [Bluetooth]: Remove the usage of /proc completely
    
    This patch removes all relics of the /proc usage from the Bluetooth
    subsystem core and its upper layers. All the previous information are
    now available via /sys/class/bluetooth through appropriate functions.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1ebb92521d0bc2d4ef772730d29333c06b807191
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Nov 8 09:57:21 2005 -0800

    [Bluetooth]: Add endian annotations to the core
    
    This patch adds the endian annotations to the Bluetooth core.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 7ef934b3b73f74aea23aa0e98affe86d7ea816a3
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Tue Nov 8 09:57:05 2005 -0800

    [Bluetooth]: Add another ignore parameter to the HCI USB driver
    
    This patchs adds the module parameter ignore_dga to the HCI USB driver
    which makes it possible to prevent this driver from being loaded by
    some buggy Digianswer devices.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 97835245768a638002722a36ba9a3b76d0910f68
Author: Bob Picco <bob.picco@hp.com>
Date:   Sat Oct 29 17:23:05 2005 -0400

    [IA64] fix memory less node allocation
    
    The original memory less node allocation attempted to use NODEDATA_ALIGN for
    alignment.  The bootmem allocator only allows a power of two alignments. This
    causes a BUG_ON for some nodes. For cpu only nodes just allocate with a
    PERCPU_PAGE_SIZE alignment.
    
    Some older firmware reports SLIT distances of 0xff and results in bestnode
    not being computed. This is now treated correctly.
    
    The failed allocation check was removed because it's redundant.  The
    bootmem allocator already makes this check.
    
    This fix has been boot tested on 4 node machine which has 4 cpu only nodes
    and 1 memory node.  Thanks to Pete Keilty for reporting this and helping me
    test it.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 383f9749505cef0a30dbd7109db7fe469aa64753
Merge: f093182... 3da8b71...
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Tue Nov 8 12:50:26 2005 -0500

    Merge by hand (conflicts between pending drivers and kfree cleanups)
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 89f5f0aeed14ac7245f760b0b96c9269c87bcbbe
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Tue Nov 8 09:41:56 2005 -0800

    [IPV4]: Fix ip_queue_xmit identity increment for TSO packets
    
    When ip_queue_xmit calls ip_select_ident_more for IP identity selection
    it gives it the wrong packet count for TSO packets.  The ip_select_*
    functions expect one less than the number of packets, so we need to
    subtract one for TSO packets.
    
    This bug was diagnosed and fixed by Tom Young.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit a51482bde22f99c63fbbb57d5d46cc666384e379
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Tue Nov 8 09:41:34 2005 -0800

    [NET]: kfree cleanup
    
    From: Jesper Juhl <jesper.juhl@gmail.com>
    
    This is the net/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in net/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Arnaldo Carvalho de Melo <acme@conectiva.com.br>
    Acked-by: Marcel Holtmann <marcel@holtmann.org>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit ac7c98eca88a854755475fcfe1b2bf5f97f90d99
Author: Andrew Morton <akpm@osdl.org>
Date:   Tue Nov 8 09:41:13 2005 -0800

    [IRDA] donauboe: locking fix
    
    From: Andrew Morton <akpm@osdl.org>
    
    Two missing unlocks, as noted by Ted Unangst <tedu@coverity.com>
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b3f9b92a6ec1a9a5e4b4b36e484f2f62cc73277c
Author: Matt Domsch <Matt_Domsch@dell.com>
Date:   Tue Nov 8 09:40:47 2005 -0800

    [PPP]: add PPP MPPE encryption module
    
    From: Matt Domsch <Matt_Domsch@dell.com>
    
    The patch below implements the Microsoft Point-to-Point Encryption method
    as a PPP compressor/decompressor.  This is necessary for Linux clients and
    servers to interoperate with Microsoft Point-to-Point Tunneling Protocol
    (PPTP) servers (either Microsoft PPTP servers or the poptop project) which
    use MPPE to encrypt data when creating a VPN.
    
    This patch differs from the kernel_ppp_mppe DKMS pacakge at
    pptpclient.sourceforge.net by utilizing the kernel crypto routines rather
    than providing its own SHA1 and arcfour implementations.
    
    Minor changes to ppp_generic.c try to prevent a link from disabling
    compression (in our case, the encryption) after it has started using
    compression (encryption).
    
    Feedback to <pptpclient-devel@lists.sourceforge.net> please.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Cc: James Cameron <james.cameron@hp.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Brice Goglin <Brice.Goglin@ens-lyon.org>
    Acked-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 6722e78c90054101e6797d5944cdc81af9897a0a
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Tue Nov 8 09:40:26 2005 -0800

    [PPP]: handle misaligned accesses
    
    From: "Philippe De Muyter" <phdm@macqel.be>
    
    This patch avoids ppp-generated kernel crashes on machines where unaligned
    accesses are forbidden (ie: m68000), by fixing ppp alignment setting for
    reused skb's.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dc8103f25fd7cfac2c2b295f33edc10f255b4c80
Author: Julian Anastasov <ja@ssi.bg>
Date:   Tue Nov 8 09:40:05 2005 -0800

    [IPVS]: fix connection leak if expire_nodest_conn=1
    
    	There was a fix in 2.6.13 that changed the behaviour of
    ip_vs_conn_expire_now function not to put reference to connection,
    its callers should hold write lock or connection refcnt. But we
    forgot to convert one caller, when the real server for connection
    is unavailable caller should put the connection reference. It
    happens only when sysctl var expire_nodest_conn is set to 1 and
    such connections never expire. Thanks to Roberto Nibali who found
    the problem and tested a 2.4.32-rc2 patch, which is equal to this
    2.6 version. Patch for 2.4 is already sent to Marcelo.
    
    Signed-off-by: Julian Anastasov <ja@ssi.bg>
    Signed-off-by: Roberto Nibali <ratz@drugphish.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9ee6b535af4c2c97b4e3b88f37f244bf1004ebd4
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 8 09:39:42 2005 -0800

    [NET]: sk_add_backlog convert from macro to inline
    
    There is no reason for sk_add_backlog to be a macro. It can
    just be an inline function and get type checking.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b541ca2c5a3f3f399d6f2ec9da33c1be5a8d8c19
Author: Thomas Graf <tgraf@suug.ch>
Date:   Tue Nov 8 09:39:17 2005 -0800

    [PKT_SCHED]: Correctly handle empty ematch trees
    
    Fixes an invalid memory reference when the basic classifier
    is used without any ematches but just actions.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 18a0c23617a2cb1c2e55e650046c2084d823fde0
Author: Carlo Comin <vl4d@spine-group.org>
Date:   Tue Nov 8 09:38:56 2005 -0800

    [CONNECTOR]: Fix documentation test module.
    
    Patch from Carlo Comin <vl4d spine-group.org>
    
    Signed-off-by: Evgeniy Polyakov <johnpol@2ka.mipt.ru>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 072047e4de3800905e09d0f8ef0e1cc4e91a601e
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Tue Nov 8 09:38:30 2005 -0800

    [IPV6]: RFC3484 compliant source address selection
    
    Choose more appropriate source address; e.g.
     - outgoing interface
     - non-deprecated
     - scope
     - matching label
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b1cacb6820e0afc4aeeea67bcb5296a316862cad
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Tue Nov 8 09:38:12 2005 -0800

    [IPV6]: Make ipv6_addr_type() more generic so that we can use it for source address selection.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 971f359ddcb2e7a0d577479c7561bda407febe1b
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Tue Nov 8 09:37:56 2005 -0800

    [IPV6]: Put addr_diff() into common header for future use.
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b2d1a8adc9cf3bde32a18a1a1856641638a9c729
Author: Jim Cromie <jim.cromie@gmail.com>
Date:   Tue Nov 8 17:16:50 2005 +0100

    earlyuserspace/README: fix homonym err
    
    Signed-off-by: Jim Cromie <jim.cromie@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit f668ab1acc05fc3f525b97db613b2d1f99efd957
Author: Luben Tuikov <luben_tuikov@adaptec.com>
Date:   Tue Nov 8 17:14:08 2005 +0100

    include/linux: enclose idr.h in #ifndef
    
    This patch encloses the idr.h header file in
    #ifndef __IDR_H__ macro.
    
    Signed-off-by: Luben Tuikov <luben_tuikov@adaptec.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 9abdc4cd8a81a3c29e051eb12963757ac60bd440
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:57:02 2005 +0100

    fs/ioprio.c should #include <linux/syscalls.h>
    
    Every file should include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 9f56f743e8dcc470322c7efd5d307a32665ba05c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:56:17 2005 +0100

    fs/afs/callback.c should #include "cmservice.h"
    
    Every file should include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 1b33724a442b5e390ddc7507df3aeeb914915571
Author: Will Dyson <will.dyson@gmail.com>
Date:   Tue Nov 8 16:54:53 2005 +0100

    remove unused fs/befs/attribute.c
    
    If anyone needs a fully-functional befs driver, the easiest route to
    that would probably be getting Haiku's befs driver to compile in
    userland as a FUSE fs.
    
    At any rate, attribute.c can go. It is easy enough to add back in if
    anyone ever wants to do the (relativly minor) refactoring nessisary to
    get it working.
    
    Signed-off-by: Will Dyson <will.dyson@gmail.com>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit b88b09851f4553c13c532af2f822b517a40f2ed5
Author: James Nelson <james4765@gmail.com>
Date:   Tue Nov 8 16:52:12 2005 +0100

    floppy: relocate devfs comment
    
    Signed-off-by: James Nelson <james4765@gmail.com>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 848d5382496f670061eaf59844e039e22daba16f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:50:38 2005 +0100

    drivers/char/ftape/lowlevel/ftape-buffer.c should #include "../lowlevel/ftape-buffer.h"
    
    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 0fb2dae0a9d77d360ef09ccbcf1b45aa6384bd41
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:49:52 2005 +0100

    fs/reiserfs/hashes.c should #include <linux/reiserfs_fs.h>
    
    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit a70cf17c23e9967ca2e1ad19ab4ff59850ec936c
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:49:14 2005 +0100

    fs/partitions/ultrix.c should #include "ultrix.h"
    
    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 34c90b29fe1b0814f26316782b4f0c0a115444df
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:48:36 2005 +0100

    jffs_fm.c should #include "intrep.h"
    
    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 6e1e8e11c78859ea71e3de4c60d86a01d26c26e0
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:47:45 2005 +0100

    fs/freevxfs/: add #include's
    
    Every file should #include the headers containing the prototypes for
    it's global functions.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit 000404fafcafb4fa4eee23822b21afc08bd4dd39
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:46:12 2005 +0100

    MAINTAINERS: PKTCDVD DRIVER: remove entry for a subscribers-only list
    
    This patch was already ACK'ed by Peter Osterlund.

commit dc6f3f276e2b4cbc1563def8fb39373a45db84ac
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 8 16:44:08 2005 +0100

    mm/slab.c: fix a comment typo

commit 3b6353fae0d7ba772d7eb2651727332c9e9c74ac
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 15:35:23 2005 +0000

    [ARM] Declare asm entry points in asm/smp.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2c250134952aac06edbdce5e61f0bd8737dcf3ad
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 14:44:15 2005 +0000

    [ARM] More sparse fixes
    
    arch/arm/kernel/irq.c:998:26: warning: Using plain integer as NULL pointer
    arch/arm/kernel/smp.c:145:25: warning: Using plain integer as NULL pointer
    arch/arm/kernel/smp.c:362:5: warning: symbol 'smp_call_function_on_cpu' was not declared. Should it be static?
    drivers/video/amba-clcd.c:521:12: warning: symbol 'amba_clcdfb_init' was not declared. Should it be static?
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fca5dcd4835ed09bb1a48a355344aff7a25c76e0
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 22:55:08 2005 +1100

    powerpc: Simplify and clean up the xmon terminal I/O
    
    This factors out the common bits of arch/powerpc/xmon/start_*.c into
    a new nonstdio.c, and removes some stuff that was supposed to make
    xmon's I/O routines somewhat stdio-like but was never used.
    
    It also makes the parsing of the xmon= command line option common,
    so that ppc32 can now use xmon={off,on,early} also.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3825ac0ee66b50cb0208ee74796fe65f3040e67c
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 22:48:08 2005 +1100

    powerpc: Fix crash in early boot on some powermacs
    
    Some powermac machines were crashing in the quiesce firmware call
    in prom_init.c because we have just closed the OF stdin device;
    notably my 1999 G3 powerbook does this.  To avoid this, don't
    close the OF stdin device on powermacs.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5d43045bcd296f9f269ab266bf26cd667d8d560c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 10:44:46 2005 +0000

    [ARM SMP] Fix some sparse warnings in SMP code
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dbebb4cbe02dc811e21bd3bc40a252490e46b949
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Tue Nov 8 10:40:10 2005 +0000

    [ARM SMP] Add missing SMP timer handling for realview
    
    Until we have local timer support, we need to broadcast the
    timer interrupt to the other CPUs.  Also, add the missing
    smp_send_timer() prototype to asm/smp.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8750197f0e8f5467297d72e11444cf32f29d790f
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Oct 31 18:51:21 2005 +0100

    [PATCH] i2c-viapro: Some adjustments
    
    The big i2c-viapro SMBus driver update which went into 2.6.14-git1
    introduced a few minor issues. Nothing critical, but I would like a
    few adjustments to be merged in to fix the following problems:
    
    * VIA should not be spelled Via.
    * Frodo Looijaard and Philip Edelbrock did not write the i2c-viapro
      driver.
    * When debugging is disabled, half of messages would be logged.
    * Drop an unneeded masking.
    * Some port reads can be avoided now that the transaction size is
      passed as a parameter to vt596_transaction().
    * SMBus Receive Byte transactions are used for probing too (for
      EEPROMs), so hide errors on these too.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4a1c4447e523003019a2bf9b972ed6fe411e84d2
Author: Yuan Mu <Ymu@winbond.com.tw>
Date:   Mon Nov 7 22:19:04 2005 +0100

    [PATCH] hwmon: Fix two w83627hf bugs
    
    * Fix in4 reads for W83627THF and W83637HF chips.
    * Use the correct register for alarm flags.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ef9627464490fe67235bbd5724d55345b92c0315
Author: James Chapman <jchapman@katalix.com>
Date:   Sun Nov 6 23:07:38 2005 +0100

    [PATCH] i2c: ds1337 BCD conversion fix
    
    Fix BCD value errors when month=9, moving the increment inside the
    BIN2BCD macro.
    Fix similar code for the weekday value, just for consistency.
    
    This bug was reported by Michael Burian <dynmail1@gassner-waagen.at>.
    
    Signed-off-by: James Chapman <jchapman@katalix.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a852daa00ad91350fe603da47becaf3d5af4f2bd
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Nov 2 21:42:48 2005 +0100

    [PATCH] i2c: writing-client doc update complement
    
    My latest update to the writing-clients i2c documentation file was
    incomplete, here's the complement.
    
    Large parts of this file are still way out-of-date, but at least now
    the memory allocation and freeing instructions are consistent.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f093182d313edde9b1f86dbdaf40ba4da2dbd0e7
Merge: d27ba47... 76c8e25...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 20:23:46 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit 7e9191daf643255c24893427f966795e4167ca2c
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Nov 7 09:39:48 2005 -0800

    [PATCH] Memory Add Fixes for ppc64
    
    ppc64 needs a special sysfs probe file for adding new memory.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 82dd26a971848efafc6c8f12803ae012d268d2eb
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Fri Nov 4 15:20:24 2005 -0800

    [PATCH] Memory Add Fixes for ppc64
    
    This is a temporary kludge that supports adding all new memory to
    node 0.  I will provide a more complete solution similar to that
    used for dynamically added CPUs in a few days.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd7ccbd3eed52a42dc8bba57717dac3ece39b58e
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Fri Nov 4 15:19:32 2005 -0800

    [PATCH] Memory Add Fixes for ppc64
    
    memmap_init_zone() sets page count to 1.  Before 'freeing' the
    page, we need to clear the count.  This is the same that is done
    on free_all_bootmem_core() for memory discovered at boot time.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 54b79248b24610663298e122c6ba3804468271fe
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Nov 7 16:25:48 2005 -0800

    [PATCH] revised Memory Add Fixes for ppc64
    
    Add the create_section_mapping() routine to create hptes for memory
    sections dynamically added after system boot.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3133c5e896c0b2509e72ae0c2cb9452c80d47f46
Merge: 6b99575... b69a3aa...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 7 22:54:48 2005 -0500

    Merge git://git.tuxdriver.com/git/netdev-jwl

commit 6b995751c2e851d2bc9c277b5884d0adb519e31d
Merge: 6c2f426... d27ba47...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 7 22:51:47 2005 -0500

    Merge branch 'master'

commit b69a3aa85cb7bda2eb6c5932a62c1337d0d6612c
Author: Panagiotis Issaris <takis@issaris.org>
Date:   Tue Nov 8 00:03:15 2005 +0100

    [PATCH] wireless net: Conversions of kmalloc/memset to kzalloc
    
    More conversions of kmalloc/memset to kzalloc
    
    Signed-off-by: Panagiotis Issaris <takis@issaris.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit f36be62115aabd50b4eda0f06f07ab5fae2e9cfd
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Nov 8 00:41:48 2005 +0300

    [PATCH] atmel: memset correct range
    
    Specify the correct range when calling memset in atmel_get_range.
    Do this by specifying the size of the structure, rather than the size
    of the pointer.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 097688ef4710648db335c3c4fa243751f60b330a
Author: Luiz Fernando Capitulino <lcapitulino@mandriva.com.br>
Date:   Mon Nov 7 18:14:12 2005 -0200

    [PATCH] Fix sparse warning in e100 driver.
    
    The patch below fixes the following sparse warnings:
    
    drivers/net/e100.c:1481:13: warning: Using plain integer as NULL pointer
    drivers/net/e100.c:1767:27: warning: Using plain integer as NULL pointer
    drivers/net/e100.c:1847:27: warning: Using plain integer as NULL pointer
    
    Signed-off-by: Luiz Capitulino <lcapitulino@mandriva.com.br>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 0b47939fe616a5e0dd279d98d1eb372e4acc1c09
Author: Roger While <simrw@sim-basis.de>
Date:   Mon Nov 7 20:58:21 2005 +0100

    [PATCH] prism54 : Transmit stats updated in wrong place
    
    Move update of the transmit statistics to the correct place.  This
    would be just before starting transmission rather than (potentially
    long) afterward.
    
    Signed-off-by: Roger While <simrw@sim-basis.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit de7fe963b123365a27f82330689806226a48d088
Author: Roger While <simrw@sim-basis.de>
Date:   Mon Nov 7 20:57:58 2005 +0100

    [PATCH] prism54 : Unused variable / extraneous udelay
    
    In isl_38xx.c :
    The variable "counter" is defined and incremented but never
    used except if the driver is hand-compiled setting
    VERBOSE > SHOW_ERROR_MESSAGES.
    Move the definition and the increment to within the
    #if VERBOSE ..   block.
    
    Remove extraneous udelay's.
    These are not required when triggering the device.
    
    Signed-off-by: Roger While <simrw@sim-basis.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit ac1f60db6a62c8605b551497c8002ba267ea1f4a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 6 01:46:47 2005 +0100

    [PATCH] drivers/net/s2io.c: make functions static
    
    This patch makes needlessly global functions static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 48888cc6120ff945675ef79a3ba2955afa0f5124
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Nov 5 20:01:47 2005 +0100

    [PATCH] kill include/linux/eeprom.h
    
    This patch kills include/linux/eeprom.h .
    
    Rationale:
    - it was only used by one single driver
    - even this driver didn't do anything useful with it
    - most of this file are non-inline and non-static functions (sic)
    
    This removes include/linux/eeprom.h and cleans drivers/net/ns83820.c up.
    
    If you think eeprom.h should be used more extensively, please consider:
    - the code has to be moved from the header file to a .c file
    - the currently empty write function has to be implemented
    - ns83820.c or any other driver should actually use it
    
    Noone did any of these during the more than 3 years eeprom.h already
    exists...
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 8e3babcd69ec0fde874838e276eb0b211c6a5647
Author: Jay Vosburgh <fubar@us.ibm.com>
Date:   Fri Nov 4 18:45:45 2005 -0800

    [PATCH] bonding: fix feature consolidation
    
    This should resolve http://bugzilla.kernel.org/show_bug.cgi?id=5519
    
    The current feature computation loses bits that it doesn't know about,
    resulting in an inability to add VLANs and possibly other havoc.
    Rewrote function to preserve bits it doesn't know about, remove an
    unneeded state variable, and simplify the code.
    
    Signed-off-by: Jay Vosburgh <fubar@us.ibm.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit fd7a516efbcdabf5d7b9307ca9fe48b511b7d123
Author: Adrian Bunk <bunk@stusta.de>
Date:   Wed Nov 2 01:53:16 2005 +0100

    [PATCH] fix NET_RADIO=n, IEEE80211=y compile
    
    This patch fixes the following compile error with CONFIG_NET_RADIO=n and
    CONFIG_IEEE80211=y:
    
      LD      .tmp_vmlinux1
    net/built-in.o: In function `ieee80211_rx':
    : undefined reference to `wireless_spy_update'
    make: *** [.tmp_vmlinux1] Error 1
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit d27ba47e7e8c466c18983a1779d611f82d6a354f
Merge: e3d8b77... dd3e2dc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 18:42:23 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davem/sparc-2.6

commit e3d8b77bc7a89d190ee895d0570af10c026e5086
Merge: 9cfccee... 0ad3a96...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 18:41:53 2005 -0800

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 9cfcceea8f7e8f5554e9c8130e568bcfa98a3a64
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:31:49 2005 -0500

    [PATCH] Complete description of shared subtrees.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9676f0c6389b62bd6b24d77d4b3abdbcfa32d0f2
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:21:20 2005 -0500

    [PATCH] unbindable mounts
    
    An unbindable mount does not forward or receive propagation.  Also
    unbindable mount disallows bind mounts.  The semantics is as follows.
    
    Bind semantics:
      It is invalid to bind mount an unbindable mount.
    
    Move semantics:
      It is invalid to move an unbindable mount under shared mount.
    
    Clone-namespace semantics:
      If a mount is unbindable in the parent namespace, the corresponding
      cloned mount in the child namespace becomes unbindable too.  Note:
      there is subtle difference, unbindable mounts cannot be bind mounted
      but can be cloned during clone-namespace.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5afe00221389998a25d611dc7941c06580c29eb6
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:21:01 2005 -0500

    [PATCH] handling of slave mounts
    
    This makes bind, rbind, move, clone namespace and umount operations
    aware of the semantics of slave mount (see Documentation/sharedsubtree.txt
    in the last patch of the series for detailed description).
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a58b0eb8e64b78d9315a5491955e78b1391d42e5
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:20:48 2005 -0500

    [PATCH] introduce slave mounts
    
    A slave mount always has a master mount from which it receives
    mount/umount events.  Unlike shared mount the event propagation does not
    flow from the slave mount to the master.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a05964f3917c7c55368c229d7985f8e7c9977e97
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:20:17 2005 -0500

    [PATCH] shared mounts handling: umount
    
    An unmount of a mount creates a umount event on the parent.  If the
    parent is a shared mount, it gets propagated to all mounts in the peer
    group.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2144440327fa01b2f3f65e355120a78211685702
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:20:03 2005 -0500

    [PATCH] shared mounts handling: move
    
    Implement handling of mount --move in presense of shared mounts (see
    Documentation/sharedsubtree.txt in the end of patch series for detailed
    description).
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b90fa9ae8f51f098ee480bbaabd6867992e9fc58
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:19:50 2005 -0500

    [PATCH] shared mount handling: bind and rbind
    
    Implement handling of MS_BIND in presense of shared mounts (see
    Documentation/sharedsubtree.txt in the end of patch series for detailed
    description).
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 03e06e68ff76294e53ffa898cb844d2a997b043e
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:19:33 2005 -0500

    [PATCH] introduce shared mounts
    
    This creates shared mounts.  A shared mount when bind-mounted to some
    mountpoint, propagates mount/umount events to each other.  All the
    shared mounts that propagate events to each other belong to the same
    peer-group.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 07b20889e3052c7e77d6a6a54e7e83446eb1ba84
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:19:07 2005 -0500

    [PATCH] beginning of the shared-subtree proper
    
    A private mount does not forward or receive propagation.  This patch
    provides user the ability to convert any mount to private.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 390c684367de37e1c2f9005cf92f7a746c69fdd3
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:17:51 2005 -0500

    [PATCH] making namespace_sem global
    
    This removes the per-namespace semaphore in favor of a global semaphore.
    This can have an effect on namespace scalability.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36341f64569b0c4572478237ec5ed318f0762510
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:17:22 2005 -0500

    [PATCH] mount expiry fixes
    
     - clean up the ugliness in may_umount_tree()
    
     - fix a bug in do_loopback().  after cloning a tree, do_loopback()
       unlinks only the topmost mount of the cloned tree, leaving behind the
       children mounts on their corresponding expiry list.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70fbcdf4d252c6b17cc249cb9ac9b220cb0b863d
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:17:04 2005 -0500

    [PATCH] umount_tree() locking change
    
    umount is done under the protection of the namespace semaphore.  This
    can lead to intresting deadlocks when the last reference to a mount is
    released, if filesystem code is in sufficiently nasty state.
    
    This collects all the to-be-released-mounts and releases them after
    releasing the namespace semaphore.  That both reduces the time we are
    holding namespace semaphore and gets the things more robust.
    
    Idea proposed by Al Viro.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b83d2c5c0afcf5a3517cf00d9ceb41b8345e01b
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:16:29 2005 -0500

    [PATCH] sanitize the interface of graft_tree().
    
    Old semantics: graft_tree() grabs a reference on the vfsmount before
    returning success.
    
    New one: graft_tree() leaves that to caller.
    
    All the callers of graft_tree() immediately dropped that reference
    anyway.  Changing the interface takes care of this unnecessary overhead.
    
    Idea proposed by Al Viro.
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b58fed8b1959d6b9e4c951a54adc8960e1401b18
Author: Ram Pai <linuxram@us.ibm.com>
Date:   Mon Nov 7 17:16:09 2005 -0500

    [PATCH] lindent fs/namespace.c
    
    Signed-off-by: Ram Pai <linuxram@us.ibm.com>
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5addc5dd8836aa061f6efc4a0d9ba6323726297a
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Nov 7 17:15:49 2005 -0500

    [PATCH] make /proc/mounts pollable
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1abe77b0fc4b485927f1f798ae81a752677e1d05
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Nov 7 17:15:34 2005 -0500

    [PATCH] allow callers of seq_open do allocation themselves
    
    Allow caller of seq_open() to kmalloc() seq_file + whatever else they
    want and set ->private_data to it.  seq_open() will then abstain from
    doing allocation itself.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ccd48bc7fac284caf704dcdcafd223a24f70bccf
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Nov 7 17:15:04 2005 -0500

    [PATCH] cleanups and bug fix in do_loopback()
    
     - check_mnt() on the source of binding should've been unconditional
       from the very beginning.  My fault - as far I could've trace it,
       that's an old thinko made back in 2001.  Kudos to Miklos for spotting
       it...
    
       Fixed.
    
     - code cleaned up.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7b7b1ace2d9d06d76bce7481a045c22ed75e35dd
Author: Al Viro <viro@www.linux.org.uk>
Date:   Mon Nov 7 17:13:39 2005 -0500

    [PATCH] saner handling of auto_acct_off() and DQUOT_OFF() in umount
    
    The way we currently deal with quota and process accounting that might
    keep vfsmount busy at umount time is inherently broken; we try to turn
    them off just in case (not quite correctly, at that) and
    
      a) pray umount doesn't fail (otherwise they'll stay turned off)
      b) pray nobody doesn anything funny just as we turn quota off
    
    Moreover, LSM provides hooks for doing the same sort of broken logics.
    
    The proper way to deal with that is to introduce the second kind of
    reference to vfsmount.  Semantics:
    
     - when the last normal reference is dropped, all special ones are
       converted to normal ones and if there had been any, cleanup is done.
     - normal reference can be cloned into a special one
     - special reference can be converted to normal one; that's a no-op if
       we'd already passed the point of no return (i.e.  mntput() had
       converted special references to normal and started cleanup).
    
    The way it works: e.g. starting process accounting converts the vfsmount
    reference pinned by the opened file into special one and turns it back
    to normal when it gets shut down; acct_auto_close() is done when no
    normal references are left.  That way it does *not* obstruct umount(2)
    and it silently gets turned off when the last normal reference to
    vfsmount is gone.  Which is exactly what we want...
    
    The same should be done by LSM module that holds some internal
    references to vfsmount and wants to shut them down on umount - it should
    make them special and security_sb_umount_close() will be called exactly
    when the last normal reference to vfsmount is gone.
    
    quota handling is even simpler - we don't use normal file IO anymore, so
    there's no need to hold vfsmounts at all.  DQUOT_OFF() is done from
    deactivate_super(), where it really belongs.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 76c8e25b905f99be5ddbe999597ba7c2c33ec64b
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Nov 8 11:21:05 2005 +1100

    [PATCH] ppc64: Fix the lazy icache/dcache code for non-RAM pages
    
    For some stupid reason I can't explain (brown paper bag is at hand), I
    removed the check pfn_valid() in the code that does the icache/dcache
    coherency on POWER4 and later. That causes us to eventually try to
    access non existing struct page when hashing in IO pages.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b354cab0763080df3735dcd0c64a545f266cc9e2
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 8 12:20:34 2005 +1100

    powerpc: merge ide.h
    
    This is very simple with it being almost all ppc32 with just a couple
    of common defines.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 515729ece1e515546e9f49713b012cfbc41747ed
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 12:15:36 2005 +1100

    powermac: Use a spinlock in swim3.c (floppy driver) instead of cli
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3fb62b5148bd9df6b8a734988f5cf330251abdb4
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 12:14:50 2005 +1100

    macintosh: Always export pmu_[un]register_sleep_notifier if CONFIG_PM set
    
    This fixes a build error when building the pmac sound driver as a
    module for 64-bit powermacs.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 22358ea8e1e88d65b073c3d2bb85d8c4e3bd44c1
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 12:13:38 2005 +1100

    powerpc: Fix typo in pmac_cpufreq_resume
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 826d2abe9945372c8838398bfd88a1caa5844d41
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Mon Nov 7 18:56:59 2005 -0600

    Updated READMEs and MAINTAINERS for the ipw2100 and ipw2200 drivers.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 0286486783a75ef991df3ee250917efb55df75b3
Author: Mike Kravetz <kravetz@us.ibm.com>
Date:   Mon Nov 7 13:48:59 2005 -0800

    [PATCH] Memory Add Fixes for ppc64
    
    On Tue, Nov 08, 2005 at 08:12:56AM +1100, Benjamin Herrenschmidt wrote:
    > Yes, the MAX_ORDER should be different indeed. But can Kconfig do that ?
    > That is have the default value be different based on a Kconfig option ?
    > I don't see that ... We may have to do things differently here...
    
    This seems to be done in other parts of the Kconfig file.  Using those
    as an example, this should keep the MAX_ORDER block size at 16MB.
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 570142ca37248291c03df9852a5a0ce97f756464
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Nov 7 19:05:31 2005 +1100

    [PATCH] ppc64: remove some direct xmon calls
    
    Even though we can enable and disable xmon at runtime now, there are a
    few places in the merge tree that call xmon and xmon_printf directly.
    
    In the case below we call die() which will call xmon if it is enabled.
    
    Also remove an unnecessary include of xmon.h in smp.c.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cb09cff30ad22408eea9b2785555af2d2b0ac1bd
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Nov 7 18:43:56 2005 +1100

    [PATCH] ppc64: fix oprofile sample bit handling
    
    Oprofile was hardwiring the MMCRA sample bit to 1 but on newer cpus
    (eg POWER5) we want to vary it based on the group being sampled.
    
    Add a temporary workaround until people update their oprofile userspace.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bcb3557694d4e880051795ad97d609d255bcb658
Author: Anton Blanchard <anton@samba.org>
Date:   Mon Nov 7 17:43:07 2005 +1100

    [PATCH] ppc64: fix Memory: summary line
    
    On ppc64 we end up with a negative value for the data size in the memory
    boot message:
    
    Memory: 2035560k/2097152k available (5792k kernel code, 89564k reserved,
    18014398509481632k data, 870k bss, 352k init)
    
    It turns out the section ordering of the linker script is different on
    ppc32 and ppc64, so just count data as _edata - _sdata which should work
    on both.
    
    Signed-off-by: Anton Blanchard <anton@samba.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 42596ec5edc8efb9e24397ef656df7ebb2c4f8d5
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 16:57:33 2005 +1100

    [PATCH] ppc: Fix PowerBook HD led on ARCH=powerpc
    
    The PowerBook HD led code uses obsoletes device-tree accessors which do
    not work anymore for getting the root of the tree.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7b007de8a90604000329154e87d269db3427d099
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 16:43:44 2005 +1100

    [PATCH] ppc: Fix ARCH=ppc build with xmon
    
    xmon() prototype is inconsistent between ARCH=ppc and ARCH=powerpc,
    thus causing ARCH=ppc build breakage.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 21fe3301f11a93c4f18e8480ed08522559bf0a50
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 16:41:59 2005 +1100

    [PATCH] ppc: fix a bunch of warnings
    
    Building a PowerMac kernel with ARCH=powerpc causes a bunch of warnings,
    this fixes some of them
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 75722d3992f57375c0cc029dcceb2334a45ceff1
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 16:08:17 2005 +1100

    [PATCH] ppc64: Thermal control for SMU based machines
    
    This adds a new thermal control framework for PowerMac, along with the
    implementation for PowerMac8,1, PowerMac8,2 (iMac G5 rev 1 and 2), and
    PowerMac9,1 (latest single CPU desktop). In the future, I expect to move
    the older G5 thermal control to the new framework as well.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7d49697ef92bd2cf84ab53bd4cea82fefb197fb9
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 14:36:21 2005 +1100

    [PATCH] ppc64: More U3 device-tree fixes
    
    Some more U3 revisions have the missing "interrupts" property in U3,
    this adds them to the fixup code in prom_init.c
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c618cf19995ef00c7ab85a9734abe028de9c08d4
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 14:32:28 2005 +1100

    [PATCH] ppc64: Update g5_defconfig for ARCH=powerpc
    
    This patch updates g5_defconfig for ARCH=powerpc in order to add the SMU
    support & thermal drivers to it, the pmac sound driver (works on some
    G5s) and replaces rivafb with nvidiafb which works better for the cards
    found in G5 based machines.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 183d020258dfd08178a05c6793dae10409db8abb
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 14:29:02 2005 +1100

    [PATCH] ppc64: SMU partition recovery
    
    This patch adds the ability to the SMU driver to recover missing
    calibration partitions from the SMU chip itself. It also adds some
    dynamic mecanism to /proc/device-tree so that new properties are visible
    to userland.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4350147a816b9c5b40fa59e4fa23f17490630b79
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 14:27:33 2005 +1100

    [PATCH] ppc64: SMU based macs cpufreq support
    
    CPU freq support using 970FX powertune facility for iMac G5 and SMU
    based single CPU desktop.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a82765b6eee3d1267ded3320ca67b39fe1844599
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Nov 2 22:34:20 2005 +0000

    [PATCH] powerpc: Fix ppc32 initrd
    
    OK, the Fedora ppc32 and ppc64 kernels should both be arch/powerpc by
    tomorrow. They're booting on G5, POWER5, and my powerbook. I'll test
    pmac SMP and Pegasos later -- but pmac smp is known broken in arch/ppc
    anyway, and I'll live with a potential Pegasos regression for now; it
    wasn't supported officially in FC4 either.
    
    I needed to fix ppc32 initrd -- we were never setting initrd_start.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 24bfb00123e82a2e70bd115277d922438813515b
Merge: c613523... 3f00d3e...
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 8 11:14:20 2005 +1100

    Merge ../linux-2.6

commit cf1b479b6922c6736d9f00d90c2b78e977692c93
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Oct 20 16:35:24 2005 -0500

    Update version ipw2200 stamp to 1.0.8

commit 81715376de909637b957f856e30880871fbd78fc
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Aug 25 01:37:28 2005 -0500

    Updated firmware version stamp to 2.4 from 2.3 so it will use the latest firmware.
    You can obtain the firmware at http://ipw2200.sf.net/firmware.php
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 286568ab1e8f0e09a76cfa58e8ed48ddc44484b5
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Aug 30 10:34:25 2005 -0500

    Fixed parameter reordering in firmware log routine.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 9d5b880bb8e977426d64a4caebe3fd3ae73a2862
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Oct 19 16:25:33 2005 -0500

    Fixed problem with not being able to send broadcast packets.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 035205760e4f28082fedb258a20c804746c84ffe
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Oct 19 16:12:31 2005 -0500

    Added channel support for ipw2200 cards identified as 'ZZR'
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 991d1cc5963f4926478f3139ec0b0dd26a2c888c
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Oct 13 09:26:48 2005 +0000

    Removed warning about TKIP not being configured if countermeasures are
    configured.
    
    Countermeasures default to being turned off when wpa_supplicant runs,
    regardless of if TKIP is being used.  They are only turned on if a TKIP
    is running.  The warning we were printing is therefore not needed.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit e758256104c3c2475f7746bc1b348c99cdb207f2
Author: Ben Cahill <ben.m.cahill@intel.com>
Date:   Thu Oct 6 15:34:41 2005 -0500

    Fixes missed beacon logic in relation to on-network AP roaming.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 8935f39e86e3707770e091fb58d9060307edf959
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Oct 5 15:59:08 2005 -0500

    Removed legacy WIRELESS_EXT checks from ipw2200.c
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 97a78ca968b84a5e9d8854622b4760cec5058f77
Author: Benoit Boissinot <bboissin+ipw2100@gmail.com>
Date:   Thu Sep 15 17:30:28 2005 +0000

    Fix 'Driver using old /proc/net/wireless support, please fix driver !' message.
    
    Wireless extensions moved the get_wireless_stats handler from being
    in net_device into wireless_handler.
    
    Signed-off-by: Benoit Boissinot <benoit.boissinot@ens-lyon.org>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 87bb5e3814572b85cf5d4650fb1f88267411845f
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Sep 15 01:00:31 2005 -0500

    Pulled out a stray KERNEL_VERSION check around the suspend handler.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 9ef539d0d6fca1cd0b1f9b884be8b92cb80159c9
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Sep 15 00:42:42 2005 -0500

    Updated driver version stamps for ipw2100 (1.1.3) and ipw2200 (1.0.7)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit e63247269de722c3e753991025fb7f15c6aba9aa
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Sep 14 21:04:15 2005 -0500

    Fixes WEP firmware error condition.
    
    The problem is caused by the patch in bug455 -- Channel change flood
    generates fatal error.
    
    The patch set the DISASSOCIATING status bit after sending the command.
    The process was scheduled out when waiting for the command to be sent to
    the card. The disassociated notification clears the DISASSOCIATING bit
    in the tasklet before the process set the bit.
    
    Move the bit setting code before sending the command now.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit f4ff497d45c7071166277a39590cc59b50dc893c
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Mon Sep 12 10:48:48 2005 -0500

    [Fix bug# 771] Too many (8) bytes recieved when using AES/hwcrypto
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 29cb843e6457c45c4a257a0d2080da3fd7fb9d1e
Author: Hong Liu <hong.liu@intel.com>
Date:   Mon Sep 12 10:43:33 2005 -0500

    Fixes problem with WEP not working (association succeeds, but no Tx/Rx)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 392d0f6d0752e6a3e25c3e3da95d78c53b0fd7a1
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 7 18:39:03 2005 -0500

    Removed PF_SYNCTHREAD legacy.
    
    The PF_SYNCTHREAD check was introduced to try and remain compatible with
    SWSUSP2.  This check is no longer needed with newer versions.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit fb7ccc9e6d1a2872ea8a07154f1689d19a7576c5
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 7 18:19:08 2005 -0500

    Fixed problem with get_cmd_string not existing if CONFIG_IPW_DEBUG disabled.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit cdd1fa1e10a2231b5e24bde82550ac499aa5dcc4
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Aug 31 18:14:27 2005 +0800

    Card with WEP enabled and using shared-key auth will have firmware
    error when it tries to auth to a WPA ap. The patch filters out WPA
    networks if the card is not wpa enabled when selecting network to
    associate to.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>

commit 567deaf6d4a3372cd16b8719741ca3a6157c9615
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Aug 31 18:07:22 2005 +0800

    Mixed PTK/GTK CCMP/TKIP support.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>

commit 90700fd982022f0519e7bd7595adb8084f36d1c6
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Aug 26 16:51:06 2005 -0500

    Fixed is_network_packet() to include checking for broadcast packets.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 24a47dbd89a2738bc149de4685ae5a2a97193ae1
Author: Mike Kershaw <dragorn@kismetwireless.net>
Date:   Fri Aug 26 00:41:54 2005 -0500

    Adds radiotap support to ipw2200 in monitor mode..
    
    Signed-off-by: Mike Kershaw <dragorn@kismetwireless.net>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit a4f6bbb305123c2c42322a10a770be64089a17ca
Author: Peter Jones <pjones@redhat.com>
Date:   Fri Aug 26 00:33:34 2005 -0500

    Make all the places the firmware fails to load showerrors (in decimal,
    so you can cross-reference errno.h easily).
    
    Signed-off-by: Peter Jones <pjones@redhat.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 054b08d48464bfa8e5be69829b59bd599c5dcd72
Author: Hong Liu <hong.liu@intel.com>
Date:   Thu Aug 25 17:45:49 2005 +0800

    Don't set hardware WEP if we are actually using TKIP/AES.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>

commit 55135791819270a412dfb99f66301f02c72edadf
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Aug 25 17:43:14 2005 +0800

    [Bug 760] Fix setting WEP key in monitor mode causes IV lost.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 7b99659f97ca20e5f1ea56253a9449d278d825d5
Author: Hong Liu <hong.liu@intel.com>
Date:   Thu Aug 25 17:36:13 2005 +0800

    [Bug 455] Fix frequent channel change generates firmware fatal error.
    
    Because of the frequent channel change, it is possible that when we are
    try to associate with channel 1 (authenticated but not associated).
    Another channel change comes at this time, then the driver will issue
    disassociate command to the firmware which will cause the fatal error.
    
    It seems that the association/disassociation procedure should not be
    interrupted.
    
    The patch attached adds test on STATUS_ASSOCIATING | STATUS_DISASSOCIATING
    in ipw_send_cmd(), when ensures that commands will not be sent to firmware
    when we are in these two status.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit a0e04ab36048eb1c3da2524b5b0b802b6ab064f0
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Aug 25 00:49:43 2005 -0500

    Added wait_state wakeup on scan completion.
    Fixed copyright date in ipw2200.h
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 3b9990cb1751d3d267c0e5c94bff0f155c944c66
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Fri Aug 19 13:18:55 2005 -0500

    Updated ipw2200 to use the new ieee80211 callbacks
    (handle_probe_response, handle_beacon, handle_association_response).
    
    Fixed a problem with ipw_send_cmd() returning non-zero on success.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 1fe0adb4314009362d28205bbf09f6d758e82002
Author: Liu Hong <hong.liu@intel.com>
Date:   Fri Aug 19 09:33:10 2005 -0500

    Migrated some of the channel verification code back into the driver to
    keep regulatory consistency in one location.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit f6c5cb7c6f8a85045996bfc3442af963d6578d60
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Aug 25 00:39:09 2005 -0500

    Added cmdlog in non-debug systems.
    
    You can now specify via the module parameter 'cmdlog' to allocate a
    ring buffer for caching host commands sent to the firmware. They can
    then be dumped at any time via the sysfs entry 'cmd_log'
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 9ddf84f6f20335ce896feb459b19c3258bbf2e96
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Aug 16 17:07:11 2005 -0500

    Changed all of the ipw_send_cmd() calls to return any ipw_send_cmd error
    codes to the caller and changed ipw_send_cmd itself to print the error
    message to the syslog indicating which command failed to be sent.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit b39860c60b135ef16c1c16a3e2a757ff8070c5ad
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Fri Aug 12 09:36:32 2005 -0500

    Switched firmware error dumping so that it will capture a log available
    via sysfs even if debugging disabled.  When a firmware error is
    captured, it will be dumped to the kernel log (if debug enabled) and
    captured in memory to be retrieved via sysfs.
    
    If an error has already been captured, subsequent errors will be
    dropped.
    
    The existing error can be cleared by writing to the error log entry.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit e666619e232308c8ee2aba6b87f28ad26b38d905
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Fri Aug 12 09:17:04 2005 -0500

    Modified ipw_config and STATUS_INIT setting to correct race condition
    with request_scan being called before initialized if invoked from
    insmod, resulting in no association occurring during boot until iwlist
    scan is run.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 6de9f7f27defe6f1a2d33d0b78af6b1a0ad18330
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Aug 11 14:39:33 2005 +0800

    Fix firmware error when setting tx_power.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 22501c8ed70398178e8c8d55e65da97b7e7fb610
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Thu Aug 11 10:49:17 2005 +0800

    Fix ipw_wx_get_txpow shows wrong disabled value.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 0ece35b557c5097c90df9e8fbf47e4da46377df1
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Fri Aug 5 17:26:51 2005 +0800

    [Bug 701] Fix a misuse of ieee->mode with ieee->iw_mode.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit caeff81b4e6479884f3cd2ced526bebd4f0c5eff
Author: Hong Liu <hong.liu@intel.com>
Date:   Fri Aug 5 17:25:50 2005 +0800

    Fixes the ad-hoc network WEP key list issue.
    
    If we configure the wep keys after creating the ibss network, the
    beacons of this network will not show correctly (it still shows "key
    off" in iwlist scan report). This is because we don't update the
    beacon info in firmware.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 1fbfea549f07f1f7afd436f1e45b25437f0172c2
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Fri Aug 5 17:22:56 2005 +0800

    [Bug 792] Fix WPA-PSK AES both for -Dipw and -Dwext.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit e402c9374112aaf1fc5796013dc3040ebb3954ca
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Fri Aug 5 17:20:40 2005 +0800

    Disable host fragmentation in open mode since IPW2200/2915 hardware
    support hardware fragmentation.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 87b016cb64b267a6f791494a4cfd84e84e022ebb
Author: Zhu Yi <chuyee@debian.sh.intel.com>
Date:   Fri Aug 5 17:17:35 2005 +0800

    Workaround kernel BUG_ON panic caused by unexpected duplicate packets.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>

commit 4f36f8088ada6c63719a970616078887f82e226c
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 3 20:36:56 2005 -0500

    Added more useful geography encoding so people's experience with
    iwconfig matches what their hardware can actually do in regard to
    supported channel maps, etc.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 2b184d5b5401bf87036cd0c2a0242fa5320129d7
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 3 20:33:14 2005 -0500

    Fixed some compiler issues if CONFIG_IPW2200_QOS is enabled.
    Updated a copyright date.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 227d2dc1f109e3348564320cf42fc56770428ed3
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Jul 28 16:25:55 2005 -0500

    Updated to support ieee80211 callback to is_queue_full for 802.11e
    support.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit d2021cb4e28c512c395a439d65556c260b94e47e
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Jul 14 10:35:05 2005 -0500

    Changed default # of missed beacons to miss before disassociation to 24
    (vs. 9 which is too low in most environments)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 8400a1ceb445f2ace4b8d3c35c181b2b416a81ce
Author: Liu Hong <hong.liu@intel.com>
Date:   Wed Jul 13 12:27:17 2005 -0500

    [Bug 637] Set tx power for A band.
    
    It uses the ieee80211-geo info to set the tx power of the a/b/g band.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit d8bad6df045249cd1cff6a0d167c8f1b9caade7e
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Wed Jul 13 12:25:38 2005 -0500

    [bug 667] Fix the notorious "No space for Tx" bug.
    
    We send SYSTEM_CONFIG command after the TGI_KEY command if hardware
    encryption is enabled. It sometimes causes a firmware stall (firmware
    doesn't respond to any request) and finally bungs up the Tx send queue.
    The solution is to send SYSTEM_CONFIG command in the post association
    stage from a workqueue.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit f57ce7ce9c7498fe9c4090aaf389c89f3bd70f7e
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Wed Jul 13 12:22:15 2005 -0500

    Fix is_duplicate_packet() bug for fragmentation number setting.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit a2d73e60bb018da74ba508943c79c83659f3a883
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Wed Jul 13 12:24:51 2005 -0500

    Fix hardware encryption (both WEP and AES) doesn't work with fragmentation.
    Firmware sends received packets with double sized ICV/MIC.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit afbf30a2b78cac38e6ddae10a73063943b4783ee
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Aug 25 00:05:33 2005 -0500

    Catch ipw2200 up to equivelancy with v1.0.5
    
    * Fixed #452 problem with setting retry limit (thanks to Hong Liu)
    * Fixed #592 race condition during association causing firmware errors
    * Fixed #602 problem with building in 64-bit environment
    * Fixed #625 problem with SCAN_REQUEST_EXT sometimes failing
    * Fixed #645 problem with bit rate not decreasing when moving laptop
      farther from AP
    * Fixed #656 problem with 'iwconfig eth1 mode auto' and 'modprobe'
      locking the system
    * Fixed #667 problem with "No space for Tx" for hwcrypto=1
    * Fixed #685 kernel panic in rmmod caused by led work is still queued
    * Fixed #695 problem with network doesn't reassociate after suspend/resume
    * Fixed #701 problem with 'iwprvi sw_reset' not resetting the card from
      monitor mode
    * Fixed #710 problem with monitor mode being used after a WEP key has
      been configured
    * Fixed network->mode vs. priv->ieee->iw_mode checking (thanks to Ben Cahill)
    * Fixed "Unknown management packet %d" warning
    * Fixed setting channels multiple times in monitor mode causes scan stopped
    * Fixed ipw_wx_sw_reset doesn't switch firmware if mode is changed.
    * Add duplicate packet checking code (kill ping DUP! and TKIP replay warning)
    * Fix hardware encryption (both WEP and AES) doesn't work with fragmentation.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit e4cc28998724661c19cd979a78eaf9a424da52ef
Author: Zhu Yi <yi.zhu@intel.com>
Date:   Wed Jul 13 12:30:34 2005 -0500

    Move code from ipw2100_wpa_enable to IPW2100_PARAM_DROP_UNENCRYPTED to
    support wpa_supplicant with open AP. We need this to make driver_ipw
    work.
    
    driver_ext has already had the similar code with the WE-18 support
    added.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit f75459e6f64ca0632f23029e2ca47b424dd33373
Author: Liu Hong <hong.liu@intel.com>
Date:   Wed Jul 13 12:29:21 2005 -0500

    [Bug 339] Fix ipw2100 iwconfig set/get txpower.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 25b645be1e25e16ea7a25678ac195a0e7595c629
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Jul 12 15:45:30 2005 -0500

    Fixed WEP on ipw2100 (priv->sec was being used instead of
    priv->ieee->sec)

commit 823283549da144ff49e65c6e4a670b7784203e0b
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 24 22:33:31 2005 -0500

    Catch ipw2100 up to equivelancy with v1.1.1
    
    * Added WE-18 support.  This allows the use of -Dext with wpa_supplicant
      > 0.4.x (thanks to Hong Liu)
    * Fixed #339 problem with iwconfig set/get txpower (thanks to Hong Liu)
    * Fixed #598 problem when with error messages when module loaded with
      'disable=1' (thanks to Hong Liu)
    * Fixed #640 problem with 'iwlist retry' now showing min/max retry
    * Fixed compatibility with wpa_supplicant and the new -Dipw interface
      (that included a fix for 64-bit compatibility)
    * Added CFG_CRC_CHECK which allows passing through packets with bad
      CRCs while in monitor mode.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit b095c3819805f87d73d41641a53e4c070360d783
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 24 22:04:42 2005 -0500

    Catch ipw2200 up to equivelancy with v1.0.4
    
    * Fixed #627 problem with open APs not working with wpa_supplicant
    * Fixed #632 problem with 'txpower auto' setting power incorrectly (thanks
      to Kai Groner)
    * Fixed #634 problem with 'iwconfig eth1 frag 0' hanging the shell
    * Fixed problem with adapter not fully powering off during suspend to RAM or
      when module unloaded.
    * Fixed #645 problem with turning fixed rates off not taking effect until
      you reload the driver
    * Fixed problem with firmware restart if wpa_supplicant was used to set a key
      that wasn't exactly 5 or 13 bytes in length.
    * Fixed #623 Added iwpriv sw_reset extension to reset sw parameters
    * Added managment frame export to user space with frame statistics
    * Fixed #652 Modified the driver to load the EEPROM data even if RF KILL is
      active during driver load
    * Global s:CX2_:IPW_:g to make code more consistent
    * Fixed #572 problem with setting txpower to auto
    * Fixed #656 problem with kernel oops if mode auto; modprobe -r ipw2200
    * Added QoS (CONFIG_IPW_QOS) support.  This is being actively developed but
      is the first step in getting WMM support into the driver and the kernel.
    * Fixed some race conditions with channel changes, association, and scan
      abort that could periodically cause a firmware restart.
    * Added some extensions to export scan and network statistics to user space
      (exposed through speed_scan and net_stats sysfs entries)
    * Fixed a few bugs in how monitor mode was supported (scan lists
      weren't quite right)
    * Updated the firmware requirement from 2.2 to 2.3 which supports
      monitor mode.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit c848d0af404f00835f038e370005733d90a186fd
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 24 21:56:24 2005 -0500

    Catch ipw2200 up to equivelancy with v1.0.3
    
    * Fix #616 problem with OOPS on module load (thanks to Yi Zhu)
    * Fixed problem with led module parameter being described as
      'auto_create'
    * Added support to merge between adhoc networks (thanks to Mohamed Abbas)
    * Added semaphore lock at the driver's entry points to protect against
      re-entry (thanks to Mohamed Abbas)
    * Added semaphore lock to background scheduled driver actions (thanks to
      Mohamed Abbas)
    * Changed how signal quality is reported for scan output (thanks to
      Peter Jones)
    * Fixed how high/low clamp values of signal quality are reported so a
      more consistent ramp is provided (thanks to Bill Moss)
    * Fix #624 problem with duplicate addresses (again)  (thanks to Bernard
      Blackham)
    * Fix #385 problem with fragmentation and certain sized packets (thanks
      to Mohamed Abbas)
    * Modified iwconfig network name if RF kill is enabled to say 'radio off'
    * Fix #382 problem with driver not responding to probe requests in Ad-Hoc
      mode (thanks to Mohamed Abbas)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit a613bffd3aac89bb0a8c9b7afa72af9b0ae30f0a
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 24 21:43:11 2005 -0500

    Catch ipw2200 up to equivelancy with v1.0.2
    
    Removed unneeded parenthesis around numeric constant defines
    
    Added support for iwspy
    
    Put in fix for Ad-Hoc mode not passing through all packets (thanks to KKH)
    
    Put in fix for fragmentation not working for fragment sizes between
    441-464 bytes (thanks to Mohamed Abbas)
    
    Fixed #592 problem of CONFIG_IEEE80211_WPA_MODULE not including WPA
    support into the driver -- fixed as a result of no longer limiting WPAs
    inclusion
    
    Fixed #594 problem with user rates mask causing lack of association if
    AP mandatory rate is masked out.  We now add back in as a supported rate
    any mandatory rate.
    
    Fixed #597 kernel oops due to calling dev_kfree_skb on an skb multiple times.
    
    Added code to control LEDs that can be controlled through the wireless
    NIC (vs. non-wireless HW interfaces) -- this is currently disabled by
    default due to reports by some users of it hanging their laptop.
    
    Added some more debug messages around fragmentation logic
    
    Added locking around STATUS_HCMD_ACTIVE to prevent re-entry race
    conditions
    
    Moved ipw_adapter_restart to only execute on the priv->workqueue to
    keep keyboard errors from occuring during adapter restart
    
    Added CFG_BACKGROUND_SCAN to easily allow people to play with
    background scanning implementations
    
    Modified WPA logic to send WPA IE if one is set (vs. being based on
    wpa_enabled)
    
    Modified scan result logic to report WPA and RSN IEs if set (vs. being
    based on wpa_enabled)
    
    Fixed issues with endianess compatability between the host and
    wireless adapter (thanks to York Liu and Yi Zhu)
    
    Fixed problem with Ad-Hoc network creation causing a firmware error if
    a scan was actively running (thanks to Mohamed Abbas)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit ea2b26e0a0264650e13acac8e66d315bb818897c
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Aug 24 21:25:16 2005 -0500

    Catch ipw2200 up to equivelancy with v1.0.1
    
    This commit contains the following fixes:
    
    Fixed #559: iwconfig rate support (thanks to Florian Hackenberger)
    
    Improved link signal quality calculation (thanks to Bill Moss)
    
    Fixed a problem with sensitivity threshold during association
    
    Added iwpriv for turning forcing long preamble support:
      % iwpriv eth1 set_preamble 1|0
    
    Fixed #542 and #377 support for short preamble
    
    Fixed locked BSSID reporting channel number (thanks to Pedro
    Ramalhais)
    
    Fixed type-o with scan watchdog timeout message (thanks to Pedro
    Ramalhais)
    
    Changed logic for displaying get_mode output so the code is easier to
    follow (thanks to Pedro Ramalhais)
    
    Added initial support for WPA (thanks to Yi Zhu) -- tested with
    wpa_supplicant (either tip w/ ipw driver, or with -Dipw2100) with
    both CCMP and TKIP
    
    Fixed problem with CCMP not working due to uninitialized 802.11
    header fields (thanks to Pedro Ramalhais)
    
    Bug references are to defects stored on http://bughost.org
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit a1e695adca76f5729224242e4f2f9f6ceb6863d1
Author: Zhu Yi <chuyee@debian.sh.intel.com>
Date:   Mon Jul 4 14:06:00 2005 +0800

    IPW_DEBUG has already included DRV_NAME, remove double prefix print.

commit ee8e365aa6395e721399127ccf3d28d269136f0e
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 14 09:47:29 2005 -0500

    Ran scripts/Lindent on drivers/net/wireless/ipw2{1,2}00.{c,h}
    
    No other changes.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit d7e02edbc52bc689279154b117b90fe6635fc14b
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Mon Oct 24 20:44:06 2005 -0500

    Update version ieee80211 stamp to 1.1.7

commit e189277a3f1cbb0f1282e0f4b8fa8c91e004c286
Author: Volker Braun <volker.braun@physik.hu-berlin.de>
Date:   Mon Oct 24 10:15:36 2005 -0500

    Fix problem with WEP unicast key > index 0
    
    The functions ieee80211_wx_{get,set}_encodeext fail if one tries to set
    unicast (IW_ENCODE_EXT_GROUP_KEY not set) keys at key indices>0. But at
    least some Cisco APs dish out dynamic WEP unicast keys at index !=0.
    
    Signed-off-by: Volker Braun <volker.braun@physik.hu-berlin.de>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 81f875208e7f46d003bedb82d5cfe54458a3ab60
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Mon Oct 24 10:20:53 2005 -0500

    scripts/Lindent on ieee80211 subsystem.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit dd3e2dcf3408843ed35501c28626f389b30be756
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 7 14:13:46 2005 -0800

    [SPARC64]: Kill some unnecessary includes from ioctl32.c
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit f48497e38331464c25e564d9e76ee915ca55fea8
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:13:27 2005 -0800

    [SPARC64]: remove drm compat ioctl handling
    
    drivers/drm/ now implements proper ->compat_ioctl methods, so this isn't
    needed anymore.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b66621fef30e15810d459212bc8bdc274e08f14f
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:13:14 2005 -0800

    [SPARC] cpwatchdog: implement ->compat_ioctl
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1d5d00bd9c44ab4730d353ee6ba0c8ebbff295c7
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:13:01 2005 -0800

    [SPARC] display7seg: implement ->unlocked_ioctl and ->compat_ioctl
    
    all ioctls are 32bit compat clean, so the driver can use ->compat_ioctl
    and ->unlocked_ioctl easily.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b31023fc24e5c39d246e9c6fc75dba1a2902c1d6
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:12:47 2005 -0800

    [SPARC] openprom: implement ->compat_ioctl
    
    implement a compat_ioctl handle in the driver instead of having table
    entries in sparc64 ioctl32.c (I plan to get rid of the arch ioctl32.c
    file eventually)
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 1928f8e541245eae933f8c95b64b2bc3683f9661
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:12:34 2005 -0800

    [SPARC] envctrl: implement ->unlocked_ioctl and ->compat_ioctl
    
    all the ioctls in the driver are 32bit compat clean and don't need BKL,
    so we can switch it to ->unlocked_ioctl and ->compat_ioctl trivially.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 16cf0d816541fde06ed8f37c0f5cf9940cdfc145
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:12:21 2005 -0800

    [SPARC]: Kill remaining kbio.h references.
    
    Would you mind applying the following patch that kills those two + the
    m68k and Documentation/ references?
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 59871bcd1197014aacdf8e398c407cab70ab74e7
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 7 14:12:08 2005 -0800

    [SPARC64] mm: simpler tlb_flush_mmu
    
    Minor simplification to the sparc64 tlb_flush_mmu: tlb_remove_page
    set need_flush only after handling the tlb_fast_mode case, then
    tlb_flush_mmu need not consider whether it's tlb_fast_mode.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 261b033afc2db37ad371263db2e1316f37c8ed51
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:11:49 2005 -0800

    [SPARC64]: remove duplicated compat ioctl entries
    
    all these are handled by fs/compat_ioctls.c already.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 59f85dc95e81281b424b2eb0e7b002cf7f77db03
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:11:38 2005 -0800

    [SPARC]: remove vuid_event.h
    
    I don't know if we ever implemented this, but the only user in any 2.6
    tree are the compat ioctls.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e1413315b8dfcdebc61416dadc1334619dfb4543
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:11:25 2005 -0800

    [SPARC]: remove kbio.h
    
    The old keyboard driver is gone in 2.6, so the only user left are the
    compat ioctls.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 9d3c7d1bfd41d5082a541666db404aae7699b79e
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:11:14 2005 -0800

    [SPARC]: remove audioio.h
    
    The old sound drivers are gone in 2.6, so the only user left are the
    compat ioctls.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit e0436b3164fd071acd30a50339b7b6ba5f053cf6
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 14:11:02 2005 -0800

    [SPARC64]: remove alloc_user_space()
    
    this inline routine in arch/sparc64/kernel/ioctl32.c is completely
    unused and superceeded by compat_alloc_user_space()
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit d16436e686949a17b3bcfff2d688c97354b599aa
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Nov 7 14:10:42 2005 -0800

    [SPARC]: remove duplicate TIOCPKT_ definitions
    
    The TIOCPKT_ macros are defined by all other architectures in asm/ioctls.h
    and so does sparc and sparc64, so reomve the duplicates in asm/termios.h.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 483772469d4a15d77402c2ac819c80dff9be8421
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 7 14:10:21 2005 -0800

    [SUNSU]: Do not mark sunsu_console_setup() __init
    
    Sets off buildcheck warnings.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit fc3214952fac07fef7e102fdd4a18b3d736f33f1
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 7 14:10:10 2005 -0800

    [SPARC64]: Kill off dummy_tick_ops.
    
    It only serves to generate false-positive buildcheck warnings.
    Just set it initially to tick_operations which uses the v9
    %tick register which every sparc64 processor has.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 62dbec78be652c28f63ad5eda3d01c244c916040
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 7 14:09:58 2005 -0800

    [SPARC64] mm: Do not flush TLB mm in tlb_finish_mmu()
    
    It isn't needed any longer, as noted by Hugh Dickins.
    
    We still need the flush routines, due to the one remaining
    call site in hugetlb_prefault_arch_hook().  That can be
    eliminated at some later point, however.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 4c85ce522fc4bf1b8fcd6255fadc11cfb75773df
Author: David S. Miller <davem@davemloft.net>
Date:   Mon Nov 7 14:09:44 2005 -0800

    [SPARC]: Remove bogus register programming in cg6 driver.
    
    Don't write garbage into the overlay plane.
    
    Noted by Bob Breuer.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b128254fdb172eaa3273de24fa6ce405a1f534c9
Author: Georg Chini <georg.chini@triaton-webhosting.com>
Date:   Mon Nov 7 14:09:19 2005 -0800

    [SPARC]: More abstractions and cleanups of dma handling in cs4231.
    
    From: Georg Chini <georg.chini@triaton-webhosting.com>
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit dedeb0029b9c83420fc1337d4ee53daa7b2a0ad4
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 7 14:09:01 2005 -0800

    [SPARC64] mm: context switch ptlock
    
    sparc64 is unique among architectures in taking the page_table_lock in
    its context switch (well, cris does too, but erroneously, and it's not
    yet SMP anyway).
    
    This seems to be a private affair between switch_mm and activate_mm,
    using page_table_lock as a per-mm lock, without any relation to its uses
    elsewhere.  That's fine, but comment it as such; and unlock sooner in
    switch_mm, more like in activate_mm (preemption is disabled here).
    
    There is a block of "if (0)"ed code in smp_flush_tlb_pending which would
    have liked to rely on the page_table_lock, in switch_mm and elsewhere;
    but its comment explains how dup_mmap's flush_tlb_mm defeated it.  And
    though that could have been changed at any time over the past few years,
    now the chance vanishes as we push the page_table_lock downwards, and
    perhaps split it per page table page.  Just delete that block of code.
    
    Which leaves the mysterious spin_unlock_wait(&oldmm->page_table_lock)
    in kernel/fork.c copy_mm.  Textual analysis (supported by Nick Piggin)
    suggests that the comment was written by DaveM, and that it relates to
    the defeated approach in the sparc64 smp_flush_tlb_pending.  Just delete
    this block too.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit b8ae48656db860d4c83a29aa7b0588fc89361935
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 7 14:08:46 2005 -0800

    [SPARC64] mm: don't re-evaluate *ptep
    
    sparc64 prom_callback and new_setup_frame32 each operates on a user page
    table without holding lock, and no doubt they've good reason.  But I'd
    feel more confident if they were to do a "pte = *ptep" and then operate
    on pte, rather than re-evaluating *ptep.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 5a820fa7e1a34f12fec4e6766e5c335ae9427028
Author: Georg Chini <georg.chini@triaton-webhosting.com>
Date:   Mon Nov 7 14:08:25 2005 -0800

    [SPARC]: Make SBUS dma code similar to EBUS
    
    From: Georg Chini <georg.chini@triaton-webhosting.com>
    
    Introduce some sbus_dma routines similar to the
    ebus_dma stuff to make the code look nearly the same
    for both cases.
    
    Thanks to Christopher for testing.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit ee1858d3122dedd2e82a61b6ab56b229aefd9447
Author: Lars Kotthoff <metalhead@metalhead.ws>
Date:   Mon Nov 7 14:08:04 2005 -0800

    [SPARC]: Add sun4m LED driver.
    
    This is a forward port of a 2.4.x sun4m LED driver written by Lars
    Kotthoff.
    
    Signed-off-by: Lars Kotthoff <metalhead@metalhead.ws>
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 254ce8dc882f8d69e5d49ed4807c94a61976fb15
Merge: 89de09a... 896937a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 13:32:52 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 89de09a9ba9ce293228b1f1aa3c68b5af33a70ce
Merge: dad2ad8... f6db449...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 13:32:21 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit f6db449ca312d33045907337b68de1f647cf0730
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 21:30:21 2005 +0000

    [ARM] Allow SMP if Realview MPcore is selected
    
    This patch puts into place the final piece of the puzzle for SMP
    support on ARM.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dad2ad82c5f058367df79de022bd12d36afcd065
Merge: 7079060... b7fb358...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 13:28:20 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/cpufreq

commit 7079060f3e86ea4c1d4e9c1e356592ef9dcaaa1f
Merge: 3f00d3e... 0a1cc0b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 13:26:58 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/davej/agpgart

commit 896937ad5c8a1f7264b43b79c0bac2bd8d993ece
Author: Uli Luckas <u.luckas@road-gmbh.de>
Date:   Mon Nov 7 21:22:07 2005 +0000

    [ARM] 3120/1: Fix MMC/SD card driver resume deadlock
    
    Patch from Uli Luckas
    
    This is a simplification of patch 3116/1 as sugested by Russell King.
    
    Signed-off-by: Uli Luckas <u.luckas@road-gmbh.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5391473f7be88748ec248e0e70f1a4430a03eb52
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Nov 7 21:12:09 2005 +0000

    [ARM] 3121/1: unconditionally use XCB=101 on ixp2000
    
    Patch from Lennert Buytenhek
    
    Since we have to use XCB=101 instead of XCB=000 on the ixp2400 to
    prevent it from regularly falling over, and since we have to deal with
    manual write buffer flushing because of that, we might as well use
    XCB=101 on all ixp2000 platforms since it's faster than XCB=000.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bedf142b8bba4331ed93161292a4ce4f8cde7308
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Nov 7 21:12:08 2005 +0000

    [ARM] 3118/1: fix and reenable nwfpe extended precision emulation for big-endian
    
    Patch from Lennert Buytenhek
    
    nwfpe extended precision emulation used to be broken on big-endian
    and was therefore disabled.  This patch fixes nwfpe so that it copies
    extended precision floats to/from userspace in the proper word order
    (similar to patch #2046, see the description of that patch for an
    explanation) and reenables the Kconfig option.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 06c03cac9487555478c7d80065ebf7818bf6fd06
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Nov 7 21:12:07 2005 +0000

    [ARM] 3117/1: nwfpe kernel memory info leak
    
    Patch from Lennert Buytenhek
    
    The routine that nwfpe uses for converting floats/doubles to
    extended precision fails to zero two bytes of kernel stack.  This
    is not immediately obvious, as the floatx80 structure has 16 bits
    of implicit padding (by design.)  These two bytes are copied to
    userspace when an stfe is emulated, causing a possible info leak.
    
    Make the padding explicit and zero it out in the relevant places.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 862184fe013146a0d9654a5598c5a2691747541c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 21:05:42 2005 +0000

    [ARM SMP] Add Realview MPcore SMP support
    
    Add SMP support for the MPcore tile fitted to the Realview ARM
    platform.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fea543f47733cc843cd74d95065ed1d4a04b38ed
Merge: 9b1283b... cd03adb...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 21:04:24 2005 +0000

    Merge with ARM SMP tree

commit 9b1283bedd6b8fe2f4dfc47705d6cea1b5e2d853
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 21:01:06 2005 +0000

    [ARM] Add support for Realview with MPcore tile
    
    Add uniprocessor support for Realview platform fitted with the
    MPcore (SMP) tile.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9138d581b0ef855c0314c41c14852a7231b9941c
Author: Keith Owens <kaos@sgi.com>
Date:   Mon Nov 7 11:27:13 2005 -0800

    [IA64] Extend notify_die() hooks for IA64
    
    notify_die() added for MCA_{MONARCH,SLAVE,RENDEZVOUS}_{ENTER,PROCESS,LEAVE} and
    INIT_{MONARCH,SLAVE}_{ENTER,PROCESS,LEAVE}.  We need multiple
    notification points for these events because they can take many seconds
    to run which has nasty effects on the behaviour of the rest of the
    system.
    
    DIE_SS replaced by a generic DIE_FAULT which checks the vector number,
    to allow interception of faults other than SS.
    
    DIE_MACHINE_{HALT,RESTART} added to allow last minute close down
    processing, especially when the halt/restart routines are called from
    error handlers.
    
    DIE_OOPS added.
    
    The check for kprobe's break numbers has been moved from traps.c to
    kprobes.c, allowing DIE_BREAK to be used for any additional break
    numbers, i.e. it is no longer kprobes specific.
    
    Hooks for kernel debuggers and kernel dumpers added, ENTER and LEAVE.
    Both of these disable the system for long periods which impact on
    watchdogs and heartbeat systems in general.  More patches to come that
    use these events to reset watchdogs and heartbeats.
    
    unregister_die_notifier() added and both routines exported.  Requested
    by Dean Nelson.
    
    Lock removed from {un,}register_die_notifier.  notifier_chain_register()
    already takes a lock.  Also the generic notifier chain locking is being
    reworked to distinguish between callbacks that can block and those that
    cannot, the lock in {un,}register_die_notifier would interfere with
    that change.  http://marc.theaimsgroup.com/?l=linux-kernel&m=113018709002036&w=2
    
    Leading white space removed from arch/ia64/kernel/kprobes.c.
    
    Typo in mca.c in original version of this patch found & fixed by Dean
    Nelson.
    
    Signed-off-by: Keith Owens <kaos@sgi.com>
    Acked-by: Dean Nelson <dcn@sgi.com>
    Acked-by: Anil Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 3f00d3e8fb963968a922d821a9a53b503b687e81
Merge: 407cf84... a637a11...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 11:15:23 2005 -0800

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 407cf84f956ee4b52da5508d5357b8ae212ff77c
Merge: b3ce1de... 0aeafa7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 10:30:33 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/dtor/input

commit b3ce1debe2685383a9ad6ace9c49869c3968c013
Merge: 5b2f7ff... c2965f1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 10:24:08 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/tglx/mtd-2.6
    
    Some manual fixups for clashing kfree() cleanups etc.

commit a637a114f36b94a1ad8b9867f43bac0414958420
Author: Ladislav Michl <ladis@linux-mips.org>
Date:   Thu Sep 1 15:07:34 2005 +0000

    VINO driver version 0.0.5.
    
    Second cut of the VINO / Indycam driver for the Silicon Graphics Indy,
    much more feature complete and bug free.

commit a06d61c648890ad7e86d5ea04bd6999b254db193
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sun Nov 6 23:58:21 2005 +0900

    Redefine outs[wl] for ide_outs[wl].
    
    Add missing bits to fix D-cache aliasing problem in the PIO IDE driver.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4fa0997be8050ea34f117f813d3aafa7956a5711
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 7 15:36:44 2005 +0000

    Delete duplicate definitions.
    
    This reverts 8f91ed6c2fec8cb746e4dc86a79247162b4c5a7a.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 16cd3951366a013d52006982108437d3343c2fae
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sat Nov 5 23:00:58 2005 +0900

    Fix return type of setup_frame variants
    
    Since 2.6.13-rc1 setup_frame and its variants return int.  But some bits
    were missed in the conversion.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0d959c260e98b6b046d268b5ef5b76caf0026ab2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Nov 5 11:26:43 2005 +0000

    IRIX: Use schedule_timeout_interruptible.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a0f08209c685b4f7dccaf013da74e0e80986c477
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Sat Nov 5 02:02:54 2005 +0900

    Define MAX_UDELAY_MS
    
    If HZ was 1000, mdelay(2) cause overflow on multiplication in
    __udelay.  We should define MAX_UDELAY_MS properly to prevent this.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 53c2df2f4ebbc1d8231ca7cc13ac5381230888b1
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Nov 3 01:01:15 2005 +0900

    Use rtc_lock to protect RTC operations
    
    Many RTC routines were not protected against each other, so there are
    potential races, for example, ntp-update against /dev/rtc.  This patch
    fixes them using rtc_lock.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e329331aedeca0f2a7e15bd26a829ee1619c05e0
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Thu Nov 3 01:02:40 2005 +0900

    Remove mips_rtc_lock
    
    The mips_rtc_lock is no longer needed because RTC operations should be
    protected already by other mechanism. (rtc_lock, local_irq_save, etc.)
    
    Also, locking whole rtc_get_time/rtc_set_time should be avoided while
    some RTC routines might take very long time (a few seconds).
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 28622795972984359b74aa36f9645c7ca23e460b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 7 18:05:37 2005 +0000

    Add .gitignore files for Turbochannel

commit 15b96a475706bfac71697a5d2f256750bdf749d3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Nov 7 18:05:37 2005 +0000

    Add .gitignore files for MIPS.

commit 307bd284c205616e02fb85557b97f0e3e969662e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 31 23:34:52 2005 +0000

    VPE loader janitoring
    
     o Switch to dynamic major
     o Remove duplicate SHN_MIPS_SCOMMON definition
     o Coding style: remove typedefs.
     o Coding style: reorder to avoid the need for forward declarations
     o Use kzalloc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b8c2a77ce38defcf539a4ba5c666f8e9f093f887
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 31 13:08:37 2005 +0000

    PNX8550 uses a MIPS32-like processor core, not R4xx0.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 08eaabfce0ba6eef7a0188888cc42f006914273e
Author: Ilya A. Volynets-Evenbakh <ilya@total-knowledge.com>
Date:   Wed Oct 26 15:30:21 2005 -0700

    O2 parport definitions
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6a4dea1ddea9d95c165ed15f08fa4e4dbbce9b82
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Oct 30 02:05:26 2005 +0200

    OSS MIPS drivers: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b0c705161f3088d384f755b0d92822a2214cba70
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 31 00:33:01 2005 +0000

    Add spaces to MODULE_PROC_FAMILY values.
    
    Only a cosmetic fix to make the output of modinfo look readable.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit afc4841d8a0118fcce9fd520b21ec1da401603a3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 31 00:30:39 2005 +0000

    Turn rtlx upside down.
    
     o Coding style
     o Race condition on open
     o Switch to dynamic major
     o Header file cleanup
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0ad3a96f8ad910ecf87a25ec69ed360b284dee2e
Merge: f79b348... 5b2f7ff...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Nov 7 09:05:22 2005 -0800

    Auto-update from upstream

commit 5b2f7ffcb734d3046144dfbd5ac6d76254a9e522
Merge: 333c47c... b7c4a9f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 09:01:32 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/bunk/trivial

commit 333c47c847c90aaefde8b593054d9344106333b5
Merge: 8f0cb14... c6ea2ba...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 08:32:39 2005 -0800

    Merge branch 'block-dir' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 8f0cb147b2fb12427bf6abef7fed2b604557a41e
Merge: 8e33ba4... b00e844...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 08:09:02 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/perex/alsa

commit 8e33ba49765484bc6de3a2f8143733713fa93bc1
Merge: 8cde077... 2d43f11...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 08:05:11 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/acme/net-2.6

commit 8cde0776ec1e86c270f65bf482f96288e6bf0023
Merge: 2ed5e6d... b78612b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Nov 7 08:04:01 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 2ed5e6d09e266bd2288d49aaaf240ed8c468c13c
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: move some platform irq support out of irq.h
    
    Move some of the m68knommu platform specific irq core support
    to its own header, irqnode.h. Having it in asm-m68knommu/irq.h
    causes some build pain, since it is included in a number of
    common code places (and not all the required definitions will
    be included at these places).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 562d2f8ce4e463e1427ddfab5e84440323856f43
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: FEC ethernet support for the ColdFire 5208
    
    Add support for the new 5208 ColdFire (Matt Waddel / Mike Lavender)
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    I also re-ordered the init code to avoid interrupt lockups on
    some platforms (at least the 5275, but others have reported it on
    the 5235 as well).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7a77d918ad8fb152312525b70780f6e0052b3ee3
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: FEC ethernet header support for the ColdFire 5208
    
    Add support for the new 5208 ColdFire in the FEC ethernet header.
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3dead1a36069e0697a22ab9d623ac2c37247dfd0
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: enable cache support code for ColdFIre 5249
    
    Enable the ColdFire 5249 cache support code - it should have been on.
    Also one more change of "extern inline" to "static inline".
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e51f674588009163d70a650bf7bc2a2e914ef89
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: add ColdFire 5208 configure support
    
    Added support for the new Freescale 5208 ColdFire processor.
    Also changed name "Motorola" to new company name "Freescale".
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f04d62b51828fa3d1dee9fd1ea7f37815595bfa
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire UART support to ColdFire serial driver
    
    Add support for the Freescale 5208 processor UART's to the common
    ColdFire serial port code.
    
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 124df2df0c905b8762cd860a0e3fc9201fba8777
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: align param section and add 5208EVB linker support
    
    Align the param section. It can end up starting on an unalingned
    boundary depending on the size of ksymtab_strings. If it is
    unaligned things like modules will fail to load with unaligned
    access traps.
    
    Add linker scipt support for the M5208EVB board.
    Patch originally from Matt Waddel.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b3d98bb7f2842551bf3dc76ade09826d70a1cbe
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: handle non base address 0 memory of M5208EVB board
    
    The Freescale M5208EVB ColdFire eval board is one of the few that
    doesn't have its DRAM based at address 0. Handle this special case
    in the common ColdFire startup code.
    
    Patch originally from Matt Waddel.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f15bf19b49854c984c27209bd4ade31a9c84f4de
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: modify the ColdFire PIT timer for new 5208
    
    Modified common ColdFire PIT timer code to support the 5208 as well.
    It uses a different set of mask and interrupt bits than other ColdFire
    processors. The defines for these bits have been moved in header
    files and set appropriately for the different processor varients.
    Patch originally from Matt Waddel.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 88a605b02449852213a46f8a8ab760cfc5b9b7c8
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: platform config code for 5208 ColdFire
    
    Platform configuration code for the Freescale 5208 ColdFire processor.
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9ed8a0d6c80bce78c703c85fa2f15db277fde933
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: add ColdFire 5208 and M5208EVB build support
    
    Add build support for the new Freescale 5208 ColdFire processor,
    and its M5208EVB eval board. Patch originally from Matt Waddel.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8766af935f3f018ec4fd420644360643838ec323
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] check for failed kmalloc in inftlmount.c
    
    The INFTL mount code contains a kmalloc() followed by a memset() without
    handling a possible memory allocation failure.
    
    Signed-off-by: Panagiotis Issaris <panagiotis.issaris@mech.kuleuven.ac.be>
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3aec6fe2a24067ffeb2e7641bd9dd18e41654842
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: use the ColdFire PIT timer for new 5208
    
    The Freescale 5208 ColdFire uses the common PIT timer code for
    its internal timer. Build it when configured for the 5208 processor.
    Add support for the internal register map of the 5208 ColdFire fmaily.
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c899990ba94d5d6df25ef868aa7d5249653868c
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire platform Makefile
    
    Add Freescale 5208 ColdFire platform Makefile.
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 54b03d133b63223e3c358f882a935d9a244ed852
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Mon Nov 7 14:09:50 2005 +1000

    [PATCH] m68knommu: add ColdFire 5208 setup support
    
    Add setup support for the new Freescale 5208 ColdFire processor.
    (Also fixed a little typo in there, "UNKOWN" -> "UNKNOWN").
    Patch originally from Matt Waddel (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0020e3f526cdbb2eb9408bc1b12171b3b91625b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 01:01:49 2005 -0800

    [PATCH] max1619 fix
    
    Something horrid has happened to the indenting and braces in this function,
    producing a warning:
    
    drivers/hwmon/max1619.c: In function `max1619_detect':
    drivers/hwmon/max1619.c:196: warning: `man_id' might be used uninitialized in this function
    drivers/hwmon/max1619.c:196: warning: `chip_id' might be used uninitialized in this function
    
    Acked-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b449f63c8ce4a517cb91f237cc3d68d083ec2dd3
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:48 2005 -0800

    [PATCH] drivers/pnp/: cleanups
    
    This patch contains the following possible cleanups:
    - make needlessly global code static
    - #if 0 the following unused global function:
      - core.c: pnp_remove_device
    - #if 0 the following unneeded EXPORT_SYMBOL's:
      - card.c: pnp_add_card
      - card.c: pnp_remove_card
      - card.c: pnp_add_card_device
      - card.c: pnp_remove_card_device
      - card.c: pnp_add_card_id
      - core.c: pnp_register_protocol
      - core.c: pnp_unregister_protocol
      - core.c: pnp_add_device
      - core.c: pnp_remove_device
      - pnpacpi/core.c: pnpacpi_protocol
      - driver.c: pnp_add_id
      - isapnp/core.c: isapnp_read_byte
      - manager.c: pnp_auto_config_dev
      - resource.c: pnp_register_dependent_option
      - resource.c: pnp_register_independent_option
      - resource.c: pnp_register_irq_resource
      - resource.c: pnp_register_dma_resource
      - resource.c: pnp_register_port_resource
      - resource.c: pnp_register_mem_resource
    
    Note that this patch #if 0's exactly one functions and removes no
    functions.  Most it does is the #if 0 of EXPORT_SYMBOL's, so if any modular
    code will use any of them, re-adding will be trivial.
    
    Modular ISAPnP might be interesting in some cases, but this is more legacy
    code.  If someone would work on it to sort all the issues out (starting
    with the point that most users of __ISAPNP__ will have to be fixed)
    re-enabling the required EXPORT_SYMBOL's won't be hard for him.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Adam Belay <ambx1@neo.rr.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fed0578be842dd7d24e5240a75b02bbc748501f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:46 2005 -0800

    [PATCH] unexport phys_proc_id and cpu_core_id
    
    EXPORT_SYMBOL's for phys_proc_id and cpu_core_id were added this year but
    never used.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 233c1234d36cd6f0a38d524f0655c7eca27113e4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:46 2005 -0800

    [PATCH] fs/super.c: unexport user_get_super
    
    There's no modular usage in the kernel and modules shouldn't use this
    symbol.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 59fee5fa4162d567c2a3c48bb40f74b94952b545
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:45 2005 -0800

    [PATCH] sound/oss/sequencer_syms: unexport reprogram_timer
    
    This patch remoes an unneeded EXPORT_SYMBOL.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfed04492f2459e47dcb290be6ed5a8bc37096d5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:44 2005 -0800

    [PATCH] __deprecated_for_modules: panic_timeout
    
    This looks like something which out-of-tree code could possibly be using.
    Give panic_timeout the twelve-month treatment.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24622efd11fc5ee569b008b9f89e5e268265811b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:44 2005 -0800

    [PATCH] __deprecated_for_modules: insert_resource
    
    This looks like something which out-of-tree code could possibly be using.
    Give insert_resource the twelve-month treatment.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b26b9bc58263acda274f82a9dde8b6d96559878a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:43 2005 -0800

    [PATCH] unexport uts_sem
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4664957b8ec78533f542900cecf7c38fbdc0d8da
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:42 2005 -0800

    [PATCH] unexport idle_cpu
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4936967374c1ad0eb3b734f24875e2484c3786cc
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:41 2005 -0800

    [PATCH] mm/swap_state.c: unexport swapper_space
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2de225710b0f7480c29700bf93326b078657db8
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:41 2005 -0800

    [PATCH] mm/swapfile.c: unexport total_swap_pages
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b09d16489f831bfc23d1c7311ee331b0680e90e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:40 2005 -0800

    [PATCH] mm/swap.c: unexport vm_acct_memory
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47bdfb96de47d25bea423b5adbfe1c2e1ceaa296
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:39 2005 -0800

    [PATCH] unexport console_unblank
    
    I didn't find any possible modular usage of console_unblank in the
    kernel.
    
    This patch was already ACK'ed by Alan Cox.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f8b8db77b0cc36670ef4ed6bc31e64537ffa197e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:39 2005 -0800

    [PATCH] unexport nr_swap_pages
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e6a7e0e7cee3d4bc9a9d2f82ef2f9de4687a5656
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:38 2005 -0800

    [PATCH] unexport clear_page_dirty_for_io
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 99697dc02d2c1e8234c88d4256879d080483a57a
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:37 2005 -0800

    [PATCH] unexport hugetlb_total_pages
    
    I didn't find any possible modular usage in the kernel.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55be570c529643e83195d6688805127533184aa4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 01:01:37 2005 -0800

    [PATCH] mm/{mmap,nommu}.c: several unexports
    
    I didn't find any possible modular usage in the kernel.
    
    This patch was already ACK'ed by Christoph Hellwig.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7f988ba304c5f6e78f937a06d120a0097b4d351
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:35 2005 -0800

    [PATCH] kfree cleanup: security
    
    This is the security/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in security/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b2325fe1b7e5654fac9e9419423aa2c58a3dbd83
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:35 2005 -0800

    [PATCH] kfree cleanup: arch
    
    This is the arch/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in arch/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Grant Grundler <grundler@parisc-linux.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f99d49adf527fa6f7a9c42257fa76bca6b8df1e3
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:34 2005 -0800

    [PATCH] kfree cleanup: fs
    
    This is the fs/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in fs/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6044ec8882c726e325017bd948aa0cd94ad33abc
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:32 2005 -0800

    [PATCH] kfree cleanup: misc remaining drivers
    
    This is the remaining misc drivers/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in misc files in
    drivers/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Aristeu Sergio Rozanski Filho <aris@cathedrallabs.org>
    Acked-by: Roland Dreier <rolandd@cisco.com>
    Acked-by: Pierre Ossman <drzeus@drzeus.cx>
    Acked-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>
    Acked-by: Len Brown <len.brown@intel.com>
    Acked-by: "Antonino A. Daplas" <adaplas@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ea7533060e361810c21b2f5ee02151c4dfb85d8
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:31 2005 -0800

    [PATCH] kfree cleanup: drivers/media
    
    This is the drivers/media/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/media/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Cc: Johannes Stezenbach <js@linuxtv.org>
    Cc: Michael Krufky <mkrufky@m1k.net>
    Cc: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Acked-by : Manu Abraham <manu@linuxtv.org>
    Acked-by: Andreas Oberritter <obi@linuxtv.org>
    Acked-by: Wilson Michaels <wilsonmichaels@earthlink.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17fd682e544556a2a829e94383239c029bb21c5e
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:30 2005 -0800

    [PATCH] kfree cleanup: drivers/s390
    
    This is the drivers/s390/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/s390/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Cornelia Huck <cohuck@de.ibm.com>
    Acked-by: Stefan Bader <Stefan.Bader@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c7208f253571ee5f157b98f0e315b5172afe092
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:29 2005 -0800

    [PATCH] kfree cleanup: drivers/isdn
    
    This is the drivers/isdn/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/isdn/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 735d5661d5c5f023a78fbe68e771e261040ff1b7
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:29 2005 -0800

    [PATCH] kfree cleanup: drivers/char
    
    This is the drivers/char/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/char/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fa671646f61182cd18234461a6e65f50c6558695
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:27 2005 -0800

    [PATCH] kfree cleanup: drivers/mtd
    
    This is the drivers/mtd part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/mtd/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Cc: David Woodhouse <dwmw2@infradead.org>
    Acked-by: Joern Engel <joern@wohnheim.fh-wedel.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9475cb0c358ff0dd473544280d92482df491913
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:26 2005 -0800

    [PATCH] kfree cleanup: drivers/scsi
    
    This is the drivers/scsi/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in drivers/scsi/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Acked-by: Kai Makisara <kai.makisara@kolumbus.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 089b1dbbde28f0f641c20beabba28fa89ab4fab9
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:26 2005 -0800

    [PATCH] bluetooth: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Cc: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5e3c2faa20615e900ab26bd957f898400435924
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:25 2005 -0800

    [PATCH] ide: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c2153844d72ac92b6da0ee42f7f81fb0aa91f8a
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:24 2005 -0800

    [PATCH] drivers/firmware: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49d0c6039dd36791cad36624e68bce5fe011bf12
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:24 2005 -0800

    [PATCH] drivers/fc4: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8ac5436ced2fd4eab3abe7cbc6d5a29881fa9ccb
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:23 2005 -0800

    [PATCH] drivers/eisa: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e66860cbda4a1880fa379bee17d6ab926e5cc58e
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:22 2005 -0800

    [PATCH] drivers/dio: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c857eeb0c18adaa7432afb519db066a6349687f
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Nov 7 01:01:22 2005 -0800

    [PATCH] drivers/cdrom: kmalloc + memset -> kzalloc conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3c76bc5bfda308aa42d5f42fde8dc1931e45e8a6
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:21 2005 -0800

    [PATCH] serial: fix-up schedule_timeout() usage
    
    Use schedule_timeout_uninterruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9a3047dd8ae43ff24caae5ec733a93df129568e
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:20 2005 -0800

    [PATCH] drivers/scsi: fix-up schedule_timeout() usage
    
    Use schedule_timeout_uninterruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6521018d4bf9522b4de47254ea15e8c1be1ec00f
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:19 2005 -0800

    [PATCH] message: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: "Moore, Eric Dean" <Eric.Moore@lsil.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8b93ec77a6423cc57189561567ee41fa7fa1f5b6
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:18 2005 -0800

    [PATCH] drivers/media: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Mauro Carvalho Chehab <mchehab@brturbo.com.br>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66c006a55137cc51f8761549e2024a7593180d27
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:17 2005 -0800

    [PATCH] drivers/md: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Neil Brown <neilb@cse.unsw.edu.au>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 12621a163b78d775a95dea60357bc90e58e1a3aa
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:17 2005 -0800

    [PATCH] drivers/macintosh: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 24763c48a3c9cdf0a138038b51a7fca65859cd78
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:16 2005 -0800

    [PATCH] isdn: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4de4ebc6d83de6d9739fa24e49ae4a305d5d1268
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:15 2005 -0800

    [PATCH] ieee1394: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Ben Collins <bcollins@debian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01a527ec7c62efea601a39f0cd8e6a8517259014
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:14 2005 -0800

    [PATCH] drivers/acpi: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.  Also use
    msecs_to_jiffies() instead of direct HZ division to avoid rounding errors.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: "Brown, Len" <len.brown@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bc874d174b224c016adac85fc9dd6da1161ffc57
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:14 2005 -0800

    [PATCH] um: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Acked-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f09f4a25a927080e1fa1331735c3d1b5664866b
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:13 2005 -0800

    [PATCH] ppc: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.  Also use
    human-time conversion functions instead of hard-coded HZ division to avoid
    rounding errors.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28faa4298ec069d1de4f54597f963be8ef35e706
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:12 2005 -0800

    [PATCH] m68k: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: <geert@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e173c031a7542b1f66b6da853772e5de1804399
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Nov 7 01:01:11 2005 -0800

    [PATCH] ia64: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d44e0780bcc47c9b8851099c0dfc1dda3c9db5a9
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:10 2005 -0800

    [PATCH] kernel-doc: fix warnings in vmalloc.c
    
    Fix new kernel-doc errors in vmalloc.c.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f46a240b0a1797eb641c046d445f026563463d4
Author: Rob Landley <rob@landley.net>
Date:   Mon Nov 7 01:01:09 2005 -0800

    [PATCH] ramfs, rootfs, and initramfs docs
    
    Docs for ramfs, rootfs, and initramfs.
    
    Signed-off-by: Rob Landley <rob@landley.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cbf8f0f36a2339f87b9dabbbd301ffd86744620c
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Mon Nov 7 01:01:09 2005 -0800

    [PATCH] VFS: split dentry locking documentation
    
    This patch splits dentry locking documentation from
    Documentation/filesystems/vfs.txt to a separate file.  The dentry locking
    bits are useful but do not fit into the VFS overview document as is.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc7d1f8f96a4d048b56edb22e8c5b0f2c2bd7549
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Mon Nov 7 01:01:08 2005 -0800

    [PATCH] VFS: update overview document
    
    This patch updates the Documentation/filesystems/vfs.txt document.  I
    rearranged and rewrote parts of the introduction chapter and added better
    headings for each section.  I also added a description for the inode
    rename() operation which was missing and added links to some useful
    external VFS documentation.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8887e6e8c04bcefb512cdb08fc7e9c310ac847e
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:07 2005 -0800

    [PATCH] kernel-docs: fix kernel-doc format problems
    
    Convert to proper kernel-doc format.
    
    Some have extra blank lines (not allowed immed.  after the function name)
    or need blank lines (after all parameters).  Function summary must be only
    one line.
    
    Colon (":") in a function description does weird things (causes kernel-doc
    to think that it's a new section head sadly).
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e5d533142c1c178a31d4cc81837eb078f9269bc
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:06 2005 -0800

    [PATCH] more kernel-doc cleanups, additions
    
    Various core kernel-doc cleanups:
    - add missing function parameters in ipc, irq/manage, kernel/sys,
      kernel/sysctl, and mm/slab;
    - move description to just above function for kernel_restart()
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a0d4900697f2d615a77cd99585e743c1af555a3
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:06 2005 -0800

    [PATCH] Doc/hpet.txt: change to < 80 columns
    
    Put text into < 80 columns.  No other changes.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f2709b542c96a2b1910ca5f2fe27dc9023b1225
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:05 2005 -0800

    [PATCH] kernel-doc: fix some kernel-api warnings
    
    Fix various warnings in kernel-doc:
    
    Warning(linux-2614-rc4//include/linux/net.h:89): Enum value 'SOCK_DCCP' not described in enum 'sock_type'
    
    usercopy.c: should use !E instead of !I for exported symbols:
    Warning(linux-2614-rc4//arch/i386/lib/usercopy.c): no structured comments found
    
    fs.h does not need to use !E since it has no exported symbols:
    Warning(linux-2614-rc4//include/linux/fs.h:1182): No description found for parameter 'find_exported_dentry'
    Warning(linux-2614-rc4//include/linux/fs.h): no structured comments found
    
    irq/manage.c should use !E for its exported symbols:
    Warning(linux-2614-rc4//kernel/irq/manage.c): no structured comments found
    
    macmodes.c should use !E for its exported symbols:
    Warning(linux-2614-rc4//drivers/video/macmodes.c): no structured comments found
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c8bec6d5f24b01c53b792b06a645e78d482020d
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:04 2005 -0800

    [PATCH] jbd doc: fix some kernel-doc warnings
    
    Add structure fields kernel-doc for 2 fields in struct journal_s.
    
    Warning(/var/linsrc/linux-2614-rc4//include/linux/jbd.h:808): No description found for parameter 'j_wbuf'
    Warning(/var/linsrc/linux-2614-rc4//include/linux/jbd.h:808): No description found for parameter 'j_wbufsize'
    
    Convert fs/jbd/recovery.c non-static functions to kernel-doc format.
    
    fs/jbd/recovery.c doesn't export any symbols, so it should use
    !I instead of !E to eliminate this warning message:
    
    Warning(/var/linsrc/linux-2614-rc4//fs/jbd/recovery.c): no structured comments found
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2500e7abc8f606d87b2590f205dac080640b6b04
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:01:03 2005 -0800

    [PATCH] Doc/MSI-HOWTO: cleanups
    
    Clean up typos, kernel function interfaces, acronyms, add whitespace,
    improve readability.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 62a07e6e9e93eda88a6eeb5009fc46d44ca60281
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Nov 7 01:01:03 2005 -0800

    [PATCH] ksymoops related docs update
    
    Update ksymoops related documentation to reflect current 2.6 reality.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55032eacdb3acf54f5ba2e4dd9205db2c5c0bce2
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Mon Nov 7 01:01:02 2005 -0800

    [PATCH] Documentation/sparse.txt: mention CF=-Wbitwise
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 411f11405c99141233970c98d23d6a5ec88a4f7f
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Mon Nov 7 01:01:01 2005 -0800

    [PATCH] Fix dm-snapshot tutorial in Documentation
    
    I've recently added this documentation, Alasdair gave some corrections, and
    here are some further corrections on top of his work (partly style issue,
    partly a technical error due to different past experience, partly a note
    which I've added - i.e.  transient snapshots are lighter).
    
    Cc: Alasdair G Kergon <agk@redhat.com>
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f73195ad7e68fb4e546350222d31e19ebc1d3578
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Nov 7 01:01:00 2005 -0800

    [PATCH] matroxfb: Set maxhipri to 0
    
    The current init code sets hiprilvl to 0 and maxhipri to 5.  According to the
    specs those values are illegal on both G200 and G400.  It also causes
    distortions on the TV-out at least when CRTC2 is in YUV mode as is the case
    with DirectFB.  This patch resets both values to 0.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Petr Vandrovec <petr@vandrovec.name>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ea8d9d0384761251db10ecce7618f84b67d50d4
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Nov 7 01:00:59 2005 -0800

    [PATCH] matroxfb: Kill a useless message
    
    No point in spamming the logs with a message about xres rounding.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Petr Vandrovec <petr@vandrovec.name>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c12f30554f29069afd485ecd05a1d54c8aece9f
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Nov 7 01:00:58 2005 -0800

    [PATCH] matroxfb: Use CACHEFLUSH on all chips
    
    Use the CACHEFLUSH register on all chip types.  The register is listed in all
    other specs except 2064W.  However I have verified that the register does work
    on a 2064W despite being marked reserved in the specs.  There were no
    noticeable side effects after writing to the register.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Petr Vandrovec <petr@vandrovec.name>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63921fbfbd87ec745e65d2e9aecdfdc9a4ce73f2
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Nov 7 01:00:57 2005 -0800

    [PATCH] matroxfb: Add support for Mystique AGP
    
    Add new entries for Mystique AGP with the PCI ID 0x051e.
    
    I don't actually have such boards but according to google they do exist.
    Curiosly X.Org doesn't recognize that PCI ID.  And what's even more
    interesting is that Matrox's own Windows drivers don't recognize it either.
    After going through about a dozen different versions I did find one older
    driver that does list this particular ID.  It is also listed in the pci.ids
    file.
    
    I'm not sure if non-220 AGP chips exist.  I left the chip revision check
    intact for AGP chips nonetheless.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Petr Vandrovec <petr@vandrovec.name>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b1e91fdf56930fd3bd11f0df26e686feabf65ebe
Author: Ville Syrjala <syrjala@sci.fi>
Date:   Mon Nov 7 01:00:56 2005 -0800

    [PATCH] matroxfb: Remove an unused wait queue entry
    
    wait_event_event_interruptible() uses a private wait queue entry so there's no
    need for the caller to initialize one.
    
    Signed-off-by: Ville Syrjala <syrjala@sci.fi>
    Signed-off-by: Petr Vandrovec <petr@vandrovec.name>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 183dee0f02d878def016476afd7995bec8d5f3a6
Author: Jake Moilanen <moilanen@austin.ibm.com>
Date:   Mon Nov 7 01:00:55 2005 -0800

    [PATCH] fbdev: ATI RN50 pci id
    
    Here's the PCI ID for the ATI RN50 chip.
    
    Signed-off-by: Jake Moilanen <moilanen@austin.ibm.com>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: "Antonino A. Daplas" <adaplas@hotpop.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5ee1ef96a0d5c49809c61bdbb30cdda88e1d23cf
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:55 2005 -0800

    [PATCH] fbdev: Convert a few drivers to use the fb_find_best_display helper
    
    Convert i810fb, nvidiafb and savagefb to use the fb_find_best_display helper
    when searching for the initial video mode.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 003cfc0c56977f1c3ce48ddfd2073b7c6d75a5d8
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:54 2005 -0800

    [PATCH] fbdev: Add helper to get an appropriate initial mode
    
    Add new helper, fb_find_best_display(), which will search the modelist for the
    best mode for the attached display.  This requires an EDID block that is
    converted to struct fb_monspecs and a private modelist.  The search will be
    done in this manner:
    
    - if 1st detailed timing is preferred, use that
    - else if dimensions of the display are known, use that to estimate xres and
    - else if modelist has detailed timings, use the first detailed timing
    - else, use the very first entry from the modelist
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 14c8102ffc9d08aa86fb08ed4bdb005768650e44
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:53 2005 -0800

    [PATCH] fbdev: Rearrange mode database entries
    
    Rearrange mode database entries such that preferred timings are entered first,
    and less preferred timings are entered last.  (Detailed, VESA,
    established/standard).
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 998e6d51162707685336ff99c029c8911b270d32
Author: Zach Smith <fbui@comcast.net>
Date:   Mon Nov 7 01:00:52 2005 -0800

    [PATCH] fbcon: Add rl (Roman Large) font
    
    I converted the "rl" console font from the kbd utility to be a built-in font
    for the framebuffer console, and I was wondering if you would be OK with
    including it.  I've generated a font_rl.c file and related minor
    modifications.  I find it's the most visually appealing of the kbd fonts which
    is why I use it and selected it for conversion.  I believe the font is GPL'd.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e07dea98761270249f33e733ff86420bc52ccab6
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:51 2005 -0800

    [PATCH] console: Fix compile error
    
    Fix following compile error (From Kernel Bugzilla Bug 5427):
    
    include/linux/console_struct.h:53: error: field `vt_mode' has incomplete type
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fab851ea15206cc375582ad0db79f7827325098
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:50 2005 -0800

    [PATCH] i810fb: Cleanup I2C code
    
    - The functions for reading the 1st and 2nd bus are essentially the same,
      except for the register.  Consolidate them all.
    
    - According to Nicolas Boichat, there is an undocumented 3rd i2c bus for
      attaching daughter cards.  Add support for this.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a0934f2969df4cdea81cf48fde4c8626b32325d
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:49 2005 -0800

    [PATCH] vesafb: Disable mtrr as the default
    
    vesafb occassionally gets the size wrong when setting the mtrr.  When X or DRI
    attempts to set the mtrr, it will fail due to range overlap significantly
    affecting their performance.  Disable mtrr and let the user explicitly enable
    it with the mtrr:n option.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2726bff34441dce3854c62c3748bac2e7879e791
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Mon Nov 7 01:00:48 2005 -0800

    [PATCH] s3c2410fb: initialise device_driver .owner
    
    Initialise the .owner field, so that if the driver is built as a module, the
    system has a link to the owner
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8fb6567e347a04d44b57e2b223cc5845859dfc6a
Author: Michal Januszewski <spock@gentoo.org>
Date:   Mon Nov 7 01:00:47 2005 -0800

    [PATCH] fbdev: fix the fb_find_nearest_mode() function
    
    Currently the fb_find_nearest_mode() function finds a mode with screen
    resolution closest to that described by the 'var' argument and with some
    arbitrary refresh rate (eg.  in the following sequence of refresh rates: 70 60
    53 85 75, 53 is selected).
    
    This patch fixes the function so that it looks for the closest mode as far as
    both resolution and refresh rate are concerned.  The function's first argument
    is changed to fb_videomode so that the refresh rate can be specified by the
    caller, as fb_var_screeninfo doesn't have any fields that could directly hold
    this data.
    
    Signed-off-by: Michal Januszewski <spock@gentoo.org>
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2fe0175491c4784d95f3237ebdc985da7b26a99d
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:46 2005 -0800

    [PATCH] nvidiafb: Fix empty macro
    
    Use do {} while(0) for empty reverse_order() macro.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 475666d4f80f148a091fa20257fe2381223d3c62
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:46 2005 -0800

    [PATCH] fbdev: Workaround for buggy EDID blocks
    
    Some EDID blocks set the flag "prefer first detailed timing" without providing
    any detailed timing at all.  Clear this flag if the block does not provide
    detailed timings.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9127fa28595093a146fc3e2c937747e014e4bfa2
Author: Peter 'p2' De Schrijver <p2@mind.be>
Date:   Mon Nov 7 01:00:42 2005 -0800

    [PATCH] pm2fb: Manual configuration of timings for Elsa Winner 2000 Office
    
    Attached is a small patch which configures the correct memory clock and
    timings on the Elsa Winner 2000 Office pm2 based card.  This is necessary when
    the card is used on a platform which does not support PC style BIOS
    initialization.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1cc650c69f3079ce3c616c998a741bcf6ddf4f4d
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:41 2005 -0800

    [PATCH] savagefb: Convert from VGA IO access to MMIO access
    
    Use MMIO registers instead of banging the VGA IO registers.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1013d26663199f8c1c31e1fe8e9352da09630d69
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:41 2005 -0800

    [PATCH] atyfb: Get initial mode timings from LCD BIOS
    
    Reported by: Jean-Philippe Gurard (Bugzilla Bug 1782)
    
    "I've tried with video=atyfb:debug and video=atyfb:debug,mode:1280x600, \
    nomtrr.
    
    In both case, the screen stays black, but seems divided into 4 vertical bands.
     Some white lines pop up randomly on each vertical band."
    
    The problem is a combination of an incorrect xclk plus lack of timing
    information.  The adapter is attached to an LCD device that can do 1280x600
    (which is not a standard resolution).  The global mode database does not have
    an entry for it.  Fortunately, the Video BIOS contains the complete timing
    info for this display, however, atyfb is not making use of it.
    
    Add support to get the timing information from the BIOS, if available.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eba50850458cf6e907b6b751cb18711666819406
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:40 2005 -0800

    [PATCH] vesafb: Fix color palette handling
    
    Fix out-of-bounds bug.  The pseudopalette has room only for 16 entries, thus,
    write only the first 16 entries to the pseudopalette.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4d8aea6d66aabc1d79aaeb1ecc90562abb8f575
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:39 2005 -0800

    [PATCH] fbdev: Remove software clipping from drawing functions
    
    Remove software clipping from imageblit, fillrect and copyarea.  Clipping is
    not needed because the console layer assures that reads/writes doest not
    happen beyond the extents of the framebuffer.  And software clipping tends to
    hide bugs, if they do exist.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dd0314f7bb407bc4bdb3ea769b9c8a3a5d39ffd7
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:38 2005 -0800

    [PATCH] fbcon: Initialize new driver when old driver is released
    
    If machine has more than 1 driver installed, and they all drive the same
    hardware, it's possible that the driver's fb_release() method will attempt to
    restore the hardware state to the initial state.  This will leave the new
    driver in an undefined state.  To prevent this problem, initialize the new
    driver by calling fb_set_par() when the old driver is released by fbcon.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3084a895c2a963cb9b32271061c832977ff7293c
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:37 2005 -0800

    [PATCH] fbcon: Use helper function when filling out var structure
    
    Instead of manually filling up the fields in struct fb_var_screeninfo, use the
    display_to_var() helper.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d9c5b6eb42d9e235003dd4531b44462a77131ea
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:36 2005 -0800

    [PATCH] fbcon: Consolidate redundant code
    
    Lot's of redundant code scattered throughout fbcon.c.  Consolidate them all
    into one function, fbcon_update_softback().
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c465e05a03209651078b95686158648fd7ed84c5
Author: Antonino A. Daplas <adaplas@gmail.com>
Date:   Mon Nov 7 01:00:35 2005 -0800

    [PATCH] fbcon/fbdev: Move softcursor out of fbdev to fbcon
    
    According to Jon Smirl, filling in the field fb_cursor with soft_cursor for
    drivers that do not support hardware cursors is redundant.  The soft_cursor
    function is usable by all drivers because it is just a wrapper around
    fb_imageblit.  And because soft_cursor is an fbcon-specific hook, the file is
    moved to the console directory.
    
    Thus, drivers that do not support hardware cursors can leave the fb_cursor
    field blank.  For drivers that do, they can fill up this field with their own
    version.
    
    The end result is a smaller code size.  And if the framebuffer console is not
    loaded, module/kernel size is also reduced because the soft_cursor module will
    also not be loaded.
    
    Signed-off-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e764a20196f4e1b497a42fdc6e9d254e7ec290f2
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Nov 7 01:00:34 2005 -0800

    [PATCH] radeonfb: prevent spurious recompilations
    
    Prevent spurious recompilations of the radeonfb driver when I2C/DDC support
    is not included and i2c header files are modified.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3a59026ba111d85b1a86af0f1c4e5a8ef1242d82
Author: Scott MacKenzie <irrational@poboxes.com>
Date:   Mon Nov 7 01:00:33 2005 -0800

    [PATCH] intelfb: extend partial support of i915G to include i915GM
    
    Add partial support for GMA900 within the i915GM chipset.
    
    Signed-off-by: Scott MacKenzie <irrational@poboxes.com>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8c49ef6aeef662e7920435012be8c2ecc41c30d
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 01:00:32 2005 -0800

    [PATCH] nvidiafb: Add flat panel dither support
    
    nvidiafb didn't fully hook-up the code it borrowed from X for doing flat
    panel dithering (this is useful for 6 bits panels).  This adds a driver
    option to force it, and by default "reads" the current value from the chip
    to get the firmware setting.  It significantly improves the quality of
    images on the iMac G5 I have here (though the X driver doesn't yet "read"
    the current value and defaults to 0, so you have to add Option "FBDither"
    "true" to your X config file to get that, I'll try to fix X.org to "read"
    the default unless specified asap).
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: "Antonino A. Daplas" <adaplas@hotpop.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f8c54d20b258acf291dd4490b0e22fa10b2a17f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 01:00:31 2005 -0800

    [PATCH] nvidiafb-fix-mode-setting-ppc-support-warning-fixes
    
    drivers/video/nvidia/nv_setup.c: In function `NVCommonSetup':
    drivers/video/nvidia/nv_setup.c:408: warning: statement with no effect
    drivers/video/nvidia/nv_setup.c:496: warning: statement with no effect
    drivers/video/nvidia/nv_setup.c:504: warning: statement with no effect
    
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: "Antonino A. Daplas" <adaplas@hotpop.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 85f1503aff46089acd9f780b5259752839cf0162
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 01:00:30 2005 -0800

    [PATCH] nvidiafb: Fix mode setting & PPC support
    
    This patch fixes nvifiafb mode setting code to be closer to what the X
    driver does, which actually makes it work on the 5200FX I have access to.
    It also fix the routine that gets the EDID from Open Firmware on PPC, it
    was broken in various ways and would crash at boot.  Compared to the patch
    I posted to linux-fbdev last week, this one just changes a printk to be
    closer to the other ones in the driver.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: "Antonino A. Daplas" <adaplas@hotpop.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ecc41d5e0267de2c010e0fdf8da3c9e3e394f752
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:00:29 2005 -0800

    [PATCH] fb: straighten up fb drivers menu
    
    Arrange frame buffer menu:
    - puts all Epson drivers together
    - removes split of FB_PXA and FB_PXA_PARAMETERS by FB_W100
    - results in PXA, W100, Epson, S3C2410, & Virtual FB drivers being
      presented at the same menu level as all other FB drivers
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Acked-by: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e65c0850ae811a53554e1abe71627fba1261cfc7
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Nov 7 01:00:28 2005 -0800

    [PATCH] framebuffer: add some help text in Kconfig
    
    Frame buffer driver help text changes:
    - Move S3 Trio next to S3 Savage;
    - add or clarify help text for several FB drivers;
    - add help text for FB console;
    - add help text for bootup logos;
    
    Acked-by: Antonino Daplas <adaplas@pol.net>
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 80d188a643b0f550a2aaedf7bf4dd1abd86cfc45
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Mon Nov 7 01:00:27 2005 -0800

    [PATCH] knfsd: make sure svc_process call the correct pg_authenticate for multi-service port
    
    If an RPC socket is serving multiple programs, then the pg_authenticate of
    the first program in the list is called, instead of pg_authenticate for the
    program to be run.
    
    This does not cause a problem with any programs in the current kernel, but
    could confuse future code.
    
    Also set pg_authenticate for nfsd_acl_program incase it ever gets used.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ba7536d5d47e4ecf2259a80b207158dc4e711eb
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Mon Nov 7 01:00:26 2005 -0800

    [PATCH] knfsd: Fix some minor sign problems in nfsd/xdr
    
    There are a couple of tests which could possibly be confused by extremely
    large numbers appearing in 'xdr' packets.  I think the closest to an exploit
    you could get would be writing random data from a free page into a file - i.e.
     leak data out of kernel space.
    
    I'm fairly sure they cannot be used for remote compromise.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70c3b76c28b012452d63bb27f6d0517afb05d86f
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Mon Nov 7 01:00:25 2005 -0800

    [PATCH] knfsd: Allow run-time selection of NFS versions to export
    
    Provide a file in the NFSD filesystem that allows setting and querying of
    which version of NFS are being exported.  Changes are only allowed while no
    server is running.
    
    Signed-off-by: Steve Dickson <steved@redhat.com>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7390022d697bcc62a7556d6fdc61ec56ce3a381a
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Mon Nov 7 01:00:24 2005 -0800

    [PATCH] knfsd: Restore functionality to read from file in /proc/fs/nfsd/
    
    Most files in the nfsd filesystems are transaction files.  You write a
    request, and read a response.
    
    For some (e.g.  'threads') it makes sense to just be able to read and get the
    current value.
    
    This functionality did exist but was broken recently when someone modified
    nfsctl.c without going through the maintainer.  This patch fixes the
    regression.
    
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15b7a1b86d663ef40108b1ba322973e32d5b62d6
Author: Neil Brown <neilb@cse.unsw.edu.au>
Date:   Mon Nov 7 01:00:23 2005 -0800

    [PATCH] knfsd: fix setattr-on-symlink error return
    
    This is a somewhat cosmetic fix to keep the SpecFS validation test from
    complaining.
    
    SpecFS want's to try chmod on symlinks, and ext3 and reiser (at least) return
    ENOTSUPP.
    
    Probably both sides are being silly, but it is easiest to simply make it a
    non-issue and filter out chmod requests on symlinks at the nfsd level.
    
    Signed-off-by: Olaf Kirch <okir@suse.de>
    Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
    Signed-off-by: Neil Brown <neilb@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bc3efcfbf6521ec7bf3e5d969b31745fbd986f8
Author: Ronald S. Bultje <rbultje@ronald.bitfreak.net>
Date:   Mon Nov 7 01:00:22 2005 -0800

    [PATCH] prevent dmesg warning in zr36067 driver
    
    Fix the warning "Debug: sleeping function called from invalid context at
    include/asm/semaphore.h:102" that the zr36067 driver emits every time an
    application using JPEG capture starts up (e.g.  mjpegtools' lavrec).
    
    The warning is harmless, but clogs up the dmesg output.  This was logged as
    bugzilla #5403.  (Thanks to Christian Casteyde for helping me in fixing
    this long-standing annoyance.)
    
    Signed-off-by: Ronald S. Bultje <rbultje@ronald.bitfreak.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 597a107b1d5587dc230dbbe3faeca242daed494e
Author: Martin Bachem <info@colognechip.com>
Date:   Mon Nov 7 01:00:20 2005 -0800

    [PATCH] i4l: update hfc_usb driver
    
      - cleanup source
      - remove nonfunctional code parts
    
    Signed-off-by: Karsten Keil <kkeil@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6978bbc097c2f665c336927a9d56ae39ef75fa56
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:20 2005 -0800

    [PATCH] rapidio: message interface updates
    
    Updates the RIO messaging interface to pass a device instance into the
    event registeration and callbacks.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2b0c28d7f8846f80a436093e906f5175d1fa8f55
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:19 2005 -0800

    [PATCH] RapidIO support: ppc32
    
    Adds PPC32 RIO support.  Init code for the MPC85xx RIO ports and glue for the
    STx GP3 board to use it.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fa78cc51794912b7e6ee98cd823fcc84cf79d04a
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:18 2005 -0800

    [PATCH] rapidio: core updates
    
    Addresses issues raised with the 2.6.12-rc6-mm1 RIO support.  Fix dma_mask
    init, shrink some code, general cleanup.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb188d0e857c436b5d365d5ccc629da5a06ed102
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:17 2005 -0800

    [PATCH] RapidIO support: core enum
    
    Adds RapidIO enumeration/discovery.
    
    The core code implements enumeration/discovery, management of
    devices/resources, and interfaces for RIO drivers.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70a50ebd9a94533964c19f918dbbd66763e3f9e5
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:16 2005 -0800

    [PATCH] RapidIO support: core includes
    
    Add RapidIO core include files.
    
    The core code implements enumeration/discovery, management of
    devices/resources, and interfaces for RIO drivers.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 394b701ce4fbfde919a9bcbf84cb4820a7c6d47c
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 01:00:15 2005 -0800

    [PATCH] RapidIO support: core base
    
    Adds a RapidIO subsystem to the kernel.  RIO is a switched fabric interconnect
    used in higher-end embedded applications.  The curious can look at the specs
    over at http://www.rapidio.org
    
    The core code implements enumeration/discovery, management of
    devices/resources, and interfaces for RIO drivers.
    
    There's a lot more to do to take advantages of all the hardware features.
    However, this should provide a good base for folks with RIO hardware to start
    contributing.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d217d5450f11d8c907c0458d175b0dc999b4d06d
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:14 2005 -0800

    [PATCH] Kprobes: preempt_disable/enable() simplification
    
    Reorganize the preempt_disable/enable calls to eliminate the extra preempt
    depth.  Changes based on Paul McKenney's review suggestions for the kprobes
    RCU changeset.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 991a51d83a3d9bebfafdd1e692cf310899d60791
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:14 2005 -0800

    [PATCH] Kprobes: Use RCU for (un)register synchronization - arch changes
    
    Changes to the arch kprobes infrastructure to take advantage of the locking
    changes introduced by usage of RCU for synchronization.  All handlers are now
    run without any locks held, so they have to be re-entrant or provide their own
    synchronization.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3516a46042508a495fac13c2e73530d936ebe015
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:13 2005 -0800

    [PATCH] Kprobes: Use RCU for (un)register synchronization - base changes
    
    Changes to the base kprobes infrastructure to use RCU for synchronization
    during kprobe registration and unregistration.  These changes coupled with the
    arch kprobe changes (next in series):
    
    a. serialize registration and unregistration of kprobes.
    b. enable lockless execution of handlers. Handlers can now run in parallel.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e7a510f92c1e482a7db05afd3cb84af1f4cfe0bc
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:12 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - x86_64 changes
    
    x86_64 changes to track kprobe execution on a per-cpu basis.  We now track the
    kprobe state machine independently on each cpu using a arch specific kprobe
    control block.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f215d985e936cf493959b365a10593b6d5f80447
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:11 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - sparc64 changes
    
    Sparc64 changes to track kprobe execution on a per-cpu basis.  We now track
    the kprobe state machine independently on each cpu using an arch specific
    kprobe control block.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0dc036c91ac11b2b76bb91b59d8c7af919aa4a8d
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:10 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - ppc64 changes
    
    PPC64 changes to track kprobe execution on a per-cpu basis.  We now track the
    kprobe state machine independently on each cpu using an arch specific kprobe
    control block.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8a5c4dc5e5d72b7802f5647082ccf3861a94f013
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:09 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - ia64 changes
    
    IA64 changes to track kprobe execution on a per-cpu basis.  We now track the
    kprobe state machine independently on each cpu using an arch specific kprobe
    control block.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9a0e3a86837ac7542e601c18346102c9d9e65fa5
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:08 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - i386 changes
    
    I386 changes to track kprobe execution on a per-cpu basis.  We now track the
    kprobe state machine independently on each cpu, using an arch specific kprobe
    control block.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e65845235c8120be63001fc1a4ac00c819194bbe
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:07 2005 -0800

    [PATCH] Kprobes: Track kprobe on a per_cpu basis - base changes
    
    Changes to the base kprobe infrastructure to track kprobe execution on a
    per-cpu basis.
    
    Signed-off-by: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 66ff2d0691e00e1e7bfdf398a970310c9a0fe671
Author: Ananth N Mavinakayanahalli <ananth@in.ibm.com>
Date:   Mon Nov 7 01:00:07 2005 -0800

    [PATCH] Kprobes: rearrange preempt_disable/enable() calls
    
    The following set of patches are aimed at improving kprobes scalability.  We
    currently serialize kprobe registration, unregistration and handler execution
    using a single spinlock - kprobe_lock.
    
    With these changes, kprobe handlers can run without any locks held.  It also
    allows for simultaneous kprobe handler executions on different processors as
    we now track kprobe execution on a per processor basis.  It is now necessary
    that the handlers be re-entrant since handlers can run concurrently on
    multiple processors.
    
    All changes have been tested on i386, ia64, ppc64 and x86_64, while sparc64
    has been compile tested only.
    
    The patches can be viewed as 3 logical chunks:
    
    patch 1: 	Reorder preempt_(dis/en)able calls
    patches 2-7: 	Introduce per_cpu data areas to track kprobe execution
    patches 8-9: 	Use RCU to synchronize kprobe (un)registration and handler
    		execution.
    
    Thanks to Maneesh Soni, James Keniston and Anil Keshavamurthy for their
    review and suggestions. Thanks again to Anil, Hien Nguyen and Kevin Stafford
    for testing the patches.
    
    This patch:
    
    Reorder preempt_disable/enable() calls in arch kprobes files in preparation to
    introduce locking changes.  No functional changes introduced by this patch.
    
    Signed-off-by: Ananth N Mavinakayahanalli <ananth@in.ibm.com>
    Signed-off-by: Anil S Keshavamurthy <anil.s.keshavamurthy@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b385676b355549afc9a7507ce09c7df47f166521
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 01:00:05 2005 -0800

    [PATCH] ipmi: fix watchdog timeout panic handling
    
    If a panic came from the IPMI watchdog pretimeout and that was reported via
    an NMI, it would also be reported via the standard IPMI flags, which would
    get picked up when reporting panic events and cause another panic.  This
    adds an atomic to avoid calling panic twice.
    
    Signed-off-by: Corey Minyard <cminyard@mvista.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e61fb5b65150ace7192d1f0ce840fe4cd6285e73
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 01:00:05 2005 -0800

    [PATCH] ipmi: use rcu lock for using command receivers
    
    Use rcu_read_lock for the cmd_rcvrs list, since that was what what
    intended, anyway.  This means that all the users of the cmd_rcvrs_lock are
    tasks, so the irq disables are no longer required for that lock and it can
    become a semaphore.
    
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Acked-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e9a705a0a0ed99833cfef40d509f63a052638f00
Author: Matt Domsch <Matt_Domsch@dell.com>
Date:   Mon Nov 7 01:00:04 2005 -0800

    [PATCH] ipmi: use kthread API
    
    Convert ipmi driver thread to kthread API, only sleep when interface is
    idle.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Cc: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a9a2c44ff0a1350f8bfe3a162ecf71b1c9ce5cc2
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 01:00:03 2005 -0800

    [PATCH] ipmi: add timer thread
    
    We must poll for responses to commands when interrupts aren't in use.  The
    default poll interval is based on using a kernel timer, which varies with HZ.
    For character-based interfaces like KCS and SMIC though, that can be way too
    slow (>15 minutes to flash a new firmware with KCS, >20 seconds to retrieve
    the sensor list).
    
    This creates a low-priority kernel thread to poll more often.  If the state
    machine is idle, so is the kernel thread.  But if there's an active command,
    it polls quite rapidly.  This decrease a firmware flash time from 15 minutes
    to 1.5 minutes, and the sensor list time to 4.5 seconds, on a Dell PowerEdge
    x8x system.
    
    The timer-based polling remains, to ensure some amount of responsiveness even
    under high user process CPU load.
    
    Checking for a stopped timer at rmmod now uses atomics and del_timer_sync() to
    ensure safe stoppage.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c3e7e7916ec61cf58c88af12f4db17f28cffd83a
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 01:00:02 2005 -0800

    [PATCH] ipmi: kcs error0 delay
    
    BMCs can get into ERROR0 state while flashing new firmware, particularly while
    the BMC is erasing the next flash block, which may take a just under 2 seconds
    on a Dell PowerEdge 2800 (1.75 seconds typical), during which time the
    single-threaded firmware may not be able to process new commands.  In
    particular, clearing OBF may not take effect immediately.
    
    We want it to delay in ERROR0 after clearing OBF a bit waiting for OBF to
    actually be clear before proceeding.
    
    This introduces a new return value from the LLDD's event loop,
    SI_SM_CALL_WITH_TICK_DELAY.  This means the calling thread/timer should
    schedule_timeout() at least 1 tick, rather than busy-wait.  This is a longer
    delay than SI_SM_CALL_WITH_DELAY, which is typically a 250us busy-wait.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21dcd300b15f87ce10df8773d029708f27499aa7
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 01:00:01 2005 -0800

    [PATCH] ipmi: bt restart reset fixes
    
    The current BT retry/reset mechanism fails to succeed on a PowerEdge 1650,
    when the controller is wedged with B2H_ATN asserted at XACTION_START.  If this
    occurs, no further commands will ever succeed unless the state of the
    controller is first cleared out.
    
    Furthermore, the soft reset would only occur if the first command after insmod
    was the one that timed out, not if a later command timed out.
    
    This patch changes the retry/reset mechanism to be as follows:
    
    Before retrying a command, clear the state of the BT controller such that the
    flags represent ready for a new transaction.  This increases the chance of
    success of the restarted transaction.
    
    After 2 retries, issue a soft reset and retry one more time before giving up
    and reporting back a failure.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Acked-by: Rocky Craig <rocky.craig@hp.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ea94027b92dd0d02d238d5984cd9089343c1d6cc
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:59 2005 -0800

    [PATCH] ipmi: si start transaction hook
    
    Some commands, on some system BMCs, don't respond at at all.  This is seen on
    Dell PowerEdge x6xx and x7xx systems with IPMI 1.0 BT controllers when a "Get
    SDR" command is issued, with a length field of 0x3A, which happens to be the
    length of about SDR entries.  If another length is passed, this command
    succeeds.
    
    This patch adds general infrastructure for receiving commands before they're
    passed down to the low-level drivers, such that they can be completed
    immediately, or modified, prior to being sent to ->start_transaction().
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5a2b89a4943b423b5b0a07783fee4e08424b0b2
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:58 2005 -0800

    [PATCH] ipmi: more dell fixes
    
    Make SMIC driver ignore EVT_AVAIL and SMS_ATN bits in flags register, as
    they're used by systems management interrupts, not the host OS.
    
    Make the OEM0 Data Available handler work for pre-IPMI 1.5 systems from Dell
    too.
    
    Without these two fixes, PowerEdge 2650 and other similar systems with SMIC
    may hang a process (modprobe or anything using /dev/ipmi0).
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 21d6c542153c680f689a9badf5534bf27704350b
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:57 2005 -0800

    [PATCH] ipmi: poweroff cleanups
    
    Make module_param and MODULE_PARAM_DESC agree on poweroff_powercycle name.
    
    There was an extraneous ifdef in the IPMI poweroff code that prevented it from
    working if PROC_FS was disabled.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc4673eecdcc4a918e4d8796295d798b5e98d602
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:57 2005 -0800

    [PATCH] ipmi: watchdog parms in sysfs
    
    Modify the IPMI watchdog parameters (the ones that make sense) to be exported
    from sysfs.  This is somewhat complicated because these parameters have
    side-effects that must be handled.
    
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Cc: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4edff1c19ef23e15aae64ca03f32c6719822d54
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:56 2005 -0800

    [PATCH] ipmi: various si cleanup
    
    A number of small changes for the various system interface drivers,
    consolidated from a number of patches from Matt Domsch.
    
    Clear B2H_ATN and drain the BMC message buffer on command timeout.  This
    prevents further commands from failing after a timeout.
    
    Add bt_debug and smic_debug module parameters, expose them in sysfs.  This
    lets you enable and disable debugging messages at runtime.
    
    Unsigned jiffies math in ipmi_si_intf.c causes a too-large value to be passed
    to ->event() after jiffies wrap-around.  The BT driver had caught this, but
    didn't know how to fix it.  Now all calls to ->event() use a sane value for
    time.
    
    Increase timeout for commands handed to the BT driver from 2 seconds to 5
    seconds.  This is necessary particularly when the previous command was a
    "Clear SEL", as that command completes, yet the BMC isn't really ready to
    handle another command yet.
    
    Silence BT debugging messages which were being printed on the console.
    
    Increase SMIC timeout form 1/10s to 2s.  This is needed on Dell PowerEdge 2650
    and PowerEdge 750 with ERA/O cards to allow commands to complete without
    timing out.
    
    Adds kcs_debug module param, to match behavior of BT and SMIC.  This also
    prevents messages from being sent to the console unless explicitly requested.
    
    Signed-off-by: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 393d2cc354d150b8b4bb888a9da7db4c935e12bd
Author: Corey Minyard <minyard@acm.org>
Date:   Mon Nov 7 00:59:54 2005 -0800

    [PATCH] ipmi: use refcount in message handler
    
    This patch is rather large, but it really can't be done in smaller chunks
    easily and I believe it is an important change.  This has been out and tested
    for a while in the latest IPMI driver release.  There are no functional
    changes, just changes as necessary to convert the locking over (and a few
    minor style updates).
    
    The IPMI driver uses read/write locks to ensure that things exist while they
    are in use.  This is bad from a number of points of view.  This patch removes
    the rwlocks and uses refcounts and RCU lists to manage what the locks did.
    
    Signed-off-by: Corey Minyard <minyard@acm.org>
    Cc: Matt Domsch <Matt_Domsch@dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f5b3db0017f8415301f3427b30263186e8478c3f
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Mon Nov 7 00:59:53 2005 -0800

    [PATCH] as: cooperating processes
    
    Introduce the notion of cooperating processes (those that submit requests
    close to one another), and use these statistics to make better choices about
    whether or not to do anticipatory waiting.
    
    Help and analysis from Seetharami Seelam <seelam@cs.utep.edu>
    
    Performance testing from Seelam:
    
    I set up my system and executed a couple of tests that I used for OLS.  I
    tested with AS, cooperative process patch merged in -mm tree (which I called
    Nick, below) and the cooperative patch with modifications to as_update_iohist
    (which I called Seelam).
    
    I used a dual-processor (2.28GHz Pentium 4 Xeon) system, with 1 GB main memory
    and 1 MB L2 cache, running Linux 2.6.9.  Only a single processor is used for
    the experiments.  I used 7.2K RPM Maxtor 10GB drive configured with ext2 file
    system.
    
    Experiment 1 (ex1) consists of reading  one Linux source trees using
    
      find . -type f -exec cat '{}' ';' > /dev/null.
    
    Experiment 2 (ex2) consists of reading two disjoint Linux source trees
    using
    
      find . -type f -exec cat '{}' ';' > /dev/null.
    
    Experiment 3 (ex3) consists of streaming read of a 2GB file in the background
    and 1 instance of the chunk reads in Experiment 1.
    
    Timings for reading the Linux source are shown below:
    
                 AS                     Nick          Seelam
    ex1:      0m25.813s               0m27.859s      0m27.640s
    ex2:      1m11.468s               1m13.918s      1m5.869s
    ex3:      81m44.352s             10m38.572s      6m47.994s
    
    The difference between the numbers in Experiment 3 must be due to the code in
    as_update_iohist.  (akpm: that's not part of this patch.  So this patch is
    "Nick").
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit befc649c2274a1c35f0cd1e888dd83652cbb0422
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 7 00:59:52 2005 -0800

    [PATCH] FUSE: pass file handle in setattr
    
    This patch passes the file handle supplied in iattr to userspace, in case the
    ->setattr() was invoked from sys_ftruncate().  This solves the permission
    checking (or lack thereof) in ftruncate() for the class of filesystems served
    by an unprivileged userspace process.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd72faac95d7e47610e981d7ed7b3c1529e55c88
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 7 00:59:51 2005 -0800

    [PATCH] FUSE: atomic create+open
    
    This patch adds an atomic create+open operation.  This does not yet work if
    the file type changes between lookup and create+open, but solves the
    permission checking problems for the separte create and open methods.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31d40d74b402a6fa18a006fb3745f64609f35b77
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 7 00:59:50 2005 -0800

    [PATCH] FUSE: add access call
    
    Add a new access call, which will only be called if ->permission is invoked
    from sys_access().  In all other cases permission checking is delayed until
    the actual filesystem operation.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b62073d502a88fedc5c369f8a004bda7c9d1999
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 7 00:59:49 2005 -0800

    [PATCH] FUSE: bump interface minor version
    
    Though the following changes are all backward compatible (from the kernel's as
    well as the library's POV) change the minor version, so interested
    applications can detect new features.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc4e69dee4a080f6eae3f410daec2593f4fa6f00
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Mon Nov 7 00:59:49 2005 -0800

    [PATCH] VFS: pass file pointer to filesystem from ftruncate()
    
    This patch extends the iattr structure with a file pointer memeber, and adds
    an ATTR_FILE validity flag for this member.
    
    This is set if do_truncate() is invoked from ftruncate() or from
    do_coredump().
    
    The change is source and binary compatible.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 481bed454247538e9f57d4ea37b153ccba24ba7b
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:47 2005 -0800

    [PATCH] consolidate sys_ptrace()
    
    The sys_ptrace boilerplate code (everything outside the big switch
    statement for the arch-specific requests) is shared by most architectures.
    This patch moves it to kernel/ptrace.c and leaves the arch-specific code as
    arch_ptrace.
    
    Some architectures have a too different ptrace so we have to exclude them.
    They continue to keep their implementations.  For sh64 I had to add a
    sh64_ptrace wrapper because it does some initialization on the first call.
    For um I removed an ifdefed SUBARCH_PTRACE_SPECIAL block, but
    SUBARCH_PTRACE_SPECIAL isn't defined anywhere in the tree.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Paul Mackerras <paulus@samba.org>
    Acked-by: Ralf Baechle <ralf@linux-mips.org>
    Acked-By: David Howells <dhowells@redhat.com>
    Acked-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit db73e9aa99bf093427b79877f9475392724fd5e5
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:46 2005 -0800

    [PATCH] remove superflous ctime/mtime updates in affs
    
    Both AFFS and HPFS update the ctime and mtime in the write path, after
    generic_file_write returned and marked the inode dirty.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a463ddd343dacf5f1badae514ed2c5135ec0c3a9
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:46 2005 -0800

    [PATCH] afs: use generic_ro_fops
    
    afs actually had a write method that returned different errors depending on
    whether some flag was set - better return the standard EINVAL errno.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc487002a26a5733967292356434e61dc5da9c98
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:45 2005 -0800

    [PATCH] vxfs: use generic_ro_fops
    
    No need to duplicate a generic readonly file ops table in befs.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2cf06916217b5dcb2cc52a495e1f130cc8434ef5
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:44 2005 -0800

    [PATCH] befs: use generic_ro_fops
    
    No need to duplicate a generic readonly file ops table in befs.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c65b4a60450590e79a28e9717ceffa9e4debb3f
Author: Tim Schmielau <tim@physik3.uni-rostock.de>
Date:   Mon Nov 7 00:59:43 2005 -0800

    [PATCH] fix remaining missing includes
    
    Fix more include file problems that surfaced since I submitted the previous
    fix-missing-includes.patch.  This should now allow not to include sched.h
    from module.h, which is done by a followup patch.
    
    Signed-off-by: Tim Schmielau <tim@physik3.uni-rostock.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6fdcc2162285a8fc96ab12ff85086c37bceaa494
Author: Peter Staubach <staubach@redhat.com>
Date:   Mon Nov 7 00:59:42 2005 -0800

    [PATCH] memory leak in dentry_open()
    
    There is a memory leak possible in dentry_open().  If get_empty_filp()
    fails, then the references to dentry and mnt need to be released.  The
    attached patch adds the calls to dput() and mntput() to release these two
    references.
    
    Signed-off-by: Peter Staubach <staubach@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c7ad5104d8ecf2c3a6428d73748126e91b1a250
Author: Muli Ben-Yehuda <mulix@mulix.org>
Date:   Mon Nov 7 00:59:42 2005 -0800

    [PATCH] perform maintenance on Documentation/vm/hugetlbpage.txt
    
    Updates to Documentation/vm/hugetlbpage.txt:
    
    - there's no need to select HUGETLB_PAGE manually and it's no longer
      under the processor menu.  Update the text accordingly.
    
    - fix typos and trim trailing whitespace.
    
    Signed-Off-By: Muli Ben-Yehuda <mulix@mulix.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 385fd4c59d8bf7895ad3641c4cea615346f684ed
Author: Coywolf Qi Hunt <qiyong@fc-cn.com>
Date:   Mon Nov 7 00:59:39 2005 -0800

    [PATCH] __find_get_block_slow() cleanup
    
    Get rid of the `int unused' parameter of __find_get_block_slow().
    
    Signed-off-by: Coywolf Qi Hunt <qiyong@fc-cn.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53b27584db0446e356c86b3aa43f5107b0170704
Author: Davi Arnaut <davi.arnaut@gmail.com>
Date:   Mon Nov 7 00:59:37 2005 -0800

    [PATCH] smbfs: 'names_cache' memory leak
    
    Data allocated with "__getname()" should always be free'd with "__putname()"
    because of the AUDITSYSCALL code.
    
    Signed-off-by: Davi Arnaut <davi.arnaut@gmail.com>
    Cc: Urban Widmark <urban@teststation.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce44eeb6906cf2b093b76ea69b952621712a4a3c
Author: Davi Arnaut <davi.arnaut@gmail.com>
Date:   Mon Nov 7 00:59:36 2005 -0800

    [PATCH] V9FS: 'names_cache' memory leak
    
    Data allocated with "__getname()" should always be free'd with "__putname()"
    because of the AUDITSYSCALL code.
    
    Signed-off-by: Davi Arnaut <davi.arnaut@gmail.com>
    Cc: <rminnich@lanl.gov>
    Cc: Eric Van Hensbergen <ericvh@ericvh.myip.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit be586bab8bfbf5d429bdfcb6136bdde89583c5c4
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:59:35 2005 -0800

    [PATCH] quota: small cleanups
    
    - "extern inline" -> "static inline"
    
    - every file should #include the headers containing the prototypes for
      it's global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e3f17f0f6e98f58edb13cb38810d93e6d4808e68
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Mon Nov 7 00:59:34 2005 -0800

    [PATCH] Only disallow _setting_ of function key string
    
    Mikael Pettersson <mikpe@csd.uu.se> noted that the current 2.6-git (and 2.4)
    patch to disallow KDSKBSENT for unpriviledged users should be less restrictive
    allowing reading of current function key string entry, but not writing.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 796f8d9b98fc92a5e9aaea8cf932957850332f51
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Nov 7 00:59:33 2005 -0800

    [PATCH] FUTEX_WAKE_OP: enhanced error handling
    
    The code for FUTEX_WAKE_OP calls an arch callback,
    futex_atomic_op_inuser().  That callback can return an error code, but
    currently the caller assumes any error is EFAULT, and will try various
    things to resolve the fault before eventually giving up with EFAULT
    (regardless of the original error code).  This is not a theoretical case -
    arch callbacks currently return -ENOSYS if the opcode they are given is
    bogus.
    
    This patch alters the code to detect non-EFAULT errors and return them
    directly to the user.
    
    Of course, whether -ENOSYS is the correct return value for the bogus opcode
    case, or whether EINVAL would be more appropriate is another question.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Cc: Rusty Russell <rusty@rustcorp.com.au>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Jamie Lokier <jamie@shareable.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d55b5fdaf40846221d543937b786956e27837fda
Author: Zach Brown <zach.brown@oracle.com>
Date:   Mon Nov 7 00:59:31 2005 -0800

    [PATCH] aio: remove aio_max_nr accounting race
    
    AIO was adding a new context's max requests to the global total before
    testing if that resulting total was over the global limit.  This let
    innocent tasks get their new limit tested along with a racing guilty task
    that was crossing the limit.  This serializes the _nr accounting with a
    spinlock It also switches to using unsigned long for the global totals.
    Individual contexts are still limited to an unsigned int's worth of
    requests by the syscall interface.
    
    The problem and fix were verified with a simple program that spun creating
    and destroying a context while holding on to another long lived context.
    Before the patch a task creating a tiny context could get a spurious EAGAIN
    if it raced with a task creating a very large context that overran the
    limit.
    
    Signed-off-by: Zach Brown <zach.brown@oracle.com>
    Cc: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0f6ed7c2641fe4cea83cd09c21928ca30c0983ec
Author: David Howells <dhowells@redhat.com>
Date:   Mon Nov 7 00:59:30 2005 -0800

    [PATCH] Keys: Remove incorrect and obsolete '!' operators
    
    The attached patch removes a couple of incorrect and obsolete '!' operators
    left over from the conversion of the key permission functions from
    true/false returns to zero/error returns.
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28ef35845f2c8da8e1bed068277d2fab1e8c8979
Author: Ingo Molnar <mingo@elte.hu>
Date:   Mon Nov 7 00:59:29 2005 -0800

    [PATCH] small kernel_stat.h cleanup
    
    cleanup: use for_each_cpu() instead of an open-coded NR_CPUS loop.
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a43313668f62a06e14c915b8c8994fc8a1257394
Author: Hans Reiser <reiser@namesys.com>
Date:   Mon Nov 7 00:59:29 2005 -0800

    [PATCH] reiser4: add radix_tree_lookup_slot()
    
    Reiser4 uses radix trees to solve a trouble reiser4_readdir has serving nfs
    requests.
    
    Unfortunately, radix tree api lacks an operation suitable for modifying
    existing entry.  This patch adds radix_tree_lookup_slot which returns pointer
    to found item within the tree.  That location can be then updated.
    
    Both Nick and Christoph Lameter have patches which need this as well.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7361f4d8ca65d23a18ba009b4484612183332c2f
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 00:59:28 2005 -0800

    [PATCH] readahead commentary
    
    Add a few comments surrounding the generic readahead API.
    
    Also convert some ulongs into pgoff_t: the identifier for PAGE_CACHE_SIZE
    offsets into pagecache.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bf8f972d3a1daf969cf44f64cc36d53bfd76441f
Author: Badari Pulavarty <pbadari@us.ibm.com>
Date:   Mon Nov 7 00:59:27 2005 -0800

    [PATCH] SHM_NORESERVE flags for shmget()
    
    Add SHM_NORESERVE functionality similar to MAP_NORESERVE for shared memory
    segments.
    
    This is mainly to avoid abuse of OVERCOMMIT_ALWAYS and this flag is ignored
    for OVERCOMMIT_NEVER.
    
    Signed-off-by: Badari Pulavarty <pbadari@us.ibm.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d8ba3b731086bcae5468f9ea509f39a921b3f9a6
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Nov 7 00:59:26 2005 -0800

    [PATCH] fuse: remove dead code from fuse_permission
    
    The -EROFS check has moved up to permission() in the VFS a while ago.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 274b69335d8f18fe198af2d939331f01fec70659
Author: Abhay Salunke <Abhay_Salunke@dell.com>
Date:   Mon Nov 7 00:59:26 2005 -0800

    [PATCH] dell_rbu: Adding BIOS memory floor support
    
    This patch has the changes to support the memory floor fix done in Dell
    BIOS.  The BIOS incase of packet update mechanism would not accept packet
    placed in memory below a cretain address.  This address is by default 128K
    but can change.  The driver now can accept the memory floor if the user
    chooses to make it will try to allocate contiguous physical memory above
    the memory floor by allocating a set of packets till a valid memory
    allocation is made.  All the allocates then are freed.  This repeats for
    everty packet.
    
    This patch was created by Michael E Brown and has been tested on 2.6.14-rc5
    
    Signed-of-by: Michael E Brown <Michael_E_Brown@Dell.com>
    Signed-off-by: Abhay Salunke <abhay_salunke@dell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e2a8f7a129aff5173c238c8896f004e07a2a3abe
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Mon Nov 7 00:59:25 2005 -0800

    [PATCH] tpm: Fix lack of driver_unregister in init failcases
    
    driver_unregister is not being properly called when the init function
    returns an error case.  Restructured the return logic such that this and
    the other cleanups all happen in one place.  Preformed many of the cleanups
    that Andrew Morton's patch on Thursday made in tpm_atmel.c.  Fixed
    Matthieu's concern about writing before discovery.
    
    (akpm: rmk said:
    
    This driver is buggy.  You must not provide your own release function - it
    doesn't solve the problem which the warning (which you get when you don't
    provide one) is telling you about.
    
    You should convert your device driver over to the replacement dynamic platform
    support, once it is merged.  IOW, something like:
    
    	pdev = platform_device_alloc("mydev", id);
    	if (pdev) {
    		err = platform_device_add_resources(pdev, &resources,
    						ARRAY_SIZE(resources));
    		if (err == 0)
    			err = platform_device_add_data(pdev, &platform_data,
    						sizeof(platform_data));
    		if (err == 0)
    			err = platform_device_add(pdev);
    		} else {
    			err = -ENOMEM;
    		}
    		if (err)
    			platform_device_put(pdev);
    )
    
    Signed-off-by: Kylene Jo Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ccb6e363a68144cdfdaa6d964d63d620c8ac9a9b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:59:23 2005 -0800

    [PATCH] fs/smbfs/request.c: turn NULL dereference into BUG()
    
    In a case documented as
    
      We should never be called with any of these states
    
    BUG() in a case that would later result in a NULL pointer dereference.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6f08b72cdd4b99a190c4e1fcddd63b401e5b572d
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Mon Nov 7 00:59:23 2005 -0800

    [PATCH] serial moxa: fix wrong BUG
    
    There is a wrong BUG in mxser_close.
    
    The BUG is triggered when tty->driver_data == NULL, But in fact this is not
    a bug, because tty->driver->close is called even when tty->driver->open
    fails.
    
    LDD3 tells us to do nothing in such cases.
    
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 64698b694db96b8db6f379de7d2040f61c6fc7bf
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Mon Nov 7 00:59:22 2005 -0800

    [PATCH] serial moxa: fix leaks of struct tty_driver
    
    Fix leak of struct tty_driver in mxser_init & mxser_module_exit
    
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 57432345b644ef92dcd0a378db6bc40ab0e7f314
Author: Kirill Smelkov <kirr@mns.spb.ru>
Date:   Mon Nov 7 00:59:20 2005 -0800

    [PATCH] serial moxa: cleanup mxser_init
    
    Remove explicit tty_driver ops initialisation, because this is already done
    by tty_set_operations.
    
    Signed-off-by: Kirill Smelkov <kirr@mns.spb.ru>
    Cc: Alan Cox <alan@lxorguk.ukuu.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b9b0332fcf122809b9e40e2f0051eebb295ededf
Author: Bob Picco <bob.picco@hp.com>
Date:   Mon Nov 7 00:59:19 2005 -0800

    [PATCH] HPET, Maintainers
    
    This patch identifies the HPET Maintainers.  Clemens in taking over as
    primary maintainer for the HPET driver.  Clemens has i386 hardware with
    HPET and is a better choice than me because of this.  I've shared this
    patch with all cc: recipients and there is agreement on ownership.
    Hopefully this eliminates future confusion in terms of where HPET
    maintenance is owned.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Cc: <clemens@ladisch.de>
    Cc: <venkatesh.pallipadi@intel.com>
    Cc: <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 878129a30435920f74346907baeee68a0be147b8
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Nov 7 00:59:18 2005 -0800

    [PATCH] hfs needs nls
    
    Reported by Eddy Petrisor <eddy.petrisor@gmail.com>
    
    fs/built-in.o(.text+0x35fdc): In function `hfs_mdb_put':
    : undefined reference to `unload_nls'
    fs/built-in.o(.text+0x35ff1): In function `hfs_mdb_put':
    : undefined reference to `unload_nls'
    fs/built-in.o(.text+0x367a5): In function `parse_options':
    super.c: undefined reference to `load_nls'
    fs/built-in.o(.text+0x367db):super.c: undefined reference to `load_nls'
    fs/built-in.o(.text+0x36938):super.c: undefined reference to `load_nls_default'
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Acked-by: Roman Zippel <zippel@linux-m68k.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 665a7583f32ab5b3bfe7a4d88da506542f7cdd75
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Mon Nov 7 00:59:17 2005 -0800

    [PATCH] Remove hlist_for_each_rcu() API, convert existing use to hlist_for_each_entry_rcu
    
    Remove the hlist_for_each_rcu() API, which is used only in one place, and
    is trivially converted to hlist_for_each_entry_rcu(), making the code
    shorter and more readable.  Any out-of-tree uses may be similarly
    converted.
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f46080c41d5f3f7c00b4e169ba4b0b2865258bf
Author: Matt Helsley <matthltc@us.ibm.com>
Date:   Mon Nov 7 00:59:16 2005 -0800

    [PATCH] Process Events Connector
    
    This patch adds a connector that reports fork, exec, id change, and exit
    events for all processes to userspace.  It replaces the fork_advisor patch
    that ELSA is currently using.  Applications that may find these events
    useful include accounting/auditing (e.g.  ELSA), system activity monitoring
    (e.g.  top), security, and resource management (e.g.  CKRM).
    
    Signed-off-by: Matt Helsley <matthltc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 49364ce2534418462d681ad99e52e79a00b0f40b
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 00:59:15 2005 -0800

    [PATCH] write_inode_now(): write inode if not BDI_CAP_NO_WRITEBACK
    
    If the backing_dev_info doesn't have BDI_CAP_NO_WRITEBACK we're not supposed
    to write back an inode's pages.  But in this situation write_inode_now()
    refuses to write the inode itself as well.  Fix.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd6b0762a04978baf48412456a687842de97e381
Author: Prasanna S Panchamukhi <prasanna@in.ibm.com>
Date:   Mon Nov 7 00:59:14 2005 -0800

    [PATCH] Move Kprobes and Oprofile to "Instrumentation Support" menu
    
    Andrew Morton suggested to move kprobes from kernel hacking menu, since
    kernel hacking menu is in-appropriate for the Kprobes.  This patch moves
    Kprobes and Oprofile under instrumentation menu.
    
    (akpm: it's not a natural fit, but things like djprobes and the s390 guys'
    statistics library need a home)
    
    Signed-of-by: Prasanna S Panchamukhi <prasanna@in.ibm.com>
    Cc: Philippe Elie <phil.el@wanadoo.fr>
    Cc: John Levon <levon@movementarian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 78512ece148992a5c00c63fbf4404f3cde635016
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 00:59:13 2005 -0800

    [PATCH] serial console: touch NMI watchdog
    
    Large console spews from IRQ or local_irq_disable() sections can cause the NMI
    watchdog to go off.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0ad775dbba12de3b7d25f586efe81ad995ca75a7
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Nov 7 00:59:12 2005 -0800

    [PATCH] s390: merge common parts of head.S and head64.S
    
    Merge common parts of head.S and head64.S into head.S and move architecture
    specific parts to head31.S and head64.S respectively.  Saves us ~500 lines
    of duplicated assembly code.
    
    Acked-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5da866fe0272db6b664d4c790ad98320bf2feb6
Author: Christian Borntraeger <cborntra@de.ibm.com>
Date:   Mon Nov 7 00:59:12 2005 -0800

    [PATCH] s390: fix memory leak in vmcp
    
    If vmcp is interrupted by a signal the vmcp command buffer is not freed.
    Found by Pete Zaitcev.
    
    Signed-off-by: Christian Borntraeger <cborntra@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1047aa7723997620ba03a21429d2c5d923ebf48f
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Mon Nov 7 00:59:11 2005 -0800

    [PATCH] s390: const pointer uaccess
    
    Using __typeof__(*ptr) on a pointer to const makes the __x variable in
    __get_user const as well.  The latest gcc will refuse to write to it.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cdb32dc90bd38503befd1f4d0b762a1ace09bb28
Author: Ursula Braun-Krahl <braunu@de.ibm.com>
Date:   Mon Nov 7 00:59:10 2005 -0800

    [PATCH] s390: duplicate timeout in qdio
    
    Remove duplicate timeout in qdio_establish().
    
    Signed-off-by: Ursula Braun-Krahl <braunu@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4cd5b9f6df96494b8667deea71b61b66f783cca3
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Mon Nov 7 00:59:09 2005 -0800

    [PATCH] s390: cleanup of include/asm-s390/vtoc.h
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e0291bade7678efe4d3ab70ed14bd7bd216bcef
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Mon Nov 7 00:59:08 2005 -0800

    [PATCH] s390: dasd diag with block sizes > 512
    
    Access to FBA disks via DIAG fails for block sizes > 512 byte.  The device
    analysis code of the DIAG discipline does not properly initialize the DIAG250
    device environment after completion of the analysis.  This results in VM only
    serving 512 bytes per block I/O request whereas Linux expects larger block
    sizes.  Add proper device environment setup to end of analysis code.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86b368a5804d05a6508791f10ebabf7b779eb845
Author: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
Date:   Mon Nov 7 00:59:08 2005 -0800

    [PATCH] s390: dasd diag inline assembly
    
    Future versions of gcc may remove initialization code for control blocks used
    by the diag250 inline assembly due to incompletely specified constraints.
    This may lead to erratic behavior.  Fix the diag250 inline assembly
    constraints.
    
    Signed-off-by: Peter Oberparleiter <peter.oberparleiter@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 187dfc67b461058bbb84a923a17871ed54e10f30
Author: Christian Borntraeger <cborntra@de.ibm.com>
Date:   Mon Nov 7 00:59:07 2005 -0800

    [PATCH] s390: test_bit return value
    
    The test_bit function returns a non-boolean value, it returns 0,1,2,4,...
    instead of only 0 or 1.  This causes wrongs results in the mincore system
    call.  Check against 0 to get a proper boolean value.
    
    Signed-off-by: Christian Borntraeger <cborntra@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d4b68996785326a67e9842219ab69984243ec658
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Mon Nov 7 00:59:06 2005 -0800

    [PATCH] s390: remove pagex support
    
    Remove pagex pseudo page fault code.  It does not work together with the
    system call speedup that makes the complete system call path enabled for
    interrupts.  To make pagex and the syscall speedup code work together we would
    have to add code to the program check handler to do a critical section cleanup
    like the asynchronous interrupt code.  This would make program checks slower.
    Not what we want.
    
    Newer versions of z/VM have the improved pfault pseudo page fault interface.
    This replaces the old pagex interface and does not have the problem.  So its
    better to just rip out the pagex code.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0016408f2428225f1532cbf63ca1c7008e1cc93
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Mon Nov 7 00:59:05 2005 -0800

    [PATCH] s390: ccwgroup online attribute
    
    Make the interface for setting ccw group devices on-/offline consistent with
    that for ccw devices: Check if the device driver provided a set_{on,off}line
    function and just set the device on-/offline if not.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9b4554aa21270f5b6fa19a9dd2285f16e11f15f1
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Nov 7 00:59:04 2005 -0800

    [PATCH] s390: memory query wait psw
    
    Don't switch back to 24 bit addressing mode when waiting for an external
    interrupt and set the correct bit in wait PSW (external mask instead of I/O
    mask).
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 373c491f6d15f29ab2f87d4a60f90cb0b770aaf6
Author: Cornelia Huck <cohuck@de.ibm.com>
Date:   Mon Nov 7 00:59:03 2005 -0800

    [PATCH] s390: documentation update
    
    Fix typos and add a section about cpus in the driver-model documentation.
    
    Signed-off-by: Cornelia Huck <cohuck@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b44e98d7d0754bbcf0222baf179f5e2e3dbea7b
Author: Martin Schwidefsky <schwidefsky@de.ibm.com>
Date:   Mon Nov 7 00:59:02 2005 -0800

    [PATCH] s390: stop_hz_timer vs. xtime updates
    
    The calculation of the value return by next_timer_interrupt from jiffies to
    jiffies_64 is racy against xtime updates.  We need to protect the calculation
    with read_seqbegin/read_seqretry.
    
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1c3ad96f662bf1071a71feffadfe0f7604f14e2
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Nov 7 00:59:02 2005 -0800

    [PATCH] s390: signal delivery
    
    Always create all signal frames for pending signals before returning to
    userspace, not just a single one.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aa3a6f456f6ca162d3406a6e2c09a5c928833e4f
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Mon Nov 7 00:59:01 2005 -0800

    [PATCH] xtensa: struct semaphore.sleepers initialization
    
    No one may sleep on us until we've been down()'d.  So on allocation,
    initialize `sleepers' to 0, just like everyone else does.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Acked-by: Christian Zankel <chris@zankel.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 23f88fe4bffe01a0d29326789cb5813cd6f8158e
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:59:00 2005 -0800

    [PATCH] include/asm-v850/ "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Cc: Miles Bader <miles@gnu.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 26d89d1eef38473d0da64b7137952c56d0b6d13f
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Mon Nov 7 00:58:59 2005 -0800

    [PATCH] uml: build host-binaries with the native host arch again
    
    This patch reverts back the changes to HOSTCFLAGS and HOSTLDFLAGS
    
    When we were building complete binaries to get constants (such as ptrace
    register layout on stack) from host userspace headers, we needed to make the
    arch for building HOST binaries match our one: i.e.  on a 64bit system
    compiling 32bit binaries, we compile 32-bit hostprogs and need, say, 32-bit
    ncurses.  Now we can revert that - that avoids problem with, say, menuconfig
    and ncurses, on a system which can't compile well 32-bit programs.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 353f8d1cd5b8540c1591f00a5cbd3aeca699cfcf
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Mon Nov 7 00:58:58 2005 -0800

    [PATCH] uml: fix hardcoded ZONE_* constants in zone setup
    
    Remove usage of hardcoded constants in paging_init().
    
    By chance I spotted a bug in zones_setup involving a change to ZONE_*
    constants, due to the ZONE_DMA32 patch from Andi Kleen (which is in -mm).
    So, possibly, instead of zones_size[2] you will find zones_size[3] in the
    code, but that change is wrong and this patch is still correct.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Cc: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77cc0db46e5d04b476e1984134892edb86cda8e6
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 7 00:58:57 2005 -0800

    [PATCH] uml: make tt mode-dependent options depend on MODE_TT
    
    This makes some of the tt-specific options actually depend on CONFIG_MODE_TT.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae17381608a11781a6a67e0ce51607f36780aac7
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 7 00:58:57 2005 -0800

    [PATCH] uml: big memory fixes
    
    A number of fixes to improve behavior when large physical memory sizes
    are specified:
    
    - libc files need -D_FILE_OFFSET_BITS=64 because there are unavoidable uses
      of non-64 interfaces in libc
    
    - some %d need to be %u
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 858259cf7d1c443c836a2022b78cb281f0a9b95e
Author: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
Date:   Mon Nov 7 00:58:55 2005 -0800

    [PATCH] uml: maintain own LDT entries
    
    Patch imlements full LDT handling in SKAS:
     * UML holds it's own LDT table, used to deliver data on
       modify_ldt(READ)
     * UML disables the default_ldt, inherited from the host (SKAS3)
       or resets LDT entries, set by host's clib and inherited in
       SKAS0
     * A new global variable skas_needs_stub is inserted, that
       can be used to decide, whether stub-pages must be supported
       or not.
     * Uses the syscall-stub to replace missing PTRACE_LDT (therefore,
       write_ldt_entry needs to be modified)
    
    Signed-off-by: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e763b793f7e5c09a859fc420eb0de385d80cf636
Author: Benjamin LaHaise <bcrl@linux.intel.com>
Date:   Mon Nov 7 00:58:52 2005 -0800

    [PATCH] uml: switch_mm fix
    
    Not quite, something along the lines of the patch below works correctly (and
    makes aio performance not suffer from multiple second delays), as skas0 mode
    correctly switches mm contexts, unlike TT (which should probably get nuked
    from the kernel now that skas0 seems to be working).
    
    Signed-off-by: Benjamin LaHaise <bcrl@linux.intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ff5c6ff54215fe284e515032878111de5d8a5ce1
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 7 00:58:51 2005 -0800

    [PATCH] uml: separate libc-dependent helper code
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from helper.c file under os-Linux dir
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 52c653b3bed323df9006c06cdfb4548ec44b3109
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 7 00:58:50 2005 -0800

    [PATCH] uml: separate libc-dependent early initialization
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from main.c file under os-Linux dir and joins mem.c
    and um_arch.c files.
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb578426253ab9950cc20b4e5dd6aefb5500144f
Author: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
Date:   Mon Nov 7 00:58:50 2005 -0800

    [PATCH] uml: separate libc-dependent uaccess code
    
    The serial UML OS-abstraction layer patch (um/kernel dir).
    
    This moves all systemcalls from uaccess_user.c file under os-Linux dir
    
    Signed-off-by: Gennady Sharapov <Gennady.V.Sharapov@intel.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0e76422ca5f34bb43b97c0945646ef072bcc1776
Author: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
Date:   Mon Nov 7 00:58:47 2005 -0800

    [PATCH] uml: fix UML network driver endianness bugs
    
    ifa->ifa_address and ifa->ifa_mask are defined as __u32, but used as if they
    were char[4].
    
    Network code uses htons() to convert it.  So UML's method to access these
    fields is wrong for bigendians (e.g.  s390)
    
    I replaced bytewise copying by memcpy(), maybe even that might be removed, if
    ifa->ifa_address/mask may be used immediately.
    
    Signed-off-by: Bodo Stroesser <bstroesser@fujitsu-siemens.com>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Cc: <viro@www.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f0272415ad1867cea2a7ef5659769243ae50fbe
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Mon Nov 7 00:58:46 2005 -0800

    [PATCH] uml: fix syscall stubs
    
    Jeff Dike noted that the assembly code for syscall stubs is misassembled with
    GCC 3.2.3: the values copied in registers weren't preserved between one asm()
    and the following one.
    
    So I fixed the thing by rewriting the __asm__ constraints more like unistd.h
    ones.
    
    Note: in syscall6 case I had to add one more instruction (i.e.  moving arg6 in
    eax and shuffling things around) - it's needed for the function to be valid in
    general (we can't load the value from the stack, relative to ebp, because we
    change it), but could be avoided since we actually use a constant as param 6.
    
    The only fix would be to turn stub_syscall6 to a macro and use a "i"
    constraint for arg6 (i.e., specify it's a constant value).
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 953206858070e5921b9d5931c293ec983a6790cb
Author: Jeff Dike <jdike@addtoit.com>
Date:   Mon Nov 7 00:58:45 2005 -0800

    [PATCH] uml: improve stub debugging
    
    Add some more debugging information when a stub does something unexpected,
    usually segfaulting.  Now, it dumps out the stub's registers as well as the
    signal.
    
    Signed-off-by: Jeff Dike <jdike@addtoit.com>
    Cc: Paolo Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9b5444eeb3a663ca4a625878b1421c9e9b18e8b
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:58:44 2005 -0800

    [PATCH] cris: "extern inline" -> "static inline"
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Acked-by: Mikael Starvik <starvik@axis.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f9c3cbcd5d41be597aef9c0ff64ebfc8a91cd6f
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Mon Nov 7 00:58:43 2005 -0800

    [PATCH] cris: printk() duplicate declaration
    
    printk() already declared in include/linux/kernel.h so squish the
    duplication.  Besides, no printk() usage here.  Bye bye.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Cc: Mikael Starvik <starvik@axis.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 31ab269a0307d8725737dfbbdeb5dcde7b41bc36
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Mon Nov 7 00:58:42 2005 -0800

    [PATCH] x86: add MCE resume
    
    It's widely seen a MCE non-fatal error reported after resume.  It seems MCE
    resume is lacked under ia32.  This patch tries to fix the gap.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Acked-by: Pavel Machek <pavel@ucw.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47b90ffe5c10ab9b5cfd14087b28b13109673ee5
Author: Pavel Machek <pavel@ucw.cz>
Date:   Mon Nov 7 00:58:41 2005 -0800

    [PATCH] swsusp: remove unused variable
    
    Remove unused variable, and make code less evil that way.  Fix whitespace
    around for-loop-like macro.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dc19d507b17135069d9c5d6093d4458dc60e1861
Author: Pavel Machek <pavel@ucw.cz>
Date:   Mon Nov 7 00:58:40 2005 -0800

    [PATCH] swsusp cleanups
    
    This cleans spaces between * and pointer up, and adds "int" in "unsigned
    int".
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 36fabc248e5466e3f28897819b0400b5cdbb8dc6
Author: Pavel Machek <pavel@ucw.cz>
Date:   Mon Nov 7 00:58:39 2005 -0800

    [PATCH] suspend-to-ram: update docs
    
    This adds few more working systems.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a4c4af7c8dc1eccdfb8c57e1684f08179b4407e6
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Mon Nov 7 00:58:38 2005 -0800

    [PATCH] cpu hoptlug: avoid usage of smp_processor_id() in preemptible code
    
    Replace smp_processor_id() with any_online_cpu(cpu_online_map) in order to
    avoid lots of "BUG: using smp_processor_id() in preemptible [00000001]
    code:..." messages in case taking a cpu online fails.
    
    All the traces start at the last notifier_call_chain(...) in kernel/cpu.c.
    Since we hold the cpu_control semaphore it shouldn't be any problem to access
    cpu_online_map.
    
    The reason why cpu_up failed is simply that the cpu that was supposed to be
    taken online wasn't even there.  That is because on s390 we never know when a
    new cpu comes and therefore cpu_possible_map consists of only ones and doesn't
    reflect reality.
    
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc658cfe3c66a6124b5a8db90cdcdd440201b1dc
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:58:37 2005 -0800

    [PATCH] arch/i386/kernel/scx200.c should #include <linux/scx200_gpio.h>
    
    Every file should #include the header files containing the prototypes of
    its global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5cc6135af73ad0c7897d1d00ff361e510ac23ccb
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:58:36 2005 -0800

    [PATCH] arch/i386/kernel/reboot_fixups.c should #include <linux/reboot_fixups.h>
    
    Every file should #include the header files containing the prototypes of
    its global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d1ed6366b9f3cb54eb5aef5dae79b39b8d5ce43
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 00:58:35 2005 -0800

    [PATCH] arch/i386/kernel/ldt.c should #include <asm/mmu_context.h>
    
    Every file should #include the header files containing the prototypes of
    its global functions
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 77f72b192fd4624ad639dbf60c48be787c8aea59
Author: Zwane Mwaikambo <zwane@arm.linux.org.uk>
Date:   Mon Nov 7 00:58:33 2005 -0800

    [PATCH] i386: LVT entries remaining unmasked on reboot
    
    Excerpt from bugzilla entry
    
    http://bugzilla.kernel.org/show_bug.cgi?id=5518
    
    "i386 version of Reboot-through-BIOS is unsafe: it forgets to mask APIC LVT
    interrupts before jumping to a BIOS entry point.  As a result, BIOS ends up
    bombarded with interrupts early on boot.  The BIOS does not expect it since
    following a "normal" hardware cpu reset, all APIC LVT registers have the
    Mask bit (16) set and can't generate interrupts.
    
    For example, the version of Phoenix BIOS used by VMware enables interrupts
    for the first time before masking/clearing APIC LVT.  The APIC Timer LVT
    register is still set up for a timer interrupt delivery with a high vector
    from the previous Linux incarnation (0xef in our case).  The BIOS has not
    fully initialized its IDT at this point and the real mode gate for 0xef
    remains all zeros.  Vector 0xef dispatches BIOS to address 0:0, BIOS takes
    a #GP and eventually hangs.
    
    machine_shutdown() does attempt to shut down APIC before jumping to BIOS,
    but it is ineffective"
    
    Signed-off-by: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    Cc: "Seth, Rohit" <rohit.seth@intel.com>
    Cc: Zachary Amsden <zach@vmware.com>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 38e548ee1a79c8da7b3d9e26f2adce9b61413f84
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Mon Nov 7 00:58:31 2005 -0800

    [PATCH] arch/i386: Use ARRAY_SIZE macro
    
    Use ARRAY_SIZE macro instead of sizeof(x)/sizeof(x[0])
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d6d82b6712c808e461090dd483f111f72b3b38b
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:28 2005 -0800

    [PATCH] sh: Use pfn_valid() for lazy dcache write-back on SH7705
    
    SH7705 in extended cache mode has some left-over VALID_PAGE() cruft that it
    checks when doing lazy dcache write-back.  This has been gone for some time
    (the last bits were in the discontig code, which should now also be gone --
    this also fixes up a build error in the non-discontig case).
    
    pfn_valid() gives the desired behaviour, so we switch to that.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 65463b73b14ed43368dc5961a6c3dcb0d98cfe1f
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:24 2005 -0800

    [PATCH] sh: Drop hp690 discontig support
    
    There was only one board using this (hp690 specifically), and it just so
    happens that it's only physically discontiguous at the "normal" P1 offset.  If
    we bump up the P1 offset, it's possible to hit a shadowed region of memory
    where we suddenly become magically contiguous.
    
    As people have been using this shadowed region workaround for quite some time
    (and without any adverse effects), it's time to drop the left over discontig
    bits that no longer have any practical use (it was always very much
    hp690-centric to begin with).
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d229401f130941583eb46a2e8886df61241c14eb
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:23 2005 -0800

    [PATCH] sh: pte_mkhuge() compile fix for !CONFIG_HUGETLB_PAGE
    
    Presently it is bogus to call pte_mkhuge() outside of the CONFIG_HUGETLB_PAGE
    context, as the only processors that support _PAGE_SZHUGE do so in the
    hugetlbpage context only (and this is the only time that _PAGE_SZHUGE is even
    defined).  SH-2 and SH-3 do not support huge pages at all, and so it is not
    possible to enable this.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5cb9783536a41df9f9cba5b0a1d78047ed787f7
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:22 2005 -0800

    [PATCH] sh: SuperHyway support for SH4-202
    
    This adds support for the relatively quirky (ie, not in line with any known
    documentation, and amazed it works at all) SuperHyway implementation on
    SH4-202.  This depends on the earlier SuperHyway patch for multiple block
    support and VCR refactoring.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 055a2512144cd7e60dcaae7a13e460df43b98787
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:21 2005 -0800

    [PATCH] superhyway: multiple block support and VCR rework
    
    This extends the API somewhat to allow for platform-specific VCR reading and
    writing.  Some platforms (like SH4-202) implement the VCR in a split VCRL and
    VCRH, but end up being in reverse order or have other quirks that need to be
    dealt with, so we add a set of superhyway_ops per-bus to accomodate this.
    
    We also have to extend the per-device resources somewhat, as some devices now
    conveniently split control and data blocks.  So we allow a platform to
    register its set of SuperHyway devices via superhyway_add_devices() with the
    control block always ordered as the first resource (as this is the one that
    userspace cares about).
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 72777373b3a09c9132a787d5e1e03eaf64f30a64
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:20 2005 -0800

    [PATCH] sh: Drop deprecated support for custom ramdisk embedding
    
    sh had its own support for embedding ramdisk images in to the kernel binary,
    but people are using initramfs for this now, so we drop the ramdisk embedding.
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e87eaad107d3c0fa81bf9de84f0fe2b7eaaf1fb9
Author: Paul Mundt <lethal@linux-sh.org>
Date:   Mon Nov 7 00:58:19 2005 -0800

    [PATCH] sh: Re-add sh to drivers/Makefile
    
    drivers/sh/ got dropped from drivers/Makefile, so add it back in..
    
    Signed-off-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de672e4ade25502c28486da005be3eb79534017d
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Mon Nov 7 00:58:17 2005 -0800

    [PATCH] ppc32: Add CPM1 config option
    
    Kconfig patch needed by fs_enet to work.  Works like CONFIG_CPM2.
    
    Cc: Kumar <kumar.gala@freescale.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 634e67ff917c079b102317d53556d758dc207969
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 00:58:16 2005 -0800

    [PATCH] ppc32: Add missing initrd header on ppc440
    
    This missing initrd header slipped though last time.
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7869ec6d735e3802f0d442f585ae6bb7633222f6
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 00:58:16 2005 -0800

    [PATCH] ppc32: Remove internal PCI arbiter check on PPC40x
    
    On PPC405GP/GPR it should be possible to enable PCI support, even when the
    internal PCI arbiter is disabled (e.g.  when using an external PCI
    arbiter).  The removed code didn't allow this, and also generated a warning
    on PPC405EP platforms.
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3e9e7c1d0b7a36fb8affb973a054c5098e27baa8
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Nov 7 00:58:15 2005 -0800

    [PATCH] ppc32: cleanup AMCC PPC40x eval boards to support U-Boot
    
    Cleanup PPC40x eval boards (bubinga, walnut and sycamore) to support U-Boot
    as bootloader.  The OpenBIOS bd_info struct is not used in the kernel
    anymore (only U-Boot now).
    
    uImage (U-Boot) tested on walnut, sycamore and bubinga
    zImage (OpenBIOS) tested on sycamore, bubinga and ebony
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 90eb2665841d7b444602736e2141a01c948f75b1
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 00:58:14 2005 -0800

    [PATCH] ppc32: Add Yucca (440SPe eval board) platform
    
    Add support for AMCC PowerPC 440SPe "Yucca" eval board platform.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0f7b8bc57ee90138a7c429951457027a90c326f
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 00:58:13 2005 -0800

    [PATCH] ppc32: Add 440SPe support
    
    Add support for the AMCC PowerPC 440SPe SoC, including PCI Express in root
    port mode.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 41aace4fe81e3da52fa80b8380e5d2d084f77691
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 00:58:12 2005 -0800

    [PATCH] ppc32: Dump error status for both PLB segments on 440SP
    
    The PowerPC 440SP SoC has two Processor Local Bus (PLB) segments (a
    high-throughput segment and a low-latency segment).  Fix our PLB register
    definitions to cope with this, and add code to dump the status of both
    segments when a machine check occurs.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Cc: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fcc188e7fdddd8b23f900e485e6b3db05e7375f4
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Nov 7 00:58:11 2005 -0800

    [PATCH] ppc32: Allow ERPN for early serial to depend on CPU type
    
    The PowerPC 440SPe supports up to 16 GB of RAM, and therefore its IO registers
    are at 0x4_xxxx_xxxx instead of being at 0x1_xxxx_xxxx like most other PPC 440
    chips.  To allow for this, this patch moves the definition of the ERPN used
    for mapping UART0 from being hard-coded in the head_44x.S assembly code to
    being defined in ibm44x.h.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2104da90a9aeef31ff6441d171a7d0492088f1d0
Author: Lee Nicks <allinux@gmail.com>
Date:   Mon Nov 7 00:58:10 2005 -0800

    [PATCH] ppc32: add watchdog & RTC support for Marvell EV64360BP board
    
    This patch adds watchdog, RTC support for Marvell EV64360BP board.
    
    Signed-off-by: Lee Nicks <allinux@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d311b0d3d8fcc279132f7251704b23ec264a194f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Mon Nov 7 00:58:09 2005 -0800

    [PATCH] 3c59x: don't enable scatter/gather w/o checksum support
    
    It is not valid to enable scatter/gather without hardware checksum support
    of some kind. (akpm: applies only to the old boomerang cards).
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 900fd17dd01d2c99dfd1ec0b53a860894a2673ee
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:08 2005 -0800

    [PATCH] 3c59x: enable use of memory-mapped PCI I/O
    
    Add capability for 3c59x driver to use memory-mapped PCI I/O resources.
    This may improve performance for those devices so equipped.  This will be
    the default behaviour for IS_CYCLONE and IS_TORNADO devices.  Additionally,
    it can be enabled/disabled individually for up to MAX_UNITS number of
    devices via the use_mmio module option or for all units via the
    global_use_mmio option.  The use_mmio option overrides the global_use_mmio
    option for those devices specified.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 35b306743d17cdd31357e5de9ce6c549e5d6756e
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:08 2005 -0800

    [PATCH] 3c59x: correct rx_dropped counting
    
    Only increment rx_dropped in case of lack of resources (i.e. not for
    frames with errors).
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb531fc071f9017b4809c806f71e6a7f49b67289
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:07 2005 -0800

    [PATCH] 3c59x: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to 3c59x.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46e5e4a897ade416beb0bd8447fb0ff0bc1bb329
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:06 2005 -0800

    [PATCH] 3c59x: fix some grammar in module parameter descriptions
    
    Correct several (apparently cut & paste) grammatical typos in module
    parameter descriptions.  They seem to have originated as copies of the
    description for "global_options".
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9954ab7fd52afedf0977893352bb3ddb07120214
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:06 2005 -0800

    [PATCH] 3c59x: cleanup init of module parameter arrays
    
    Beautify the array initilizations for the module parameters.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32fb5f06dbb6ca007f7886eb210b7b15545e2e15
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:05 2005 -0800

    [PATCH] 3c59x: bounds checking for hw_checksums
    
    Add bounds checking to usage of hw_checksums module parameter array.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d9e46de34e4212f472684b1561ba323aac54ea25
Author: Tommy Christensen <tommy.christensen@tpack.net>
Date:   Mon Nov 7 00:58:04 2005 -0800

    [PATCH] 3c59x: avoid blindly reading link status twice
    
    In order to spare some I/O operations, be more intelligent about when to
    read from the PHY.
    
    Pointed out by Bogdan Costescu.
    
    Signed-off-by: Tommy S. Christensen <tommy.christensen@tpack.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 106427e65d2b6f3a519ab5d14a3586007e7e0f20
Author: Neil Horman <nhorman@tuxdriver.com>
Date:   Mon Nov 7 00:58:03 2005 -0800

    [PATCH] 3c59x: cleanup of mdio_read routines to use MII_* macros
    
    Clean up mdio_read routines in 3c59x.c to use the MII_* macros defined in
    include/linux/mii.h
    
    Signed-off-by: Neil Horman <nhorman@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 62afe595de7aaac6c140103a34dc8c208afa34e7
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:58:02 2005 -0800

    [PATCH] 3c59x: convert to use of pci_iomap API
    
    Convert 3c59x driver to use pci_iomap API.  This makes it easier to enable
    the use of memory-mapped PCI I/O resources.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cd61ef6268ac52d3dfa5626d1e0306a91b3b2608
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Mon Nov 7 00:58:02 2005 -0800

    [PATCH] slab: Use same schedule timeout for all cpus in cache_reap
    
    Chen noticed that cache_reap uses REAPTIMEOUT_CPUC+smp_processor_id() as
    the timeout for rescheduling.
    
    The "+smp_processor_id()" part is wrong, the timeout should be identical
    for all cpus: start_cpu_timer already adds a cpu dependant offset to avoid
    any clustering.
    
    The attached patch removes smp_processor_id().
    
    Signed-Off-By: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2109a2d1b175dfcffbfdac693bdbe4c4ab62f11f
Author: Pekka J Enberg <penberg@cs.Helsinki.FI>
Date:   Mon Nov 7 00:58:01 2005 -0800

    [PATCH] mm: rename kmem_cache_s to kmem_cache
    
    This patch renames struct kmem_cache_s to kmem_cache so we can start using
    it instead of kmem_cache_t typedef.
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f12bb4f7715f418a9c80f89447948790f476958
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 00:58:00 2005 -0800

    [PATCH] slab: don't BUG on duplicated cache
    
    slab presently goes BUG if someone tries to register an already-registered
    cache.
    
    But this can happen if the user accidentally loads a module which is already
    statically linked into the kernel.  Nuking the kernel is rather a harsh
    reaction.
    
    Change it into a warning, and just fail the kmem_cache_alloc() attempt.  If
    the module is well-behaved, the modprobe will fail and all is well.
    
    Notes:
    
    - Swaps the ranking of cache_chain_sem and lock_cpu_hotplug().  Doesn't seem
      important.
    
    Acked-by: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7fd93cf30c531fd8b014e827e7a85fcfc010b2c6
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Nov 7 00:57:59 2005 -0800

    [PATCH] posix-timers `unlikely' rejig
    
    !unlikely(expr) hurts my brain.   likely(!expr) is more straightforward.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 863c84b97cb660dbb949398e196c0b1bbe4ed39f
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 00:57:58 2005 -0800

    [PATCH] ppc: Fix ppc32 build after 64K pages
    
    Oops, some last minute changes caused the 64K pages patch to break ppc32
    build, this fixes it.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c8e3c8b21bd7a317d071ab8cf478880e7a4f92d6
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 00:57:58 2005 -0800

    [PATCH] ppc64: Fix zImage boot
    
    The zImage wrapper has a bug where it doesn't claim() the memory for the
    kernel properly, it forgets to take into account the offset between the ELF
    header and the kernel itself.  This results on some machines, like G5s,
    into a kernel that crashes at boot when clearing the BSS.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d4b95f06062d590aef8e44d42cec27b1828119f
Author: Hugh Dickins <hugh@veritas.com>
Date:   Mon Nov 7 00:57:57 2005 -0800

    [PATCH] Suppress split ptlock on arches which may use one page for multiple page tables
    
    Suppress split ptlock on arches which may use one page for multiple page
    tables.  Reconsider what better to do (particularly on ppc64) later on.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 732ee21f2894819781766a0cd88e32bdd630d11e
Author: Olof Johansson <olof@lixom.net>
Date:   Mon Nov 7 00:57:55 2005 -0800

    [PATCH] POWERPC/PPC64: Fix CONFIG_SMP=n build for ppc64
    
    Two CONFIG_SMP=n build fixes due to missing <asm/smp.h> includes.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e1531b4218a7ccfc1b2234b87105201e5ebe1bbf
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Nov 7 00:57:54 2005 -0800

    [PATCH] ia64: re-implement dma_get_cache_alignment to avoid EXPORT_SYMBOL
    
    The current ia64 implementation of dma_get_cache_alignment does not work
    for modules because it relies on a symbol which is not exported.  Direct
    access to a global is a little ugly anyway, so this patch re-implements
    dma_get_cache_alignment in a manner similar to what is currently used for
    x86_64.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Cc: "Luck, Tony" <tony.luck@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ecc65e423ef10bdbec12362609b15fa8e8627c8
Author: Yuri Vasilevski <yvasilev@imap.cc>
Date:   Mon Nov 7 00:57:53 2005 -0800

    [PATCH] typo correction for fix-build-on-nls-free-systems
    
    A typo fix for fix-build-on-nls-free-systems.patch that caused all systems
    to be detected as not having NLS.
    
    Signed-off-by: Yuri Vasilevski <yvasilev@duke.math.cinvestav.mx>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7d24f0b8a53261709938ffabe3e00f88f6498df9
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Nov 7 00:57:52 2005 -0800

    [PATCH] ppc64: Fix bug in SLB miss handler for hugepages
    
    This patch, however, should be applied on top of the 64k-page-size patch to
    fix some problems with hugepage (some pre-existing, another introduced by
    this patch).
    
    The patch fixes a bug in the SLB miss handler for hugepages on ppc64
    introduced by the dynamic hugepage patch (commit id
    c594adad5653491813959277fb87a2fef54c4e05) due to a misunderstanding of the
    srd instruction's behaviour (mea culpa).  The problem arises when a 64-bit
    process maps some hugepages in the low 4GB of the address space (unusual).
    In this case, as well as the 256M segment in question being marked for
    hugepages, other segments at 32G intervals will be incorrectly marked for
    hugepages.
    
    In the process, this patch tweaks the semantics of the hugepage bitmaps to
    be more sensible.  Previously, an address below 4G was marked for hugepages
    if the appropriate segment bit in the "low areas" bitmask was set *or* if
    the low bit in the "high areas" bitmap was set (which would mark all
    addresses below 1TB for hugepage).  With this patch, any given address is
    governed by a single bitmap.  Addresses below 4GB are marked for hugepage
    if and only if their bit is set in the "low areas" bitmap (256M
    granularity).  Addresses between 4GB and 1TB are marked for hugepage iff
    the low bit in the "high areas" bitmap is set.  Higher addresses are marked
    for hugepage iff their bit in the "high areas" bitmap is set (1TB
    granularity).
    
    To avoid conflicts, this patch must be applied on top of BenH's pending
    patch for 64k base page size [0].  As such, this patch also addresses a
    hugepage problem introduced by that patch.  That patch allows hugepages of
    1MB in size on hardware which supports it, however, that won't work when
    using 4k pages (4 level pagetable), because in that case hugepage PTEs are
    stored at the PMD level, and each PMD entry maps 2MB.  This patch simply
    disallows hugepages in that case (we can do something cleverer to re-enable
    them some other day).
    
    Built, booted, and a handful of hugepage related tests passed on POWER5
    LPAR (both ARCH=powerpc and ARCH=ppc64).
    
    [0] http://gate.crashing.org/~benh/ppc64-64k-pages.diff
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c2965f1129ee54afcc4ef293ff0f25fa3a7e7392
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:16:01 2005 +0000

    [MTD] chips: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d5c5e78af5cbcaeb7cad5a3c0117de593e5f4824
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:51 2005 +0000

    [MTD] OneNAND: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 61b03bd7c3b55498c6180d43bf71b7bf49114b64
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:49 2005 +0000

    [MTD] NAND: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e5580fbe8a950131b9ccccce0f962811dfb9ef43
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:40 2005 +0000

    [MTD] devices: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 69f34c98c1416eb74c55e38a21dbf3e294966514
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:40 2005 +0000

    [MTD] maps: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1f948b43f7b5cf721cf0d03f507843efc1a9bfad
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:37 2005 +0000

    [MTD] chips: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e4f0648fb400a05adb7c640ce8766a7011d472d3
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:37 2005 +0000

    [MTD] user-abi: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit b00e8443c3eece823052d06ae1c7cb797ab0ddf5
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Nov 7 14:35:14 2005 +0100

    [ALSA] version 1.0.10rc3

commit 61ecfa8777d0bc8e33dc0e5c2cca9b3247da2d37
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:31 2005 +0000

    [MTD] includes: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 03ead8427d65f6986a8bf5fd3f29a879348780ad
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:37 2005 +0000

    [LIB] reed_solomon: Clean up trailing white spaces

commit 182ec4eee397543101a6db8906ed88727d3f7e53
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:16:07 2005 +0000

    [JFFS2] Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 97894cda5773e59bd13e87b72077751099419a9f
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 11:15:26 2005 +0000

    [MTD] core: Clean up trailing white spaces
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit b7c4a9f83f3c0f6f2a2750a389a9b758c3d9e9d2
Merge: 65163fd... 0b154bb...
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Nov 7 12:26:59 2005 +0100

    Merge with http://www.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 01bbaf0b2b7b38e43139dce8bd64f8c7b2b83940
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 10:30:16 2005 +0000

    [ARM] realview core.h uses leds_event_t, so include asm/leds.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 63786d064ca7dd7ccaf29d2a46ad269ad2df8041
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Nov 4 13:58:11 2005 +0100

    [ALSA] ice1724 - Fix ADC mux put callback in aureon.c
    
    Modules: ICE1712 driver
    
    Fix the return value of ADC mux put callback in aureon.c.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b140c8bced6eb464a9d5d5e5cbb04fa4d80ba170
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Mon Nov 7 11:22:04 2005 +0100

    [ALSA] Cleanup - remove sound/core/wrappers.c
    
    Signed-off-by: Jaroslav Kysela <perex@suse.de>

commit c3348760aaffd268f7e91b2185999025fdc5607f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Nov 7 11:14:57 2005 +0100

    [PATCH] Fix wrong irq enable via rtc_control()
    
    rtc_control() may be called in the interrupt context in ALSA rtc-timer
    driver.  The patch fixes the wrong irq enable in rtc.c, and also fixes
    the possible race of bit flags.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit cd03adb0812fe0fb06cdb935e61ec9514254e951
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Nov 7 10:10:28 2005 +0000

    [ARM SMP] Add support for shared memory attribute
    
    We need to set the shared memory attribute in the page tables
    on SMP systems to allow the cache coherency to operate.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1d4ae4a119e5ba711f12b05cdf27f794460add4b
Merge: c2f2f0f... 0b154bb...
Author: Jaroslav Kysela <perex@tm8103>
Date:   Mon Nov 7 11:02:51 2005 +0100

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit b95f9609c761a14d1e7be1a89f2a66399b5ae343
Author: Konstantin Baidarov <kbaidarov@ru.mvista.com>
Date:   Mon Nov 7 09:00:05 2005 +0000

    [MTD] chips cfi_cmdset_0002: Prevent timeout race
    
    We've noticed that sometimes "MTD do_write_buffer(): software timeout"
    message was printed out when writing to a Fujitsu NOR flash.
    It turned out that this was because of a race in the timeout handling
    do_write_buffer(). A small timeout of (HZ / 1000) + 1 is used there, and
    sometimes if the timer interrupt handling takes more than one or even two
    jiffies (which is 1-2 ms with HZ == 1000) and that interrupt happens just
    after chip_ready() call, the driver bails out from a ready polling loop
    despite the chip has actually become ready while all those interrupts were
    handled. To deal with this issue, extra check for chip ready is neccessary on
    timeout expiration (and the checks should better be reordered).
    As do_write_oneword() uses the same approach, it needs to also be changed.
    
    Signed-off-by: Konstantin Baidarov <kbaidarov@ru.mvista.com>
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit be30c10fd8015a00c97c9b473263fe3c581389de
Author: Marian Balakowicz <m8@semihalf.com>
Date:   Mon Nov 7 08:33:38 2005 +0000

    [MTD] maps: Add support for the "TQM834x" Boards
    
    The following patch adds support for the TQ Systems  TQM834x  Boards.
    Verified on TQM8349L.
    
    This is a resubmit after integrating the suggested changes.
    
    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ea17629f3e6f64591a98a9049a0d725d2672509c
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Mon Nov 7 08:09:05 2005 +0000

    [MTD] maps ixp2000: fix compile warnings in ixp2000 map driver
    
    Fix two compile warnings that occur because of treating two
    'unsigned long's as 'void *'s.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 6c2f4267833f453156f8f439cc32eb4c92f357b4
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Nov 7 01:52:57 2005 +0100

    [PATCH] b44: late request_irq in b44_open
    
    Don't request_irq before the registers are reset/init.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 65b984f26f16e97168ee29e53145055412f38a23
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Nov 7 01:52:06 2005 +0100

    [PATCH] b44: s/spin_lock_irqsave/spin_lock/ in b44_interrupt
    
    There is no need to save/restore the irq state as the irq are always
    locally disabled when b44_interrupt is issued.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3353930d9d026ca94747d0766f864b2a0a8c714b
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Nov 7 01:51:34 2005 +0100

    [PATCH] b44: expose counters through ethtool
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 874a6214bc1477004a0dd6f881b078d0d6b1eae9
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Nov 7 01:50:46 2005 +0100

    [PATCH] b44: miscellaneous cleanup
    
    - remove unneeded forward declarations
    - s/kmalloc + memset/kzalloc/
    - whitespace readjustement can't hurt
    - wrong comment: b44_init_rings _is_ called with a spinlock held in
      b44_{open/set_ringparam/set_pauseparam/etc}.
      Actually, it does not need to be able to sleep
    - b44_remove_one() can not be issued with a NULL device in its
      private member: remove the test.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c719369350bc566d2643067421fbf05f4b90e70b
Author: Francois Romieu <romieu@fr.zoreil.com>
Date:   Mon Nov 7 01:50:03 2005 +0100

    [PATCH] b44: b44_start_xmit returns with a lock held when it fails allocating
    
    The patch simply factors out the release of the lock.
    
    Signed-off-by: Francois Romieu <romieu@fr.zoreil.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 193515d51ccb363165d6b09e9ba5c21089e34bad
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Nov 7 00:59:37 2005 -0500

    [libata] eliminate use of drivers/scsi/scsi.h compatibility header/defines

commit b78612b796b0d6cdfba553d456eff008278830e3
Merge: 50eb800... 0b154bb...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Nov 6 23:01:34 2005 -0500

    Merge branch 'master'

commit c6135234550ed89a6fd0e8cb229633967e41d649
Merge: 76032de... 0b154bb...
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 7 14:42:09 2005 +1100

    Merge ../linux-2.6

commit 76032de898f34db55b5048349db56557828a1390
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Nov 7 13:12:03 2005 +1100

    [PATCH] powerpc: Make ppc_md.set_dabr non 64-bit specific
    
    Define ppc_md.set_dabr for both 32 + 64 bit. Cleanup the implementation for
    pSeries also, it was needlessly complex. Now we just do two firmware tests at
    setup time, and use one of two functions, rather than using one function and
    testing on every call.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2249ca9d60d3a8a1f6f223f0f0a0283fcb7ce33e
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Nov 7 13:18:13 2005 +1100

    powerpc: Various UP build fixes
    
    Mostly this involves adding #include <asm/smp.h>, since that defines
    things like boot_cpuid[_phys] and [gs]et_hard_smp_processor_id, which
    are SMP-related but still needed on UP.  This incorporates fixes
    posted by Olof Johansson and Heikki Lindholm.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 30966174341b3db58dfb77b82193eff7f5644a97
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Mon Nov 7 02:49:43 2005 +0100

    [MTD] NAND Kconfig: Simplify dependencies
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit dcad47fc423ac9f4934579af814fa2dad5c8081b
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Nov 7 09:49:43 2005 +1100

    [PATCH] powerpc: Kill ppcdebug
    
    The ancient ppcdebug/PPCDBG mechanism is now only used in two places.
    First, in the hash setup code, one of the bits allows the size of the
    hash table to be reduced by a factor of 8 - which would be better
    accomplished with a command line option for that purpose.  The other
    was a bunch of bus walking related messages in the iSeries code, which
    would seem to be insufficient reason to keep the mechanism.
    
    This patch removes the last traces of this mechanism.
    
    Built and booted on iSeries and pSeries POWER5 LPAR (ARCH=powerpc).
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 723925b7b138cecb29d76169d20149255d354a7a
Author: Olof Johansson <olof@lixom.net>
Date:   Sun Nov 6 14:54:36 2005 -0800

    [PATCH] powerpc: Nicer printing of address at oops
    
    Add nicer printing of faulting address on unresolvable kernel faults.
    
    Makes life a little easier for those who don't know how to decode our
    register contents at oops time.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 55b6332ec89a5fc65d1287708cfd9f06f7a88b90
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Sat Nov 5 14:06:24 2005 -0200

    [PATCH] ppc32: handle access to non-present IO ports on 8xx
    
    This adds exception table entries for I/O instructions on and
    changes MachineCheckException() slightly to cover 8xx specifics (on
    8xx the MCE can be generated while executing the IO access instruction
    itself, which is not the case on PowerMac's, as the comment on traps.c
    details).
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c6d95044a2e124b606b78896a3a2d512e90ef65c
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Sat Nov 5 13:01:16 2005 -0200

    [PATCH] ppc32 8xx: fix m8xx_wdt accessor macro update
    
    The following patch against m8xx_wdt.c adds <asm/io.h> (required for
    out,in_be32/16) and fixes syntatic problems introduced with the IO
    accessor macro update.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9d2ba6faa1c2e10546a4bdf0f9687436d7681b2f
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Sat Nov 5 17:54:22 2005 +0000

    [PATCH] powerpc: Fix i8259 cascade IRQ
    
    setup_irq() aborts immediately if there's no handler for the IRQ in
    question. So i8259_init() should set up its handlers before trying to
    set up the cascade on IRQ 2.
    
    With this and the patch I sent a few days ago to fix initrd on ppc32, my
    Pegasos now runs the arch/powerpc kernel.
    
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3e17404918b119813dfe8d7649df049a451c9e24
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Mon Nov 7 00:52:27 2005 +0000

    [MTD] maps/plat-ram: Avoid gcc 4.0 warning
    
    The assignement of a "const char *" to a "char *" variable
    is emitting a warning with gcc 4.0. We cannot change
    mtd->name to "const char *" as we have dynamic assignements
    of the name. So casting is the correct solution here
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 868801e561d5d6df40a66197e2f803a109c19e7a
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Sat Nov 5 03:21:15 2005 +0000

    [MTD] NAND: nand_write_ecc memory and OOB corruption
    
    Nathan Roberts noticed the nand_write_ecc index into oobbuf goes out of
    bounds when crossing an erase block boundary, causing incorrect OOB data
    to be written and corrupting memory.  Reset the index to zero after
    re-preparing oobbuf for a new erase block.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 49196f3332e661ccc221734c3103115d8cd4ee49
Author: Vitaly Wool <vwool@ru.mvista.com>
Date:   Wed Nov 2 16:54:46 2005 +0000

    [MTD] NAND nand_base: Fix shift for bad block check (16bit devices only)
    
    In case of an odd offset, the result was shifted by 1 instead of 8
    
    Signed-off-by: Vitaly Wool <vwool@ru.mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ead837174d265b24334f0721a84cbdda8ccd89a7
Author: John Rose <johnrose@austin.ibm.com>
Date:   Fri Nov 4 15:30:56 2005 -0600

    [PATCH] dlpar enable for OF pci probe
    
    This patch contains the arch/ppc64 bits for enabling DLPAR and PCI
    Hotplug for the new OF-based PCI probe mechanism.  This code path is
    currently broken.
    
    Signed-off-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0b154bb7d0cce80e9c0bcf11d4f9e71b59409d26
Merge: 6adfd34... ab919c0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 6 16:59:14 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sam/kbuild

commit 6adfd34e85d6ddcf56a652a3dccb26f76aff8fd9
Merge: b54a063... 2c119aa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 6 16:58:38 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-drvmodel

commit b54a063df48cb1296f744b5ba456c45ce7efff35
Merge: 085f20e... 1555972...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 6 16:58:11 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 085f20e481190cd0597d72ec49bffc07bda4c9be
Merge: 3c726f8... 21c614a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Nov 6 16:57:34 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 3c726f8dee6f55e96475574e9f645327e461884c
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Mon Nov 7 11:06:55 2005 +1100

    [PATCH] ppc64: support 64k pages
    
    Adds a new CONFIG_PPC_64K_PAGES which, when enabled, changes the kernel
    base page size to 64K.  The resulting kernel still boots on any
    hardware.  On current machines with 4K pages support only, the kernel
    will maintain 16 "subpages" for each 64K page transparently.
    
    Note that while real 64K capable HW has been tested, the current patch
    will not enable it yet as such hardware is not released yet, and I'm
    still verifying with the firmware architects the proper to get the
    information from the newer hypervisors.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46d0d0fb61ec6630dc2c844e3c5bf5ef44dedcbe
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Mon Nov 7 01:14:05 2005 +0100

    [MTD] OneNAND/Kconfig: Fix dependencies
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit f0250fd7c32d441be54e50f39eed6fbbe9bb100e
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Mon Nov 7 01:11:04 2005 +0100

    Revert "[PATCH] OneNAND: Add simulator"
    
    This reverts 405c829f98d216925de00af2ee52f969f2c2891c commit.

commit 8b37b94721533f2729c79bcb6fa0bb3e2bc2f400
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Sun Nov 6 15:47:02 2005 -0800

    [IB] umad: two small fixes
    
    Two small fixes for the umad module:
     - set kobject name for issm device properly
     - in ib_umad_add_one(), s is subtracted from the index i when
       initializing ports, so s should be subtracted from the index when
       freeing ports in the error path as well.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 01ac742db34fec11469724dc350a417790dbbbbe
Author: Sean Young <sean@mess.org>
Date:   Wed Jun 29 09:46:19 2005 +0000

    [MTD] maps/Kconfig: Simplify and update dependencies
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 28f462308e0fcd30dcab4c50862881dfb68a627c
Author: Sean Young <sean@mess.org>
Date:   Wed Jun 29 09:46:19 2005 +0000

    [MTD] maps/ts5500: Fix partition support. Code cleanup
    
    Signed-off-by: Sean Young <sean@mess.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 15fdc52f35b853e3fa550087987b5ee4ffbd199b
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Mon Nov 7 00:14:42 2005 +0100

    [MTD] Tidy up Tims include cleanup
    
    While we are at it, reorder the includes and
    remove the silly /* TASK */ comment
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 9090ed0b82f817bde471bdbb2e73278ab75f5fd3
Author: David Vrabel <dvrabel@arcom.com>
Date:   Tue Nov 1 16:46:19 2005 +0000

    [MTD] maps/ixp4xx: kill some warnings
    
    - Use map.virt instead of map.map_priv_1 since it has the correct type.
    - Use readw/writew instead of dereferencing an ioremap'd cookie.
    - Remove an unused variable.
    
    Signed-off-by: David Vrabel <dvrabel@arcom.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 87c146dc1a8552d7ad431a41b37ba8168e51e50e
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Thu Nov 3 11:36:45 2005 +0000

    [MTD] NAND sharpsl.c: Add support for akita and borzoi models
    
    The Sharp Zaurus akita and borzoi models are large page flash devices.
    This patch adds support for them to the sharpsl MTD NAND driver but
    keeps the oob layout and bad block positions compatible with the Sharp
    Zaurus 2.4 kernel and ROM bootloader.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 6f6ed056d2d5de7af9f0c14cf5bc73707eeb0a88
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Oct 25 21:28:43 2005 +0100

    [MTD] chips/cfi_cmdset_0001: fix for P30 cfi parsing
    
    Change to the extended cfi table parsing for Intel NOR flash that uses
    the info in the extended table to 'walk' the table rather than using
    hard coding for various primary extended query table version numbers.
    
    From: Jared Hulbert <jaredeh@gmail.com>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 008531f4c30dce606094be8f78c766218edd6754
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Mon Oct 24 17:22:36 2005 +0100

    [JFFS2] Fix broken compile when debug level = 2
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit cfd320fbfcf2ff0137d8e26f46ba4b66dae96083
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Thu Oct 20 22:22:58 2005 +0100

    [MTD] NAND s3c2410.c: Fix timing calculation bugs
    
    Spotted by basprog@mail.ru
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 4fc67fbe52d7c34dfd3e03a1a79f3e078904bba2
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Wed Oct 19 00:29:38 2005 +0100

    [JFFS2] Return 0, not number of bytes written, for success at commit_write
    
    Some callers to block-layer commit_write function treat non-zero return as
    error, notably the loopback mount driver sometimes used in conjunction with
    JFFS2 on NAND flash for bad block avoidance, etc.  Return zero for success
    as do various other commit_write functions.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit fb0258730ad554db531f12fc1c3d5a5234fe52a4
Author: Nicolas Pitre <nico@cam.org>
Date:   Mon Oct 17 22:03:19 2005 +0100

    [MTD] Don't let gcc inline functions marked __xipram
    
    If they get inlined into non __xipram functions we're screwed.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d574504114753f52d8d2a8a0f186d2a5fcd80789
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Mon Oct 10 11:27:05 2005 +0100

    [MTD] NAND s3c2410.c: Fix missing dev parameter to dev_err
    
    Signed-off-by: Ben Dooks <ben@simtec.co.uk>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit df2e162927b7af36d669f0ade81c17036c4001d4
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Mon Oct 10 01:51:30 2005 +0100

    [MTD] maps/plat-ram.c: Initialize owner in device_driver struct
    
    Added .owner initialisation to allow the
    tracking of the device_driver owners when
    built as a module
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e0030b60ceeaea356e49187baf9702b5ce151be1
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Mon Oct 10 01:13:41 2005 +0100

    [MTD] maps/bast-flash.c: Initialize owner in device_driver struct
    
    Added owner to device driver field for tracking
    when loaded as a module.
    
    Signed-off-by: Ben Dooks <ben@simtec.co.uk>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 61a7275491ce3c2b0a243b1fbeda024e5faeb2c6
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Mon Oct 10 01:09:19 2005 +0100

    [MTD] NAND: s3c2410.c Initialize owner in device_driver struct
    
    Added owner fields to the device_driver for tracking
    ownership when built as a module
    
    Signed-off-by: Ben Dooks <ben@simtec.co.uk>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 5cea5dadfebdede8045fca118328860058129eb2
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Fri Sep 30 15:49:12 2005 +0100

    [MTD] mtdpart.c: Allow eraseblock size != power of 2
    
    Don't assume eraseblock size is power of 2.
    Dataflash can have aligned eraseblock size.
    
    From: Peter Menzebach <pm-mtd@mw-itcon.de>
    Acked-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit daba5cc4bcd025a9b4fd02a9117c71bfd400d811
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Fri Sep 30 14:59:17 2005 +0100

    [JFFS2] Fix dataflash support
    
    - assume wbuf may be of size which is not power of 2
    - don't make strange assumption about not padding wbuf for DataFlash
    - use wbuf = DataFlash page and eraseblock >= 8 Dataflash pages
    
    From: Peter Menzebach <pm-mtd@mw-itcon.de>
    Acked-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 83a368380e172c1b2e9fd6ec2a62e457684adf0c
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Thu Sep 29 04:53:16 2005 +0100

    [MTD] OneNAND: Enhanced support for DDP (Dual Densitiy Packages)
    
    Add density mask for better support of DDP chips.
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit a41371eb6d9b368e53867cd85156f07371e9f72f
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Thu Sep 29 03:55:31 2005 +0100

    [MTD] OneNAND: Power Management (PM) support
    
    Add suspend/resume
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d55849aa4d219b734795862692cc6981af848357
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Tue Sep 27 14:40:52 2005 +0100

    [JFFS2] Use memset(struct) instead of nulling struct members one by one
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1555972231f3202f00e04f7c42d2db858e11b874
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 6 21:41:08 2005 +0000

    [ARM] Fix /proc/cpuinfo format for ARM SMP
    
    glibc expects to count lines beginning with "processor" to determine
    the number of processors, not lines beginning with "Processor".  So,
    give glibc the format it expects.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 2f0077e01822424c4f73aa838a063a5b0193d533
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Tue Sep 27 14:17:32 2005 +0100

    [JFFS2] Remove stale comment
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 87590e26ff4e7d57dfdaa81780b1b0d9e9970a4c
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Tue Sep 27 11:26:39 2005 +0100

    [MTD] OneNAND: Add missing files
    
    Simple bad block table source and header files
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 0255fc1b081cf92b56dfe5e1f3a824d050326614
Author: Ben Dooks <ben@simtec.co.uk>
Date:   Mon Sep 26 22:42:57 2005 +0100

    [MTD] NAND: s3c2410 use dev_err() to report errors instead of printk()
    
    Signed-off-by: Ben Dooks <ben@simtec.co.uk>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2bc9764c4837c6b7da540b7a2592ec02f9a14e47
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Mon Sep 26 12:37:25 2005 +0100

    [JFFS2] Rename jffs2_summary_node to jffs2_raw_summary
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ef6f0d1ffcd86484e01cec4fd2d2c5ca5887a43b
Author: Pete Popov <ppopov@pacbell.net>
Date:   Fri Sep 23 02:44:58 2005 +0100

    [MTD] NAND: Alchemy board driver cleanup
    
    - cleaned up the partitions and include files
    - added more flexible CS and address detection and setup
    
    Regression tested on db1200 and db1550.
    
    Signed-off-by: Pete Popov <ppopov@pacbell.net>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 733802d974e5af42acb7cd61b16c0ce6dd03b7ed
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Thu Sep 22 12:25:00 2005 +0100

    [JFFS2] Debug code simplification, update TODO
    
    Simplify the debugging code further.
    Update the TODO list
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit b523b3bac3a745fefd6f604082f2ffa09b808e5e
Author: Joern Engel <joern@wohnheim.fh-wedel.de>
Date:   Sun Sep 18 11:46:45 2005 +0100

    [MTD] maps: Add support for MTX-1 Flash device
    
    Add support for "4G Systems MTX-1 Flash device", better known as meshcube.
    
    From: Bruno Randolf <bruno.randolf@4g-systems.biz>
    Signed-off-by: Joern Engel <joern@wohnheim.fh-wedel.de>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 34c0e906718fa2f85b54b937f79bffdca48ee864
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Fri Sep 16 13:58:20 2005 +0100

    [JFFS2] Account summary space in reserved_size.
    
    Always keep valid data in reserved_size.
    
    It did not cause problems, but the reservation code was unoptimal
    when centralized summary was active or the size of the erase block
    was very small.
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 962034f43937d02a1c18e802a6641aed0a266ac5
Author: Vitaly Wool <vwool@ru.mvista.com>
Date:   Thu Sep 15 14:58:53 2005 +0100

    [MTD] NAND: Add suspend/resume functionality
    
    The changes introduced allow to suspend/resume NAND flash.
    A new state (FL_PM_SUSPENDED) is introduced, as well as
    routines for mtd->suspend and mtd->resume to put the flash in
    suspended state from software pov.
    
    Signed-off-by: Vitaly Wool <vwool@ru.mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 9c517e6c801aab0f8de8f9c67bfc16ea13d72971
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Wed Sep 14 20:14:17 2005 +0100

    [MTD] maps: Add mapping driver for PQ2FADS boards.
    
    From: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 81e39cf0297c7f32fb8869af9ae199130208ae6f
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Sep 14 17:57:35 2005 +0100

    [JFFS2] Debug message format clean up
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 8acff5e93488e4da653097bd5e50662ee0985867
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Fri Sep 9 16:12:01 2005 +0100

    [JFFS2] Call summary collector for all mtd devices with writev support
    
    Do the summary collection in the right place. If the device
    was not writebuffered but had c->mtd->writev function
    (e.g. blkmtd) the summary collector function was not called.
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1b01d9798d58bf28a40fede184482ebf39e63335
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Sep 9 07:43:16 2005 +0100

    OneNAND: Remove OMAP platform driver
    
    Now we can use the generic platform driver
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 68ee4b1c50847743393b01847a640ebf1002789b
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Fri Sep 9 07:39:50 2005 +0100

    [MTD] OneNAND: Add generic platform driver
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e4c212efbdd4e286bc3defcddbab2c1e57ec75c3
Author: David Vrabel <dvrabel@arcom.com>
Date:   Thu Sep 8 11:32:23 2005 +0100

    [MTD] maps/ixp4xx: remove platform specific bits
    
    - Intel chip driver has a reboot notifier so no need to reset the chip here.
    - Don't play with chip selects (platform code should do this if necessary).
    
    Signed-off-by: David Vrabel <dvrabel@arcom.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 65163fd73c65e4c61437c28ac4ef9f3c5ba16a80
Author: Michal Wronski <Michal.Wronski@motorola.com>
Date:   Sun Nov 6 21:31:54 2005 +0100

    Update Michal Wronski contact info

commit c617e842482eb513070cbf233766099cff2a1663
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Wed Sep 7 12:22:01 2005 +0100

    [JFFS2] Return real jffs2_sum_init() error code
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 6dfca87806eb94c1033b01e4f7a48363b890ec79
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Nov 6 21:31:01 2005 +0100

    I am the new monkey.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>

commit e631ddba588783edd521c5a89f7b2902772fb691
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Wed Sep 7 09:35:26 2005 +0100

    [JFFS2] Add erase block summary support (mount time improvement)
    
    The goal of summary is to speed up the mount time. Erase block summary (EBS)
    stores summary information at the end of every (closed) erase block. It is
    no longer necessary to scan all nodes separetly (and read all pages of them)
    just read this "small" summary, where every information is stored which is
    needed at mount time.
    
    This summary information is stored in a JFFS2_FEATURE_RWCOMPAT_DELETE. During
    the mount process if there is no summary info the orignal scan process will
    be executed. EBS works with NAND and NOR flashes, too.
    
    There is a user space tool called sumtool to generate this summary
    information for a JFFS2 image.
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 15017876751e4c2d786ba95920618359fe2b4f0a
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:37:19 2005 +0100

    [MTD] OneNAND: Remove experimental Kconfig dependency
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d36d63d404b75ddf231da0dbd3640e6d1722b4ab
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:36:21 2005 +0100

    [PATCH] OneNAND: Fix bug in write verify
    
    - Remove unused block, page parameters
    - Add constant instead of runtime value
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 405c829f98d216925de00af2ee52f969f2c2891c
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:32:30 2005 +0100

    [PATCH] OneNAND: Add simulator
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit fcc31470c49e224ed8115c70541f599fc7568fee
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:20:08 2005 +0100

    [PATCH] OneNAND: Update OMAP OneNAND mapping using device driver model
    
    - Update OMAP OneNAND mapping file using device driver model
    - Remove board specific macro and values.
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit cdc001305da4f057353911018e28f26f8f879061
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:15:48 2005 +0100

    [PATCH] OneNAND: Simple Bad Block handling support
    
    Based on NAND memory bad block table code
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 52b0eea73de05df33c51ca652e288a3ba1bba03b
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Sat Sep 3 07:07:19 2005 +0100

    [PATCH] OneNAND: Sync. Burst Read support
    
    Add OneNAND Sync. Burst Read support
    Tested with OMAP platform
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit cd5f6346bc28a41375412b49b290d22ee4e4bbe8
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:   Mon Jul 11 11:41:53 2005 +0100

    [MTD] Add initial support for OneNAND flash chips
    
    OneNAND is a new flash technology from Samsung with integrated SRAM
    buffers and logic interface.
    
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 3da8b713da723e78a03f0404beedf3cc6f4f860b
Author: Mike Miller <mikem@beardog.cca.cpqcorp.net>
Date:   Fri Nov 4 12:30:37 2005 -0600

    [SCSI] cciss: scsi error handling
    
    This patch adds SCSI error handling code to the SCSI portion
    of the cciss driver.
    
    Signed-off-by: Stephen M. Cameron <steve.cameron@hp.com>
    Acked-by: Mike Miller <mike.miller@hp.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4ce1f562189696605a84813cf71847c0cc698414
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Wed Aug 31 14:51:04 2005 +0100

    [JFFS2] Remove support for virtual blocks
    
    Remove support for virtual blocks, which are build by
    concatenation of multiple physical erase blocks.
    
    For more information please read the MTD mailing list thread
    "[PATCH] remove support for virtual blocks"
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 32f8b97ca39421057d8adef05b7219127355d60c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 6 19:49:21 2005 +0000

    [ARM] Don't call dump_cpu_info unless we're booting
    
    We don't want to call dump_cpu_info() from cpu_init() after boot since
    it produces a lot of unnecessary noise - since cpu_init() gets called
    on resume and hotplug cpu insertion events.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4fe15ba08fdb280536bd7019e8505969c4ac6852
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 6 19:47:04 2005 +0000

    [ARM] Fix second missing declaration of cache_is_vivt()
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f0507530cbedf37515e0d803c332cdb81b34e71a
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Mon Aug 22 10:07:12 2005 +0100

    [JFFS2] Solve BUG caused by frag->node representing a hole in fragtree
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 280562b2104c9a0ca7efc5e716b6452a7ba820fa
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Aug 17 15:57:43 2005 +0100

    [JFFS2] Calculate CRC check starting point correctly
    
    When data starts from the beginning of NAND page, 'len' must be zero, not
    c->wbuf_page.
    
    Thanks to Zoltan Sogor for reporting this problem.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 8d5df40954281a8e0f788b311f9c08f96e530ffa
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Aug 17 15:13:48 2005 +0100

    [JFFS2] More message formatting cleanups
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 3a69e0cd22cf34920508a4032d53e41251925f53
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Aug 17 14:46:26 2005 +0100

    [JFFS2] Fix JFFS2 [mc]time handling
    
    From: David Woodhouse <dwmw2@infradead.org>
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 01d445f89d68187c9ada7b58ca939dbb987c9fbd
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Aug 17 14:42:09 2005 +0100

    [JFFS2] Make the JFFS2 messages a bit nicer
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d4094661545662982278900220729982372b0e9a
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Aug 11 18:13:46 2005 +0100

    [MTD] NAND: Use correct mask for OOB size calculation
    
    The bit mask used for oob size calculation was using 2 bits instead
    of one. Fortunately the next bit has been 0 all the time.
    
    Thanks to Nathan H. for pointing this out
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2c92d755323514a12c367f52027fb1f53328fcd6
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Thu Aug 11 18:13:46 2005 +0100

    [MTD] Remove deprecated power management functions
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e21f6c02f78351c4aae8510929ed794cd818d847
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Mon Aug 8 09:56:22 2005 +0100

    [MTD] Missing check on kmalloc return in INFTL mount.
    
    Signed-off-by: Youssef Hmamouche <hyoussef@gmail.com>
    Signed-off-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 59da721a2288b8aec751a2716f7ab60f2ea0c925
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Aug 6 05:51:33 2005 +0100

    [JFFS2] Teach JFFS2 about Sibley flash
    
    Intels Sibley flash needs JFFS2 write buffer functionality
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 13bf50d1f21b2f11452c4b8a82a91319791f8ba3
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:03:02 2005 -0600

    [SCSI] ipr: Driver version 2.1.0
    
    Bump the driver version.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit dfed823eabf545795f04c8b5164d46a73c5b58ea
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:55 2005 -0600

    [SCSI] ipr: Better handle failure of adapter bringup commands
    
    Some new ipr adapters do not support some of the initialization
    commands currently sent to it from the driver. Handle these
    commands failing and continue on with the adapter initialization.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e102d54abf6806b95c89142cd0b7e94d709ebcd7
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Aug 6 05:46:59 2005 +0100

    [MTD] writev support for cfi-cmdset-0001
    
    While this might be useful for all supported flash types, it is mandatory
    for proper JFFS2 support with Sibley flash.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d71a8b0cba62eada61edce86670f8d63a1bef0c8
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:49 2005 -0600

    [SCSI] ipr: Increase ipr device scanning limits
    
    Increase device scanning limits so that all devices are found.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 638d983840bb64e02c29bdd6160bb9963f4090f7
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Aug 6 05:40:46 2005 +0100

    {MTD] add support for Intel's "Sibley" flash
    
    This updates the Primary Vendor-Specific Extended Query parsing to
    version 1.4 in order to get the information about the Configurable
    Programming Mode regions implemented in the Sibley flash, as well as
    selecting the appropriate write command code.
    
    This flash does not behave like traditional NOR flash when writing data.
    While mtdblock should just work, further changes are needed for JFFS2 use.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 86f51436dd851e1b8f33348be8a3d69f4f0e5e10
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:42 2005 -0600

    [SCSI] ipr: New PCI Ids
    
    Adds support for some new ipr adapters
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 618ec46bda603559c52bb24885af0840b3d93027
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:36 2005 -0600

    [SCSI] pci: PCI ids for new ipr adapters
    
    Adds some new PCI IDs for new IPR adapters.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eeb88307aa483129d122137c88be7db0f0b56f63
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:29 2005 -0600

    [SCSI] ipr: Support device reset to RAID disks
    
    Support now exists in some ipr adapters to issue a device reset
    to an Advanced Function disk.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4843653cab0db036399f77d9355db31ce39cb8b9
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Aug 6 05:16:52 2005 +0100

    [MTD] cleanups to cfi_cmdset_0001
    
    This includes improved error handling/reporting plus some other
    message cleanups.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ee0a90fa3efffcaccffea5a9c1599f4c59ca55d4
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:22 2005 -0600

    [SCSI] ipr: Support new device queueing model
    
    New ipr adapters support a new device queueing model in the
    adapter firmware. The queueing model is the NACA queueing model,
    but it does not mean use of NACA is required. The new model removes
    some of the adapter firmware queue state that made handling QERR=0
    almost impossible. The queueing model on older adapters included the
    concept of a queue frozen state, which would freeze the response
    queue in the adapter when a check condition occurred, requiring a
    a primitive to resume the queue. The new queueing model removes this
    complexity.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ee0f05b863df0a623792eaa46703019c100be2de
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:15 2005 -0600

    [SCSI] ipr: New adapter error types
    
    Handle some new types of ipr errors that can be returned by the adapter.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c8f7489251269b9c4d516c3075b902d2b067b1b3
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:08 2005 -0600

    [SCSI] ipr: Handle device autosense
    
    Some newer ipr adapters are capable of returning autosense from
    devices that support it. This patch adds the data structures for
    the autosense buffer.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit e27a9960af0506d84b9ca9dd3874b7d88901f230
Author: Sean Young <sean@mess.org>
Date:   Thu Jun 16 09:49:33 2005 +0100

    [MTD] Add Resident Flash Disk (RFD) support
    
    This type of flash translation layer (FTL) is used by the Embedded BIOS
    by General Software. It is known as the Resident Flash Disk (RFD), see:
    
    http://www.gensw.com/pages/prod/bios/rfd.htm
    
    Signed-off-by: Sean Young <sean@mess.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 32d29776f8fe8293f7c5273624ec8fbd2b936bfa
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:02:01 2005 -0600

    [SCSI] ipr: Module parm to disable RAID 0 auto create
    
    Some ipr adapters will automatically create single device
    RAID 0 arrays for all unconfigured RAID capable devices found
    at adapter initialization time. This patch adds a module parameter
    to disable this behavior.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3d1d0da67520aa5dbcea617d52546ae046e946a4
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:54 2005 -0600

    [SCSI] ipr: Runtime reset
    
    Some IPR RAID adapter will automatically create single device RAID arrays
    for all attached devices when the card is initialized. Setting the
    RUNTIME_RESET doorbell bit will prevent this from occurring, since we
    only want this behavior the first time the card is initialized and not
    each time the card happens to get reset.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b0df54bb4c9df6c1b1633a9f990b718059cda394
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:47 2005 -0600

    [SCSI] ipr: handle new adapter errors
    
    Add support for handling some new errors that may be returned
    by ipr adapters.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f37eb54b48159f7384ad0e7e70e0f67d1317aac7
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:40 2005 -0600

    [SCSI] ipr: Provide reset_adapter retry method for offlined adapters
    
    If an ipr adapter repeatedly fails its initialization
    the ipr driver will take the adapter offline and never talk
    to it again. This provides a method for the user to manually
    try the initialization again through sysfs.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d3c74871bdcb9cb09dca22994dfee8500515f28f
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:34 2005 -0600

    [SCSI] ipr: Runtime debugging options
    
    Make some compile time debugging options runtime module options.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 12baa4202d74d799f4f8a4bd0455b485e4f8e876
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:27 2005 -0600

    [SCSI] ipr: Fix adapter microcode update DMA mapping leak
    
    If the write buffer command that is issued to the ipr adapter
    to update its microcode fails for some reason, the DMA buffer
    will never get unmapped. Move the pci_map/unmap out of the
    IOA reset job so that the buffer is always clearly mapped
    and unmapped.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0bc42e35c74c0baab414cf623d6fe1e94cee4ca3
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:20 2005 -0600

    [SCSI] ipr: Convert to use kzalloc
    
    Convert appropriate kmalloc/memset calls to use kzalloc.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 622750406a1b4b230f1ee595cb555e5d9222feeb
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:14 2005 -0600

    [SCSI] ipr: Write caching state host attribute
    
    Adds a scsi_host sysfs attribute and module parm to enable/disable
    the write cache on an ipr adapter.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 692aebfc6982a64e70ed11467545f2b9c95e6592
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:07 2005 -0600

    [SCSI] ipr: slave_alloc optimization
    
    Optimize ipr's slave_alloc to return -ENXIO for devices that
    do not exist.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0726ce26104671e3072d90b9c697c253974e823d
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:01:01 2005 -0600

    [SCSI] ipr: Prevent upper layer driver binding
    
    Set the no_uld_attach for devices ipr does not want
    upper layer drivers to attach to. These devices are
    only reported for RAID management and only sg should
    be used to talk to them.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d0ad6f50399abc990adc4653c1eda5932b8adb52
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:54 2005 -0600

    [SCSI] ipr: Include all disks in supported list
    
    Fix ipr to include all disks in the supported device list,
    not just disks formatted to advanced function format.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cf8520376c2b752237095f6cd279e5443bd2fffe
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:47 2005 -0600

    [SCSI] ipr: Error logging cleanup
    
    Simplify error logging path, sanitize error length returned
    by the adapter.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a9cfca9622d660daf9422c2f041828e017eba58b
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:41 2005 -0600

    [SCSI] ipr: Handle unknown errors
    
    Better handle errors received which are not known to the device driver.
    Just dump the hex data so that we have a hope of figuring out what
    went wrong.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6837c2bfda46887badf93ff67ace578877071984
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:34 2005 -0600

    [SCSI] ipr: Generic adapter error cleaup
    
    The generic ipr adapter error log currently logs 2 lines of useless
    data. Delete these lines.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fa15b1f6be4764bfeb29b0cf74442ea6dbb2ec9d
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:27 2005 -0600

    [SCSI] ipr: Physical resource error logging macro
    
    Adds a macro in the ipr driver for logging a physical device location.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cfc321397e9e309a8148c18c32ade26ac40be39d
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:18 2005 -0600

    [SCSI] ipr: Cleanup error structures
    
    Simplify the ipr error structures a bit by removing some duplication.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 11cd8f120173a707e9ed7b78f7af8cde5a1ebb90
Author: Brian King <brking@us.ibm.com>
Date:   Tue Nov 1 17:00:11 2005 -0600

    [SCSI] ipr: Disk array rescanning fix
    
    IPR RAID arrays show up on a virtual scsi bus, with a scsi bus number
    of 255, which is generated by the adapter microcode. For the initial
    scan of the host, we manually scan this bus since it does not obey
    SAM in regards to sparse LUNs and the disk array devices do not have
    a consistent product id to use scsi core's blacklist. If /proc/scsi/scsi
    or sysfs is used to delete one of these devices, the device will not
    be able to get added back by rescanning the host since scsi core
    will see ipr's max_channel as 4, rather than 255. Update max_channel
    after the initial scan so that ipr raid arrays can get re-added
    if they get deleted.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d6933df97a486d9c73a6bb4fed75154343c8638f
Author: Adrian Bunk <bunk@stusta.de>
Date:   Tue Nov 1 21:47:37 2005 +0100

    [SCSI] remove the obsolete SCSI qlogicisp driver
    
    The SCSI qlogicisp driver is both marked BROKEN and superseded by the
    qla1280 driver.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4065a413d7684919b3f8804df8ab0cd9a09150f4
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 20:05:01 2005 +0100

    [SCSI] aic79xx: remove scsi_assign_lock usage
    
    just take the internal lock in queuecommand instead.  also switch
    the only direct use of the internal lock to the wrappers used elsewhere.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6d5e9fd1964e653fa538b020af351d3c9f609c07
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 20:03:48 2005 +0100

    [SCSI] aic7xxx: remove scsi_assign_lock usage
    
    just take the internal lock in queuecommand instead.  also switch
    the only direct use of the internal lock to the wrappers used elsewhere.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cb0258a2fb8e434b3b56856603754d998008d9ee
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 20:12:07 2005 +0100

    [SCSI] megaraid (legacy): remove scsi_assign_lock usage
    
    just take the adapter lock in megaraid_queue.  Additional benefit is
    that we can get rid of the awkward conditional locking in
    mega_internal_command.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f2c8dc402b939ddcb0299bb60227c47dc454c85a
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 21:06:02 2005 +0100

    [SCSI] megaraid_mbox: remove scsi_assign_lock usage
    
    also remove the adapter->host_lock alias for adapter->lock and remove
    some superflous locking aswell as removing the tiny locking wrappers
    for the EH routines.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3072c4abdd8c239a28085733adf3aaae94ad8fbe
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 19:51:24 2005 +0100

    [SCSI] megaraid_sas: fix EH locking
    
    recent kernels call the eh_ methods without the host lock held.
    megaraid_sas doesn't need it but drops it before calling a sleeping
    routine and reqcquires it afterwards.  Just remove the
    spin_unlock/spin_lock calls.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7dfdc9a52b4219fba8240750e36de5db860ddd5f
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Oct 31 18:49:52 2005 +0100

    [SCSI] use a completion in scsi_send_eh_cmnd
    
    scsi_send_eh_cmnd currently uses a semaphore and an overload of eh_timer
    to either get a completion for a command for a timeout.
    Switch to using a completion and wait_for_completion_timeout to simply
    the code and not having to deal with the races ourselves.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 262eef663b579f9b495c7392ac7d2d3f34ecc9fe
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 01:09:12 2005 +0200

    [SCSI] remove scsi_wait_req
    
    This function has been superceeded by the block request based interfaces
    and is unused (except for the uncompilable cpqfc driver).
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 474838d5e5b5fa768803abc5522ae3fdf85c5f4e
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 01:02:43 2005 +0200

    [SCSI] remove Scsi_Host.eh_active
    
    now that the abuse in qla2xxx is gone this field can be remove.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ad42eb1b77b9c17065dc52bcab3f5e1cfb3535b9
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 01:01:55 2005 +0200

    [SCSI] tidy up scsi_error_handler
    
    adjust comments, remove a useless cast and remove a write-only variable.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3256534776203d4d86fea508e66cfde2b06d39a2
Author: Willem Riede <wrlk@riede.org>
Date:   Mon Oct 31 00:03:49 2005 +0000

    [SCSI] ide-scsi fails to call idescsi_check_condition for things like "Medium not present"
    
    This patch started life as a response to fedora specific ide subsystem changes
    that made error handling of my ATAPI tape drive fail; the specifics are in
    
    https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=160868
    
    The insertion of the statement rq->errors = err; near the end of
    ide_end_drive_cmd() in drivers/ide/ide-io.c means that rq->errors does not
    contain what it needs to in idescsi_end_request() in drivers/scsi/ide-scsi.c
    anymore. Recent mainline kernels now also have this change.
    
    Signed-off-by: Willem Riede <wrlk@riede.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8c0ae656230072eb29bde976d0a0a88d0b253a04
Author: Stefan Richter <stefanr@s5r6.in-berlin.de>
Date:   Sat Nov 5 01:35:05 2005 +0100

    [SCSI] Documentation: typo in scsi/scsi_eh.txt
    
    undefined symbol in Documentation/scsi/scsi_eh.txt
    
    Signed-off-by: Stefan Richter <stefanr@s5r6.in-berlin.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a60768e2d43eb30a1adb8a119aeac35dc0d03ef6
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Thu Nov 3 09:46:00 2005 -0500

    [SCSI] ips: remove "Version Matching"
    
    IBM has finally agreed that the "Version Matching" between firmware and
    drivers ( and the resulting warning messages ) is no longer necessary.
    This patch will remove those functions from the ServeRAID driver.
    
    Signed-off-by: Jack Hammer <jack_hammer@adaptec.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b1081ea6f000dee6dba288f9fab9df902802b25b
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Sun Nov 6 11:59:08 2005 -0600

    [SCSI] raid class update
    
    - Update raid class to use nested classes for raid components (this will
    allow us to move to a component control model now)
    - Make the raid level an enumeration rather than and int.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit df133c212ef82b9c7e80fca7b1f87dad8a05de3c
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Sun Nov 6 11:47:08 2005 -0600

    [SCSI] Fix transport class oops
    
    There's an oops that sometimes shows up with SCSI transport classes in
    sysfs_hash_and_remove.  The problem is that now, because of the class to
    device and vice versa symlinks, all classes have to be removed from
    visibility *before* the device is removed from visibility.
    
    The transport class trigger points violate this, so bring them back into
    conformance.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 45ca1b509ea156e87c99e529821fb3b548e14fe3
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Fri Aug 5 12:43:47 2005 +0100

    [JFFS2] Debug code clean up - step 7
    
    Remove more noisy debugs. Add current->pid to debug messages.
    Remove bogus includes.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 3c09133739beff0d5ad457dfcfc85c7c350d3661
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Thu Aug 4 12:40:02 2005 +0100

    [JFFS2] Correct buggy length checks
    
    The previous changes introduced wrong length calculations.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 392435081e8cc6e02bdc4fa998050abb11d331b4
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Aug 3 10:26:50 2005 +0100

    [JFFS2] Debug code clean up - step 6
    
    Remove extra noisy debugs
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1e0da3cb6cd4a909c64c870344183185bd6815b1
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Mon Aug 1 13:05:22 2005 +0100

    [JFFS2] Build fragtree in reverse order
    
    Instead of building fragtree starting from node with the smallest version
    number, start from the highest. This helps to avoid reading and checking
    obsolete nodes.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e0e3006f79a6d995c9a7de7556f11a9b97536423
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 31 10:08:41 2005 +0100

    [JFFS2] Refine fragtree debug macros
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1e900979a7e6c2abbfd1b86bffd226d2d6115f66
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 31 09:20:48 2005 +0100

    [JFFS2] Move another fragtree-related function to nodelist.c
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 737b7661e059680a68afb3df0a088fd976f666b7
Author: Andrew Lunn <andrew@lunn.ch>
Date:   Sat Jul 30 16:29:30 2005 +0100

    [JFFS2] Fix up new debug code for eCos build
    
    The debug code cleanup broke the eCos build.
    
    Signed-off-by: Andrew Lunn <andrew@lunn.ch>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e0d601373b1123ea43b1fdec08d9e58a079ae35c
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Thu Jul 28 15:46:43 2005 +0100

    [JFFS2] Debug code clean up - step 5
    
    Replace the D1(printk()) style debugging with the new debug macros
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit f97117d15361b3a6aeaf9e347a287ef3f54b58f9
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Jul 27 15:46:14 2005 +0100

    [JFFS2] Move scattered function into related files
    
    Move functions to read inodes into readinode.c
    Move functions to handle fragtree and dentry lists into nodelist.[ch]
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit f538c96ba2a3fdf7744ecf9fdffac14b1ec4be32
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Wed Jul 27 15:16:57 2005 +0100

    [JFFS2] Debug code clean up - step 4
    
    Small comment cleanups. Remove a unused macro
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2227c0ba4bc177a014d95b380b4d888454a127a9
Author: Ferenc Havasi <havasi@inf.u-szeged.hu>
Date:   Tue Jul 26 14:24:43 2005 +0100

    [jffs2] Remove compressor lzo and lzari
    
    Remove unused compressor code
    
    Signed-off-by: Ferenc Havasi <havasi@inf.u-szeged.hu>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit f302cd028c90ddbca20cb5388458ae0f0dd03d9b
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 24 16:29:59 2005 +0100

    [JFFS2] Namespace clean up
    
    Rename functions to a name matching the functionality.
    Remove stall debug code
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit e0c8e42f8f218063ff6838b25038ccef7ddf257e
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 24 16:14:17 2005 +0100

    [JFFS2] Debug code clean up - step 3
    
    Various simplifiactions. printk format corrections.
    Convert more code to use the new debug functions.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 4299051ebe89ab1eeadeaf4cf06ce63421412232
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 6 15:46:57 2005 +0000

    [ARM] Fix missing declaration of cache_is_vivt()
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d3997abf699655d2ec012e944fb34668cc3ec6d7
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Nov 6 15:45:00 2005 +0000

    [ARM] Fix another use of // as a comment
    
    // disagrees with ld's script parsing ability.  Don't use it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6dac02a5e1bba0bb88ece50160fc4a64cccf30d1
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Mon Jul 18 12:21:23 2005 +0100

    [JFFS2] Fix slab panic
    
    When JFFS22 is unable to read the root inode, the bad root inode object is not
    freed and remains sticked in the jffs2_i slab cache. When we further try to
    free the slab cache (e.g., on rmmod jffs2), slab allocator subsystem panics.
    Fix this bug.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 61a39b694137cef6059a0714c3b1847aabe53b90
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 17 13:01:46 2005 +0100

    [JFFS2] Debug code clean up - step 2
    
    If debugging is disabled, define debugging functions as empty macros, instead
    of using Dx() explicitly.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2b79adcca147c9f8fd1094ab4cb342d7e1790d70
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 17 12:13:51 2005 +0100

    [JFFS2] Use f->target instead of f->dents for symlink target
    
    JFFS2 uses f->dents to store the pointer to the symlink target string (in case
    the inode is symlink). This is somewhat ugly to use the same field for
    different reasons. Introduce distinct field f->target for this purpose.
    Note, f->fragtree, f->dents, f->target may probably be put in a union.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 730554d94607572ef8300c5c9848540b42394897
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Sun Jul 17 07:56:26 2005 +0100

    [JFFS2] Debug code clean up - step 1
    
    Move debug functions into a seperate source file
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 756c7b748926b0baec6d2a921c3711679282c8fd
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Nov 6 15:03:23 2005 +0000

    [ARM] 3113/1: PXA: Allow machines to override (and also reuse) pxa pm functions
    
    Patch from Richard Purdie
    
    Update the PXA pm.c file to allow machines (such as the Sharp
    Zaurus) to override the standard pm functions but reuse/wrap them
    where needed.
    
    The init call is made slightly earlier to give machine code an init
    level to override them in removing any race.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b7ec479553b8755dd95ee988a957cbf2aef351dc
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Nov 6 14:42:37 2005 +0000

    [ARM] 3115/1: small optimizations to exception vector entry code
    
    Patch from Nicolas Pitre
    
    Since we know the value of cpsr on entry, we can replace the bic+orr with
    a single eor.  Also remove a possible result delay (at least on XScale).
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dae6227f71fedb40b2478d3062397d3ab54e7556
Author: Artem Bityutskiy <dedekind@infradead.org>
Date:   Fri Jul 15 11:13:57 2005 +0100

    [JFFS2] Split a large routine on several smaller.
    
    Signed-off-by: Artem Bityutskiy <dedekind@infradead.org>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 2fc2991175bf77395e6b15fe6b2304d3bf72da40
Merge: 8b491d7... 7015faa...
Author: Thomas Gleixner <tglx@mtd.linutronix.de>
Date:   Sun Nov 6 15:36:37 2005 +0100

    Merge branch 'master' of /home/tglx/work/mtd/git/linux-2.6.git/

commit 7240f1f183f085f6b7af44ec274b5b6123dfdead
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sun Nov 6 14:34:13 2005 +0000

    [ARM] 3114/1: use ixp2000_reg_wrb in ixp2000 uengine loader
    
    Patch from Lennert Buytenhek
    
    Make the uengine loader use ixp2000_reg_wrb in the right places.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 84613387cb60bc760a4588822cd61fb88e1d7fad
Author: Alessandro Zummo <azummo-armlinux@towertech.it>
Date:   Sun Nov 6 14:34:12 2005 +0000

    [ARM] 3089/1: ixp4xx AHB/PCI endianness fix
    
    Patch from Alessandro Zummo
    
      This patch fixes AHB/PCI endianness problems when the
     processor is in little-endian mode.
    
     The patch configures the CSR register closely following the directives
     in [1], paragraph 4.1, page 19.
    
     According to the considerations in [1], page 11, while the AHB bus
     supports both endian modes, on the IXP4XX it always uses big-endian.
    
     The PCI bus is connected to the South AHB. A wrong setting in the CSR
     register will thus cause a malfunctional PCI bus.
    
     A schematic diagram of the bus interconnections on the IXP4XX
     can be found in [1], page 18.
    
     The patch has been verified to work on the NSLU2 in
     both LE and BE modes.
    
     The author is Peter Korsgaard.
    
     [1] Intel IXP4XX Product Line of Network Processors and IXC1100
     Control Plane Processor:
     Understanding Big Endian and Little Endian Modes
    
     http://www.intel.com/design/network/applnots/25423701.pdf
    
    Signed-off-by: Alessandro Zummo <a.zummo@towertech.it>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8459c159f7de832eaf888398d2abf466c388dfa6
Author: Dirk Opfer <dirk@opfer-online.de>
Date:   Sun Nov 6 14:27:52 2005 +0000

    [ARM] 3088/1: PXA: Add machine support for the Sharp SL-6000x series of PDAs
    
    Patch from Dirk Opfer
    
    This patch adds basic machine support for the Sharp SL-6000x (Tosa) PDAs.
    
    Signed-off-by: Dirk Opfer <dirk@opfer-online.de>
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ab919c06144cfb11c05b5b5cd291daa96ac2e423
Author: Sam Ravnborg <sam@mars.ravnborg.org>
Date:   Sun Nov 6 11:05:21 2005 +0100

    kconfig: fix xconfig on fedora 2 & 3 (x86_64)
    
    From: Than Ngo <than@redhat.com>
    qt as installed on fedora core (2 and 3) does not work with vanilla
    kernel. The linker fails to locate the qt lib:
    
    Actual Results:  # make xconfig
      HOSTLD  scripts/kconfig/qconf
      /usr/bin/ld: cannot find -lqt
      collect2: ld returned 1 exit status
    
    Than Ngo has provided following fix for the bug.
    
    Cc: Than Ngo <than@redhat.com>
    Acked-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 2dd34b488a99135ad2a529e33087ddd6a09e992a
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Sun Oct 30 22:42:11 2005 +0100

    [PATCH] kbuild: permanently fix kernel configuration include mess
    
    Include autoconf.h into every kernel compilation via the gcc command line
    using -imacros.  This ensures that we have the kernel configuration
    included from the start, rather than relying on each file having #include
    <linux/config.h> as appropriate.  History has shown that this is something
    which is difficult to get right.
    
    Since we now include the kernel configuration automatically, make
    configcheck becomes meaningless, so remove it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Sam Ravnborg <sam@ravnborg.org>

commit 21c614a7899046ab108b3d327d76c33443a8ebf2
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Nov 6 09:07:03 2005 +0000

    [SERIAL] Support Au1x00 8250 UARTs using the generic 8250 driver.
    
    The offsets of the registers are in a different place, and
    some parts cannot handle a full set of modem control signals.
    
    Signed-off-by: Pantelis Antoniou <pantelis@embeddedalley.ocm>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 50eb80068001871339d04b749fb9b198428b56d2
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 23:40:46 2005 -0500

    [netdrvr s2io] warning fixes
    
    From Andrew Morton.

commit ecf8b596cf636c14896841625d552e148585ad07
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 23:40:16 2005 -0500

    [netdrvr] fac_8xx build fix

commit a10b5aacea01d59152b9d003a14476ee99d394d8
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 23:39:54 2005 -0500

    Remove linux/version.h include from drivers/net/phy/* and net/ieee80211/*.
    
    Unused, and causes the files to be needlessly rebuilt in some cases.

commit 0a1cc0b6a4abaed5f891d1be3e3d0d7b9b719287
Author: Dave Jones <davej@redhat.com>
Date:   Sat Nov 5 20:32:26 2005 -0800

    [AGPGART] Fix up warning in efficeon driver.
    
    efficeon-agp.c:222: warning: passing arg 1 of `virt_to_phys' makes pointer from integer without a cast
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 4aefe1554b08b445b1701c1049563ac24b77b097
Merge: f912696... d380876...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 22:20:11 2005 -0500

    Merge git://git.tuxdriver.com/git/netdev-jwl

commit d38087609aefdf0918960c9d941d46f884a4f4eb
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Nov 5 17:42:27 2005 +0100

    [PATCH] airo.c/airo_cs.c: correct prototypes
    
    This patch creates a file airo.h containing prototypes of the global
    functions in airo.c used by airo_cs.c .
    
    If you got strange problems with either airo_cs devices or in any other
    completely unrelated part of the kernel shortly or long after a airo_cs
    device was detected by the kernel, this might have been caused by the
    fact that caller and callee disagreed regarding the size of the first
    argument to init_airo_card()...
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 05d0f1cf69fd589634b38b6f6e4b8cfdaace9ca0
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:53:48 2005 -0800

    [PATCH] bnx2: update version and minor fixes
    
    Some book keeping and a style fix.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit f4e418f7f3286f854883f9f7e3bbf7005340d2de
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:53:48 2005 -0800

    [PATCH] bnx2: refine bnx2_poll
    
    Refine bnx2_poll() logic to write back the most up-to-date status tag
    when all work has been processed. This eliminates some occasional
    extra interrupts when a older status tag is written even though all
    work has been processed.
    
    The idea is to read the status tag just before exiting bnx2_poll() and
    then check again for any new work. If no new work is pending, the
    status tag written back will not generate any extra interrupt. This
    logic is similar to the changes David Miller did to tg3_poll().
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e3648b3d8de3b37fae7acbb57db1e001a19cd3b7
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:51:21 2005 -0800

    [PATCH] bnx2: update firmware handshake for 5708
    
    Dynamically determine the shared memory location where eeprom
    parameters are stored instead of using a fixed location.
    
    Add speed reporting to management firmware. This allows management
    firmware to know the current speed without contending for MII
    registers.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 371377091dff14090cbe995d0a9291364f8583cb
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:49:17 2005 -0800

    [PATCH] bnx2: update nvram code for 5708
    
    Update bnx2 nvram code with support for 5708.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 12d30d89e57d467e4c134906a4682719813d40ad
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:48:02 2005 -0800

    [PATCH] bnx2: update firmware for 5708
    
    Update bnx2 firmware with support for 5708.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 5b0c76ad94faf95ca50fa0de9ab07460bea19568
Author: Michael Chan <mchan@broadcom.com>
Date:   Fri Nov 4 08:45:49 2005 -0800

    [PATCH] bnx2: add 5708 support
    
    Add 5708 copper and serdes basic support, including 2.5 Gbps support
    on 5708 serdes. SPEED_2500 is also added to ethtool.h
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 17ecc1e63b675fb43d60e84f242c848f81c5a079
Author: Daniel Drake <dsd@gentoo.org>
Date:   Thu Nov 3 22:45:02 2005 +0000

    [PATCH] prism54: Remove redundant assignment
    
    The last patch I sent in ("prism54: Free skb after disabling
    interrupts") included a redundant NULL assignment. Thanks to Herbert
    Xu for pointing it out.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e6b365f61e0bd6e8e5fd320bda78e92eafab79aa
Author: Adrian Bunk <bunk@stusta.de>
Date:   Mon Oct 31 01:33:45 2005 +0100

    [PATCH] drivers/net/hamradio/dmascc.c: remove dmascc_setup()
    
    It seems dmascc_setup() is a leftover time before dmascc_init() was
    there.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit 3ad2cc6798be9388c9a3f1e6180e77690303eb01
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Oct 30 16:53:34 2005 +0100

    [PATCH] drivers/net/e1000/: possible cleanups
    
    This patch contains the following possible cleanups:
    - make needlessly global code static
    - #if 0 the following unused global functions:
      - e1000_hw.c: e1000_mc_addr_list_update
      - e1000_hw.c: e1000_read_reg_io
      - e1000_hw.c: e1000_enable_pciex_master
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit e9ab1d145365a871858f402f3655cd4939fa38d5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sun Oct 30 16:53:30 2005 +0100

    [PATCH] drivers/net/ixgb/: make some code static
    
    This patch makes some needlessly global code static.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: John W. Linville <linville@tuxdriver.com>

commit f912696ab330bf539231d1f8032320f2a08b850f
Author: Bart Oldeman <bartoldeman@users.sourceforge.net>
Date:   Sun Nov 6 12:54:07 2005 +1300

    [PATCH] reset tss->io_bitmap_owner in sys_ioperm()
    
    my patch "x86: initialise tss->io_bitmap_owner to something" (commit ID
    d5cd4aadd3d220afac8e3e6d922e333592551f7d) introduced a problem with a
    program (DOSEMU) that called ioperm after already doing some port i/o.
    
    The problem is that a process switch return causes tss->io_bitmap_base
    to be set to IO_BITMAP_OFFSET so that the fault (that *really* sets the
    io bitmap) never triggers.
    
    This fixes that regression.
    
    Signed-off-by: Bart Oldeman <bartoldeman@users.sourceforge.net>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d43f1128a4282fbe8442f40b4cbbac05d8f10aa
Merge: 6df7163... bdc450a...
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Sat Nov 5 22:30:29 2005 -0200

    Merge branch 'red' of 84.73.165.173:/home/tgr/repos/net-2.6

commit 6df716340da3a6fdd33d73d7ed4c6f7590ca1c42
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 3 16:33:23 2005 -0800

    [TCP/DCCP]: Randomize port selection
    
    This patch randomizes the port selected on bind() for connections
    to help with possible security attacks. It should also be faster
    in most cases because there is no need for a global lock.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6151b31c9616d71f714fc7ef8e2306f67f3b94c3
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Fri Nov 4 09:56:56 2005 +1100

    [NET]: Fix race condition in sk_stream_wait_connect
    
    When sk_stream_wait_connect detects a state transition to ESTABLISHED
    or CLOSE_WAIT prior to it going to sleep, it will return without
    calling finish_wait and decrementing sk_write_pending.
    
    This may result in crashes and other unintended behaviour.
    
    The fix is to always call finish_wait and update sk_write_pending since
    it is safe to do so even if the wait entry is no longer on the queue.
    
    This bug was tracked down with the help of Alex Sidorenko and the
    fix is also based on his suggestion.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit eb229c4cdc3389682cda20adb015ba767950a220
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 3 13:49:01 2005 -0800

    [NETEM]: Add version string
    
    Add a version string to help support issues.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 300ce174ebc2fcf2b5111a50fa42f79d891927dd
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Sun Oct 30 13:47:34 2005 -0800

    [NETEM]: Support time based reordering
    
    Change netem to support packets getting reordered because of variations in
    delay. Introduce a special case version of FIFO that queues packets in order
    based on the netem delay.
    
    Since netem is classful, those users that don't want jitter based reordering
    can just insert a pfifo instead of the default.
    
    This required changes to generic skbuff code to allow finer grain manipulation
    of sk_buff_head.  Insertion into the middle and reverse walk.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 88dcb6c4113afe93a6c4891ec43bef6a17c83155
Author: Samuel Thibault <samuel.thibault@ens-lyon.org>
Date:   Sat Nov 5 22:19:50 2005 +0100

    [PATCH] Set the vga cursor even when hidden
    
    Some visually impaired people use hardware devices which directly read
    the vga screen. When newt for instance asks to hide the cursor for
    better visual aspect, the kernel puts the vga cursor out of the screen,
    so that the cursor position can't be read by the hardware device. This
    is a great loss for such people.
    
    Here is a patch which uses the same technique as CUR_NONE for hiding the
    cursor while still moving it.
    
    Mario, you should apply it to the speakup kernel for access floppies
    asap. I'll submit a 2.4 patch too.
    
    Signed-off-by: Samuel Thibault <samuel.thibault@ens-lyon.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c119aa8091a15a87920f09aa0f17e05960fe11b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:22:39 2005 +0000

    [DRIVER MODEL] Fix sgivwfb
    
    Statically allocated devices in module data is a potential cause
    of oopsen.  The device may be in use by a userspace process, which
    will keep a reference to the device.  If the module is unloaded,
    the module data will be freed.  Subsequent use of the platform
    device will cause a kernel oops.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit abbf268ae8f51e19779cdf3f5fbb8144f1a5fbc3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:22:13 2005 +0000

    [DRIVER MODEL] Fix gbefb
    
    Statically allocated devices in module data is a potential cause
    of oopsen.  The device may be in use by a userspace process, which
    will keep a reference to the device.  If the module is unloaded,
    the module data will be freed.  Subsequent use of the platform
    device will cause a kernel oops.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8d972a962177a261fc894f767fa3014f63d661e9
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:21:38 2005 +0000

    [DRIVER MODEL] Fix arcfb
    
    Release code in driver modules is a potential cause of oopsen.
    The device may be in use by a userspace process, which will keep
    a reference to the device.  If the module is unloaded, the module
    text will be freed.  Subsequently, when the last reference is
    dropped, the release code will be called, which no longer exists.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 09c6518ca0de24549a923891b2d335e8496d79a9
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:21:10 2005 +0000

    [DRIVER MODEL] Fix macsonic
    
    Release code in driver modules is a potential cause of oopsen.
    The device may be in use by a userspace process, which will keep
    a reference to the device.  If the module is unloaded, the module
    text will be freed.  Subsequently, when the last reference is
    dropped, the release code will be called, which no longer exists.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 95cb5d954ee656a0b048ea2298188569e0759336
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:20:47 2005 +0000

    [DRIVER MODEL] Fix jazzsonic
    
    Release code in driver modules is a potential cause of oopsen.
    The device may be in use by a userspace process, which will keep
    a reference to the device.  If the module is unloaded, the module
    text will be freed.  Subsequently, when the last reference is
    dropped, the release code will be called, which no longer exists.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5d994b7f5d1c77acaa0b9b4c1b9f0f278605c309
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:20:21 2005 +0000

    [DRIVER MODEL] Fix depca
    
    Release code in driver modules is a potential cause of oopsen.
    The device may be in use by a userspace process, which will keep
    a reference to the device.  If the module is unloaded, the module
    text will be freed.  Subsequently, when the last reference is
    dropped, the release code will be called, which no longer exists.
    
    Use generic platform device allocation/release code in modules.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 37c12e7497b6fe2b6a890814f0ff4edce696d862
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Nov 5 21:19:33 2005 +0000

    [DRIVER MODEL] Improved dynamically allocated platform_device interface
    
    Re-jig the simple platform device support to allow private data
    to be attached to a platform device, as well as allowing the
    parent device to be set.
    
    Example usage:
    
    	pdev = platform_device_alloc("mydev", id);
    	if (pdev) {
    		err = platform_device_add_resources(pdev, &resources,
    						    ARRAY_SIZE(resources));
    		if (err == 0)
    			err = platform_device_add_data(pdev, &platform_data,
    						       sizeof(platform_data));
    		if (err == 0)
    			err = platform_device_add(pdev);
    	} else {
    		err = -ENOMEM;
    	}
    	if (err)
    		platform_device_put(pdev);
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bdc450a0bb1d48144ced1f899cc8366ec8e85024
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:28 2005 +0100

    [PKT_SCHED]: (G)RED: Introduce hard dropping
    
    Introduces a new flag TC_RED_HARDDROP which specifies that if ECN
    marking is enabled packets should still be dropped once the
    average queue length exceeds the maximum threshold.
    
    This _may_ help to avoid global synchronisation during small
    bursts of peers advertising but not caring about ECN. Use this
    option very carefully, it does more harm than good if
    (qth_max - qth_min) does not cover at least two average burst
    cycles.
    
    The difference to the current behaviour, in which we'd run into
    the hard queue limit, is that due to the low pass filter of RED
    short bursts are less likely to cause a global synchronisation.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit b38c7eef7e536d12051cc3d5864032f2f907cdfe
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:27 2005 +0100

    [PKT_SCHED]: GRED: Support ECN marking
    
    Adds a new u8 flags in a unused padding area of the netlink
    message. Adds ECN marking support to be used instead of dropping
    packets immediately.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit d8f64e19605d6ce40bc560e7bc919e2e02a79c1b
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:26 2005 +0100

    [PKT_SCHED]: GRED: Fix restart of idle period in WRED mode upon dequeue and drop
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 1e4dfaf9b99a8b652e8421936fd5fe2459da8265
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:25 2005 +0100

    [PKT_SCHED]: GRED: Cleanup and remove unnecessary code
    
    Removes unnecessary includes, initializers, and simplifies
    the code a bit.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6214e653cc578947bf83d6766339a18a41c5b923
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:24 2005 +0100

    [PKT_SCHED]: GRED: Remove auto-creation of default VQ
    
    Since we are no longer depending on the default VQ to be always
    allocated we can leave it up to the user to actually create it.
    This gives the user the ability to leave it out on purpose and
    enqueue packets directly to the device without applying the RED
    algorithm.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 7051703b990ec40bdf192ec7c87ffafd7011c640
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:23 2005 +0100

    [PKT_SCHED]: GRED: Dont abuse default VQ for equalizing
    
    Introduces a new red parameter set for use in equalize mode,
    although only the qavg variable and the idle period marker are
    being used for now this makes it possible to allow a separate
    parameter set to be used for equalize later on.
    
    The use of this separate parameter set fixes a bogus start of
    an idle period in gred_drop() which did start an idle period
    on the default VQ even if equalize mode was disabled.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 4a591834cfc79b2ff74457e976420361f8ae28b4
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:22 2005 +0100

    [PKT_SCHED]: GRED: Remove initd flag
    
    The case when the default VQ is not set up yet is already handled
    in a less error prone way.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 18e3fb84e698dcab1c5fa7b7c89921b826bb5620
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:21 2005 +0100

    [PKT_SCHED]: GRED: Improve error handling and messages
    
    Try to enqueue packets if we cannot associate it with a VQ, this
    basically means that the default VQ has not been set up yet.
    
    We must check if the VQ still exists while requeueing, the VQ
    might have been changed between dequeue and the requeue of the
    underlying qdisc.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 716a1b40b0ed630570edd4e2bf9053c421e9770b
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:20 2005 +0100

    [PKT_SCHED]: GRED: Introduce tc_index_to_dp()
    
    Adds a transformation function returning the DP index for a
    given skb according to its tc_index.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit edf7a7b1f0bd31d96096e38cbf35b02a3a1352b4
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:19 2005 +0100

    [PKT_SCHED]: GRED: Use generic queue management interface
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit c3b553cdaf50ce915bcd995fa8ec2905f227de64
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:18 2005 +0100

    [PKT_SCHED]: GRED: Report congestion related drops as NET_XMIT_CN
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 301d063c2915e8307e3d128245d8a393ad776539
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:17 2005 +0100

    [PKT_SCHED]: GRED: Do not reset statistics in gred_reset/gred_change
    
    Qdiscs are not supposed to reset statistics in reset() and while
    changing parameters. My argumentation is that if the user wants
    the counters to be reset he can simply remove and readd the
    qdiscs, that's what most users do anyway.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 22b33429ab93155895854e9518a253680a920493
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:16 2005 +0100

    [PKT_SCHED]: GRED: Use new generic red interface
    
    Simplifies code a lot by separating the red algorithm and the
    queueing logic. We now differentiate between probability marks
    and forced marks but sum them together again to not break
    backwards compatibility.
    
    This brings GRED back to the level of RED and improves the
    accuracy of the averge queue length calculations when stab
    suggests a zero shift.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit f62d6b936df500247474c13360eb23e1b602bad0
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:15 2005 +0100

    [PKT_SCHED]: GRED: Use central VQ change procedure
    
    Introduces a function gred_change_vq() acting as a central point
    to change VQ parameters. Fixes priority inheritance in rio mode
    when the default DP equals 0. Adds proper locking during changes.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit a8aaa9958eea2420e13d5a00c3fae934e0a3889e
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:14 2005 +0100

    [PKT_SCHED]: GRED: Report out-of-bound DPs as illegal
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6639607ed9deaed9ab3a1cc588f0288891ece2ac
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:13 2005 +0100

    [PKT_SCHED]: GRED: Use a central table definition change procedure
    
    Introduces a function gred_change_table_def() acting as a central
    point to change the table definition.
    
    Adds missing validations for table definition: MAX_DPs > DPs > 0
    and def_DP < DPs thus fixing possible invalid memory reference
    oopses. Only root could do it but having a typo crashing the
    machine is a bit hard.
    
    Adds missing locking while changing the table definition, the
    operation of changing the number of DPs and removing shadowed VQs
    may not be interrupted by a dequeue.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit e06368221c204d7b5f1ba37d047170f9a0dd359d
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:12 2005 +0100

    [PKT_SCHED]: GRED: Dump table definition
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 05f1cc01b4d24bc5432ae7044f8209d464f2b8ec
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:11 2005 +0100

    [PKT_SCHED]: GRED: Cleanup dumping
    
    Avoids the allocation of a buffer by appending the VQs directly
    to the skb and simplifies the code by using the appropriate
    message construction macros.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit d6fd4e9667bf5e00b92e62f02d75bd6c97a7007a
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:10 2005 +0100

    [PKT_SCHED]: GRED: Transform grio to GRED_RIO_MODE
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit dea3f62852f98670b72ad355c67bd55c9af58530
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:09 2005 +0100

    [PKT_SCHED]: GRED: Cleanup equalize flag and add new WRED mode detection
    
    Introduces a flags variable using bitops and transforms eqp to use
    it. Converts the conditions of the form (wred && rio) to (wred)
    since wred can only be enabled in rio mode anyway.
    
    The patch also improves WRED mode detection. The current behaviour
    does not allow WRED mode to be turned off again without removing
    the whole qdisc first. The new algorithm checks each VQ against
    each other looking for equal priorities every time a VQ is changed
    or added. The performance is poor, O(n**2), but it's used only
    during administrative tasks and the number of VQs is strictly
    limited.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit dba051f36a47989b20b248248ffef7984a2f6013
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:08 2005 +0100

    [PKT_SCHED]: RED: Cleanup and remove unnecessary code
    
    Removes the skb trimming code which is not needed since we never
    touch the skb upon failure. Removes unnecessary includes,
    initializers, and simplifies the code a bit. Removes Jamal's
    obsolete email addresses upon his own request.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6a1b63d467281eb6bd64aafbbf6130a1b42c8c2e
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:07 2005 +0100

    [PKT_SCHED]: RED: Dont start idle periods while already idling
    
    We should not interrupt and restart an idle period while idling already.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 9e178ff27cd9187babe86dc80ef766b722c88da6
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:06 2005 +0100

    [PKT_SCHED]: RED: Use generic queue management interface
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6b31b28a441c9ba33889f88ac1d9451ed9532ada
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:05 2005 +0100

    [PKT_SCHED]: RED: Use new generic red interface
    
    Simplifies code a lot by separating the red algorithm and the
    queueing logic. We now differentiate between probability marks
    and forced marks but sum them together again to not break
    backwards compatibility.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 2566a509cacc8b8eaea2e5b54068816c9cfb41c2
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:04 2005 +0100

    [NET]: Introduce INET_ECN_set_ce() function
    
    Changes IP_ECN_set_ce() and IP6_ECN_set_ce() to return 0 if the CE
    bits could not bet set because none of the ECT bits are set or 1
    if the CE bits are already set or have been successfully set.
    
    Introduces INET_ECN_set_ce(skb) to enable CE bits for all supported
    protocols.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit a783474591f2eed0348e08b15934fa9a25e23b3e
Author: Thomas Graf <tgraf@suug.ch>
Date:   Sat Nov 5 21:14:03 2005 +0100

    [PKT_SCHED]: Generic RED layer
    
    Extracts the RED algorithm from sch_red.c and puts it into include/net/red.h
    for use by other RED based modules. The statistics are extended to be more
    fine grained in order to differ between probability/forced marks/drops.
    We now reset the average queue length when setting new parameters, leaving
    it might result in an unreasonable qavg for a while depending on the value of W.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 70d9d825e0a5a78ec1dacaaaf5c72ff5b0206fab
Merge: 537a95d... f896424...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 5 12:04:02 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit f896424cbc61225e8f029fe23e5aae3e32103229
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Wed Nov 2 16:13:06 2005 -0700

    [PATCH] phy address mask support for generic phy layer
    
    Adds a phy_mask field to struct mii_bus and uses it.  This field
    indicates each phy address to be ignored when probing the mdio bus.
    
    This support is needed for the fs_enet and ibm_emac drivers to be
    converted to the generic phy layer among other drivers. Many systems
    lock up on probing certain phy addresses or probing doesn't return
    0xffff when nothing is found at the address. A new driver I'm
    working on also makes use of this mask.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4371dc6c60705815dcfe0c2979f68a26d0b27bd4
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Nov 1 13:13:35 2005 -0800

    [PATCH] pcnet32: Prevent hang with 79c976
    
    Some boards using the 79c976 pcnet32 chip will hang the system if the
    ethtool --register-dump is performed with the device operational.  The
    request to read bcr30 is retried by the PCI device infinitely without
    returning data, hanging the system.
    
    Tested ia32 and ppc64.
    
    Signed-off-by:  Don Fry <brazilnut@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2964bbd7048ac0c1405cc119604e29987dd165df
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Nov 1 12:50:57 2005 -0800

    [PATCH] pcnet32: AT2700/2701 and Bugzilla 2699 & 4551
    
    This patch is a better fix for Allied Telesyn 2700/2701 FX boards than
    the change made in early January this year.  It allows the user to
    select the speed/duplex via module_param, but if no selection is made,
    forces the speed to 100 FD.  It fixes both Bugzilla bugs 2669 and 4551.
    Tested ia32 and ppc64 by myself, and by the originator of bug 2669.
    
    Signed-off-by: Don Fry <brazilnut@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a88c844c1748ba494d38b1053829ec046c74ebfd
Author: Don Fry <brazilnut@us.ibm.com>
Date:   Tue Nov 1 12:04:33 2005 -0800

    [PATCH] pcnet32: show name of failing device
    
    Display the name eth%d or pci_name() of device which fails to allocate
    memory.  When changing ring size via ethtool, it also releases the
    lock before returning on error.  Added comment that the caller of
    pcnet32_alloc_ring must call pcnet32_free_ring on error, to avoid leak.
    Tested ia32 by forcing allocation errors.
    
    Signed-off-by: Don Fry <brazilnut@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 571de88b87e978b21ac4da481d317678aac9e562
Author: Ravinandan Arakali <Ravinandan.Arakali@neterion.com>
Date:   Tue Nov 1 15:24:25 2005 -0500

    [PATCH] S2io: Updated documentation
    
    Hi,
    This patch provides updated documentation on the Neterion(S2io) driver.
    
    Please review the patch.
    
    Signed-off-by: Ravinandan Arakali <ravinandan.arakali@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit da6971d8ece2ec9762509e20dda6808335b5a10b
Author: Ananda Raju <Ananda.Raju@neterion.com>
Date:   Mon Oct 31 16:55:31 2005 -0500

    [PATCH] S2io: Multi buffer mode support
    
    Hi,
    This patch  provides dynamic two buffer-mode and 3 buffer-mode options.
    Previously 2 buffer-mode was compilation option. Now with this patch applied
    one can load driver in 2 buffer-mode with module-load parameter
    
    ie.
    #insmod s2io.ko rx_ring_mode=2
    
    This patch also provides 3 buffer-mode which provides header separation
    functionality. In 3 buffer-mode skb->data will have L2/L3/L4 headers and
    "skb_shinfo(skb)->frag_list->data" will have have L4 payload.
    one can load driver in 3 buffer-mode with same above module-load parameter
    
    ie.
    #insmod s2io.ko rx_ring_mode=3
    
    Please review the patch.
    
    Signed-off-by: Ananda Raju <ananda.raju@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 29b09fcc341ede8dc08c900b132903fdd0231400
Author: Gabriel A. Devenyi <ace@staticwave.ca>
Date:   Thu Nov 3 19:30:47 2005 -0500

    [PATCH] drivers/net/wireless/airo.c unsigned comparason
    
    fid is declared as a u32 (unsigned int), and then a few lines later, it is checked for a value < 0, which is clearly useless.
    In the two locations this function is used, in one it is *explicitly* given a negative number, which would be ignored with the
    current definition.
    
    Thanks to LinuxICC (http://linuxicc.sf.net).
    
    Signed-off-by: Gabriel A. Devenyi <ace@staticwave.ca>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 328198acb7407301ddf6005c0fa1e04bd0c539c8
Merge: 9e0cb06... fecb4a0...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Nov 5 14:38:55 2005 -0500

    Merge branch 'master'

commit 537a95d9351f41cc3c24ddb2a646aedd6debb21b
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Nov 5 14:29:01 2005 -0500

    [libata] restore sg on DMA mapping failure

commit 07aaa11540828f4482c09e1a936a1f63cdb9fc9d
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Thu Nov 3 13:43:07 2005 -0800

    [NETEM]: use PSCHED_LESS
    
    Convert netem to use PSCHED_LESS and warn if requeue fails.
    With some of the psched clock sources, the subtraction doesn't
    work always work right without wrapping.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 1758ee0ea26561943813c5f5a7b27272f2cbc4cf
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 20:03:24 2005 +0100

    [NETFILTER] nf_queue: Fix Ooops when no queue handler registered
    
    With the new nf_queue generalization in 2.6.14, we've introduced a bug
    that causes an oops as soon as a packet is queued but no queue handler
    registered.  This patch fixes it.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 433a4d3b5456dec5bcca5a0f236bf622da1267b3
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 19:25:56 2005 +0100

    [NETFILTER]: CONNMARK target needs ip_conntrack
    
    There's a missing dependency from the CONNMARK target to ip_conntrack.
    
    Signed-off-by: Pablo Neira Ayuso <pablo@eurodev.net>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 10dfdc69ea07d5a6c24406755f5e8de95a1b8901
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 19:20:07 2005 +0100

    [NETFILTER] nfnetlink: Use kzalloc
    
    These is a cleanup patch, kzalloc can be used in a couple of cases
    
    Signed-off-by: Samir Bellabes <sbellabes@mandriva.com>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit fecb4a0c87c2bcaee1f3cf800126eef752a07ed3
Merge: a2c78f7... 39b7f1e...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 5 10:31:35 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/jejb/scsi-for-linus-2.6

commit a2c78f7c1d393d89240ed5922d3aa8e439aec82e
Merge: 6037d6b... d191634...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Nov 5 09:47:46 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 39b7f1e25a412b0ef31e516cfc2fa4f40235f263
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Nov 4 14:44:41 2005 -0500

    [SCSI] sd: Fix refcounting
    
    Currently the driver takes a reference only for requests coming by way
    of the gendisk, not for requests coming by way of the struct device or
    struct scsi_device.  Such requests can arrive in the rescan, flush,
    and shutdown pathways.
    
    The patch also makes the scsi_disk keep a reference to the underlying
    scsi_device, and it erases the scsi_device's pointer to the scsi_disk
    when the scsi_device is removed (since the pointer should no longer be
    used).
    
    This resolves Bugzilla entry #5237.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d191634f7ab3a1c8e9da0c5e986c30b2612f0eb0
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sat Nov 5 10:36:35 2005 +0000

    [MMC] Use controller id instead of driver name for printks
    
    The printks that aren't for debugging should use the name of the controller,
    not the driver name. Multiple MMC controllers aren't that common today, but
    this is the right way to do things.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 20faa7c380c19c932d57be59bb2522bd9327a6c5
Author: Adrian Bunk <bunk@stusta.de>
Date:   Sat Nov 5 10:20:56 2005 +0000

    [ARM] Documentation/arm/README: small update
    
    - egcs is not supported by kernel 2.6
    - gcc 3.3 seems to be a good choice on ARM
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 25cc5e5bd20e9274dddb9d1e55b83798363528dc
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sat Nov 5 10:16:50 2005 +0000

    [MMC] Fix chip config in wbsd
    
    There is a broken if clause in the wbsd driver that can cause the
    driver to try and configure the chip even though none is found. This
    results in i/o on invalid ports.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0f81eb4db4f1cc560318b6e7762a7a1d7d8c7095
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 19:05:37 2005 +0100

    [NETFILTER]: Fix double free after netlink_unicast() in ctnetlink
    
    It's not necessary to free skb if netlink_unicast() failed.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 0f69ce1e4474e5d5e266457e8a1f4166cf71f6c7
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Fri Nov 4 16:03:32 2005 -0800

    [IB] mthca: report page size capability
    
    Report the device's real page size capability in mthca_query_device().
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0ee957cb7a8f6e4fb8c6f943dbc451957bc0c6bc
Author: James Bottomley <jejb@titanic.(none)>
Date:   Fri Nov 4 23:22:55 2005 -0600

    Fix ips.c compile
    
    It looks like one of the ips patches was missing a closing brace in a
    function
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 849a8924a6740ecbf9711e015beca69425f0c429
Merge: 7015faa... ee807c2...
Author: James Bottomley <jejb@titanic.(none)>
Date:   Fri Nov 4 22:29:52 2005 -0600

    Merge by Hand
    
    Conflicts in dec_esp.c (Thanks Bacchus), scsi_transport_iscsi.c and
    scsi_transport_fc.h
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d2a7bb7141a1fac7b11523538b2d2407e928baeb
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 20:17:51 2005 +0100

    [NETFILTER] NAT: Fix module refcount dropping too far
    
    The unknown protocol is used as a fallback when a protocol isn't known.
    Hence we cannot handle it failing, so don't set ".me".  It's OK, since we
    only grab a reference from within the same module (iptable_nat.ko), so we
    never take the module refcount from 0 to 1.
    
    Also, remove the "protocol is NULL" test: it's never NULL.
    
    Signed-off-by: Rusty Rusty <rusty@rustcorp.com.au>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6037d6bbdff65eb5a84fe35e140f4da4f7cc103a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 4 22:08:00 2005 -0500

    [libata] ATAPI pad allocation fixes/cleanup
    
    Use ata_pad_{alloc,free} in two drivers, to factor out common code.
    
    Add ata_pad_{alloc,free} to two other drivers, which needed the padding
    but had not been updated.

commit c2cc87ca9561ddfe744d446789cc10f507e87db9
Merge: ce1eeb9... 7015faa...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Nov 4 21:39:31 2005 -0500

    Merge branch 'master'

commit 7015faa7df829876a0f931cd18aa6d7c24a1b581
Author: Calin A. Culianu <calin@ajvar.org>
Date:   Fri Nov 4 20:38:04 2005 -0500

    [PATCH] nvidiafb: Geforce 7800 series support added
    
    This adds support for the Nvidia Geforce 7800 series of cards to the
    nvidiafb framebuffer driver.  All it does is add the PCI device id for
    the 7800, 7800 GTX, 7800 GO, and 7800 GTX GO cards to the module device
    table for the nvidiafb.ko driver, so that nvidiafb.ko will actually work
    on these cards.
    
    I also added the relevant PCI device ids to linux/pci_ids.h
    
    I tested it on my 7800 GTX here and it works like a charm.  I now can
    get framebuffer support on this card! Woo hoo!! Nothing like 200x75 text
    mode to make your eyes BLEED.  ;)
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d811552eda2476215d69d485e437d2dcae1ab0b4
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 13:05:20 2005 +0100

    [NETFILTER] PPTP helper: Fix endianness bug in GRE key / CallID NAT
    
    This endianness bug slipped through while changing the 'gre.key' field in the
    conntrack tuple from 32bit to 16bit.
    
    None of my tests caught the problem, since the linux pptp client always has
    '0' as call id / gre key.  Only windows clients actually trigger the bug.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 3428c209c6820bbbb7dfb323caef8d402b3deb4c
Author: Harald Welte <laforge@netfilter.org>
Date:   Thu Nov 3 14:27:07 2005 +0100

    [NETFILTER] PPTP helper: Fix compilation of conntrack helper without NAT
    
    This patch fixes compilation of the PPTP conntrack helper when NAT is
    configured off.
    
    Signed-off-by: Yasuyuki Kozakai <yasuyuki.kozakai@toshiba.co.jp>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 127f2fa31ac624c744f3767363c4919209980956
Merge: ba77df5... aef9ec3...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 16:32:36 2005 -0800

    Merge branch 'srp' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit ba77df570c6710c9c19b31e0e48e4bcdf31cefe8
Merge: 602d4a7... d09e327...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 16:31:54 2005 -0800

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 602d4a7e2f4b843d1a67375d4d7104073495b758
Merge: 0bbacc4... c51e3a4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 16:27:50 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/paulus/powerpc-merge

commit c51e3a417bb0f295e13a5bad86302b5212eafdf3
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 5 10:36:59 2005 +1100

    powerpc: Fix vmlinux.lds.S for 32-bit
    
    We can't currently use asm-ppc/page.h in vmlinux.lds.S, so until
    we have a merged page.h, define PAGE_SIZE and KERNELBASE locally.
    Also gets rid of some dynamic executable cruft that we had for
    32-bit.  With -Ttext=$(KERNELBASE) this didn't cause any problem,
    but when we changed to putting . = KERNELBASE in the vmlinux.lds.S
    this cruft caused the text to get linked at 0xa0 instead of
    0xc0000000.  Oops.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5ad570786158e327a1c5d32dd3d66f26d8de6340
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Nov 5 10:33:55 2005 +1100

    powerpc: Merge smp.c and smp.h
    
    This also moves setup_cpu_maps to setup-common.c (calling it
    smp_setup_cpu_maps) and uses it on both 32-bit and 64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 146a209967886e57eb34b4cdb85ca52078a4f8cc
Author: Dave Jones <davej@redhat.com>
Date:   Fri Nov 4 15:32:08 2005 -0800

    [AGPGART] Fix up sgi-agp bug with no devices on bus.
    
    Signed-off-by: Eric Kunze <ekunze@sgi.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit c4dd45823fbdaaa4748cd8c7704334f249914405
Author: Dave Jones <davej@redhat.com>
Date:   Fri Nov 4 15:18:56 2005 -0800

    [AGPGART] When we encounter reserved mode bits, print them out.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 0bbacc402e67abca8794a8401c1621dc0c0202e9
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Nov 1 16:53:32 2005 -0500

    NFS,SUNRPC,NLM: fix unused variable warnings when CONFIG_SYSCTL is disabled
    
     Fix some dprintk's so that NLM, NFS client, and RPC client compile
     cleanly if CONFIG_SYSCTL is disabled.
    
     Test plan:
     Compile kernel with CONFIG_NFS enabled and CONFIG_SYSCTL disabled.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit c556b754967afd0878d65de2cfe0675577b0f62f
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Nov 1 12:24:48 2005 -0500

    SUNRPC: allow sunrpc.o to link when CONFIG_SYSCTL is disabled
    
     The sunrpc module should build properly even when CONFIG_SYSCTL is
     disabled.
    
     Reported by Jan-Benedict Glaw.
    
     Test plan:
     Compile kernel with CONFIG_NFS as a module and built-in, and CONFIG_SYSCTL
     enabled and disabled.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 6bfc93ef98f00b38f1913a7fdeae46ae8dbd7c52
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:39:36 2005 -0500

    NFSv4: Teach NFSv4 to cache locks when we hold a delegation
    
     Now that we have a method of dealing with delegation recalls, actually
     enable the caching of posix and BSD locks.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 888e694c167975709f17526dbbed2d98f84e8f85
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:38:11 2005 -0500

    NFSv4: Recover locks too when returning a delegation
    
     Delegations allow us to cache posix and BSD locks, however when the
     delegation is recalled, we need to "flush the cache" and send
     the cached LOCK requests to the server.
    
     This patch sets up the mechanism for doing so.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 43b2a33aa868054bd477ab2c1cd20f1ba1af2c3e
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:35:30 2005 -0500

    NFSv4: Fix recovery of flock() locks.
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 34ea818846e6cccdd6e05354ab8c8a6d7e34657a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:35:02 2005 -0500

    NFSv4: Return any delegations before sillyrenaming the file
    
     I missed this one... Any form of rename will result in a delegation
     recall, so it is more efficient to return the one we hold before
     trying the rename.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2c56617d76fa7b2a709d58abd7ed68889cc88b90
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:33:50 2005 -0500

    NFSv4: Fix the handling of the error NFS4ERR_OLD_STATEID
    
     Ensure that we retry the failed operation...
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit d530838bfa507d67b40d13b00d9cbd7a46a47e78
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:33:38 2005 -0500

    NFSv4: Fix problem with OPEN_DOWNGRADE
    
     RFC 3530 states that for OPEN_DOWNGRADE "The share_access and share_deny
     bits specified must be exactly equal to the union of the share_access and
     share_deny bits specified for some subset of the OPENs in effect for
     current openowner on the current file.
    
     Setattr is currently violating the NFSv4 rules for OPEN_DOWNGRADE in that
     it may cause a downgrade from OPEN4_SHARE_ACCESS_BOTH to
     OPEN4_SHARE_ACCESS_WRITE despite the fact that there exists no open file
     with O_WRONLY access mode.
    
     Fix the problem by replacing nfs4_find_state() with a modified version of
     nfs_find_open_context().
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4cecb76ff86db46d2823550256c828b6597f418e
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Nov 4 15:32:58 2005 -0500

    NFSv4: Fix a race between open() and close()
    
     We must not remove the nfs4_state structure from the inode open lists
     before we are in sequence lock.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 462aae65f6ea41de05ebc2a54a9e6b95563591f3
Author: David S. Miller <davem@davemloft.net>
Date:   Fri Nov 4 11:17:24 2005 -0800

    [USB]: Make early handoff a final fixup instead of a header one.
    
    At header fixup time, it is not yet legal to ioremap() PCI
    device registers, yet that is what this quirk code needs to
    do.
    
    Signed-off-by: David S. Miller <davem@davemloft.net>

commit 889dfafe836ac9bb711f73d07a4c044cae177c0b
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Fri Nov 4 18:54:30 2005 +0300

    [PATCH] improve scheduler fairness a bit
    
    Do not transfer remaining time slice to another cpu on process exit.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 34cf9e37507c65f7398df4c21a18d4a3e83881d7
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Nov 4 18:43:39 2005 +0000

    [MMC] Response to write commands is R1 nor R1b
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c8ebce6eeb1f6f83fd8c0de209f1f7b627220a81
Merge: 0676fc1... b2281ab...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 10:42:53 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 0676fc122e712751e60ae16e0f2241064711f888
Merge: 912cbe3... d56c524...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 10:40:11 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 912cbe3c5be5afb28184bb2e49a48fa4a1b098db
Merge: 0f3278d... 52ab4ac...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Nov 4 10:39:28 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/acme/net-2.6

commit ec58ef03284f0bfa50a04982b74c8c2325a0758e
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Nov 4 09:44:33 2005 -0800

    [CIFS] Update kconfig for cifs
    
    Add cifs extended stats configure option and reduce experimental code.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d56c524afaa87ae224b5821ef101891ce076c321
Author: Russell King <rmk+kernel@arm.linux.org.uk>
Date:   Fri Nov 4 17:28:34 2005 +0000

    [PATCH] ARM: Reverted 2918/1: [update] Base port of Comdial MP1000 platfrom
    
    No longer maintained

commit 866237eafc60637a2c9875167486f61d86892c6b
Author: Russell King <rmk+kernel@arm.linux.org.uk>
Date:   Fri Nov 4 17:26:57 2005 +0000

    [PATCH] ARM: Reverted 2921/1: Support for the RTC / nvram on the Comdial MP1000
    
    No longer maintained

commit e399822da0f99f8486c33c47e7ae0d32151461e5
Author: Russell King <rmk+kernel@arm.linux.org.uk>
Date:   Fri Nov 4 17:26:56 2005 +0000

    [PATCH] ARM: Reverted 2919/1: CS8900A ethernet driver modifications for the Comdial MP1000
    
    No longer maintained

commit 30c2f90b68b9bcdba83d386d56533d3e884be021
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Nov 4 17:17:30 2005 +0000

    [ARM] 3097/1: change library link ordering
    
    Patch from Nicolas Pitre
    
    We have an optimized sha1 routine (arch/arm/lib/sha1.S) meant to
    override the generic one in lib/sha1.c.
    
    Unfortunately lib/lib.a is listed _before_ arch/arm/lib/lib.a in the
    link argument list and therefore the architecture specific lib functions
    are not picked up before the generic versions.
    
    This patch is a quick fix to change that ordering for ARM.  Here's what
    the kbuild maintainer had to say about it (was also CC'd on lkml):
    
    On Wed, 2 Nov 2005, Sam Ravnborg wrote:
    > This looks like an obvious way to achive correct ordering.
    > We could change it so arch defines always took precedence but
    > the above is so simple that it is not worth the effort.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 74ec71e16189717d3f33ec7e5d22021480f4173b
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Fri Nov 4 17:15:45 2005 +0000

    [ARM] 3087/1: PXA2xx flash platform device conversion
    
    Patch from Todd Poynor
    
    Add platform devices for flash to Lubbock and Mainstone board files.
    Once in place, the two existing mtd map drivers for the boards will be
    converted to use a single pxa2xx map driver in the linux-mtd tree.
    Take 4: flash_platform_data .map_name vs. .name cleaned up, resync with
    merged irda patch context.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7866f6492856dde7d70e4f878e3893e1f91216ce
Author: Dave Jiang <dave.jiang@gmail.com>
Date:   Fri Nov 4 17:15:44 2005 +0000

    [ARM] 3086/1: ixp2xxx error irq handling
    
    Patch from Dave Jiang
    
    This provides support for IXP2xxx error interrupt handling. Previously there was a patch to remove this (although the original stuff was broken). Well, now the error bits are needed again. These are used extensively by the micro-engine drivers according to Deepak and also we will need it for the new EDAC code that Alan Cox is trying to push into the main kernel.
    
    Re-submit of 3072/1, generated against git tree pulled today. AFAICT, this git tree pulled in all the ARM changes that's in arm.diff. Please let me know if there are additional changes. Thx!
    
    Signed-off-by: Dave Jiang <djiang@mvista.com>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 73f0f7c79b046dc5d6b56a3f145430d97d50f877
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Nov 4 17:15:43 2005 +0000

    [ARM] 3094/1: remove PLD stuff from old uaccess code
    
    Patch from Nicolas Pitre
    
    ARM processors that have pld instructions are not using those copy_user
    implementation anymore.  Let's remove the useless PLD lines which were
    half wrong anyway.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c2f2f0fa3829a8da1e029346c4f7e8da82f95d62
Author: Jaroslav Kysela <perex@suse.cz>
Date:   Wed Oct 26 11:50:25 2005 +0200

    [ALSA] usb-audio: remove duplicate fixup entry (Hercules DJ Console)
    
    Modules: USB generic driver
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 985be54ba8b042923f5a76276a1c0490aa8af7a1
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Nov 2 18:26:49 2005 +0100

    [ALSA] hda-codec - Minor rewrites
    
    Modules: HDA Codec driver,HDA generic driver
    
    - Make bound controls global to all patches
    - Clean up analog patches (for the upcoming extension to AD1988)
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b7027cc29e158ec2d1c5e53c69f3e9e6a0d02a48
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Nov 2 18:13:41 2005 +0100

    [ALSA] hda-codec - Show power state in proc file
    
    Modules: HDA generic driver
    
    Show the power state of each widget in proc file.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 09f9a891e9c8a3a5f75216c292a5420eb73a9c8b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Nov 2 11:54:36 2005 +0100

    [ALSA] ice1724 - Add SPDIF support to Shuttle SN25P
    
    Modules: ICE1712 driver
    
    Added the SPDIF support to Shuttle SN25P.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b55bbf06e850d7561ad7bdded1f4d8c08b1e1f11
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Nov 2 11:32:52 2005 +0100

    [ALSA] usb-audio: start submitting URBs in the prepared state
    
    Modules: USB generic driver
    
    If we submit all our URBs when a playback stream is started, the first
    hwptr_done update for each URB happens at the same time.  This results
    in an underrun when there isn't enough PCM data available at this
    point for all URBs.
    
    To avoid this, we begin submitting our URBs earlier (when the stream
    is prepared), with empy packets.  When the stream is started, the
    prepare_playback_urb() call for each URB will be run only when the
    respective URB has completed previously, so the first hwptr_done
    updates will be done nicely staggered.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 091e95ee7febf894603475c44d51f8ec4fab4328
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 27 20:56:35 2005 +0200

    [ALSA] ac97 - Fix confliction of DRA and surround slots
    
    Modules: AC97 Codec
    
    Fixed the confliction of DRA and surround slots 7/8.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit beef08a54524e4a657bfb66b6b9758f8bc54fd17
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 27 20:55:38 2005 +0200

    [ALSA] intel8x0 - Fix irq handler registration
    
    Modules: Intel8x0 driver
    
    - Request irq handler after proper initialization
    - Don't override always buggy_irq option for Nvidia
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 708f997169d5674177450f25ef3ac6b4f2562690
Author: Konstantin Baydarov <kbaidarov@ru.mvista.com>
Date:   Thu Oct 27 17:25:02 2005 +0200

    [ALSA] AMD Au1x00 driver: buggy spinlocks
    
    Modules: MIPS AU1x00 driver
    
    AMD Au1x00 ALSA driver fails compilation with the alternate spinlock
    implementation because it doesn't do locking/unlocking correctly in some
    places (passes spinlock by value).
    
    Signed-off-by: Konstantin Baydarov <kbaidarov@ru.mvista.com>
    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6d6f9156209892bc0cdc3354394ac947db5e32f1
Author: Karoly Lorentey <lorentey@elte.hu>
Date:   Tue Oct 25 11:50:25 2005 +0200

    [ALSA] intel8x0 - Add ac97_quirk for Dell Inspiron 8600
    
    Modules: Intel8x0 driver
    
    Add AC97_TUNE_HP_ONLY quirk for Dell Inspiron 8600.
    
    Signed-off-by: Karoly Lorentey <lorentey@elte.hu>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 9529a5bae10118fd08edfd667cac19f94fb7264a
Author: Lee Revell <rlrevell@joe-job.com>
Date:   Tue Oct 25 11:25:29 2005 +0200

    [ALSA] emu10k1 - Use 31 bit DMA mask for Audigy
    
    Modules: EMU10K1/EMU10K2 driver
    
    It appears that either the Audigy DMA engine or the Linux kernel cannot
    handle 32 bit DMA with this device.  Problem manifests as noise when
    using more than 2GB of RAM, possibly only on 64 bit machines.
    
    The OSS driver actually uses a 29 bit DMA mask for both devices, this
    seems like overkill for now.
    
    Signed-off-by: Lee Revell <rlrevell@joe-job.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d91c64c8279501f439feae9042eccd0bbe484265
Author: Andreas Mohr <andi@lisas.de>
Date:   Tue Oct 25 11:17:45 2005 +0200

    [ALSA] AZT3328 driver update
    
    Modules: AZT3328 driver
    
    this is now an even much more reworked patch (#3) for my azt3328.c ALSA driver.
    IOW I spent another 4 evenings to get the sequencer timer to work properly
    (my head is still hurting) and do lots of other cleanups.
    
    Note that despite the extensive sequencer timer additions, the driver object
    is still only 2kB bigger than the previous version, due to those many
    optimizations...
    
    Changes in version #3:
    - fully working ALSA sequencer timer support for the card's 1024000Hz
      DirectX timer (downscaling adjustable via seqtimer_scaling module param)
    - an insane amount of code optimizations
    - many, many cleanups
    
    Changes in version #2:
    - FOUND the 1us DirectX timer area (yay!), made the code respect it
    properly
    - renamed some 'weird' mixer control names according to ControlNames.txt
    - cleanup unneeded debug messages, reformatting
    - improved I/O register documentation
    - constified many more structs
    
    Changes in version #1:
    - improves/fixes some fatal playback/recording interaction
    - improves IRQ handler performance (and actually fixes some weird code)
    - coalesces some I/O accesses
    - slightly improves I/O interface documentation
    - improves/fixes logging
    - defines out some less important debug code
    - constifies some data
    
    Signed-off-by: Andreas Mohr <andi@lisas.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit fc20773329c993ec7d1b2c65618351f057d9d679
Author: Tim <tedon@rogers.com>
Date:   Tue Oct 25 11:10:55 2005 +0200

    [ALSA] Fix emu10k1 synth problems.
    
    Modules: EMU10K1/EMU10K2 driver,Common EMU synth
    
    This patch fixes problems with voices cutting off or not
    sounding at all.
    
    Signed-off-by: Tim <tedon@rogers.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit aa92c4af15224d8a96343286cdcf7c73b2ad3809
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Oct 25 10:58:59 2005 +0200

    [ALSA] Fix a typo in the last fix
    
    Modules: ALSA Core
    
    Fix a typo (bogus check) in the last patch to fix Oops with suspend/resume.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f1902860161ff212c515e7ea629e880fec856a37
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Oct 24 17:05:03 2005 +0200

    [ALSA] fix improper CONFIG_SND_MAJOR usage
    
    Modules: HWDEP Midlevel,PCM Midlevel,RawMidi Midlevel,ALSA Core
    
    Replace usage of CONFIG_SND_MAJOR with snd_major, where appropriate.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit c8a7e5c40ddcf98f1026581e411b05ff86491907
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Oct 24 17:02:46 2005 +0200

    [ALSA] usb-audio: remove superfluous include
    
    Modules: USB generic driver
    
    Remove a superfluous include of the sound/minors.h header.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 3939e7142da722324ab07d244a9736b0fa59c362
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Oct 24 17:02:03 2005 +0200

    [ALSA] clean up device types symbols
    
    Modules: ALSA Core,ALSA Minor Numbers
    
    Remove the unused and undefined symbols SNDRV_DEVICE_TYPE_{MIXER,
    PCM_PLOOP,PCM_CLOOP}, and introduce a new symbol SNDRV_MINOR_GLOBAL
    for non-card-specific devices like the sequencer or the timer.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit fc58422ad95a0f4936ead538e0b946aee5a4f98c
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Mon Oct 24 15:11:28 2005 +0200

    [ALSA] Big kfree NULL check cleanup - sound
    
    Modules: AD1889 driver,RME9652 driver
    
    This is the sound/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in sound/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8433a509c0eb6bb1f33ce39c82c580b8901619ee
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Mon Oct 24 15:02:37 2005 +0200

    [ALSA] Fix schedule_timeout usage
    
    Use schedule_timeout_{,un}interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.  Also use
    human-time conversion functions instead of hard-coded division to avoid
    rounding issues.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d78bec210f07b06f406b877b9179e0cc281ae8e6
Author: Wei Ni <Wei.Ni@uli.com.tw>
Date:   Mon Oct 24 11:04:51 2005 +0200

    [ALSA] intel8x0 - fix capture for M1563
    
    Modules: Intel8x0 driver
    
    1.In intel8x0_measure_ac97_clock routine, when stop DMA, there is not stop
      DMA corectly, but start another PCM In2 DMA engine.
    2.In do_ali_reset routine, there is only need to enable PCM IN and PCM OUT.
    
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 7b4260f2cc8a0da74a7842106cc87ab54bf17ec5
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Sat Oct 22 11:49:51 2005 +0200

    [ALSA] ca0106: Added copyright messages.
    
    Modules: CA0106 driver
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit 7cf4783b31607ad13b84bed14ea2ca446364985a
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Sat Oct 22 11:45:55 2005 +0200

    [ALSA] ca0106: Cosmetic changes.
    
    Modules: CA0106 driver
    
    Just tidying up the code. Making more functions static.
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit d3d579f84ebf701dedd22ba696d1738ed6759ef7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Oct 21 16:20:11 2005 +0200

    [ALSA] Add missing KERN_* prefix
    
    Modules: ALSA<-OSS emulation,USB generic driver,USB USX2Y
    
    Added missing KERN_* prefix to printk.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8a5afd29dc16a9e687f63195cb635ecd611482d0
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Thu Oct 20 22:57:51 2005 +0200

    [ALSA] snd-ca0106: Add midi support.
    
    Modules: PCI drivers,CA0106 driver
    
    Author: Tilman Kranz <tilde@tk-sls.de>
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>

commit b0b9811956db489ca43596c37ef2f38582454e51
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 20 18:29:58 2005 +0200

    [ALSA] hdsp - Code clean up
    
    Modules: RME HDSP driver
    
    - Add missing KERN_* suffix to printk.
    - Clean up parentheses.
    - clean up the firmware check code.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 99b359ba10a582148c6725f428a33ba5356dd993
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 20 18:26:44 2005 +0200

    [ALSA] Add missing KERN_* suffix to printk
    
    Add missing KERN_* suffix to printk.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 8a3fb4d0ce5cc37a765d59b65a3b3714e5806dc9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 20 17:10:49 2005 +0200

    [ALSA] Remove multi-card support for ali5451 and nm256
    
    Modules: Documentation,ALI5451 driver,NM256 driver
    
    Removed multi-card supports for ali5451 and nm256 drivers.
    They are supposed to be a single device.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 698444f31788bd9992f7c31bcc4862d82f985890
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 20 16:53:49 2005 +0200

    [ALSA] Fix the type of enable module option
    
    Fix the type of enable module option to bool.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d1f38cf9f8fcb486a027bb5adc214558d7830f45
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Oct 19 16:04:27 2005 +0200

    [ALSA] Add description about a new option of nm256 driver
    
    Modules: Documentation
    
    Add description about a new option of nm256 driver.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 47530cf44cb5f3945ed04a5ae65d06bf423cd97b
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Oct 19 16:03:10 2005 +0200

    [ALSA] nm256: reset workaround for Latitude CSx
    
    Modules: NM256 driver
    
    The current snd-nm256 driver can cause Dell Latitude CSx laptops to
    lock-up during module (un)load.  I have isolated this to the writes to
    the control port register at offset 0x6cc which were not already
    protected by the existing reset_workaround.
    
    I tried grouping these writes with the existing reset_workaround
    clause, but that caused the driver to have (un)load problems on the
    Dell Latitude LS laptops.  So, I have implemented a reset_workaround_2
    clause (please feel free to suggest a better name!) to cover this
    situation and added a quirk entry for the CSx laptops.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d44c39acafff98590b9bcdecb44dbbc3f7714b4a
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 19 14:39:48 2005 +0200

    [ALSA] ymfpci: change timer resolution to 48 kHz
    
    Modules: YMFPCI driver
    
    We better pretend that the ymfpci timer runs at 48 kHz because the
    interrupt frequency cannot be higher, and clients that would try to
    use 96 kHz would run at half their desired speed.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 87ef7779be825c187747b6b39a24d5326d610c53
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 19 14:38:30 2005 +0200

    [ALSA] seq-timer: restrict timer frequencies
    
    Modules: ALSA sequencer
    
    When no default timer frequency has been set, initialize_timer() just
    uses the maximum frequency supported by the timer, which is ridiculously
    high on 96 kHz timers.
    
    This patch introduces a default frequency of 1000 Hz for this case, and
    makes sure that a frequency set by the user isn't too high.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 051b51653309db976c9665f8d4b1774fa1f8124a
Author: Charles R. Anderson <cra@alum.wpi.edu>
Date:   Tue Oct 18 18:04:36 2005 +0200

    [ALSA] Fix maestro3 hang after cold boot
    
    Modules: Maestro3 driver
    
    This patch fixes the maestro3 driver to call the snd_m3_assp_init
    function to write the DSP firmware into the ASSP chip before sending the
    RUN_ASSP command, thereby solving the hang after a cold boot.
    
    Signed-off-by: Charles R. Anderson <cra@alum.wpi.edu>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c829b052de189b3ca4fb76d2f61917b67e12b83d
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Oct 18 18:03:35 2005 +0200

    [ALSA] intel8x0 - Fix handling of module parameters
    
    Modules: Intel8x0 driver
    
    - Set buggy_irq parameter before registration of irq handler.
    - Clean up module parameter handling.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4f550df58f4758ea023704b409830ad9c3b47771
Author: Karsten Wiese <annabellesgarden@yahoo.de>
Date:   Tue Oct 18 14:31:07 2005 +0200

    [ALSA] Reduce interrupt latency in sound/pci/via82xx.c
    
    Modules: VIA82xx driver
    
    The change only affects the via823x kind of chips.
    Here the  via8233_pcm_pointer_hw() function
    (named snd_via8233_pcm_pointer() before)
    needed to loop until a non zero position is red from the chip.
    
    Measurements have shown that more than 200 loops are typically needed on
    an Athlon64.
    As io-reads cost many cycles, those loops sum up huge.
    via8233_pcm_pointer_hw() runs either in interrupt or with interrupts
    disabled. So it introduces significant interrupt latency.
    
    The patch introduces a calculated position value hwptr_done,
    that is updated by the interrupt routine when a period is completed.
    It is only used, if the 823x chip returns a zero position, which can't
    be interpreted reliably.
    
    Further optimisation is applied on the 8233 chip's interrupt routine:
    Only the SGD_SHADOW is read, as it contains all infos needed.
    We ommit ~5 more register reads that way.
    
    Signed-off-by: Karsten Wiese <annabellesgarden@yahoo.de>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f0597a416dc44e3afe25090e9af9d42bad62547d
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Oct 17 17:15:46 2005 +0200

    [ALSA] usb-audio: don't call usb_reset_configuration() when probing
    
    Modules: USB generic driver
    
    Remove the usb_reset_configuration() call from the probe callback
    because it isn't needed and it may interfere with other drivers
    already loaded for the device.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 00f226d400d3a5868c4d798bb80491e22dd5b810
Author: Honza Maly <hkmaly@matfyz.cz>
Date:   Fri Oct 14 18:18:01 2005 +0200

    [ALSA] Enable DXS controls for VIA VT82xx
    
    Modules: VIA82xx driver
    
    The patch enable separate DXS controls of sound function of VIA VT82xx
    controller in case DXS volume is not needed for PCM Playback volume
    control emulation.
    
    Signed-off-by: Honza Maly <hkmaly@matfyz.cz>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 063859c854fcb42a04eec4e20c71885dc121edce
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Oct 14 17:17:02 2005 +0200

    [ALSA] Remove obsolete chip_t
    
    Modules: Documentation,MIPS AU1x00 driver,PPC Beep,SPARC DBRI driver
    
    Removed the use of chip_t, which was obsoleted.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6b172a853814fe52fb4d5942e660943cb9e6df37
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 12 17:20:21 2005 +0200

    [ALSA] timer: formatting changes
    
    Modules: Timer Midlevel
    
    Split or rewrite lines that are longer than 80 characters, and remove
    whitespaces at the end of lines.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 9dfba38012196ecaf48cbb7ecad92e0729b4491f
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 12 17:14:55 2005 +0200

    [ALSA] timer: remove list_entry() type casts
    
    Modules: Timer Midlevel
    
    The return value of list_entry() already has the type from the second
    argument, so we don't need to typecase it again.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit de24214d0c8e78134875752619f99b9e5824c196
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 12 17:12:31 2005 +0200

    [ALSA] timers: add module refcounting for global timers
    
    Modules: RTC timer driver,Timer Midlevel
    
    Add a module pointer to the timer structure and use it for refcounting
    instead of the card's module pointer to prevent the global timer
    modules (rtctimer and hpetimer) from being removed while in use.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 2fd43d1159d22395aae01836c4b13ee5265a9b6b
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Oct 12 17:10:35 2005 +0200

    [ALSA] timer: fix timer instance memory allocation checks
    
    Modules: Timer Midlevel
    
    Add checks to return -ENOMEM in case snd_timer_instance_new() fails.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 2dfbeca9e9b3857e005afc9b933e2e1be07a9ea0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Oct 12 10:04:42 2005 +0200

    [ALSA] Add support of high-rate SPDIF output
    
    Modules: ICE1724 driver
    
    Add support of SPDIF output with sample rates higher than 48kHz.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b709e57440b9d5f38b8c73e1310127d51777bba0
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Oct 11 17:28:58 2005 +0200

    [ALSA] Add the missing forward declration
    
    Modules: ALSA Core
    
    Added the missing forward declaration before function prototypes.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 86284e458b48ffb6f9849673880f8342dee5b76a
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Oct 11 15:05:54 2005 +0200

    [ALSA] hda-codec - Get subsystem ID from AFG/MFG
    
    Modules: HDA Codec driver
    
    Get subsytem ID from AFG/MFG if not obtained from the root node.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 93b9f426374a07d46f582fdf284e4e26d8fe9756
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 13:42:24 2005 +0200

    [ALSA] es1938 - Clean up and fix trigger in PM
    
    Modules: ES1938 driver
    
    - Clean up the last PM fix
    - Add TRIGGER_SUSPEND/RESUME to disable/enable DMA properly during PM
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c913f69b0d1b9f3f3aa39f49a240cb0fb9d7c6dd
Author: Rudolf Marek <r.marek@sh.cvut.cz>
Date:   Mon Oct 10 12:11:23 2005 +0200

    [ALSA] es1938 - Fix resume
    
    Modules: ES1938 driver
    
    This patch fixes the suspend/resume issue I'm having with ESS-Solo1
    soundcard. Without this patch I might get after resume message
    that kernel is disabling the IRQ5 (soundcard). If there was something
    playing it wont continue after resume without this patch.
    
    Signed-off-by: Rudolf Marek <r.marek@sh.cvut.cz>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 94651a5bf5143053d34ea9f957dba4f33c1afb15
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 12:08:01 2005 +0200

    [ALSA] via82xx - Add DXS entry for Clevo D470
    
    Modules: VIA82xx driver
    
    Added the DXS entry for Clevo D470 laptop.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit e38e0cfa48ac38f4fe24453d2523852467c95b21
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 11:59:52 2005 +0200

    [ALSA] Remove kmalloc wrappers
    
    Modules: ALSA Core
    
    Remove kmalloc wrappers.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b1d5776d865951c213a1caaab5d8bf5de7615dbd
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 11:56:31 2005 +0200

    [ALSA] Remove vmalloc wrapper, kfree_nocheck()
    
    - Remove vmalloc wrapper
    - Add release_and_free_resource() to remove kfree_nocheck() from each driver
      and simplify the code
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 93f2e37840a9a7c3693ca6961fe6ad46b250f3b9
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 11:51:55 2005 +0200

    [ALSA] Make snd_task_name() module local
    
    Modules: ALSA Core,ALSA<-OSS emulation
    
    Remove a global function snd_task_name(), and move it local
    to snd-pcm-oss module.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 07799e756c76ecd52cb01a812ba48b7d8ac67633
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 11:49:49 2005 +0200

    [ALSA] Use getnstimeofday()
    
    Modules: Documentation,PCM Midlevel,Timer Midlevel,ALSA Core
    
    Use the standard getnstimeofday() function instead of ALSA's own one.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 7c22f1aaa23370bf9ba2dd3abbccbed70dced216
Author: Takashi Iwai <tiwai@suse.de>
Date:   Mon Oct 10 11:46:31 2005 +0200

    [ALSA] Remove snd_runtime_check() macro
    
    Remove snd_runtime_check() macro.
    This macro worsens the readability of codes.  They should be either
    normal if() or removable asserts.
    
    Also, the assert displays stack-dump, instead of only the last caller
    pointer.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit f01cc521a2abef5dba24fb0873b9626ba6b0a0a5
Author: Sasha Khapyorsky <sashakh@alsa-project.org>
Date:   Mon Oct 10 11:45:31 2005 +0200

    [ALSA] Sasha Khapyorsky: My email address is changed, there is update.
    
    Modules: Intel8x0-modem driver,VIA82xx-modem driver,HDA Codec driver
    
    Signed-off-by: Sasha Khapyorsky <sashakh@alsa-project.org>
    Signed-off-by: Jaroslav Kysela <perex@suse.cz>

commit 72c8986cafd20d93f331dc74fb175c304a37fbdb
Author: Dick Streefland <dick@streefland.net>
Date:   Fri Oct 7 12:02:23 2005 +0200

    [ALSA] intel8x0 - enable ac97_quirk hp_only for Acer Aspire 3003LCi
    
    Modules: Intel8x0 driver
    
    On my Acer Aspire 3003LCi laptop, the speaker volume is not controlled
    by the master control, but by the headphone control. Enabling the
    'hp_only' quirk corrects this. The patch below adds this device to the
    list of known quirks.
    
    Signed-off-by: Dick Streefland <dick@streefland.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c168143c450d93887590078087a57e1e6b1189f7
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 6 13:48:54 2005 +0200

    [ALSA] Allow 8-44khz sample rates on Revolution 7.1
    
    Modules: ICE1724 driver
    
    Remove the restcition of sample rates on Revolution 7.1 board.
    This enables the low 8-44kHz sample rates.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2b3e584b9235b302efa769acb172258513400065
Author: Takashi Iwai <tiwai@suse.de>
Date:   Thu Oct 6 13:47:23 2005 +0200

    [ALSA] Add dummy obsoleted module options for backward compatibility
    
    Added dummay obsoleted module options for backward compatibility
    (to reduce possible bugzilla entries :)
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 79ba34b94170eb517f0dcf634aab7fb1f5708d4b
Author: Takashi Iwai <tiwai@suse.de>
Date:   Wed Oct 5 19:47:41 2005 +0200

    [ALSA] intel8x0 - Suppress the codec warnings during probing
    
    Modules: Intel8x0 driver
    
    Suppress the codec warnings during probing of codecs.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit b7fe46220487f684abc858865cff817389af5c76
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Tue Oct 4 08:46:51 2005 +0200

    [ALSA] highlanderize motherboard AC97/HDA drivers
    
    Remove the code for supporting eight cards from the integrated
    controller drivers because There Can Be Only One controller of
    each type per mainboard.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 4b0940f8117b6cdf7e7c27bdecc29931f18c81ed
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Sep 30 16:55:14 2005 +0200

    [ALSA] sound: align device drivers menus
    
    Modules: Sound Core,PCI drivers
    
    AC97 Kconfig entries broke the ALSA device drivers menu,
    so move them to a location where that won't happen,
    enabling all device sub-menus to be presented together.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 2ba71978c04d4dba983b4fc658f82eae164c2bca
Author: Sasha Khapyorsky <sashak@smlink.com>
Date:   Thu Sep 29 12:58:24 2005 +0200

    [ALSA] Removing obsolete AC97_SHARED_TYPES
    
    This patch cleans last ac97 audio/modem codec interception in
    initialization procedures (ac97_mixer_new()) and removes obsolete
    SHARED_TYPE 'locking' which prevents from AMC codecs to function
    correctly.
    
    Signed-off-by: Sasha Khapyorsky <sashak@smlink.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 6632d198c6643294319a4ca3f614539dc1ad37a8
Author: Sasha Khapyorsky <sashak@smlink.com>
Date:   Thu Sep 29 11:48:17 2005 +0200

    [ALSA] dev_class=SNDRV_PCM_CLASS_MODEM for modem PCMs
    
    dev_class=SNDRV_PCM_CLASS_MODEM for all supported softmodem PCMs
    
    Signed-off-by: Sasha Khapyorsky <sashak@smlink.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit d602c885a6c30c78197b752c9241ce7e86cdf704
Author: Glen Masgai <mimosius@gmx.de>
Date:   Wed Sep 28 08:19:05 2005 +0200

    [ALSA] ymfpci: add S/PDIF-in > S/PDIF-out loop
    
    Modules: YMFPCI driver
    
    This patch adds a new mixer control called 'IEC958 Loop' which makes
    it possible to loop digital signals from S/PDIF-in to S/PDIF-out.
    
    Signed-off-by: Glen Masgai <mimosius@gmx.de>
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit bf3b644039d6a99076f5a87c714d94dfea3a6814
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Sep 28 08:18:17 2005 +0200

    [ALSA] sequencer: remove superfluous function parameter
    
    Modules: ALSA sequencer
    
    Remove the last parameter of snd_seq_timer_set_tick_resolution()
    because it is always one.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit d9ad1bdd6d72606a59cdc07e571fbe695e32f271
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Tue Sep 27 15:57:24 2005 +0200

    [ALSA] rtctimer: optimize module parameter validation
    
    Modules: RTC timer driver
    
    The check whether rtctimer_freq is a power of two can be done easier
    with a simple bit operation.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit adf25df1be2e3843f786a2562202c7897bbd149d
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Tue Sep 27 15:56:28 2005 +0200

    [ALSA] rtctimer: remove superfluous rtc_inc variable
    
    Modules: RTC timer driver
    
    The rtc_inc variable is never used outside the interrupt handler, and
    is always one where it matters, so we can just remove it.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 3527a008cbc51dd23a8bf4927e3ab29423b0d05b
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Sep 26 10:03:09 2005 +0200

    [ALSA] usb-audio: remove old compatibility wrappers (2/2)
    
    Modules: USB generic driver
    
    Move the usb_complete_callback() compatibility wrapper out of the
    kernel tree.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 3cfc1eb181b49dfbfeaf20ebfeb5cd2af4c4c4b5
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Mon Sep 26 10:01:12 2005 +0200

    [ALSA] usb-audio: remove old compatibility wrappers (1/2)
    
    Modules: USB generic driver
    
    Move the usb_pipe_needs_resubmit() compatibility wrapper out of the
    kernel tree.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit d879f0ccf55a9ac5752b24dc210a446746e3c6da
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Sep 21 16:33:49 2005 +0200

    [ALSA] usb-audio: add quirk comments
    
    Modules: USB generic driver
    
    Add more comments about other device modes and unsupported devices to
    the Roland part of the quirks table.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit f2b31737e509a70952421e7cca488a2001a3b087
Author: Sasha Khapyorsky <sashak@smlink.com>
Date:   Fri Sep 16 19:22:44 2005 +0200

    [ALSA] au88x0: codec access procs for multiple AC97 codecs
    
    Modules: au88x0 driver
    
    This patch extends au88x0 AC97 codec access procedures to handle multiple
    codecs properly.
    
    Signed-off-by: Sasha Khapyorsky <sashak@smlink.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 21be3d162651f11e422275aad62a4bb06292ef4f
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Sep 16 19:18:56 2005 +0200

    [ALSA] Add description for ALC260 codec
    
    Modules: Documentation
    
    Added description for ALC260 codec models in hda-intel driver section.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit a9430dd8fc232cfddcfaedde1a6a915e241366a8
Author: Jonathan Woithe <jwoithe@physics.adelaide.edu.au>
Date:   Fri Sep 16 19:12:48 2005 +0200

    [ALSA] hda-codec - A new model for Fujitsu S7020
    
    Modules: HDA Codec driver
    
    Added a new model 'fujitsu' to ALC260 config for Fujitsu S7020.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit dfedc5f47cfd672a57923506c71b2042b33ae306
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Fri Sep 16 16:56:01 2005 +0200

    [ALSA] usb-audio: ignore Hercules DJ Console mixer errors
    
    Modules: USB generic driver
    
    Add a quirk entry for the Hercules DJ Console to ignore timeouts on
    some mixer control transfers.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit d1bda0455478a9e2a13381044e9bb80a17ec92d2
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Sep 14 08:36:03 2005 +0200

    [ALSA] usb-audio: simplify MIDI quirk handling
    
    Modules: USB generic driver
    
    Simplify the handling of MIDI quirks by treating an interface without
    quirks as a QUIRK_MIDI_STANDARD_INTERFACE.
    
    This also fixes the bug where a MIDI_STANDARD quirk would not be
    recognized.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit 5747e54042c710272cefed74cc457531a01768c9
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Wed Sep 14 08:33:46 2005 +0200

    [ALSA] cmipci: use FM/MIDI ports in PCI port space
    
    Modules: CMIPCI driver
    
    If possible, use ports in the card's PCI port address range instead of
    the legacy ports.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>

commit da3fca21996414a263d36804d9afb2e701abbfef
Author: Vinod G <vinodg@nvidia.com>
Date:   Tue Sep 13 18:49:12 2005 +0200

    [ALSA] hda-intel - Add NVidia support
    
    Modules: HDA Intel driver
    
    This patch is to make the Intel HDA code work for NVIDIA azalia controller.
    
    Modified by Takashi Iwai <tiwai@suse.de>
    
    Signed-off-by: Vinod G <vinodg@nvidia.com>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit eb9b4142b3af98d808012081c4dd6d36e2964d43
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Sep 13 18:39:21 2005 +0200

    [ALSA] Fix a typo
    
    Modules: AC97 Codec
    
    Fix a typo in the last patch.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit 4525c9f31f4606881ed49d822b44c2c5d6080ef4
Author: Takashi Iwai <tiwai@suse.de>
Date:   Tue Sep 13 11:47:07 2005 +0200

    [ALSA] Fix surround control of CMI9761
    
    Modules: AC97 Codec
    
    - Fixed surround controls of CMI9761 (model 83) in update_jacks callback.
    - Clean up ad1888 and ad1985 update_jacks callbacks.
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit edf8e4565c44bffbb4d09e8984df941d0ae9e6e8
Author: Mikael Magnusson <mikma@users.sourceforge.net>
Date:   Tue Sep 13 11:32:58 2005 +0200

    [ALSA] emu10k1: Front channels via fxbus 8 and 9
    
    Modules: EMU10K1/EMU10K2 driver
    
    Adds left and right front channel outputs using fxbus 8 and 9 and 'Front'
    playback and capture volume controls.
    
    Signed-off-by: Mikael Magnusson <mikma@users.sourceforge.net>
    Signed-off-by: Takashi Iwai <tiwai@suse.de>

commit c6ea2ba7b8acdb6c4a883b2d38607c8078dff4ee
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Nov 4 08:44:58 2005 +0100

    [BLOCK] iosched: fix setting of default io scheduler
    
    With the recent reorg of the io scheduler selection, it unfortunately
    became possible to select an io scheduler to be the default even if it
    wasn't builtin. Fix this by requiring the default scheduler to be
    builtin.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 3a65dfe8c088143c7155cfd36a72f4b0ad2fc4b2
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Nov 4 08:43:35 2005 +0100

    [BLOCK] Move all core block layer code to new block/ directory
    
    drivers/block/ is right now a mix of core and driver parts. Lets move
    the core parts to a new top level directory. Al will move the fs/
    related block parts to block/ next.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit c3df69cd854551cf70e9c63aa509c26621084f60
Merge: 292a6c5... 1970282...
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 4 17:03:39 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit 1970282f3b453b7aac3b192a44705dcb5277fd82
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Nov 4 16:58:59 2005 +1100

    powerpc: merge tlbflush.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 292a6c58e9133b57d004d92a846fff326dd31e92
Merge: 8ad200d... dc3a9ef...
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 4 16:17:32 2005 +1100

    Merge branch 'for-paulus' of git://kernel/home/michael/src/work/

commit 8ad200d7b7c8fac77cf705831e90e889360d7030
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Nov 4 13:28:58 2005 +1100

    powerpc: Merge smp-tbsync.c (the generic timebase sync routine)
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dc3a9efb5ee89493a42c3365d219e339e4720c2b
Merge: 30415f6... d3ab57e...
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Nov 4 12:12:52 2005 +1100

    Merge with Paulus

commit 30415f6a63f3383a18e9adf7c144acabe6893f63
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 21:10:48 2005 +1100

    powerpc: Fix random memory corruption in merged elf.h
    
    The merged verison of ELF_CORE_COPY_REGS is basically the PPC64 version, with
    a memset that came from PPC and a few types abstracted out into #defines. But
    it's not _quite_ right.
    
    The first problem is we calculate the number of registers with:
            nregs = sizeof(struct pt_regs) / sizeof(ELF_GREG_TYPE)
    
    For a 32-bit process on a 64-bit kernel that's bogus because the registers are
    64 bits, but ELF_GREG_TYPE is u32, so nregs == 88 which is wrong.
    
    The other problem is the memset, which assumes a struct pt_regs is smaller
    than a struct elf_regs. For a 32-bit process on a 64-bit kernel that's false.
    
    The fix is to calculate the number of regs using sizeof(unsigned long), which
    should always be right, and just memset the whole damn thing _before_ copying
    the registers in.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit b8f510219edc719d4c305918e16edc578bcfc16f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Nov 4 12:09:42 2005 +1100

    powerpc: Implement smp_release_cpus() in C not asm
    
    There's no reason for smp_release_cpus() to be asm, and most people can make
    more sense of C code. Add an extern declaration to smp.h and remove the custom
    one in machine_kexec.c
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 0f3278d14f0255e4cd9e07ccefc33ff12d8bb59c
Merge: 06024f2... 15c84a4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Thu Nov 3 16:25:58 2005 -0800

    Merge git://oss.sgi.com:8090/oss/git/xfs-2.6

commit 15c84a470116b2a3b58a7353a6cf711c29a91854
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Nov 4 10:51:01 2005 +1100

    [XFS] Remove no-longer-used qsort source.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 9a0f78f63bc05d195aab781486ed57d1418d5f59
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Nov 4 10:20:27 2005 +1100

    powerpc: merge tlb.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f79b348856fbaf77e4a0c5cb08a808e5879967a9
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Nov 1 10:21:51 2005 -0600

    [IA64] restrict CONFIG_SGI_SN_XP to IA64_GENERIC or IA64_SGI_SN2
    
    Restrict CONFIG_SGI_SN_XP to IA64_GENERIC or IA64_SGI_SN2 kernels.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit d09e32764176b61c4afee9fd5e7fe04713bfa56f
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Thu Nov 3 14:58:33 2005 -0800

    [IB] mthca: check P_Key index in modify QP
    
    Make sure that the P_Key index passed into mthca_modify_qp() is
    within the device's P_Key table.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 05db218a27c955880dce6d080d5159247aad3629
Author: Nathan Scott <nathans@sgi.com>
Date:   Fri Nov 4 09:49:07 2005 +1100

    [XFS] Fix an inode32 regression - if no options are presented, must still
    set default flags.
    
    SGI-PV: 945242
    SGI-Modid: xfs-linux-melb:xfs-kern:24292a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 58cd90829918dabbd81a453de676d41fb7b628ad
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Sat Oct 29 18:47:04 2005 -0700

    [IA64] make mmu_context.h and tlb.c 80-column friendly
    
    wrap_mmu_context(), delayed_tlb_flush(), get_mmu_context() all
    have an extra { } block which cause one extra indentation.
    get_mmu_context() is particularly bad with 5 indentations to
    the most inner "if".  It finally gets on my nerve that I can't
    keep the code within 80 columns.  Remove the extra { } block
    and while I'm at it, reformat all the comments to 80-column
    friendly.  No functional change at all with this patch.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b2281abf115031a5242647e0b5b170ffd3bca994
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Thu Nov 3 21:07:37 2005 +0000

    [SERIAL] 8250_early.c passing 0 instead of NULL
    
    Fix sparse warning about passing `0` to  simple_strtoul()
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8b5f4f06eecc081892b05cd6077314d68872dfd6
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Thu Nov 3 21:05:39 2005 +0000

    [ARM] Fix IXDP2x01 config files
    
    IXDP2401 config file has wrong baudrate and both boards have 3 UARTs.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5f8b1178e246422ebddc1b16487314c91edf85fe
Merge: 24bcc2f... 7e5e6e9...
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 21:02:39 2005 +0000

    [ARM] Merge SMP tree

commit 24bcc2f46cf8982dbc02c8e3037dfc5e12f1e35c
Author: Nicolas Pitre <nico@cam.org>
Date:   Thu Nov 3 20:40:50 2005 +0000

    [ARM] 3092/1: remove excessive print format padding
    
    Patch from Nicolas Pitre
    
    Using a llx format to print addresses that might possibly be (only) 36
    bits wide make sense.  However making it a zero padded 16 char wide
    field is a bit excessive and useless.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7e5e6e9a509c4ed2973a345ec7ffb96577f42e26
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 20:32:45 2005 +0000

    [ARM SMP] Do not clear cpu_vm_mask for VIPT caches
    
    Since we do not invalidate TLBs/caches on MM switches, we should not
    clear the cpu_vm_mask for the CPU.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0c99cb6d5fe77872c5a32cff837c05f70158ce15
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Nov 3 12:01:18 2005 -0800

    [IB] umad: fix hot remove of IB devices
    
    Fix hotplug of devices for ib_umad module: when a device goes away,
    kill off all MAD agents for open files associated with that device,
    and make sure that the device is not touched again after ib_umad
    returns from its remove_one function.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 55725495f2175d0be2a5ed4135c2ea298b470001
Merge: 067794a... 06024f2...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Nov 3 09:09:08 2005 -0800

    Auto-update from upstream

commit 4a5f79e7e65d24d2fa9eb6e6208672571704d337
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 15:48:21 2005 +0000

    [ARM SMP] Add configuration option for ARMv6K processors
    
    The 'K' extension adds several new instructions to the ARMv6 ISA
    which are primerily useful for SMP.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 089311e117adb8ffe13984d122e33287ffa8c7ec
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 11:04:53 2005 +0000

    [ARM] Fix another build error with IOP3xx platforms
    
    ld doesn't like comments starting with // in its scripts
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0dcc7474b2fc547b2193dd1bafc4670a70d44e91
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 10:17:44 2005 +0000

    [ARM] Add Realview default configuration file
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ca82d85bc2512b759ff6356300b46e6de5b106da
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Thu Nov 3 10:06:35 2005 +0000

    [ARM] Fix more 3016/1 breakage
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 40765d2b8b86446b4ac8ec880cf4fdf56ce4ae7e
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 19:34:38 2005 +1100

    powerpc: Cleanup vpa code
    
    register_vpa() doesn't actually do a VPA register call it just uses the flags
    you pass it, so rename it to vpa_call() to be clearer.
    
    We can then define register_vpa() and unregister_vpa() which are both simple
    wrappers around vpa_call(). (we'll need unregister_vpa() for kexec soon)
    
    We can then cleanup vpa_init(), and because vpa_init() is only called from
    platforms/pseries we remove the definition in asm-ppc64/smp.h.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit 87cfe32375e0b69b999b59bf8287f501df3e43f7
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 2 22:59:37 2005 -0800

    [IB] mthca: fix format of FW version
    
    Mellanox has decided that the components of the firmware version are
    really meant to be displayed in decimal, e.g. 0x000400070190 is
    version 4.7.400.  Change the format we use from "%x.%x.%x" to
    "%d.%d.%d" to match this convention.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit c87ef1171db207d9d19f87ad12db92974d95c466
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 17:57:53 2005 +1100

    powerpc: Add helper functions for synthesising instructions at runtime
    
    There's a few places already, and soon will be more, where we synthesise
    branch instructions at runtime. Rather than doing it by hand in each case,
    it would make sense to have one implementation.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit d3ab57ebdc6457543b346255fa47b0ecd7671136
Merge: 7f23292... 5adb83c...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 3 17:04:08 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit 5adb83c2fa136e14172b1a65b0f8aa28f2cb9f62
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 16:59:17 2005 +1100

    powerpc: merge ucontext.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7f23292d5a6525a133d7cb8f2f33df39dd069822
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Nov 3 10:13:58 2005 +1100

    [PATCH] powerpc: Keep fixing merged ipcbuf.h
    
    Oops, replacing the two u64s in struct ipc64_perm with __u32s changed
    the alignment of that structure, which could mess up userspace.
    Revert to using two unsigned long longs (which is what ppc32 had
    originally).  ppc64 orignally had two unsigned longs, but long long is
    the same size on 64 bit, so this should be ok there too.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 457e04ca5cb6efa9392c48409bee802eaa394d8c
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Wed Nov 2 22:55:14 2005 +0300

    [PATCH] ppc32: Fixed warning in m8xx_setup.c
    
    This adds missing header and thus fix the warning issued by ming prototype.
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3d9e9dc49d9e6d10ad4a2f4ababc899fc527584c
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Wed Nov 2 12:42:16 2005 -0200

    [PATCH] ppc32 8xx: fix cpm_dpalloc() comment
    
    Current comment on top of m8xx_cpm_dpinit is wrong.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 38dc16186433ba961ace39c97ac6f7071250f981
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Wed Nov 2 12:46:28 2005 -0200

    [PATCH] ppc32 8xx: Fix harmless warning in 8xx_io/commproc.c
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7ed3463b6192e9542983be4ba4d913d74b3ecea6
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Wed Nov 2 12:44:16 2005 -0200

    [PATCH] ppc32 8xx: export symbols required for modular IDE
    
    This fixes these warnings:
    
          Building modules, stage 2.
          MODPOST
        *** Warning: "__ide_mm_insl" [drivers/ide/ide-core.ko] undefined!
        *** Warning: "__ide_mm_outsw" [drivers/ide/ide-core.ko] undefined!
        *** Warning: "__ide_mm_insw" [drivers/ide/ide-core.ko] undefined!
        *** Warning: "__ide_mm_outsl" [drivers/ide/ide-core.ko] undefined!
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 91c33d28cda0d3ee1df0cdf399610dbb4e846a45
Author: David Woodhouse <dwmw2@infradead.org>
Date:   Wed Nov 2 16:54:46 2005 +0000

    [PATCH] powerpc: always init nvram on 64-bit powermac
    
    Currently there is no Kconfig symbol to indicate that we want nvram
    support on 64-bit kernels; it's assumed we always want it, so make
    the powermac setup code always initialize the pmac nvram code if
    64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9122ee33c6688491c65dcb1973e86b943883a8ab
Author: Becky Bruce <bgill@freescale.com>
Date:   Wed Nov 2 10:52:52 2005 -0600

    [PATCH] ppc: Fix build warnings in arch/ppc/kernel/traps.c
    
    The latest updates to bug.h generate build warnings in traps.c in
    arch/ppc.  Fix print format specifiers to account for change of line type
    to long from int.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8902e87f1fc72740a40686a31ca07e6c2cf1f0f2
Author: John Rose <johnrose@austin.ibm.com>
Date:   Wed Nov 2 10:29:55 2005 -0600

    [PATCH] ppc64: Fix add notifier crashes
    
    The extraction of PCI stuff from struct device_node left some false
    assumptions in notifier code.  As a result, dynamic add crashes when
    non-PCI nodes are added.  This patch fixes these assumptions.
    
    Signed-off-by: John Rose <johnrose@austin.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 992c83a1295c9fff22c8cbd8ae199872a49934b9
Author: Nathan Scott <nathans@bruce>
Date:   Thu Nov 3 16:50:07 2005 +1100

    [XFS] Remove several no-longer-used files.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 608f8b3cf3a7fbd009e6bf78e680ea04e6a4e46f
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 16:24:25 2005 +1100

    powerpc: merge sigcontext.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7f248a81c5067f5b018ff889c029b960b399ac08
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 16:14:31 2005 +1100

    [XFS] Cleanup cosmetic differences between source trees.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 879168ee51925f7e68165577fba8ef781ccfccb9
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 15:32:07 2005 +1100

    powerpc: move include/asm-ppc64/ppc32.h to arch/powerpc/kernel
    
    It is only included by signal_32.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 62f4f47da64a10630d5f6dabc616477b0e09b612
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 15:26:23 2005 +1100

    powerpc: move ppc64/kernel/signal.c to arch/powerpc
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit da80d460bf4606671df3ba53408f45ab848e67ba
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 15:14:36 2005 +1100

    powerpc: merge ptrace.h
    
    Move struct ptregs32 into asm-ppc64/ppc32.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit e19e4ab4154a831788365c07e7a10d9114bba46c
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 16:03:06 2005 +1100

    powerpc: Set entry point and text address in linker script
    
    Currently we set the kernel entry point and the address of the text
    section in the Makefile, using CONFIG_KERNEL_START.
    
    But we've already got <asm/page.h> in the linker script, so we can just
    use KERNELBASE directly. That means if we ever change KERNELBASE there's
    one less place to change it.
    
    And we can set the entry point with ENTRY().
    
    There are zero differences from "readelf -a vmlinux" with or without this
    patch.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit c5a1ebd24547df5738138ebc154e1abccfa85468
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Nov 3 16:02:23 2005 +1100

    powerpc: merge stat.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 8ae5a8a24f7fe797027d481f88c1464b0e47eede
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 2 20:51:01 2005 -0800

    [IPoIB] don't compile debug code if debugging isn't enabled
    
    Don't build ipoib_mcast_iter_ functions if CONFIG_INFINIBAND_IPOIB_DEBUG
    is not enabled -- their only callers will not be built either.
    
    Also move the prototype for ipoib_open() to ipoib.h to fix a sparse warning.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 358c86fda080a5e7c66dcaad3707061f32fff7cc
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 15:39:09 2005 +1100

    powerpc: Make early debugging fit on 80 character terminal
    
    There's some debugging in prom.c that wraps nastly on 80 character
    terminals, reformat it to fit.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit e1df870d546f4d033030615aa3d01c0341c1ef1f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 15:35:45 2005 +1100

    powerpc: Merge asm-ppc/kexec.h and asm-ppc64/kexec.h
    
    Merge include/asm-ppc/kexec.h and include/asm-ppc64/kexec.h.
    
    The only thing that's really changed is that we now allocate crash_notes
    properly on PPC32. It's address is exported via sysfs, so it's not correct
    for it to be a pointer.
    
    I've also removed some of the "we don't use this" comments, because they're
    wrong (or perhaps were referring only to arch code).
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit a1218720321d778134914cf90ef54cf0d1d8477c
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 15:33:31 2005 +1100

    powerpc: Move plpar_wrappers.h into arch/powerpc/platforms/pseries
    
    Move plpar_wrappers.h into arch/powerpc/platforms/pseries, fixup white space,
    and update callers.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit cab0af98dfbbf8076d1af01f2927af491a76a33f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 15:30:49 2005 +1100

    powerpc: Make set_dabr() a ppc_md function
    
    Move pSeries specific code in set_dabr() into a ppc_md function, this will
    allow us to keep plpar_wrappers.h private to platforms/pseries.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit 52ab4ac258ff10a362d78a3f8160a7c4d0721b51
Author: Thomas Graf <tgraf@suug.ch>
Date:   Tue Nov 1 15:13:02 2005 +0100

    [PKT_SCHED]: Rework QoS and/or fair queueing configuration
    
    Make "QoS and/or fair queueing" have its own menu, it's too big to be
    inlined into "Network options". Remove the obsolete NET_QOS option.
    Automatically select NET_CLS if needed. Do the same for NET_ESTIMATOR
    but allow it to be selected manually for statistical purposes. Add
    comments to separate queueing from classification. Fix dependencies
    and ordering of classifiers. Improve descriptions/help texts and
    remove outdated pieces.
    
    Signed-off-by: Thomas Graf <tgraf@suug.ch>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 60d4f4c6567f2be77f58838156e7b667238a9580
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Thu Nov 3 15:24:57 2005 +1100

    powerpc: Copy default configs into arch/powerpc/configs
    
    Copy default configs into arch/powerpc/configs, rename bpa_defconfig to
    cell_defconfig while we're at it.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>

commit 0aeafa77558fc1b44b0f39a4d9e5bd9316420788
Author: Jan-Benedict Glaw <jbglaw@lug-owl.de>
Date:   Wed Nov 2 22:53:11 2005 -0500

    Input: lkkbd - miscellaneous fixes
    
    * Hide debugging code into #ifdef, which allows to simplify
      the large switch statement
    * Update macros to not reference variables not given as
      arguments
    
    Signed-off-by: Jan-Benedict Glaw <jbglaw@lug-owl.de>
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 14a48b444420908cf8f87be12f5c94fb9ab16673
Author: Mirco Macrelli <pigaz@pigaz.org>
Date:   Wed Nov 2 22:52:45 2005 -0500

    Input: logips2pp - add support for MX3100
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit d7a767dddcbd690a6c0e2b3b395858dc116db2e6
Author: Pavel Machek <pavel@suse.cz>
Date:   Wed Nov 2 22:52:33 2005 -0500

    Input: locomokbd - fix wrong bustype
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 47610602c2ebe16ec99063b06bc019f18c8923a9
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Nov 2 22:52:16 2005 -0500

    Input: fix input device deregistration
    
    Remove main attribute group (name, phys, uniq) when unregistering
    input devices.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 5f94548982ad8cb9867297e9e18e50ec7b8accea
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Nov 2 22:51:46 2005 -0500

    Input: do not register statically allocated devices
    
    Do not register statically allocated input devices to prevent
    OOPS when attaching input interfaces since it requires class
    device to be properly initialized.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 438c9da5143c6a563c5c684b91eb7848a7b2d83d
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Wed Nov 2 22:49:53 2005 -0500

    Input: locomokbd - convert to dynamic input allocation
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 7afada45da2727fd96402b1244168e0420ca496a
Author: Ian Wienand <ianw@gelato.unsw.edu.au>
Date:   Wed Nov 2 22:49:10 2005 -0500

    Input: convert dmasound_awacs (OSS) to dynamic input allocation
    
    Signed-off-by: Ian Wienand <ianw@gelato.unsw.edu.au>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 06024f217d607369f0ee0071034ebb03071d5fb2
Author: Alexandre Oliva <aoliva@redhat.com>
Date:   Mon Oct 31 18:29:36 2005 -0200

    [PATCH] x86-64: bitops fix for -Os
    
    This fixes the x86-64 find_[first|next]_zero_bit() function for the
    end-of-range case.  It didn't test for a zero size, and the "rep scas"
    would do entirely the wrong thing.
    
    Signed-off-by: Alexandre Oliva <oliva@lsd.ic.unicamp.br>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f4fcbbe9a7fdf11305fea657202b954bdc2228ec
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Nov 3 14:41:19 2005 +1100

    powerpc: Merge remaining RTAS code
    
    This moves rtas-proc.c and rtas_flash.c into arch/powerpc/kernel, since
    cell wants them as well as pseries (and chrp can use rtas-proc.c too,
    at least in principle).  rtas_fw.c is gone, with its bits moved into
    rtas_flash.c and rtas.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 979ad663125af4be120697263038bb06ddbb83b4
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Fri Oct 14 18:31:15 2005 +0800

    [IPV6]: inet6_ifinfo_notify should use RTM_DELLINK in addrconf_ifdown
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 538524aed09fd2c52094afadf0160cef8954d4c8
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 13:55:06 2005 +1100

    [XFS] fix XFS quota for modular XFS builds
    
    Cannot build XFS filesystem support as module with quota support.  It
    works only when the XFS filesystem support is compiled into the kernel.
    Menuconfig prevents from setting CONFIG_XFS_FS=m and CONFIG_XFS_QUOTA=y.
    
    How to reproduce: configure the XFS filesystem with quota support as
    module.  The resulting kernel won't have quota support compiled into
    xfs.ko.
    
    Fix: Changing the fs/xfs/Kconfig file from tristate to bool lets you
    configure the quota support to be compiled into the XFS module.  The
    Makefile-linux-2.6 checks only for CONFIG_XFS_QUOTA=y.
    
    Signed-off-by: Dimitri Puzin <tristan-777@ddkom-online.de>
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit de69e5f44ecbf1d9faca4f473f4210473d26cd41
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 13:53:34 2005 +1100

    [XFS] Add a mechanism for XFS to use the generic quota sync method.
    This is now used to issue a delayed allocation flush before reporting
    quota, which allows the used space quota report to match reality.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit a2f8e178ad3e576d107f5d9d47c056dd57221857
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 13:51:23 2005 +1100

    [XFS] Add the project quota type into the XFS quota header.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 436d7d3060fdeca91d0dd67a9ae21d4915f1410f
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 13:50:05 2005 +1100

    [XFS] Update XFS quota header license to match the SGI boilerplate.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit fc97bbf35d925b3e18a6a31d577552825146952e
Author: Nathan Scott <nathans@sgi.com>
Date:   Thu Nov 3 13:46:43 2005 +1100

    [XFS] Update XFS documentation.
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit cfa024f4e45562c50b9eccb23649ab103578037b
Merge: 3a71423... a054a81...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 2 18:38:22 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 3a7142371efdc95f4c5b5ffc188b18efdc4e64dd
Merge: ec1890c... c7fb577...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 2 18:36:15 2005 -0800

    Merge branch 'swiotlb' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit c75d721c761ad0f2d8725c40af9e4f376efefd24
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Wed Nov 2 18:55:00 2005 +1100

    [NET]: Fix zero-size datagram reception
    
    The recent rewrite of skb_copy_datagram_iovec broke the reception of
    zero-size datagrams.  This patch fixes it.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit c2da8acaf488b8651edfb04ebf3ab089f3a7830f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 1 17:05:09 2005 -0800

    [ETHERNET]: Add ether stuff to docbook
    
    Fix up etherdevice docbook comments and make them (and other networking stuff)
    get dragged into the kernel-api. Delete the old 8390 stuff, it really isn't
    interesting anymore.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 2407534f8be8015d585104bcc4374870b6b70fe7
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 1 16:52:11 2005 -0800

    [ETHERNET]: Optimize is_broadcast_ether_addr
    
    Optimize the match for broadcast address by using bit operations instead
    of comparison. This saves a number of conditional branches, and generates
    smaller code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit bf6f05aa0bb6f1fe9a9ce35287678c3916bddfef
Author: Yingping Lu <yingping@sgi.com>
Date:   Thu Nov 3 10:31:47 2005 +1100

    [XFS] Fixed the inconsistency between attribute b-tree intermidiate node
    and leaf blocks. The problem cam from xfsqa test 117.
    
    SGI-PV: 940655
    SGI-Modid: xfs-linux:xfs-kern:201527a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 450b5b18983cc15f4d27bd3f62901e02281e818b
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Nov 1 15:26:45 2005 -0800

    [TCP]: BIC max increment too large
    
    The max growth of BIC TCP is too large. Original code was based on
    BIC 1.0 and the default there was 32. Later code (2.6.13) included
    compensation for delayed acks, and should have reduced the default
    value to 16; since normally TCP gets one ack for every two packets sent.
    
    The current value of 32 makes BIC too aggressive and unfair to other
    flows.
    
    Submitted-by: Injong Rhee <rhee@eos.ncsu.edu>
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Acked-by: Ian McDonald <imcdnzl@gmail.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 8713dbf05754aa777f31bf491cb60a111f7ad828
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Fri Oct 28 08:02:08 2005 +0800

    [MCAST]: ip[6]_mc_add_src should be called when number of sources is zero
    
    And filter mode is exclude.
    
    Further explanation by David Stevens:
    
    Multicast source filters aren't widely used yet, and that's really the only
    feature that's affected if an application actually exercises this bug, as far
    as I can tell. An ordinary filter-less multicast join should still work, and
    only forwarded multicast traffic making use of filters and doing empty-source
    filters with the MSFILTER ioctl would be at risk of not getting multicast
    traffic forwarded to them because the reports generated would not be based on
    the correct counts.
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Acked-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit a054a811597a17ffbe92bc4db04a4dc2f1b1ea55
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 22:24:33 2005 +0000

    [ARM SMP] Add hotplug CPU infrastructure
    
    This patch adds the infrastructure to support hotplug CPU on ARM
    platforms.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit aef9ec39c47f0cece886ddd6b53c440321e0b2a6
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 2 14:07:13 2005 -0800

    IB: Add SCSI RDMA Protocol (SRP) initiator
    
    Add an InfiniBand SCSI RDMA Protocol (SRP) initiator.  This driver is
    used to talk talk to InfiniBand SRP targets (storage devices).
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 273c2cdb2b6d6743d85ddbde82e71f8adbf5bf10
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 21:54:14 2005 +0000

    [ARM SMP] Fix a couple of warnings
    
    Use *cpus_addr() to display the mask of pending/to be called CPUs.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 71f512e89704f5aa6fc0b97e4a719184080b8938
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 21:51:40 2005 +0000

    [ARM SMP] Track CPU idle threads
    
    Track the idle thread task_struct for each CPU.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cb9dbff92e4bd61851dd32864e78024e9f0a77d2
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Nov 2 11:37:15 2005 -0800

    [CIFS] Make CONFIG_CIFS_EXPERIMENTAL depend on CONFIG_EXPERIMENTAL
    
    It seems logical.
    
    Note that CONFIG_EXPERIMENTAL itself doesn't enable any code.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 21a384897d48c116b879924c3dd9e96f6f1e764b
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 2 10:07:59 2005 -0800

    [IPoIB] remove unneeded initializations to 0
    
    Shrink our source and .text a little by removing a few assignments of
    NULL and 0 to memory that is already cleared as part of the allocation.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ec1890c5df451799dec969a3581ff72e1934b5ee
Merge: ca23509... 496456c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Wed Nov 2 08:06:02 2005 -0800

    Merge git://brick.kernel.dk/data/git/linux-2.6-block

commit de6eb66b56d9df5ce6bd254994f05e065214e8cd
Author: Roland Dreier <rolandd@cisco.com>
Date:   Wed Nov 2 07:23:14 2005 -0800

    [IB] kzalloc() conversions
    
    Replace kmalloc()+memset(,0,) with kzalloc(), for a net savings of 35
    source lines and about 500 bytes of text.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 7e86df273292b3a88c14b9aed1006cddac2b4c23
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 15:09:31 2005 +0000

    [ARM] Fix ARM rwlock implementations
    
    fb1c8f93d869b34cacb8b8932e2b83d96a19d720 broke the ARM rwlock code since
    it only partially updated the rwlock implementation.  Properly update it.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e831556fb6f81142f9b51d1a05953d8046c27467
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 14:40:35 2005 +0000

    [ARM] AMBA CLCD driver can drive PL110 and PL111 primecells
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1ffedce7e83540e2d2fe1cacd1922ee337073d28
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 14:14:37 2005 +0000

    [ARM] Fix Realview machine for patch 3016/1
    
    3016/1 changed the map_desc structure to take a PFN instead of a
    physical address.  Fixup Realview machine support for this change.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6bf7bd6967b1cdde1fe953b0edb951966799fb44
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 14:11:35 2005 +0000

    [ARM] Fix mm initialisation with write buffered write allocate caches
    
    It seems that without the extra tlb flush, we may end up faulting
    during the early kernel initialisation because the TLB can't see
    the updated page tables.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit bfca94590bfd3dcd958c542d2fb6406518150fee
Author: John Bowler <jbowler@acm.org>
Date:   Wed Nov 2 11:55:12 2005 +0000

    [ARM] 3083/1: include/asm-arm/arch-ixp4xx/io.h: eliminate warnings for pointer passed to integral function argument
    
    Patch from John Bowler
    
    Fix for a compiler warning, this wasn't apparent in 2.6.12, I
    believe the compiler options have been changed (somewhere) so
    that passing a (void*) to a (u32) argument is now warned.
    
    This accounts for the majority of the warnings in my builds of
    the 2.6.14 kernel for NSLU2.
    
    The patch changes pointer parameters declared as u32 to be
    declared as either, for read parameters:
    
    const volatile void __iomem *
    
    and for write parameters:
    
    volatile void __iomem *
    
    Signed-off-by: John Bowler <jbowler@acm.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9dc2d0f55fb693ae6d50c8dd3d934fe3133ca183
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Wed Nov 2 11:51:15 2005 +0000

    [ARM] Fix realview machine type for patch 3060/1
    
    Realview was missed in this cleanup...
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 398382999bcff46ec1c7e7ab7574b10b087481c7
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 19:58:12 2005 +1100

    powerpc: Compile fixes for chrp/nvram.c
    
    Include asm/rtas.h for prototype for rtas_call etc., and make the
    `done' variable unsigned int since that's what rtas_call wants.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 300230dcba386153d077867d60cd24cd97d660f7
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 19:57:22 2005 +1100

    powerpc: include <linux/platform_device.h> in pegasos_eth.c
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2be7a906752abf8dce9350c23b6d1036049a5d3e
Merge: aaf8a7a... fbf1769...
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 2 18:15:43 2005 +1100

    Merge Paulus' tree

commit b7fb358c7c36a14927d5523ea674e69f90c51d1d
Author: Dave Jones <davej@redhat.com>
Date:   Tue Nov 1 23:13:45 2005 -0800

    [CPUFREQ] Fix up compile of cpufreq_stats
    
    Whoops, I lost a hunk of the last patch somehow.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit ca23509fbaac0ea662ab0e287bebb72f743f9e1f
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Nov 1 17:23:49 2005 +0900

    [PATCH] blk: fix dangling pointer access in __elv_add_request
    
    cfq's add_req_fn callback may invoke q->request_fn directly and
    depending on low-level driver used and timing, a queued request may be
    finished & deallocated before add_req_fn callback returns.  So,
    __elv_add_request must not access rq after it's passed to add_req_fn
    callback.
    
    This patch moves rq_mergeable test above add_req_fn().  This may
    result in q->last_merge pointing to REQ_NOMERGE request if add_req_fn
    callback sets it but as RQ_NOMERGE is checked again when blk layer
    actually tries to merge requests, this does not cause any problem.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c2af71f7f6ac10ab45e9461e1dd7aa09079643a
Author: Santiago Leon <santil@us.ibm.com>
Date:   Tue Nov 1 14:15:09 2005 -0500

    [PATCH] ibmveth fix panic in initial replenish cycle
    
    This patch fixes a panic in the current tree caused by a race condition between the initial replenish cycle and the rx processing of the first packets trying to replenish the buffers.
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bbc5b21284318a7c981afa85fc4f51c1256eedec
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Tue Nov 1 15:14:05 2005 +0000

    [PATCH] missing platform_device.h includes
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d8762748cae4f85b3201c0304969d993b42d5258
Merge: ce46337... a4e62fa...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:49:07 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/airlied/drm-2.6
    
    Manual fixups for some clashes due to re-indenting.

commit ce4633704038f9bf39f20c10691747d6fc127bf4
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Oct 31 23:44:30 2005 -0800

    [PATCH] tlclk build fix
    
    drivers/char/tlclk.c: In function `tlclk_init':
    drivers/char/tlclk.c:775: warning: implicit declaration of function `platform_device_register_simple'
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ebd50e500185a711e708653460d19f1dbb3ef944
Author: Horms <horms@verge.net.au>
Date:   Mon Oct 31 23:44:29 2005 -0800

    [PATCH] audit_sysctl_exit can only be used with CONF_AUDIT_SYSCTL
    
    This section of code calls .audit_syscal_exit, but is inside CONFIG_AUDIT,
    so it will fail to build if CONFIG_AUDITSYSCALL is not defined.
    
    After discussion with David Woodhouse, change the ifdef to
    CONFIG_AUDITSYSCALL
    
    Signed-off-by: Horms <horms@verge.net.au>
    Acked-by: David Woodhouse <dwmw2@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit faba278fb003dbe772f6c04526f1f096f43c995e
Author: Chris Wright <chrisw@osdl.org>
Date:   Mon Oct 31 23:44:28 2005 -0800

    [PATCH] TPM compile fix
    
      CC      drivers/char/tpm/tpm_nsc.o
    drivers/char/tpm/tpm_nsc.c:277: error: `platform_bus_type' undeclared here (not in a function)
    ...
      CC      drivers/char/tpm/tpm_atmel.o
    drivers/char/tpm/tpm_atmel.c:175: error: `platform_bus_type' undeclared here (not in a function)
    
    Make sure to include proper headers.
    
    Signed-off-by: Chris Wright <chrisw@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 01824853b1991b6ade506ee1b75f103a6eb8f558
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:12:42 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire reset/reboot support
    
    Add reset/reboot code to support the ColdFire 5208 family.
    Patch originally from Matt Wadell (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06227039b5eb8ed5965f995e45c8cfee154fb883
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:11:08 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire UART support
    
    Add support for the UARTs on the ColdFire 5208 family.
    Patch originally from Matt Wadell (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4a1cc1ab40d6c29f07a56ba6b0c83b723f7c2f6c
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:10:22 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire pit interrupt support
    
    The PIT timer in the 5208 ColdFire has slightly different interrupt
    bit definitions than the PIT timer used on other ColdFire parts.
    Define the commonly used bit and mask numbers here, and let
    part specific defines take precedence if they are defined.
    
    Patch originally from Matt Wadell (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c9b68714b6d058a50689e7264ba190096b82c9d4
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:05:55 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire pit timer support
    
    Add support for the PIT timer used in the 5208 ColdFire fmaily.
    Patch originally from Matt Wadell (from code originally modified by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95dad9b351ff44e19590b0c6ec40513e4a1b12bf
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:04:37 2005 +1000

    [PATCH] m68knommu: use board defines to distinguish boards
    
    Use board name defines to distinguish boards, instead of combinations
    of more generic defines.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4f4ef2967e1e8dce43e9cf7186aeb60a8c33aaf4
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:03:09 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire cache support
    
    Add support for the cpu cache of the 5208 ColdFire fmaily.
    Patch originally from Matt Wadell (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7354b62cf799d91e69e38603a139a79df48b23d9
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 15:02:01 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire support defines
    
    Add support for the internal register map of the 5208 ColdFire fmaily.
    Patch originally from Matt Wadell (from code originally written by
    Mike Lavender).
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ee2cf5f43e8fefa53cf6f32ba8205cce962a348
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:59:09 2005 +1000

    [PATCH] m68knommu: add 5208 ColdFire support defines for its internal map
    
    Define the register space of the new 5208 ColdFire family (which includes
    to 5207). It is mostly similar to the other ColdFire parts.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed65fa16d54a015ef0855692901a6cf362046622
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:56:46 2005 +1000

    [PATCH] m68knommu: use board name defines to differentiate board definitions
    
    Use board name define to differentiate boards, not combination
    of more generic defines.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b30db61b9bdc6bbc43a1b3bc5664092103d2bd82
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:53:58 2005 +1000

    [PATCH] m68knommu: updated defconfig
    
    Updated m68knommu defconfig. Part of changing the "Motorola" names
    to their new name "Freescale".
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4569ff88437759a7dadce2514cc64cb53c95a0bc
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:52:21 2005 +1000

    [PATCH] m68knommu: remove unmaintained asm-m68knommu/ide.h
    
    Remove unmaintained asm-m68knommu/ide.h. It is completely out of
    date - and there is no underlying support for it.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c347e47e4675732b36860e5e616272bacf3d355
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:50:04 2005 +1000

    [PATCH] m68knommu: remove auto-generated asm-offsets.h
    
    Remove auto-generated file from source base.
    
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c514b8be7aea4b5d8e16fba3a79b14aec3793f65
Author: Greg Ungerer <gerg@snapgear.com>
Date:   Wed Nov 2 14:42:03 2005 +1000

    [PATCH] m68knommu: change use of extern inline to static inline in headers
    
    "extern inline" doesn't make much sense here.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Greg Ungerer <gerg@uclinux.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f98e85691bbbca1e72f8bfe9dfee2639e8545790
Merge: ec33b30... 97300b5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:33:06 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/acme/net-2.6

commit ec33b309101bb2904e9fe20252f7760e254d05ec
Merge: 7f36b1e... 913ade5...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:32:46 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 7f36b1e9582c06d0ddef5f2416c9b17017647d1f
Merge: 0e016b9... 73ee723...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:32:14 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit 0e016b9fa134d79341cca5e336ccbcea066d5f81
Merge: fca324e... de4ae58...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:29:57 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/wim/linux-2.6-watchdog

commit fca324e79fa30d4e64ac15554601a86392999ae6
Merge: 1d37374... 7f28570...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 21:28:53 2005 -0800

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sfrench/cifs-2.6

commit 1d373741976985bc665e75aeb2b3bf7a524e36cc
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 21:50:35 2005 -0700

    [PATCH] toshiba_ohci1394_dmi_table should be __devinitdata, not __devinit
    
    I don't really understand why gcc gives the error it does, but without
    this patch, when building with CONFIG_HOTPLUG=n, I get errors like:
    
          CC      arch/x86_64/pci/../../i386/pci/fixup.o
        arch/x86_64/pci/../../i386/pci/fixup.c: In function `pci_fixup_i450nx':
        arch/x86_64/pci/../../i386/pci/fixup.c:13: error: pci_fixup_i450nx causes a section type conflict
    
    The change is obviously correct: an array should be declared
    __devinitdata rather that __devinit.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Acked-by: Martin J. Bligh <mbligh@mbligh.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fbf1769d08a8b085834dceb228540153ac2cd534
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 16:07:22 2005 +1100

    powerpc: include lmb.h in arch/powerpc/platforms/powermac/setup.c
    
    since it uses the lmb stuff in one place.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aaf8a7a2949481482200686c7bd3852e5be2e093
Merge: 104dd65... ecb3ca2...
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Nov 2 16:06:03 2005 +1100

    Merge iSeries include file move

commit f11b7bd88f8b41f0986498ffa11ffff1c3e513ca
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Nov 1 15:30:26 2005 +1100

    [PATCH] powerpc: Move naca.h to platforms/iseries
    
    These days, the NACA only exists on iSeries.  Therefore, this patch
    moves naca.h from include/asm-ppc64 to arch/powerpc/platforms/iseries.
    There was one file including naca.h outside of platforms/iseries -
    arch/ppc64/kernel/udbg_scc.c.  However, that's obviously a hangover
    from older days.  The include is not necessary, so this patch simply
    removes it.
    
    Built and booted on iSeries, built for G5 (which uses udbg_scc.o).
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ecb3ca2783d6e54d30dbf70a42fe995c27eeb212
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:53:01 2005 +1100

    modify defines according to _ASM_POWERPC_ISERIES_
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 9933f299d0e9e7b12ed4260669653d04d5e752c7
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 2 15:13:20 2005 +1100

    [PATCH] powerpc: Move dart.h
    
    asm-ppc64/dart.h is included in exactly one place -
    arch/powerpc/sysdev/u3_iommu.c.  This patch, therefore, moves it into
    arch/powerpc/sysdev.  While we're at it, update the #ifndef/#define
    protecting the include, and the filename in the comments of
    u3_iommu.c.
    
    Built and booted on pSeries and G5, built for ppc32 powermac.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1fc8b4ef4e1a0d6f2e16581716a4ae6e16ad3a76
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 2 14:48:36 2005 +1100

    [PATCH] powerpc: Merge (move) numnodes.h and sparsemem.h
    
    The ppc64 versions of numnodes.h and sparsemem.h can be safely moved
    to asm-powerpc with no changes apart from changing the #define to the
    standard _ASM_POWERPC_ form.  There are no ppc32 versions of these
    files, because they only have any effect if CONFIG_SPARSEMEM is
    enabled, which it never can be on ppc32.
    
    Built and booted on pSeries (POWER5), built for 32-bit powermac.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 10e8805716698596f5b6445d76bbb7ed1adb7295
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:22:37 2005 +1100

    fix incorrect dir
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit de2d3dbd17e6bb60bde4632ce1c7df063b073934
Merge: 104dd65... df70b17...
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:20:55 2005 +1100

    Merge ../linux-2.6

commit 104dd65fef378773ec0510c788bd4b5ad6ea1121
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:19:47 2005 +1100

    powerpc: clean up bug.h further
    
    This simplifies the macros which are different between 32-bit and
    64-bit.  It also fixes a couple of printks on the bug->line element,
    which is now a long.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b5ca71a58bacb5f1d563a0fe51525b6006618e82
Merge: a000503... 48fe487...
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:14:44 2005 +1100

    Merge git://oak/home/sfr/kernels/iseries/work

commit 19d5bcf370c64b1acb1e928b24baf3b68cec914b
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:14:09 2005 +1100

    [XFS] Ensure fsync does not incorrectly return EIO for pages beyond EOF.
    
    SGI-PV: 944819
    SGI-Modid: xfs-linux:xfs-kern:24236a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit b420677870e53b9b76ced91da207431f687eaed1
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:13:57 2005 +1100

    merge filename and modify references to iseries/vio.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit a749ee86152a0caed3b0c2fbc50a00277e306ec6
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:13:42 2005 +1100

    [XFS] Fix calculation of reserved AGs for inodes in 32-bit inode mode
    Spotted by Roger Willcocks <willcor @at@ gmail.com>
    
    SGI-PV: 944858
    SGI-Modid: xfs-linux:xfs-kern:201213a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit fdc7ed75c08d507aa64c603b8bb7ef478dcc0000
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:13:13 2005 +1100

    [XFS] Fix boundary conditions when issuing direct IOs from large userspace
    buffers.
    
    SGI-PV: 944820
    SGI-Modid: xfs-linux:xfs-kern:24223a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 2b3b6d07f760c61ec0a5e5174d3511abc044b8ea
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:12:28 2005 +1100

    [XFS] Remove an unhelpful ifdef, the comment above the routine explains
    the purpose well enough here.
    
    SGI-PV: 944821
    SGI-Modid: xfs-linux:xfs-kern:24214a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit cfcbbbd089eadcaa86abb2c0f352e1ab23e16f72
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:12:04 2005 +1100

    [XFS] Remove old, broken nolog-mode code - noone plans to ever fix it.
    
    SGI-PV: 944821
    SGI-Modid: xfs-linux:xfs-kern:24213a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c11e2c369d06576c9e4a900a975cbfab5e7e3c53
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:11:45 2005 +1100

    [XFS] Rework fid encode/decode wrt 64 bit inums interacting with NFS.
    
    SGI-PV: 937127
    SGI-Modid: xfs-linux:xfs-kern:24201a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 16259e7d952e26e949cc2c8c68b74f34b293935d
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 15:11:25 2005 +1100

    [XFS] Endianess annotations for various allocator data structures
    
    SGI-PV: 943272
    SGI-Modid: xfs-linux:xfs-kern:201006a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e2ed81fbbb7c76e0a1b3e2f1b5a7414f4d66a559
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:10:55 2005 +1100

    [XFS] remove unused code from xfs_iomap_write_direct
    
    SGI-PV: 943266
    SGI-Modid: xfs-linux:xfs-kern:200996a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e94af02a9cd7b6590bec81df9d6ab857d6cf322f
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:10:41 2005 +1100

    [XFS] fix old xfs_setattr mis-merge from irix; mostly harmless esp if not
    using xfs rt
    
    SGI-PV: 944632
    SGI-Modid: xfs-linux:xfs-kern:200983a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit bbc8b628b07e191624a74ce99fe36681cd70af37
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:10:38 2005 +1100

    merge filename and modify references to iSeries/mf.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 91e11088f88e07f5f42c88608329bc0756c183f9
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Nov 2 15:10:24 2005 +1100

    [XFS] Fixing size report discrepancy between ls and du caused by xfs_fsr
    
    SGI-PV: 943908
    SGI-Modid: xfs-linux:xfs-kern:200874a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 9af0a70c07a0e7575ebbdb42ca9fb29ffaaf77c9
Author: Yingping Lu <yingping@sgi.com>
Date:   Wed Nov 2 15:09:54 2005 +1100

    [XFS] Fixed a bug in reporting extent list for attribute fork running
    xfs_bmap -a.
    
    SGI-PV: 944075
    SGI-Modid: xfs-linux:xfs-kern:200860a
    
    Signed-off-by: Yingping Lu <yingping@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7f14d0a013eeae8f8548e9ac10699465de2adacc
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 15:09:35 2005 +1100

    [XFS] Simplify pagebuf_rele  Remove a conditional that can not be true
    anymore and simplify the final put path a little
    
    SGI-PV: 908809
    SGI-Modid: xfs-linux:xfs-kern:200790a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e718eeb4fe397f8add9f789e1fc3b47da4e7275f
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:09:22 2005 +1100

    [XFS] Rework the final mount options flag bit to make room for more.
    
    SGI-PV: 943866
    SGI-Modid: xfs-linux:xfs-kern:24030a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 6b3f6b5b87f03d1649340d6b3a572206653a2a2b
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:08:25 2005 +1100

    [XFS] Rework the dquot hash sizing heuristics.
    
    SGI-PV: 943123
    SGI-Modid: xfs-linux:xfs-kern:24012a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit a0005034713c1c2bb5ffe9d1cab829e817fddb73
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:08:17 2005 +1100

    powerpc: exclude powerbook sleep code with CONFIG_PPC64 and CONFIG_PM
    
    We were getting powerbook sleep code included, and giving compile
    errors, with CONFIG_PM=y on a 64-bit build.  This excludes that code
    so the kernel will compile.  One day BenH will implement on sleep on
    the G5...
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1f730e3b530fb2fa3159df06405c83f9a6fbbd83
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:08:10 2005 +1100

    [XFS] Add ATTR_NOSIZETOK definition for xfs_vnodeops.c change
    
    SGI-PV: 942439
    SGI-Modid: xfs-linux:xfs-kern:200185a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 6cbbdabb0163471590bf0a57766e3ea5d920d26e
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:07:51 2005 +1100

    merge filename and modify references to iseries/iseries_io.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 8a319ae49442eaedc7f932e9a520e464103f3ad0
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:07:51 2005 +1100

    [XFS] Disable attr2 by default, until a more appropriate time to enable
    it.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:24002a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 374e2ac33724d1dd432b6c75f9b1adf715c2add7
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:07:34 2005 +1100

    [XFS] Prevent data corruption on extending truncate case from cxfs client
    
    SGI-PV: 942439
    SGI-Modid: xfs-linux:xfs-kern:200152a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 4750ddb0ba781006f149fdd87bbe997cb8c07e2e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 15:07:23 2005 +1100

    [XFS] Fix sparse warnings in ktrace.[ch]
    
    SGI-PV: 943556
    SGI-Modid: xfs-linux:xfs-kern:200113a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit bccfd588423bb610fb1fde987da3ad23af1c46d7
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:06:22 2005 +1100

    powerpc: Fix compile error with CONFIG_TAU=y
    
    A couple of instances of "i" that needed to be changed to "cpu_id"
    got missed in the merge, because they were in CONFIG_TAU code.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5bde1ba99c8243617277f37897189c799e398baf
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 15:06:18 2005 +1100

    [XFS] silence gcc4 warnings.  the directory ones are wrong because of
    information gcc could not find out (that a directory always has a ..
    entry), the others are outright gcc bugs.
    
    SGI-PV: 943511
    SGI-Modid: xfs-linux:xfs-kern:200055a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 9dac13e7ffddf40c7bf1bf8bf4f735af6c3d31ec
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:05:34 2005 +1100

    [XFS] Remove unused type, xfs_gap_t.
    
    SGI-PV: 907752
    SGI-Modid: xfs-linux:xfs-kern:23932a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 19fa17e5b1d9622902c1e9a7b0f8be676f266bbe
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Nov 2 15:04:26 2005 +1100

    powerpc: Use rtas_call not call_rtas in CHRP code
    
    The nvram driver imported from the ppc code uses call_rtas, but
    rtas_call is the name we are using in merged code (since ppc64 used
    that name, and it uses far more RTAS calls than ppc32).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c43a55ff4e55d1bcfdf0cadfe2f00281e156c436
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 15:02:47 2005 +1100

    merge filename and modify references to iseries/lpar_map.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit f2cad7a8cdbe66d313059824d61ef1f455031566
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Wed Nov 2 03:10:43 2005 +0000

    [PATCH] ppc bug.h namespace pollution
    
    DATA_TYPE is really not a good thing to put into header that
    gets included all over the tree...
    
    Just make the cast always (long) and get rid of DATA_TYPE altogether.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1149d96ae825a1e1e9d66774175372c003f29caf
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 15:01:12 2005 +1100

    [XFS] endianess annotations and cleanup for the quota code
    
    SGI-PV: 943272
    SGI-Modid: xfs-linux:xfs-kern:199767a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit fa7e7d71e05f12921fefdc23386183578d3ed8c7
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:00:48 2005 +1100

    [XFS] Show additional mount options in /proc/mounts, fix up some debug
    code.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23926a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit da087bad810b48dd889a504e6af0a582ba18df0d
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 15:00:20 2005 +1100

    [XFS] Fix up a 32/64 local flags variable issue when enabling attr2 mode.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23925a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 0116d9356bfa8607a6e2efb5263100a6c72eabb0
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 15:00:01 2005 +1100

    [XFS] Remove dead code in xfs_iomap_write_direct; save some stack
    
    SGI-PV: 943266
    SGI-Modid: xfs-linux:xfs-kern:199750a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 4ce3121f67d482324825e7f17c9f7d8568a9fe24
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 14:59:41 2005 +1100

    [XFS] Update license/copyright notices to match the prefered SGI
    boilerplate.
    
    SGI-PV: 913862
    SGI-Modid: xfs-linux:xfs-kern:23917a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 7b71876980d87c8f237b94d8529ee7fcc05ec2d9
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 14:58:39 2005 +1100

    [XFS] Update license/copyright notices to match the prefered SGI
    boilerplate.
    
    SGI-PV: 913862
    SGI-Modid: xfs-linux:xfs-kern:23903a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 59ce20bb341282d5ecf17fd8b0ac093dd6350e5e
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 14:49:47 2005 +1100

    merge filename and modify references to iseries/it_lp_reg_save.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 2ff2ae7a0d7bfd813325663dc6353d034db7473d
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 2 13:58:22 2005 +1100

    [PATCH] powerpc: Merge futex.h
    
    This patch merges the ppc32 and ppc64 versions of futex.h, essentially
    by taking the ppc64 version as the powerpc version.  The old ppc32
    version did not implement the futex_atomic_op_inuser() callback (it
    always returned -ENOSYS), so FUTEX_WAKE_OP would not work on ppc32.
    In fact the ppc64 version of this function is almost suitable for
    ppc32 as well - the only change needed is to extend ppc_asm.h with a
    macro expanding to to the right pseudo-op to store a pointer (either
    ".long" or ".llong").
    
    Built and booted on pSeries.  Built for 32-bit powermac.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 847aeb6bad0876ff9c250725e905a41c6050157c
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Nov 2 11:44:26 2005 +1100

    [PATCH] powerpc: Fix merged ipcbuf.h
    
    Oops, when merging ipcbuf.h, I forgot that 'u64' can't be used in
    user-visible headers.  This patch corrects the problem, replacing the
    unused fields with an array of four __u32s.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a844f4510dce23c07f3923cb42138f5fdd745017
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 14:38:42 2005 +1100

    [XFS] Remove xfs_macros.c, xfs_macros.h, rework headers a whole lot.
    
    SGI-PV: 943122
    SGI-Modid: xfs-linux:xfs-kern:23901a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 8875ccfb7a6bd69d95a4e889ab36adda06c30d9e
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 14:13:34 2005 +1100

    merge filename and modify references to iseries/it_lp_queue.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit f218aab5cf74672a368933965f5bb612dac3c349
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 13:51:41 2005 +1100

    merge filename and modify references to iseries/it_lp_naca.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 7b487bb801b4bd790aa4bf7c157889f9d05e239c
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 13:48:25 2005 +1100

    merge filename and modify references to iseries/it_exp_vpd_panel.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 1ec65d76f3e5d4863b4bf93dfd2bff37f8bf4374
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 13:46:07 2005 +1100

    merge filename and modify references to iseries/hv_types.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit e45423eac2e191a6cfdacdf61cb931976d73cc0b
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 12:08:31 2005 +1100

    merge filename and modify references to iseries/hv_lp_event.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 15b17189489f6d759fa2d61e7b6c87c55eeffb2c
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 11:55:28 2005 +1100

    merge filename and modify reference to iseries/hv_lp_config.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 61c1e689fbde7cb50a76262bba190715d86beab6
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 11:44:57 2005 +1100

    [XFS] remove unused struct xfs_ail_ticket
    
    SGI-PV: 919278
    SGI-Modid: xfs-linux:xfs-kern:199498a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit fc1f8c1ca373dc88dd6e8c0e8b7de0e6ad95d441
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 11:44:33 2005 +1100

    [XFS] Track external log/realtime device names for correct reporting in
    /proc/mounts.
    
    SGI-PV: 942984
    SGI-Modid: xfs-linux:xfs-kern:23862a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 4aeb664c2561c0bae18d7a3a141d7d2acf126da1
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 11:43:58 2005 +1100

    [XFS] Improve buffered read throughput by removing unnecessary timer calls
    that showed in kernel profiles.
    
    SGI-PV: 925163
    SGI-Modid: xfs-linux:xfs-kern:23861a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 0fdfb3757f27b6d802f85e962d9b0f875df17113
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 11:43:42 2005 +1100

    [XFS] Remove a null CELL macro and its one caller, not useful to anyone.
    
    SGI-PV: 942986
    SGI-Modid: xfs-linux:xfs-kern:23860a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 380b5dc0e59340e7ed36dcc95dd1022aca75bbe2
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 11:43:18 2005 +1100

    [XFS] Fix up an internal sort function name collision issue.
    
    SGI-PV: 942986
    SGI-Modid: xfs-linux:xfs-kern:23859a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 80cce77980c645b1c129d0e90159c1b1bb78f6a6
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 11:43:04 2005 +1100

    [XFS] Make some extended attributes routines take const parameters, for
    the FreeBSD porters.
    
    SGI-PV: 942906
    SGI-Modid: xfs-linux:xfs-kern:23845a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 8021b8a77690d13ffb93eeadb6728e924d700bd5
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 11:41:12 2005 +1100

    merge filename and modify references to iseries/hv_call_xm.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 50592f5d2ae7b95b239ea41d76ad81fee046be86
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 11:37:22 2005 +1100

    merge filename and modify references to iseries/hv_call_sc.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit c0a8d05c8a5db835b20a3465b1be1cfe4752a13c
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Wed Nov 2 11:11:11 2005 +1100

    merge filename and modify references to iseries/hv_call_event.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit f74dee42765db1c2ed584de7ac66aa619c40c79e
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:35:56 2005 +1100

    [XFS] Ondisk format extension for extended attributes (attr2).	Basically,
    the data/attr forks now grow up/down from either end of the literal area,
    rather than dividing the literal area into two chunks and growing both
    upward.  Means we can now make much more efficient use of the attribute
    space, incl. fitting DMF attributes inline in 256 byte inodes, and large
    jumps in dbench3 performance numbers.  It is self enabling, but can be
    forced on/off via the attr2/noattr2 mount options.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23837a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit af4e34a5274e92c576fc0c3a4b27ae7d4a06096a
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:35:46 2005 +1100

    [XFS] Ondisk format extension for extended attributes (attr2).	Basically,
    the data/attr forks now grow up/down from either end of the literal area,
    rather than dividing the literal area into two chunks and growing both
    upward.  Means we can now make much more efficient use of the attribute
    space, incl. fitting DMF attributes inline in 256 byte inodes, and large
    jumps in dbench3 performance numbers.  It is self enabling, but can be
    forced on/off via the attr2/noattr2 mount options.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23836a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit d8cc890d4095f1eaa7f411a85051015b21262b12
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:34:53 2005 +1100

    [XFS] Ondisk format extension for extended attributes (attr2).	Basically,
    the data/attr forks now grow up/down from either end of the literal area,
    rather than dividing the literal area into two chunks and growing both
    upward.  Means we can now make much more efficient use of the attribute
    space, incl. fitting DMF attributes inline in 256 byte inodes, and large
    jumps in dbench3 performance numbers.  It is self enabling, but can be
    forced on/off via the attr2/noattr2 mount options.
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23835a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit aa82daa06198b27963fe3d6ee8035855b29f6524
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:33:33 2005 +1100

    [XFS] Move some code around to prepare for the upcoming extended
    attributes format change (attr2).
    
    SGI-PV: 941645
    SGI-Modid: xfs-linux:xfs-kern:23833a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit e8c8b3a79d85c22d3665b97dde843dc4d8d7ae37
Author: David Chinner <dgc@sgi.com>
Date:   Wed Nov 2 10:33:05 2005 +1100

    [XFS] Introduce two new mount options (nolargeio/largeio) to allow
    filesystems to expose the filesystem stripe width in stat(2) rather than
    the page cache size. This allows applications requiring high bandwidth to
    easily determine the optimum I/O size for the underlying filesystem. The
    default is to report the page cache size (i.e. "nolargeio").
    
    SGI-PV: 942818
    SGI-Modid: xfs-linux:xfs-kern:23830a
    
    Signed-off-by: David Chinner <dgc@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit ee34807a65aa0c5911dc27682863afca780a003e
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:32:38 2005 +1100

    [XFS] Provide a mechiansm for flushing delalloc before quota reporting.
    
    SGI-PV: 942815
    SGI-Modid: xfs-linux:xfs-kern:23829a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c310ab6c071a688e5291028972d1ae8314f67536
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:31:41 2005 +1100

    [XFS] Fix signedness issues in dquot ID handling, allowing uids/gids above
    MAXINT
    
    SGI-PV: 942528
    SGI-Modid: xfs-linux:xfs-kern:23828a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 30dab21abbca37636091a6d02e94dbcd6e07b530
Author: Nathan Scott <nathans@sgi.com>
Date:   Wed Nov 2 10:31:13 2005 +1100

    [XFS] Add a comment about the use of XFS_SIZE_TOKEN_WANT.
    
    SGI-PV: 936331
    SGI-Modid: xfs-linux:xfs-kern:23827a
    
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit c86e711ceb4ad03c98a7aa29bcab8613e9f57788
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:29:39 2005 +1100

    [XFS] only mark buffers done when all pages are uptodate  in addition
    replace PBF_NONE with an inverted PBF_DONE, so it's like all the other
    flags.
    
    SGI-PV: 942609
    SGI-Modid: xfs-linux:xfs-kern:199136a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit d0cfb37305baef74903872cbb799174d0d353fd9
Author: Eric Sandeen <sandeen@sgi.com>
Date:   Wed Nov 2 10:29:04 2005 +1100

    [XFS] Stack footprint reduction for xfs_swapext (used from xfs_fsr)
    
    SGI-PV: 913332
    SGI-Modid: xfs-linux:xfs-kern:198926a
    
    Signed-off-by: Eric Sandeen <sandeen@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit f538d4da8d521746ca5ebf8c1a8105eb49bfb45e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:26:59 2005 +1100

    [XFS] write barrier support  Issue all log sync operations as ordered
    writes.  In addition flush the disk cache on fsync if the sync cached
    operation didn't sync the log to disk (this requires some additional
    bookeping in the transaction and log code). If the device doesn't claim to
    support barriers, the filesystem has an extern log volume or the trial
    superblock write with barriers enabled failed we disable barriers and
    print a warning.  We should probably fail the mount completely, but that
    could lead to nasty boot failures for the root filesystem.  Not enabled by
    default yet, needs more destructive testing first.
    
    SGI-PV: 912426
    SGI-Modid: xfs-linux:xfs-kern:198723a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 739cafd316235fc55463849e80710f2ca308b9ae
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:25:51 2005 +1100

    [XFS] fix PBF_NONE handling
    
    SGI-PV: 908809
    SGI-Modid: xfs-linux:xfs-kern:198669a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit da1650a5d6026df1bde414173c40bbe09305e6e6
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:21:35 2005 +1100

    [XFS] Add format checking to cmn_err and icmn_err
    
    SGI-PV: 942243
    SGI-Modid: xfs-linux:xfs-kern:198658a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 88741a95af0ecf3a745051bdc1d16897d3990cec
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:21:14 2005 +1100

    [XFS] remove unused pagebuf flags
    
    SGI-PV: 908809
    SGI-Modid: xfs-linux:xfs-kern:198656a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 04d8b2841630b793919cc1ece9e77ac4de338c9e
Author: Christoph Hellwig <hch@sgi.com>
Date:   Wed Nov 2 10:15:05 2005 +1100

    [XFS] Make sure the threads and shaker in xfs_buf are de-initialized in
    reverse startup order
    
    SGI-PV: 942063
    SGI-Modid: xfs-linux:xfs-kern:198651a
    
    Signed-off-by: Christoph Hellwig <hch@sgi.com>
    Signed-off-by: Nathan Scott <nathans@sgi.com>

commit 73ee723e4c6d179c2e9496cc4caf160a18d95603
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Tue Nov 1 22:32:12 2005 +0000

    [ARM] 3081/1: Remove GTWX5715 from ixp4xx_defconfig
    
    Patch from Deepak Saxena
    
    CONFIG_MACH_GTWX5715 hardcodes the machine type in head-xscale.S so we
    can no longer boot on any other machine types. The proper fix would be
    to remove the hardcoding, but that machine is an off-the-shelf system
    and most users won't have access to the bootloader. :(
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fbd9a6d7a927b2059d1d65441384ffb095f68e58
Author: Dan Williams <dan.j.williams@gmail.com>
Date:   Tue Nov 1 22:31:12 2005 +0000

    [ARM] 3079/1: Fix typo in i2c-iop3xx.c (invalid pointer passed to release_mem_region)
    
    Patch from Dan Williams
    
    * If request_irq fails then a call to release_mem_region will be made with an invalid pointer.
    * Two formatting fixes
    
    Signed-off-by: Dan Williams <dan.j.williams@intel.com>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7b28b0d000eeb62d77add636f5d6eb0da04e48aa
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Tue Nov 1 13:18:54 2005 -0800

    [IB] ucm: 32/64 compatibility fixes
    
    Fix structure layouts to ensure same size on 32-bit and 64-bit architectures.
    This permits 32-bit userspace apps on a 64-bit kernel.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit d01e8897fcf597f62d84f626fdced8d94c70deaf
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Tue Nov 1 19:53:50 2005 +0000

    [ARM] 3052/1: add ixp2000 microcode loader
    
    Patch from Lennert Buytenhek
    
    This patch adds a microcode loader for the ixp2000 architecture.
    
    The ixp2000 is an xscale-based CPU with a number of additional small
    CPUs ('microengines') on die that can be programmed to do various
    things.  Depending on the ixp2000 model, there are between 2 and 16
    microengines.
    
    This code provides an API that allows configuring the microengines,
    loading code into them, and starting and stopping them and reading
    out a number of status registers, and is used by the microengine
    network driver that was recently announced to netdev.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fadab0943d1c5b652a66858bb99b204fedaad96b
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Nov 1 19:52:24 2005 +0000

    [ARM] 2948/1: new preemption safe copy_{to|from}_user implementation
    
    Patch from Nicolas Pitre
    
    This patch provides a preemption safe implementation of copy_to_user
    and copy_from_user based on the copy template also used for memcpy.
    It is enabled unconditionally when CONFIG_PREEMPT=y.  Otherwise if the
    configured architecture is not ARMv3 then it is enabled as well as it
    gives better performances at least on StrongARM and XScale cores.  If
    ARMv3 is not too affected or if it doesn't matter too much then
    uaccess.S could be removed altogether.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7549423000fc38d39a8b81c601dea0332c113a42
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Nov 1 19:52:23 2005 +0000

    [ARM] 2947/1: copy template with new memcpy/memmove
    
    Patch from Nicolas Pitre
    
    This patch provides a new implementation for optimized memory copy
    functions on ARM.  It is made of two levels: a template that consists of
    the core copy code and separate files that define macros to be used with
    the core code depending on the type of copy needed. This allows for best
    performances while sharing the same core for implementing memcpy(),
    copy_from_user() and copy_to_user() for instance.
    
    Two reasons for this work:
    
    1) the current copy_to_user/copy_from_user implementation assumes no
       task switch will ever occur in the middle of each copied page making
       it completely unsafe with CONFIG_PREEMPT=y.
    
    2) current copy implementations are measurably suboptimal and optimizing
       different implementations separately is a pain and more opportunities
       for bugs.
    
    The reason for (1) is the fact that copy inside user pages are performed
    with the ldm instruction which has no mean for testing user protections
    and could possibly race with process preemption bypassing the COW mechanism
    for example.  This is a longstanding issue that we said ought to be fixed
    for about two years now.  The solution is to substitute those ldm insns
    with a series of ldrt or strt insns to enforce user memory protection.
    At least on StrongARM and XScale cores the ldm is not faster than the
    equivalent ldr/str insns with a warm i-cache so there is no measurable
    performance degradation with that change. The fact that the copy code is
    a template makes it pretty easy to reuse the same core code as for memcpy
    and benefit from the same performance optimizations.
    
    Now (2) is best demonstrated with actual throughput measurements.
    First, here is a summary of memcopy tests performed on a StrongARM core:
    
    	PTR alignment	buffer size	kernel version	this version
    	------------------------------------------------------------
    	  aligned	     32		 59.73		107.43
    	unaligned	     32		 61.31		 74.72
    	  aligned	    100		132.47		136.15
    	unaligned	    100	    	103.84		123.76
    	  aligned	   4096		130.67		130.80
    	unaligned	   4096	    	130.68		130.64
    	  aligned	1048576		 68.03		68.18
    	unaligned	1048576		 68.03		68.18
    
    The buffer size is in bytes and the measured speed in MB/s.  The copy
    was performed repeatedly with given buffer and throughput averaged over
    3 seconds.
    
    Here we can see that the current kernel version has a higher entry cost
    that shows up with small buffers.  As buffer size grows both implementation
    converge to the same throughput.
    
    Now here's the exact same test performed on an XScale core (PXA255):
    
    	PTR alignment	buffer size	kernel version	this version
    	------------------------------------------------------------
    	  aligned	     32		 46.99		 77.58
    	unaligned	     32		 53.61		 59.59
    	  aligned	    100		107.19		136.59
    	unaligned	    100		 83.61		 97.58
    	  aligned	   4096		129.13		129.98
    	unaligned	   4096		128.36		128.53
    	  aligned	1048576		 53.76		 59.41
    	unaligned	1048576		 33.67		 56.96
    
    Again we can see the entry setup cost being higher for the current kernel
    before getting to the main copy loop.  Then throughput results converge
    as long as the buffer remains in the cache. Then the 1MB case shows more
    differences probably due to better pld placement and/or less instruction
    interlocks in this proposed implementation.
    
    Disclaimer: The PXA system was running with slower clocks than the
    StrongARM system so trying to infer any conclusion by comparing those
    separate sets of results side by side would be completely inappropriate.
    
    So...  What this patch does is to replace both memcpy and memmove with
    an implementation based on the provided copy code template.  The memmove
    code is kept separate since it is used only if the memory areas involved
    do overlap in which case the code is a transposition of the template but
    with the copy occurring in the opposite direction (trying to fit that
    mode into the template turned it into a mess not worth it for memmove
    alone).  And obviously both memcpy and memmove were tested with all kinds
    of pointer alignments and buffer sizes to exercise all code paths for
    correctness.
    
    The next patch will provide the now trivial replacement implementation
    copy_to_user and copy_from_user.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a0c6fdb987860e6c7f9b8e57439ca2703f462578
Author: Nicolas Pitre <nico@cam.org>
Date:   Tue Nov 1 19:52:22 2005 +0000

    [ARM] 2946/2: split --arch_clear_user() out of lib/uaccess.S
    
    Patch from Nicolas Pitre
    
    Required for future enhancement patches.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 85eb226c446a017996859093cbfb5d3ae2c2117a
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Nov 1 19:44:30 2005 +0000

    [ARM] 3078/1: lubbock platform updates, mostly mmc detection
    
    Patch from David Brownell
    
    Lubbock updates:
    
      * Provide an address for the SMC91x chip that doesn't generate
        a boot-time warning (matching the EEPROM).
    
      * Update MMC support to (a) detect card insert/remove, and
        (b) report the readonly switch setting for SD cards.
    
    Previously, MMC/SD cards had to be present at boot time else they
    couldn't be detected.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4ebc3364de368c92138e740f6c9050c93a2f0c3c
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 1 19:44:30 2005 +0000

    [ARM] 3077/1: S3C2410 - regs-iis.h missing mask for IISMOD_FS
    
    Patch from Ben Dooks
    
    Add definition for S3C2410_IISMOD_FS_MASK
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6ff8f59f13974ab54086c5c86898647642bc77dd
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 1 19:44:29 2005 +0000

    [ARM] 3076/1: S3C2410 - updated documentation for platfrom data init
    
    Patch from Ben Dooks
    
    Update the Documentation/arm/Samsung-S3C24XX to add
    example platform data initialisation, and add the
    linux-arm mailing list URL.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e838ffc2e5c9afa81451cf21dcd3f3246e2adcd2
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Tue Nov 1 19:44:28 2005 +0000

    [ARM] 3071/1: RX3715 - add lcd/fb platform setup
    
    Patch from Ben Dooks
    
    Platform data for the LCD/framebuffer driver for
    the RX3715 LCD panel.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fa87cedd4e89ea29bda622d5cd6dbf19a915fc40
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Tue Nov 1 19:44:27 2005 +0000

    [ARM] 3065/1: ixp2000 typo and whitespace fixes
    
    Patch from Lennert Buytenhek
    
    Misc ixp2000 typo and whitespace fixes.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e9b72e43d96a1ea2be0f513c78f16743a835d252
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Tue Nov 1 19:44:26 2005 +0000

    [ARM] 3064/1: start using ixp2000_reg_wrb
    
    Patch from Lennert Buytenhek
    
    Switch the users of ixp2000_reg_write that depend on writes being
    flushed out of the write buffer by the time that function returns
    over to ixp2000_reg_wrb.
    
    When using XCB=101, writes to the same functional unit are still
    guaranteed to complete in order, so we only need to protect against:
    - reordering of writes to different functional units
    - masking an interrupt and then reenabling the IRQ bit in CPSR
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 69a857610ad212ce4bcd8e6b13f25408691403de
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Tue Nov 1 19:44:25 2005 +0000

    [ARM] 3063/1: allow slave ixp2000 cpu reset
    
    Patch from Lennert Buytenhek
    
    On the ixdp2x00, the slave CPU is currently not allowed to reset itself
    for fear that it will do something 'funky' on the PCI bus.  This fear is
    ungrounded -- the slave CPU is wired up such that a CPU reset will not
    cause a PCI bus reset to be done.  This patch changes arch_reset() so
    that the slave CPU also executes the reset sequence, allowing it to
    reboot itself using /sbin/reboot.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a6f1063b388cfd48a598cc7971eae1f83ebc8ba4
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Tue Nov 1 19:44:24 2005 +0000

    [ARM] 3062/1: map in various enp2611 peripherals for the ixp2000 netdev driver
    
    Patch from Lennert Buytenhek
    
    The enp2611 version of the ixp2000 netdev driver needs to be able to
    access a number of on-board peripherals.  ioremap() is not suitable
    for this, as that will cause XCB=000 mappings to be done, which will
    make the cpu susceptible to crashing on ixp2400 erratum #66.  Properly
    aligned iotable mappings with MT_IXP2000_DEVICE will cause section
    mappings with XCB=101 to be done, which is safe.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit de4ae58fc9f46482f96306301011dfc8b404491f
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sun Oct 23 15:21:44 2005 +0200

    [WATCHDOG] adds device_driver .owner field
    
    Initialise the .owner field of the device driver
    with the module that owns it, for easier tracking
    of device driver ownership. (probably also better
    for sysfs...)
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit b3faed6373bfd4468384880a39d4014ead7159f7
Author: Wim Van Sebroeck <wim@iguana.be>
Date:   Sat Oct 22 16:27:19 2005 +0200

    [WATCHDOG] pcwd_pci.c update comments
    
    update copyright + update bells and whistles driver for v2.6
    
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit d05101738a4e23fa6f22460150a6ef4775d6473f
Author: Pozsar Balazs <pozsy@uhulinux.hu>
Date:   Fri Oct 21 10:52:01 2005 +0100

    [WATCHDOG] w83627hf_wdt trivial typo
    
    The most trivial typo fix in the world.
    
    Signed-off-by: Pozsar Balazs <pozsy@uhulinux.hu>
    Signed-off-by: Padraig Brady <P@draigBrady.com>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 30da9404bcc028385867acf689a615495642bc0f
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Mon Oct 10 01:28:30 2005 +0100

    [WATCHDOG] s3c2410 wdt - add .owner field
    
    Initialise the .owner field of the device driver
    with the module that owns it, for easier tracking
    of device driver ownership.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Wim Van Sebroeck <wim@iguana.be>

commit 7f28570185f98bfa83f775756ced79e9f22b6d93
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 1 10:22:55 2005 -0800

    Export __pagevec_release and pagevec_lookup_tag
    
    These are needed to implement cifs_writepages
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit ef0eaa13362041f531f951b89362bfbc177e2bc0
Merge: 53b2ec5... df70b17...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Nov 1 09:02:10 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit df70b17f88a4d1d8545d3569a1f6d28c6004f9e4
Merge: 541ab4a... 94b166a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Tue Nov 1 08:30:05 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/aia21/ntfs-2.6

commit 94b166a7cbc232df279e1f7d5a8acfb6b8d02d59
Merge: 3aebf25... 1e4c85f...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Nov 1 15:51:32 2005 +0000

    Merge branch 'master' of /home/src/linux-2.6/

commit 3aebf25bdcf030f3e4afeb9340486d5b46deb46e
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Nov 1 15:49:31 2005 +0000

    NTFS: Fix a stupid bug causing writes to non-initialized pages to segfault.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit a39dbcf71eba6e00ac6ae5482f499f9b57f1075e
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 1 22:37:47 2005 +1100

    powerpc: Fix pseries (64-bit) build
    
    A recent commit that removed rtas-fw.h and moved its contents to
    include/asm-powerpc/rtas.h forgot to also remove the inclusion of
    it in arch/powerpc/platforms/pseries/setup.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 89003ebf9e6a9ccb2327caf72955edd86b274c14
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Nov 1 21:54:38 2005 +1100

    powerpc: Fix BUG/WARN macros for 64-bit
    
    The bug_entry struct had an int in the middle of pointers and unsigned
    longs, and the inline asm that generated the bug table entries didn't
    insert the necessary padding, so the fields following it didn't get
    initialized properly and an oops resulted.  This changes the int field
    (the line number) to a long so that all the fields are the same size
    and no padding is required.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a0e60b2033b30a6bb8479629001cf98e58e4079a
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Nov 1 17:28:10 2005 +1100

    [PATCH] powerpc: Merge bitops.h
    
    Here's a revised version.  This re-introduces the set_bits() function
    from ppc64, which I removed because I thought it was unused (it exists
    on no other arch).  In fact it is used in the powermac interrupt code
    (but not on pSeries).
    
    - We use LARXL/STCXL macros to generate the right (32 or 64 bit)
      instructions, similar to LDL/STL from ppc_asm.h, used in fpu.S
    
    - ppc32 previously used a full "sync" barrier at the end of
      test_and_*_bit(), whereas ppc64 used an "isync".  The merged version
      uses "isync", since I believe that's sufficient.
    
    - The ppc64 versions of then minix_*() bitmap functions have changed
      semantics.  Previously on ppc64, these functions were big-endian
      (that is bit 0 was the LSB in the first 64-bit, big-endian word).
      On ppc32 (and x86, for that matter, they were little-endian.  As far
      as I can tell, the big-endian usage was simply wrong - I guess
      no-one ever tried to use minixfs on ppc64.
    
    - On ppc32 find_next_bit() and find_next_zero_bit() are no longer
      inline (they were already out-of-line on ppc64).
    
    - For ppc64, sched_find_first_bit() has moved from mmu_context.h to
      the merged bitops.  What it was doing in mmu_context.h in the first
      place, I have no idea.
    
    - The fls() function is now implemented using the cntlzw instruction
      on ppc64, instead of generic_fls(), as it already was on ppc32.
    
    - For ARCH=ppc, this patch requires adding arch/powerpc/lib to the
      arch/ppc/Makefile.  This in turn requires some changes to
      arch/powerpc/lib/Makefile which didn't correctly handle ARCH=ppc.
    
    Built and running on G5.
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 031ef0a72aa8f7ee63ae9f307c1bcff92b3ccc2c
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Tue Nov 1 16:53:24 2005 +1100

    [PATCH] powerpc: Merge ipcbuf.h
    
    This patch merges ppc32 and ppc64 versions of ipcbuf.h.  The merge is
    essentially trivial, since the structure defined in each version was
    already identical.  Only wrinkle is that the merged version now
    includes linux/types.h in order to get the fixed width integer types.
    In fact, the old versions probably should have been including that
    anyway, since the file uses various __kernel_*_t types.
    
    Built and booted on G5, built for 32-bit pmac, but not booted, since
    the merge tree currently doesn't boot there.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 811d4176f4366ca13a00c1fbb57587d210d38f19
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 31 20:08:41 2005 -0500

    [PATCH] powerpc: move arch/ppc64/kernel/bpa* to arch/powerpc/platforms/cell
    
    This patch simply moves files over to arch/powerpc without making
    any changes to them.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit edf03c1ee84e5095e8f4a4b8ad6e0784118cb176
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 31 20:08:40 2005 -0500

    [PATCH] powerpc: move mmio_nvram.c over to arch/powerpc
    
    The nvram code formally known as bpa_nvram.c is rather
    generic really, so it is quite likely to be useful to
    future boards not based on cell.
    
    This patch puts it into arch/powerpc/sysdev.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e9add2eeb182e2bf1863c548f7a8173c45b4b92f
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 31 20:08:39 2005 -0500

    [PATCH] powerpc: move rtas_fw.c out of platforms/pseries
    
    Cell uses the same code as pSeries for flashing the firmware
    through rtas, so the implementation should not be part of
    platforms/pseries.
    
    Put it into arch/powerpc/kernel instead.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 19fe04755aca56e7d143f7f95b41008138619c5c
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 31 20:08:38 2005 -0500

    [PATCH] powerpc: create a new arch/powerpc/platforms/cell/smp.c
    
    During the conversion to the merge tree, the Cell specific
    SMP initialization was removed from the pSeries code.
    
    This creates a new Cell specific SMP implementation file.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f3f66f599db131ea57dc567ffd931d269dbc690e
Author: Arnd Bergmann <arnd@arndb.de>
Date:   Mon Oct 31 20:08:37 2005 -0500

    [PATCH] powerpc: Rename BPA to Cell
    
    The official name for BPA is now CBEA (Cell Broadband
    Engine Architecture). This patch renames all occurences
    of the term BPA to 'Cell' for easier recognition.
    
    Signed-off-by: Arnd Bergmann <arnd@arndb.de>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 496456c24f1f4280d50b81aa5bf439ab440b3d7e
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Nov 1 09:54:23 2005 +0100

    [BLOCK] aoe: update for combined io statistics
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit a362357b6cd62643d4dda3b152639303d78473da
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Nov 1 09:26:16 2005 +0100

    [BLOCK] Unify the seperate read/write io stat fields into arrays
    
    Instead of having ->read_sectors and ->write_sectors, combine the two
    into ->sectors[2] and similar for the other fields. This saves a branch
    several places in the io path, since we don't have to care for what the
    actual io direction is. On my x86-64 box, that's 200 bytes less text in
    just the core (not counting the various drivers).
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit d72d904a5367ad4ca3f2c9a2ce8c3a68f0b28bf0
Author: Jens Axboe <axboe@suse.de>
Date:   Tue Nov 1 08:35:42 2005 +0100

    [BLOCK] Update read/write block io statistics at completion time
    
    Right now we do it at queueing time, which works alright for reads
    (since they are usually sync), but not for async writes since we can
    queue io a lot faster than we can complete it. This makes the vmstat
    output look extremely bursty.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 1da44037883c0405154d53fe76da27e078456664
Author: Kelly Daly <kelly@au.ibm.com>
Date:   Tue Nov 1 16:59:20 2005 +1100

    merge filename and modify references to iseries/hv_call.h
    
    Signed-off-by: Kelly Daly <kelly@au.ibm.com>

commit 541ab4af11d5b41b95cd633e9b1d96cea9947ac2
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Oct 31 21:12:40 2005 -0800

    Don't touch USB controller IO registers when they are disabled
    
    The USB "handoff" code is an early PCI quirk to make sure we own the USB
    controller (as opposed to the BIOS/SMM).  But if the controller isn't
    even enabled yet, don't try to access it.
    
    Acked-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48fe4871569f019c653efb95b26dda976f84c468
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 1 15:53:19 2005 +1100

    powerpc: clean up uaccess.h
    
    Use the best from each architecture.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 3c4cf5ee5a9224a800a74b5dfcb435550ed30737
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 1 14:26:41 2005 +1100

    powerpc: use asm-generic/termios.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 870c6ff2ac0cb708697c2c06f3e5eddf9e3b38cb
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 1 14:36:30 2005 +1100

    powerpc: remove duplicate ioctl definitions
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit bec7c458b372251617e0fdc6bf8ce4df06bab430
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Nov 1 11:45:19 2005 +1100

    powerpc: make mem= work on iSeries again
    
    By parsing the command line earlier, we can add the mem= value to the
    flattened device tree and let the generic code sort out the memory limit
    for us.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 5015b49448cbe5352b9cc232333ab26f3e608a07
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 31 18:39:20 2005 +1100

    powerpc: fix __strnlen_user in merge tree
    
    Change USER/KERNEL_DS so that the merged version of
    __strnlen_user can be used which allows us to complete the
    removal of arch/ppc64/lib/.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 2df5e8bcca53e528a78ee0e3b114d0d21dd6d043
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Sat Oct 29 17:51:31 2005 +1000

    powerpc: merge uaccess.h
    
    There is still a bug to be fixed and more merging to be done.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 1e4c85f97fe26fbd70da12148b3992c0e00361fd
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Oct 31 19:16:17 2005 -0800

    Revert "i386: move apic init in init_IRQs"
    
    Commit f2b36db692b7ff6972320ad9839ae656a3b0ee3e causes a bootup hang on
    at least one machine.  Revert for now until we understand why.  The old
    code may be ugly, but it works.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ee807c2d43b54183c16580857837dae8ccb2ed22
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Mon Aug 29 10:44:34 2005 -0400

    [SCSI] ips: Fix initialization bug with kdump
    
    If I/O is active on the adapter, and an unexpected interrupt is pending
    during initialization, the driver blows it's brains out. Since the driver
    didn't initiate the I/O, the data in it's internal tables will contain NULL
    pointers.
    
    When this condition is detected, a "flush cache and reset" is performed.
    The flush cache allows any pending "lazy writes" that the adapter is
    processing to complete ( a "must have" for a RAID adapter ) and the reset
    puts the adapter back into a known, good state.
    
    Signed-off-by: Jack Hammer <jack_hammer@adaptec.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 97300b5fdfe28c6edae926926f9467a27cf5889c
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Mon Oct 31 20:09:45 2005 +0800

    [MCAST] IPv6: Check packet size when process Multicast
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit edc9e81917157d1e73bf081d4fbcad7c34d32783
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Oct 30 11:20:59 2005 +1100

    [DCCP]: Set socket owner iff packet is not data
    
    Here is a complimentary insurance policy for those feeling a bit insecure.
    You don't have to accept this.  However, if you do, you can't blame me for
    it :)
    
    > 1) dccp_transmit_skb sets the owner for all packets except data packets.
    
    We can actually verify this by looking at pkt_type.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit d83c671fb7023f69a9582e622d01525054f23b66
Author: James Courtier-Dutton <James@superbug.co.uk>
Date:   Mon Oct 31 10:27:41 2005 +0000

    [PATCH] Creative Audigy 2 cardbus: Add IO window wakeup magic
    
    This adds the magic IO wakeup code for the CardBus version of the
    Creative Labs Audigy 2 to the snd-emu10k1 driver.
    
    Without the magic IO enable sequence, reading from the IO region of the
    card will fail spectacularly, and the machine will hang.
    
    My next task will be getting the driver to actually play sound without
    distortion.
    
    Signed-off-by: James Courtier-Dutton <James@superbug.co.uk>
    
    [ This is a work-in-progress, but since it avoids a total lockup
      if the emu10k module is loaded on a machine with the cardbus
      card inserted, we're better off with it than without it, even
      if sound quality is bad right now ]
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 067794a1170ef61e295aea1719cf4a1ce20200f8
Merge: 631bb0e... 659603e...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Oct 31 16:03:46 2005 -0800

    Auto-update from upstream

commit 988a6490a793b73ff23aa3baf87b337152178e4d
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Oct 31 16:53:04 2005 -0600

    JFS: set i_ctime & i_mtime on target directory when creating links
    
    jfs has never been setting i_ctime or i_mtime when creating either hard
    or symbolic links.  I'm surprised nobody had noticed until now.
    
    Thanks to Chris Spiegel for reporting the problem.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>

commit dcc17d1baef3721d1574e5b2f4f2d4607514bcff
Author: Peter Keilty <peter.keilty@hp.com>
Date:   Mon Oct 31 16:44:47 2005 -0500

    [IA64] Use bitmaps for efficient context allocation/free
    
    Corrects the very inefficent method of finding free context_ids in
    get_mmu_context().  Instead of walking the task_list of all processes,
    2 bitmaps are used to efficently store and lookup state, inuse and
    needs flushing. The entire rid address space is now used before calling
    wrap_mmu_context and global tlb flushing.
    
    Special thanks to Ken and Rohit for their review and modifications in
    using a bit flushmap.
    
    Signed-off-by: Peter Keilty <peter.keilty@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 659603ef692d3f6c7c216e80310990253864bf2e
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Mon Oct 31 14:08:54 2005 -0800

    [PATCH] fix __writeback_single_inode WARN_ON
    
    When the inode count is zero in inode writeback, the
    
    	WARN_ON(!(inode->i_state & I_WILL_FREE));
    
    is broken, and needs to test for either I_WILL_FREE|I_FREEING.
    
    When the inode is in I_FREEING state, it's already out of the visibility
    of the vm so it can't be freed so it doesn't require the __iget and the
    generic_delete_inode path can call the sync internally to the lowlevel
    fs callback during the last iput. So the inode being in I_FREEING is
    also a valid condition for calling the sync with i_count == 0.
    
    The specific stack trace is this:
    
      0xc00000007b8fb6e0  0xc00000000010118c  .__writeback_single_inode +0x5c
      0xc00000007b8fb6e0  0xc0000000001014dc (lr) .sync_inode +0x3c
      0xc00000007b8fb790  0xc0000000001014dc  .sync_inode +0x3c
      0xc00000007b8fb820  0xc0000000001a5020  .ext2_sync_inode +0x64
      0xc00000007b8fb8f0  0xc0000000001a65b4  .ext2_truncate +0x3f8
      0xc00000007b8fba40  0xc0000000001a6940  .ext2_delete_inode +0xdc
      0xc00000007b8fbac0  0xc0000000000f7a5c  .generic_delete_inode +0x124
      0xc00000007b8fbb50  0xc0000000000f5fe0  .iput +0xb8
      0xc00000007b8fbbe0  0xc0000000000e9fd4  .sys_unlink +0x2a8
      0xc00000007b8fbd10  0xc00000000001048c  .ret_from_syscall_1 +0x0
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a717f77362d4fe044721c126c89e2a38e731a576
Author: Andrew Morton <akpm@osdl.org>
Date:   Mon Oct 31 14:08:53 2005 -0800

    [PATCH] revert ide-scsi highmem cleanup
    
    Jeff Garzik <jgarzik@pobox.com> points out that this was wrong: we need to
    disable local interrupts while holding KM_IRQ0 due to IRQ sharing.
    
    And holding interrupts off during a big PIO opration is expensive, so we only
    want to do that if we know the page was highmem.
    
    So revert commit 17fd47ab4d33e764216b87006d8118fa050b4c92
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 48918a4dbd6c599d6af30bd64cb355fadca708eb
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sun Oct 30 11:20:59 2005 +1100

    [DCCP]: Simplify skb_set_owner_w semantics
    
    While we're at it let's reorganise the set_owner_w calls a little so that:
    
    1) dccp_transmit_skb sets the owner for all packets except data packets.
    2) Add dccp_skb_entail to set owner for packets queued for retransmission.
    3) Make dccp_transmit_skb static.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 631bb0e74e811e0d9ad23e7462a02d4767b4dd9d
Author: Bob Picco <bob.picco@hp.com>
Date:   Mon Oct 31 13:25:25 2005 -0500

    [IA64] Recent SPARSEMEM and DISCONTIG changes break some builds
    
    My only objection to pfn_to_kaddr, which was introduced for HotPlug memory,
    is that all arches have an identical implementation. I haven't had a chance
    to pursue why yet.  There is probably some arch issue I'm unaware of.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9d17f218936a0fee43ad9493a841136589c942cd
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Fri Oct 28 15:12:00 2005 -0700

    [IPV6]: Fix behavior of ip6_route_input() for link local address
    
    I find that linux will reply echo request destined to an address which
    belongs to an interface other than the one from which the request received.
    This behavior doesn't make sense for link local address.
    
    YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org> said:
    
    Please note that sender does need to setup neighbor entry by hand to reproduce
    this bug.  (Link-local address on eth1 is not visible on eth0, from the point
    of view of neighbor discovery in IPv6.)
    
     +--------+               +--------+
     | sender |               | router |
     +---+----+               +-+----+-+
         |eth0              eth0|    |eth1
    -----+----------------------+-  -+--------------
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Acked-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit c7fb577e2a6cb04732541f2dc402bd46747f7558
Merge: 9cec58d... 581c1b1...
Author: Tony Luck <tony.luck@intel.com>
Date:   Mon Oct 31 10:51:57 2005 -0800

    manual update from upstream:
    
    Applied Al's change 06a544971fad0992fe8b92c5647538d573089dd4
    to new location of swiotlb.c
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a3d7a9d77533d7516a8cfb8e2b612cd5ead4fa59
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Oct 28 15:12:02 2005 -0700

    [ROSE]: rose_heartbeat_expiry() locking fix
    
    Missing unlock, as noted by Ted Unangst <tedu@coverity.com>.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6b7d31fcdda5938e5d3f1f8b0922cc25aa200dfc
Author: Harald Welte <laforge@netfilter.org>
Date:   Wed Oct 26 09:34:24 2005 +0200

    [NETFILTER]: Add "revision" support to arp_tables and ip6_tables
    
    Like ip_tables already has it for some time, this adds support for
    having multiple revisions for each match/target.  We steal one byte from
    the name in order to accomodate a 8 bit version number.
    
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 6ede2463c8d7ea949f8e7ef35243490c415ddc2f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Oct 25 15:04:59 2005 -0700

    [BRIDGE]: Use ether_compare
    
    Use compare_ether_addr in bridge code.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit f2c84c0e84bfa637a7161eac10157cf3b05b4a73
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Sun Oct 30 23:04:05 2005 -0500

    [PATCH] i386: CONFIG_PC removal
    
    CONFIG_PC is left-over cruft after the introduction of CONFIG_X86_PC with
    the subarch split.  Remove it, and fixup the remaining users to depend on
    CONFIG_X86_PC instead.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 37bb30e86bc2e48d9affb25f6ce9eb3d8e65b2ac
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Oct 31 17:14:57 2005 +0000

    [ARM] Convert EBSA110 network driver to a platform driver
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1be7228da280252167150346dcec4e7c50a79eb4
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Oct 31 16:57:06 2005 +0000

    [ARM] Fixup platform device.h includes for realview board
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 53b2ec5518aa2623e8c0cb36f1c304a797988a46
Merge: 0753ca7... 581c1b1...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 31 08:36:11 2005 -0800

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 581c1b14394aee60aff46ea67d05483261ed6527
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Oct 31 09:23:54 2005 +0100

    [PATCH] noop-iosched: avoid corrupted request merging
    
    Tejun Heo notes:
    
       "I'm currently debugging this.  The problem is that we are using the
        generic dispatch queue directly in the noop sched and merging is NOT
        allowed on dispatch queues but generic handling of last_merge tries
        to merge requests.  I'm still trying to verify this, so I'll be back
        with results soon."
    
    In the meantime, disable merging for noop by setting REQ_NOMERGE in
    elevator_noop_add_request().
    
    Eventually, we should add a noop_list and do the dispatching like in the
    other io schedulers.  Merging is still beneficial for noop (and it has
    always done it).
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4fc207419d95e0e16fdc78e2f48f7c0b3640ffe5
Author: Jens Axboe <axboe@suse.de>
Date:   Mon Oct 31 13:51:33 2005 +0100

    [PATCH] Fix on-the-fly switch from cfq i/o scheduler
    
    Don't clear ->elevator_data on exit, if we are switching queues we are
    overwriting the data of the new io scheduler.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dd05e42fa86e37b14f8169bbad8d334e2e8d4881
Merge: c1d9620... 1f04c0a...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Oct 31 07:36:08 2005 -0800

    Merge git://git.kernel.org/pub/scm/linux/kernel/git/aia21/ntfs-2.6

commit c1d962035d49565d8c7a2d97519012ccb861778a
Merge: 4fd5f82... 005a5a0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Oct 31 07:34:07 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 4fd5f8267dd37aaebadfabe71d9c808821eea05a
Merge: eb16292... 8576762...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Mon Oct 31 07:32:56 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-drvmodel
    
    Manual #include fixups for clashes - there may be some unnecessary

commit 3bc12e75b23c0499cc2c0873a5f77494be173761
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sun Oct 30 13:20:09 2005 -0800

    [IPoIB] cleanups: fix comment, remove useless variables
    
    Minor cleanups: fix a misleading comment, and get rid of attr_mask
    variables that are only used to hold constants (just use the constants
    directly).
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit e5b251a24a9cd34a7ef98e361eb94e7ab122a554
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sun Oct 30 13:07:03 2005 -0800

    [IB] mthca: Avoid SRQ free WQE list corruption
    
    Fix wqe_to_link() to use a structure field that we know is definitely
    always unused for receive work requests, so that it really avoids the
    free list corruption bug that the comment claims it does.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 7162a3e0db34e914a8bc5bf74bbae0b386310cf8
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sun Oct 30 09:50:04 2005 -0800

    [IB] uverbs: Avoid NULL pointer deref on CQ async event
    
    Userspace CQs that have no completion event channel attached end up
    with their cq_context set to NULL.  However, asynchronous events like
    "CQ overrun" can still occur on such CQs, so add a uverbs_file member
    to struct ib_ucq_object that we can follow to deliver these events.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 8ad68bbf7a06cdd77c170be792418488dbb65da4
Author: Catalin Marinas <catalin.marinas@arm.com>
Date:   Mon Oct 31 14:25:02 2005 +0000

    [ARM] Add support for ARM RealView board
    
    Support for RealView EB.
    
    Signed-off-by: Catalin Marinas <catalin.marinas@arm.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 913ade51eca369553a8ffbdaf1f426fade84f6ae
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Oct 31 13:53:26 2005 +0000

    [SERIAL] Fix port numbering
    
    The PORT_* macros must be uniquely numbered.  This fixes the
    definitions.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6a8f8d72bd2fe9964ee10c0f58b14d6370e49769
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Oct 31 11:53:19 2005 +0000

    [SERIAL] Update serial_core documentation
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0cf669d5c5d08eb827df9867429df21cf030eba6
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Mon Oct 31 11:42:22 2005 +0000

    [SERIAL] Arrange better identification of ports
    
    Folk seem to get confused when they see two or more ttyS0 ports
    appearing at boot time.  One comes from the legacy table, and
    one from PNP.
    
    Hence, display the bus ID of the device which supplied the port.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1f04c0a24b2f3cfe89c802a24396263623e3512d
Merge: 07b188a... e2f2e58...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 31 10:06:46 2005 +0000

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit eb16292ba8a6655a560ab10a7d73a7816f0c0ac0
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 01:30:32 2005 -0500

    Input: adbhid - fix OOPS introduced by dynalloc conversion
    
    The problem is that adbhid[]->input is NULL, so the kernel oopses with
    a null pointer dereference as soon as a key is pressed.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 76440d5e13d7dacd5763394ddb2071424e0b6921
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Oct 31 01:30:19 2005 -0500

    Input: lkkbd - fix debug message in lkkbd_interrupt()
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 1259f2b3657e21f18a7f31f9b1c027e304838b18
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Oct 31 01:30:05 2005 -0500

    Input: pcspkr - fix setting name and phys for the device
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 995fc4df0bc8d88417742e4b1d17889fc64b6ef3
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Oct 31 01:29:51 2005 -0500

    Input: fix input_dev registration message
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit 7972720aaa044d0bca40e2e1d4c176076a9f0e00
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Oct 31 01:29:37 2005 -0500

    Input: evdev - allow querying SW state from compat ioctl
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit e0be618d1e8ed0a1a94ee14025ec5e3022d2ec5b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Mon Oct 31 01:29:23 2005 -0500

    Input: evdev - allow querying EV_SW bits from compat_ioctl
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>

commit ce1eeb95fc4eb25109c00bea3e83a87eeff6b07d
Merge: 95dbf5c... 005a5a0...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 23:32:03 2005 -0500

    Merge branch 'upstream'

commit 005a5a06a6dd13a0ca3f2c6a0218e8d94ed36d8a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 23:31:48 2005 -0500

    [libata] locking rewrite (== fix)
    
    A lot of power packed into a little patch.
    
    This change eliminates the sharing between our controller-wide spinlock
    and the SCSI core's Scsi_Host lock.  As the locking in libata was
    already highly compartmentalized, always referencing our own lock, and
    never scsi_host::host_lock.
    
    As a side effect, this change eliminates a deadlock from calling
    scsi_finish_command() while inside our spinlock.

commit e2f2e58e7968f8446b1078a20a18bf8ea12b4fbc
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 14:40:03 2005 +1100

    powerpc: import a fix from arch/ppc/mm/pgtable.c
    
    ... namely, the change to the 2-argument pte_alloc_kernel.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 734d6524800b6a8362666e893a5f3f29b9ef0be9
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 13:57:01 2005 +1100

    powerpc: apply recent changes to merged code
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e533825447dcb60a82b7cc9d73d06423c849b9a2
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 21:37:17 2005 -0500

    [libata] ata_tf_to_host cleanups
    
    Integrate ata_exec() and ata_tf_to_host() into their only caller,
    ata_bus_edd().
    
    Rename ata_tf_to_host_nolock() to ata_tf_to_host().
    
    This makes locking a bit easier to review, and may help pave the way for
    future changes.

commit 23fd07750a789a66fe88cf173d52a18f1a387da4
Merge: bd787d4... ed28f96...
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 13:37:12 2005 +1100

    Merge ../linux-2.6 by hand

commit bd787d438a59266af3c9f6351644c85ef1dd21fe
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 13:08:54 2005 +1100

    ppc: remove duplicate export of cur_cpu_spec
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cf00a8d18b9a1c2d55b2728e89125c234e821db5
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 31 13:07:02 2005 +1100

    powerpc: Fix bug arising from having multiple memory_limit variables
    
    We had a static memory_limit in prom.c, and then another one defined
    in setup_64.c and used in numa.c, which resulted in the kernel crashing
    when mem=xxx was given on the command line.  This puts the declaration
    in system.h and the definition in mem.c.  This also moves the
    definition of tce_alloc_start/end out of setup_64.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ed28f96ac1960f30f818374d65be71d2fdf811b0
Merge: 1480d0a... a2436b2...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Oct 30 17:48:37 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-serial

commit 1480d0a31db62b9803f829cc0e5cc71935ffe3cc
Merge: fc8e3d1... 46595ff...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Oct 30 17:48:00 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit fc8e3d177fa8073895d37b50282489dbeec89eb1
Merge: ad2c160... 936d859...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Oct 30 17:47:00 2005 -0800

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 9e0cb06b17be7e562cbdaba2768649f025826dc6
Merge: 23da0c2... 6e9d6b8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 20:37:44 2005 -0500

    Merge branch 'master'

commit ad2c1604da74a3bbef96e7259e389ccba0cf613a
Author: Pekka Enberg <penberg@cs.helsinki.fi>
Date:   Sun Oct 30 15:03:50 2005 -0800

    [PATCH] fat: Remove duplicate directory scanning code
    
    This patch removes duplicate directory scanning code from fs/fat/dir.c.  The
    two functions that share identical code are fat_readdirx() and
    fat_search_long().  This patch also renames fat_readdirx to __fat_readdir().
    
    Signed-off-by: Pekka Enberg <penberg@cs.helsinki.fi>
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9131dd4256f9598141ed374fcd47f6b4de8d2422
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Oct 30 15:03:50 2005 -0800

    [PATCH] fat: remove the unneeded vfat_find() in vfat_rename()
    
    Now, vfat_rename() is using vfat_find() for sanity check.  This removes that
    sanity check, the cost of sanity check is too high.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 451cbaa1c328082832a8fbcc427cd4416c602c5a
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sun Oct 30 15:03:49 2005 -0800

    [PATCH] fat: cleanup and optimization of checksum
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4e57b6817880946a3a78d5d8cad1ace363f7e449
Author: Tim Schmielau <tim@physik3.uni-rostock.de>
Date:   Sun Oct 30 15:03:48 2005 -0800

    [PATCH] fix missing includes
    
    I recently picked up my older work to remove unnecessary #includes of
    sched.h, starting from a patch by Dave Jones to not include sched.h
    from module.h. This reduces the number of indirect includes of sched.h
    by ~300. Another ~400 pointless direct includes can be removed after
    this disentangling (patch to follow later).
    However, quite a few indirect includes need to be fixed up for this.
    
    In order to feed the patches through -mm with as little disturbance as
    possible, I've split out the fixes I accumulated up to now (complete for
    i386 and x86_64, more archs to follow later) and post them before the real
    patch.  This way this large part of the patch is kept simple with only
    adding #includes, and all hunks are independent of each other.  So if any
    hunk rejects or gets in the way of other patches, just drop it.  My scripts
    will pick it up again in the next round.
    
    Signed-off-by: Tim Schmielau <tim@physik3.uni-rostock.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b0423a0d9cc836b2c3d796623cd19236bfedfe63
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Sun Oct 30 15:03:46 2005 -0800

    [PATCH] Remove duplicate code in signal.c
    
    Combine a bit of redundant code between force_sig_info() and
    force_sig_specific().
    
    Signed-off-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae6866c377943de73e2c95398ff0120516f167ce
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:03:46 2005 -0800

    [PATCH] remove unneeded SI_TIMER checks
    
    This patch removes checks for ->si_code == SI_TIMER from send_signal,
    specific_send_sig_info, __group_send_sig_info.
    
    I think posix-timers.c used these functions some time ago, now it sends
    signals via send_{,group_}sigqueue, so these hooks are unneeded.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 621d31219d9a788bda924a0613048053f3f5f211
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:03:45 2005 -0800

    [PATCH] cleanup the usage of SEND_SIG_xxx constants
    
    This patch simplifies some checks for magic siginfo values.  It should not
    change the behaviour in any way.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b67a1b9e4bf878aa5d4b6b44cb5a251a2f425f0d
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:03:44 2005 -0800

    [PATCH] remove hardcoded SEND_SIG_xxx constants
    
    This patch replaces hardcoded SEND_SIG_xxx constants with
    their symbolic names.
    
    No changes in affected .o files.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3e6716e748609a3a899e8d670e42832921bd45bc
Author: Randy Dunlap <randy_d_dunlap@linux.intel.com>
Date:   Sun Oct 30 15:03:44 2005 -0800

    [PATCH] hpet: hpet driver cleanups
    
    - Use kzalloc() instead of kmalloc + memset.
    - Clean/fix some printk's.
    - Use NULL for pointers instead of 0.
    - Combine hpet busy searching locations into a function call.
    
    Signed-off-by: Randy Dunlap <randy_d_dunlap@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b6ab126211e2ab17eecbd063b99742a6b04b228e
Author: Randy Dunlap <randy_d_dunlap@linux.intel.com>
Date:   Sun Oct 30 15:03:43 2005 -0800

    [PATCH] hpet: use HPET physical addresses for dup. detection
    
    - Use HPET physical address to detect duplicates, not logical addresses.
      Using logical (mapped) addresses fails to detect duplicates
      because ioremap() returns a new mapped address each time.
    
    - iounmap() regions when duplicate/busy areas are found.
    
    Signed-off-by: Randy Dunlap <randy_d_dunlap@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 757c4724099a31a61754ea5202802eaa1def851c
Author: Randy Dunlap <randy_d_dunlap@linux.intel.com>
Date:   Sun Oct 30 15:03:42 2005 -0800

    [PATCH] hpet: allow HPET FIXED_MEM32 resource type
    
    Allow the ACPI HPET description table to use a resource type of FIXED_MEM32
    for the HPET reource.  Use the fixed resoure size of 1 KB for the HPET
    resource as per the HPET spec.
    
    Signed-off-by: Randy Dunlap <randy_d_dunlap@linux.intel.com>
    Acked-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 318db8f03bc06e6de98e98a568b6b2fa64233b87
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:41 2005 -0800

    [PATCH] hpet: simplify initialization message
    
    When booting, display the timer frequency in Hertz instead of as tick length
    in nanoseconds.  Apart from saving a local variable, this makes the message
    more easily comprehensible.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c860ed9fb5d320407f99190ab2e31bfe74db6724
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:40 2005 -0800

    [PATCH] hpet: remove superfluous indirections
    
    In the hpet_ioctl_common() function, devp->hd_hpets is already cached in the
    hpetp variable, so we can use just that.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3d5640d1c7584689227256beeb63354c9a5baf2d
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:39 2005 -0800

    [PATCH] hpet: fix access to multiple HPET devices
    
    Fix two instances where a function would access the first HPET device instead
    of the current one.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7522e4ecdfdf86b9816f06d55766a6f88baa0348
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:39 2005 -0800

    [PATCH] hpet: fix uninitialized variable in hpet_register()
    
    Clear the ht_opaque field in the hpet_register() function before searching for
    a free timer to prevent the function from incorrectly assuming that the search
    succeeded afterwards.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af95eade68da4dfa29c5b64d79cffc9709facf00
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:38 2005 -0800

    [PATCH] hpet: fix division by zero in HPET_INFO
    
    Fix a division by zero that happened when the HPET_INFO ioctl was called
    before a timer frequency had been set.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8e8505be9c0ba608cbd634faa8fba361f17d2512
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:37 2005 -0800

    [PATCH] hpet: fix HPET_INFO calls from kernel space
    
    Fix a wrong memory access in hpet_ioctl_common().  It was not possible to use
    the HPET_INFO ioctl from kernel space because it always called copy_to_user().
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Cc: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7811fb8f400a3dbfa027d86bb583a31c66fddfc3
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:36 2005 -0800

    [PATCH] hpet-RTC: cache the comparator register
    
    Reads from an HPET register require a round trip to the south bridge and are
    almost as slow as PCI reads.  By caching the last value we've written to the
    comparator register, we can eliminate all HPET reads from the fast path in the
    emulated RTC interrupt handler.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5f819949ee4e5a06c2e0054cbb42f3f0d170d779
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:36 2005 -0800

    [PATCH] hpet-RTC: fix timer config register accesses
    
    Make sure that the RTC timer is in non-periodic mode; some stupid BIOS might
    have initialized it to periodic mode.
    
    Furthermore, don't set the SETVAL bit in the config register.  This wouldn't
    have any effect unless the timer was in period mode (which it isn't), and then
    the actual timer frequency would be half that of the desired one because
    incrementing the comparator in the interrupt handler would be done after the
    hardware has already incremented it itself.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f00c96f313b07d2eb2845305b9a3395e14385767
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:35 2005 -0800

    [PATCH] hpet-RTC: disable interrupt when no longer needed
    
    When the emulated RTC interrupt is no longer needed, we better disable it;
    otherwise, we get a spurious interrupt whenever the timer has rolled over and
    reaches the same comparator value.
    
    Having a superfluous interrupt every five minutes doesn't hurt much, but it's
    bad style anyway.  ;-)
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: "Pallipadi, Venkatesh" <venkatesh.pallipadi@intel.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d29086177aaa1e7d14e6ebb7fc067b3ca6d5c11
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:34 2005 -0800

    [PATCH] hpet: allow shared interrupts
    
    This patch adds support for shared HPET interrupts.
    
    The driver previously acknowledged interrupts for both edge and level
    interrupts, but didn't actually allow a shared interrupt in the latter case.
    
    We use a new per-timer flag to save whether the timer's interrupt might be
    shared, and use it to do the processing required for level interrupts only if
    necessary.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 189e2dd1376c1eb2f3a717a15f1ed8c7d0b3811a
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:33 2005 -0800

    [PATCH] hpet: allow non-power-of-two frequencies
    
    It was only the RTC hardware that restricted interrupt frequencies to a power
    of two.  There is no reason to take over this restriction into the HPET
    driver, so remove the offending check.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3f992e1bb7eab7b7af2b9ea46d2b80b1fed84845
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:32 2005 -0800

    [PATCH] hpet: remove superfluous register reads
    
    This patch removes several reads of a timer's config register that serve no
    purpose whatsoever.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 642d30bbc73512269de1524251ccc378d7782b85
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:31 2005 -0800

    [PATCH] hpet: remove unused variable
    
    The variable hpet_ntimer is never read, so remove it.
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Acked-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba3f213f8a31af953b7e86b1d102c919e9935cd4
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:31 2005 -0800

    [PATCH] HPET: make frequency calculations 32 bit safe
    
    On 32-bit architectures, the multiplication in the argument for
    hpet_time_div() often overflows.  In the typical case of a 14.32 MHz timer,
    this happens when the desired frequency exceeds 61 Hz.
    
    To avoid this multiplication, we can precompute and store the hardware
    timer frequency, instead of the period, in the device structure, which
    leaves us with a simple division when computing the number of timer ticks.
    
    As a side effect, this also removes a theoretical bug where the timer
    interpolator's frequency would be computed as a 32-bit value even if the
    HPET frequency is greater than 2^32 Hz (the HPET spec allows up to 10 GHz).
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9090e6db87e3bdb2a2c187ebc0f9175a9f9e5c6f
Author: Clemens Ladisch <clemens@ladisch.de>
Date:   Sun Oct 30 15:03:29 2005 -0800

    [PATCH] hpet: disallow zero interrupt frequency
    
    Disallow setting an interrupt frequency of zero (which would result in a
    division by zero), and disallow enabling the interrupt when the frequency
    hasn't yet been set (which would use an interrupt period of zero).
    
    Signed-off-by: Clemens Ladisch <clemens@ladisch.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 874ec33ff9ccf3651590697a2c2923b911bf31d0
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 30 15:03:29 2005 -0800

    [PATCH] sparse cleanups: NULL pointers, C99 struct init.
    
    Convert most of the remaining "Using plain integer as NULL pointer" sparse
    warnings to use NULL.  (Not duplicating patches that are already in -mm,
    -bird, or -kj.)
    
    Convert isdn driver struct initializer to use C99 syntax.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b888c87b7498557d1dbb9de3d4b8402b1bb89193
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:03:28 2005 -0800

    [PATCH] tpm-tidies
    
    - Various whitespace fixes
    
    - Use kzalloc()
    
    Acked-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1b8333b02aa281a2849331ad62ee595c46a1c5ac
Author: Marcel Selhorst <selhorst@crypto.rub.de>
Date:   Sun Oct 30 15:03:27 2005 -0800

    [PATCH] Infineon TPM: move infineon driver off pci_dev
    
    Move the Infineon TPM driver off pci device and makes it a pure pnp-driver.
    It includes pnp-port validation and region requesting.
    
    Signed-off-by: Marcel Selhorst <selhorst@crypto.rub.de>
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 570302a31149083b0ac8b2f08c195e9211c2c0c6
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Oct 30 15:03:26 2005 -0800

    [PATCH] tpm: move nsc driver off pci_dev
    
    This patch changes the nsc driver from a pci driver to a platform driver.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 682e97aceafd8a41c6c7106c4f3b04cc36e0456c
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Oct 30 15:03:25 2005 -0800

    [PATCH] tpm: move atmel driver off pci_dev
    
    This patch changes the atmel driver from a pci driver to a platform driver.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce2c87d4f733b6fcd7b7fb1d5311c870339c9725
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Oct 30 15:03:25 2005 -0800

    [PATCH] tpm: change from pci_dev to dev power management functions
    
    This patch is in support of moving away from the lpc bus pci_dev.  The power
    management prototypes used by platform drivers is different but the
    functionality remains the same.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e659a3fe2027b19ecd8abb7ad79253672763454b
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Oct 30 15:03:24 2005 -0800

    [PATCH] tpm: remove pci dependency
    
    Since the tpm does not have it's own pci id we have been consuming the lpc
    bus.  This is not correct and causes problems to support non lpc bus chips.
    This patch removes the dependency on pci_dev from tpm.c The subsequent patches
    will stop the supported chips from registering as pci drivers.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4ed3e3cbb312869929cf4528d71e52629a6cacb
Author: Kylene Jo Hall <kjhall@us.ibm.com>
Date:   Sun Oct 30 15:03:23 2005 -0800

    [PATCH] tpm: add status function to allow non-lpc bus chips
    
    This patch is in preparation of supporting chips that are not necessarily on
    the lpc bus and thus are not accessed with inb's and outb's.  The patch
    replaces the call to get the chip's status in the tpm.c file with a vendor
    specific status function.  The patch also defines the function for each of the
    current supported devices.
    
    Signed-off-by: Kylene Hall <kjhall@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 162a88f7b8539a097a088c0321ea1997cacccaea
Author: Andi Kleen <ak@suse.de>
Date:   Sun Oct 30 15:03:22 2005 -0800

    [PATCH] Don't set dcdbas driver to default m
    
    It's nasty to set random drivers to default m because people who just press
    enter on make oldconfig get these.  Remove the default m
    
    Signed-off-by: Andi Kleen <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4098f9918e068e51fed1727f6ba80efcec372378
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:03:21 2005 -0800

    [PATCH] sched: hardcode non-smp set_cpus_allowed
    
    Simplify the UP (1 CPU) implementatin of set_cpus_allowed.
    
    The one CPU is hardcoded to be cpu 0 - so just test for that bit, and avoid
    having to pick up the cpu_online_map.
    
    Also, unexport cpu_online_map: it was only needed for set_cpus_allowed().
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 70a6a0cb92f24fd6bbe2e75299168909f735676a
Author: Yuri Vasilevski <yvasilev@duke.math.cinvestav.mx>
Date:   Sun Oct 30 15:03:20 2005 -0800

    [PATCH] fix build on nls free systems
    
    I made a patch that detects if libintl.h (needed for nls) is present on the
    host system and if it's not, it nls support is disabled by providing
    dummies for the used nls functions.
    
    This way if there is nls support on the host system the *config targets
    will build according to Arnaldo Carvalho de Melo's i18n modifications, else
    it just uses the original English messages.
    
    I have also made a bug report at kernel's bugzilla:
    http://bugzilla.kernel.org/show_bug.cgi?id=5501
    And there is a discussion about this problem in Gentoo's bugzilla:
    http://bugs.gentoo.org/show_bug.cgi?id=99810
    
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b39f72fef241ce0ce971ed21922b4d64aefaf916
Author: Horms <horms@debian.org>
Date:   Sun Oct 30 15:03:19 2005 -0800

    [PATCH] README doesn't mention bzip2 source tarball
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 82da2c372712c772134d01317aa2517c923a74f8
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:03:19 2005 -0800

    [PATCH] lib/string.c cleanup: restore useful memmove const
    
    A couple of (char *) casts removed in a previous cleanup patch in
    lib/string.c:memmove() were actually useful, as they suppressed a couple of
    warnings:
    
    	assignment discards qualifiers from pointer target type
    
    Fix by declaring the local variable const in the first place, so casts
    aren't needed to strip the const qualifier.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d57bd39eb3dbf2866b5f5cee8fbd7a29b00c56f
Author: Matt Mackall <mpm@selenic.com>
Date:   Sun Oct 30 15:03:18 2005 -0800

    [PATCH] Error checks omitted in init_tmpfs() in mm/tiny-shmem.c
    
    From: Hareesh Nagarajan <hnagar2@gmail.com>
    
    Signed-off-by: Hareesh Nagarajan <hnagar2@gmail.com>
    Acked-by: Matt Mackall <mpm@selenic.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a3e713b5fdd0e54c2e3c8909ccde2a98839e3a52
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:03:15 2005 -0800

    [PATCH] __bread oops fix
    
    If a filesystem passes an idiotic blocksize into bread(), __getblk_slow() will
    warn and will return NULL.  We have a report (from Hubert Tonneau
    <hubert.tonneau@fullpliant.org>) of isofs_fill_super() doing this (passing in
    a silly block size) against an unplugged CDROM drive.
    
    But a couple of __getblk_slow() callers forgot to check for the NULL bh, hence
    oops.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 727a53bd535fe3bde644ac346db27456ad964083
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Sun Oct 30 15:03:14 2005 -0800

    [PATCH] semaphore: Remove __MUTEX_INITIALIZER()
    
    __MUTEX_INITIALIZER() has no users, and equates to the more commonly used
    DECLARE_MUTEX(), thus making it pretty much redundant.  Remove it for good.
    
    Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d269cdd0e22ef22f7f597ea917b1e8bdc6999fcb
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Sun Oct 30 15:03:14 2005 -0800

    [PATCH] rocketport: make it work when statically linked into kernel
    
    The driver had incorrectly wrapped module_init(rp_init) in #ifdef MODULE,
    so it worked only when compiled as a module.
    
    Tested by Wolfgang Denk with this device:
    
        00:0e.0 Communication controller: Comtrol Corporation RocketPort 8 port w/RJ11 connectors (rev 04)
            Control: I/O+ Mem- BusMaster- SpecCycle- MemWINV- VGASnoop- ParErr- Stepping- SERR- FastB2B-
            Status: Cap- 66Mhz- UDF- FastB2B- ParErr- DEVSEL=slow >TAbort- <TAbort- <MAbort- >SERR- <PERR-
            Interrupt: pin A routed to IRQ 11
            Region 0: I/O ports at 7000 [size=64]
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 708f430dcc50787d1c0b5c31962a5ff0dd8e35eb
Author: Roland McGrath <roland@redhat.com>
Date:   Sun Oct 30 15:03:13 2005 -0800

    [PATCH] posix-cpu-timers: fix overrun reporting
    
    This change corrects an omission in posix_cpu_timer_schedule, so that it
    correctly propagates the overrun calculation to where it will get reported
    to the user.
    
    Signed-off-by: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a241ec65aeac3d69a08a7b153cccbdb7ea35063f
Author: Paul E. McKenney <paulmck@us.ibm.com>
Date:   Sun Oct 30 15:03:12 2005 -0800

    [PATCH] RCU torture-testing kernel module
    
    This patch is a rewrite of the one submitted on October 1st, using modules
    (http://marc.theaimsgroup.com/?l=linux-kernel&m=112819093522998&w=2).
    
    This rewrite adds a tristate CONFIG_RCU_TORTURE_TEST, which enables an
    intense torture test of the RCU infratructure.  This is needed due to the
    continued changes to the RCU infrastructure to accommodate dynamic ticks,
    CPU hotplug, realtime, and so on.  Most of the code is in a separate file
    that is compiled only if the CONFIG variable is set.  Documentation on how
    to run the test and interpret the output is also included.
    
    This code has been tested on i386 and ppc64, and an earlier version of the
    code has received extensive testing on a number of architectures as part of
    the PREEMPT_RT patchset.
    
    Signed-off-by: "Paul E. McKenney" <paulmck@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b3099b48da23686d8378133b0264ee00385ee5fa
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Sun Oct 30 15:03:11 2005 -0800

    [PATCH] fs/attr.c: remove BUG()
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0398ee6c2fe3c1743ecc74a6378b67ba0880a4f
Author: Nikita Danilov <nikita@clusterfs.com>
Date:   Sun Oct 30 15:03:10 2005 -0800

    [PATCH] include/linux/kernel.h:BUILD_BUG_ON(): fix a comment
    
    Fix comment describing BUILD_BUG_ON: BUG_ON is not an assertion
    (unfortunately).
    
    Signed-off-by: Nikita Danilov <nikita@clusterfs.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed8b39d0aaea90df528ebe3756cbef8f735a93e6
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sun Oct 30 15:03:09 2005 -0800

    [PATCH] watchdog: update .owner field of struct pci_driver
    
    This updates .owner field of struct pci_driver.
    
    This allows SYSFS to create the symlink from the driver to the module which
    provides it.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Acked-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 413a42e2eac0c90264a6a0c9ce1913dfb2376f7a
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sun Oct 30 15:03:08 2005 -0800

    [PATCH] SyncLink adapters: updates .owner field of struct pci_driver
    
    This updates .owner field of struct pci_driver.
    
    This allows SYSFS to create the symlink from the driver to the module which
    provides it.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Cc: Paul Fulghum <paulkf@microgate.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f04dd0792935cd520662cc256bd53f50fc4410b
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Sun Oct 30 15:03:08 2005 -0800

    [PATCH] epca: update .owner field of struct pci_driver
    
    This updates .owner field of struct pci_driver.
    
    This allows SYSFS to create the symlink from the driver to the module which
    provides it.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a66ddcb770fbd20ce115910c7828cafdba099c1
Author: Pozsar Balazs <pozsy@uhulinux.hu>
Date:   Sun Oct 30 15:03:06 2005 -0800

    [PATCH] fix vgacon blanking
    
    This patch fixes a long-standing vgacon bug: characters with the bright bit
    set were left on the screen and not blacked out.  All I did was that I
    lookuped up some examples on the net about setting the vga palette, and
    added the call missing from the linux kernel, but included in all other
    ones.  It works for me.
    
    You can test this by writing something with the bright set to the
    console, for example:
      echo -e "\e[1;31mhello there\e[0m"
    and then wait for the console to blank itself (by default, after 10 mins
    of inactivity), maybe making it faster using
      setterm -blank 1
    so you only have to wait 1 minute.
    
    Signed-off-by: Pozsar Balazs <pozsy@uhulinux.hu>
    Cc: James Simmons <jsimmons@infradead.org>
    Cc: "Antonino A. Daplas" <adaplas@pol.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2973dfdb877c17b36c27ba66d71028ff1eb2f32e
Author: Glauber de Oliveira Costa <glommer@br.ibm.com>
Date:   Sun Oct 30 15:03:05 2005 -0800

    [PATCH] Test for sb_getblk return value
    
    This patch adds tests for the return value of sb_getblk() in the ext2/3
    filesystems.  In fs/buffer.c it is stated that the getblk() function never
    fails.  However, it does can return NULL in some situations due to I/O
    errors, which may lead us to NULL pointer dereferences
    
    Signed-off-by: Glauber de Oliveira Costa <glommer@br.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f04c26d715a2467a49a2384268de8f70f787b51
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Sun Oct 30 15:03:05 2005 -0800

    [PATCH] fix nr_unused accounting, and avoid recursing in iput with I_WILL_FREE set
    
     			list_move(&inode->i_list, &inode_in_use);
     		} else {
     			list_move(&inode->i_list, &inode_unused);
    +			inodes_stat.nr_unused++;
     		}
     	}
     	wake_up_inode(inode);
    
    Are you sure the above diff is correct? It was added somewhere between
    2.6.5 and 2.6.8. I think it's wrong.
    
    The only way I can imagine the i_count to be zero in the above path, is
    that I_WILL_FREE is set.  And if I_WILL_FREE is set, then we must not
    increase nr_unused.  So I believe the above change is buggy and it will
    definitely overstate the number of unused inodes and it should be backed
    out.
    
    Note that __writeback_single_inode before calling __sync_single_inode, can
    drop the spinlock and we can have both the dirty and locked bitflags clear
    here:
    
    		spin_unlock(&inode_lock);
    		__wait_on_inode(inode);
    		iput(inode);
    XXXXXXX
    		spin_lock(&inode_lock);
    	}
    	use inode again here
    
    a construct like the above makes zero sense from a reference counting
    standpoint.
    
    Either we don't ever use the inode again after the iput, or the
    inode_lock should be taken _before_ executing the iput (i.e. a __iput
    would be required). Taking the inode_lock after iput means the iget was
    useless if we keep using the inode after the iput.
    
    So the only chance the 2.6 was safe to call __writeback_single_inode
    with the i_count == 0, is that I_WILL_FREE is set (I_WILL_FREE will
    prevent the VM to free the inode in XXXXX).
    
    Potentially calling the above iput with I_WILL_FREE was also wrong
    because it would recurse in iput_final (the second mainline bug).
    
    The below (untested) patch fixes the nr_unused accounting, avoids recursing
    in iput when I_WILL_FREE is set and makes sure (with the BUG_ON) that we
    don't corrupt memory and that all holders that don't set I_WILL_FREE, keeps
    a reference on the inode!
    
    Signed-off-by: Andrea Arcangeli <andrea@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 52303e8b5f8aa234865d40d76ea16b0ff4b27022
Author: Pavel Roskin <proski@gnu.org>
Date:   Sun Oct 30 15:03:03 2005 -0800

    [PATCH] modules: fix sparse warning for every MODULE_PARM
    
    sparse complains about every MODULE_PARM used in a module: warning: symbol
    '__parm_foo' was not declared.  Should it be static?
    
    The fix is to split declaration and initialization.  While MODULE_PARM is
    obsolete, it's not something sparse should report.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4dd0e4c6336bd17fea38bcad636eafa2941cf9f
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Oct 30 15:03:02 2005 -0800

    [PATCH] extable: remove needless declaration
    
    They aren't used anywhere in that file.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b360adbdb54d5b98b78d57ba0916bc4b8871968
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:03:02 2005 -0800

    [PATCH] setkeys needs root
    
    Because people can play games reprogramming keys and leaving traps for the
    next user of the console.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb8e317998e55dc1f9e6288564052b577327b766
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 30 15:03:01 2005 -0800

    [PATCH] firmware: fix all kernel-doc warnings
    
    Convert existing function docs to kernel-doc format.  Eliminate all
    kernel-doc warnings.  Fix some doc typos and a little whitespace cleanup.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ecea8d19c9f0ebd62ddaa07fc919ff4e4b820d99
Author: Thomas Gleixner <tglx@linutronix.de>
Date:   Sun Oct 30 15:03:00 2005 -0800

    [PATCH] jiffies_64 cleanup
    
    Define jiffies_64 in kernel/timer.c rather than having 24 duplicated
    defines in each architecture.
    
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 371e8c25b65f2fe7942868a8a67129d571e94076
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Oct 30 15:03:00 2005 -0800

    [PATCH] Remove orphaned TIOCGDEV compat ioctl
    
    This ioctl doesn't exist for native i386.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 381be25458524f9bcec5bf1e40c82d1ebb408475
Author: Ben Dooks <ben@fluff.org.uk>
Date:   Sun Oct 30 15:02:56 2005 -0800

    [PATCH] ext3: sparse fixes
    
    Fix warnings from sparse due to un-declared functions that should either
    have a header file or have been declared static
    
     fs/ext2/bitmap.c:14:15: warning: symbol 'ext2_count_free' was not declared. Should it be static?
     fs/ext2/namei.c:92:15: warning: symbol 'ext2_get_parent' was not declared. Should it be static?
     fs/ext3/bitmap.c:15:15: warning: symbol 'ext3_count_free' was not declared. Should it be static?
     fs/ext3/namei.c:1013:15: warning: symbol 'ext3_get_parent' was not declared. Should it be static?
     fs/ext3/xattr.c:214:1: warning: symbol 'ext3_xattr_block_get' was not declared. Should it be static?
     fs/ext3/xattr.c:358:1: warning: symbol 'ext3_xattr_block_list' was not declared. Should it be static?
     fs/ext3/xattr.c:630:1: warning: symbol 'ext3_xattr_block_find' was not declared. Should it be static?
     fs/ext3/xattr.c:863:1: warning: symbol 'ext3_xattr_ibody_find' was not declared. Should it be static?
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a80ba88273097933f93b1f40537337416798c70
Author: Mark Gross <mgross@linux.intel.com>
Date:   Sun Oct 30 15:02:55 2005 -0800

    [PATCH] Telecom Clock Driver for MPCBL0010 ATCA computer blade
    
    Signed-off-by: Mark Gross <mgross@linux.intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1291cf4163d21f1b4999d697cbf68d38e7151c28
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:02:54 2005 -0800

    [PATCH] fix de_thread() vs do_coredump() deadlock
    
    de_thread() sends SIGKILL to all sub-threads and waits them to die in 'D'
    state.  It is possible that one of the threads already dequeued coredump
    signal.  When de_thread() unlocks ->sighand->lock that thread can enter
    do_coredump()->coredump_wait() and cause a deadlock.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f7232056bff5fe2d3bfeab35252a66ebaeb5bbde
Author: Carlos Sanchez <csanchez@windy.az.mvista.com>
Date:   Sun Oct 30 15:02:53 2005 -0800

    [PATCH] Added a Receive_Abort to the Marvell serial driver
    
    Added a Receive_Abort to the Marvell serial driver
    
    Fix occasional input overrun errors on Marvell serial driver
    
    - If the Marvell serial driver is repeatedly started and then stopped it
      will occasionally report an input overrun error when started.
    
    - Added a Receive_Abort to the Marvell serial driver to abort previously
      received receive errors when re-starting the receive
    
    Acked-by: Mark A. Greer <mgreer@mvista.com>
    Signed-off-by: Carlos Sanchez <csanchez@mvista.com>
    Cc: Russell King <rmk@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6ea05db06f32adac65b4c4e95ef998839149de12
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sun Oct 30 15:02:52 2005 -0800

    [PATCH] fuse: remove unused define
    
    Setting ctime is implicit in all setattr cases, so the FATTR_CTIME
    definition is unnecessary.
    
    It is used by neither the kernel nor by userspace.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1779381dea3bada407396742c56bee31ffa8544e
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sun Oct 30 15:02:51 2005 -0800

    [PATCH] fuse: spelling fixes
    
    Correct some typos and inconsistent use of "initialise" vs "initialize" in
    comments.  Reported by Ioannis Barkas.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a38bccd0c63a4954ea4e1357cbff404aa321afb
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:51 2005 -0800

    [PATCH] Kconfig help text correction for CONFIG_FRAME_POINTER
    
    Fix-up the CONFIG_FRAME_POINTER help text language a bit.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7f2a52555998c699a7e89f24636c909d6fc08a60
Author: Roland McGrath <roland@redhat.com>
Date:   Sun Oct 30 15:02:50 2005 -0800

    [PATCH] wait4 PTRACE_ATTACH race fix
    
    Back about a year ago when I last fiddled heavily with the do_wait code, I
    was thinking too hard about the wrong thing and I now think I introduced a
    bug whose inverse thought I was fixing.
    
    Apparently noone was looking too hard over much shoulder, so as to cite my
    bogus reasoning at the time.  In the race condition when PTRACE_ATTACH is
    about to steal a child and then the child hits a tracing event (what
    my_ptrace_child checks for), the real parent does need to set its flag
    noting it has some eligible live children.  Otherwise a spurious ECHILD
    error is possible, since the child in question is not yet on the
    ptrace_children list.
    
    Signed-off-by: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 396dc44bcac58f464b7b23c345052e37881cccea
Author: Pat Gefre <pfg@sgi.com>
Date:   Sun Oct 30 15:02:49 2005 -0800

    [PATCH] ioc4 serial support - mostly cleanup
    
    Various small mods for the Altix ioc4 serial driver - mostly cleanup:
    - remove UIF_INITIALIZED usage
    - use the 'lock' from uart_port
    - better multiple card support
    
    Signed-off-by: Patrick Gefre <pfg@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5b11687924e40790deb0d5f959247ade82196665
Author: Glauber de Oliveira Costa <glommer@br.ibm.com>
Date:   Sun Oct 30 15:02:48 2005 -0800

    [PATCH] Locking problems while EXT3FS_DEBUG on
    
    I noticed some problems while running ext3 with the debug flag set on.
    More precisely, I was unable to umount the filesystem.  Some investigation
    took me to the patch that follows.
    
    At a first glance , the lock/unlock I've taken out seems really not
    necessary, as the main code (outside debug) does not lock the super.  The
    only additional danger operations that debug code introduces seems to be
    related to bitmap, but bitmap operations tends to be all atomic anyway.
    
    I also took the opportunity to fix 2 spelling errors.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2384f55f8aa520172c995965bd2f8a9740d53095
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:02:47 2005 -0800

    [PATCH] coredump_wait() cleanup
    
    This patch deletes pointless code from coredump_wait().
    
    1. It does useless mm->core_waiters inc/dec under mm->mmap_sem,
       but any changes to ->core_waiters have no effect until we drop
       ->mmap_sem.
    
    2. It calls yield() for absolutely unknown reason.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7407251a0e2ed099e4b12b742b635503e981507c
Author: Coywolf Qi Hunt <qiyong@fc-cn.com>
Date:   Sun Oct 30 15:02:47 2005 -0800

    [PATCH] PF_DEAD cleanup
    
    The PF_DEAD setting doesn't belong to exit_notify(), move it to a proper
    place.
    
    Signed-off-by: Coywolf Qi Hunt <qiyong@fc-cn.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 40dc565122ed1e180a0637f88cdfca734d33db78
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:46 2005 -0800

    [PATCH] cleanup for kernel/printk.c
    
    - Removes some trailing whitespace
    
    - Breaks long lines and make other small changes to conform to CodingStyle
    
    - Add explicit printk loglevels in two places.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2a91f3e54ff27c6002597f689ba51c5fa657ddbd
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:45 2005 -0800

    [PATCH] ide-cd mini cleanup of casts
    
    Remove some unneeded casts.
    Avoid an assignment in the case of kmalloc failure.
    Break a few instances of  if (foo) whatever;  into two lines.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 20e1129ab831486c811d50d3905343ad48c4275f
Author: David Howells <dhowells@redhat.com>
Date:   Sun Oct 30 15:02:44 2005 -0800

    [PATCH] Keys: Get rid of warning in kmod.c if keys disabled
    
    The attached patch gets rid of a "statement without effect" warning when
    CONFIG_KEYS is disabled by making use of the return value of key_get().
    The compiler will optimise all of this away when keys are disabled.
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29db9190634067c5a328ee5fcc2890251b836b4b
Author: David Howells <dhowells@redhat.com>
Date:   Sun Oct 30 15:02:44 2005 -0800

    [PATCH] Keys: Add LSM hooks for key management [try #3]
    
    The attached patch adds LSM hooks for key management facilities. The notable
    changes are:
    
     (1) The key struct now supports a security pointer for the use of security
         modules. This will permit key labelling and restrictions on which
         programs may access a key.
    
     (2) Security modules get a chance to note (or abort) the allocation of a key.
    
     (3) The key permission checking can now be enhanced by the security modules;
         the permissions check consults LSM if all other checks bear out.
    
     (4) The key permissions checking functions now return an error code rather
         than a boolean value.
    
     (5) An extra permission has been added to govern the modification of
         attributes (UID, GID, permissions).
    
    Note that there isn't an LSM hook specifically for each keyctl() operation,
    but rather the permissions hook allows control of individual operations based
    on the permission request bits.
    
    Key management access control through LSM is enabled by automatically if both
    CONFIG_KEYS and CONFIG_SECURITY are enabled.
    
    This should be applied on top of the patch ensubjected:
    
    	[PATCH] Keys: Possessor permissions should be additive
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-off-by: Chris Wright <chrisw@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2aa349f6e37ce030060c994d3aebbff4ab703565
Author: David Howells <dhowells@redhat.com>
Date:   Sun Oct 30 15:02:42 2005 -0800

    [PATCH] Keys: Export user-defined keyring operations
    
    Export user-defined key operations so that those who wish to define their
    own key type based on the user-defined key operations may do so (as has
    been requested).
    
    The header file created has been placed into include/keys/user-type.h, thus
    creating a directory where other key types may also be placed.  Any
    objections to doing this?
    
    Signed-Off-By: David Howells <dhowells@redhat.com>
    Signed-Off-By: Arjan van de Ven <arjan@infradead.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1426d7a81dea8e9d85f9d69de85ab04ba37018ab
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 30 15:02:42 2005 -0800

    [PATCH] vm: remove unused/broken page_pte[_prot] macros
    
    This patch removes page_pte_prot and page_pte macros from all
    architectures.  Some architectures define both, some only page_pte (broken)
    and others none.  These macros are not used anywhere.
    
    page_pte_prot(page, prot) is identical to mk_pte(page, prot) and
    page_pte(page) is identical to page_pte_prot(page, __pgprot(0)).
    
    * The following architectures define both page_pte_prot and page_pte
    
      arm, arm26, ia64, sh64, sparc, sparc64
    
    * The following architectures define only page_pte (broken)
    
      frv, i386, m32r, mips, sh, x86-64
    
    * All other architectures define neither
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c7e9dd4dd0b8dd75c410011b3c8f9980112fd0f8
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 30 15:02:40 2005 -0800

    [PATCH] vm: remove redundant assignment from __pagevec_release_nonlru()
    
    This patch removes redundant assignment from __pagevec_release_nonlru().
    pages_to_free.cold is set to pvec->cold by pagevec_init() call right above
    the assignment.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 39e88ca2c9d0f6d1e9f34ea2a6e86a652bb69a7a
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 30 15:02:40 2005 -0800

    [PATCH] fs: error case fix in __generic_file_aio_read
    
    When __generic_file_aio_read() hits an error during reading, it reports the
    error iff nothing has successfully been read yet.  This is condition - when
    an error occurs, if nothing has been read/written, report the error code;
    otherwise, report the amount of bytes successfully transferred upto that
    point.
    
    This corner case can be exposed by performing readv(2) with the following
    iov.
    
     iov[0] = len0 @ ptr0
     iov[1] = len1 @ NULL (or any other invalid pointer)
     iov[2] = len2 @ ptr2
    
    When file size is enough, performing above readv(2) results in
    
     len0 bytes from file_pos @ ptr0
     len2 bytes from file_pos + len0 @ ptr2
    
    And the return value is len0 + len2.  Test program is attached to this
    mail.
    
    This patch makes __generic_file_aio_read()'s error handling identical to
    other functions.
    
    #include <stdio.h>
    #include <stdlib.h>
    #include <sys/types.h>
    #include <sys/stat.h>
    #include <fcntl.h>
    #include <unistd.h>
    #include <sys/uio.h>
    #include <errno.h>
    #include <string.h>
    
    int main(int argc, char **argv)
    {
    	const char *path;
    	struct stat stbuf;
    	size_t len0, len1;
    	void *buf0, *buf1;
    	struct iovec iov[3];
    	int fd, i;
    	ssize_t ret;
    
    	if (argc < 2) {
    		fprintf(stderr, "Usage: testreadv path (better be a "
    			"small text file)\n");
    		return 1;
    	}
    	path = argv[1];
    
    	if (stat(path, &stbuf) < 0) {
    		perror("stat");
    		return 1;
    	}
    
    	len0 = stbuf.st_size / 2;
    	len1 = stbuf.st_size - len0;
    
    	if (!len0 || !len1) {
    		fprintf(stderr, "Dude, file is too small\n");
    		return 1;
    	}
    
    	if ((fd = open(path, O_RDONLY)) < 0) {
    		perror("open");
    		return 1;
    	}
    
    	if (!(buf0 = malloc(len0)) || !(buf1 = malloc(len1))) {
    		perror("malloc");
    		return 1;
    	}
    
    	memset(buf0, 0, len0);
    	memset(buf1, 0, len1);
    
    	iov[0].iov_base = buf0;
    	iov[0].iov_len = len0;
    	iov[1].iov_base = NULL;
    	iov[1].iov_len = len1;
    	iov[2].iov_base = buf1;
    	iov[2].iov_len = len1;
    
    	printf("vector ");
    	for (i = 0; i < 3; i++)
    		printf("%p:%zu ", iov[i].iov_base, iov[i].iov_len);
    	printf("\n");
    
    	ret = readv(fd, iov, 3);
    	if (ret < 0)
    		perror("readv");
    
    	printf("readv returned %zd\nbuf0 = [%s]\nbuf1 = [%s]\n",
    	       ret, (char *)buf0, (char *)buf1);
    
    	return 0;
    }
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Cc: Benjamin LaHaise <bcrl@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30e0fca6c1d7d26f3f2daa4dd2b12c51dadc778a
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Sun Oct 30 15:02:38 2005 -0800

    [PATCH] ptrace/coredump/exit_group deadlock
    
    I could seldom reproduce a deadlock with a task not killable in T state
    (TASK_STOPPED, not TASK_TRACED) by attaching a NPTL threaded program to
    gdb, by segfaulting the task and triggering a core dump while some other
    task is executing exit_group and while one task is in ptrace_attached
    TASK_STOPPED state (not TASK_TRACED yet).  This originated from a gdb
    bugreport (the fact gdb was segfaulting the task wasn't a kernel bug), but
    I just incidentally noticed the gdb bug triggered a real kernel bug as
    well.
    
    Most threads hangs in exit_mm because the core_dumping is still going, the
    core dumping hangs because the stopped task doesn't exit, the stopped task
    can't wakeup because it has SIGNAL_GROUP_EXIT set, hence the deadlock.
    
    To me it seems that the problem is that the force_sig_specific(SIGKILL) in
    zap_threads is a noop if the task has PF_PTRACED set (like in this case
    because gdb is attached).  The __ptrace_unlink does nothing because the
    signal->flags is set to SIGNAL_GROUP_EXIT|SIGNAL_STOP_DEQUEUED (verified).
    
    The above info also shows that the stopped task hit a race and got the stop
    signal (presumably by the ptrace_attach, only the attach, state is still
    TASK_STOPPED and gdb hangs waiting the core before it can set it to
    TASK_TRACED) after one of the thread invoked the core dump (it's the core
    dump that sets signal->flags to SIGNAL_GROUP_EXIT).
    
    So beside the fact nobody would wakeup the task in __ptrace_unlink (the
    state is _not_ TASK_TRACED), there's a secondary problem in the signal
    handling code, where a task should ignore the ptrace-sigstops as long as
    SIGNAL_GROUP_EXIT is set (or the wakeup in __ptrace_unlink path wouldn't be
    enough).
    
    So I attempted to make this patch that seems to fix the problem.  There
    were various ways to fix it, perhaps you prefer a different one, I just
    opted to the one that looked safer to me.
    
    I also removed the clearing of the stopped bits from the zap_other_threads
    (zap_other_threads was safe unlike zap_threads).  I don't like useless
    code, this whole NPTL signal/ptrace thing is already unreadable enough and
    full of corner cases without confusing useless code into it to make it even
    less readable.  And if this code is really needed, then you may want to
    explain why it's not being done in the other paths that sets
    SIGNAL_GROUP_EXIT at least.
    
    Even after this patch I still wonder who serializes the read of
    p->ptrace in zap_threads.
    
    Patch is called ptrace-core_dump-exit_group-deadlock-1.
    
    This was the trace I've got:
    
    test          T ffff81003e8118c0     0 14305      1         14311 14309 (NOTLB)
    ffff810058ccdde8 0000000000000082 000001f4000037e1 ffff810000000013
           00000000000000f8 ffff81003e811b00 ffff81003e8118c0 ffff810011362100
           0000000000000012 ffff810017ca4180
    Call Trace:<ffffffff801317ed>{try_to_wake_up+893} <ffffffff80141677>{finish_stop+87}
           <ffffffff8014367f>{get_signal_to_deliver+1359} <ffffffff8010d3ad>{do_signal+157}
           <ffffffff8013deee>{ptrace_check_attach+222} <ffffffff80111575>{sys_ptrace+2293}
           <ffffffff80131810>{default_wake_function+0} <ffffffff80196399>{sys_ioctl+73}
           <ffffffff8010dd27>{sysret_signal+28} <ffffffff8010e00f>{ptregscall_common+103}
    
    test          D ffff810011362100     0 14309      1         14305 14312 (NOTLB)
    ffff810053c81cf8 0000000000000082 0000000000000286 0000000000000001
           0000000000000195 ffff810011362340 ffff810011362100 ffff81002e338040
           ffff810001e0ca80 0000000000000001
    Call Trace:<ffffffff801317ed>{try_to_wake_up+893} <ffffffff8044677d>{wait_for_completion+173}
           <ffffffff80131810>{default_wake_function+0} <ffffffff80137435>{exit_mm+149}
           <ffffffff801381af>{do_exit+479} <ffffffff80138d0c>{do_group_exit+252}
           <ffffffff801436db>{get_signal_to_deliver+1451} <ffffffff8010d3ad>{do_signal+157}
           <ffffffff8013deee>{ptrace_check_attach+222} <ffffffff80140850>{specific_send_sig_info+2
    
           <ffffffff8014208a>{force_sig_info+186} <ffffffff804479a0>{do_int3+112}
           <ffffffff8010e308>{retint_signal+61}
    test          D ffff81002e338040     0 14311      1         14716 14305 (NOTLB)
    ffff81005ca8dcf8 0000000000000082 0000000000000286 0000000000000001
           0000000000000120 ffff81002e338280 ffff81002e338040 ffff8100481cb740
           ffff810001e0ca80 0000000000000001
    Call Trace:<ffffffff801317ed>{try_to_wake_up+893} <ffffffff8044677d>{wait_for_completion+173}
           <ffffffff80131810>{default_wake_function+0} <ffffffff80137435>{exit_mm+149}
           <ffffffff801381af>{do_exit+479} <ffffffff80142d0e>{__dequeue_signal+558}
           <ffffffff80138d0c>{do_group_exit+252} <ffffffff801436db>{get_signal_to_deliver+1451}
           <ffffffff8010d3ad>{do_signal+157} <ffffffff8013deee>{ptrace_check_attach+222}
           <ffffffff80140850>{specific_send_sig_info+208} <ffffffff8014208a>{force_sig_info+186}
           <ffffffff804479a0>{do_int3+112} <ffffffff8010e308>{retint_signal+61}
    
    test          D ffff810017ca4180     0 14312      1         14309 13882 (NOTLB)
    ffff81005d15fcb8 0000000000000082 ffff81005d15fc58 ffffffff80130816
           0000000000000897 ffff810017ca43c0 ffff810017ca4180 ffff81003e8118c0
           0000000000000082 ffffffff801317ed
    Call Trace:<ffffffff80130816>{activate_task+150} <ffffffff801317ed>{try_to_wake_up+893}
           <ffffffff8044677d>{wait_for_completion+173} <ffffffff80131810>{default_wake_function+0}
           <ffffffff8018cdc3>{do_coredump+819} <ffffffff80445f52>{thread_return+82}
           <ffffffff801436d4>{get_signal_to_deliver+1444} <ffffffff8010d3ad>{do_signal+157}
           <ffffffff8013deee>{ptrace_check_attach+222} <ffffffff80140850>{specific_send_sig_info+2
    
           <ffffffff804472e5>{_spin_unlock_irqrestore+5} <ffffffff8014208a>{force_sig_info+186}
           <ffffffff804476ff>{do_general_protection+159} <ffffffff8010e308>{retint_signal+61}
    
    Signed-off-by: Andrea Arcangeli <andrea@suse.de>
    Cc: Roland McGrath <roland@redhat.com>
    Cc: Ingo Molnar <mingo@elte.hu>
    Cc: Linus Torvalds <torvalds@osdl.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 68860ec10bcc07ab4f89f9d940e3b77ae5ca13b3
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:36 2005 -0800

    [PATCH] cpusets: automatic numa mempolicy rebinding
    
    This patch automatically updates a tasks NUMA mempolicy when its cpuset
    memory placement changes.  It does so within the context of the task,
    without any need to support low level external mempolicy manipulation.
    
    If a system is not using cpusets, or if running on a system with just the
    root (all-encompassing) cpuset, then this remap is a no-op.  Only when a
    task is moved between cpusets, or a cpusets memory placement is changed
    does the following apply.  Otherwise, the main routine below,
    rebind_policy() is not even called.
    
    When mixing cpusets, scheduler affinity, and NUMA mempolicies, the
    essential role of cpusets is to place jobs (several related tasks) on a set
    of CPUs and Memory Nodes, the essential role of sched_setaffinity is to
    manage a jobs processor placement within its allowed cpuset, and the
    essential role of NUMA mempolicy (mbind, set_mempolicy) is to manage a jobs
    memory placement within its allowed cpuset.
    
    However, CPU affinity and NUMA memory placement are managed within the
    kernel using absolute system wide numbering, not cpuset relative numbering.
    
    This is ok until a job is migrated to a different cpuset, or what's the
    same, a jobs cpuset is moved to different CPUs and Memory Nodes.
    
    Then the CPU affinity and NUMA memory placement of the tasks in the job
    need to be updated, to preserve their cpuset-relative position.  This can
    be done for CPU affinity using sched_setaffinity() from user code, as one
    task can modify anothers CPU affinity.  This cannot be done from an
    external task for NUMA memory placement, as that can only be modified in
    the context of the task using it.
    
    However, it easy enough to remap a tasks NUMA mempolicy automatically when
    a task is migrated, using the existing cpuset mechanism to trigger a
    refresh of a tasks memory placement after its cpuset has changed.  All that
    is needed is the old and new nodemask, and notice to the task that it needs
    to rebind its mempolicy.  The tasks mems_allowed has the old mask, the
    tasks cpuset has the new mask, and the existing
    cpuset_update_current_mems_allowed() mechanism provides the notice.  The
    bitmap/cpumask/nodemask remap operators provide the cpuset relative
    calculations.
    
    This patch leaves open a couple of issues:
    
     1) Updating vma and shmfs/tmpfs/hugetlbfs memory policies:
    
        These mempolicies may reference nodes outside of those allowed to
        the current task by its cpuset.  Tasks are migrated as part of jobs,
        which reside on what might be several cpusets in a subtree.  When such
        a job is migrated, all NUMA memory policy references to nodes within
        that cpuset subtree should be translated, and references to any nodes
        outside that subtree should be left untouched.  A future patch will
        provide the cpuset mechanism needed to mark such subtrees.  With that
        patch, we will be able to correctly migrate these other memory policies
        across a job migration.
    
     2) Updating cpuset, affinity and memory policies in user space:
    
        This is harder.  Any placement state stored in user space using
        system-wide numbering will be invalidated across a migration.  More
        work will be required to provide user code with a migration-safe means
        to manage its cpuset relative placement, while preserving the current
        API's that pass system wide numbers, not cpuset relative numbers across
        the kernel-user boundary.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fb5eeeee44edb248b4837416966f19731f497f79
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:33 2005 -0800

    [PATCH] cpusets: bitmap and mask remap operators
    
    In the forthcoming task migration support, a key calculation will be
    mapping cpu and node numbers from the old set to the new set while
    preserving cpuset-relative offset.
    
    For example, if a task and its pages on nodes 8-11 are being migrated to
    nodes 24-27, then pages on node 9 (the 2nd node in the old set) should be
    moved to node 25 (the 2nd node in the new set.)
    
    As with other bitmap operations, the proper way to code this is to provide
    the underlying calculation in lib/bitmap.c, and then to provide the usual
    cpumask and nodemask wrappers.
    
    This patch provides that.  These operations are termed 'remap' operations.
    Both remapping a single bit and a set of bits is supported.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 28a42b9ea7e42e1efb02cc2dcacba0b6af234e1b
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:32 2005 -0800

    [PATCH] cpusets: confine pdflush to its cpuset
    
    This patch keeps pdflush daemons on the same cpuset as their parent, the
    kthread daemon.
    
    Some large NUMA configurations put as much as they can of kernel threads
    and other classic Unix load in what's called a bootcpuset, keeping the rest
    of the system free for dedicated jobs.
    
    This effort is thwarted by pdflush, which dynamically destroys and
    recreates pdflush daemons depending on load.
    
    It's easy enough to force the originally created pdflush deamons into the
    bootcpuset, at system boottime.  But the pdflush threads created later were
    allowed to run freely across the system, due to the necessary line in their
    startup kthread():
    
            set_cpus_allowed(current, CPU_MASK_ALL);
    
    By simply coding pdflush to start its threads with the cpus_allowed
    restrictions of its cpuset (inherited from kthread, its parent) we can
    ensure that dynamically created pdflush threads are also kept in the
    bootcpuset.
    
    On systems w/o cpusets, or w/o a bootcpuset implementation, the following
    will have no affect, leaving pdflush to run on any CPU, as before.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 18a19cb3047e454ee5ecbc35d7acf3f8e09e0466
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:31 2005 -0800

    [PATCH] cpusets: simple rename
    
    Add support for renaming cpusets.  Only allow simple rename of cpuset
    directories in place.  Don't allow moving cpusets elsewhere in hierarchy or
    renaming the special cpuset files in each cpuset directory.
    
    The usefulness of this simple rename became apparent when developing task
    migration facilities.  It allows building a second cpuset hierarchy using
    new names and containing new CPUs and Memory Nodes, moving tasks from the
    old to the new cpusets, removing the old cpusets, and then renaming the new
    cpusets to be just like the old names, so that any knowledge that the tasks
    had of their cpuset names will still be valid.
    
    Leaf node cpusets can be migrated to other CPUs or Memory Nodes by just
    updating their 'cpus' and 'mems' files, but because no cpuset can contain
    CPUs or Nodes not in its parent cpuset, one cannot do this in a cpuset
    hierarchy without first expanding all the non-leaf cpusets to contain the
    union of both the old and new CPUs and Nodes, which would obfuscate the
    one-to-one migration of a task from one cpuset to another required to
    correctly migrate the physical page frames currently allocated to that
    task.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 053199edf54f685e7dea765b60d4d5e9070dadec
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:30 2005 -0800

    [PATCH] cpusets: dual semaphore locking overhaul
    
    Overhaul cpuset locking.  Replace single semaphore with two semaphores.
    
    The suggestion to use two locks was made by Roman Zippel.
    
    Both locks are global.  Code that wants to modify cpusets must first
    acquire the exclusive manage_sem, which allows them read-only access to
    cpusets, and holds off other would-be modifiers.  Before making actual
    changes, the second semaphore, callback_sem must be acquired as well.  Code
    that needs only to query cpusets must acquire callback_sem, which is also a
    global exclusive lock.
    
    The earlier problems with double tripping are avoided, because it is
    allowed for holders of manage_sem to nest the second callback_sem lock, and
    only callback_sem is needed by code called from within __alloc_pages(),
    where the double tripping had been possible.
    
    This is not quite the same as a normal read/write semaphore, because
    obtaining read-only access with intent to change must hold off other such
    attempts, while allowing read-only access w/o such intention.  Changing
    cpusets involves several related checks and changes, which must be done
    while allowing read-only queries (to avoid the double trip), but while
    ensuring nothing changes (holding off other would be modifiers.)
    
    This overhaul of cpuset locking also makes careful use of task_lock() to
    guard access to the task->cpuset pointer, closing a couple of race
    conditions noticed while reading this code (thanks, Roman).  I've never
    seen these races fail in any use or test.
    
    See further the comments in the code.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5aa15b5f27fc2c404530c6c8eabdb8437deb3163
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:28 2005 -0800

    [PATCH] cpusets: remove depth counted locking hack
    
    Remove a rather hackish depth counter on cpuset locking.  The depth counter
    was avoiding a possible double trip on the global cpuset_sem semaphore.  It
    worked, but now an improved version of cpuset locking is available, to come
    in the next patch, using two global semaphores.
    
    This patch reverses "cpuset semaphore depth check deadlock fix"
    
    The kernel still works, even after this patch, except for some rare and
    difficult to reproduce race conditions when agressively creating and
    destroying cpusets marked with the notify_on_release option, on very large
    systems.
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f35f31d7ed0150f9865619f21b5050c91b46c03f
Author: Paul Jackson <pj@sgi.com>
Date:   Sun Oct 30 15:02:27 2005 -0800

    [PATCH] cpuset cleanup
    
    Remove one more useless line from cpuset_common_file_read().
    
    Signed-off-by: Paul Jackson <pj@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e9543659715602e3180f00a227bb6db34141ac41
Author: Kirill Korotaev <dev@sw.ru>
Date:   Sun Oct 30 15:02:26 2005 -0800

    [PATCH] proc: fix of error path in proc_get_inode()
    
    This patch fixes incorrect error path in proc_get_inode(), when module
    can't be get due to being unloaded.  When try_module_get() fails, this
    function puts de(!) and still returns inode with non-getted de.
    
    There are still unresolved known bugs in proc yet to be fixed:
    - proc_dir_entry tree is managed without any serialization
    - create_proc_entry() doesn't setup de->owner anyhow,
       so setting it later manually is inatomic.
    - looks like almost all modules do not care whether
       it's de->owner is set...
    
    Signed-Off-By: Denis Lunev <den@sw.ru>
    Signed-Off-By: Kirill Korotaev <dev@sw.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f12ec44070f6b4d1a3911fcf9917cf8f872a4daf
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sun Oct 30 15:02:25 2005 -0800

    [PATCH] fuse: clean up dead code related to nfs exporting
    
    Remove last remains of NFS exportability support.
    
    The code is actually buggy (as reported by Akshat Aranya), since 'alias'
    will be leaked if it's non-null and alias->d_flags has DCACHE_DISCONNECTED.
    
    This is not an active bug, since there will never be any disconnected
    dentries.  But it's better to get rid of the unnecessary complexity anyway.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15d2bace5ec907530a3d0e0cf4bb1bd29f3ad7b7
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:02:24 2005 -0800

    [PATCH] add_timer() of a pending timer is illegal
    
    In the recent timer rework we lost the check for an add_timer() of an
    already-pending timer.  That check was useful for networking, so put it back.
    
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2ca7d93bb27876e5fd4ebfcb3b00627107bdad4d
Author: Nate Diller <nate@namesys.com>
Date:   Sun Oct 30 15:02:24 2005 -0800

    [PATCH] block cleanups: Fix iosched module refcount leak
    
    If the requested I/O scheduler is already in place, elevator_switch simply
    leaves the queue alone, and returns.  However, it forgets to call
    elevator_put, so
    
    'echo [current_sched] > /sys/block/[dev]/queue/scheduler'
    
    will leak a reference, causing the current_sched module to be permanently
    pinned in memory.
    
    Signed-off-by: Nate Diller <nate@namesys.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3fa63c7d82ab9a12a5d0a299069f8df9f35aa011
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Oct 30 15:02:23 2005 -0800

    [PATCH] Typo fix: dot after newline in printk strings
    
    Typo fix: dots appearing after a newline in printk strings.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfb7dac3af623a68262536437af008ed6aba4d88
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Oct 30 15:02:22 2005 -0800

    [PATCH] unify sys_ptrace prototype
    
    Make sure we always return, as all syscalls should.  Also move the common
    prototype to <linux/syscalls.h>
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7024a9b884ed7657fb873e655cd124d85ae792a4
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Oct 30 15:02:21 2005 -0800

    [PATCH] adjust parisc sys_ptrace prototype
    
    Make the pid argument a long as on every other arcihtecture.  Despite pid_t
    beeing a 32bit type even on 64bit parisc this is not an ABI change due to
    the parisc calling conventions.  And even if it did it wouldn't matter too
    much because 64bit userspace on parisc is in an embrionic stage.
    
    Acked-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4eb9af2a8a431a832830f986fead7332dab27229
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:02:21 2005 -0800

    [PATCH] posix-timers: use schedule_timeout() in common_nsleep()
    
    common_nsleep() reimplements schedule_timeout_interruptible() for unknown
    reason.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 33430dc593f866f5d67ff6a6213b6dd6d7ea3ce1
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Oct 30 15:02:20 2005 -0800

    [PATCH] Typo fix: explictly -> explicitly
    
    (akpm: I don't do typo patches, but one of these is in a printk string)
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 131dda7f8965a6b794dcde1d84f3ba5951a4d641
Author: Nate Diller <nate@namesys.com>
Date:   Sun Oct 30 15:02:19 2005 -0800

    [PATCH] block cleanups: Add kconfig default iosched submenu
    
    Add a kconfig submenu to select the default I/O scheduler, in case
    anticipatory is not compiled in or another default is preferred.  Also,
    since no-op is always available, we should use it whenever the selected
    default is not.
    
    Signed-off-by: Nate Diller <nate@namesys.com>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6dd69f1061bfdeca230509b173438e0731bff767
Author: Vadim Lobanov <vlobanov@speakeasy.net>
Date:   Sun Oct 30 15:02:18 2005 -0800

    [PATCH] Unify sys_tkill() and sys_tgkill()
    
    The majority of the sys_tkill() and sys_tgkill() function code is
    duplicated between the two of them.  This patch pulls the duplication out
    into a separate function -- do_tkill() -- and lets sys_tkill() and
    sys_tgkill() be simple wrappers around it.  This should make it easier to
    maintain in light of future changes.
    
    Signed-off-by: Vadim Lobanov <vlobanov@speakeasy.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 19a4fcb531659f2f7d18b5d04cee039176e9540d
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:02:17 2005 -0800

    [PATCH] kill sigqueue->lock
    
    This lock is used in sigqueue_free(), but it is always equal to
    current->sighand->siglock, so we don't need to keep it in the struct
    sigqueue.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 932aeafbe8521a9a9d790152d66020e0fef2029b
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:02:17 2005 -0800

    [PATCH] fix de_thread vs it_real_fn() deadlock
    
    de_thread() calls del_timer_sync(->real_timer) under ->sighand->siglock.
    This is deadlockable, it_real_fn sends a signal and needs this lock too.
    
    Also, delete unneeded ->real_timer.data assignment.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Cc: Roland McGrath <roland@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f51201662b28dbf8c15fb7eb972bc51c6cc3fa5
Author: Eric Dumazet <dada1@cosmosbay.com>
Date:   Sun Oct 30 15:02:16 2005 -0800

    [PATCH] reduce sizeof(struct file)
    
    Now that RCU applied on 'struct file' seems stable, we can place f_rcuhead
    in a memory location that is not anymore used at call_rcu(&f->f_rcuhead,
    file_free_rcu) time, to reduce the size of this critical kernel object.
    
    The trick I used is to move f_rcuhead and f_list in an union called f_u
    
    The callers are changed so that f_rcuhead becomes f_u.fu_rcuhead and f_list
    becomes f_u.f_list
    
    Signed-off-by: Eric Dumazet <dada1@cosmosbay.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 503af334ecf23b9d65d2ff0cc759f3a0bf338290
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 30 15:02:15 2005 -0800

    [PATCH] clarify menuconfig /(search) help text
    
    Add explicit text about
    - where menuconfig '/' (search) searches for strings,
    - that substrings are allowed, and
    - that regular expressions are supported.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e15ae2dd3e436552293e122a5163019e7a0fa450
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:14 2005 -0800

    [PATCH] Whitespace and CodingStyle cleanup for lib/idr.c
    
    Cleanup trailing whitespace, blank lines, CodingStyle issues etc, for
    lib/idr.c
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 850b9247926693454f71e819883f4dc06184e25f
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:13 2005 -0800

    [PATCH] lib/string.c cleanup: remove pointless explicit casts
    
    The first two hunks of the patch really belongs in patch 1, but I missed
    them on the first pass and instead of redoing all 3 patches I stuck them in
    this one.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cc75fb71c0100d921637a11ded5e333883be5df3
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:12 2005 -0800

    [PATCH] lib/string.c cleanup: remove pointless register keyword
    
    Removes a few pointless register keywords.  register is merely a compiler
    hint that access to the variable should be optimized, but gcc (3.3.6 in my
    case) generates the exact same code with and without the keyword, and even
    if gcc did something different with register present I think it is doubtful
    we would want to optimize access to these variables - especially since this
    is generic library code and there are supposed to be optimized versions in
    asm/ for anything that really matters speed wise.
    
    (akpm: iirc, keyword register is a gcc no-op unless using -O0)
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 51a0f0f658b0e757d569e8ac224ccb6bbfe3c181
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Sun Oct 30 15:02:11 2005 -0800

    [PATCH] lib/string.c cleanup: whitespace and CodingStyle cleanups
    
    Removes some blank lines, removes some trailing whitespace, adds spaces
    after commas and a few similar changes.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d97b321425e237e3e6c6bbe2c40dc0e09d0e3264
Author: Amos Waterland <apw@us.ibm.com>
Date:   Sun Oct 30 15:02:10 2005 -0800

    [PATCH] protect ide_cdrom_capacity by ifdef
    
    The only call to ide_cdrom_capacity is in code protected by
    CONFIG_PROC_FS, so when that is not enabled, the compiler complains:
    
     drivers/ide/ide-cd.c:3259: warning: `ide_cdrom_capacity' defined but not used
    
    Here is a patch that fixes that.  It provides some space savings for
    embedded systems that are not using procfs, as well:
    
         text    data     bss     dec     hex filename
     -  33540    6504    1032   41076    a074 drivers/ide/ide-cd.o
     +  33468    6480    1032   40980    a014 drivers/ide/ide-cd.o
    
    Signed-off-by: Amos Waterland <apw@us.ibm.com>
    Cc: Jens Axboe <axboe@suse.de>
    Cc: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 42e50a5a69f359e64a143eb0e11a57e18f10c262
Author: Miklos Szeredi <miklos@szeredi.hu>
Date:   Sun Oct 30 15:02:09 2005 -0800

    [PATCH] open: cleanup in lookup_flags()
    
    lookup_flags() is only called from the non-create case, so it needn't check
    for O_CREAT|O_EXCL.
    
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Cc: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a92897286485735e3708af357f8bcaf0592bd77a
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 15:02:08 2005 -0800

    [PATCH] Don't uselessly export task_struct to userspace in core dumps
    
    task_struct is an internal structure to the kernel with a lot of good
    information, that is probably interesting in core dumps.  However there is
    no way for user space to know what format that information is in making it
    useless.
    
    I grepped the GDB 6.3 source code and NT_TASKSTRUCT while defined is not
    used anywhere else.  So I would be surprised if anyone notices it is
    missing.
    
    In addition exporting kernel pointers to all the interesting kernel data
    structures sounds like the very definition of an information leak.  I
    haven't a clue what someone with evil intentions could do with that
    information, but in any attack against the kernel it looks like this is the
    perfect tool for aiming that attack.
    
    So since NT_TASKSTRUCT is useless as currently defined and is potentially
    dangerous, let's just not export it.
    
    (akpm: Daniel Jacobowitz <dan@debian.org> "would be amazed" if anything was
    using NT_TASKSTRUCT).
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfc4f94d2ff95fc92127d3e512c1df7cab274fb8
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:02:03 2005 -0800

    [PATCH] remove timer debug field
    
    Remove timer_list.magic and associated debugging code.
    
    I originally added this when a spinlock was added to timer_list - this meant
    that an all-zeroes timer became illegal and init_timer() was required.
    
    That spinlock isn't even there any more, although timer.base must now be
    initialised.
    
    I'll keep this debugging code in -mm.
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89ada67917f516212452443a56b9fd3b65b74dc7
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sun Oct 30 15:01:59 2005 -0800

    [PATCH] Use alloc_percpu to allocate workqueues locally
    
    This patch makes the workqueus use alloc_percpu instead of an array.  The
    workqueues are placed on nodes local to each processor.
    
    The workqueue structure can grow to a significant size on a system with
    lots of processors if this patch is not applied.  64 bit architectures with
    all debugging features enabled and configured for 512 processors will not
    be able to boot without this patch.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d61780c0d384939ef31c46b47442854d5def4623
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 15:01:51 2005 -0800

    [PATCH] remove some more check_region stuff
    
    Removed some more references to check_region().
    
    I checked these changes into the 'checkreg' branch of
    rsync://rsync.kernel.org/pub/scm/linux/kernel/git/jgarzik/misc-2.6.git
    
    The only valid references remaining are in:
    drivers/scsi/advansys.c
    drivers/scsi/BusLogic.c
    drivers/cdrom/sbpcd.c
    sound/oss/pss.c
    
      Remove last vestiges of ide_check_region()
      drivers/char/specialix: trim trailing whitespace
      drivers/char/specialix: eliminate use of check_region()
      Remove outdated and unused references to check_region()
      [sound oss] remove check_region() usage from cs4232, wavfront
      [netdrvr eepro] trim trailing whitespace
      [netdrvr eepro] remove check_region() usage
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 34ad92c2388710cf24d27c896b8e6605c19a795c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 30 15:01:46 2005 -0800

    [PATCH] clarify help text for INIT_ENV_ARG_LIMIT
    
    Try to make the INIT_ENV_ARG_LIMIT help text more readable and
    understandable.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3ccc7f293f2534ce1cbe5f91b943096a04d93395
Author: Norbert Kiesel <nkiesel@tbdnetworks.com>
Date:   Sun Oct 30 15:01:43 2005 -0800

    [PATCH] delete 2 unreachable statements in drivers/block/paride/pf.c
    
    The last patch from Jens Axboe for drivers/block/paride/pf.c introduced
    pf_end_request() which sets pf_req to NULL.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5a0d52c7305cb3629ef0cc9e2e0e106869e1907
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:01:42 2005 -0800

    [PATCH] ntp whitespace cleanup
    
    Fix bizarre 4-space coding style in the NTP code.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1bb34a412750291e4e5e9f1d0fe7ae1b7e976098
Author: john stultz <johnstul@us.ibm.com>
Date:   Sun Oct 30 15:01:42 2005 -0800

    [PATCH] NTP shift_right cleanup
    
    Create a macro shift_right() that avoids the numerous ugly conditionals in the
    NTP code that look like:
    
            if(a < 0)
                    b = -(-a >> shift);
            else
                    b = a >> shift;
    
    Replacing it with:
    
            b = shift_right(a, shift);
    
    This should have zero effect on the logic, however it should probably have
    a bit of testing just to be sure.
    
    Also replace open-coded min/max with the macros.
    
    Signed-off-by : John Stultz <johnstul@us.ibm.com>
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9c0cbd54ce0397017a823484f9a8054ab369b8a2
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Oct 30 15:01:41 2005 -0800

    [PATCH] TIOC* compat ioctl handling
    
    TIOCSTART and TIOCSTOP are defined in asm/ioctls.h and asm/termios.h by
    various architectures but not actually implemented anywhere but in the IRIX
    compatibility layer, so remove their COMPATIBLE_IOCTL from parisc, ppc64
    and sparc64.
    
    Move the TIOCSLTC COMPATIBLE_IOCTL to common code, guided by an ifdef to
    only show up on architectures that support it (same as the code handling it
    in tty_ioctl.c), aswell as it's brother TIOCGLTC that wasn't handled so
    far.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 61e1a9ea4b425eb8c3b4965c35fe953bd881728f
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Oct 30 15:01:40 2005 -0800

    [PATCH] Add kthread_stop_sem()
    
    Enhance the kthread API by adding kthread_stop_sem, for use in stopping
    threads that spend their idle time waiting on a semaphore.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 83521d3eb8dd2dfb04dd78b4733e9766f61bb47e
Author: Christoph Hellwig <hch@lst.de>
Date:   Sun Oct 30 15:01:39 2005 -0800

    [PATCH] cfq-iosched: move tasklist walk to elevator.c
    
    We're trying to get rid of as much as possible tasklist walks, or at
    least moving them to core code.  This patch falls into the second
    category.
    
    Instead of walking the tasklist in cfq-iosched move that into
    elv_unregister.  The added benefit is that with this change the as
    ioscheduler might be might unloadable more easily aswell.
    
    The new code uses read_lock instead of read_lock_irq because the
    tasklist_lock only needs irq disabling for writers.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Acked-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8db2db1e6a8d323d87a67c5391d48fe2b97faf5
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:01:38 2005 -0800

    [PATCH] introduce setup_timer() helper
    
    Every user of init_timer() also needs to initialize ->function and ->data
    fields.  This patch adds a simple setup_timer() helper for that.
    
    The schedule_timeout() is patched as an example of usage.
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e4e23bccb127fac109e765dfb7f9372661cb415
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sun Oct 30 15:01:37 2005 -0800

    [PATCH] little de_thread() cleanup
    
    Trivial, saves one 'if' branch in de_thread().
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 833d304b22edff5cc687ab7e5549c2f0dcdd951a
Author: James Lamanna <jlamanna@gmail.com>
Date:   Sun Oct 30 15:00:16 2005 -0800

    [PATCH] reiserfs: [kv]free() checking cleanup
    
    Signed-off-by: James Lamanna <jlamanna@gmail.com>
    Signed-off-by: Domen Puncer <domen@coderock.org>
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit aaa4059bc2dca7fa816624a28db1958c3a22df9b
Author: Jan Kara <jack@suse.cz>
Date:   Sun Oct 30 15:00:16 2005 -0800

    [PATCH] ext3: Fix unmapped buffers in transaction's lists
    
    Fix the problem (BUG 4964) with unmapped buffers in transaction's
    t_sync_data list.  The problem is we need to call filesystem's own
    invalidatepage() from block_write_full_page().
    
    block_write_full_page() must call filesystem's invalidatepage().  Otherwise
    following nasty race can happen:
    
       proc 1                                        proc 2
       ------                                        ------
    - write some new data to 'offset'
      => bh gets to the transactions data list
                                                  - starts truncate
                                                    => i_size set to new size
    - mpage_writepages()
      - ext3_ordered_writepage() to 'offset'
        - block_write_full_page()
          - page->index > end_index+1
            - block_invalidatepage()
              - discard_buffer()
                - clear_buffer_mapped()
    
    - commit triggers and finds unmapped buffer - BOOM!
    
    Signed-off-by: Jan Kara <jack@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e812cb5226af32aec91bcbaa8365bd7f921b6ebb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Sun Oct 30 15:00:14 2005 -0800

    [PATCH] smsc-ircc2: PM cleanup - do not close device when suspending
    
    smsc-ircc2 - avoid closing network device when suspending; just release
    interrupt and disable DMA ourselves.  Also make sure to reset chip when
    resuming.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Cc: Jean Tourrilhes <jt@bougret.hpl.hp.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 17fd47ab4d33e764216b87006d8118fa050b4c92
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 15:00:13 2005 -0800

    [PATCH] ide-scsi highmem cleanup
    
    It's not necessary to test PageHighmem in here - kmap_atomic() does the right
    thing.
    
    Cc: Bartlomiej Zolnierkiewicz <B.Zolnierkiewicz@elka.pw.edu.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f1fc78a8c7f3a784b9fd1e07cc1438a0ea569555
Author: Bastian Blank <bastian@waldi.eu.org>
Date:   Sun Oct 30 15:00:12 2005 -0800

    [PATCH] s390, ccw - export modalias
    
    This patch exports modalias for ccw devices.
    
    So you can do:
     	modprobe `echo /sys/device/path_to_device/modalias`
    and the proper driver will automatically be loaded by userspace.
    
    Signed-off-by: Bastian Blank <waldi@debian.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1e8e338325fa0f2bd5c1c800086e900cf188d2cd
Author: Heiko Carstens <heiko.carstens@de.ibm.com>
Date:   Sun Oct 30 15:00:11 2005 -0800

    [PATCH] s390: export ipl device parameters
    
    Sysfs interface to export ipl device parameters.  Dependent on the ipl type
    the interface will look like this:
    
    - ccw ipl:
    
    /sys/firmware/ipl/device
    		 /ipl_type
    
    - fcp ipl:
    
    /sys/firmware/ipl/binary_parameter
    		 /bootprog
    		 /br_lba
    		 /device
    		 /ipl_type
    		 /lun
    		 /scp_data
    		 /wwpn
    
    - otherwise (unknown that is):
    
    /sys/firmware/ipl/ipl_type
    
    Acked-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Heiko Carstens <heiko.carstens@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed3cb6f039bb296457bfd2877cba6ad0287d8d54
Author: Richard Hitt <rbh00@utsglobal.com>
Date:   Sun Oct 30 15:00:10 2005 -0800

    [PATCH] s390: 3270 fullscreen view
    
          Martin Schwidefsky <schwidefsky@de.ibm.com>
    
    Fix fullscreen view of the 3270 device driver.
    
    Signed-off-by: Richard Hitt <rbh00@utsglobal.com>
    Signed-off-by: Martin Schwidefsky <schwidefsky@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d89ea9b8bb4c4ad63122cd2d2ee5110a52da51b8
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Oct 30 15:00:09 2005 -0800

    [PATCH] i386: use -mcpu, not -mtune, for GCCs older than 3.4
    
    I just noted that -mtune is used, which is only supported on recent GCCs; by
    reading http://gcc.gnu.org/gcc-3.4/changes.html, you see "-mcpu has been
    renamed to -mtune.", so for GCC < 3.4 we're not using any specific tuning in
    the appropriate cases.  However -mcpu is deprecated, so use -mtune when
    possible.
    
    This was introduced by commit e9d4dce954a60dc23dd1d967766ca2347b780e54 of the
    old tree (between 2.6.10-rc3 and 2.6.10) by Linus Torvalds, to remove the use
    of -march, since that could trigger gcc using SSE on its own.  But no
    attention was used about using -mcpu vs.  -mtune.
    
    And btw, the old 2.6.4 code (for instance) was:
    cflags-$(CONFIG_MPENTIUMII)     += $(call check_gcc,-march=pentium2,-march=i686)
    cflags-$(CONFIG_MPENTIUMIII)    += $(call check_gcc,-march=pentium3,-march=i686)
    cflags-$(CONFIG_MPENTIUMM)      += $(call check_gcc,-march=pentium3,-march=i686)
    cflags-$(CONFIG_MPENTIUM4)      += $(call check_gcc,-march=pentium4,-march=i686)
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6a351cfeadd4b56a2a0031020c0cfb07cc0337fb
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Oct 30 15:00:08 2005 -0800

    [PATCH] uml: remove old UM_FASTCALL, and make the thing work again
    
    This was used in the old dark age of 2.4, ARCH_CFLAGS doesn't work any more
    since some time, and UM_FASTCALL was never used in 2.6.
    
    Instead, reintroduce the thing more properly now, directly in
    include/asm-um/linkage.h.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b365157be3250a6b5948422ba65e05e5f964e150
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Oct 30 15:00:07 2005 -0800

    [PATCH] uml: fix "reuse i386 cpu optimizations"
    
    Remove RWSEM_GENERIC_SPINLOCK, it's now defined (only if needed) by the
    underlying arch/i386/Kconfig.cpu.  Leave it only for x86_64.  Even there, it's
    totally wrong, as they even have the code to support XCHG_ADD.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96d55b882b85b26711a06d8fb2c901df9d52a48b
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Oct 30 15:00:07 2005 -0800

    [PATCH] uml: reuse i386 cpu-specific tuning
    
    Make UML share the underlying cpu-specific tuning done on i386.
    
    Actually, for now many config options aren't used a lot - but that can be done
    later.  Also, UML relies on GCC optimization for things like memcpy and such
    more than i386, so specifying the correct -march and -mtune should be enough.
    Later, we may want to correct some other stuff.
    
    For instance, since FPU context switching, for us, is done (at least
    partially, i.e.  between our kernelspace and userspace) by the host, we may
    allow usage of FPU operations by GCC.  This doesn't hold for kernelspace vs.
    kernelspace, but we don't support preemption.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f3ac9fbf7a0b9493377ee88d9b5b2933ff3f7ade
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Sun Oct 30 15:00:06 2005 -0800

    [PATCH] m32r: SMC91x driver update
    
    Update SMC91x driver for m32r.
    
    - Remove needless NONCACHE_OFFSET adjustment.
      > [PATCH 2.6.14-rc4] m32r: NONCACHE_OFFSET in _port2addr
      > Change _port2addr() not to add NONCACHE_OFFSET.
      > Adding NONCACHE_OFFSET requires needless address adjusting by a driver
      > using ioremap() like a SMC91x driver.
    
    - Fix lots of warnings as following:
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c: In function `smc_reset':
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:324: warning: passing arg 2 of `_outw' makes integer from pointer without a cast
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:325: warning: passing arg 2 of `_outw' makes integer from pointer without a cast
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:341: warning: passing arg 2 of `_outw' makes integer from pointer without a cast
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:342: warning: passing arg 2 of `_outw' makes integer from pointer without a cast
      :
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:1915: warning: passing arg 1 of `_inw' makes integer from pointer without a cast
    /usr/src/ctest/git/kernel/drivers/net/smc91x.c:1915: warning: passing arg 1 of `_inw' makes integer from pointer without a cast
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1343f776c51ecbed89eff5e174188523c731a8fe
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Sun Oct 30 15:00:04 2005 -0800

    [PATCH] m32r: NONCACHE_OFFSET in _port2addr
    
    Change _port2addr() not to add NONCACHE_OFFSET.  Adding NONCACHE_OFFSET
    requires needless address adjusting by a driver using ioremap() like a
    SMC91x driver.
    
    Signed-off-by: Hayato Fujiwara <fujiwara@linux-m32r.org>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c978b0179b31600394d5ebdb0940b492ec05500f
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Sun Oct 30 15:00:04 2005 -0800

    [PATCH] m32r: fix #if warnings
    
    Fix warnings for #if directives.
    
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit baa0b84f104c8e78ddaa8816eb9deac0098429e6
Author: Hirokazu Takata <takata@linux-m32r.org>
Date:   Sun Oct 30 15:00:02 2005 -0800

    [PATCH] m32r: remove unused instructions
    
    Remove unused instructions for debugging.
    
    Signed-off-by: Naoto Sugai <sugai@isl.melco.co.jp>
    Signed-off-by: Hirokazu Takata <takata@linux-m32r.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb9289eb20df6b54214c45ac7c6bf5179a149026
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Sun Oct 30 15:00:01 2005 -0800

    [PATCH] introduce .valid callback for pm_ops
    
    Add pm_ops.valid callback, so only the available pm states show in
    /sys/power/state.  And this also makes an earlier states error report at
    enter_state before we do actual suspend/resume.
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0245b3e787dc3267a915e1f56419e7e9c197e148
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 15:00:01 2005 -0800

    [PATCH] swsusp: two simplifications
    
    The following patch simplifies the progress meter in disk.c:free_some_memory()
    and makes disk.c:pm_suspend_disk() call device_resume() explicitly in the
    suspend path.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e32a43efdc8175579cc91e8b620ac331376a437
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 15:00:00 2005 -0800

    [PATCH] swsusp: get rid of unnecessary wrapper function
    
    The following patch merges two functions in a trivial way.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Acked-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit de491861e1457c31aed6d44d96afb549365ff790
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Oct 30 14:59:59 2005 -0800

    [PATCH] swsusp: cleanups
    
    Reduce number of ifdefs somehow, and fix whitespace a bit.  No real code
    changes.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96bc7aec20b50761822f96130127b8e31e168af1
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Oct 30 14:59:58 2005 -0800

    [PATCH] swsusp: remove unneccessary includes
    
    Cleanup comments and remove unneccessary includes.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c1b4a5ca48831595979a850f40ced8e7da026f8
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 14:59:58 2005 -0800

    [PATCH] swsusp: rework memory freeing on resume
    
    The following patch makes swsusp use the PG_nosave and PG_nosave_free flags to
    mark pages that should be freed in case of an error during resume.
    
    This allows us to simplify the code and to use swsusp_free() in all of the
    swsusp's resume error paths, which makes them actually work.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a0f496517f3e28d651d0cbbcf2d4fb701ed6957e
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 14:59:57 2005 -0800

    [PATCH] swsusp: reduce the use of global variables
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 25761b6eb7b33823bcfff6bfe2a015badcd76fb8
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 14:59:56 2005 -0800

    [PATCH] swsusp: move snapshot functionality to separate file
    
    The following patch moves the functionality of swsusp related to creating and
    handling the snapshot of memory to a separate file, snapshot.c
    
    This should enable us to untangle the code in the future and eventually to
    implement some parts of swsusp.c in the user space.
    
    The patch does not change the code.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 351619baf9878731b4272fa10dda0f84f5582241
Author: Rafael J. Wysocki <rjw@sisk.pl>
Date:   Sun Oct 30 14:59:55 2005 -0800

    [PATCH] swsusp: rework image freeing
    
    The following patch makes swsusp use PG_nosave and PG_nosave_free flags to
    mark pages that should be freed after the state of the system has been
    restored from the image (or in case of an error during suspend).
    
    This allows us to avoid storing metadata in swap twice and to reduce the
    amount of memory needed by swsusp.  Additionally, it allows us to simplify
    the code by removing a couple of functions that are no longer necessary.
    
    Signed-off-by: Rafael J. Wysocki <rjw@sisk.pl>
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c32b6b8e524d2c337767d312814484d9289550cf
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Oct 30 14:59:54 2005 -0800

    [PATCH] create and destroy cpufreq sysfs entries based on cpu notifiers
    
    cpufreq entries in sysfs should only be populated when CPU is online state.
     When we either boot with maxcpus=x and then boot the other cpus by echoing
    to sysfs online file, these entries should be created and destroyed when
    CPU_DEAD is notified.  Same treatement as cache entries under sysfs.
    
    We place the processor in the lowest frequency, so hw managed P-State
    transitions can still work on the other threads to save power.
    
    Primary goal was to just make these directories appear/disapper dynamically.
    
    There is one in this patch i had to do, which i really dont like myself but
    probably best if someone handling the cpufreq infrastructure could give
    this code right treatment if this is not acceptable.  I guess its probably
    good for the first cut.
    
    - Converting lock_cpu_hotplug()/unlock_cpu_hotplug() to disable/enable preempt.
      The locking was smack in the middle of the notification path, when the
      hotplug is already holding the lock. I tried another solution to avoid this
      so avoid taking locks if we know we are from notification path. The solution
      was getting very ugly and i decided this was probably good for this iteration
      until someone who understands cpufreq could do a better job than me.
    
    (akpm: export cpucontrol to GPL modules: drivers/cpufreq/cpufreq_stats.c now
    does lock_cpu_hotplug())
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d434fca737bee0862625c2377b987a7713b6b487
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Oct 30 14:59:52 2005 -0800

    [PATCH] Remove cpu_sys_devices in cpufreq subsystem.
    
    cpu_sys_devices is redundant with the new API get_cpu_sysdev().  So nuking
    this usage since its not needed.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1aa1a9f98ffd06e288be4d85ed814c6cdbccce82
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Oct 30 14:59:50 2005 -0800

    [PATCH] create and destroy cache sysfs entries based on cpu notifiers
    
    cpu cache entries should be populated only when cpu is online and removed
    when they are logically offlined.
    
    Without which entries are not removed when cpu is offlined, or dont appear
    when we boot with maxcpus=1 and then kick the rest of the cpus via echo 1
    to the sysfs online file.
    
    - Changed __devinit to __cpuinit for consistency.
    - Changed sysfs_driver_register to register_cpu_notifier.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad74557a49d1dea428fb0ad60e75a5aa37610e1d
Author: Ashok Raj <ashok.raj@intel.com>
Date:   Sun Oct 30 14:59:49 2005 -0800

    [PATCH] introduce get_cpu_sysdev() to retrieve a sysfs entry for a cpu.
    
    Some modules creating sysfs entries under /sys/devices/system/cpu/cpuX/
    need to know the parent sysfs entry to make devices under them.  This will
    just return the sysfs entry for a given cpu.
    
    sysfs entries showing under each cpu sysfs can be easily created if such
    entries can be created by registering a sysfs driver for cpuclass.  The
    issue is when the entry is created the CPU may not be online, hence we
    would need to defer the creation until the online notification comes.
    
    Current users: cache entries for Intel CPU's and cpufreq subsystem.
    
    Signed-off-by: Ashok Raj <ashok.raj@intel.com>
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Cc: Dave Jones <davej@codemonkey.org.uk>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5d35704028d09a183448daceab5dcb94f21a3645
Author: Magnus Damm <magnus@valinux.co.jp>
Date:   Sun Oct 30 14:59:48 2005 -0800

    [PATCH] i386: srat on non-acpi hw fix
    
    This patch adds a check for the return value of acpi_find_root_pointer().
    Without this patch systems without ACPI support such as QEMU crashes when
    booting a NUMA kernel with CONFIG_ACPI_SRAT=y.
    
    Signed-off-by: Magnus Damm <magnus@valinux.co.jp>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6c180d94abdcfb77a2fe4275bd03687fa159acd7
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 14:59:47 2005 -0800

    [PATCH] i386 mpparse: Only ignore lapic information we can't store
    
    After staring at mpparse.c for a little longer I noticed that when we hit
    our limit of num_processors we are filtering out information about other
    processors that we can still store.
    
    This patch just reorders the code so we store everything we can.
    
    This should avoid the incorrect warning about our boot CPU not being listed
    by the BIOS that we are now getting in the kexec on panic case, and it
    should allow us to detect all apicid conflicts even when our physical
    number of cpus exceeds maxcpus.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 009b29d90f575a83eba185950a7182ab05e7741a
Author: Vivek Goyal <vgoyal@in.ibm.com>
Date:   Sun Oct 30 14:59:46 2005 -0800

    [PATCH] kdump/i386: apic verification failure fix
    
    o Removes the unnecessary call to local_irq_disable().
    
    o Kdump was failing while second kernel was coming up. Check for presence
      of boot cpu apic id was failing in (apic_id_registered), hence hitting
      BUG().
    
    o This should not have failed because before calling setup_local_APIC(), it is
      ensured that even if BIOS has not reported boot cpu, then hard set the
      prence of it. Problem happens because of usage of hard_smp_processor_id()
      which is hardcoded to zero in case of non SMP kernel. In kdump case second
      kernel can boot on a cpu whose boot cpu id is not zero.
    
    o Using boot_cpu_physical_apicid instead to hard set the presence of boot cpu.
    
    Signed-off-by: Vivek Goyal <vgoyal@in.ibm.com>
    Cc: "Eric W. Biederman" <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bda98685b855f71f7e2fc5378aa3cdfb24a9db65
Author: Ingo Molnar <mingo@elte.hu>
Date:   Sun Oct 30 14:59:44 2005 -0800

    [PATCH] x86: inline spin_unlock if !CONFIG_DEBUG_SPINLOCK and !CONFIG_PREEMPT
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c53117815771e1e84e6ba80a42fa1f8e330adb4d
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Oct 30 14:59:44 2005 -0800

    [PATCH] Clean up mtrr compat ioctl code
    
    Handle 32-bit mtrr ioctls in the mtrr driver instead of the ia32
    compatability layer.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit daedb82d6b54e58a66ad1dce3509e699a5bd1b18
Author: Kamble, Nitin A <nitin.a.kamble@intel.com>
Date:   Sun Oct 30 14:59:43 2005 -0800

    [PATCH] x86: vmx cpu feature detection
    
    If VMX feature is available in the CPU, this patch will make it visible in
    the /proc/cpuinfo with the cpuid detection.
    
    Signed-Off-By: Nitin A Kamble <nitin.a.kamble@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3d1675b41b02d64bd1185903ea0d25a8c0bb6dea
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 14:59:42 2005 -0800

    [PATCH] i386 kexec-on-panic: Don't shutdown the apics.
    
    It is dangerous to shutdown the apics in machine_crash_shutdown.
    
    With my previous patch to initialize apics in init_IRQ we should be able to
    boot a kernel without this.  As long as we reinitialize the APICs we don't
    care what state they were in during bootup.
    
    This should make machine_crash_shutdown noticeably more reliable.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f2b36db692b7ff6972320ad9839ae656a3b0ee3e
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 14:59:41 2005 -0800

    [PATCH] i386: move apic init in init_IRQs
    
    All kinds of ugliness exists because we don't initialize
    the apics during init_IRQs.
    - We calibrate jiffies in non apic mode even when we are using apics.
    - We have to have special code to initialize the apics when non-smp.
    - The legacy i8259 must exist and be setup correctly, even
      when we won't use it past initialization.
    - The kexec on panic code must restore the state of the io_apics.
    - init/main.c needs a special case for !smp smp_init on x86
    
    In addition to pure code movement I needed a couple
    of non-obvious changes:
    - Move setup_boot_APIC_clock into APIC_late_time_init for
      simplicity.
    - Use cpu_khz to generate a better approximation of loops_per_jiffies
      so I can verify the timer interrupt is working.
    - Call setup_apic_nmi_watchdog again after cpu_khz is initialized on
      the boot cpu.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 29b70081f7cb094513d5189e82d3478b50777a28
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 14:59:40 2005 -0800

    [PATCH] i386 nmi_watchdog: Merge check_nmi_watchdog fixes from x86_64
    
    The per cpu nmi watchdog timer is based on an event counter.  idle cpus
    don't generate events so the NMI watchdog doesn't fire and the test to see
    if the watchdog is working fails.
    
    - Add nmi_cpu_busy so idle cpus don't mess up the test.
    - kmalloc prev_nmi_count to keep kernel stack usage bounded.
    - Improve the error message on failure so there is enough
      information to debug problems.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fcfd636a728fe2b8fb8c8fd8c557302059580577
Author: Eric W. Biederman <ebiederm@xmission.com>
Date:   Sun Oct 30 14:59:39 2005 -0800

    [PATCH] i386 io_apic.c: Memorize at bootup where the i8259 is connected
    
    Currently we attempt to restore virtual wire mode on reboot, which only
    works if we can figure out where the i8259 is connected.  This is very
    useful when we kexec another kernel and likely helpful when dealing with a
    BIOS that make assumptions about how the system is setup.
    
    Since the acpi MADT table does not provide the location where the i8259 is
    connected we have to look at the hardware to figure it out.
    
    Most systems have the i8259 connected the local apic of the cpu so won't be
    affected but people running Opteron and some serverworks chipsets should be
    able to use kexec now.
    
    In addition this patch removes the hard coded assumption that the io_apic
    that delivers isa interrups is always known to the kernel as io_apic 0.  As
    there does not appear to be anything to guarantee that assumption is true.
    
    Signed-off-by: Eric W. Biederman <ebiederm@xmission.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9338316c9323682d32270d83b106472a50ab6da4
Author: Natalie Protasevich <Natalie.Protasevich@unisys.com>
Date:   Sun Oct 30 14:59:38 2005 -0800

    [PATCH] ES7000 platform update
    
    This is platform code update for ES7000: disables IRQ overrides for the
    recent ES7000 (Rascal/Zorro), cleans up the compile warning.  The patch
    only affects the ES7000 subarch.
    
    Signed-off-by: Natalie Protasevich <Natalie.Protasevich@unisys.com>
    Acked-by: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 30037f66ce63b6b7ca1fbfb06605b831f4a60df6
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Sun Oct 30 14:59:38 2005 -0800

    [PATCH] x86: when L3 is present show its size in /proc/cpuinfo
    
    The code that prints the cache size assumes that L3 always lives in chipset
    and is shared across CPUs.  Which is not really true.
    
    I think all the cachesizes reported by cpuid are in the processor itself.
    The attached patch changes the code to reflect that.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f014a556e714dfb02502e3be6146a39ca625f33c
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sun Oct 30 14:59:37 2005 -0800

    [PATCH] fixup bogus e820 entry with mem=
    
    This was reported because someone was getting oopses reading /proc/iomem.
    It was tracked down to a zero-sized 'struct resource' entry which was
    located right at 4GB.
    
    You need two conditions to hit this bug: a BIOS E820_RAM area starting at
    exactly the boundary where you specify mem= (to get a zero-sized entry),
    and for the legacy_init_iomem_resources() loop to skip that resource (which
    only happens at exactly 4G).
    
    I think the killing zero-sized e820 entry is the easiest way to fix this.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 750deaa4021da1cf9fdb1e20861a10c76fd7f2bc
Author: Aleksey Gorelov <aleksey_gorelov@phoenix.com>
Date:   Sun Oct 30 14:59:36 2005 -0800

    [PATCH] asus vt8235 router buggy bios workaround
    
    Hopefully fix http://bugzilla.kernel.org/show_bug.cgi?id=5235
    
    Similar problem has been reported before here:
    http://groups.google.com/group/linux.kernel/browse_thread/thread/def4ca19dbc3cd4/5cffbf349f2c87a4?tvc=2&q=Aleksey+Gorelov&hl=en#5cffbf349f2c87a4
    and was related to bug in BIOS reporting 82C686 router compatible to 586.
    
    I suspect BIOS on this board has similar issue: reports VT8235 router to be
    compatible with 586 one - which is obviously not true.  Patch from the link
    above has already incorporated in both 2.6 & 2.4 series, but might not work
    in this particular case.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 434440a2804639f11858d9d384c9505927feb186
Author: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
Date:   Sun Oct 30 14:59:35 2005 -0800

    [PATCH] x86: bug fix in P6 Machine check initialization
    
    Make P6 MCA initialization code complaint with guidelines in IA-32 SDM
    Vol3.  Bank 0 control register should not be set by OS and clear status
    registers on all banks on reset.
    
    This will prevent false MCE alarms on the systems that has some non-MCE
    information left-over in MC0_STATUS on reboot.
    
    Signed-off-by: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 251e6912df43df54570ed68aade703b329c6cd5b
Author: Zachary Amsden <zach@vmware.com>
Date:   Sun Oct 30 14:59:34 2005 -0800

    [PATCH] x86: add an accessor function for getting the per-CPU gdt
    
    Add an accessor function for getting the per-CPU gdt.  Callee must already
    have the CPU.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 72e12b76fe48d99d1deb417f177b10a9d99b2e74
Author: Zachary Amsden <zach@vmware.com>
Date:   Sun Oct 30 14:59:33 2005 -0800

    [PATCH] x86: bogus tls from gdt
    
    The per-CPU initialization code is copying in bogus data into
    thread->tls_array.  Note that it copies &per_cpu(cpu_gdt_table, cpu), not
    &per_cpu(cpu_gdt_table, cpu)[GDT_ENTRY_TLS_MIN).  That is totally broken
    and unnecessary.  Make the initialization explicitly NULL.
    
    Signed-off-by: Zachary Amsden <zach@vmware.com>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9f40a72a7e819789f66910c8cd60aab005cdb413
Author: Natalie Protasevich <Natalie.Protasevich@unisys.com>
Date:   Sun Oct 30 14:59:32 2005 -0800

    [PATCH] x86: hot plug CPU to support physical add of new processors
    
    The patch allows physical bring-up of new processors (not initially present
    in the configuration) from facilities such as driver/utility implemented on
    a platform.  The actual method of making processors available is up to the
    platform implementation.
    
    Signed-off-by: Natalie Protasevich <Natalie.Protasevich@unisys.com>
    Cc: Shaohua Li <shaohua.li@intel.com>
    Cc: Ashok Raj <ashok.raj@intel.com>
    Cc: Zwane Mwaikambo <zwane@holomorphy.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ca140fdadbe4c031a20a970f46163908d09a116b
Author: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
Date:   Sun Oct 30 14:59:31 2005 -0800

    [PATCH] i386: little pgtable.h consolidation vs 2/3level
    
    Join together some common functions (pmd_page{,_kernel}) over 2level and
    3level pages.
    
    Signed-off-by: Paolo 'Blaisorblade' Giarrusso <blaisorblade@yahoo.it>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d16aafff2570abb557a5cb18c98027aabd602e22
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Sun Oct 30 14:59:30 2005 -0800

    [PATCH] intel_cacheinfo: remove MAX_CACHE_LEAVES limit
    
    Initial internal version of Venki's cpuid(4) deterministic cache parameter
    identification patch used static arrays of size MAX_CACHE_LEAVES.  Final patch
    which made to the base used dynamic array allocation, with this
    MAX_CACHE_LEAVES limit hunk still in place.
    
    cpuid(4) already has a mechanism to find out the number of cache levels
    implemented and there is no need for this hardcoded MAX_CACHE_LEAVES limit.
    
    So remove the MAX_CACHE_LEAVES limit from the routine which calculates the
    number of cache levels using cpuid(4)
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Cc: Venkatesh Pallipadi <venkatesh.pallipadi@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d5cd4aadd3d220afac8e3e6d922e333592551f7d
Author: Bart Oldeman <bartoldeman@users.sourceforge.net>
Date:   Sun Oct 30 14:59:29 2005 -0800

    [PATCH] x86: initialise tss->io_bitmap_owner to something
    
    There exists a field io_bitmap_owner in the TSS that is only checked, but
    never set to anything else but NULL.
    
    Signed-off-by: Bart Oldeman <bartoldeman@users.sourceforge.net>
    Acked-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08967f941ad897b2f7c2f99e886c75d6319e5087
Author: Shaohua Li <shaohua.li@intel.com>
Date:   Sun Oct 30 14:59:28 2005 -0800

    [PATCH] FPU context corrupted after resume
    
    mxcsr_feature_mask_init isn't needed in suspend/resume time (we can use
    boot time mask).  And actually it's harmful, as it clear task's saved
    fxsave in resume.  This bug is widely seen by users using zsh.
    
    (akpm: my eyes.  Fixed some surrounding whitespace mess)
    
    Signed-off-by: Shaohua Li <shaohua.li@intel.com>
    Cc: Pavel Machek <pavel@ucw.cz>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8896fab35e62aa748a5ce62ac773508e51f10be1
Author: Jan Beulich <JBeulich@novell.com>
Date:   Sun Oct 30 14:59:27 2005 -0800

    [PATCH] x86: cmpxchg improvements
    
    This adjusts i386's cmpxchg patterns so that
    
    - for word and long cmpxchg-es the compiler can utilize all possible
      registers
    
    - cmpxchg8b gets disabled when the minimum specified hardware architectur
      doesn't support it (like was already happening for the byte, word, and
      long ones).
    
    Signed-off-by: Jan Beulich <jbeulich@novell.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dacb16b1a034fa7a0b868ee30758119fbfd90bc1
Author: Mathieu Desnoyers <mathieu.desnoyers@polymtl.ca>
Date:   Sun Oct 30 14:59:25 2005 -0800

    [PATCH] i386 and x86_64 TSC set_cyc2ns_scale imprecision
    
    I just found out that some precision is unnecessarily lost in the
    arch/i386/kernel/timers/timer_tsc.c:set_cyc2ns_scale function.  It uses a
    cpu_mhz parameter when it could use a cpu_khz.  In the specific case of an
    Intel P4 running at 3001.171 Mhz, the truncation to 3001 Mhz leads to an
    imprecision of 19 microseconds per second : this is very sad for a timer with
    nearly nanosecond accuracy.
    
    Fix the x86_64 architecture too.
    
    Cc: george anzinger <george@mvista.com>
    Cc: john stultz <johnstul@us.ibm.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bfd51626cbf61cb23f787d8ff972ef0d5ddacc0b
Author: Davi Arnaut <davi.arnaut@gmail.com>
Date:   Sun Oct 30 14:59:24 2005 -0800

    [PATCH] SELinux: remove unecessary size_t checks in selinuxfs
    
    This patch removes a bunch of unecessary checks for (size_t < 0) in
    selinuxfs.
    
    Signed-off-by: James Morris <jmorris@namei.org>
    Acked-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ce4c2bd1a9dfebaefadc2d34b17c6f12101751be
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 30 14:59:23 2005 -0800

    [PATCH] selinux-canonicalize-getxattr-fix
    
    security/selinux/hooks.c: In function `selinux_inode_getxattr':
    security/selinux/hooks.c:2193: warning: unused variable `sbsec'
    
    Cc: James Morris <jmorris@namei.org>
    Cc: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d381d8a9a08cac9824096213069159be17fd2e2f
Author: James Morris <jmorris@namei.org>
Date:   Sun Oct 30 14:59:22 2005 -0800

    [PATCH] SELinux: canonicalize getxattr()
    
    This patch allows SELinux to canonicalize the value returned from
    getxattr() via the security_inode_getsecurity() hook, which is called after
    the fs level getxattr() function.
    
    The purpose of this is to allow the in-core security context for an inode
    to override the on-disk value.  This could happen in cases such as
    upgrading a system to a different labeling form (e.g.  standard SELinux to
    MLS) without needing to do a full relabel of the filesystem.
    
    In such cases, we want getxattr() to return the canonical security context
    that the kernel is using rather than what is stored on disk.
    
    The implementation hooks into the inode_getsecurity(), adding another
    parameter to indicate the result of the preceding fs-level getxattr() call,
    so that SELinux knows whether to compare a value obtained from disk with
    the kernel value.
    
    We also now allow getxattr() to work for mountpoint labeled filesystems
    (i.e.  mount with option context=foo_t), as we are able to return the
    kernel value to the user.
    
    Signed-off-by: James Morris <jmorris@namei.org>
    Signed-off-by: Stephen Smalley <sds@tycho.nsa.gov>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 89d155ef62e5e0c10e4b37aaa5056f0beafe10e6
Author: James Morris <jmorris@namei.org>
Date:   Sun Oct 30 14:59:21 2005 -0800

    [PATCH] SELinux: convert to kzalloc
    
    This patch converts SELinux code from kmalloc/memset to the new kazalloc
    unction.  On i386, this results in a text saving of over 1K.
    
    Before:
    text    data     bss     dec     hex filename
    86319    4642   15236  106197   19ed5 security/selinux/built-in.o
    
    After:
    text    data     bss     dec     hex filename
    85278    4642   15236  105156   19ac4 security/selinux/built-in.o
    
    Signed-off-by: James Morris <jmorris@namei.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0d078f6f96809c95c69b99d6605a502b0ac63d3d
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Oct 30 14:59:20 2005 -0800

    [PATCH] CONFIG_IA32
    
    Add CONFIG_X86_32 for i386.  This allows selecting options that only apply
    to 32-bit systems.
    
    (X86 && !X86_64) becomes X86_32
    (X86 ||  X86_64) becomes X86
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4276d32260662d5401a15a0a46e506fb5c8ab563
Author: Brian Gerst <bgerst@didntduck.org>
Date:   Sun Oct 30 14:59:18 2005 -0800

    [PATCH] Remove redundant configs.o
    
    Since CONFIG_IKCONFIG_PROC already depends on CONFIG_IKCONFIG, adding
    configs.o again is redundant.
    
    Signed-off-by: Brian Gerst <bgerst@didntduck.org>
    Cc: Sam Ravnborg <sam@ravnborg.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 95dbf5c4be080e94880ead13773d1a14eec8f4de
Merge: 054ee8f... 6e9d6b8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 20:24:34 2005 -0500

    Merge branch 'master'

commit 46595ffbfc8ba79f27cdf8a029ee068b3b34c69f
Author: John Bowler <jbowler@acm.org>
Date:   Sun Oct 30 23:40:26 2005 +0000

    [ARM] arch-ixp4xx/io.h: make const args const to remove compiler warning
    
    Compiler warning fix; the inline callers of these APIs were changed
    to have const vaddr parameters.
    
    Signed-off-by: John Bowler <jbowler@acm.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 77bb86a1b9f8b872d8efc33c4f4359f809220252
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Oct 30 23:39:02 2005 +0000

    [ARM] Support pcmcia slot on sharp sl-5500
    
    This adds support for pcmcia slot on sharp zaurus sl-5500.
    pxa2xx_sharpsl.c thus becomes quite miss-named, but I guess that
    is not worth fixing?
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1753298947afe5eb56da755bc057f1868f345ec1
Author: Pavel Machek <pavel@ucw.cz>
Date:   Sun Oct 30 23:38:01 2005 +0000

    [ARM] Sharp sl-5500 touchscreen support
    
    This adds support for sharp zaurus sl-5500 touchscreen.  It introduces
    some not-too-nice ifs, but I guess copying whole ucb1x00-ts.c would be
    bad idea...
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 5ecdb02c9d8b7f76108da6fcb2a66fdf5eed3116
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Sun Oct 30 23:36:37 2005 +0000

    [ARM] fix ixp2x00 defconfig NR_UARTS options
    
    IXDP2[48]00 have only 1 UART on the board.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7012f9084e3ef27028b4f2ab37428662766a743a
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Sun Oct 30 23:35:58 2005 +0000

    [ARM] fix bogus cast in IXP2000 I/O macro
    
    Physical addresses are not valid pointers of any sort and should
    not be cast to such.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a2436b22deac7834e0f87897b207a2dc1407dc40
Author: Jayachandran C <jchandra@digeo.com>
Date:   Sun Oct 30 23:26:16 2005 +0000

    [SERIAL] remove unneeded code from serial_core.c
    
    This patch fixes an issue reported by Coverity in serial/serial_core.c
    
    Error reported: Variable "&((info)->tty)->flags" tracked as NULL was passed to a
    function that dereferences it.
    
    The later statements in the function assumes 'info->tty != NULL', so this
    check is not necessary.  Probably a 'BUG_ON(info->tty == NULL)' can be added.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f741a1aab5fd7892927208ca37eb86b9ea85784a
Author: Nicolas Pitre <nico@cam.org>
Date:   Sun Oct 30 23:08:03 2005 +0000

    [ARM] 3049/1: More optimized libgcc functions
    
    Patch from Nicolas Pitre
    
    This patch gets rid of the last C implementations of needed libgcc
    functions for the kernel, replacing them with optimized assembly
    versions.
    
    Those functions are:
    
    __ashldi3
    __ashrdi3
    __lshrdi3
    __muldi3
    __ucmpdi2
    
    The first 3 were lifted from gcc, the other two were written from scratch.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6e9d6b8ee4e0c37d3952256e6472c57490d6780d
Merge: d3f8cf4... a9524a7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Oct 30 14:47:58 2005 -0800

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit d3f8cf489993658702b7e58ff37162246263de53
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Sun Oct 30 17:38:25 2005 -0500

    [PATCH] NFS: Remove unbalanced spin_unlock() calls from nfs_refresh_inode()
    
    Doh!
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 08db2a701bd63d0e36f06a29137bf016a907cf71
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sun Oct 30 14:40:07 2005 -0800

    Fix PIIX4 SMB region size
    
    Petr Vandrovec correctly points out that the SMB region of the PIIX4 is
    just 16 bytes, not 32.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit cb7610d018235653c73ff1fea79b962c16317474
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 21:12:08 2005 +0000

    [ARM] Clean up dmabounce
    
    Encapsulate pool data into dmabounce_pool.  Only account successful
    allocations.  Use dma_mapping_error().
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 07b188ab773e183871e57b33ae37bf635c9f12ba
Merge: 47c564e... 9f75e1e...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Sun Oct 30 21:00:04 2005 +0000

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit a9524a76f70f3343e4be27f95a7e92a8ba5f9009
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 14:39:11 2005 -0500

    [libata] use dev_printk() throughout drivers
    
    A few drivers were not following the standard meme of printing out
    their driver name and version at module load time; this is fixed
    as well.

commit 1d1fd66c45fa78c6fed61612e14dad0e24c815c2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 19:07:59 2005 +0000

    [ARM] Turn ARM RiscPC PCF8583 i2c RTC driver into a proper module
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b4c2803ca8ad7bb1aad215d89532e24488e9e68e
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 19:03:21 2005 +0000

    [ARM] Make v6 copypage function static and cleanup pgprots
    
    We know what pgprot we're going to use, so don't #define it.  Also,
    since we select the nonaliasing/aliasing copypage implementation at
    run time, there's no point having it globally visible.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d362979aa2b031b91ee12122e5c4cad89577d8d3
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 19:01:43 2005 +0000

    [ARM] Re-organise die()
    
    Provide __die() which can be called from various contexts to provide
    an oops report.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8576762ff5d109b841fcf4e7d3883e0cf794f3cf
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 16:33:11 2005 +0000

    [DRIVER MODEL] Add missing driver_unregister to IMX serial driver
    
    Fix the IMX serial driver to unregister its driver structure
    when it is unloaded.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e32e28edc3d894201e15b19df627af66023aa91f
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 16:32:27 2005 +0000

    [DRIVER MODEL] Add missing driver_unregister in i2c-s3c2410 failure path.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dc07845d0ce20d771fb96b0a5db57ffec2a89d3e
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Oct 30 14:50:25 2005 +0000

    [ARM] 3069/1: Add spitz irda platform support
    
    Patch from Richard Purdie
    
    Add spitz irda platform support
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ca1140b57d0a203f3db848ba5f63609a8ccd92b6
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Oct 30 14:38:53 2005 +0000

    [ARM] 3068/1: Add corgi irda platform support
    
    Patch from Richard Purdie
    
    Add corgi irda platform support
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8e4b8715d815a29b4f0655e698a0c5f8d05b6dc9
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Oct 30 14:38:52 2005 +0000

    [ARM] 3067/1: Add poodle irda platform support
    
    Patch from Richard Purdie
    
    Add poodle irda platform support
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 91e1a512291f258746611c18ec4970a81c9f311b
Author: Richard Purdie <rpurdie@rpsys.net>
Date:   Sun Oct 30 14:38:52 2005 +0000

    [ARM] 3066/1: Fix PXA irda driver suspend/resume functions
    
    Patch from Richard Purdie
    
    Update the PXA irda driver to match the recent platform device
    suspend/resume level changes.
    
    Signed-off-by: Richard Purdie <rpurdie@rpsys.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fbf30fbaa61595e9026f628f3913888b0df2b288
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 07:57:31 2005 -0500

    [libata ata_piix] fix native mode probe, after recent updates

commit 5f6b5b973a125de0dbe236ce659a495787c81ff0
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Oct 30 22:55:52 2005 +1100

    powerpc: Fix time setting bug on 32-bit
    
    This fixes a bug where settimeofday would set the wrong parameters
    in do_gtod, resulting in gettimeofday returning a value about 4
    hours after the correct time.  The bug was that we divided a
    negative 64-bit value with do_div, which treated it as unsigned
    and gave us a result that was approximately 1.8e10 too large
    (since the divisor was 1e9).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6248e64721a4f3db9fbedd207206f47835acce44
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 06:42:18 2005 -0500

    [libata ata_piix] use dev_printk() where appropriate

commit 0f0d5192696eeb3072944a4a813809cc2c85891a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 06:41:29 2005 -0500

    [libata] fix legacy IDE probing
    
    ata_pci_init_one() receives an array of struct ata_port_info.  Recent
    updates to the code had always obtained port information from
    array element 0, rather than array element N.
    
    Change to avoid hardcoding port_info[0], thereby restoring proper
    hardware information to secondary legacy ports.

commit 936d8592654bb97d5706a73c0e2a6339b090f7fb
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Sun Oct 30 10:15:58 2005 +0000

    [MMC] Use command class to determine read-only status
    
    If a card doesn't support the "write block" command class then
    any attempts to open the device should reflect this by denying
    write access.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9e1d98c5d8613d917004a193d4f989a3544d8fef
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sun Oct 30 10:10:13 2005 +0000

    [MMC] pxamci doesn't need to include asm/irq.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 054ee8fd39f1b5d50e803f126b63f400d631eea4
Merge: f0612bb... a7dac44...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 04:50:22 2005 -0500

    Merge branch 'upstream'

commit a7dac447bb9cef27d4d29cdf63e2d7809c50b1f4
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 04:44:42 2005 -0500

    [libata] change ata_qc_complete() to take error mask as second arg
    
    The second argument to ata_qc_complete() was being used for two
    purposes: communicate the ATA Status register to the completion
    function, and indicate an error.  On legacy PCI IDE hardware, the latter
    is often implicit in the former.  On more modern hardware, the driver
    often completely emulated a Status register value, passing ATA_ERR as an
    indication that something went wrong.
    
    Now that previous code changes have eliminated the need to use drv_stat
    arg to communicate the ATA Status register value, we can convert it to a
    mask of possible error classes.
    
    This will lead to more flexible error handling in the future.

commit f0612bbc41f65f5a684f69d714a1a17a6f0f40c5
Merge: b0c4e14... 81cfb88...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 01:58:18 2005 -0500

    Merge branch 'upstream'

commit 81cfb8864c73230eb1c37753aba517db15cf4d8f
Merge: 0169e28... 9f75e1e...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 30 01:56:31 2005 -0500

    Merge branch 'master'

commit 9f75e1eff3edb2bb07349b94c28f4f2a6c66ca43
Merge: b145946... 1b40efd...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Oct 29 21:48:06 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/herbert/crypto-2.6

commit b1459461f1e0abd5c28317d6bff6f2ca612a719d
Author: Nikita Danilov <nikita@clusterfs.com>
Date:   Sat Oct 29 18:17:02 2005 -0700

    [PATCH] mm/filemap.c:filemap_populate(): move export.
    
    move EXPORT_SYMBOL(filemap_populate) to the proper place: just after
    function itself: it's easy to miss that function is exported otherwise.
    
    Signed-off-by: Nikita Danilov <nikita@clusterfs.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2f96996de0eda378df2a5f857ee1ef615ae10a4f
Author: John Hawkes <hawkes@sgi.com>
Date:   Sat Oct 29 18:17:01 2005 -0700

    [PATCH] mm: wider use of for_each_*cpu()
    
    In 'mm' change the explicit use of a for-loop using NR_CPUS into the
    general for_each_cpu() constructs.  This widens the scope of potential
    future optimizations of the general constructs, as well as takes advantage
    of the existing optimizations of first_cpu() and next_cpu(), which is
    advantageous when the true CPU count is much smaller than NR_CPUS.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fcbb23050936d69de8087d4b311eaf55cb42740
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Oct 29 18:17:00 2005 -0700

    [PATCH] Remove policy contextualization from mbind
    
    Policy contextualization is only useful for task based policies and not for
    vma based policies.  It may be useful to define allowed nodes that are not
    accessible from this thread because other threads may have access to these
    nodes.  Without this patch strange memory policy situations may cause an
    application to fail with out of memory.
    
    Example:
    
    Let's say we have two threads A and B that share the same address space and
    a huge array computational array X.
    
    Thread A is restricted by its cpuset to nodes 0 and 1 and thread B is
    restricted by its cpuset to nodes 2 and 3.
    
    Thread A now wants to restrict allocations to the first node and thus
    applies a BIND policy on X to node 0 and 2.  The cpuset limits this to node
    0.  Thus pages for X must be allocated on node 0 now.
    
    Thread B now touches a page that has never been used in X and faults in a
    page.  According to the BIND policy of the vma for X the page must be
    allocated on page 0.  However, the cpuset of B does not allow allocation on
    0 and 1.  Now the application fails in alloc_pages with out of memory.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8bccd85ffbaf8ff1448d1235fa6594e207695531
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Oct 29 18:16:59 2005 -0700

    [PATCH] Implement sys_* do_* layering in the memory policy layer.
    
    - Do a separation between do_xxx and sys_xxx functions. sys_xxx functions
      take variable sized bitmaps from user space as arguments. do_xxx functions
      take fixed sized nodemask_t as arguments and may be used from inside the
      kernel. Doing so simplifies the initialization code. There is no
      fs = kernel_ds assumption anymore.
    
    - Split up get_nodes into get_nodes (which gets the node list) and
      contextualize_policy which restricts the nodes to those accessible
      to the task and updates cpusets.
    
    - Add comments explaining limitations of bind policy
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Cc: Andi Kleen <ak@muc.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bb7e7e032d2cb8e0e9a88a2be209de5e61033b39
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:58 2005 -0700

    [PATCH] memory hotplug: ppc64 specific hot-add functions
    
    Here is a set of ppc64 specific patches that at least allow
    compilation/booting with the following configurations:
    
    FLATMEM
    SPARSEMEN
    SPARSEMEM + MEMORY_HOTPLUG
    
    Signed-off-by: Mike Kravetz <kravetz@us.ibm.com>
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 05039b926374212b2d861860cf54b9e839d4dd76
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:57 2005 -0700

    [PATCH] memory hotplug: i386 addition functions
    
    Adds the necessary for non-NUMA hot-add of highmem to an existing zone on
    i386.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 61b13993a81866fc1d4830dfab80530c9c061e37
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:56 2005 -0700

    [PATCH] memory hotplug: call setup_per_zone_pages_min after hotplug
    
    From: IWAMOTO Toshihiro <iwamoto@valinux.co.jp>
    > I found the tests does not work well with Dave's patchset.
    > I've found the followings:
    >
    > 	- setup_per_zone_pages_min() calls should be added in
    > 	   capture_page_range() and online_pages()
    > 	- lru_add_drain() should be called before try_to_migrate_pages()
    
    The following patch deals with the first item.
    
    Signed-off-by: IWAMOTO Toshihiro <iwamoto@valinux.co.jp>
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b0acbec1bed75ec1e1daa7f7006323a2a2b2844
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:55 2005 -0700

    [PATCH] memory hotplug: move section_mem_map alloc to sparse.c
    
    This basically keeps up from having to extern __kmalloc_section_memmap().
    
    The vaddr_in_vmalloc_area() helper could go in a vmalloc header, but that
    header gets hard to work with, because it needs some arch-specific macros.
    Just stick it in here for now, instead of creating another header.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Lion Vollnhals <webmaster@schiggl.de>
    Signed-off-by: Jiri Slaby <xslaby@fi.muni.cz>
    Signed-off-by: Yasunori Goto <y-goto@jp.fujitsu.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 3947be1969a9ce455ec30f60ef51efb10e4323d1
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:54 2005 -0700

    [PATCH] memory hotplug: sysfs and add/remove functions
    
    This adds generic memory add/remove and supporting functions for memory
    hotplug into a new file as well as a memory hotplug kernel config option.
    
    Individual architecture patches will follow.
    
    For now, disable memory hotplug when swsusp is enabled.  There's a lot of
    churn there right now.  We'll fix it up properly once it calms down.
    
    Signed-off-by: Matt Tolentino <matthew.e.tolentino@intel.com>
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit bdc8cb984576ab5b550c8b24c6fa111a873503e3
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:53 2005 -0700

    [PATCH] memory hotplug locking: zone span seqlock
    
    See the "fixup bad_range()" patch for more information, but this actually
    creates a the lock to protect things making assumptions about a zone's size
    staying constant at runtime.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 208d54e5513c0c02d85af0990901354c74364d5c
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:52 2005 -0700

    [PATCH] memory hotplug locking: node_size_lock
    
    pgdat->node_size_lock is basically only neeeded in one place in the normal
    code: show_mem(), which is the arch-specific sysrq-m printing function.
    
    Strictly speaking, the architectures not doing memory hotplug do no need this
    locking in show_mem().  However, they are all included for completeness.  This
    should also make any future consolidation of all of the implementations a
    little more straightforward.
    
    This lock is also held in the sparsemem code during a memory removal, as
    sections are invalidated.  This is the place there pfn_valid() is made false
    for a memory area that's being removed.  The lock is only required when doing
    pfn_valid() operations on memory which the user does not already have a
    reference on the page, such as in show_mem().
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c6a57e19e464db118dc4ab9cfe9e9748c6d630a0
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:52 2005 -0700

    [PATCH] memory hotplug prep: fixup bad_range()
    
    When doing memory hotplug operations, the size of existing zones can obviously
    change.  This means that zone->zone_{start_pfn,spanned_pages} can change.
    
    There are currently no locks that protect these structure members.  However,
    they are rarely accessed at runtime.  Outside of swsusp, the only place that I
    can find is bad_range().
    
    So, split bad_range() up into two pieces: one that needs to be locked and
    anther that doesn't.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4ca644d970bf2542623228a4624af356d20ca267
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:51 2005 -0700

    [PATCH] memory hotplug prep: __section_nr helper
    
    A little helper that we use in the hotplug code.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ed8ece2ec8d3c2031b1a1a0737568bb0d49454e0
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:50 2005 -0700

    [PATCH] memory hotplug prep: break out zone initialization
    
    If a zone is empty at boot-time and then hot-added to later, it needs to run
    the same init code that would have been run on it at boot.
    
    This patch breaks out zone table and per-cpu-pages functions for use by the
    hotplug code.  You can almost see all of the free_area_init_core() function on
    one page now.  :)
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2774812f417db562f0d659d2c1b5755ba35d2770
Author: Dave Hansen <haveblue@us.ibm.com>
Date:   Sat Oct 29 18:16:49 2005 -0700

    [PATCH] memory hotplug prep: kill local_mapnr
    
    The following series implements memory hot-add for ppc64 and i386.  There are
    x86_64 and ia64 implementations that will be submitted shortly as well,
    through the normal maintainers.
    
    This patch:
    
    local_mapnr is unused, except for in an alpha header.  Keep the alpha one,
    kill the rest.
    
    Signed-off-by: Dave Hansen <haveblue@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1a44e149084d772a1bcf4cdbdde8a013a8a1cfde
Author: Andrea Arcangeli <andrea@suse.de>
Date:   Sat Oct 29 18:16:48 2005 -0700

    [PATCH] .text page fault SMP scalability optimization
    
    We had a problem on ppc64 where with more than 4 threads a large system
    wouldn't scale well while faulting in the .text (most of the time was spent
    in the kernel despite it was an userland compute intensive app).  The
    reason is the useless overwrite of the same pte from all cpu.
    
    I fixed it this way (verified on an older kernel but the forward port is
    almost identical).  This will benefit all archs not just ppc64.
    
    Signed-off-by: Andrea Arcangeli <andrea@suse.de>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2e9b367c2273ed21c9852a04d90944d472c4f3e6
Author: Adam Litke <agl@us.ibm.com>
Date:   Sat Oct 29 18:16:47 2005 -0700

    [PATCH] hugetlb: overcommit accounting check
    
    Basic overcommit checking for hugetlb_file_map() based on an implementation
    used with demand faulting in SLES9.
    
    Since demand faulting can't guarantee the availability of pages at mmap
    time, this patch implements a basic sanity check to ensure that the number
    of huge pages required to satisfy the mmap are currently available.
    Despite the obvious race, I think it is a good start on doing proper
    accounting.  I'd like to work towards an accounting system that mimics the
    semantics of normal pages (especially for the MAP_PRIVATE/COW case).  That
    work is underway and builds on what this patch starts.
    
    Huge page shared memory segments are simpler and still maintain their
    commit on shmget semantics.
    
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c887265977213985091476be40ab11dfdcb4caf
Author: Adam Litke <agl@us.ibm.com>
Date:   Sat Oct 29 18:16:46 2005 -0700

    [PATCH] hugetlb: demand fault handler
    
    Below is a patch to implement demand faulting for huge pages.  The main
    motivation for changing from prefaulting to demand faulting is so that huge
    page memory areas can be allocated according to NUMA policy.
    
    Thanks to consolidated hugetlb code, switching the behavior requires changing
    only one fault handler.  The bulk of the patch just moves the logic from
    hugelb_prefault() to hugetlb_pte_fault() and find_get_huge_page().
    
    Signed-off-by: Adam Litke <agl@us.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 551110a94aa15890d1709b179c4be1e66ff6db53
Author: Krishnakumar R <rkrishnakumar@gmail.com>
Date:   Sat Oct 29 18:16:45 2005 -0700

    [PATCH] hugetlb: remove repeated code
    
    Clean up some repeated code related to HugeTLB.  hugetlb_zero_setup would
    have already allocated the file->f_op.
    
    Signed-off-by: Krishnakumar. R <rkrishnakumar@gmail.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0b1533f67cc1a595457af6d05ab3510294e2ca9c
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 18:16:45 2005 -0700

    [PATCH] cleanup hugelbfs_forget_inode
    
    Reformat hugelbfs_forget_inode and add the missing but harmless
    write_inode_now call.  It looks the same as generic_forget_inode now except
    for the call to truncate_hugepages instead of truncate_inode_pages.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6b09b9df05f319ec27e0dae1721efe097b8b23ad
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 18:16:44 2005 -0700

    [PATCH] kill hugelbfs_do_delete_inode
    
    hugetlbfs_do_delete_inode is the same as generic_delete_inode now, so remove
    it in favour of the latter.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 149f4211afda85743e3a3db3fa3abbd81506cf2b
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 18:16:43 2005 -0700

    [PATCH] hugetlbfs: clean up hugetlbfs_delete_inode
    
    Make hugetlbfs looks the same as generic_detelte_inode, fixing a bunch of
    missing updates to it at the same time.  Rename it to
    hugetlbfs_do_delete_inode and add a real hugetlbfs_delete_inode that
    implements ->delete_inode.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 96527980d4cb8f65fe49efdbc4ab92c0837d42f6
Author: Christoph Hellwig <hch@lst.de>
Date:   Sat Oct 29 18:16:42 2005 -0700

    [PATCH] hugetlbfs: move free_inodes accounting
    
    Move hugetlbfs accounting into ->alloc_inode / ->destroy_inode.  This keeps
    the code simpler, fixes a loeak where a failing inode allocation wouldn't
    decrement the counter and moves hugetlbfs_delete_inode and
    hugetlbfs_forget_inode closer to their generic counterparts.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b8072f099b7829a6ff3eba618e1d079a81f753f8
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:41 2005 -0700

    [PATCH] mm: update comments to pte lock
    
    Updated several references to page_table_lock in common code comments.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f412ac08c9861b4791af0145934c22f1458686da
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:41 2005 -0700

    [PATCH] mm: fix rss and mmlist locking
    
    A couple of oddities were guarded by page_table_lock, no longer properly
    guarded when that is split.
    
    The mm_counters of file_rss and anon_rss: make those an atomic_t, or an
    atomic64_t if the architecture supports it, in such a case.  Definitions by
    courtesy of Christoph Lameter: who spent considerable effort on more scalable
    ways of counting, but found insufficient benefit in practice.
    
    And adding an mm with swap to the mmlist for swapoff: the list is well-
    guarded by its own lock, but the list_empty check now has to be repeated
    inside it.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4c21e2f2441dc5fbb957b030333f5a3f2d02dea7
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:40 2005 -0700

    [PATCH] mm: split page table lock
    
    Christoph Lameter demonstrated very poor scalability on the SGI 512-way, with
    a many-threaded application which concurrently initializes different parts of
    a large anonymous area.
    
    This patch corrects that, by using a separate spinlock per page table page, to
    guard the page table entries in that page, instead of using the mm's single
    page_table_lock.  (But even then, page_table_lock is still used to guard page
    table allocation, and anon_vma allocation.)
    
    In this implementation, the spinlock is tucked inside the struct page of the
    page table page: with a BUILD_BUG_ON in case it overflows - which it would in
    the case of 32-bit PA-RISC with spinlock debugging enabled.
    
    Splitting the lock is not quite for free: another cacheline access.  Ideally,
    I suppose we would use split ptlock only for multi-threaded processes on
    multi-cpu machines; but deciding that dynamically would have its own costs.
    So for now enable it by config, at some number of cpus - since the Kconfig
    language doesn't support inequalities, let preprocessor compare that with
    NR_CPUS.  But I don't think it's worth being user-configurable: for good
    testing of both split and unsplit configs, split now at 4 cpus, and perhaps
    change that to 8 later.
    
    There is a benefit even for singly threaded processes: kswapd can be attacking
    one part of the mm while another part is busy faulting.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b38c6845b695141259019e2b7c0fe6c32a6e720d
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:39 2005 -0700

    [PATCH] mm: uml kill unused
    
    In worrying over the various pte operations in different architectures, I came
    across some unused functions in UML: remove mprotect_kernel_vm,
    protect_vm_page and addr_pte.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f5cd76c185a4c8aeb5fe1e560e3612bfc050c35
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:38 2005 -0700

    [PATCH] mm: uml pte atomicity
    
    There's usually a good reason when a pte is examined without the lock; but it
    makes me nervous when the pointer is dereferenced more than once.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a7e4705b24e611574e5c23105005ffdff694fd58
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:37 2005 -0700

    [PATCH] mm: cris v32 mmu_context_lock
    
    The cris v32 switch_mm guards get_mmu_context with next->page_table_lock: good
    it's not really SMP yet, since get_mmu_context messes with global variables
    affecting other mms.  Replace by global mmu_context_lock.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 92dc6fcc845d99e87d8168e0786796525832d130
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:36 2005 -0700

    [PATCH] mm: parisc pte atomicity
    
    There's a worrying function translation_exists in parisc cacheflush.h,
    unaffected by split ptlock since flush_dcache_page is using it on some other
    mm, without any relevant lock.  Oh well, make it a slightly more robust by
    factoring the pfn check within it.  And it looked liable to confuse a
    camouflaged swap or file entry with a good pte: fix that too.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 69b0475456ff7ef520e16f69d7a15c0d68b74e64
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:36 2005 -0700

    [PATCH] mm: arm ready for split ptlock
    
    Prepare arm for the split page_table_lock: three issues.
    
    Signal handling's preserve and restore of iwmmxt context currently involves
    reading and writing that context to and from user space, while holding
    page_table_lock to secure the user page(s) against kswapd.  If we split the
    lock, then the structure might span two pages, secured by to read into and
    write from a kernel stack buffer, copying that out and in without locking (the
    structure is 160 bytes in size, and here we're near the top of the kernel
    stack).  Or would the overhead be noticeable?
    
    arm_syscall's cmpxchg emulation use pte_offset_map_lock, instead of
    pte_offset_map and mm-wide page_table_lock; and strictly, it should now also
    take mmap_sem before descending to pmd, to guard against another thread
    munmapping, and the page table pulled out beneath this thread.
    
    Updated two comments in fault-armv.c.  adjust_pte is interesting, since its
    modification of a pte in one part of the mm depends on the lock held when
    calling update_mmu_cache for a pte in some other part of that mm.  This can't
    be done with a split page_table_lock (and we've already taken the lowest lock
    in the hierarchy here): so we'll have to disable split on arm, unless
    CONFIG_CPU_CACHE_VIPT to ensures adjust_pte never used.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 60ec5585496871345c1a8113d7b60ed9d9474866
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:34 2005 -0700

    [PATCH] mm: i386 sh sh64 ready for split ptlock
    
    Use pte_offset_map_lock, instead of pte_offset_map (or inappropriate
    pte_offset_kernel) and mm-wide page_table_lock, in sundry arch places.
    
    The i386 vm86 mark_screen_rdonly: yes, there was and is an assumption that the
    screen fits inside the one page table, as indeed it does.
    
    The sh __do_page_fault: which handles both kernel faults (without lock) and
    user mm faults (locked - though it set_pte without locking before).
    
    The sh64 flush_cache_range and helpers: which wrongly thought callers held
    page_table_lock before (only its tlb_start_vma did, and no longer does so);
    moved the flush loop down, and adjusted the large versus small range decision
    to consider a range which spans page tables as large.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit deceb6cd17e6dfafe4c4f81b1b4153bc41b2cb70
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:33 2005 -0700

    [PATCH] mm: follow_page with inner ptlock
    
    Final step in pushing down common core's page_table_lock.  follow_page no
    longer wants caller to hold page_table_lock, uses pte_offset_map_lock itself;
    and so no page_table_lock is taken in get_user_pages itself.
    
    But get_user_pages (and get_futex_key) do then need follow_page to pin the
    page for them: take Daniel's suggestion of bitflags to follow_page.
    
    Need one for WRITE, another for TOUCH (it was the accessed flag before:
    vanished along with check_user_page_readable, but surely get_numa_maps is
    wrong to mark every page it finds as accessed), another for GET.
    
    And another, ANON to dispose of untouched_anonymous_page: it seems silly for
    that to descend a second time, let follow_page observe if there was no page
    table and return ZERO_PAGE if so.  Fix minor bug in that: check VM_LOCKED -
    make_pages_present ought to make readonly anonymous present.
    
    Give get_numa_maps a cond_resched while we're there.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c34d1b4d165c67b966bca4aba026443d7ff161eb
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:32 2005 -0700

    [PATCH] mm: kill check_user_page_readable
    
    check_user_page_readable is a problematic variant of follow_page.  It's used
    only by oprofile's i386 and arm backtrace code, at interrupt time, to
    establish whether a userspace stackframe is currently readable.
    
    This is problematic, because we want to push the page_table_lock down inside
    follow_page, and later split it; whereas oprofile is doing a spin_trylock on
    it (in the i386 case, forgotten in the arm case), and needs that to pin
    perhaps two pages spanned by the stackframe (which might be covered by
    different locks when we split).
    
    I think oprofile is going about this in the wrong way: it doesn't need to know
    the area is readable (neither i386 nor arm uses read protection of user
    pages), it doesn't need to pin the memory, it should simply
    __copy_from_user_inatomic, and see if that succeeds or not.  Sorry, but I've
    not got around to devising the sparse __user annotations for this.
    
    Then we can eliminate check_user_page_readable, and return to a single
    follow_page without the __follow_page variants.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c0718806cf955d5eb51ea77bffb5b21d9bba4972
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:31 2005 -0700

    [PATCH] mm: rmap with inner ptlock
    
    rmap's page_check_address descend without page_table_lock.  First just
    pte_offset_map in case there's no pte present worth locking for, then take
    page_table_lock for the full check, and pass ptl back to caller in the same
    style as pte_offset_map_lock.  __xip_unmap, page_referenced_one and
    try_to_unmap_one use pte_unmap_unlock.  try_to_unmap_cluster also.
    
    page_check_address reformatted to avoid progressive indentation.  No use is
    made of its one error code, return NULL when it fails.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 67b02f119df50ffad5a4e9e53ea4c896535862cd
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:31 2005 -0700

    [PATCH] mm: xip_unmap ZERO_PAGE fix
    
    Small fix to the PageReserved patch: the mips ZERO_PAGE(address) depends on
    address, so __xip_unmap is wrong to initialize page with that before address
    is initialized; and in fact must re-evaluate it each iteration.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 508034a32b819a2d40aa7ac0dbc8cd2e044c2de6
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:30 2005 -0700

    [PATCH] mm: unmap_vmas with inner ptlock
    
    Remove the page_table_lock from around the calls to unmap_vmas, and replace
    the pte_offset_map in zap_pte_range by pte_offset_map_lock: all callers are
    now safe to descend without page_table_lock.
    
    Don't attempt fancy locking for hugepages, just take page_table_lock in
    unmap_hugepage_range.  Which makes zap_hugepage_range, and the hugetlb test in
    zap_page_range, redundant: unmap_vmas calls unmap_hugepage_range anyway.  Nor
    does unmap_vmas have much use for its mm arg now.
    
    The tlb_start_vma and tlb_end_vma in unmap_page_range are now called without
    page_table_lock: if they're implemented at all, they typically come down to
    flush_cache_range (usually done outside page_table_lock) and flush_tlb_range
    (which we already audited for the mprotect case).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f4f8c164cb4af1432cc25eda82928ea4519ba72
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:29 2005 -0700

    [PATCH] mm: unlink vma before pagetables
    
    In most places the descent from pgd to pud to pmd to pte holds mmap_sem
    (exclusively or not), which ensures that free_pgtables cannot be freeing page
    tables from any level at the same time.  But truncation and reverse mapping
    descend without mmap_sem.
    
    No problem: just make sure that a vma is unlinked from its prio_tree (or
    nonlinear list) and from its anon_vma list, after zapping the vma, but before
    freeing its page tables.  Then neither vmtruncate nor rmap can reach that vma
    whose page tables are now volatile (nor do they need to reach it, since all
    its page entries have been zapped by this stage).
    
    The i_mmap_lock and anon_vma->lock already serialize this correctly; but the
    locking hierarchy is such that we cannot take them while holding
    page_table_lock.  Well, we're trying to push that down anyway.  So in this
    patch, move anon_vma_unlink and unlink_file_vma into free_pgtables, at the
    same time as moving page_table_lock around calls to unmap_vmas.
    
    tlb_gather_mmu and tlb_finish_mmu then fall outside the page_table_lock, but
    we made them preempt_disable and preempt_enable earlier; and a long source
    audit of all the architectures has shown no problem with removing
    page_table_lock from them.  free_pgtables doesn't need page_table_lock for
    itself, nor for what it calls; tlb->mm->nr_ptes is usually protected by
    page_table_lock, but partly by non-exclusive mmap_sem - here it's decremented
    with exclusive mmap_sem, or mm_users 0.  update_hiwater_rss and
    vm_unacct_memory don't need page_table_lock either.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 663b97f7efd001b0c56bd5fce059c5272725b86f
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:28 2005 -0700

    [PATCH] mm: flush_tlb_range outside ptlock
    
    There was one small but very significant change in the previous patch:
    mprotect's flush_tlb_range fell outside the page_table_lock: as it is in 2.4,
    but that doesn't prove it safe in 2.6.
    
    On some architectures flush_tlb_range comes to the same as flush_tlb_mm, which
    has always been called from outside page_table_lock in dup_mmap, and is so
    proved safe.  Others required a deeper audit: I could find no reliance on
    page_table_lock in any; but in ia64 and parisc found some code which looks a
    bit as if it might want preemption disabled.  That won't do any actual harm,
    so pending a decision from the maintainers, disable preemption there.
    
    Remove comments on page_table_lock from flush_tlb_mm, flush_tlb_range and
    flush_tlb_page entries in cachetlb.txt: they were rather misleading (what
    generic code does is different from what usually happens), the rules are now
    changing, and it's not yet clear where we'll end up (will the generic
    tlb_flush_mmu happen always under lock?  never under lock?  or sometimes under
    and sometimes not?).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 705e87c0c3c38424f7f30556c85bc20e808d2f59
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:27 2005 -0700

    [PATCH] mm: pte_offset_map_lock loops
    
    Convert those common loops using page_table_lock on the outside and
    pte_offset_map within to use just pte_offset_map_lock within instead.
    
    These all hold mmap_sem (some exclusively, some not), so at no level can a
    page table be whipped away from beneath them.  But whereas pte_alloc loops
    tested with the "atomic" pmd_present, these loops are testing with pmd_none,
    which on i386 PAE tests both lower and upper halves.
    
    That's now unsafe, so add a cast into pmd_none to test only the vital lower
    half: we lose a little sensitivity to a corrupt middle directory, but not
    enough to worry about.  It appears that i386 and UML were the only
    architectures vulnerable in this way, and pgd and pud no problem.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8f4e2101fd7df9031a754eedb82e2060b51f8c45
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:26 2005 -0700

    [PATCH] mm: page fault handler locking
    
    On the page fault path, the patch before last pushed acquiring the
    page_table_lock down to the head of handle_pte_fault (though it's also taken
    and dropped earlier when a new page table has to be allocated).
    
    Now delete that line, read "entry = *pte" without it, and go off to this or
    that page fault handler on the basis of this unlocked peek.  Usually the
    handler can proceed without the lock, relying on the subsequent locked
    pte_same or pte_none test to back out when necessary; though do_wp_page needs
    the lock immediately, and do_file_page doesn't check (if there's a race,
    install_page just zaps the entry and reinstalls it).
    
    But on those architectures (notably i386 with PAE) whose pte is too big to be
    read atomically, if SMP or preemption is enabled, do_swap_page and
    do_file_page might cause irretrievable damage if passed a Frankenstein entry
    stitched together from unrelated parts.  In those configs, "pte_unmap_same"
    has to take page_table_lock, validate orig_pte still the same, and drop
    page_table_lock before unmapping, before proceeding.
    
    Use pte_offset_map_lock and pte_unmap_unlock throughout the handlers; but lock
    avoidance leaves more lone maps and unmaps than elsewhere.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b462705ac679f6195d1b23a752cda592d9107495
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:24 2005 -0700

    [PATCH] mm: arches skip ptlock
    
    Convert those few architectures which are calling pud_alloc, pmd_alloc,
    pte_alloc_map on a user mm, not to take the page_table_lock first, nor drop it
    after.  Each of these can continue to use pte_alloc_map, no need to change
    over to pte_alloc_map_lock, they're neither racy nor swappable.
    
    In the sparc64 io_remap_pfn_range, flush_tlb_range then falls outside of the
    page_table_lock: that's okay, on sparc64 it's like flush_tlb_mm, and that has
    always been called from outside of page_table_lock in dup_mmap.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c74df32c724a1652ad8399b4891bb02c9d43743a
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:23 2005 -0700

    [PATCH] mm: ptd_alloc take ptlock
    
    Second step in pushing down the page_table_lock.  Remove the temporary
    bridging hack from __pud_alloc, __pmd_alloc, __pte_alloc: expect callers not
    to hold page_table_lock, whether it's on init_mm or a user mm; take
    page_table_lock internally to check if a racing task already allocated.
    
    Convert their callers from common code.  But avoid coming back to change them
    again later: instead of moving the spin_lock(&mm->page_table_lock) down,
    switch over to new macros pte_alloc_map_lock and pte_unmap_unlock, which
    encapsulate the mapping+locking and unlocking+unmapping together, and in the
    end may use alternatives to the mm page_table_lock itself.
    
    These callers all hold mmap_sem (some exclusively, some not), so at no level
    can a page table be whipped away from beneath them; and pte_alloc uses the
    "atomic" pmd_present to test whether it needs to allocate.  It appears that on
    all arches we can safely descend without page_table_lock.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1bb3630e89cb8a7b3d3807629c20c5bad88290ff
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:22 2005 -0700

    [PATCH] mm: ptd_alloc inline and out
    
    It seems odd to me that, whereas pud_alloc and pmd_alloc test inline, only
    calling out-of-line __pud_alloc __pmd_alloc if allocation needed,
    pte_alloc_map and pte_alloc_kernel are entirely out-of-line.  Though it does
    add a little to kernel size, change them to macros testing inline, calling
    __pte_alloc or __pte_alloc_kernel to allocate out-of-line.  Mark none of them
    as fastcalls, leave that to CONFIG_REGPARM or not.
    
    It also seems more natural for the out-of-line functions to leave the offset
    calculation and map to the inline, which has to do it anyway for the common
    case.  At least mremap move wants __pte_alloc without _map.
    
    Macros rather than inline functions, certainly to avoid the header file issues
    which arise from CONFIG_HIGHPTE needing kmap_types.h, but also in case any
    architectures I haven't built would have other such problems.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 872fec16d9a0ed3b75b8893aa217e49cca575ee5
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:21 2005 -0700

    [PATCH] mm: init_mm without ptlock
    
    First step in pushing down the page_table_lock.  init_mm.page_table_lock has
    been used throughout the architectures (usually for ioremap): not to serialize
    kernel address space allocation (that's usually vmlist_lock), but because
    pud_alloc,pmd_alloc,pte_alloc_kernel expect caller holds it.
    
    Reverse that: don't lock or unlock init_mm.page_table_lock in any of the
    architectures; instead rely on pud_alloc,pmd_alloc,pte_alloc_kernel to take
    and drop it when allocating a new one, to check lest a racing task already
    did.  Similarly no page_table_lock in vmalloc's map_vm_area.
    
    Some temporary ugliness in __pud_alloc and __pmd_alloc: since they also handle
    user mms, which are converted only by a later patch, for now they have to lock
    differently according to whether or not it's init_mm.
    
    If sources get muddled, there's a danger that an arch source taking
    init_mm.page_table_lock will be mixed with common source also taking it (or
    neither take it).  So break the rules and make another change, which should
    break the build for such a mismatch: remove the redundant mm arg from
    pte_alloc_kernel (ppc64 scrapped its distinct ioremap_mm in 2.6.13).
    
    Exceptions: arm26 used pte_alloc_kernel on user mm, now pte_alloc_map; ia64
    used pte_alloc_map on init_mm, now pte_alloc_kernel; parisc had bad args to
    pmd_alloc and pte_alloc_kernel in unused USE_HPPA_IOREMAP code; ppc64
    map_io_page forgot to unlock on failure; ppc mmu_mapin_ram and ppc64 im_free
    took page_table_lock for no good reason.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 46dea3d092d23a58b42499cc8a21de0fad079f4a
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:20 2005 -0700

    [PATCH] mm: ia64 use expand_upwards
    
    ia64 has expand_backing_store function for growing its Register Backing Store
    vma upwards.  But more complete code for this purpose is found in the
    CONFIG_STACK_GROWSUP part of mm/mmap.c.  Uglify its #ifdefs further to provide
    expand_upwards for ia64 as well as expand_stack for parisc.
    
    The Register Backing Store vma should be marked VM_ACCOUNT.  Implement the
    intention of growing it only a page at a time, instead of passing an address
    outside of the vma to handle_mm_fault, with unknown consequences.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f449952bc8bde7fbc73c6d20dff92b627a21f8b9
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:19 2005 -0700

    [PATCH] mm: mm_struct hiwaters moved
    
    Slight and timid rearrangement of mm_struct: hiwater_rss and hiwater_vm were
    tacked on the end, but it seems better to keep them near _file_rss, _anon_rss
    and total_vm, in the same cacheline on those arches verified.
    
    There are likely to be more profitable rearrangements, but less obvious (is it
    good or bad that saved_auxv[AT_VECTOR_SIZE] isolates cpu_vm_mask and context
    from many others?), needing serious instrumentation.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 365e9c87a982c03d0af3886e29d877f581b59611
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:18 2005 -0700

    [PATCH] mm: update_hiwaters just in time
    
    update_mem_hiwater has attracted various criticisms, in particular from those
    concerned with mm scalability.  Originally it was called whenever rss or
    total_vm got raised.  Then many of those callsites were replaced by a timer
    tick call from account_system_time.  Now Frank van Maarseveen reports that to
    be found inadequate.  How about this?  Works for Frank.
    
    Replace update_mem_hiwater, a poor combination of two unrelated ops, by macros
    update_hiwater_rss and update_hiwater_vm.  Don't attempt to keep
    mm->hiwater_rss up to date at timer tick, nor every time we raise rss (usually
    by 1): those are hot paths.  Do the opposite, update only when about to lower
    rss (usually by many), or just before final accounting in do_exit.  Handle
    mm->hiwater_vm in the same way, though it's much less of an issue.  Demand
    that whoever collects these hiwater statistics do the work of taking the
    maximum with rss or total_vm.
    
    And there has been no collector of these hiwater statistics in the tree.  The
    new convention needs an example, so match Frank's usage by adding a VmPeak
    line above VmSize to /proc/<pid>/status, and also a VmHWM line above VmRSS
    (High-Water-Mark or High-Water-Memory).
    
    There was a particular anomaly during mremap move, that hiwater_vm might be
    captured too high.  A fleeting such anomaly remains, but it's quickly
    corrected now, whereas before it would stick.
    
    What locking?  None: if the app is racy then these statistics will be racy,
    it's not worth any overhead to make them exact.  But whenever it suits,
    hiwater_vm is updated under exclusive mmap_sem, and hiwater_rss under
    page_table_lock (for now) or with preemption disabled (later on): without
    going to any trouble, minimize the time between reading current values and
    updating, to minimize those occasions when a racing thread bumps a count up
    and back down in between.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 861f2fb8e796022b4928cab9c74fca6681a1c557
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:17 2005 -0700

    [PATCH] mm: zap_pte out of line
    
    There used to be just one call to zap_pte, but it shouldn't be inline now
    there are two.  Check for the common case pte_none before calling, and move
    its rss accounting up into install_page or install_file_pte - which helps the
    next patch.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit d0de32d9b71e11cc51618c2045086e9694093d01
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:16 2005 -0700

    [PATCH] mm: do_mremap current mm
    
    Cleanup: relieve do_mremap from its surfeit of current->mms.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e9bef07ce5a342aa6246ebc5c20829d0d5d63d0
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:15 2005 -0700

    [PATCH] mm: do_swap_page race major
    
    Small adjustment: do_swap_page should report its !pte_same race as a major
    fault if it had to read into swap cache, because whatever raced with it will
    have found page already in cache and reported minor fault.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 86d912f41dca32eca8827f2f878139735e69dc28
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:14 2005 -0700

    [PATCH] mm: zap_pte_range dec rss
    
    Small adjustment: zap_pte_range decrement its rss counts from 0 then finally
    add, avoiding negations - we don't have or need a sub_mm_rss.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8c10376271e097fa13cda956e1b2f3cb7e4d4dd9
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:13 2005 -0700

    [PATCH] mm: copy_one_pte inc rss
    
    Small adjustment, following Nick's suggestion: it's more straightforward for
    copy_pte_range to let copy_one_pte do the rss incrementation, than use an
    index it passed back.  Saves a #define, and 16 bytes of .text.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b5810039a54e5babf428e9a1e89fc1940fabff11
Author: Nick Piggin <nickpiggin@yahoo.com.au>
Date:   Sat Oct 29 18:16:12 2005 -0700

    [PATCH] core remove PageReserved
    
    Remove PageReserved() calls from core code by tightening VM_RESERVED
    handling in mm/ to cover PageReserved functionality.
    
    PageReserved special casing is removed from get_page and put_page.
    
    All setting and clearing of PageReserved is retained, and it is now flagged
    in the page_alloc checks to help ensure we don't introduce any refcount
    based freeing of Reserved pages.
    
    MAP_PRIVATE, PROT_WRITE of VM_RESERVED regions is tentatively being
    deprecated.  We never completely handled it correctly anyway, and is be
    reintroduced in future if required (Hugh has a proof of concept).
    
    Once PageReserved() calls are removed from kernel/power/swsusp.c, and all
    arch/ and driver code, the Set and Clear calls, and the PG_reserved bit can
    be trivially removed.
    
    Last real user of PageReserved is swsusp, which uses PageReserved to
    determine whether a struct page points to valid memory or not.  This still
    needs to be addressed (a generic page_is_ram() should work).
    
    A last caveat: the ZERO_PAGE is now refcounted and managed with rmap (and
    thus mapcounted and count towards shared rss).  These writes to the struct
    page could cause excessive cacheline bouncing on big systems.  There are a
    number of ways this could be addressed if it is an issue.
    
    Signed-off-by: Nick Piggin <npiggin@suse.de>
    
    Refcount bug fix for filemap_xip.c
    
    Signed-off-by: Carsten Otte <cotte@de.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9c98d0287de42221c624482fd4f8d485c98ab22
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:10 2005 -0700

    [PATCH] mm: m68k kill stram swap
    
    Please, please now delete the Atari CONFIG_STRAM_SWAP code.  It may be
    excellent and ingenious code, but its reference to swap_vfsmnt betrays that it
    hasn't been built since 2.5.1 (four years old come December), it's delving
    deep into matters which are the preserve of core mm code, its only purpose is
    to give the more conscientious mm guys an anxiety attack from time to time;
    yet we keep on breaking it more and more.
    
    If you want to use RAM for swap, then if the MTD driver does not already
    provide just what you need, I'm sure David could be persuaded to add the
    extra.  But you'd also like to be able to allocate extents of that swap for
    other use: we can give you a core interface for that if you need.  But unbuilt
    for four years suggests to me that there's no need at all.
    
    I cannot swear the patch below won't break your build, but believe so.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 147efea8ebb034b48aee806caae1da9a2ee41b38
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:09 2005 -0700

    [PATCH] mm: sh64 hugetlbpage.c
    
    The sh64 hugetlbpage.c seems to be erroneous, left over from a bygone age,
    clashing with the common hugetlb.c.  Replace it by a copy of the sh
    hugetlbpage.c.  Except, delete that mk_pte_huge macro neither uses.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Acked-by: Paul Mundt <lethal@linux-sh.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7ee78232501ea9de2b6c8f10d32c9a0fee541357
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:08 2005 -0700

    [PATCH] mm: dup_mmap down new mmap_sem
    
    One anomaly remains from when Andrea rationalized the responsibilities of
    mmap_sem and page_table_lock: in dup_mmap we add vmas to the child holding its
    page_table_lock, but not the mmap_sem which normally guards the vma list and
    rbtree.  Which could be an issue for unuse_mm: though since it just walks down
    the list (today with page_table_lock, tomorrow not), it's probably okay.  Will
    need a memory barrier?  Oh, keep it simple, Nick and I agreed, no harm in
    taking child's mmap_sem here.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd3e42fcc888a773572282575d2fdbf5cfd6216e
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:06 2005 -0700

    [PATCH] mm: dup_mmap use oldmm more
    
    Use the parent's oldmm throughout dup_mmap, instead of perversely going back
    to current->mm.  (Can you hear the sigh of relief from those mpnts?  Usually I
    squash them, but not today.)
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ae859762332f19bfc06f4c4a1b1fefb41e9e1084
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:05 2005 -0700

    [PATCH] mm: batch updating mm_counters
    
    tlb_finish_mmu used to batch zap_pte_range's update of mm rss, which may be
    worthwhile if the mm is contended, and would reduce atomic operations if the
    counts were atomic.  Let zap_pte_range now batch its updates to file_rss and
    anon_rss, per page-table in case we drop the lock outside; and copy_pte_range
    batch them too.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4294621f41a85497019fae64341aa5351a1921b7
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:05 2005 -0700

    [PATCH] mm: rss = file_rss + anon_rss
    
    I was lazy when we added anon_rss, and chose to change as few places as
    possible.  So currently each anonymous page has to be counted twice, in rss
    and in anon_rss.  Which won't be so good if those are atomic counts in some
    configurations.
    
    Change that around: keep file_rss and anon_rss separately, and add them
    together (with get_mm_rss macro) when the total is needed - reading two
    atomics is much cheaper than updating two atomics.  And update anon_rss
    upfront, typically in memory.c, not tucked away in page_add_anon_rmap.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 404351e67a9facb475abf1492245374a28d13e90
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:04 2005 -0700

    [PATCH] mm: mm_init set_mm_counters
    
    How is anon_rss initialized?  In dup_mmap, and by mm_alloc's memset; but
    that's not so good if an mm_counter_t is a special type.  And how is rss
    initialized?  By set_mm_counter, all over the place.  Come on, we just need to
    initialize them both at once by set_mm_counter in mm_init (which follows the
    memcpy when forking).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fc2acab31be8e869b2d5f6de12f557f6f054f19c
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:03 2005 -0700

    [PATCH] mm: tlb_finish_mmu forget rss
    
    zap_pte_range has been counting the pages it frees in tlb->freed, then
    tlb_finish_mmu has used that to update the mm's rss.  That got stranger when I
    added anon_rss, yet updated it by a different route; and stranger when rss and
    anon_rss became mm_counters with special access macros.  And it would no
    longer be viable if we're relying on page_table_lock to stabilize the
    mm_counter, but calling tlb_finish_mmu outside that lock.
    
    Remove the mmu_gather's freed field, let tlb_finish_mmu stick to its own
    business, just decrement the rss mm_counter in zap_pte_range (yes, there was
    some point to batching the update, and a subsequent patch restores that).  And
    forget the anal paranoia of first reading the counter to avoid going negative
    - if rss does go negative, just fix that bug.
    
    Remove the mmu_gather's flushes and avoided_flushes from arm and arm26: no use
    was being made of them.  But arm26 alone was actually using the freed, in the
    way some others use need_flush: give it a need_flush.  arm26 seems to prefer
    spaces to tabs here: respect that.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4d6ddfa9242bc3d27fb0f7248f6fdee0299c731f
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:02 2005 -0700

    [PATCH] mm: tlb_is_full_mm was obscure
    
    tlb_is_full_mm?  What does that mean?  The TLB is full?  No, it means that the
    mm's last user has gone and the whole mm is being torn down.  And it's an
    inline function because sparc64 uses a different (slightly better)
    "tlb_frozen" name for the flag others call "fullmm".
    
    And now the ptep_get_and_clear_full macro used in zap_pte_range refers
    directly to tlb->fullmm, which would be wrong for sparc64.  Rather than
    correct that, I'd prefer to scrap tlb_is_full_mm altogether, and change
    sparc64 to just use the same poor name as everyone else - is that okay?
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 15a23ffa2fc91cebdac44d4aee994f59d5c28dc0
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:01 2005 -0700

    [PATCH] mm: tlb_gather_mmu get_cpu_var
    
    tlb_gather_mmu dates from before kernel preemption was allowed, and uses
    smp_processor_id or __get_cpu_var to find its per-cpu mmu_gather.  That works
    because it's currently only called after getting page_table_lock, which is not
    dropped until after the matching tlb_finish_mmu.  But don't rely on that, it
    will soon change: now disable preemption internally by proper get_cpu_var in
    tlb_gather_mmu, put_cpu_var in tlb_finish_mmu.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7be7a546994f1222b2312fd348da14e16b6b7b42
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:16:00 2005 -0700

    [PATCH] mm: move_page_tables by extents
    
    Speeding up mremap's moving of ptes has never been a priority, but the locking
    will get more complicated shortly, and is already too baroque.
    
    Scrap the current one-by-one moving, do an extent at a time: curtailed by end
    of src and dst pmds (have to use PMD_SIZE: the way pmd_addr_end gets elided
    doesn't match this usage), and by latency considerations.
    
    One nice property of the old method is lost: it never allocated a page table
    unless absolutely necessary, so you could free empty page tables by mremapping
    to and fro.  Whereas this way, it allocates a dst table wherever there was a
    src table.  I keep diving in to reinstate the old behaviour, then come out
    preferring not to clutter how it now is.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 65500d234e74fc4e8f18e1a429bc24e51e75de4a
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:59 2005 -0700

    [PATCH] mm: page fault handlers tidyup
    
    Impose a little more consistency on the page fault handlers do_wp_page,
    do_swap_page, do_anonymous_page, do_no_page, do_file_page: why not pass their
    arguments in the same order, called the same names?
    
    break_cow is all very well, but what it did was inlined elsewhere: easier to
    compare if it's brought back into do_wp_page.
    
    do_file_page's fallback to do_no_page dates from a time when we were testing
    pte_file by using it wherever possible: currently it's peculiar to nonlinear
    vmas, so just check that.  BUG_ON if not?  Better not, it's probably page
    table corruption, so just show the pte: hmm, there's a pte_ERROR macro, let's
    use that for do_wp_page's invalid pfn too.
    
    Hah!  Someone in the ppc64 world noticed pte_ERROR was unused so removed it:
    restored (and say "pud" not "pmd" in its pud_ERROR).
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7c1fd6b964860cdcf44b6b98d7dcd8cc16a0a26d
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:58 2005 -0700

    [PATCH] mm: exit_mmap need not reset
    
    exit_mmap resets various mm_struct fields, but the mm is well on its way out,
    and none of those fields matter by this point.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a8fb5618dab7e45c8990f3155628d772a9ed45f9
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:57 2005 -0700

    [PATCH] mm: unlink_file_vma, remove_vma
    
    Divide remove_vm_struct into two parts: first anon_vma_unlink plus
    unlink_file_vma, to unlink the vma from the list and tree by which rmap or
    vmtruncate might find it; then remove_vma to close, fput and free.
    
    The intention here is to do the anon_vma_unlink and unlink_file_vma earlier,
    in free_pgtables before freeing any page tables: so we can be sure that any
    page tables traversed by rmap and vmtruncate are stable (and other, ordinary
    cases are stabilized by holding mmap_sem).
    
    This will be crucial to traversing pgd,pud,pmd without page_table_lock.  But
    testing the split-out patch showed that lifting the page_table_lock is
    symbiotically necessary to make this change - the lock ordering is wrong to
    move those unlinks into free_pgtables while it's under ptlock.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2c0b381467bc2997be9d741a152f3fc75785eedc
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:56 2005 -0700

    [PATCH] mm: remove_vma_list consolidation
    
    unmap_vma doesn't amount to much, let's put it inside unmap_vma_list.  Except
    it doesn't unmap anything, unmap_region just did the unmapping: rename it to
    remove_vma_list.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ab50b8ed818016cfecd747d6d4bb9139986bc029
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:56 2005 -0700

    [PATCH] mm: vm_stat_account unshackled
    
    The original vm_stat_account has fallen into disuse, with only one user, and
    only one user of vm_stat_unaccount.  It's easier to keep track if we convert
    them all to __vm_stat_account, then free it from its __shackles.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 72866f6f277ec0ddd6df7a3b6ecdcf59a28de115
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:55 2005 -0700

    [PATCH] mm: anon is already wrprotected
    
    do_anonymous_page's pte_wrprotect causes some confusion: in such a case,
    vm_page_prot must already be forcing COW, so must omit write permission, and
    so the pte_wrprotect is redundant.  Replace it by a comment to that effect,
    and reword the comment on unuse_pte which also caused confusion.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6237bcd94851e9cf0ecd2520d744779df0f5a9a6
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:54 2005 -0700

    [PATCH] mm: zap_pte_range dont dirty anon
    
    zap_pte_range already avoids wasting time to mark_page_accessed on anon pages:
    it can also skip anon set_page_dirty - the page only needs to be marked dirty
    if shared with another mm, but that will say pte_dirty too.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0c942a4539c09adf09097315cc174aefd0eeedf7
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:53 2005 -0700

    [PATCH] mm: msync_pte_range progress
    
    Use latency breaking in msync_pte_range like that in copy_pte_range, instead
    of the ugly CONFIG_PREEMPT filemap_msync alternatives.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e040f218bb49a6965a5b77edce05fe47a62dda39
Author: Hugh Dickins <hugh@veritas.com>
Date:   Sat Oct 29 18:15:53 2005 -0700

    [PATCH] mm: copy_pte_range progress fix
    
    My latency breaking in copy_pte_range didn't work as intended: instead of
    checking at regularish intervals, after the first interval it checked every
    time around the loop, too impatient to be preempted.  Fix that.
    
    Signed-off-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 09ad4bbc3a5c93316d7f4ffc0c310d9cbb28c2f0
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Oct 29 18:15:52 2005 -0700

    [PATCH] slab: add additional debugging to detect slabs from the wrong node
    
    This patch adds some stack dumps if the slab logic is processing slab
    blocks from the wrong node.  This is necessary in order to detect
    situations as encountered by Petr.
    
    Signed-off-by: Christoph Lameter <clameter@sgi.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c340010e4bf824d969a89fa192ecc7a526c0cd24
Author: Lee Schermerhorn <lee.schermerhorn@hp.com>
Date:   Sat Oct 29 18:15:51 2005 -0700

    [PATCH] shrink_list(): skip anon pages if not may_swap
    
    Martin Hicks' page cache reclaim patch added the 'may_swap' flag to the
    scan_control struct; and modified shrink_list() not to add anon pages to
    the swap cache if may_swap is not asserted.
    
    Ref:  http://marc.theaimsgroup.com/?l=linux-mm&m=111461480725322&w=4
    
    However, further down, if the page is mapped, shrink_list() calls
    try_to_unmap() which will call try_to_unmap_one() via try_to_unmap_anon ().
     try_to_unmap_one() will BUG_ON() an anon page that is NOT in the swap
    cache.  Martin says he never encountered this path in his testing, but
    agrees that it might happen.
    
    This patch modifies shrink_list() to skip anon pages that are not already
    in the swap cache when !may_swap, rather than just not adding them to the
    cache.
    
    Signed-off-by: Lee Schermerhorn <lee.schermerhorn@hp.com>
    Cc: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b57b98d147ef98758886a39efb94f3254542c39b
Author: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
Date:   Sat Oct 29 18:15:50 2005 -0700

    [PATCH] mm/msync.c cleanup
    
    This is not problem actually, but sync_page_range() is using for exported
    function to filesystems.
    
    The msync_xxx is more readable at least to me.
    
    Signed-off-by: OGAWA Hirofumi <hirofumi@mail.parknet.co.jp>
    Acked-by: Hugh Dickins <hugh@veritas.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 662f3a0b94cc92bd708c27b80f8207cd7db93204
Author: Andi Kleen <ak@suse.de>
Date:   Sat Oct 29 18:15:49 2005 -0700

    [PATCH] Remove near all BUGs in mm/mempolicy.c
    
    Most of them can never be triggered and were only for development.
    
    Signed-off-by: "Andi Kleen" <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit dfcd3c0dc426bb75770c34b40e14f2da8845ea62
Author: Andi Kleen <ak@suse.de>
Date:   Sat Oct 29 18:15:48 2005 -0700

    [PATCH] Convert mempolicies to nodemask_t
    
    The NUMA policy code predated nodemask_t so it used open coded bitmaps.
    Convert everything to nodemask_t.  Big patch, but shouldn't have any actual
    behaviour changes (except I removed one unnecessary check against
    node_online_map and one unnecessary BUG_ON)
    
    Signed-off-by: "Andi Kleen" <ak@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e46a5e28c201f703c18b47b108bfddec44f897c4
Author: Seth, Rohit <rohit.seth@intel.com>
Date:   Sat Oct 29 18:15:48 2005 -0700

    [PATCH] mm: set per-cpu-pages lower threshold to zero
    
    Set the low water mark for hot pages in pcp to zero.
    
    (akpm: for the life of me I cannot remember why we created pcp->low.  Neither
    can Martin and the changelog is silent.  Maybe it was just a brainfart, but I
    have this feeling that there was a reason.  If not, we should remove the
    fields completely.  We'll see.)
    
    Signed-off-by: Rohit Seth <rohit.seth@intel.com>
    Cc: <linux-mm@kvack.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ba56e91c940146e99ac694c4c7cd7f2b4aaa565d
Author: Seth, Rohit <rohit.seth@intel.com>
Date:   Sat Oct 29 18:15:47 2005 -0700

    [PATCH] mm: page_alloc: increase size of per-cpu-pages
    
    Increase the page allocator's per-cpu magazines from 1/4MB to 1/2MB.
    
    Over 100+ runs for a workload, the difference in mean is about 2%.  The best
    results for both are almost same.  Though the max variation in results with
    1/2MB is only 2.2%, whereas with 1/4MB it is 12%.
    
    Signed-off-by: Rohit Seth <rohit.seth@intel.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fcdae29aa7a5c79f245110f6680afdc1858d3626
Author: Rik Van Riel <riel@redhat.com>
Date:   Sat Oct 29 18:15:46 2005 -0700

    [PATCH] swaptoken tuning
    
    It turns out that the original swap token implementation, by Song Jiang, only
    enforced the swap token while the task holding the token is handling a page
    fault.  This patch approximates that, without adding an additional flag to the
    mm_struct, by checking whether the mm->mmap_sem is held for reading, like the
    page fault code does.
    
    This patch has the effect of automatically, and gradually, disabling the
    enforcement of the swap token when there is little or no paging going on, and
    "turning up" the intensity of the swap token code the more the task holding
    the token is thrashing.
    
    Thanks to Song Jiang for pointing out this aspect of the token based thrashing
    control concept.
    
    The new code shows a slight degradation over the old swap token code, but
    still a big win over running without the swap token.
    
    2.6.12+ swap token disabled
    
    $ for i in `seq 10` ; do /usr/bin/time ./qsbench -n 30000000 -p 3 ; done
    101.74user 23.13system 8:26.91elapsed 24%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (38597major+430315minor)pagefaults 0swaps
    101.98user 24.91system 8:03.06elapsed 26%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (33939major+430457minor)pagefaults 0swaps
    101.93user 22.12system 7:34.90elapsed 27%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (33166major+421267minor)pagefaults 0swaps
    101.82user 22.38system 8:31.40elapsed 24%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (39338major+433262minor)pagefaults 0swaps
    
    2.6.12+ swap token enabled, timeout 300 seconds
    
    $ for i in `seq 4` ; do /usr/bin/time ./qsbench -n 30000000 -p 3 ; done
    102.58user 16.08system 3:41.44elapsed 53%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (19707major+285786minor)pagefaults 0swaps
    102.07user 19.56system 4:00.64elapsed 50%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (19012major+299259minor)pagefaults 0swaps
    102.64user 18.25system 4:07.31elapsed 48%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (21990major+304831minor)pagefaults 0swaps
    101.39user 19.41system 5:15.81elapsed 38%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (24850major+323321minor)pagefaults 0swaps
    
    2.6.12+ with new swap token code, timeout 300 seconds
    
    $ for i in `seq 4` ; do /usr/bin/time ./qsbench -n 30000000 -p 3 ; done
    101.87user 24.66system 5:53.20elapsed 35%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (26848major+363497minor)pagefaults 0swaps
    102.83user 19.95system 4:17.25elapsed 47%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (19946major+305722minor)pagefaults 0swaps
    102.09user 19.46system 5:12.57elapsed 38%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (25461major+334994minor)pagefaults 0swaps
    101.67user 20.61system 4:52.97elapsed 41%CPU (0avgtext+0avgdata 0maxresident)k
    0inputs+0outputs (22190major+329508minor)pagefaults 0swaps
    
    Signed-off-by: Rik Van Riel <riel@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit eb92f4ef320b738e41ad43476a5d05c8a20d5cc7
Author: Rik Van Riel <riel@redhat.com>
Date:   Sat Oct 29 18:15:44 2005 -0700

    [PATCH] add sem_is_read/write_locked()
    
    Add sem_is_read/write_locked functions to the read/write semaphores, along the
    same lines of the *_is_locked spinlock functions.  The swap token tuning patch
    uses sem_is_read_locked; sem_is_write_locked is added for completeness.
    
    Signed-off-by: Rik van Riel <riel@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 63f324cf0792ed69089b79d6921ba3aaea97af50
Author: Ivan Kokshaysky <ink@jurassic.park.msu.ru>
Date:   Sat Oct 29 18:15:43 2005 -0700

    [PATCH] fix alpha breakage
    
    barrier.h uses barrier() in non-SMP case.  And doesn't include compiler.h.
    
    Cc: Al Viro <viro@ftp.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b8f573b5db02a3017afbba49026a6aef480174f
Author: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
Date:   Sat Oct 29 18:15:42 2005 -0700

    [PATCH] TIMERS: add missing compensation for HZ == 250
    
    Add missing compensation for (HZ == 250) != (1 << SHIFT_HZ) in
    second_overflow().
    
    Signed-off-by: YOSHIFUJI Hideaki <yoshfuji@linux-ipv6.org>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 930fc45a49ddebe7555cc5c837d82b9c27e65ff4
Author: Christoph Lameter <clameter@engr.sgi.com>
Date:   Sat Oct 29 18:15:41 2005 -0700

    [PATCH] vmalloc_node
    
    This patch adds
    
    vmalloc_node(size, node)	-> Allocate necessary memory on the specified node
    
    and
    
    get_vm_area_node(size, flags, node)
    
    and the other functions that it depends on.
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 0169e284f6b6b263cc7c2ed25986b96cd6fda610
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 29 21:25:10 2005 -0400

    [libata] remove ata_chk_err(), ->check_err() hook.
    
    We now depend on ->tf_read() to provide us with the contents
    of the Error shadow register.

commit 1b40efd772f4419fbc1a8940506424246985c333
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Oct 3 15:15:36 2005 +1000

    [CRYPTO] Check cra_alignmask against cra_blocksize
    
    The cipher code relies on the fact that the block size is a multiple
    of the required alignment.  So we should check this at the time of
    algorith registration.  We also ensure that the block size is bounded
    by the page size.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 6df5b9f48dd0e77fa796b9b7d3fde7cc5f1237f2
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Mon Sep 19 22:30:11 2005 +1000

    [CRYPTO] Simplify one-member scatterlist expressions
    
    This patch rewrites various occurences of &sg[0] where sg is an array
    of length one to simply sg.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 378f058cc49bcda7fa63d3cd86d2f9a0a5188b1c
Author: David Hardeman <david@2gen.com>
Date:   Sat Sep 17 17:55:31 2005 +1000

    [PATCH] Use sg_set_buf/sg_init_one where applicable
    
    This patch uses sg_set_buf/sg_init_one in some places where it was
    duplicated.
    
    Signed-off-by: David Hardeman <david@2gen.com>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Cc: "David S. Miller" <davem@davemloft.net>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit d32311fed70d12f14e585feb4653571b1e2b0e6d
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Sep 17 14:41:40 2005 +1000

    [PATCH] Introduce sg_set_buf
    
    sg_init_one is a nice tool for the block layer.  However, users
    of struct scatterlist in other subsystems don't usually need the
    DMA attributes.  For them it's a waste of time and space to
    initialise the whole struct scatterlist structure.
    
    Therefore this patch adds a new function sg_set_buf to initialise
    a scatterlist without zeroing the DMA attributes.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>

commit 23da0c20ef1c1f0432f373e0e2233a6b6ab2678f
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Oct 30 01:23:54 2005 +0300

    [PATCH] fec_8xx: Add support for Intel PHY LX971
    
    The following patch add support for the Intel LX971 PHY.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b90bd04d419dd317b16dce83f5595e96597c05be
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Oct 30 01:23:15 2005 +0300

    [PATCH] fec_8xx: Remove dependency on NETTA & NETPHONE
    
    The following patch removes the dependency of the fec_8xx driver on
    the NETTA & NETPHONE boards. Other people use the driver too, and
    we await their board support patches.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 34e30d612f54e959a9953a62143f9f8402207b35
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Oct 30 01:22:40 2005 +0300

    [PATCH] fs_enet: Fix dma_unmap_single calls
    
    The following patches fixes a bug with erroneous calling of
    dma_unmap_single. It never triggered because on normal ppc32
    the calls is a NOP. Out of tree drivers need this fix however.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4689a6b1d4970779bf53bd62917df7ad7ad7c704
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Sun Oct 30 01:21:53 2005 +0300

    [PATCH] Maintainers for fs_enet
    
    The following patch adds a MAINTAINERS entry for the fs_enet
    driver.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 86e7fe705d1b894df0cbb785991c92fa298af8fb
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Sat Oct 29 12:47:41 2005 -0700

    [PATCH] PPC 4xx EMAC driver: fix VSC8201 PHY initialization
    
    * MII registers must override strap pins
    * disable "echo" mode to make 10/HDX work (Franz Sirl)
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1b195916dd9111bbaf043d0dcfdc5d6908590c6e
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Sat Oct 29 12:45:31 2005 -0700

    [PATCH] PPC 44x EMAC driver: add 440GR support
    
    Add PowerPC 440GR support
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7ad8a89c2e8a930a902cb0622956b27796c027e5
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Sat Oct 29 12:43:14 2005 -0700

    [PATCH] PPC 44x EMAC driver: add 440SPe support
    
    For some reason, the hardware designers made the polarity of one bit
    in the 440SPe's PHY interface register the opposite of all other PPC
    440 chips.  To handle this, abstract our access to this bit and do the
    right thing based on the configured CPU type.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b0c4e148bd591629749d02a8fbc8d81c26d548cf
Merge: 5615ca7... be15cd7...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 29 17:49:12 2005 -0400

    Merge branch 'master'

commit bbbf508d6403f9dfeeb040d9cd7366e395632e59
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 22:17:58 2005 +0100

    [DRIVER MODEL] Add missing platform_device.h header.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit be15cd72d256e5eb3261a781b8507fac83ab33f6
Merge: e9d5223... 37d07b7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Oct 29 14:02:16 2005 -0700

    Merge master.kernel.org:/home/rmk/linux-2.6-arm

commit a20583a7c2e35d80b1dfc1f60c9729498838725e
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sat Oct 29 13:54:40 2005 -0700

    [IPoIB] use spin_trylock_irqsave()
    
    Use spin_trylock_irqsave() in ipoib_start_xmit() instead of
    reinventing it out of local_irq_save(), spin_trylock() and
    local_irq_restore().
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 37d07b72ef58f2d5ec7701ab75084fbeee0e503e
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Oct 29 21:44:56 2005 +0100

    [ARM] 3061/1: cleanup the XIP link address mess
    
    Patch from Nicolas Pitre
    
    Since vmlinux.lds.S is preprocessed, we can use the defines already
    present in asm/memory.h (allowed by patch #3060) for the XIP kernel link
    address instead of relying on a duplicated Makefile hardcoded value, and
    also get rid of its dependency on awk to handle it at the same time.
    
    While at it let's clean XIP stuff even further and make things clearer
    in head.S with a nice code reduction.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f09b99799991c7c3ba441162406247f5df077322
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Oct 29 21:44:55 2005 +0100

    [ARM] 3060/1: allow constants found in asm/memory.h to be used in asm code
    
    Patch from Nicolas Pitre
    
    This patch allows for assorted type of cleanups by letting assembly code
    use the same set of defines for constant values and avoid duplicated
    definitions that might not always be in sync, or that might simply be
    confusing due to the different names for the same thing.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit e9d52234e35b27ea4ea5f2ab64ca47b1a0c740ab
Merge: 955c503... 09af7b4...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Oct 29 12:19:15 2005 -0700

    Merge branch 'upstream' of git://ftp.linux-mips.org/pub/scm/upstream-linus

commit 09af7b443c257460d45cb6c1896d29f173fef35b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:54 2005 +0100

    Update MIPS defconfig files.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5ef66935c1f6d412b37cf4f68281bd4fc7fca7e5
Author: Arthur Othieno <a.othieno@bluewin.ch>
Date:   Fri Oct 28 00:42:56 2005 -0400

        prom_free_prom_memory() returns unsigned long
    
        Some boards declare prom_free_prom_memory as a void function but the
        caller free_initmem() expects a return value.
    
        Fix those up and return 0 instead, just like everyone else does.
    
        Signed-off-by: Arthur Othieno <a.othieno@bluewin.ch>
        Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4b724efdde0287d7ba616bd2badc63fca414f978
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 23 15:05:47 2005 +0100

    Get rid of SINGLE_ONLY_FPU.  Linux does not support half FPU other than
    by emulation of a full FPU.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3fccc0150e720ff344b5f9c5f8dd23778139018e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 23 13:58:21 2005 +0100

    Fix all the get_user / put_user related sparse warnings.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3c5c8f6748ce5a4a63ac7d025ddca4a01574a1a7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 23 13:48:12 2005 +0100

    Delete unused ieee754_cname[] and declaration.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit efec3c4e962d4cafbb8f0a050d05d1cd6e95458d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 23 13:46:25 2005 +0100

    Include for prototypes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a663bf906dce4bfa4d620ecc6b8ac6ef958eb7c2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 23 13:44:31 2005 +0100

    Protect against multiple inclusion.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 030274ae03c20f9ac27d4218118b9679d7c680d8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Oct 21 22:26:07 2005 +0100

    Remove useless casts of kmalloc return values.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e5adb8770e12169a6595a3ad5682541441bd1052
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 20 22:55:26 2005 +0100

    Hack to resolve longstanding prefetch issue
    
    Prefetching may be fatal on some systems if we're prefetching beyond the
    end of memory on some systems.  It's also a seriously bad idea on non
    dma-coherent systems.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7cf8053b8ee48a7f0e9d8ebc72c279fb2e168c25
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 20 22:33:09 2005 +0100

    More foolproofing of the CPU configuration.
    
    Limit the number of cpu type options in the cpu menu to just those
    types that are actually available for the select platform.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cb4262481fce1d43ac9a483be4faf36fdd1c7abb
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:59:46 2005 -0700

    pci-expmem-hack
    
    CFE 1.2.5 and earlier fails to turn on the ExpMemEn bit in the
    PCIFeatureControl register, which means that DMA does not work
    beyond physical address 01_0000_0000, ergo to DRAM beyond 1GB.
    
    With ExpMemEn turned on, 01_0000_0000-0f_ffff_ffff is mapped,
    so DMA works for up to 61 GB of DRAM.
    
    Will be fixed in CFE 1.2.6 (yet to be released).
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8a1417de9e11f9f577499cd4fe89fa35f4bf54fa
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:59:11 2005 -0700

    BCM1480 HT support
    
    PCI support code for PLX 7250 PCI-X tunnel on BCM91480B BigSur board.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dc41f94f770904f1fd63488ce4d30722ea514aad
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:58:49 2005 -0700

    Support for the BCM1480 on-chip PCI-X bridge.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a4b5bd9abcf5b0586de68722ff8e9b91020279bf
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:57:40 2005 -0700

    SB1 cache exception handling.
    
    Expand SB1 cache error handling by adding SB1_CEX_ALWAYS_FATAL and
    SB1_CEX_STALL, allowing configurable behavior on cache errors.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9a6dcea10308df50ed54d6d5a43c9f6c3e927118
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:57:11 2005 -0700

    Support for BigSur board.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f137e463b50aadba91bd116f99c59ccb9c15a12f
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:56:38 2005 -0700

    Add support for BCM1480 family of chips.
    
     - Kconfig and Makefile changes
     - arch/mips/sibyte/bcm1480/
     - changes to sibyte common code to support 1480
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 93ce2f524e96571711029884e6340c790a029b94
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:56:20 2005 -0700

    Add support for SB1A CPU.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4f19f990475dc4465ca6906ba03a55805d4c1402
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:55:57 2005 -0700

    Sibyte header cleanup
    
    Update sibyte headers to match Broadcom internal copies:
     - comment cleanup and updates
     - fix LittleSur part number to match the board silkscreen
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4cbf2beac2265b3619be9c8e88ff4ff45b49d7c2
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:55:11 2005 -0700

    BCM1480 headers
    
    Add header files for BCM1480/1280/1455/1255 family of chips, and
    update sb1250 headers which are shared by BCM1480 family.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    diff --git a/include/asm-mips/sibyte/bcm1480_int.h b/include/asm-mips/sibyte/bcm1480_int.h
    new file mode 100644

commit d121ced21d79eab7726bfe6b1e33da4ae86072c0
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Oct 19 23:54:43 2005 -0700

    Sibyte fixes
    
    Fix typo in cpu_probe_sibyte.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 485a4a928a059a361c7363e7ce0eab330a09dbd3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Oct 19 14:45:09 2005 +0100

    Make UL what should be UL.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 750ccf687ff9adbf2a16066a3a2757d0f761384c
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Oct 19 19:57:14 2005 +0900

    Fix zero length sys_cacheflush
    
    Cacheflush(0, 0, 0) was crashing the system.  This is because
    flush_icache_range(start, end) tries to flushing whole address space
    (0 - ~0UL) if both start and end are zero.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f4c72cc737561aab0d9c7f877abbc0a853f1c465
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 18 13:25:29 2005 +0100

    Get 64-bit right in the kgdb stub.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0d507d61cd1cce6d920e78fe10e67296abb2a1eb
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 18 12:48:31 2005 +0100

    Sys_lookup_dcookie arguments occupy 4 argument slots.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 12616ed202ba66af6e1386df02d06c72d7386339
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 18 10:26:46 2005 +0100

    FPU emulator garbage collection.
    
    First argument of fpu_emulator_cop1Handler() was unused.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 178086c86ac9738a76f1462e9ee4cbe8fd3b8c51
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 13 17:07:54 2005 +0100

    Don't print file name and line in die and die_if_kernel.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6ec25809c143d875ed17b2e85d1dd894a1f4aba4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Oct 12 00:02:34 2005 +0100

    Rename page argument of flush_cache_page to something more descriptive.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8f91ed6c2fec8cb746e4dc86a79247162b4c5a7a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Oct 9 18:56:01 2005 +0100

    Define EOWNERDEAD and ENOTRECOVERABLE.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5e83d4305467c43af144d264674c7d7de303aeb3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:41 2005 +0100

    Sliceup Kconfig; it's grown too large.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit beb3ca82fc0c2ec938b7446b006c8f34abb301b2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:40 2005 +0100

    More configcheck fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4ee1303a787434d4994ae68d028ca025e339b434
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:40 2005 +0100

    2.6.14-rc1 updates for MIPS compat types.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b4f8c4230708711c3b12c095cf6a59e6d06a183d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:40 2005 +0100

    Complete the fcntl.h cleanup.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3cd9b6802d39c155d44fc8076b6c72c3f7e919ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:39 2005 +0100

    Cleanup Sibyte Kconfig a bit further.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9383292f179e1907e7e7ade539ac8fd3b65c1e97
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jan 14 03:03:23 2005 +0000

    Date:   Fri Jan 14 03:03:23 2005 +0000
    
    Locking cleanups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8592d4c00eeb92495eaab6374baaad79b30866ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:38 2005 +0100

    Fix weirdness in <asm/bug.h>
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dbc571690ec4123e4e9fd6e731d8bdfa77b0d90e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 29 19:32:38 2005 +0100

    Fix wrong comment.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ec917c2c1ab4359a1d438e62daeb50cc42e632e1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Oct 7 16:58:15 2005 +0100

    Fixup a few lose ends in explicit support for MIPS R1/R2.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f92c1759a40a85f52b835c21b0ef6ce556b340c5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Oct 7 12:06:12 2005 +0100

    Document the meaning of the CPU_MIPS32, CPU_MIPS64, CPU_MIPSR1 and
    CPU_MIPSR2.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 101b3531a693ad890f33f2f04323592cd376616a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 6 17:39:32 2005 +0100

    Protect manipulation of c0_status against preemption and multithreading.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8afcb5d82934c83fb01664ae00eaff9de1d8d340
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 4 15:01:26 2005 +0100

    Detect 4KSD and treat it like 4KSc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d50f7ec9d2c3e66cc9d529f2155d088d019f467a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 4 13:30:10 2005 +0100

    We're no longer hosted on oss for ages ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2f69ddccb01632dfe5d0ef946ee99000463cd9c4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 3 13:41:19 2005 +0100

    Convert the remaining SPIN_LOCK_UNLOCKED instances to DEFINE_SPINLOCK.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 57468af3267bfb89391f9c607a9637e86e55d299
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 3 13:40:26 2005 +0100

    Define and initialize kdb_lock using DEFINE_SPINLOCK.
    Convert kgdb_cpulock into a raw_spinlock_t.
    
    SPIN_LOCK_UNLOCKED is deprecated and it's replacement DEFINE_SPINLOCK is
    not suitable for arrays of spinlocks.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f8bb3af924211b0e6ee66dc0d3bcb4a66ba59af4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 3 13:30:57 2005 +0100

    Make kgdb_wait static.
    
    Nothing outside gdb-stub.c uses kgdb_wait, so change it's definition to
    static.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 65f1f5a2c3cdb0570806fe4e5512945673dfa199
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 20:22:39 2005 +0100

    Don't copy SB1 cache error handler to uncached memory.
    
    This may have made sense on a paranoid day with pass 1 BCM1250 processors
    that were throwing cache error exception left and right for no good
    reason.  On modern silicion that hardly makes sense and the code had
    gotten just an obscurity ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5090dfb5bcf51479370b501e934edadc4d781f67
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 17:34:35 2005 +0100

    Provide 64-bit address space definitions for the Sibyte SB1 CPU core.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6aaf7786ed02da7797432708fbcdd242f9c0764e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 13:14:58 2005 +0100

    No need to explicitly call __read_64bit_c0_split; __read_64bit_c0_register
    will do that itself iff needed.  Fix format string.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 46dc3a4a098c65551d5f364e1c56331961400314
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Jun 22 16:02:03 2005 -0700

    Fix stale comment in c-sb1.c.
    
    Signed-Off-By: Andrew Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 02cf2119684e52e97a8a90bd7630386e0f1a250a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 13:06:32 2005 +0100

    Cleanup the mess in cpu_cache_init.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 942d042d17c77febab9af6815b2e77f665d0f9c1
Author: Andrew Isaacson <adi@broadcom.com>
Date:   Wed Jun 22 16:01:09 2005 -0700

    Use cpumask_t rather than hand-rolled bitmask code in sb1250_set_affinity.
    
    Signed-Off-By: Andrew Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f5cfa980e535e1f77038f8037422594592208695
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 11:14:17 2005 +0100

    Use R4000 TLB routines for SB1 also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c5c96e13790122095fdf2ea74a8131e5f6b60c03
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 10:17:54 2005 +0100

    Fix build error caused by missmatching duplicate declaration.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3959c7957f0ab758066c8779483b18179c355257
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 00:03:42 2005 +0100

    Don't call memset to clean irq_desc; these data fields have already
    previously been initialized statically in kernel/irq/handle.c.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0015365cc68a5b6ad22dfdac19580aa9530731c3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 1 00:00:00 2005 +0100

    Fix ARCH_KMALLOC_MINALIGN values on MIPS
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c78cbf49c4edf2f9ca9e56d4b87a5d6ef08b7fed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Sep 30 13:59:37 2005 +0100

    Support for MIPSsim, the cycle accurate MIPS simulator.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b288f135872b651ebf6cd1565d0709a5e31997f7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Sep 30 01:51:21 2005 +0100

    Switch Sibyte profiling driver to ->compat_ioctl
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ea3d710fe572f0af4d242701973f7363b2146429
Author: Daniel Jacobowitz <dan@debian.org>
Date:   Wed Sep 28 18:11:15 2005 -0400

    Revise MIPS 64-bit ptrace interface
    
    Change the N32 debugging ABI to something more sane, and add support
    for o32 and n32 debuggers to trace n64 programs.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9043f7e95d104795fcb03a2f762524babcd49da5
Author: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
Date:   Wed Sep 28 20:24:58 2005 +0900

    Sync c-tx39.c with c-r4k.c.
    
    tx39_flush_cache_range() does nothing if !cpu_has_dc_aliases.  It should
    flush d-cache and invalidate i-cache since the TX39(H2) has separate I/D
    cache.
    
    Signed-off-by: Atsushi Nemoto <anemo@mba.ocn.ne.jp>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9d58f302ca370c720fa47cb419f0b33eaa1a1132
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Sep 23 20:02:38 2005 +0000

    Glue again after removal of BUILD_BUG().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 495515b351957e4f6155d1696132f53acc4d06e5
Author: Ladislav Michl <ladis@linux-mips.org>
Date:   Fri Sep 23 10:52:27 2005 +0000

    Let it compile again after i2c algo id removal. Sort headers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 80b47346b0c83edab5d183376b41e9968bd5ac32
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 22 14:55:21 2005 +0000

    SMP on Malta needs to define ARCH_HAS_IRQ_PER_CPU since 2.6.14-rc1.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    diff --git a/include/asm-mips/mach-mips/irq.h b/include/asm-mips/mach-mips/irq.h
    new file mode 100644

commit 0c9ec467db8bf9ae9a337b96cecd9b6b703b57a1
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Wed Sep 21 21:39:44 2005 +0000

    smc91x platform support; requires patch to smc91x.h which was sent
    upstream.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ba264b340396b8dd7348ef8531e5ac003a34ff4e
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Wed Sep 21 06:18:27 2005 +0000

    Au1[12]00 mmc driver. Only tested on the Au1200 at this point though
    it should work on the Au1100 as well. Updated defconfig to include driver.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bab056aafe428b326f7ee72db453c3b8947c7339
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Sep 20 13:43:51 2005 +0000

    Add SOCK_DCCP definition for MIPS also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e97288386a316e3960b758a60ae7cd17b3ee10e7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Sep 20 10:56:26 2005 +0000

    The type of sum in csum_tcpudp_nofold is "unsigned int", so when we assign
    to it in an asm() block, and we're running on a system with 64-bit
    registers, it is vitally important that we sign extend it correctly before
    returning to C.  Otherwise the stray high bits will be preserved into
    csum_fold, and on the SB-1 processor, 32-bit arithmetic on a non
    sign-extended register will yield surprising results.
    
    This caused incorrect checksums in some UDP packets for NFS root.  The
    problem was mild when using a 10.0.1.x IP address, but severe when
    using 192.168.1.x.
    
    Signed-off-by: Daniel Jacobowitz <dan@codesourcery.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2cce8263228ac8926d675cfa19e50ca0af9e05e4
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Sun Sep 18 11:18:10 2005 +0000

    Kernel gpio/2 routines that will be used by some drivers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 13bb199f98d179664cc24ab2e4762ef8ab059acc
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Sun Sep 18 01:10:46 2005 +0000

    Fix a cache snooping issue.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d6460827af0763dc2f4a5cf0455cbf1e3a9ccb77
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Sat Sep 17 00:38:10 2005 +0000

    Updated pcmcia driver with pb1200 and db1200 support.
    Updated db1200_defconfig so pcmcia is enabled by default.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit efe29c0f34dc3ee3511e46458f335edb7ee50327
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Sep 15 23:42:27 2005 +0000

    - moved platform structure to platform.c
    - fixed an iounmap warning
    - export fixup_xx, needed by the module
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0bf0e3e279661c42ad43014d62ddd87d42da12e7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 16:43:50 2005 +0000

    Fix excessive signal latencies.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 870d3d98eb343fa0f079773653f6dbdd17f410ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    Reorder & reformat a bit.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 61ed242d7e9d96dfb2e2f37058f5c822e5c6ca55
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    Use ARCH_MAY_HAVE_PC_FDC where needed.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 587cb98f368de7ea4382a6ca99847113fbbeea91
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    GCC bulletproofing: __mips64 is only defined when compiling for 64-bit
    processors.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 61ed7f08b691677a13486d920dcd931b7d31719c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    The values for SO_SNDBUFFORCE / SO_RCVBUFFORCE were already taken ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ebfaebae364c3631c70467bf89a63b341d0f0949
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    Futexes for MIPS, for the time being only the R10000_LLSC_WAR version.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9dbdfce85c165faa45509ca3b18deaa5f9dfbc12
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 15 08:52:34 2005 +0000

    Define pcibus_to_node() for IP27.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 26a940e21752e0de8f068f77dad606a7d1986937
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Sep 15 08:03:12 2005 +0000

    Cleaned up AMD Au1200 IDE driver:
    - converted to platform bus
    - removed pci dependencies
    - removed virt_to_phys/phys_to_virt calls
    
    System now can root off of a disk.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    diff --git a/Documentation/mips/AU1xxx_IDE.README b/Documentation/mips/AU1xxx_IDE.README
    new file mode 100644

commit 64abf64d10b3a547becefeb26394dfbefac273fb
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Wed Sep 14 16:17:59 2005 +0000

    Misc au1200 updates.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4f94afa258c3e574a8d985160e87146a5183944b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Sep 14 14:52:16 2005 +0000

    Delete the SABLE_RTL case.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 57e3e3b9187765f042c131db1a8b66bee67fc5fb
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Tue Sep 13 22:52:55 2005 +0000

    When no yamon command line is passed to the kernel, preserve the default
    compiled in command line.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 097975fc6651ee8f43ffc930ae0c4851ec979454
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Sep 12 20:22:07 2005 +0000

    Provide MODULE_ARCH_VERMAGIC for MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 10a3dabddd79473130c6ded7f7cef1d55fccc115
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Sep 9 20:26:54 2005 +0000

    Add/Fix missing bit of R4600 hit cacheop workaround.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 02fe2c9ce3159f62339f30dfe62aeb6e4aa75d6e
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Sep 9 19:45:41 2005 +0000

    Minor code cleanup.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f5b4d9563b3dc43d3b5df2422baecd2d4b77750a
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Sep 9 17:11:50 2005 +0000

    R4600 v2.0 needs a nop before tlbp.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 424cadae94a683afe2164f726269d2b479d99732
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Sep 9 17:09:18 2005 +0000

    Don't set up a sg dma address if we have no page address for some reason.
    Code cleanup.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 98e316d4b151111d5a8ff2b3a684a9300634d83f
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Sep 5 10:31:27 2005 +0000

    Move MIPS Technologies processor IDs to where they belong.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d8748a3abf1f388438ba2d812c1f46c549856afe
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Sep 2 09:56:12 2005 +0000

    More .set push/pop.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5bcb9a58e6e3eda4af87193c8746d15e45f51628
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Sep 1 20:42:46 2005 +0000

    Move genrtc.c's functions into <asm/rtc.h>
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 330cfe016bec3cdf517a626083bcb0d7b1854744
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Sep 1 18:33:58 2005 +0000

    Let r4600 PRID detection match only legacy CPUs, cleanups.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 65dd7026a906f7a70ef326f18540c0b648a0ffed
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Sep 1 09:02:08 2005 +0000

    Define some more common ip22 CPU features.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit aaa49075c6a75332dac6fb401518c0a72b103443
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Sep 1 09:00:51 2005 +0000

    Typo fix.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2fe25f67a55ea0e6416304fa43d58fae93b7300a
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Sep 1 08:59:55 2005 +0000

    More .set push/pop encapsulation, more eyefriendly code formatting.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f8670e66dc3f08512b57cb7872932fb0710de589
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Sep 1 08:56:18 2005 +0000

    Fix MAP_BASE for 64bit ip22.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 37c8c642ea6deb4837c247de062e3f4c5ae2b282
Author: Thiemo Seufer <ths@networkno.de>
Date:   Wed Aug 31 15:55:16 2005 +0000

    IP22 EISA support update.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7623debf267521771952870549f5c5d38c408ad1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Aug 29 16:49:55 2005 +0000

    Handle mtc0 - tlb write hazard for VR5432.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 23bbbaf89cfb9bfd1a37385bfbb4e0cab591f454
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Fri Aug 26 13:36:42 2005 +0000

    Make static what ought to be static.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f99d3023f317fb3916b46465cc07a0cad3faa0a5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Aug 25 16:22:09 2005 +0000

    Sprinkle a few more .set mipsX over xchg to make sure we dont' end up with
    64-bit instructions on 32-bit processors, they tend to be unhappy about
    that kind of food ;-)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e607d6c8b8dd684936fda4b2cc37ad9f9104bed4
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Tue Aug 23 00:22:48 2005 +0000

    Get rid of a bunch of debug serial routines. Use prom_printf instead.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fabffc13ed720eea986f80f432cedb4550f464ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Aug 19 14:29:15 2005 +0000

    Remove workaround for binutils 2.15 assembler bug; this version is not
    suitable to reliably build kernels anymore anyway and 2.16 has this
    fixed.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 27c7c1657df54352838d176b39e119b799bf7855
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 17 17:57:34 2005 +0000

    Drop might_sleep() calls from get_user() & co.  This should fix the issue
    in http://www.linux-mips.org/cgi-bin/mesg.cgi?a=linux-mips&i=200508171321.20094.Joshua.Wise%40sicortex.com and it's the right thing to do anyway because
    it was inflating those functions way too much.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 340ee4b98c0543b5632cac975a7449a2d28762d8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 17 17:44:08 2005 +0000

    Virtual SMP support for the 34K.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d03d0a57754cb820d318d2234c60b728eb38a94d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 17 13:44:26 2005 +0000

    MT bulletproofing.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 533330bf7fa19854f3b4accd2b84ff58e3ee160f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 17 10:11:10 2005 +0000

    On CONFIG_64BIT_PHYS_ADDR, pfn always fits in 'unsigned long', but
    pfn<<PAGE_SHIFT sometimes extends beyond.  The pte is big enough to hold
    'long long', but the shift in pfn_pte() needs to do its calculation with
    enough bits to hold the result.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0952e2905c6bc2e12a43910c7eb898b6481a57b5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 17 10:03:03 2005 +0000

    Fix parenthesis in macros.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a50b3e2763dc23f8427b7f4a199235dfe9a073c0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 18:11:07 2005 +0000

    Do the timer interrupt only once on CPU 0 ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8b200ce4a697fbbf446de3a0874232d7aaa3f6d3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 17:54:41 2005 +0000

    Define cpu_icache_snoops_remote_store.  This is slight abuse of something
    which originally was meant for SMP cache managment but it can be argued
    to apply on the 34K as well.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ac351d947390c00b8ece3cde997fe173fc8649ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 17:47:00 2005 +0000

    Add a few simple error checks to tlb dumper.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d2f755e04f26b9ab4b8da24c025dc4f6112d6bee
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 17:06:48 2005 +0000

    Reindent dump_tlb.c.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3fd5646cac36e2ea244bb3455a66afb1777b9a92
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 16:54:12 2005 +0000

    Add missing space.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e027802e985f1cca752bf3b2e7eecae05031699f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 16:39:15 2005 +0000

    Display presence of SmartMIPS, DSP and MT ASEs in /proc/cpuinfo.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3bffe736d93ce527a27fd5a4845fb2a0e82fcd99
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 16:10:18 2005 +0000

    Delete old junk.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 28a7879d8ca6afafbd1583dd777587e441d0f90e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 15:46:05 2005 +0000

    Spelling fix.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 479a0e3e0245fa116412bc105ab1161636c220cb
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 16 15:44:06 2005 +0000

    Support for CoreFPGA-3.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fd0197d26208b896caa958cc1780e8016f439711
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Aug 15 11:24:34 2005 +0000

    Implement get_system_type() for Qemu to get procfs-enabled kernels to
    link.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 797798c1bed106a20d4c1ac689ae8a5b1069c5b2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Aug 10 15:17:11 2005 +0000

    A little more Kconfig untangeling.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d9912d87840b321678c85396c6adf15ced2c228d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Aug 9 15:23:49 2005 +0000

    Inlining will result in back-to-back mtc0 mfc0 instructions.  Break the
    hazard by using back_to_back_c0_hazard().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d3ffd085536c1801da74c098e25fd3985671e15d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Aug 8 12:42:26 2005 +0000

    Use pr_debug instead of homegrown debug print macros.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0ae12797581a25832aea7011192d023a348ae5ab
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Aug 5 14:50:35 2005 +0000

    Send CONFIG_VTAG_ICACHE back into it's cold grave.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c8094b53c17bf93d8afa5e8ccec30450a2e07aad
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Aug 5 14:28:54 2005 +0000

    Get rid of the nonsense in the CONFIG_CPU_HAS_PREFETCH block.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8d9c62675d58ebfb7dfce64cd1ce109e7d90af87
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Aug 5 10:31:47 2005 +0000

    sys is only used for native o32 ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 075e7502d9701dbc206ed32046888acfc8a4bb73
Author: Thiemo Seufer <ths@networkno.de>
Date:   Wed Jul 27 21:48:12 2005 +0000

    R4600 has 32 FPRs.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 23fbee9dd5d2a41d36af49ff8e1669fb0c29fda8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 25 22:45:45 2005 +0000

    Support for Toshiba's RBHMA4500 eval board for the TX4938.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 132940401174ed04f9e8f1ae2dad6f47da26ee0a
Author: Ladislav Michl <ladis@linux-mips.org>
Date:   Sat Jul 23 22:54:52 2005 +0000

    Void functions shouldn't return values
    
    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 154b500b1981a8053a15cd8e749a955a9bb60006
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jul 22 05:46:02 2005 +0000

    commit 1858f72fa2e2f63e62114a9bd40c8e68468d8c5e
    Author: Ralf Baechle <ralf@linux-mips.org>
    Date:   Fri Jul 22 05:46:02 2005 +0000
    
    New build target vmlinux.bin build raw binary image for Qemu.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3ce86ee14ba7c4b0f8ddae6030df9d0dee15b236
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Tue Jul 19 07:05:36 2005 +0000

    Au1x PM fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7ab1261f5fe421602fadeda1d89662303b08830b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jul 15 16:32:34 2005 +0000

    Drop IP27 support for Qlogic ISP.  This driver is buggy and has been
    obsoleted by the qla1280 after the recent fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ae1b3d51c89a96c641111e2c103557592577cf51
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jul 15 15:44:02 2005 +0000

    Make sure that the processor is actually online or die spectacularly.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1d40cfcd3442a53e98468cdb3e6d4d9a568d76cf
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jul 15 15:23:23 2005 +0000

    Avoid SMP cacheflushes.  This is a minor optimization of startup but
    will also avoid smp_call_function from doing stupid things when called
    from a CPU that is not yet marked online.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bdf21b18b4abf983db38f04ef7fec88f47389867
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Jul 14 17:47:57 2005 +0000

    Philips PNX8550 support: MIPS32-like core with 2 Trimedias on it.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e01402b115cccb6357f956649487aca2c6f7fbba
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 15:57:16 2005 +0000

    More AP / SP bits for the 34K, the Malta bits and things.  Still wants
    a little polishing.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 86071b637db7baf599df26fdf820dce2fc55ca9f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 13:25:05 2005 +0000

    Cleanups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7e35952baa9d7424dfb95ca8aff7239a1f6ec011
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 09:42:32 2005 +0000

    Move Origin crapola into a machine-specific header file.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a0c3a5b5a84df11cf6a44fc04cb6f7c0525123a8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 07:39:46 2005 +0000

    Prevent gcc from optimizing a few functions away completly.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8f40611d2b184ca5d525075d273854929cf8d1d0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 07:34:18 2005 +0000

    Detect the MIPS R2 vectored interrupt, external interrupt controller
    options and the precense of the MT ASE.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 699dbc90e8c7baecae197fb331773f505a46a1eb
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jul 14 07:30:27 2005 +0000

    Macros to access the register of processors using the new MIPS
    Multithreading ASE, also know as MT ASE.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    diff --git a/include/asm-mips/mipsmtregs.h b/include/asm-mips/mipsmtregs.h
    new file mode 100644

commit f10fae02403fb8af141b0a440074a944ccd63504
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Jul 14 00:17:05 2005 +0000

    Fix the fixup_bigphys_addr compile problem.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 10f6567e63a0ba9b473da9ea60452ffdb07ced02
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Jul 14 00:16:06 2005 +0000

    Removed __ilog2 since it's no longer needed and conflicts with the
    generic one.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7a0fc58cd9b004672b38537de276f8f188d5e84a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 19:47:28 2005 +0000

    A few more macros to access MIPS R2 architecture registers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 55d04dff0fcf5d1c3f0d6edf6df86d82fa4c053b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 19:22:45 2005 +0000

    New kernel option nowait allows disabling the use of the wait instruction.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 569f75bd02d20043c4baf9fc38d937f37e7572b0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 18:20:33 2005 +0000

    Use an irq_enable_hazard hazard barrier in unmask_mips_irq.  This
    hasn't been an actual bug, so it's more a change to be 100% compliant
    with the requirements of the architecture spec.  Similar fix to
    mask_mips_irq where there was a slightly less theoretical chance of
    getting hit.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 97fb5de194a244df3a257bbddaaad911641af381
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 17:58:20 2005 +0000

    Add EF_MIPS_ARCH_32R2 and EF_MIPS_ARCH_64R2 for tagging of R2 binaries.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f039b5d3661a9b95bd86aa5a268c766b53df50e5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 17:56:24 2005 +0000

    Add a few more SHN_MIPS_* symbols from glibc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7db36c858c01218bf02931c39076b082c42d964c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 11:48:45 2005 +0000

    Add inotify syscalls for MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ec74e361f1e71a2498e48b62abdc4bd8d2423354
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 13 11:48:45 2005 +0000

    Mark a few variables __read_mostly.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cc61c1fede7d02cb8133ab0952ca3f3ba1f7fbb1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 18:35:38 2005 +0000

    MIPS R2 instruction hazard handling.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bbc7f22f6dca8a075b565ade49e9a982f89707c3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 16:12:05 2005 +0000

    Detect the 34K.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 079ef8bb809c701fa0ab09d8984262693b854f94
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 14:56:53 2005 +0000

    Generate code for MIPS32 / MIPS64 Release 2 if configured for one of
    these architectures.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ff88f8a3d290c213f90d40aa81bdea5c054f58b5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 14:54:31 2005 +0000

    Use ei / di MIPS32 R2 instructions if available.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1e5f1caa5dc4398298a2b7c2638855881a5057c5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 14:51:22 2005 +0000

    MIPS 32/64 R2 config option.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6590326505e3f7b4b57793e84760e9920c3c56b4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 12:50:30 2005 +0000

    Use clz / dclz on MIPS32 / MIPS64 processors.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e5de3b468795e4c58a9f0702630d28707b3ae011
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jul 12 09:18:53 2005 +0000

    In pcibios_enable_resources go back to handling all PCI_NUM_RESOURCES
    resources.  We tried previous but ran into problems ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e80de8503cbcaecd7637fde26635dbc825f796dd
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 11 20:45:51 2005 +0000

    Use Kconfig.preempt.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 60080265a13ea43f0ebdcd25671dcab05ed01308
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 11 20:45:51 2005 +0000

    Define kmap_atomic_pfn() for MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 129bc8f78b468df6824dd1584829f10aa3a69c27
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 11 20:45:51 2005 +0000

    Setup_frame is now returning a success value.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b490ff42709546d5cf6b631c1a84a5f4fcb020e4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 11 11:53:44 2005 +0000

    Temporary hack for Qemu and MIPSsim until they get a proper ELF loader.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c0ec406c80a65590dbdb60ed0d0c8e73e6c3884f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jul 11 10:37:51 2005 +0000

    Fix endianess bugs.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3ef33e68c1e956bb9a93734062076edcccca7070
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Jul 8 20:10:17 2005 +0000

    Date:   Fri Jul 8 20:10:17 2005 +0000
    
    Those literals are long.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 04988d6fda5c1cc670bd4c4d563b3443cf7ccce7
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Jul 8 09:17:05 2005 +0000

    Protect noat assembly with .set push/pop and make it somewhat readable.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit 9556ac2fa1b16ec702e200fc558636a09a50f0e0
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Jul 8 08:03:48 2005 +0000

    Fix get_saved_sp for 64bit address space. Simplify set_save_sp.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit 4552074577c639da32dd58a617ea11ac3e28912b
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Jul 8 07:36:51 2005 +0000

    IP30 Identification.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit 85f14bf2cb084990970f897463dea66182d28acf
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Jul 7 11:42:49 2005 +0000

    ... and it isn't a canonicalized triplet but just the n-plet used to
    configure gcc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit 73f74e23a6d9f3aabccf966c18cff04a74afed7f
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Jul 7 11:18:49 2005 +0000

    Grep deesn't like shell-style matching...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit f425a6dce50475f08547d08763f707589478b027
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Jul 7 09:19:31 2005 +0000

    Hack to make compiles for the other endianness easier.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit 6e760c8dae7d6c47eff011dd4aad53c94d30494b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 6 12:08:11 2005 +0000

    Rename CONFIG_CPU_MIPS{32,64} to CONFIG_CPU_MIPS{32|64}_R1.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ca4973dd559b702e265688e724f356d289b8cd67
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jul 6 10:43:52 2005 +0000

    Don't redeclare ll_local_timer_interrupt.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 50bd2c72ca72c07d5640e3490845d4b0faf6c124
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sun Jul 3 19:16:13 2005 +0000

    Brian Murphy says:
        this fixes Lasat pci to work with multi-function devices by assigning
        the correct values based on pin number (instead of ignoring them).
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit ec125c129e864390deef47f792e3174442e4099f
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sun Jul 3 19:12:05 2005 +0000

    Code cleanup, thanks Brian Murphy.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Thiemo Seufer <ths@networkno.de>

commit a5fc9c0bbee8b91025993a49a9176a88380aef3c
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Fri Jul 1 16:10:40 2005 +0000

    Use physical addresses at the interface level, letting drivers remap
    them as appropriate.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7d7ee221213609319401d1b9d6dc4bf22ab928ea
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 30 16:10:04 2005 +0000

    Prevent 64-bit constants from being cropped to 32 bits when used in C code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2c93e12cfec8cc668d4a2a2c8576dedabb7c69c8
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 30 10:51:01 2005 +0000

    Avoid tlbw* hazards for the R4600/R4700/R5000.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c3455b0efc2b5b1bdc755602f77ce7f43725bf61
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 30 10:48:40 2005 +0000

    Inline ioremap() calls for constant addresses that map to KSEG1.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c134a5ecdb8f4aee09feca0d4d395915e752fcb8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Jun 30 09:42:00 2005 +0000

    Avoid defining variables in the middle of a block which breaks older
    compilers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7222424e2eb7915bceb34b915150f2fc76e0477c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jun 29 13:35:19 2005 +0000

    More .set to keep 32-bit processors happy.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4c0a2d4275b6993066810c42c4c6b0729d3b67a9
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Jun 29 10:43:51 2005 +0000

    Fix the diagnostic dump for the XTLB refill handler.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 41986a6e7ea3b3acb452d00d56acda7c63761736
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Jun 29 10:24:21 2005 +0000

    Fix a diagnostic message.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 362b1d546df6851d17159a2df89d1ca209ee42c1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jun 27 22:07:43 2005 +0000

    Conversion to plat_setup() for TX4927 also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 01d42abdf3c35c2ae820bb9305174aa75492975b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Jun 27 08:34:27 2005 +0000

    Using get_nasid() to find the console node will blow up nicely if
    called on a another node than the console node, so use the master_nasid
    instead and in the unlikely case that one isn't initialized yet, fall
    back to get_nasid().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c4559f67b73d6c34fde0faac5c6c890a2cf3527c
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 23 15:57:15 2005 +0000

    Always use ".set mips3" rather than select between "mips2" or "mips3"
    for assembling ll/sc sequences to avoid problems with 64-bit
    configurations.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 69c75fb458cd81bb29e1d9580469110b00316748
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Jun 22 20:58:45 2005 +0000

    Actual handlers for bus errors for Pmax and 3min.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    diff --git a/arch/mips/dec/kn01-berr.c b/arch/mips/dec/kn01-berr.c
    new file mode 100644

commit 64dac503e8265007ea5c53b4d6bf42488a8a8d7a
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Jun 22 20:56:26 2005 +0000

    System-specific handling of bus errors for DECstation variations
    supporting parity errors only for memory (Pmax/3min/Maxine).
    Fixes for resources decoded by the KN04/KN05 MB ASIC.  Additional
    clean-ups for the ECC handler.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3b2396d972ce030e942fef9fcbea1e411b1a62db
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Jun 22 20:43:29 2005 +0000

    Use correct names for bits in the R3k cp0.status register.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e20368d5dffcfd7a2bc1749627e97e99ec4e6a77
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jun 21 13:52:33 2005 +0000

    Get the thing to compile again ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c6ad7b7d3cd7883810c05fad9d30303cf9368f63
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 20 13:09:49 2005 +0000

    Use macros for the RM7k cp0.config bits instead of magic numbers.
    Minor clean-ups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8a185d14b665d454bde84c6ae067beade452e7f8
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:50:55 2005 +0000

    Fix types for firmware arguments.  Don't define unneeded messages.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2e2849670a740128307a770dd8b5213c31081cf2
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:49:03 2005 +0000

    Remove left-over unused bits.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 260c96738cf30f489108cd0fb3f10dcd11cbb5ca
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:39:12 2005 +0000

    Mark __die() "noreturn" for real.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 778220f7c4a3357f7464a45044fd4937126ba6c5
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:37:40 2005 +0000

    Fix function types to ones appropriate for initcalls.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a76f9fe122e0ba6ff95d3a4daa854e761f8a6a76
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:35:48 2005 +0000

    GCC 4.0.0 broke `attribute(("alias"))' -- resort to an assembly variant.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3bd4c902da14030c9a780cd0c4be2ffe9aee2974
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:30:54 2005 +0000

    Deal with the bloody KSEG vs CKSEG horror...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 902d21d5313ba08cccadc9fceee2df3cf34e84eb
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Jun 16 20:23:20 2005 +0000

    There is NO port I/O space on the DECstation.  Minor clean-ups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 02416dcf5a94af34bcd28b4baf25bbbf399d8136
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jun 15 13:00:12 2005 +0000

    Redo RM9000 workaround which along with other DSP ASE changes was
    causing some headache for debuggers knowing about signal frames.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit aac8aa7717a23a9bf8740dbfb59755b1d62f04bf
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Jun 14 17:35:03 2005 +0000

    Enable a suitable ISA for the assembler around ll/sc so that code
    builds even for processors that don't support the instructions.
    Plus minor formatting fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fded2e508a1d3c26ab477ab3b98f13274d4359ba
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 20:24:00 2005 +0000

    Optimize R3k TLB Load/Store/Modified handlers, by scheduling
    delay slots properly and avoiding an unnecessary jump to a jump.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d925c262dd8bee2202b0d1b85ce0b332f48dd34b
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 20:12:01 2005 +0000

    Fill R3k load delay slots properly.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9678e28b1ab931c35567cb15927b8c5e474934c3
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 20:09:32 2005 +0000

    Only dump instructions actually emitted.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 15b6e09b66b1e534377dbd6c4d6a5d097062315c
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 19:55:42 2005 +0000

    dec_esp: Use physical addresses
    
    These should really be addresses obtained with ioremap() or some
    bus-specific backend, but for now...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 68e4a86c8010d15ec844d06f45cd564631f2fa7e
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 19:53:38 2005 +0000

    This interrupt is *always* handled -- MIPS_BE_DISCARD just means
    no further action wanted.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a93500037e6cf1d08ce112444386f408a047b548
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 13 19:50:42 2005 +0000

    Fix dependencies for DECstation framebuffers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 478489dd2c94627ca3338368f5e1bcd71639ae00
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jun 7 11:39:57 2005 +0000

    Remove dead code which was causing warnings.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d5b6f1db5d5a7ba3f2271e5018db7c8c5c4eeea1
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Mon Jun 6 16:40:58 2005 +0000

    For MIPS32/MIPS64 cp0.config.mt == 1 implies a standard (R4k-style)
    TLB, so no need to set it separately for each implementation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 81731f79974ffb0a7b4aabd3c3e472f8d46b057c
Author: Steven J. Hill <sjhill@realitydiluted.com>
Date:   Sun Jun 5 03:57:20 2005 +0000

    The DbAu1500 board also support big endian. Gee, imagine that.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ac130ac494522cf71782117b8dd4b6b57e31e5ea
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jun 1 12:18:30 2005 +0000

    Fix build with CONFIG_PRINTK disabled.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e50c0a8fa60da9ac0e0a70caa8a3a803815c1f2f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue May 31 11:49:19 2005 +0000

    Support the MIPS32 / MIPS64 DSP ASE.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 10f650db1bcc193ea07d4f8c2f07315da38ea0c4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed May 25 13:32:49 2005 +0000

    64-bit fixes for Alchemy code ;)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ffd099bd33c97db4be698ff8d8733bd6a301f6a3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 19 17:05:09 2005 +0000

    Fix build for CONFIG_BUG=n.  Yes, bugs are now a compile time option ;-)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 149f60b30c947196be4dacb0fba216d72f51bf9f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 19 14:45:12 2005 +0000

    When building for Atlas, Malta or SEAD convert the kernel to srecs by
    default.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f8280c8d3d51667015c2363eeaa76b4e28e002a5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 19 12:08:04 2005 +0000

    Fix tasteless #ifdef mess in audit_arch(), minor cleanups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fdb551a4c59945f868b8855e5baf161c9f1c0518
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 19 12:08:04 2005 +0000

    Bugs are now a configuration option.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 629c83f89b943421cd03257e7028a073baa9ca5a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 19 12:08:04 2005 +0000

    On MIPS the struct sigev preamble is only 8 bytes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4a99d1e25b98c239d6e746af6f79679c413fb712
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed May 11 12:02:48 2005 +0000

    Now that a struct is the only member left in struct
    mips_fpu_emulator_stats cleanup that unnecessary nesting of structs.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit baee502ce2048aad5ec56acd24c950083a4697e7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed May 11 11:00:36 2005 +0000

    Get rid of the eir struct mips_fpu_emulator_private member.  It's
    never initialized been initialized anywhere, just saved to and
    restored from signal frames so nonsense anyway.  As neat side effect
    of being shared between all processors it was also abusable as a
    nice covert channel between processes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1d74f6bc85cbdc4601e5aea1e67ccbd259f0c7f4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon May 9 13:16:07 2005 +0000

    __compute_return_epc() uses CFC1 instruction which might result in a
    coprocessor unusable exception since the process can lose its fpu
    context by preemption.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d547c5cc2186be9d74b0c595dc8059aef56cd445
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Fri May 6 16:28:55 2005 +0000

    sys_nfsservctl() needs translation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b382fe848345fe626b74a559fa89d2d966d03b02
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri May 6 14:31:13 2005 +0000

    No point in checking cpu_has_tlb before we've computed the CPU options.
    So for now we just unconditionally set the option - Linux wouldn't
    work without a TLB anyway.
    
    Setting MIPS_CPU_4KTLB was missing for Alchemy and Sandcraft, add that
    back.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4194318c3941fa9cfaa63dfdab9054fcae5e08d3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu May 5 16:45:59 2005 +0000

    Cleanup decoding of MIPSxx config registers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cd21dfcfbb5c43de54f6be795dde07397da2bc2f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Apr 28 13:39:10 2005 +0000

    Fix preemption and SMP problems in the FP emulator code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 63b2d2f4d2073ac3452ce977d27cc81eabaa61a3
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Apr 28 08:52:57 2005 +0000

    Handle _PAGE_DIRTY correctly for CONFIG_64BIT_PHYS_ADDR on 32bit CPUs.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ba5187dbb4b2eac99d6fa1d6bbece67e0066bf51
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Apr 25 16:36:23 2005 +0000

    Better interface to run uncached cache setup code.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7de8d2328767cf4cb463dd3ca70c44985ac835a8
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Apr 21 05:31:59 2005 +0000

    * use 'unsigned long' as address supplied to au_write[bwl]()
    * remove two already unused and commented structures
    * added an ULL suffix to several address constants that use bits 35-32
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9447cbfc7a95225e9214ccc225c063b305038a34
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Apr 19 12:26:59 2005 +0000

    Fix D-cache aliasing problem in the PIO IDE driver potencially resulting
    in the kernel or userspace seeing stale data.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ecba36dad8b635174bcbc32998a019b6d1e6f12f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Apr 18 14:54:43 2005 +0000

    Fix a few build warnings.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 88de09f351e0b38a0991f4abd4ff6691b565d2ef
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Apr 18 10:40:09 2005 +0000

    Need to include smp.h for the definition of smp_processor_id().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cce812c99c2169f7d3157b6f7fd38cde9af9c6c6
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sun Apr 17 00:04:21 2005 +0000

    Ustat needs a wrapper on n32.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b63014ad2dfd137ac38210c7c5cda7ecc3f536d0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Apr 14 15:28:28 2005 +0000

    Move sync into the delay slot here also.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 93b25d0621560012ff60a95ae265823b3a5e811a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Apr 14 12:47:15 2005 +0000

    Useless includes of everything, the kitchen sink and version.h ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1342f7e6c57f1ee04d27ee8c0c2f929f9803554a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Apr 14 12:34:15 2005 +0000

    Arrested for multiple offences of header file inclusion.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1fcf1cc742d01f786cda619fd49450b77b09e8c5
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Apr 13 18:18:04 2005 +0000

    We pass a kernel pointer to do_sigaltstack in sys32_sigaltstack, so
    we need to do the set_fs(KERNEL_DS) thing around this call.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3c37026d43c47bec4710cbda286f4a17f416f5e6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Apr 13 17:43:59 2005 +0000

    NPTL, round one.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 38551576a35f1b48b6b359470d6e876c5b671ab6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Apr 13 17:36:49 2005 +0000

    Build fix for certain configurations.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f03da6e28ea2d20f1a8451869fd1c9ea9935022b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Apr 13 13:37:32 2005 +0000

    Fix BogoMIPS display on UP and some minor cosmetical things.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 589391a0fe229573439994b3be2cc9377722cf3d
Author: Thiemo Seufer <ths@networkno.de>
Date:   Wed Apr 13 09:11:22 2005 +0000

    fcntl64 needs to be wrapped for n32.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 05b8042ac6d35383c2fcc171ed932426c4e09ed1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Apr 12 20:26:05 2005 +0000

    Fix one more case of computing the return EPC after the registers have
    already been modified.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6dd04688520d7abe4883b2a79fa720291d76b140
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Apr 12 11:04:15 2005 +0000

    When simulating ll/sc compute the return EPC before modifying the
    registers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ac5d8c022f91d790888cc8c627b8010d3c31a300
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Apr 11 12:24:16 2005 +0000

    Use fixed up pfn.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2b07bd0235ca51816e4e43cb6781973358553a1b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Apr 8 20:36:05 2005 +0000

    Detect the 4KEcR2 and for now detect handle it like the 4KEc.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fe359bf58414478a0ddbd65923e2f1aceedf330f
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Fri Apr 8 08:34:43 2005 +0000

    Fixed buglet with previous patch that broke non au1x builds.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 494900af689a22479eb405ff1323cad673bd9208
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Thu Apr 7 00:42:10 2005 +0000

    Remove CONFIG_PM dependency from au1x wait in cpu_probe.
    Additional work necessary to completely remove that config option.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 3b495f2bb749b828499135743b9ddec46e34fda8
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Mon Apr 4 01:06:19 2005 +0000

    Au1100 FB driver uplift for 2.6.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Acked-by: Antonino Daplas <adaplas@pol.net>

commit 172546bf601356f94f8018af7908a9b7c1c4915c
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Apr 2 10:21:56 2005 +0000

    Fix race conditions for read_c0_entryhi. Remove broken ASID masks in
    tlb-sb1.c. Make tlb-r4k.c and tlb-sb1.c more similiar and more efficient.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 202d0388e747d7e9b70fc0efc2a5637812b722c1
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Fri Apr 1 17:53:33 2005 +0000

    Remove useless casts.  Fix formatting.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1b3a6e975cbe81c5abc55e4c1b9f5b5250c5f20e
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Apr 1 14:07:13 2005 +0000

    Fix 64bit SMP TLB handler and stack frame handling, optimize 32bit SMP
    TLB handlers a bit, match definitions in pgtable-{32,64}.h better.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7c2740f1c1a7ff2767a92042f39edad7fad95c92
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Mar 21 19:35:53 2005 +0000

    HUB interrupts are allocated per node, not per slice.  Make
    manipulation of the interrupt mask register atomic by disabling
    interrupts.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4f12bfe5a498747a9a66f135a67aa8e1caa819dc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Mar 21 18:59:38 2005 +0000

    HUB interrupts are allocated per node, not per slice.  Make manipulation
    of the interrupt mask register atomic by disabling interrupts.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6cbe0631591ca45177d52364dec81cdfba19fec0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Mar 20 22:57:38 2005 +0000

    R4300 delay slot.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 209ac8ddb16f5aea115bbcfd34dab110c28b9f56
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 18 17:36:42 2005 +0000

    Use compat_sigval_t in struct compat_siginfo.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 127c6f662348cbf2b1c09e6fc2748af316f7d2d6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 18 17:36:42 2005 +0000

    SECCOMP for MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 53de0d471fe8ddbbeca938cffedb4cc94e04da10
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 18 17:36:42 2005 +0000

    Reformat; cosmetic cleanups.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1592dac2410511d24836e18d416b1d02c678322b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Mar 17 21:50:49 2005 +0000

    Reformatting, remove debugging code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b4dbf95e3080cf43a27cc324bfa0975f88174d07
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 16 10:23:31 2005 +0000

    Get rid of the the remains of 2.4-style ramdisk support.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 71e0e556db08cc20de76d510be5600f6e5ce143c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Mar 14 10:16:59 2005 +0000

    Multithreaded core dumps.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a3701ca48763bbc681ee8db3d203827975849185
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Sun Mar 13 08:19:05 2005 +0000

    When CONFIG_PM is enabled, it uses the TOY_MATCH2 interrupt as the system
    timer tick. Prior to this patch, if IDE IRQ probing occured, then the
    TOY_MATCH2 interrupt would be permanently disabled, and no system timer
    tick occurs. This patch corrects this situation by correctly registering
    the TOY_MATCH2 interrupt so that IDE IRQ probing doesn't have adverse
    side effects.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 90a67b5909ed39425fd2402b2b4c46ef1372b300
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sun Mar 13 00:07:00 2005 +0000

    sys_futex has 6 arguments.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 96ed748d9da03d091799f8107fce27d218fd8f5c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Mar 10 17:34:03 2005 +0000

    qtronix.c: Handle kmalloc failure.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9ff77c469ed16221c6a4e882e48e4f0dcf451bda
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 8 14:39:39 2005 +0000

    Export shm_align_mask and flush_data_cache_page.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 07b4ebd372139eb64a2898f17f2cc387b22feba8
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Mar 7 15:40:34 2005 +0000

    Put salone.o back into arclib.  It's a lib so doesn't harm if unused atm.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6d7bf017e821f3c093c80d1ee919d8d87904701c
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Mar 4 19:40:45 2005 +0000

    It helps to not use a _mem_ function for requesting I/O space.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 77c728c2240a1eb45f7d355f5d87ecc319cd55ce
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 4 19:36:51 2005 +0000

    Gcc 4.0 fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5eaf7a21be3f7f81573cf26541b8f9cc786fb67d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 4 17:24:32 2005 +0000

    Use new txx9 serial driver.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cdaed73afb61913ee5115aa38b0c35ecb0513f50
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Mar 4 12:35:42 2005 +0000

    Fix preemption bug.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ebc7f12fbc6a2d2df1930b91b380c9defb48cbf3
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Fri Mar 4 08:31:06 2005 +0000

    Int controller fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 88d535b6b58632bc51ee9a1f35ddfc357e365c37
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Mar 2 19:18:46 2005 +0000

    One definition of back_to_back_c0_hazard too much.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit fe00f943e0ef98b4057abcc2940d631a975b43cd
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 1 19:22:29 2005 +0000

    Sparseify MIPS.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 14f18b7f7e58de9a34c4b5fd38d5f73f22fba7ac
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 1 18:15:08 2005 +0000

    On 24K we did always disable cache parity protection - obviously not
    the greatest thing to do.  Try to enable parity protection, check if
    we actually succeeded and print a message about the outcome of this.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 5068debff2dcbc8f624811e3c06d60c7c0bba744
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 1 18:12:06 2005 +0000

    New hazard handling function back_to_back_c0_hazard() to handle back to
    back mtc0 / mfc0 pairs from the same coprocessor register.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0f04afb59565c3029563b9a79b3513c9f3327a27
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Mar 1 10:38:58 2005 +0000

    ISOify.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 2d32ffa44a5323fda147bd5b0723744a9163e37f
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Tue Mar 1 07:54:50 2005 +0000

    Moved irq_tab_alchemy to the board specific irqmap.c files.
    Cleaned up a to of warnings in dbdma.c.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e3ad1c23ba72214669b364c6fa304531dc768c3e
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Tue Mar 1 06:33:16 2005 +0000

    Base Au1200 2.6 support.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 784f7b9d895893c6aa3ca471c1344a62fc29c285
Author: Steven J. Hill <sjhill@realitydiluted.com>
Date:   Tue Mar 1 03:51:33 2005 +0000

    Fix 'prctl' system call for IRIX. At this point IRIX 5.3 static binaries
    are now working for 80% of the ones I have tried. The other ones that do
    not work all fail in the same way with the same messages. Once that bug
    is tracked down, we should be in good shape. Task locking still needs
    some work.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 333d1f6794b341df11f286f5dca123c6dc64a770
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 28 17:55:57 2005 +0000

    Gross macro abuse.  Get rid of gpreg_t, vaddr_t, REG_TO_VA and
    VA_TO_REG.  Who ever wrote this apparently did enjoy the C Puzzle Book.
    ISBN 0201604612, a little old but still fun reading for the next
    blackout ;)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0bd5d2e9ec8cc04a0225c590d35dd097e6b3a3f6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 28 17:29:15 2005 +0000

    Cleanup fpuemuprivate declarations.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8ab00b9a02c55fd6263c5f7c0dc88389d94de327
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 28 13:39:57 2005 +0000

    Convert struct hw_interrupt_type initializations to ISO C99 named
    initializers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d437441ef5336874e934bd53a03159a584efe95a
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Mon Feb 28 05:15:40 2005 +0000

    No barrier needed on au1x.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 13d1d73ea57e7e012bc131ce0f945231087e8c8b
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Sun Feb 27 22:15:24 2005 +0000

    Comment correction after further investigation of issue.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 685f779e6046e18b6190d2fbc9ef22e6b81c196e
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Feb 25 13:11:18 2005 +0000

    Fix initialization. Unbreak the wait-for-completion loops. Code cleanup.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 65bda1a95d395c256818d1d8129487a4497b29d8
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 22 21:51:30 2005 +0000

    Switch SiByte drivers back to __raw_*() functions.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4912ba72d6e27d0f19ec062ffd00a8c0165a2f67
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 22 21:49:17 2005 +0000

    Define mem_*() I/O accessory functions that preserve byte addresses.
    Add missing ____raw_*q() functions.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b727a60258730b331519fedda503a8da78638791
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Feb 22 21:18:01 2005 +0000

    Merge do_boot_cpu() into the new style __cpu_up().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0ac354801a879181471331c5b9be021bf5b9d515
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 21 21:34:24 2005 +0000

    On multiprocessor systems the BogoMIPS for each CPU was reported was
    the value for the last CPU having calibrated it's delay loop.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1f82bdb11ba141b3a1d37ac8c307686d56544cfe
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 21 19:50:31 2005 +0000

    Define MAP_BASE for IP27
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c4ed38a0c6e2e5c4906296758f816ee71373792f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 21 16:18:36 2005 +0000

    Resurrect Cobalt support for 2.6.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 049b13c358f0187cf3c5003d5fb9848dbcb28bc3
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Feb 21 11:44:31 2005 +0000

    Enable/disable irq's only if needed.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 9f83d839dfd2dbe421224c29f02cef77f5b4b875
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Feb 21 11:22:15 2005 +0000

    -nostdlib boilerplate.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f29244a59460a62f20885e1e3b55a845fb5a8fdb
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Feb 21 11:11:32 2005 +0000

    Fix compilation, and bring 32/64 bit variants more in line.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dc953df1ba5526814982676f47580c8e1bcdbfeb
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Feb 21 10:55:16 2005 +0000

    Fix wchan implementation, based on earlier by from Atsushi Nemoto.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 4e6a05fe5f87efd58da16fbf61e1f6329575fcfd
Author: Thiemo Seufer <ths@networkno.de>
Date:   Mon Feb 21 10:45:09 2005 +0000

    Improved modules loader, more robust and works on 64bit kernels.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 7ee8798f3756fc473e63abeba56fae3e192ce71f
Author: Steven J. Hill <sjhill@realitydiluted.com>
Date:   Sat Feb 19 16:15:54 2005 +0000

    Until I figure out why NFS filesystems are having problems with
    the 'load_irix_binary' and having kernel faults, Irix support is
    disabled. I suspect locking of some sort, but I will now have to
    investigate further.
    
    Static IRIX binaries are now being detected properly and are using the
    ELF interpreter found in this file.
    
    Signed-off-by: Steven J. Hill <sjhill@realitydiluted.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit dd193261482ac235f08836750d22689fd55c5ca0
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Feb 19 13:58:37 2005 +0000

    Initialize iomem_resource.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 16033d6104f1704bea19ca2684b1c97731479048
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Feb 19 13:56:04 2005 +0000

    Handle addresses beyond VMALLOC_END correctly.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 26a51b270f6d87674b713705ba9533440ca41b6c
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Feb 19 13:32:02 2005 +0000

    Use intermediate variable.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 1ba582a1285d534928d68c9d67d8fb63da9abbd1
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Feb 19 13:27:41 2005 +0000

    O2 doesn't have _that_ much RAM.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d8f5d861789ff23b5d87c081f458aaa7f3c6cdcd
Author: Pete Popov <ppopov@embeddedalley.com>
Date:   Fri Feb 18 06:27:25 2005 +0000

    Changed all Au1x boards to noncoherent again.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d1abb6a2b8b57fa14ae0f69d4a3cb07ff9cdb8d1
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:25:03 2005 +0000

    32-bit compatibility for various timer-related system calls.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a982099ca5465dd848d8ae28a83a3e49ac7b612b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:24:16 2005 +0000

    Update to match the native siginfo structure and code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 09276d905ef7498212ef69d5c324d027dc405896
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:22:40 2005 +0000

    32-bit compatibility for ptrace GETEVENTMSG operation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 54f2da755b7f0bf022ea204240cba824af4d80ad
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:21:29 2005 +0000

    Implement 32-bit compatibility for waitid(2).
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a19050f301c55313826a649943d492c65f977479
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:19:59 2005 +0000

    Waitid(2) now has 5 arguments.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b6e203d84da8298b903a0ebcad1a8170f3959b4f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 21:18:52 2005 +0000

    Use generic compat_sys_wait4 to implement 32-bit wait4(2).
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a4f23e3dfc0931b988f70e38a876bc760400af7b
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 16 20:15:40 2005 +0000

    Allocate break code 513 to KDB.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 39408c6af4457a5dafaa0394932229a8f498a871
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 13 23:10:08 2005 +0000

    Replace the complicated and broken attempt to clean interrupt by
    something simple - doesn't need to be fast, after all.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ca8a597d53e2ef10a005fb38e8de778aa2246035
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 13 21:31:24 2005 +0000

    If you want RM7000 better fix it to build first ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit de1db6ffe2d802460b7e9f2c1e354066e000d6e6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 13 18:53:26 2005 +0000

    It's unwise to disable all interrupts of the boot node ;-)
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 85b6e8184b798d06c854463cdd6c63dd1d4ff47c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 13 00:32:43 2005 +0000

    Rewrite to avoid the use of $at.  Unfortunately binutils 2.15 and CVS
    binutils are broken and don't warn about this use of $at even though
    gas is in .set noat mode so this for now is an accident waiting to
    happen.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f4b7cdb4814e9ad1ec662bad5fccc4d37bcc6d4c
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Sat Feb 12 04:31:49 2005 +0000

    Enable RM7000 secondary cache for Atlas and Malta boards.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 79acf83e509dd0ca3db6c747bf58931984abc6e3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 10 13:54:37 2005 +0000

    Moves a test which determines if we actually need to perform a
    cacheflush to the right place.  That's a bug which is harmless on UP
    but a severe bug on SMP.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c6e8b587718c486b55c2ebecc6de231a30beba35
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 10 12:19:59 2005 +0000

    Update MIPS to use the 4-level pagetable code thereby getting rid of
    the compacrapability headers.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 57f0060b8a2bb2a70a4cce1a37d5e0158cea92a6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 10 12:00:06 2005 +0000

    Document why calling smp_call_function will deadlock when called with
    interrupts disabled.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 26852d5cdb2bac01f2a48b815194a045e8a8e300
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Feb 9 12:59:39 2005 +0000

    Fix ptrace aliasing issue in copy_from_user_page / copy_to_user_page.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 505403b6a02aefc47c038acf56b719497b720012
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 21:53:39 2005 +0000

    25Kf is also physically indexed.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 55a6feb671885d3a1758dad20b53224a038349bc
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 21:52:35 2005 +0000

    Add a few more PrId vendor IDs.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a95970f323a273230b36d23da1426f8acc5e25c0
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 21:41:32 2005 +0000

    20Kc and SB1 don't suffer from aliases.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 84fd089a425f055ecf4a6a72f2509ccb98314b8f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 16:13:07 2005 +0000

    Delete duplicate copy of fixrange_init.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit cc26b815ddde4168cd853be9e62ecacd392e3f64
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 12:14:00 2005 +0000

    rm9000_init() really is __init code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit a18815abcdfd9f10a6ce6fbec3ad1af1ae101ce7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 02:54:29 2005 +0000

    Use preempt_schedule_irq.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 54176736f734ca3a1f27416d8e5804981a627076
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 02:54:29 2005 +0000

    More oprofile bits for MIPS32-style performance counters.  The code to
    bolt this into the actual hardware interrupt is yet missing from this
    commit.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     FEXPORT(ret_from_fork)

commit 29c4869946f9182f5d5f76502ac5a4a71b3b3e62
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Feb 7 01:27:14 2005 +0000

    It works better when including arch/mips/sgi-ip27/Kconfig ...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ae6aafe30917c4c9f3533471d491b5e7c2fbe61a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 6 21:55:49 2005 +0000

    Move missplaced code line to the right place.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0efe27617e67448dfe78e7cebde3a6f9eadf1223
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sun Feb 6 21:24:55 2005 +0000

    Provide functions to access cop0 config4-7 registers
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit d1e344e500cc693139a69d29122db18190916448
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 4 15:51:26 2005 +0000

    Use hardware mechanism to deal with cache aliases in the 24K.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 28ecca4786bd8af209ae65689faa6aeea80adba2
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Feb 4 15:19:01 2005 +0000

    Remove old wrong bits of cache code.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit ea7c394492cb56ff0c10ad327157f237d5bbe6b4
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Fri Feb 4 01:34:52 2005 +0000

    Clean up SEAD interrupt initialization.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 925ddb04c5eee5668e7229c71580d458ed61eb9b
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Thu Feb 3 23:06:29 2005 +0000

    Mask and ack CPU interrupts upon initialization.  Keep the state
    of software interrupts when unmasking.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 38b18f72587422450bd01695b471b3ae2ff4b169
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 3 14:28:23 2005 +0000

    Move Sibyte Kconfig stuff into it's own Kconfig.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit db89a48c1f2fa9197404ca511d9df808196ca25d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 3 13:37:41 2005 +0000

    Replace deprecated interruptible_sleep_on() function call with direct
    wait-queue usage.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit e3c4807825501f0b445fe34b627669be24b59320
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Feb 3 13:34:45 2005 +0000

    Define __raw_read_can_lock / __raw_write_can_lock.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit f638d1971e3135025471c99bf079a24fbb1f3bfa
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Feb 2 22:23:46 2005 +0000

    Update descriptions for MIPS Technologies evaluation boards.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b6d468ec2db51768a456a894105a96f4ad8a346a
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Wed Feb 2 20:36:21 2005 +0000

    Reenable EARLY_PRINTK for the DECstation.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 304429915dad26ccf212d63ea1f18be36e3188e2
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 1 23:02:12 2005 +0000

    Formatting fixes.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 6b123979543a37d109b74a359b147b38ee8166dd
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 1 20:21:48 2005 +0000

    Fix compilation; by Manish Lachwani.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit aa0980b8090878bf42bc73a13d051a203a201d7d
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 1 20:18:59 2005 +0000

    Fixes for system controllers for Atlas/Malta core cards.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit bec0204dfb35cd5b91c0b34f97a481f363f6b272
Author: Maciej W. Rozycki <macro@linux-mips.org>
Date:   Tue Feb 1 12:02:37 2005 +0000

    Actually route cPCI interrupts.  Update inaccurate comments.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c6237645d1e9e687031048f5ffd343133fddb55c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 26 02:22:22 2005 +0000

    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    Fix TASK_SIZE for 32-bit processes on 64-bit kernels.

commit b053c98fbbe9942669af2f1a351eaeae1b344d38
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Jan 26 02:21:06 2005 +0000

    Fix register layout in o32 core dumps on 64-bit systems.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c83cfc9c9477d0bc0e0a1ba29dfc58e0d42b2faf
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Jun 21 13:56:30 2005 +0000

    Get rid of early_init.  There's more need to make this form of
    initialization actually useful and as is certainly unmergable with
    upstream.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 8c93650890a33318263880dec36603a6d5749b7e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Dec 28 09:09:19 2004 +0000

    Dummy ISA DMA functions for systems that don't have ISA but share
    drivers with ISA such as legacy free PCI.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b188ffe876382ecc009ceb4fe033fd6ec7ba4ede
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Dec 28 07:49:43 2004 +0000

    Fix build with SMP disabled and preemption enabled.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 0964ce24d091a1d3dc7f667e1b107ab77d4325e6
Author: Thiemo Seufer <ths@networkno.de>
Date:   Thu Dec 23 08:21:39 2004 +0000

    Move the invalid pmd and pte tables from .data to .bss. Fix alignment.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit c264852726dde251a0c09ec22f61a9be8b0db68b
Author: Thiemo Seufer <ths@networkno.de>
Date:   Fri Dec 10 12:56:33 2004 +0000

    Remove unused arguments from preempt_{start,stop}/local_irq_{en,dis}able.
    Don't clobber the preloaded TI_FLAGS in a2 needlessly.
    Unexport local functions.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 69903d6500c73af8329a5fba7153b0d50748981c
Author: Thiemo Seufer <ths@networkno.de>
Date:   Wed Dec 8 10:32:45 2004 +0000

    Fix typos and formatting.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit b59a9504cb93db7fae31e60760725d48652a1fc3
Author: Thiemo Seufer <ths@networkno.de>
Date:   Sat Dec 4 21:35:05 2004 +0000

    De-optimize and decomplicate the spurious interrupt handler.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>

commit 955c5038823748e529a49f0e33ab635d92843500
Merge: 62d3af1... 2ab540b...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Oct 29 11:26:04 2005 -0700

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit 62d3af1b5f3aa613e0a489e8d798d45b07f373f4
Merge: 942b6f6... e71180f...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Sat Oct 29 11:25:16 2005 -0700

    Merge branch 'upstream-linus' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit e71180f3689e00c5a1095925352a72dacdd62e34
Author: Patrick McHardy <kaber@trash.net>
Date:   Sat Oct 29 13:31:39 2005 +0100

    [PATCH] prism54: Free skb after disabling interrupts
    
    The dev_kfree_skb in islpci_eth_transmit happens while irqs are still
    disabled, so either dev_kfree_skb_irq needs to be used or the skb
    needs to be freed after irqs have been enabled again. This patch
    should fix it.
    
    Signed-off-by: Patrick McHardy <kaber@trash.net>
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit eef55ac7bf16669cb022db30143d0a6d8cb1f5e6
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 06:36:27 2005 +0100

    [PATCH] s2io iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f9a5f7d3f3319aac02a7a36a2fea10bd33c3d16a
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sat Oct 29 15:09:26 2005 +0200

    [PATCH] drivers/net/tg3: Use the DMA_{32,64}BIT_MASK constants
    
    This one from my DMA_{32,64}BIT_MASK series did not seem to make it
    through to upstream.
    
    Use the DMA_{32,64}BIT_MASK constants from dma-mapping.h when calling
    pci_set_dma_mask() or pci_set_consistent_dma_mask()
    This patch includes dma-mapping.h explicitly because it caused errors
    on some architectures otherwise.
    See http://marc.theaimsgroup.com/?t=108001993000001&r=1&w=2 for details
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2ab540becd1bcf9c6886370fd8c67e56dd1c9f3a
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 06:38:44 2005 +0100

    [PATCH] sata_sil24 iomem annotations and fixes
    
    	trivial iomem annotations + missing memcpy_fromio() caught by
    those
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 57f3bda88a5e5a2810016820a932cb82931dcb1c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Fri Oct 28 20:37:23 2005 -0700

    [PATCH] libata-core cleanups (updated)
    
    libata-core cleanups:
    - use kzalloc() instead of kmalloc() + memset();
    - use one exit path in ata_device_add();
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d052d1beff706920e82c5d55006b08e256b5df09
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 19:07:23 2005 +0100

    Create platform_device.h to contain all the platform device details.
    Convert everyone who uses platform_bus_type to include
    linux/platform_device.h.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Acked-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ac19bff25b6834d858274406a686f2227dd8489d
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 29 13:58:21 2005 -0400

    [libata] ensure ->tf_read() hook reads Status and Error registers
    
    We want ->tf_read() to get a complete snapshot of all taskfile
    registers, without requiring the callers to manually call
    ata_chk_status() and ata_chk_err() themselves.
    
    This also fixes a minor bug in sata_vsc where the lower bits of the
    feature register were incorrectly placed in the HOB (high order bits)
    portion of struct ata_taskfile.

commit 942b6f62164cf8822dd03b1569777f4663d1abd7
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 12:07:11 2005 +0100

    [PATCH] type fix in arm/boot/compressed/misc.c
    
    spot the typo...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a6e0eb3791dcefc6dd4db53a23de5cfb18fe9a97
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 12:02:00 2005 +0100

    [PATCH] bluetooth hidp is broken on s390
    
    Bluetooth HIDP selects INPUT and it really needs it to be there - module
    depends on input core.  And input core is never built on s390...
    
    Marked as broken on s390, for now; if somebody has better ideas, feel
    free to fix it and remove dependency...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Acked-by: Marcel Holtmann <marcel@holtmann.org>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 018a2cdf1e633497bb4f01eb86a7cbffa611776d
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 11:56:13 2005 +0100

    [PATCH] idmouse cleanup and overflow fix
    
    switched to simple_read_from_buffer(), killed broken use of min().
    Incidentally, that use of min() had been fixed once, only to be
    reintroduced in commit 4244f72436ab77c3c29a6447af81734ab3925d85:
    
        [PATCH] USB: upgrade of the idmouse driver
    
    [snip]
    -       if (count > IMGSIZE - *ppos)
    -               count = IMGSIZE - *ppos;
    +       count = min ((loff_t)count, IMGSIZE - (*ppos));
    
    Note the lovely use of cast to shut the warning about misuse of min()
    up...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 32b32c2c3566b206988fa30336ec6534759823b5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 11:49:33 2005 +0100

    [PATCH] amikbd fix
    
    it's input_allocate_device(), not input_dev_allocate()...
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 943eae03143790c71cf42fe13529f1b74ceb0266
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 07:32:07 2005 +0100

    [PATCH] missing exports of do_settimeofday() variants
    
    frv, sh64, ia64 and sparc64 do not have do_settimeofday() exported (the
    last two are using variant in kernel/time.c).  Exports added to match
    the rest of architectures.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9d86b7d37018c917837477dd4501d44bf8f3f98c
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 07:08:49 2005 +0100

    [PATCH] missing bits in sparkspkr conversion
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f6b52e85a5d022008fe9f99eab7c9f41f155e3cd
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 07:06:59 2005 +0100

    [PATCH] arguments out of order in class_device_create() call (s390)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 2d3c0b7bedfd7a8e1870a046a434bd467e7c5349
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 06:46:03 2005 +0100

    [PATCH] missing include in infiniband
    
    use of IS_ERR/PTR_ERR in infiniband/core/agent.c, without a portable
    chain of includes pulling err.h (breaks on a bunch of platforms).
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Acked-by: Roland Dreier <rolandd@cisco.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 4b4a5eaedfc098d825d4c34cad1f1115802512b7
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 06:38:44 2005 +0100

    [PATCH] sata_sil24 iomem annotations and fixes
    
    trivial iomem annotations + missing memcpy_fromio() caught by those
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7533624527b9afa5585ca43ba534758052d848e5
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Sat Oct 29 06:36:27 2005 +0100

    [PATCH] s2io iomem annotations
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8d027de54c77d38eedc9b331c7a2a39807d34691
Author: Oleg Nesterov <oleg@tv-sign.ru>
Date:   Sat Oct 29 19:37:40 2005 +0400

    [PATCH] fix ->signal->live leak in copy_process()
    
    exit_signal() (called from copy_process's error path) should decrement
    ->signal->live, otherwise forking process will miss 'group_dead' in
    do_exit().
    
    Signed-off-by: Oleg Nesterov <oleg@tv-sign.ru>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 47e627ce83b6df9f4bb8e4b0a4dde1c5d7a4c929
Author: Tejun Heo <htejun@gmail.com>
Date:   Sat Oct 29 18:18:42 2005 +0900

    [PATCH] blk: fix merge bug in as-iosched
    
    as-iosched deals with aliased requests differently from other ioscheds.
    
    It links together aliased requests using rq->queuelist instead of
    spilling alises to dispatch queue like other ioscheds do.  Requests
    linked in this way cannot be merged.
    
    Unfortunately, generic q->last_merge handling patch didn't take this
    into account and q->last_merge could be set to an aliased request
    resulting in Badness, corrupt list and eventually panic.
    
    This explicitly marks aliased requests to be unmergeable.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a3632fa3ecefe50d88fc70af90610f79b99e0715
Author: Jack Hammer <jack_hammer@adaptec.com>
Date:   Tue Oct 25 14:13:03 2005 -0400

    [SCSI] ips: Fix up for correct scatter/gather processing
    
    Added kmap_atomic/kunmap_atomic. Added protection of KM_IRQ0 slot with
    local_irq_save(), local_irq_restore(), and comments.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eb66fff7d94199f80378bc0b51a06e62ce379b53
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:30:10 2005 -0400

    [SCSI] lpfc: Change version number to 8.1.0
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 73797e31b5b07c8a53afd19d8a382625bcd32005
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:30:05 2005 -0400

    [SCSI] lpfc 8.1.0 : Add owner field to struct pci_driver
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c514e58cb8eac0d21f4ab5011df75a09eb5edd50
Author: Kenneth Tan <chong.yin.tan@intel.com>
Date:   Sat Oct 29 16:32:14 2005 +0100

    [ARM] 3022/1: Missing peripheral devices memory mapping definition for IXP46X processor
    
    Patch from Kenneth Tan
    
    Defining IXP46X peripheral devices memory mapping definitions that have
    been missed out:
    o Peripheral virtual base address is being adjusted to allow more headroom to add extra peripheral device addresses
    o Peripheral size is being increased to address the above needs
    o Virtual address of expansion bus and PCI configuration register needs to be adjusted as new peripheral device memory space is overlapping with their virtual address space
    
    Signed-off-by: Kenneth Tan <chong.yin.tan@intel.com>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0bd4ca25ad2ace4aa717c83dbd4ed21c53c953cb
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:30:02 2005 -0400

    [SCSI] lpfc: Fix eh_ return codes for commands
    
    Return FAILED from eh_ routines if command(s) is(are) not completed
    
    There were scenarios where we may have returned from the error
    handlers prior to all affected commands being flushed to the midlayer.
    Add changes to ensure this doesn't happen.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4a0dfcdefb1cc81c0920dc98fbb82bb57326b16d
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:56 2005 -0400

    [SCSI] lpfc: Remove unneeded IOCB_t * cast
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit a784efbff725b7f4893a8835ac7232c0e00d24e4
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:51 2005 -0400

    [SCSI] lpfc: Adjust lpfc_scsi_buf allocation
    
    Adjust lpfc_scsi_buf allocation to account for lun_queue_depth and
    error handling
    
    Under high load and high duress, the error handler could steal some
    command resources from the normal i/o path. Rework to allocate
    additional resources to avoid this scneario.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 68876920f442912c94f749bc337c888696cb9ed0
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:47 2005 -0400

    [SCSI] lpfc: Replace lpfc_sli_issue_iocb_wait_high_priority
    
    Replace lpfc_sli_issue_iocb_wait_high_priority with lpfc_sli_issue_iocb_wait.
    
    Simplify code paths, as there really wasn't a "priority"
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 604a3e3042eb89ffaa4f735ef9208281aae786c7
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Oct 29 10:28:33 2005 -0500

    [SCSI] lpfc: Fix for "command completion for iotax x?? not found"
    
    From: James Smart <James.Smart@emulex.com>
    
    There were scenarios where the error handlers could reuse an iotag
    value of an active io.  Remove all possibility of this by
    pre-assigning iotag resources to command resources.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1a47ebc0d971fbc47cd859a09956f7c7d001f5fd
Author: Nicolas Pitre <nico@cam.org>
Date:   Sat Oct 29 16:28:29 2005 +0100

    [ARM] 3059/1: fix XIP support
    
    Patch from Nicolas Pitre
    
    Fix XIP support after recent bootmem code refactoring.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b4a1f67fbfb848ded8cf0c6c305224534144ab2d
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Oct 29 16:28:28 2005 +0100

    [ARM] 3053/1: introduce ixp2000_reg_wrb (ixp2000_reg_write plus readback)
    
    Patch from Lennert Buytenhek
    
    Introduce ixp2000_reg_wrb, which is a variant of ixp2000_reg_write
    that does a readback from the target register, to make sure that
    the write has been flushed out of the write buffer.
    
    Unlike the previous (ineffective) readback in ixp2000_reg_write, this
    readback is followed by an instruction that depends on the value of
    the readback so that the CPU actually stalls until the readback has
    completed.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ecbea7a2dae94092db9566bcd1f38535e9b3cde9
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Oct 29 16:28:27 2005 +0100

    [ARM] 3051/1: turn ixp2000_reg_read into an inline function
    
    Patch from Lennert Buytenhek
    
    Turn ixp2000_reg_read into an inline function.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 931db7d6880027bb2b6b0cb78a488ab1486e28b7
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Sat Oct 29 16:28:26 2005 +0100

    [ARM] 3050/1: remove ixp2000_reg_write erratum #66 workaround
    
    Patch from Lennert Buytenhek
    
    The workaround that we do for avoiding triggering ixp2400 erratum #66
    involves mapping I/O pages using XCB=101 instead of XCB=000 so that we
    prevent the I/O signal to the gasket from being asserted (which can
    cause data corruption.)  But XCB=101 mappings are write-buffered while
    mappings using XCB=000 are not, which is why if we use XCB=101 mappings
    we do a readback for every CSR store in an attempt to make sure that
    the store has been pushed out of the xscale core and the gasket.
    
    Unfortunately, there are two issues with this:
    - we do a readback for every CSR store, which is wrong, because the
      register we are writing to might have unwanted side-effects on read,
      for example, in the case of the scratchpad ring enqueue/dequeue
      registers; and
    - the readback is totally ineffective in the way we currently do it,
      because we just issue a load but do not issue any instruction that
      depends on the return value of that load, so the xscale core does
      not wait for the load to complete before continuing.
    
    See this linux-arm-kernel mailing list post for further information:
    	http://lists.arm.linux.org.uk/pipermail/linux-arm-kernel/2005-September/031314.html
    
    This means that my ixp2400 boxes have been running for many months
    without a working readback in ixp2000_reg_write, without any apparent
    adverse effects.  Two of them have been running for a week now with
    the actual readback deleted from ixp2000_reg_write, also without any
    apparent ill effects.
    
    So, because in its current form it does more harm than good, the
    readback in ixp2000_reg_write should simply be killed, as the patch
    below does.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 21568f5387636fe2bfb9ee42383d76de11ed99c7
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:36 2005 -0400

    [SCSI] lpfc: Remove RPI hash from the driver
    
    Table was not providing a lot of value and injected a couple of
    errors. Removed it and made functionality inline.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 93a20f74450ca3402b3ba89fb490114cf6f2d353
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:32 2005 -0400

    [SCSI] lpfc: Restore HEX safe bahavior of the sysfs xxx_store functions.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f91b392c4d20fcd2684587c0a091123c0409959c
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:28 2005 -0400

    [SCSI] lpfc: Fix for "Unknown IOCB command Data: x0 x3 x0 x0"
    
    Fix for "Unknown IOCB command Data: x0 x3 x0 x0" messages and
    inability to see devices
    
    On some platforms, the host-memory based ring mgmt area was not
    zero. Also, driver wasn't manipulating the entire 32bits of the ring
    pointers.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 09703d38d47d2b4ff769269ffe01c9aa340e3c8b
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:21 2005 -0400

    [SCSI] lpfc: Fix comments for nodev_tmo
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 13bfb34c10fae6016710f5f070043c8b94b40583
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 16:14:08 2005 +0100

    [ARM] Fix Assabet reboot with SA1100 MTD map driver
    
    Unfortunately, some devices forgot to reset the flash on reboot.
    Arrange for the map driver to suspend & resume the flash to
    ensure that it is in a sane state before rebooting.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7bcbb7527fb2f06b6500f6ee3e7f750a0ed0239c
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:13 2005 -0400

    [SCSI] lpfc: Add range checking for attributes passed as options at load time.
    
    Reuse macros defined for sysfs store callbacks in the initialization
    code in order to enforce the same range checking.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 755c0d06c58f7b84e9798365f806dadfef8c1839
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:06 2005 -0400

    [SCSI] lpfc: Return -EINVAL, -EPERM, and -EIO instead of 0 from sysfs callbacks
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 964b77e77666fbe9f2ca02e87c6adce0cd209971
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:29:01 2005 -0400

    [SCSI] lpfc: Update to Emulex hba model names
    
    Update adapter names to match Emulex naming conventions.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 183e1a349466a1b90430a58f3efad25a3e555cb2
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 16:09:59 2005 +0100

    [ARM] Add support for SA1100 Jornada flash device support
    
    This got dropped from the SA1100 flash driver a while back and
    never added to the platform support file.  Add it back.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 433c357956b5a9da79d42d9128dcacc32929f2dd
Author: James Smart <James.Smart@Emulex.Com>
Date:   Fri Oct 28 20:28:56 2005 -0400

    [SCSI] lpfc: Cleanup code in lpfc_get_stats().
    
    Cleanup white spaces in argument calls & initializations, prune if
    statements, remove casting and remove redundant if checks.
    
    Signed-off-by: James Smart <James.Smart@emulex.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 14e66f767f5e8d023e098b475dc24ddc9a5dbdfd
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 16:08:31 2005 +0100

    [ARM] Allow MTD device name to be passed via platform data
    
    Allow SA1100 devices to pass the name of the flash device to the
    SA1100 map driver.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 822e5e72697ce06e4425c17d161b0482c7d9b6d4
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 16:03:24 2005 +0100

    [ARM] Fix MTD device/partition destruction
    
    We should not delete MTD partitions when we registered a MTD
    device.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit ca61f10ab2b874b889e89d14ea09fae2dcccdca6
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Oct 29 10:01:24 2005 -0500

    [SCSI] remove broken driver cpqfc
    
    Hopefully there should be a brand new replacement driver for this heap
    of junk by the beginning of next year.
    
    Acked By: Martin K. Petersen <mkp@mkp.net>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0d2ef7d73e0b5173af3940139569bebd2375f441
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 15:57:20 2005 +0100

    [ARM] Add support for init/exit methods in sa1100 MTD map driver
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 57725f0a94435355214977bb9b0e5089bba1b173
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 15:51:14 2005 +0100

    [ARM] Rename 'data' to 'plat' in sa1100 MTD map driver
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 80e23babfcf21a2dc726d3be00e06993f02f0274
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Sat Oct 29 09:42:17 2005 -0500

    [SCSI] fix up mismerge in osst
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit affcd50546d4788b7849e2b2e2ec7bc50d64c5f8
Author: Michael S. Tsirkin <mst@mellanox.co.il>
Date:   Sat Oct 29 07:39:42 2005 -0700

    [IB] mthca: report asynchronous CQ events
    
    Implement reporting asynchronous CQ events in Mellanox HCA driver.
    
    Signed-off-by: Michael S. Tsirkin <mst@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 8c18fe2562c45180c407872d05857c55c1e5e37b
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 13:18:10 2005 +0100

    [ARM] Fix buggy __phys_to_pfn / __pfn_to_phys
    
    Macro arguments should _always_ be surrounded by parentheses
    when used to prevent unexpected problems with operator precedence.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit fb31690fbac6f4055c1765522752e4746759f5de
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Sat Oct 29 13:15:10 2005 +0100

    [ARM] Ensure machine information structures aren't optimised away
    
    Since the machine information structures are now static, the
    compiler might optimise them away.  Mark them with
    __attribute_used__ to prevent this occuring.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit eb66ce6333742e32825f0294310ff53e284fa828
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 29 22:11:06 2005 +1000

    powerpc: Remove T command from xmon help text since it no longer exists
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3ee1fcac33eae824422b9b98d972a85e79672426
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 29 22:10:38 2005 +1000

    powerpc: import a gfp_t fix to arch/powerpc/mm/pgtable_32.c
    
    This applies the same fix as Al Viro recently made to
    arch/ppc/mm/pgtable.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c1c3a554a32c3de1340887caa5729d67ed6684d6
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 29 22:08:55 2005 +1000

    powerpc: 32-bit needs cur_cpu_spec exported too
    
    Somehow we ended up with an #ifdef CONFIG_PPC64 around the export
    of cur_cpu_spec, but raid6 as a module needs it on ppc32 as well
    as ppc64.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0cb7b2afd79c5715cbd1d4eee826571fb17fdd65
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 29 22:07:56 2005 +1000

    powerpc: Merge maple support code to arch/powerpc/platforms/maple
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d3f67fbb96b827c1a6a7a82689e589865581155c
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 29 15:31:17 2005 +1000

    powerpc: Add -mno-altivec for ARCH=powerpc builds
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ffa27b6bc61c3be76a756100f777372768bcc3ab
Author: Andy Whitcroft <apw@shadowen.org>
Date:   Fri Oct 28 17:46:58 2005 -0700

    [PATCH] ppc64 memory model depends on NUMA
    
    Currently when we first select memory model (FLAT, DISCONTIG, SPARSE) then
    select whether the machine is NUMA.  However NUMA systems may not be FLAT.
    This constraint it not honoured and we may configure a NUMA/FLAT system.
    
    Reorder the configuration such that we choose NUMA first which allows us to
    only list the memory models which are valid.  We now default NUMA for known
    NUMA systems.  Note that this new order also matches that used in x86.
    
    Signed-off-by: Andy Whitcroft <apw@shadowen.org>
    Signed-off-by: Joel Schopp <jschopp@austin.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ea6526605a60cf9a6f758605f73062fac6d974cf
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:57 2005 -0700

    [PATCH] ppc64: remove duplicate local variable in set_preferred_console
    
    remove duplicate local variable, saves 2 asm instructions.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 18c5332bc17e75efdc02cc17410c647a627861f2
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:56 2005 -0700

    [PATCH] ppc64: change name of target file during make install
    
    'make install' creates a /boot/zImage[.vmode] file when the defconfig is used.
    
    It uses the second arg as file content, which is the vmlinux, and the 5th
    arg as file name, which is the BOOTIMAGE name.
    
    A comment in an earlier patch to install.sh states that yaboot can not load
    a zImage+initrd combo.  This was true in kernel 2.6.5 because it did use
    bi_recs to pass the initrd info.  But this concept was always broken.
    Register r3 holds the initrd address and r4 holds the initrd size.  This
    works with all kernel versions.  The current code in main.c leaves r3 and
    r4 alone, so the kernel should be able to see and use the memory range with
    the initrd content.
    
    If one wants to rerun mkinitrd, it is currently hard to get the uname -r
    value for the installed zImage.  Without this info, mkinitrd can not know
    what modules to use.  This would be fixable by including the /proc/version
    output of the new kernel.  But it is simpler to just use the plain vmlinux.
    
    So all this patch does is to write to /boot/vmlinux instead to /boot/zImage
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1eee4daa9940f7044806d83006051104cc8680b3
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:55 2005 -0700

    [PATCH] ppc64: reenable make install with defconfig
    
    'make ARCH=ppc64 O=../O install' does not work with the defconfig.
    CONFIG_PPC_BPA is part of it, but the BPA bootimage variable is wrong:
    
    make[2]: *** No rule to make target `zImage', needed by `install'.  Stop.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 18f568b79bf698aea9a78b63782398c914241ad8
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:54 2005 -0700

    [PATCH] ppc64: compile nls_cp437 and nls_iso8859_1 into the kernel in defconfig
    
    compile nls_cp437 and nls_iso8859_1 into the kernel in defconfig.  This is
    already enabled in pSeries_defconfig.
    
    Reason: if one just boots the new shiny zImage and the root filesystem is
    on a filesystem not readable by yaboot (like jfs, raid or lvm) upgrading
    the bootloader will fail because the FAT bootpartition can not be mounted.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 08124f958997ac14bb2284af787752125a892e9f
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:51 2005 -0700

    [PATCH] ppc64: AC Power handling broken for desktops
    
    Currently, AC Power is 0 on a desktop G4.  No batteries present should mean
    AC Power == 1.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7e658118faa9faf71f8a8295cdaeb7ca71c04672
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:50 2005 -0700

    [PATCH] ppc64 boot: print firmware provided stackpointer
    
    Show firmware provided stackpointer during boot.
    
    This helps to find the "taboo" areas on the various boards.  claim tends to
    fail for these memory areas, but some jokers return success anyway.
    
    Use %p to print the load address, its a pointer.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 67a1b68263d58a3ed5ce024468606044a1561312
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:49 2005 -0700

    [PATCH] ppc64 boot: proof that reloc works
    
    To prove that the relocation works, move the crt0.o away from the beginning.
    Move linker options from command line into linker script.  rename entry point
    because '_start' is referenced in printf output.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fc228a04a4c01bbb2f898e180a14f9a976001f79
Merge: 9fcc2e8... 8a212ab...
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Sat Oct 29 03:10:35 2005 -0200

    Merge branch 'master' of /pub/scm/linux/kernel/git/torvalds/linux-2.6

commit a4497235f00d811943831c9d76995d36c4ffab2d
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:48 2005 -0700

    [PATCH] ppc64 boot: make the zImage relocateable
    
    Make the zImage relocateable.  So yaboot could just load and run any ELF
    binary, without worrying about its load address.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit afbe8c4bb0155f533d6e57edd269c93e2f23c2fa
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:47 2005 -0700

    [PATCH] ppc64 boot: remove global initializers
    
    No need to initialize global variables.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 844ae3a0d1638753802770cde881dff0e0704551
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:46 2005 -0700

    [PATCH] ppc64 boot: fix typo in asm comments
    
    Update comment in memcpy, r7 contains the byte count.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9b0cbe97566dd7123eee0462d91703434fe61090
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:45 2005 -0700

    [PATCH] ppc64 boot: use memset to clear bss
    
    Use memset to clear bss, instead of own version.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 06cf26beffc54bb43aebbefa60f84e0dffde3141
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:44 2005 -0700

    [PATCH] ppc64 boot: cleanup linker script
    
    Remove userland related stuff from ld.script, they are not required for zImage
    use wildcards for some sections.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 83097c5d543894864a564cde6c27d4e523d67674
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:43 2005 -0700

    [PATCH] ppc64 boot: bootfiles depend on linker script
    
    bootfiles must be relinked if linker script changes
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6bcc20b5ade6c8e9d9a0767090c65024047d91c4
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:41 2005 -0700

    [PATCH] ppc64 boot: move gunzip function before use
    
    Move the gunzip function up.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8a76baf02006c945fa4a2a01a58848cb38777697
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:40 2005 -0700

    [PATCH] ppc64 boot: remove need for imagesize.c
    
    Compute the vmlinux size at runtime.
    
    Use Z_FULL_FLUSH instead of Z_FINISH, to extract only the ELF header
    and ELF program header.
    
     ->p_memsz is the required memory range for the executable, including bss
     ->p_filesz is the size of .text, .data and other runtime sections
    
    These values must be used for the claim call.
    All additional memory needed by the kernel is claimed in prom_init, remove
    the extra Mb.
    
    Pass the full memsize as target area to gunzip, otherwise not everything
    will be uncompressed.
    
    flush_cache has to flush all runtime sections, do not reduce the memrange
    by the ->p_offset value because its just that: an offset.
    
    Remove the Makefile code to produce an imagesize.c, its not needed anymore.
    Remove all FORCE flags, to not rebuild the zImage if vmlinux was not changed.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7054036fc526b741ba90ff1d077ac900362f30ed
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:38 2005 -0700

    [PATCH] ppc64 boot: remove zlib
    
    Switch ppc64 to the in-kernel zlib, it has less bugs than the current one.
    The code in arch/ppc64/boot is compiled as 32bit, so it can not use the
    includes from include/asm.
    
    Copy all zlib related header files and convert them with sed.
    
    Reduce the scratch size to 47k, check possible changes at runtime.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8afe31c9eb92389f091a40def9650278ca66befd
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:37 2005 -0700

    [PATCH] ppc64 boot: missing include for size_t
    
    string.h needs definition of size_t, but not the one from linux/include
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 146c98782b57531ce6ba89dfa9d3771c0fd0a94d
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:37 2005 -0700

    [PATCH] ppc64 boot: remove include from include/linux/zutil.h
    
    zutil.h does not need errno.h
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 27ac801a2e513708e2da648722326349514976d5
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:35 2005 -0700

    [PATCH] ppc64 boot: remove include from lib/zlib_inflate/inflate.c
    
    There is no need to include module.h in inflate.c
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: Anton Blanchard <anton@samba.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9fcc2e8a752f7d3d889114221b67c459557823e9
Author: Jayachandran C <jchandra@digeo.com>
Date:   Thu Oct 27 15:10:01 2005 -0700

    [IPV4]: Fix issue reported by Coverity in ipv4/fib_frontend.c
    
    fib_del_ifaddr() dereferences ifa->ifa_dev, so the code already assumes that
    ifa->ifa_dev is non-NULL, the check is unnecessary.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit b1529871f4270d10a0d1a9c998be162f0123d8f1
Author: Nicolas DET <nd@bplan-gmbh.de>
Date:   Fri Oct 28 17:46:30 2005 -0700

    [PATCH] mv643xx_eth_showsram: Added information message when using the SRAM
    
    Added information message when using the SRAM in mv643xx_eth_probe()
    
    Signed-off-by: Nicolas DET <det.nicolas@free.fr>
    Signed-off-by: Sven Luther <sl@bplan-gmbh.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1461b4ea2bcdfb2a386ad3f3095eeb9d73e4bf55
Author: Vitaly Bordug <vbordug@ru.mvista.com>
Date:   Fri Oct 28 17:46:28 2005 -0700

    [PATCH] ppc32: ppc_sys fixes for 8xx and 82xx
    
    This patch fixes a numbers of issues regarding to that both 8xx and 82xx
    began to use ppc_sys model:
    	- Platform is now identified by default deviceless SOC, if no
    BOARD_CHIP_NAME is specified in the bard-specific header. For the list
    of supported names refer to (arch/ppc/syslib/) mpc8xx_sys.c and
    mpc82xx_sys.c for 8xx and 82xx respectively.
    	- Fixed a bug in identification by name - if the name was not found,
    it returned -1 instead of default deviceless ppc_spec.
    	- fixed devices amount in the 8xx platform system descriptions
    
    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b37665e0ba1d3f05697bfae249b09a2e9cc95132
Author: Andy Fleming <afleming@freescale.com>
Date:   Fri Oct 28 17:46:27 2005 -0700

    [PATCH] ppc32: 85xx PHY Platform Update
    
    This patch updates the 85xx platform code to support the new PHY Layer.
    
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Kumar Gala <Kumar.gala@freescale.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd03d25fac90ee6f394874fb4e6995866304e4ba
Author: Nicolas DET <nd@bplan-gmbh.de>
Date:   Fri Oct 28 17:46:25 2005 -0700

    [PATCH] chrp_pegasos_eth: Added Marvell Discovery II SRAM support
    
    Add proper entry to support the Marvell MV64361 (Marvell Discovery II)
    SRAM.
    
    This feature may be used by the mv643xx_eth driver.
    
    Signed-off-by: Nicolas DET <det.nicolas@free.fr>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8c9795ba01d02b043ce2d9eeb0fa908c07e5fb42
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:21 2005 -0700

    [PATCH] Add modalias for pmac network drivers
    
    mesh, mac53c94 and airport already have an entry.  Add the network drivers
    for pmac.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dcb34abb4d9bae0588c5c11101ed6afcee71f895
Author: Andreas Schwab <schwab@suse.de>
Date:   Fri Oct 28 17:46:20 2005 -0700

    [PATCH] Add modalias to macio sysfs attributes
    
    Provide a "compatible" entry in /sys/bus/macio/devices/*/ This can be used
    to load drivers via the modules.alias file.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Acked-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35e95e63995f3e52178db4b769120ce60deb6b54
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:19 2005 -0700

    [PATCH] ppc32: nvram driver for chrp
    
    This implements a nvram acccess method, similar to
    arch/ppc64/kernel/pSeries_nvram.c tested on CHRP B50.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8b150478aeb1a8edb9015c2f7ac4da637ff65c45
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 17:46:18 2005 -0700

    [PATCH] ppc: make phys_mem_access_prot() work with pfns instead of addresses
    
    Change the phys_mem_access_prot() function to take a pfn instead of an
    address.  This allows mmap64() to work on /dev/mem for addresses above 4G
    on 32-bit architectures.  We start with a pfn in mmap_mem(), so there's no
    need to convert to an address; in fact, it's actively bad, since the
    conversion can overflow when the address is above 4G.
    
    Similarly fix the ppc32 page_is_ram() function to avoid a conversion to an
    address by directly comparing to max_pfn.  Working with max_pfn instead of
    high_memory fixes page_is_ram() to give the right answer for highmem pages.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>
    Cc: Anton Blanchard <anton@samba.org>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 360ac8e2f1a38c3497739636c3b702352d1ad0ae
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Tue Oct 25 15:03:41 2005 -0700

    [ETH]: ether address compare
    
    Expose faster ether compare for use by protocols and other
    driver. And change name to be more consistent with other ether
    address manipulation routines in same file
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit e83b860539d0ac1b3cff868178fa79c457e0c21f
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Fri Oct 21 18:00:48 2005 +0900

    [TCP]: fix tcp_tso_win_divisor documentation
    
    The default value for tcp_tso_win_divisor is 3.
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit d49b340124a34fcb8bceda472558ccef7232c16f
Author: Olaf Hering <olh@suse.de>
Date:   Fri Oct 28 17:46:17 2005 -0700

    [PATCH] ppc32: update xmon help text
    
    Mention a few more commands in xmon.  System.map processing was replaced
    with kallsyms.
    
    Signed-off-by: Olaf Hering <olh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8a212ab6b8a4ccc6f3c3d1beba5f92655c576404
Merge: 1f419ca... 0e1f606...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 21:09:26 2005 -0700

    Merge branch 'release' of git://git.kernel.org/pub/scm/linux/kernel/git/aegl/linux-2.6

commit 1f419cadff55f548e7356ffebdb9e1b5a8c22275
Merge: 974f7bc... 4303fc6...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 21:08:14 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/usb-2.6

commit 434cc69fbb02dd7ca64c5029dc6a6f9636f77e02
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Oct 28 17:46:15 2005 -0700

    [PATCH] ppc32: #ifdef out ALTIVEC specific code in __switch_to
    
    #ifdef out an ALTIVEC specific tweak in __switch_to()
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d5f7b06b036afc2cb250decb2c76b7f82c5de639
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Fri Oct 28 17:46:14 2005 -0700

    [PATCH] ppc32: Cleanup AMCC PPC44x eval board U-Boot support
    
    Cleanup PPC440 eval boards (bamboo, ebony, luan and ocotea) to better
    support U-Boot as bootloader.
    
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit de957c89b7dadb3147e885d7b6eb9db73d0eea57
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Oct 28 17:46:13 2005 -0700

    [PATCH] MPC8xx PCMCIA driver
    
    Here is an uptodated version of the MPC8xx PCMCIA driver for v2.6,
    addressing comments by Jeff and Dominik:
    
    - use IO accessors instead of direct device memory referencing
    - avoid usage of non-standard "uint/uchar" data types
    - kill struct typedef's
    
    Will submit it for inclusion once v2.6.14 is out.
    
    Testing on 8xx platforms is more than welcome! Works like a charm
    on our custom hardware (CONFIG_PRxK).
    
    Cc: Dominik Brodowski <linux@dominikbrodowski.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e37b0c9670fed2264661ade1beb5c228dec29c96
Author: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
Date:   Fri Oct 28 17:46:10 2005 -0700

    [PATCH] ppc32 8xx: use io accessor macros instead of direct memory reference
    
    Convert core 8xx drivers to use in_xxxbe/in_xxx macros instead of direct
    memory references.
    
    Other than making IO accesses explicit (which is a plus for readability), a
    common set of macros provides a unified place for the volatile flag to
    constraint compiler code reordering.
    
    There are several unlucky places at the moment which lack the volatile
    flag.
    
    Signed-off-by: Marcelo Tosatti <marcelo.tosatti@cyclades.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9e3699ea7b8d63eabde7fefa9892e3a258c9c27d
Author: Lee Nicks <allinux@gmail.com>
Date:   Fri Oct 28 17:46:09 2005 -0700

    [PATCH] ppc: prevent GCC 4 from generating AltiVec instructions in kernel
    
    Depending on how GCC is built, GCC 4 may generate altivec instructions without
    user explicitly requesting vector operations in the code.  Although this is a
    performance booster for user applications, it is a problem for kernel.
    
    This patch explicitly instruct GCC to NOT generate altivec instructions while
    building the kernel.
    
    Here are some test cases I ran.
    
    (1) build gcc 4.0.1 with '--with-cpu=7450 --enable-altivec
        --enable-cxx-flags=-mcpu=7450', and use this gcc to build kernel WITHOUT
        this kernel patch.  Kernel fail to boot up on a 7450 board because of
        altivec instructions in kernel.
    
    (2) build gcc 4.0.1 with "--with-cpu=7450 --enable-altivec
        --enable-cxx-flags=-mcpu=7450", and use this gcc to build kernel WITH this
        kernel patch.  Kernel boot up on a 7450 board without any problem.
    
    (3) build gcc 4.0.1 with "--with-cpu=750 --enable-cxx-flags=-mcpu=750",
        and use this gcc to build kernel with or without this kernel patch.
        Kernel boot up on a 7450 board without any problem.
    
    This patch should also work with GCC 3 or even earlier GCC 2.95.3.
    
    Signed-off-by: Lee Nicks <allinux@gmail.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4303fc6f055cf1a7ec63c3c3fd777b91b7d576f1
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Oct 28 19:59:31 2005 -0700

    USB: fix up some odd parts due to partial merges
    
    Thanks to Andrew for doing the hard work on this.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 19a7b4aebf9ad435c69a7e39930338499af4d152
Author: James Smart <James.Smart@Emulex.Com>
Date:   Tue Oct 18 12:03:35 2005 -0400

    [SCSI] update fc_transport for removal of block/unblock functions
    
    We recently went back to implement a board reset. When we perform the
    reset, we wanted to tear down the internal data structures and rebuild
    them. Unfortunately, when it came to the rport structure, things were
    odd. If we deleted them, the scsi targets and sdevs would be
    torn down. Not a good thing for a temporary reset. We could block the
    rports, but we either maintain the internal structures to keep the
    rport reference (perhaps even replicating what's in the transport),
    or we have to fatten the fc transport with new search routines to find
    the rport (and deal with a case of a dangling rport that the driver
    forgets).
    
    It dawned on me that we had actually reached this state incorrectly.
    When the fc transport first started, we did the block/unblock first, then
    added the rport interface. The purpose of block/unblock is to hide the
    temporary disappearance of the rport (e.g. being deleted, then readded).
    Why are we making the driver do the block/unblock ? We should be making
    the transport have only an rport add/delete, and the let the transport
    handle the block/unblock.
    
    So... This patch removes the existing fc_remote_port_block/unblock
    functions. It moves the block/unblock functionality into the
    fc_remote_port_add/delete functions.  Updates for the lpfc driver are
    included. Qlogic driver updates are also enclosed, thanks to the
    contributions of Andrew Vasquez. [Note: the qla2xxx changes are
    relative to the scsi-misc-2.6 tree as of this morning - which does
    not include the recent patches sent by Andrew]. The zfcp driver does
    not use the block/unblock functions.
    
    One last comment: The resulting behavior feels very clean. The LLDD is
    concerned only with add/delete, which corresponds to the physical
    disappearance.  However, the fact that the scsi target and sdevs are
    not immediately torn down after the LLDD calls delete causes an
    interesting scenario... the midlayer can call the xxx_slave_alloc and
    xxx_queuecommand functions with a sdev that is at the location the
    rport used to be. The driver must validate the device exists when it
    first enters these functions. In thinking about it, this has always
    been the case for the LLDD and these routines. The existing drivers
    already check for existence. However, this highlights that simple
    validation via data structure dereferencing needs to be watched.
    To deal with this, a new transport function, fc_remote_port_chkready()
    was created that LLDDs should call when they first enter these two
    routines. It validates the rport state, and returns a scsi result
    which could be returned. In addition to solving the above, it also
    creates consistent behavior from the LLDD's when the block and deletes
    are occuring.
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 422c0d61d591cbfb70f029e13505fb437e169d68
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 24 18:05:09 2005 -0400

    [SCSI] use scmd_id(), scmd_channel() throughout code
    
    Wrap a highly common idiom.  Makes the code easier to read, helps pave
    the way for sdev->{id,channel} removal, and adds a token that can easily
    by grepped-for in the future.
    
    There are a couple sdev_id() and scmd_printk() updates thrown in as well.
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 017560fca496f72ed9dd734ffde63ce39dfe0411
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 24 18:04:36 2005 -0400

    [SCSI] use sfoo_printk() in drivers
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 3bf743e7c891d8be8295650b7a6a9b5af083b096
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 24 18:04:06 2005 -0400

    [SCSI] use {sdev,scmd,starget,shost}_printk in generic code
    
    rejections fixed and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 01d7b3b8d09ef78e2c835c03d97ea1d91c26e245
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 24 18:03:34 2005 -0400

    [SCSI] introduce sfoo_printk, sfoo_id, sfoo_channel helpers
    
    New dev_printk wrappers, which allow us to shrink code, and
    eliminate direct references to host/channel/id/lun members:
    	scmd_printk()
    
    Introduce wrappers for highly common idioms, which may also help us
    eliminate some ->{channel,id} references in the future:
    	{scmd,sdev}_id()
    	{scmd,sdev}_channel()
    
    The scmd_* wrappers are present in scsi/scsi_device.h because they all
    employ the dereference chain cmd->device->$member.  We would prefer to
    use static inline functions rather than macros, but that would have a
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 974f7bc5781d3fc16e32d8908c6e48592e767dd2
Merge: 89fbb69... 64a0c1c...
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Fri Oct 28 23:35:02 2005 -0200

    Merge master.kernel.org:/pub/scm/linux/kernel/git/sridhar/lksctp-2.6

commit 5615ca7906aefbdc3318604c89db5931d0a25910
Merge: 7a9f8f9... 9dfb780...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 21:32:01 2005 -0400

    Merge branch 'upstream'

commit 13ec92b33e4f41b81b3a237ad1d9a588a81f2f03
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 24 18:01:11 2005 -0400

    [SCSI] kill unused scsi_scan_single_target()
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 91ca7b01ecc916632202180569a7ddbfccfc3f05
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Thu Oct 27 16:03:37 2005 -0700

    [SCSI] Add an 'Issue LIP' device attribute in fc_transport class
    
    Ok, here's a patch to add such a common API for fc transport users.
    Relevant LLD changes (lpfc and qla2xxx) also present.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f9a2d2e0c89f73f0203fa796101089c2bce31974
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Oct 19 20:01:47 2005 +0200

    [SCSI] mptsas: white space fixes and version bump
    
    Various whitespace and comment fixes from Eric, aswell as a version
    bump.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit da4fa65596733914b3c21fdffa02593959c67f56
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Oct 19 20:01:42 2005 +0200

    [SCSI] mptsas: add support for PHY resets
    
    Support PHY resets in mptsas.  Thanks to Eric for various bug fixes
    and improvements.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 07ba3a954714da10cbd3f6249d93ac2c1df72c4f
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Oct 19 20:01:31 2005 +0200

    [SCSI] sas: add support for PHY resets
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit ac01bbbd3b7ebfca64357aed12cf476b16abe3ce
Author: Christoph Hellwig <hch@lst.de>
Date:   Wed Oct 19 20:01:17 2005 +0200

    [SCSI] sas: add flag for locally attached PHYs
    
    Add a flag to mark a PHY as attached to the HBA as opposed to beeing on
    an expander.  This is needed because various features are only supported
    on those.  This is a crude hack, the proper fix would be to use
    different classes for host-attached vs expander phys.  I'm looking into
    that.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 50260b69bbec383058875de26dbde28b1a6f8d00
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: add nokia_dku2 driver
    
    This driver comes from the gnokii project.
    Was further cleaned up by me to match recent usb-serial core changes.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bde621854f1958a6000834c7c089b528118e5a9a
Author: Martin Hagelin <martin@hagelin.dyndns.org>
Date:   Wed Oct 26 21:10:41 2005 +0200

    [PATCH] USB: add new device id to ftdi_sio module
    
    This is a patch to get the ELV FHZ1000 Home Automation control device to
    work with Linux. The patch adds a new device ID to the ftdi_sio driver.
    It is for kernel version 2.6.13.4.
    
    Signed-off-by: Martin Hagelin <martin.hagelin@home.se>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 46a0cf81828535fb3c200bc4fffdb8d69f4bf396
Author: Koen Kooi <koen@handhelds.org>
Date:   Wed Oct 26 19:42:53 2005 +0200

    [PATCH] USB: fix correct wording in drivers/usb/net/KConfig
    
    Signed-off-by: Koen Kooi <koen@handhelds.org>

commit 9a7834d06d553d02cc6e659e94772f69a8b5367f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 23 23:02:20 2005 -0700

    [PATCH] USB: fix pm patches with CONFIG_PM off part 2
    
    With CONFIG_PM=n:
    
    drivers/built-in.o(.text+0x1098c): In function `hub_thread':
    drivers/usb/core/hub.c:2673: undefined reference to `.dpm_runtime_resume'
    drivers/built-in.o(.text+0x10998):drivers/usb/core/hub.c:2674: undefined reference to `.dpm_runtime_resume'
    
    Please, never ever ever put extern decls into .c files.  Use the darn header
    files :(
    
    Cc: David Brownell <david-b@pacbell.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit db2d55b7f7f11823b8d2e5f0c706c7a264320d1b
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 23 23:04:25 2005 -0700

    [PATCH] USB: fix pm patches with CONFIG_PM off part 1
    
    With CONFIG_PM=n:
    
    drivers/built-in.o(.text+0x2a69c): In function `ohci_hub_control':
    drivers/usb/host/ohci-hub.c:539: undefined reference to `.usb_hcd_resume_root_hub'
    drivers/built-in.o(.text+0x2b920): In function `ohci_irq':
    drivers/usb/host/ohci-hcd.c:726: undefined reference to `.usb_hcd_resume_root_hub'
    
    Cc: David Brownell <david-b@pacbell.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4f62efe67f077db17dad03a1d4c9665000a3eb45
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 24 16:24:14 2005 -0400

    [PATCH] usbcore: Fix handling of sysfs strings and other attributes
    
    This patch (as592) makes a few small improvements to the way device
    strings are handled, and it fixes some bugs in a couple of other sysfs
    attribute routines.  (Look at show_configuration_string() to see what I
    mean.)
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 16f16d117c1eb99451e4c73c87546eef05c66790
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 24 15:41:19 2005 -0400

    [PATCH] USB: Fix maxpacket length for ep0 on root hubs
    
    This patch (as591) fixes a rather innocuous bug that has been around for
    quite a long time: Virtual root hubs should have a maxpacket length of
    64 for endpoint 0.  I didn't realize it was wrong until I started
    looking through the endpoint attribute files.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0a1ef3b5a765a6f20e7b8caf295aad3276243966
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 24 15:38:24 2005 -0400

    [PATCH] usbcore: Use kzalloc instead of kmalloc/memset
    
    This patch (as590) fixes up all the remaining places where usbcore can
    use kzalloc rather than kmalloc/memset.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b724ae77969fd832be71419dca74bece9af287ff
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 24 15:36:00 2005 -0400

    [PATCH] usbcore: Wrap lines before column 80
    
    I can't stand text lines that wrap-around in my 80-column windows.  This
    patch (as589) makes cosmetic changes to a couple of source files.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0e6c8e8db508fcb292836b23d039649c5de29090
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 24 15:33:03 2005 -0400

    [PATCH] usbcore: endpoint attributes track altsetting changes
    
    This patch (as588) fixes the way endpoint attribute files are registered
    and unregistered.  Now they will correctly track along with altsetting
    changes.  This fixes bugzilla entry #5467.
    
    In a separate but related change, when a usb_reset_configuration call
    fails, the device state is not changed to USB_STATE_ADDRESS.  In the
    first place, failure means that we don't know what the state is, not
    that we know the device is unconfigured.  In the second place, doing
    this can potentially lead to a memory leak, since usbcore might not
    realize there still is a current configuration that needs to be
    destroyed.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit be69e5b1900a19a545becda822b18d6f09168ba5
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Oct 25 15:56:06 2005 -0400

    [PATCH] usbcore: Improve endpoint sysfs file handling
    
    This revised patch (as587b) improves the implementation of USB endpoint
    sysfs files.  Instead of storing a whole bunch of attributes for every
    single endpoint, each endpoint now gets its own kobject and they can
    share a static list of attributes.  The number of extra fields added to
    struct usb_host_endpoint has been reduced from 4 to 1.
    
    The bEndpointAddress field is retained even though it is redundant (it
    repeats the same information as the attributes' directory name).  The
    code avoids calling kobject_register, to prevent generating unwanted
    hotplug events.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e52783206ada0c0276c8dd74c0ecd0007ead7c00
Author: Phil Dibowitz <phil@ipom.com>
Date:   Sun Oct 23 23:52:39 2005 -0700

    [PATCH] USB Storage: Expand range of Freecom unusual_devs entry
    
    Freecom seems to be one of those vendors that can't get the GET CAPACITY
    thing right. This expands the US_FL_FIX_CAPACITY flag for the entire
    range of their fccd product line.
    
    This is based on a patch sent by Stuart Black
    <stuart_black@yahoo.co.uk>.
    
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 72129cd6577793408ff546b0ddd5794c33f32399
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Tue Oct 25 23:34:03 2005 +0400

    [PATCH] mdc800: remove embrions of C++ exceptions
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3f13e66e219238e025ff561d69826da9342c3f4a
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Oct 23 19:43:36 2005 -0700

    [PATCH] PATCH: usb-storage: use kthread API
    
    This patch is originally from Alan Stern (as569).  It has been rediffed
    against a current tree.
    
    This patch converts usb-storage to use the kthread API for creating its
    control and scanning threads.  The new code doesn't use kthread_stop
    because the threads need (or will need in the future) to exit
    asynchronously.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ce2596df79ddbac605a290f4c7cf011cb40524fc
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Oct 23 19:41:39 2005 -0700

    [PATCH] PATCH: usb-storage: implement minimal PM
    
    This patch from Alan Stern started as as568.  It has been rediffed against
    a current tree.
    
    This patch adds minimal suspend/resume support to usb-storage.  Just enough
    for it to qualify as PM-aware.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bbafa4668f37f5093a3ae2a8b0cbe327e24e12da
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Oct 23 19:40:22 2005 -0700

    [PATCH] PATCH: usb-storage: allocate separate sense buffer
    
    This patch is from Alan Stern (as560).  It has been rediffed against a
    current tree.
    
    This patch allocates a separate buffer for usb-storage to use when
    auto-sensing.  Up to now we have been using the sense buffer embedded in a
    scsi_cmnd struct, which is dangerous on hosts that (a) don't do
    cache-coherent DMA or (b) have DMA alignment restrictions.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b876aef7f890d8c59a45b78858a36cf60fddf522
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Sun Oct 23 19:38:56 2005 -0700

    [PATCH] PATCH: usb-storage: move GetMaxLUN later in time
    
    This patch is originally from Alan Stern (as557).  It has been re-diffed
    against a current tree, and I also corrected a minor merging error.
    
    Some time ago we introduced a delay before device scanning, because many
    devices do not like to receive SCSI commands right after enumeration.
    Now it turns out there's a device that doesn't like to receive
    Get-Max-LUN right after enumeration either.  Accordingly this patch
    delays the Get-Max-LUN request until the beginning of the scanning
    procedure.  This fixes Bugzilla entry #5010.
    
    Three things are worth noting.  First, I removed the locking code from
    usb_stor_acquire_resources.  It's not needed, because the locking is to
    protect against disconnect events and acquire_resources is only called
    during probe (so the disconnect routine can't be called).  Second, I
    initialized to 0 the buffer used for the Get-Max-LUN response.  It's not
    really necessary, but it will prevent random values from showing up in
    the debugging log when the request fails.  Third, I added a test against
    the SINGLE_LUN flag.  This will allow us to use the flag to indicate
    Bulk-only devices that can't handle Get-Max-LUN.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Matthew Dharm <mdharm-usb@one-eyed-alien.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 423e489d704d05c6e8c2927fb1854db85914912a
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Oct 19 13:06:13 2005 -0400

    [PATCH] hid-core: Add Clear-Halt on the Interrupt-in endpoint
    
    This patch (as577) adds a Clear-Halt call on the Interrupt-in endpoint
    during input device configuration.  Without it my HP USB keyboard doesn't
    work.
    
    Vojtech says it's worth trying, since it might help with some recalcitrant
    devices.  On the other hand, it might interfere with others.  I'm
    submitting it so that it can get tested by a range of users.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 478a3bab8c87a9ba4a4ba338314e32bb0c378e62
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Wed Oct 19 12:52:02 2005 -0400

    [PATCH] USB: Always do usb-handoff
    
    This revised patch (as586b) makes usb-handoff permanently true and no
    longer a kernel boot parameter.  It also removes the piix3_usb quirk code;
    that was nothing more than an early version of the USB handoff code
    (written at a time when Intel's PIIX3 was about the only motherboard with
    USB support).  And it adds identifiers for the three PCI USB controller
    classes to pci_ids.h.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 46f116eab81b21c6ae8c4f169498c632b1f94bf1
Author: Oliver Neukum <oliver@neukum.org>
Date:   Mon Oct 24 22:42:35 2005 +0200

    [PATCH] USB: cdc-acm patch to use kzalloc
    
    another one to use kzalloc. Please apply.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit eb3c5ed8617d0aa67648cb7d1a486d14099129f2
Author: David Eriksson <twogood@users.sourceforge.net>
Date:   Tue Oct 18 20:12:24 2005 +0200

    [PATCH] USB: Improving the set of vendor/product IDs in the ipaq driver
    
    This is a patch improving the set of vendor/product IDs used in the
    "ipaq" USB serial device driver. The patch size is because I sorted the
    ids this time, forgot about that last time.
    
    Changes:
    
    - Added vendor/product identifiers for Psion Teklogix devices
    - Restored Microsoft's identifier pair 045e/00ce
    - Sorted list of vendor/product identifiers
    
    Signed-off-by: David Eriksson <twogood@users.sourceforge.net>
    Signed-off-by: Ganesh Varadarajan <ganesh@veritas.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f2d45cd976682a3566c8cf30cefe91eb43ab6005
Author: Guillaume GOURAT <guillaume.gourat@nexvision.fr>
Date:   Fri Oct 21 14:01:35 2005 +0200

    [PATCH] USB: Kaweth.c udelay patch
    
    On some arch (like arm) udelay cannot be called with value greater that
    2000.
    
    Signed-off-by: Guillaume GOURAT <guillaume.gourat@nexvision.fr>
    Signed-off-by: Oliver Neukum <oliver@neukum.name>

commit 61eded6e06a1f4bdbf707b69da904ba9f3eb2f0a
Author: Oliver Neukum <oliver@neukum.org>
Date:   Mon Oct 24 22:37:20 2005 +0200

    [PATCH] USB: microtek patch to use kzalloc
    
    here is another one to use kzalloc. Please apply.
    
    Signed-off-by: Oliver Neukum <oliver@neukum.name>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dcab4eaf77ccd8779c715da3c5db0a82874fa645
Author: Simeon Simeonov <simeonov_2000@yahoo.com>
Date:   Wed Oct 19 11:32:14 2005 -0400

    [PATCH] USB: storage patch for LEICA camera
    
    On Tue, 18 Oct 2005, Simeon Simeonov wrote:
    > Attached is a patch that solves mounting problems for
    > LEICA D-LUX camera with FC4 2.6.13 kernel.
    >
    > Let me know if you have some questions.
    
    Looks okay to me.  Given that the previous entry uses the full 0000 -
    9999 range, I guess this one can also.  The vendor name is a little odd
    (it will give us three different vendor names all in entries with the
    same vendor ID) but that doesn't really matter either.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7521803dcc0137668bb30483383092a647671d8b
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: always export interface information for modalias
    
    This fixes a problem with some cdc acm devices that were not getting
    automatically loaded as the module alias was not being reported
    properly.
    
    This check was for back in the days when we only reported hotplug events
    for the main usb device, not the interfaces.  We should always give the
    interface information for MODALIAS/modalias as it can be needed.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 17a882fc0c91477b2582a6dfd4ca93ae7eb58cd3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB Serial: remove driver version from a few drivers
    
    These numbers are pointless, as they have not been changed in _years_,
    so we should just remove them to stop pretending there is an actual
    "version number" for these drivers.
    
    This should also help reduce confusion when people try to ask for
    support of a specific driver version, as there has been no way to tell
    what they are talking about.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 269bda1c123c7caf88e1deb2264f9086f0344192
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB Serial: move name to driver structure
    
    This fixes up a lot of problems in sysfs with some of the usb serial
    drivers, they had incorrect driver names.  Also saves a tiny ammount
    of memory.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 502b95c1cc9e2c855a26f90fc999c5211b8ba957
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB Serial: move old changelog comments out of source code
    
    Create a new file just for these things, as they just get in the
    way in the source files.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 18fcac353fdc7cd072b0d24c8667042e675a4c11
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB Serial: get rid of the .owner field in usb_serial_driver
    
    Don't duplicate something that's already in struct driver.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ea65370d025f5005649e5cb37c4d025e92c6fc38
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB Serial: rename usb_serial_device_type to usb_serial_driver
    
    I'm tired of trying to explain why a "device_type" is really a driver.
    This better describes exactly what this structure is.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a6c82600d4058346ea6fd801bc21d7abcc1350d8
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: delete the bluetty driver
    
    We have a real Bluetooth system in Linux, lets finally delete this driver as no
    one is using it (and if they are, they are using a closed source bluetooth
    stack, which I can't support anyway.)
    
    Marcel, you owe me a beer :)
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c36fc889b5a4fd66cfd9ba80d9e038745d349567
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Mon Oct 17 18:15:54 2005 -0700

    [PATCH] usb: Patch for USBDEVFS_IOCTL from 32-bit programs
    
    Dell supplied me with the following test:
    
    #include<stdio.h>
    #include<errno.h>
    #include<sys/ioctl.h>
    #include<fcntl.h>
    #include<linux/usbdevice_fs.h>
    
    main(int argc,char*argv[])
    {
       struct usbdevfs_hub_portinfo hubPortInfo = {0};
       struct usbdevfs_ioctl command = {0};
       command.ifno = 0;
       command.ioctl_code = USBDEVFS_HUB_PORTINFO;
       command.data = (void*)&hubPortInfo;
       int fd, ret;
       if(argc != 2) {
         fprintf(stderr,"Usage: %s /proc/bus/usb/<BusNo>/<HubID>\n",argv[0]);
         fprintf(stderr,"Example: %s /proc/bus/usb/001/001\n",argv[0]);
         exit(1);
       }
       errno = 0;
       fd = open(argv[1],O_RDWR);
       if(fd < 0) {
         perror("open failed:");
         exit(errno);
       }
       errno = 0;
       ret = ioctl(fd,USBDEVFS_IOCTL,&command);
       printf("IOCTL return status:%d\n",ret);
       if(ret<0) {
         perror("IOCTL failed:");
         close(fd);
         exit(3);
       } else {
           printf("IOCTL passed:Num of ports %d\n",hubPortInfo.nports);
           close(fd);
           exit(0);
       }
       return 0;
    }
    
    I have verified that it breaks if built in 32 bit mode on x86_64 and that
    the patch below fixes it.
    
    Signed-off-by: Pete Zaitcev <zaitcev@redhat.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 72adaa962741e8e910300b66bb123b1a9c31a8a8
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: convert usbmon to use usb notifiers
    
    This also removes 2 usbmon callbacks.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 54a5c4cd2e4ec0b27c2c3731727f52591456086c
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: convert usbfs/inode.c to use usb notifiers
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a7b986b3e107727dd1c1af0ead0b5e52d7726db3
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: convert usbfs/devio.c to use usb notifiers
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3099e75a7ccc3c5b0a4cf988a76d9c4a7fa5e91a
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: add notifier functions to the USB core for devices and busses
    
    This should let us get rid of all of the different hooks in the USB core for
    when something has changed.
    
    Also, some other parts of the kernel have wanted to know this kind of
    information at times.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4592bf5a22593704bb9e8c584a81bf6ca4f6cfec
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: remove the global function usbdev_lookup_minor
    
    It's only used locally.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3e8a556a02d5aa16375d4d74aad0f67cd844c047
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Tue Oct 18 10:08:31 2005 -0400

    [PATCH] Missing transfer_flags setting in usbtest
    
    This patch (as582) adds a missing transfer_flags setting to the usbtest
    driver.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit efa400db5332ba341cc354c9d8a5298ff57faa98
Author: Ben Dooks <ben@fluff.org.uk>
Date:   Mon Oct 10 02:32:15 2005 +0100

    [PATCH] USB: add owner initialisation to host drivers
    
    Add .owner initialisation to the device drivers
    in drivers/usb/host so that when built as module
    the device_driver refers to the owning module
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d0d5049fb02fc1082c17e08deecd6fed8db549b6
Author: Ben Dooks <ben@fluff.org.uk>
Date:   Mon Oct 10 10:52:33 2005 +0100

    [PATCH] USB: gadget drivers - add .owner initialisation
    
    Ensure the the device_driver and usb_gadget_driver
    have their .owner fields initialised to associate
    the module owner to the driver.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a85ee6b50c8a1fca4034c8d6b21c91a8de171e01
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Mon Oct 10 01:23:50 2005 +0100

    [PATCH] USB: S3C2410 OHCI - add driver owner field
    
    Initialise the .owner field of the driver with
    the module that owns it, to aid in linking
    drivers to modules.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4e67185a7ac3ecb1710e636e2f7e318e99298c7a
Author: Juha Yrjola <juha.yrjola@nokia.com>
Date:   Sun Oct 16 15:47:04 2005 -0700

    [PATCH] add usb transceiver set_suspend() method
    
    When a USB device is put into suspend mode, the current drawn from VBUS
    has to be less than 500 uA. Some transceivers need to be put into a
    special power-saving mode to accomplish this, and won't have a separate
    OTG driver handling that.
    
    This adds a suspend method to the "otg_transceiver" struct -- misnamed,
    it's not only for OTG -- and calls it from the OMAP UDC driver.
    
    Signed-off-by: Juha Yrjola <juha.yrjola@nokia.com>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f37be9b9be3ebc02d2d075d7f53f7802f3e005db
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 17 10:42:06 2005 -0400

    [PATCH] Fix hcd->state assignments in uhci-hcd
    
    This patch (as581) changes the assignments to hcd->state in the uhci-hcd
    driver.  It fixes part of bugzilla entry #5227.  The problem was revealed
    by David's large suite of USB suspend/resume patches; this patch should go
    to Linus at the same time those do.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cb97c5c9d0789d65d7ec42a80946fa9eb2ec5182
Author: David Brownell <david-b@pacbell.net>
Date:   Sun Oct 16 15:06:51 2005 -0700

    [PATCH] omap_udc dma off-by-one fix
    
    The change to make DMA work two bytes at a time omitted an important
    tweak that affects the file_storage gadget:  it needs to recognize when
    the host writes an odd number of bytes.  (The network layer ignores
    such extra bytes.)
    
    This patch resolves that issue by checking the relevant bit and adjusting
    the rx byte count, so that for example a legal 13 byte request doesn't
    morph into an illegal 14 byte one any more.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1fcb4454cbada6dc495302172ac0412aa7d35fd4
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sat Oct 15 22:03:30 2005 -0700

    [PATCH] usb doc: fix kernel-doc warning
    
    usb/core/buffer.c doesn't export any symbols, so it should use
    !I instead of !E to eliminate this warning message:
    
    Warning(/var/linsrc/linux-2614-rc4//drivers/usb/core/buffer.c): no structured comments found
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit af64a5ebb817532965d18b792d6d74afecfb0bcf
Author: Henk <Henk.Vergonet@gmail.com>
Date:   Wed Oct 12 15:02:56 2005 +0200

    [PATCH] USB: Buffer overflow patch for Yealink driver
    
    Just a small patch that fixes a small parameter validation bug.
    
      drivers/usb/input/map_to_7segment.h:
        This patch fixes the broken parameter validation in the char to seg7
        conversion. This could cause out-of-bounds memory references.
    
      MAINTAINERS:
        Yealink maintainer info now in sorted order.
    
      Documentation/input/yealink.txt:
        Added a Q&A section that answers some common questions.
    
    Signed-off-by: Henk <Henk.Vergonet@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
    006491df1a13f85ad245d1039dfdf20e49c394fd

commit b81d34363c0b17c47f4ef63d5888c4f47f315d29
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Oct 13 17:00:24 2005 -0400

    [PATCH] UHCI: Improve handling of iso TDs
    
    The uhci-hcd driver is fairly lax about the way it handles isochronous
    transfers.  This patch (as579) improves it in three respects:
    
    	TDs for a new URB aren't added to the schedule until all of
    	them have been allocated.  This way there's no risk of the
    	controller executing some of them when an allocation fails.
    
    	TDs for an unlinked URB are removed from the schedule as soon
    	as the URB is unlinked, rather than waiting until the URB is
    	given back.  This way there's no risk of the controller still
    	executing a TD after the URB completes.
    
    	The urb->error_count values are now reported correctly.
    	Although since they aren't used in any drivers except for
    	debug messages in the system log, probably nobody cares.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0c0382e32d46f606951010b202382be14d180a17
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Oct 13 17:08:02 2005 -0400

    [PATCH] USB: Rename hcd->hub_suspend to hcd->bus_suspend
    
    This patch (as580) is perhaps the only result from the long discussion I
    had with David about his changes to the root-hub suspend/resume code.  It
    renames the hub_suspend and hub_resume methods in struct usb_hcd to
    bus_suspend and bus_resume.  These are more descriptive names, since the
    methods really do suspend or resume an entire USB bus, and less likely to
    be confused with the hub_suspend and hub_resume routines in hub.c.
    
    It also takes David's advice about removing the layer of bus glue, where
    those methods are called.  And it implements a related change that David
    made to the other HCDs but forgot to put into dummy_hcd.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bb200f6eac6372839921be1fe87c1f5c292a7bd6
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Oct 3 16:36:29 2005 -0400

    [PATCH] UHCI: unify BIOS handoff and driver reset code
    
    This patch (as574) updates the PCI BIOS usb-handoff code for UHCI
    controllers, making it work like the reset routines in uhci-hcd.  This
    allows uhci-hcd to drop its own routines in favor of the new ones
    (code-sharing).
    
    Once the patch is merged we can turn the usb-handoff option on
    permanently, as far as UHCI is concerned.  OHCI and EHCI may still have
    some issues.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a922c68732725866c88457026cf06a7620846506
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Thu Oct 6 16:38:45 2005 -0400

    [PATCH] g_file_storage: fix obscure race condition
    
    This patch (as575) fixes an unlikely race in the g_file_storage driver.
    The problem can occur only when the driver is unbound before its
    initialization routine has finished.
    
    I also took the opportunity to replace kmalloc/memset with kzalloc.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3f8c03ee05801bf8539dd136d9246a416c45052a
Author: Daniel Ritz <daniel.ritz@gmx.ch>
Date:   Wed Sep 28 21:30:12 2005 +0200

    [PATCH] usb/input/touchkit: add more device IDs
    
    add two more device IDs from eGalax' programming guide.
    thanks to Jonathan Hopper <jrhopper () gmail ! com>  for pointing out.
    
    Signed-off-by: Daniel Ritz <daniel.ritz@gmx.ch>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/input/touchkitusb.c |    2 ++
     1 file changed, 2 insertions(+)

commit 880a9b5e7f70632ab60131ce3027da1c63fcd39e
Author: Phil Dibowitz <phil@ipom.com>
Date:   Fri Sep 30 00:27:36 2005 -0700

    [PATCH] Add unusual_devs for iPod Nano
    
    This adds US_FL_FIX_CAPACITY for yet _another_ entire block of Apple
    productIds. They really can't seem to get this right. This one is for
    the iPod Nano. Reported by Tyson Vinson <lornoss@gmail.com>.
    
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/unusual_devs.h |   10 ++++++++++
     1 file changed, 10 insertions(+)

commit e4a16e0c10a272e53c4a129b155dd711196b1d93
Author: Phil Dibowitz <phil@ipom.com>
Date:   Fri Sep 30 00:20:15 2005 -0700

    [PATCH] Add unusual_dev for iBeat
    
    This patch adds the US_FL_IGNORE_RESIDUE flag for the TrekStor i.Beat
    Joy 2.0. Original version of this patch was sent by Stefan Werner
    <dustbln@gmx.de> with test/rediff/etc. by me.
    
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/unusual_devs.h |    7 +++++++
     1 file changed, 7 insertions(+)

commit 094ec604721ed2a9a7ed6dfe40fd699b2f53a4c3
Author: Daniel Drake <dsd@gentoo.org>
Date:   Fri Sep 30 12:58:13 2005 +0100

    [PATCH] usb-storage: Readd missing SDDR-05b unusual_devs entry
    
    Just noticed that the SDDR-05b entry is missing for the shuttle_usbat driver.
    Looking through BK history it was removed in this patch:
    
    http://linux.bkbits.net:8080/linux-2.6/gnupatch@42435730FZQ2XCA6Qv5GPGD4pC4laQ
    
    However, at merge time, it looks like the duplicate was already removed,
    compare these two revisions:
    
    http://linux.bkbits.net:8080/linux-2.6/anno/drivers/usb/storage/unusual_devs.h@1.152
    http://linux.bkbits.net:8080/linux-2.6/anno/drivers/usb/storage/unusual_devs.h@1.153
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Phil Dibowitz <phil@ipom.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/unusual_devs.h |    8 ++++++++
     1 file changed, 8 insertions(+)

commit b7b1e65588b8576c66a429a2623c91504efcf751
Author: Daniel Drake <dsd@gentoo.org>
Date:   Fri Sep 30 12:49:36 2005 +0100

    [PATCH] usb-storage: Some minor shuttle_usbat cleanups
    
    A while ago, Matthew Dharm wrote:
    > Looks good.  Tho, I would like to see a future patch to do two things:
    > 	1) Change comments from C++ style to C-style
    > 	2) Make sure we're naming consistently everywhere SCM, USBAT,
    > 	USBAT-02 (most noticably needing fixing is the string used at
    > 	transport-selection time, but a sweep of all uses to be consistent
    > 	would be in order).
    
    Sorry for the long delay, here is a patch to address this. I also clarified
    some ATA/ATAPI wording + function names.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/shuttle_usbat.c |  306 ++++++++++++++++++++----------------
     drivers/usb/storage/shuttle_usbat.h |   66 +++----
     drivers/usb/storage/transport.h     |    2
     drivers/usb/storage/unusual_devs.h  |   10 -
     drivers/usb/storage/usb.c           |    4
     5 files changed, 213 insertions(+), 175 deletions(-)

commit a8798533c1f876b97566588cf2bf52458cb4a35d
Author: Daniel Drake <dsd@gentoo.org>
Date:   Thu Sep 29 00:14:21 2005 +0100

    [PATCH] USB Storage: HP8200: Another device type detection fix
    
    There appears to be one more case where the HP8200 CD writer devices are
    detected as flash readers - when the USB cable is replugged after use, with
    the power cable still connected.
    
    Oddly enough, the identify device command appears to 'fall through' when the
    devices are in this state, the status register reading exactly the same opcode
    as the command (0xA1) that was just executed.
    
    I think it's safe to label this behaviour as specific to HP8200 devices, I
    can't get the flash devices to respond like this.
    
    This patch should solve the last of the HP8200 issues which have cropped up
    recently.
    
    Signed-off-by: Daniel Drake <dsd@gentoo.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/shuttle_usbat.c |   12 ++++++------
     1 file changed, 6 insertions(+), 6 deletions(-)

commit d40ece1dc8dcc89ab921755cbc93a5cfb46d0766
Author: Borislav Petkov <bbpetkov@yahoo.de>
Date:   Wed Sep 28 18:06:04 2005 +0200

    [PATCH] USB: make usb storage note visible in Kconfig
    
    the following patch splits the NOTE: in the Device Drivers->USB submenu of
    Kconfig thus making the whole of it readable on 600x800 terminals.
    (Otherwise, the line was too big and disappeared into nowhere.)
    
    Signed-off-by: Borislav Petkov <petkov@uni-muenster.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/storage/Kconfig |    3 ++-
     1 file changed, 2 insertions(+), 1 deletion(-)

commit 521daed8db4443a1574a98fc3abae8e230f09eaa
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 2 17:15:33 2005 -0700

    [PATCH] safe_serial: use preprocessor directive for error
    
    Use valid #preprocessor instruction to generate an error.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
     drivers/usb/serial/safe_serial.c |    2 +-
     1 file changed, 1 insertion(+), 1 deletion(-)

commit ddcad752f206be7a0091a041403c3188f2febd16
Author: Petko Manolov <petkan@nucleusys.com>
Date:   Mon Oct 3 17:24:11 2005 +0300

    [PATCH] pegasus.h
    
    This one is a tiny patch adding one more device to the list.  Please
    apply. :)
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/net/pegasus.h |    2 ++
     1 file changed, 2 insertions(+)

commit 207c47e1fbc8d51500997bfa67c26c00114fab04
Author: Thomas Riewe <thomasr@pyramid.de>
Date:   Thu Sep 29 14:57:29 2005 +0200

    [PATCH] drivers/usb/serial/ftdi_sio: add PID/VID
    
    We would like to add a PID for the Pyramid Appliance Display, which works
    on USB via FTDI_SIO.
    
    Signed-off-by: Thomas Riewe <thomasr@pyramid.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/serial/ftdi_sio.c |    1 +
     drivers/usb/serial/ftdi_sio.h |    3 +++
     2 files changed, 4 insertions(+)

commit 74ad9bd2fcf0fa203655e0d904809b06c4202bf8
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: make wHubCharacteristics __le16 to match other usb descriptor fields
    
    Also has the nice benefit of making sparc alignment issues go away.
    
    Thanks to David Miller for pointing out the problems here.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hub.c |   22 ++++++++++++----------
     drivers/usb/core/hub.h |    2 +-
     2 files changed, 13 insertions(+), 11 deletions(-)

commit 22efcf4adec4262e0f49e6225f6cd070e4a85d20
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Sep 26 16:12:02 2005 -0400

    [PATCH] USB: File-Storage gadget: use the kthread API
    
    This patch (as566) converts the File-Storage gadget over to the kthread
    API.  The new code doesn't use kthread_stop because the control thread
    needs to terminate asynchronously when it receives a signal.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/gadget/file_storage.c |   32 +++++++++++++-------------------
     1 file changed, 13 insertions(+), 19 deletions(-)

commit dabb592816444fcba1a771e27d4f72a2b8218374
Author: Andrew Morton <akpm@osdl.org>
Date:   Thu Sep 22 23:55:22 2005 -0700

    [PATCH] USB: sisusb warning fix
    
    drivers/usb/misc/sisusbvga/sisusb.c: In function `sisusb_reset_text_mode':
    drivers/usb/misc/sisusbvga/sisusb.c:2461: warning: assignment discards qualifiers from pointer target type
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/misc/sisusbvga/sisusb.c |    2 +-
     1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b262bd25580e165710e8a27df19cd60c2ef58a3
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Sep 26 16:31:15 2005 -0400

    [PATCH] USB: UHCI: Spruce up some comments
    
    This patch (as570) changes some comments in the uhci-hcd header file and
    removes an unused declaration (something I forgot to erase in an earlier
    patch).
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/uhci-hcd.h |   91 +++++++++++++++++++++++---------------------
     1 file changed, 49 insertions(+), 42 deletions(-)

commit d09d36a91c70cb3cc609d693bf6a7e7a266ff9e6
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Mon Sep 26 16:22:45 2005 -0400

    [PATCH] USB: usb_bulk_message() handles interrupts endpoints
    
    Because there is no bulk_interrupt_message() routine and no
    USBDEVFS_INTERRUPT ioctl, people have been forced to abuse the
    usb_bulk_message() routine and USBDEVFS_BULK by using them for interrupt
    transfers as well as bulk transfers.
    
    This patch (as567) formalizes this practice and adds code to
    usb_bulk_message() for detecting when the target is really an interrupt
    endpoint.  If it is, the routine submits an interrupt URB (using the
    default interval) instead of a bulk URB.  In theory this should help HCDs
    that don't like it when people try to mix transfer types, queuing both
    periodic and non-periodic types for the same endpoint.
    
    Not fully tested -- I don't have any programs that use USBDEVFS_BULK for
    interrupt transfers -- but it compiles okay and normal bulk messages work
    as well as before.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/message.c |   24 ++++++++++++++++++++----
     1 file changed, 20 insertions(+), 4 deletions(-)

commit b13296c6617f22e8c0174a7af32780617db0e680
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 27 10:38:54 2005 -0700

    [PATCH] updates for "controller suspended" handling
    
    Reject URBs to _all_ devices when their host controllers are suspended;
    even root hub registers will be unavailable.  Also, don't reject urbs
    to root hubs in other cases; the only upstream link is through that
    controller (on PCI or whatever SOC bus is in use).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hcd.c |   28 ++++++++++++----------------
     drivers/usb/core/urb.c |    3 ++-
     2 files changed, 14 insertions(+), 17 deletions(-)

commit 5edbfb7c8af0577097dae87cdd4dfdba82bb9579
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:45:26 2005 -0700

    [PATCH] stop exporting two functions
    
    The way we're looking at USB suspend lately doesn't expect drivers to
    call usb_suspend_device() or usb_resume_device() directly; that'll
    be implicit when no interfaces are in use.
    
    This patch removes those APIs from visibility outside usbcore.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    
     drivers/usb/core/hub.c |   12 ++++--------
     drivers/usb/core/usb.h |    4 ++++
     include/linux/usb.h    |    5 -----
     3 files changed, 8 insertions(+), 13 deletions(-)

commit ccdcf77ae32e3d3347fdf3810b27f899e98c34fb
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:45:13 2005 -0700

    [PATCH] ISP116x PM updates
    
    This makes the isp116x driver stop using usb_suspend_device() and
    usb_resume_device() ... usbcore now calls to the root hub methods,
    removing the need for this.  It also switches from keventd to khubd
    for remote wakeup.  (Compile tested.)
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/isp116x-hcd.c |   29 ++++-------------------------
     drivers/usb/host/isp116x.h     |    1 -
     2 files changed, 4 insertions(+), 26 deletions(-)

commit a7f72abe8fac9b919135005e06216be8eef945a2
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:44:56 2005 -0700

    [PATCH] UHCI PM updates
    
    This removes suspend and resume path recursion in UHCI.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/uhci-hcd.c |    9 ---------
     1 file changed, 9 deletions(-)

commit f2cb36c1df427431a8c6096b4ad113df767c1bd9
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:43:30 2005 -0700

    [PATCH] update PCI early-handoff handling for OHCI
    
    The PCI "early usb handoff" quirk logic didn't work like "ohci-hcd" ...
    This patch makes it do so by:
    
      - Resetting the controller after kicking BIOS off, matching the
        normal "chip in hardware reset" startup mode;
    
      - Reporting any BIOS that borks this simple handoff; it's likely
        got a few other surprises for us too.
    
      - Ignoring that handoff on HPPA;
    
    The diagnostic string is mostly shared with EHCI, saving a few bytes.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/pci-quirks.c |   22 ++++++++++++++++++----
     1 file changed, 18 insertions(+), 4 deletions(-)

commit f197b2c54b9d9a133a9a8ff92f35cadf8945ea14
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:42:53 2005 -0700

    [PATCH] OHCI PM updates
    
    This simplifies the OHCI root hub suspend logic:
    
     - Uses new usbcore root hub calls to make autosuspend work again:
    	* Uses a newish usbcore root hub wakeup mechanism,
    	  making requests to khubd not keventd.
    	* Uses an even newer sibling suspend hook.
    
     - Expect someone always made usbcore call ohci_hub_suspend() before bus
       glue fires; and that ohci_hub_resume() is only called after that bus
       glue ran.  Previously, only CONFIG_USB_SUSPEND promised those things.
       (Includes updates to PCI and OMAP bus glue.)
    
     - Handle a not-noticed-before special case during resume from one of
       the swsusp snapshots when using "usb-handoff":  the controller isn't
       left in RESET state.  (A bug to fix in the usb-handoff code...)
    
    Also cleans up a minor debug printk glitch, and switches an mdelay over
    to an msleep (how did that stick around for so long?).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/ohci-dbg.c  |    4 ----
     drivers/usb/host/ohci-hcd.c  |    2 +-
     drivers/usb/host/ohci-hub.c  |   42 ++++++++++++------------------------------
     drivers/usb/host/ohci-mem.c  |    1 -
     drivers/usb/host/ohci-omap.c |   36 ++++++++++++------------------------
     drivers/usb/host/ohci-pci.c  |   40 ++++++++--------------------------------
     drivers/usb/host/ohci.h      |    1 -
     7 files changed, 33 insertions(+), 93 deletions(-)

commit 5f827ea3c3820cd8e0a1a35e4d275c8b78ee94e1
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:38:16 2005 -0700

    [PATCH] usbcore PCI glue updates for PM
    
    This updates the PCI glue to address the new and simplified usbcore suspend
    semantics, where CONFIG_USB_SUSPEND becomes irrelevant to HCDs because
    hcd->hub_suspend() will always be called.
    
      - Removes now-unneeded recursion support
    
      - Go back to ignoring faults reported by the wakeup calls; we expect them
        to fail sometimes, and that's just fine.
    
    The PCI HCDs will need simple changes to catch up to this, like being able
    to ignore the setting of CONFIG_USB_SUSPEND.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hcd-pci.c |  106 +++++++++++++++++++++------------------------
     drivers/usb/core/hcd.h     |    6 +-
     2 files changed, 53 insertions(+), 59 deletions(-)

commit f3f3253d644d36a2ea5464005a9c2cf28804d200
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:37:29 2005 -0700

    [PATCH] root hub updates (greater half)
    
    This patch associates hub suspend and resume logic (including for root hubs)
    with CONFIG_PM -- instead of CONFIG_USB_SUSPEND as before -- thereby unifying
    two troublesome versions of suspend logic into just one.  It'll be easier to
    keep things right from now on.
    
      - Now usbcore _always_ calls hcd->hub_suspend as needed, instead of
        only when USB_SUSPEND is enabled:
         * Those root hub methods are now called from hub suspend/resume;
           no more skipping between layers during device suspend/resume;
         * It now handles cases allowed by sysfs or autosuspended root hubs,
           by forcing the hub interface to resume too.
    
      - All devices, including virtual root hubs, now get the same treatment
        on their resume paths ... including re-activating all their interfaces.
    
    Plus it gets rid of those stub copies of usb_{suspend,resume}_device(), and
    updates the Kconfig to match the new definition of USB_SUSPEND:  it provides
    (a) selective suspend, downstream from hubs; and (b) remote wakeup, upstream
    from any device configuration which supports it.
    
    This calls for minor followup patches for most HCDs (and their PCI glue).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/Kconfig |   11 ++-
     drivers/usb/core/hub.c   |  163 +++++++++++++++++++++++++----------------------
     2 files changed, 97 insertions(+), 77 deletions(-)

commit 979d5199fee9e80290ddeb532e5993bd15506712
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:32:24 2005 -0700

    [PATCH] root hub changes (lesser half)
    
    This patch collects various small updates related to root hubs, to shrink
    later patches which build on them.
    
      - For root hub suspend/resume support:
         * Make the existing usb_hcd_resume_root_hub() routine respect pmcore
           locking, exporting and using the dpm_runtime_resume() method.
         * Add a new usb_hcd_suspend_root_hub() to pair with that routine.
           (Essential to make OHCI autosuspend behave again...)
         * HC_SUSPENDED by itself only refers to the root hub's downstream ports.
           So let HCDs see root hub URBs unless the parent device is suspended.
    
      - Remove an assertion we no longer need (and now, also don't want).
    
      - Generic suspend/resume updates to work better with swsusp.
         * Ignore the FREEZE vs SUSPEND distinction for hardware; trying to
           use it breaks the swsusp snapshots it's supposed to help (sigh).
         * On resume, mark devices as resumed right away, but then
           do nothing else if the device is marked NOTATTACHED.
    
    These changes shouldn't be very noticable by themselves.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/base/power/runtime.c |    1
     drivers/usb/core/hcd.c       |   64 ++++++++++++++++++++++++++++++++++++++-----
     drivers/usb/core/hcd.h       |    1
     drivers/usb/core/hub.c       |   45 ++++++++++++++++++++++++------
     drivers/usb/core/usb.c       |   20 +++++++++----
     drivers/usb/core/usb.h       |    1
     6 files changed, 111 insertions(+), 21 deletions(-)

commit 9293677af3dace2645dec0d0808efa02d36bf47b
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:32:11 2005 -0700

    [PATCH] all HCDs provide root hub suspend/resume methods
    
    This cleans up a small recent FIXME, ensuring that all the HCDs provide
    root hub suspend/resume methods.  It also wraps the calls to those root
    suspend routines just like on the PCI "USB_SUSPEND not defined" cases,
    so non-PCI bus glue won't be as tempted to behave very differently.
    
    Several of the SOC based OHCI drivers forgot to list those methods;
    the patch also adds those missing declarations.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hcd.c          |   42 +++++++++++++++++++++++++---------------
     drivers/usb/host/ohci-au1xxx.c  |    5 ++++
     drivers/usb/host/ohci-lh7a404.c |    5 ++++
     drivers/usb/host/ohci-pxa27x.c  |    1
     drivers/usb/host/ohci-s3c2410.c |    1
     drivers/usb/host/ohci-sa1111.c  |    1
     6 files changed, 40 insertions(+), 15 deletions(-)

commit 7ff71d6adf81a43505b7cbaa034e4063d3439182
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Thu Sep 22 22:31:15 2005 -0700

    [PATCH] EHCI, split out PCI glue
    
    This splits BIOS and PCI specific support out of ehci-hcd.c into
    ehci-pci.c.  It follows the model already used in the OHCI driver
    so support for non-PCI EHCI controllers can be more easily added.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/ehci-hcd.c |  543 ++++++--------------------------------------
     drivers/usb/host/ehci-pci.c |  414 +++++++++++++++++++++++++++++++++
     drivers/usb/host/ehci.h     |    1
     3 files changed, 492 insertions(+), 466 deletions(-)

commit e9b7bd4ee7f6e3ee002dc72c5211cd97c7186d00
Author: David Brownell <david-b@pacbell.net>
Date:   Thu Sep 22 22:30:48 2005 -0700

    [PATCH] one less word in struct device
    
    This saves a word from "struct device" ... there's a refcounting mechanism
    stub that's rather ineffective (the values are never even tested!), which
    can safely be deleted.  With this patch it uses normal device refcounting,
    so any potential users of the pm_parent mechanism will be more correct.
    (That mechanism is actually unusable for now though; it does nothing.)
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/base/power/main.c |   26 +++-----------------------
     include/linux/pm.h        |    1 -
     2 files changed, 3 insertions(+), 24 deletions(-)

commit a1d59ce842a35b552f22868404e4e7c923242257
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Sep 16 14:22:51 2005 -0400

    [PATCH] USB: UHCI: Split apart the physical and logical framelist arrays
    
    This patch (as563) splits the physical and logical framelist arrays in
    uhci-hcd into two separate pieces.  This will allow slightly better memory
    utilization, since each piece is no larger than a single page whereas
    before the whole thing was a little bigger than two pages.  It also allows
    the logical array to be allocated in non-DMA-coherent memory.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8b4cd42134fbd3c9a9a5c3467d31717798219b1b
Author: Alan Stern <stern@rowland.harvard.edu>
Date:   Fri Sep 16 14:17:45 2005 -0400

    [PATCH] USB: UHCI: Remove unused fields and unneeded tests for NULL
    
    This patch (as562) removes from the uhci-hcd driver a few unused fields
    and some unnecessary tests against NULL and assignments to NULL.  In fact
    it wasn't until fairly recently that the tests became unnecessary.
    Before last winter it was possible that the driver's stop() routine would
    get called even if the start() routine returned an error, but now that
    can't happen.  Hence there's no longer any need to check for partial
    initialization.
    
    Signed-off-by: Alan Stern <stern@rowland.harvard.edu>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e08fb39b771dd7dcba405669b5384fe9929e1caf
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Mon Sep 19 09:40:24 2005 -0700

    [PATCH] USB: Fix usb hub build
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hub.c |    2 +-
     1 file changed, 1 insertion(+), 1 deletion(-)

commit 8ad7fe16df5e07320626be83fbba6d1c6bda5ec0
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 13 19:59:11 2005 -0700

    [PATCH] remove some USB_SUSPEND dependencies
    
    This simplifies some of the PM-related #ifdeffing by recognizing
    that USB_SUSPEND depends on PM.  Also, OHCI drivers were often
    testing for USB_SUSPEND when they should have tested just PM.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hcd.c          |    2 ++
     drivers/usb/host/ohci-hcd.c     |    2 +-
     drivers/usb/host/ohci-hub.c     |    4 ++--
     drivers/usb/host/ohci-omap.c    |    2 +-
     drivers/usb/host/ohci-pci.c     |    2 +-
     drivers/usb/host/ohci-ppc-soc.c |    4 ++--
     drivers/usb/host/ohci-pxa27x.c  |    2 +-
     drivers/usb/host/ohci-s3c2410.c |    3 +--
     drivers/usb/host/ohci-sa1111.c  |    2 +-
     9 files changed, 12 insertions(+), 11 deletions(-)

commit dbc3887e7df4be78b33a83b97fde5d5f9a389859
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 13 19:57:36 2005 -0700

    [PATCH] remove duplicated resume path code
    
    This gets rid of some inconsistently duplicated logic to resume interfaces.
    Similar code was in both finish_port_resume() and in usb_generic_resume().
    Now there is just one copy of that code, accessed regardless of whether
    CONFIG_USB_SUSPEND is enabled.  Fault handling is also more consistent.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 390a8c345e6415cbf811232feedac70b56c9fc8d
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 13 19:57:27 2005 -0700

    [PATCH] remove usb_suspend_device() parameter
    
    This patch removes the extra usb_suspend_device() parameter.  The original
    reason to pass that parameter was so that this routine could suspend any
    active children.  A previous patch removed that functionality ... leaving
    no reason to pass the parameter.  A close analogy is pci_set_power_state,
    which doesn't need a pm_message_t either.
    
    On the internal code path that comes through the driver model, the parameter
    is now used to distinguish cases where USB devices need to "freeze" but not
    suspend.   It also checks for an error case that's accessible through sysfs:
    attempting to suspend a device before its interfaces (or for hubs, ports).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hub.c         |   34 +++++++++++++++++++++-------------
     drivers/usb/core/usb.c         |   23 +++++++++++++++++++++--
     drivers/usb/host/ehci-hcd.c    |    2 +-
     drivers/usb/host/isp116x-hcd.c |    2 +-
     drivers/usb/host/ohci-pci.c    |    2 +-
     include/linux/usb.h            |    2 +-
     6 files changed, 46 insertions(+), 19 deletions(-)

commit c9f89fa40cf274130b56475175a35af961d4b165
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 13 19:57:04 2005 -0700

    [PATCH] remove suspend-path recursion
    
    This patch removes some recursion in the CONFIG_USB_SUSPEND logic, which
    suspended children (of devices or hubs) that weren't already suspended.
    When it sees such cases, suspend now just fails cleanly.
    
    That logic was not needed during system-wide sleep state transitions; and
    given the current notions of how to manage selective suspend transitions,
    we don't want it there either.  Where it was particularly handy was coping
    with various limitations of the sysfs "echo -n N > power/state" support.
    (These include assuming that "N" is always meaningful to the driver; and
    that drivers can only transition to state N from state zero.)
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit db69087437dd5135a9362da1c37fe072070e8f60
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 13 19:56:33 2005 -0700

    [PATCH] usb_interface power state
    
    This updates the handling of power state for USB interfaces.
    
      - Formalizes an existing invariant:  interface "power state" is a boolean:
        ON when I/O is allowed, and FREEZE otherwise.  It does so by defining
        some inlined helpers, then using them.
    
      - Adds a useful invariant:  the only interfaces marked active are those
        bound to non-suspended drivers.  Later patches build on this invariant.
    
      - Simplifies the interface driver API (and removes some error paths) by
        removing the requirement that they record power state changes during
        suspend and resume callbacks.  Now usbcore does that.
    
    A few drivers were simplified to address that last change.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/hub.c       |   33 +++++++++------------
     drivers/usb/core/message.c   |    1
     drivers/usb/core/usb.c       |   65 +++++++++++++++++++++++++++++++++----------
     drivers/usb/core/usb.h       |   18 +++++++++++
     drivers/usb/input/hid-core.c |    2 -
     drivers/usb/misc/usbtest.c   |   10 ------
     drivers/usb/net/pegasus.c    |    2 -
     drivers/usb/net/usbnet.c     |    2 -
     8 files changed, 85 insertions(+), 48 deletions(-)

commit 7586269c0b52970f60bb69fcb86e765fc1d72309
Author: David Brownell <david-b@pacbell.net>
Date:   Fri Sep 23 17:14:37 2005 -0700

    [PATCH] USB: move handoff code
    
    This moves the PCI quirk handling for USB host controllers from the
    PCI directory to the USB directory.  Follow-on patches will need to:
    
    (a) merge these copies with the originals in the HCD reset methods.
    they don't wholly agree, despite doing the very same thing; and
    
    (b) eventually change it so "usb-handoff" is the default, to help
    get more robust USB/BIOS/input/... interactions.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/Makefile              |    2
     drivers/pci/quirks.c          |  253 ---------------------------------------
     drivers/usb/Makefile          |    1
     drivers/usb/host/Makefile     |    5
     drivers/usb/host/pci-quirks.c |  272 ++++++++++++++++++++++++++++++++++++++++++
     5 files changed, 280 insertions(+), 253 deletions(-)

commit 38ffdd62b0f466ef9126ac9f060ade5f218b4887
Author: Pete Zaitcev <zaitcev@redhat.com>
Date:   Sat Sep 24 13:10:16 2005 -0700

    [PATCH] ub: suppress gcc warnings for pointer casts
    
    When building on a 64-bit platform, gcc produces a warning
    "cast of a pointer to an integer of a different size".
    The scatterlist.offset on the LHS is unsigned int, so I used
    that originally.
    
    Signed-off-by: Pete Zaitcev <zaitcev@yahoo.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/block/ub.c |    4 ++--
     1 file changed, 2 insertions(+), 2 deletions(-)

commit e639dd3f4edd4847d160899b19e95ee1a06a6dcb
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: add more snooping hooks in devio.c
    
    Now we can log the urbs travelling through usbfs
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d6e5bcf4a7ebbe258124a931f1449338340a99b5
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] devfs: Remove the mode field from usb_class_driver as it's no longer needed
    
    Also fixes all drivers that set this field, and removes some other devfs
    specfic USB logic.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/class/usblp.c           |    3 +--
     drivers/usb/core/file.c             |   19 ++++---------------
     drivers/usb/image/mdc800.c          |    3 +--
     drivers/usb/input/aiptek.c          |    2 +-
     drivers/usb/input/hiddev.c          |    3 +--
     drivers/usb/media/dabusb.c          |    3 +--
     drivers/usb/misc/auerswald.c        |    3 +--
     drivers/usb/misc/idmouse.c          |    5 ++---
     drivers/usb/misc/legousbtower.c     |    5 ++---
     drivers/usb/misc/rio500.c           |    3 +--
     drivers/usb/misc/sisusbvga/sisusb.c |    5 -----
     drivers/usb/misc/usblcd.c           |    9 ++++-----
     drivers/usb/usb-skeleton.c          |    3 +--
     include/linux/usb.h                 |    7 ++-----
     14 files changed, 22 insertions(+), 51 deletions(-)

commit 094f1649577dfc7f2c7407a8380e05a506b31f7f
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: add endpoint information to sysfs
    
    This patch adds endpoint information for both devices and interfaces to
    sysfs.  Previously it was only possible to get the endpoint information
    from usbfs, and never possible to get any information on endpoint 0.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/core/sysfs.c |  195 ++++++++++++++++++++++++++++++++++++++++++++++-
     include/linux/usb.h      |    4
     2 files changed, 197 insertions(+), 2 deletions(-)

commit 8da608caa07d5c9745ec86bf7c25ad423352f9a4
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Mon Jun 20 21:15:16 2005 -0700

    [PATCH] USB: disable tasklet if rtl8150 device is removed while active.
    
    This fixes a oops seen in the wild.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c9c7746dd333c12f482af2f1e63ea7eafc7cd529
Author: Rui Santos <rsantos@grupopie.com>
Date:   Fri Sep 23 20:06:50 2005 +0100

    [PATCH] USB: ftdi: Artemis and ATIK based USB astronomical CCD cameras
    
    This patch enables direct kernel support for the Artemis
    and ATIK astronomical based USB CCD cameras.
    Since all communications with this camera are done via an
    FTDI 245BM chip, it was only needed to specify the
    ProductID and VendorID of all three devices.
    In what tests are concerned, data was transfered from and
    to the FTDI at the chips Top speed (360KB/s).
    
    Signed-off-by: Rui Santos <rsantos@grupopie.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/serial/ftdi_sio.c |    3 +++
     drivers/usb/serial/ftdi_sio.h |   13 +++++++++++++
     2 files changed, 16 insertions(+)

commit 72f30b6f2f5f68dd426e9fe83817b882c2d04e50
Author: David Brownell <david-b@pacbell.net>
Date:   Tue Sep 27 10:19:39 2005 -0700

    [PATCH] USB: ehci.patch (earlier irq disable)
    
    This tweaks the EHCI reboot notifier to also halt the EHCI controller, and
    makes that halt code force IRQs off.  Both should always have been done.
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/usb/host/ehci-hcd.c |    8 ++++++++
     1 file changed, 8 insertions(+)

commit 89fbb69c4f285019ba5e029963dc11cc6beb078a
Merge: 7efe5d7... 4cce339...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 16:47:34 2005 -0700

    Merge branch 'for-linus' of master.kernel.org:/pub/scm/linux/kernel/git/roland/infiniband

commit 4cce3390c998600f6648e075e475cf8f6dd8cebe
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 16:38:15 2005 -0700

    [IB] fix up class_device_create() calls
    
    Fix class_device_create() calls to match the new prototype which
    takes a parent device pointer.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 977e74b5f60de3df9831897b726c16870878eee4
Author: Ashutosh Naik <ashutosh_naik@adaptec.com>
Date:   Fri Oct 28 15:14:53 2005 -0700

    [PATCH] e1000: Fixes e1000_suspend warning when CONFIG_PM is not enabled
    
    drivers/net/e1000/e1000_main.c:3645: warning: `e1000_suspend' defined
    but not used
    
    Signed-off-by: Ashutosh Naik <ashutosh_naik@adaptec.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2c36ed22c6f64de94c6c3b7258dd7285bb093401
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Oct 28 15:14:52 2005 -0700

    [PATCH] Better fixup for the orinoco driver
    
    The latest kernel added a pretty ugly fix for the orinoco etherleak bug
    which contains bogus skb->len checks already done by the caller and causes
    copies of all odd sized frames (which are quite common)
    
    While the skb->len check should be ripped out the other fix is harder to do
    properly so I'm proposing for this the -mm tree only until next 2.6.x so
    that it gets tested.
    
    Instead of copying buffers around blindly this code implements a padding
    aware version of the hermes buffer writing function which does padding as
    the buffer is loaded and thus more cleanly and without bogus 1.5K copies.
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 63f57fb69b017230c77c40f1713e40885ae6d159
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Oct 28 15:14:51 2005 -0700

    [PATCH] revert "orinoco: Information leakage due to incorrect padding"
    
    Cc: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a7ec15da65ab64c5f97beedc4ff21cf3e0ae71c0
Author: Ravikiran G Thirumalai <kiran@scalex86.org>
Date:   Fri Oct 28 15:14:49 2005 -0700

    [PATCH] e1000: use vmalloc_node()
    
    Allocate node local tx and rx descriptors for the e1000 driver
    
    Signed-off-by: Ravikiran Thirumalai <kiran@scalex86.org>
    Cc: Christoph Lameter <clameter@engr.sgi.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 46e178535836dcd7ef92f179218628d101892c59
Author: Pavel Machek <pavel@ucw.cz>
Date:   Fri Oct 28 15:14:47 2005 -0700

    [PATCH] b44: fix suspend/resume
    
    Fix suspend/resume on b44 by freeing/reacquiring irq.  Otherwise it hangs
    on resume.
    
    Signed-off-by: Pavel Machek <pavel@suse.cz>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a1bfcd97414d3e9b3c96f27d9b1a1e76c9543ba6
Author: Florin Malita <fmalita@gmail.com>
Date:   Fri Oct 28 15:14:46 2005 -0700

    [PATCH] eepro.c: module_param_array cleanup
    
    num_params is unused (and unusable in this form).
    
    Signed-off-by: Florin Malita <fmalita@gmail.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b6a1d5f88473138497d8694ddf174e8e91300068
Author: Martin J. Bligh <mbligh@mbligh.org>
Date:   Fri Oct 28 15:14:44 2005 -0700

    [PATCH] e1000: remove warning about e1000_suspend
    
    e1000_suspend is only used under #ifdef CONFIG_PM.  Move the declaration of
    it to be the same way, just like e1000_resume, otherwise gcc whines on
    compile.  I offer as evidence:
    
    	static struct pci_driver e1000_driver = {
     	       .name     = e1000_driver_name,
     	      .id_table = e1000_pci_tbl,
      	      .probe    = e1000_probe,
      	      .remove   = __devexit_p(e1000_remove),
     	      /* Power Managment Hooks */
    	#ifdef CONFIG_PM
     	       .suspend  = e1000_suspend,
     	       .resume   = e1000_resume
    	#endif
    	};
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7efe5d7c3e3a82e43b0f8fb29c6797317bce7a9a
Merge: dbe0580... f8977d0...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 15:57:32 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/pci-2.6

commit dbe0580d0d2fccf63b0349840a7ae3dbb16f3074
Merge: 2073194... 19c1f3c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 15:54:06 2005 -0700

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 0e1f60609258e18ec0a0477c646101212822d387
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:52:13 2005 -0700

    [IA64] fix warning unused variable `g'
    
    4ac0068f44f192f2de95a7bb36df3e19767a45fb forgot to delete
    the declaration of this variable which is no longer used.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a4da0628efd788eb199dd9df225e296035ec2539
Merge: 70a30e1... 2073194...
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 15:50:51 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 9dfb7808fb05643b0d06df7411b94d9546696bf1
Merge: c45154a... 2073194...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 18:50:09 2005 -0400

    Merge branch 'master'

commit 596c96ba06e5d56e72451e02f93f4e15e17458df
Merge: ad18b0e... 2073194...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 18:48:57 2005 -0400

    Merge branch 'master'

commit 80d904c43b11105c16395b240078ccc2f7ac6074
Author: Jayachandran C <jchandra@digeo.com>
Date:   Tue Oct 18 17:11:16 2005 -0700

    [SCSI] sr: remove dead code
    
    This patch fixes an issue reported in drivers/scsi/sr.c by Coverity
    
    Error reported: Pointer returned from "scsi_cd" is never used
    
    Patch description:
     Remove the scsi_cd() call as it does not have any effect.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4647722673994787bfa294a163fcb6955b93d417
Author: Jayachandran C <jchandra@digeo.com>
Date:   Thu Oct 27 15:51:13 2005 -0700

    [SCSI] Fix issue reported by coverity in drivers/scsi/scsi_ioctl.c
    
    This patch attempts to fix an issue found in drivers/scsi/scsi_ioctl.c by Coverity.
    
    Error reported:
    CID: 3437
    Checker: FORWARD_NULL (help)
    File: /export2/p4-coverity/mc2/linux26/drivers/scsi/scsi_ioctl.c
    Function: scsi_ioctl_send_command
    Description: Variable "buf" tracked as NULL was passed to a function that dereferences it.
    
    Patch description:
    buf can be NULL if inlen and outlen are both 0. This patch adds check if the
    length is non-zero before calling copy from/to user.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 64a0c1c81e300f0f56f26604c81040784e3717f0
Author: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
Date:   Fri Oct 28 15:39:02 2005 -0700

    [SCTP] Do not allow unprivileged programs initiating new associations on
    privileged ports.
    
    Signed-off-by: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 70a30e16a8a9d22396a4d1e96af86e43594df584
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 15:38:26 2005 -0700

    [IB] uverbs: Fix device lifetime problems
    
    Move ib_uverbs module to using cdev_alloc() and class_device_create()
    so that we can handle device lifetime properly.  Now we can make sure
    we keep all of our data structures around until the last way to reach
    them is gone.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit a74968f8c3b1166cfe0942901b56165f06ab6f60
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 15:37:23 2005 -0700

    [IB] umad: Fix device lifetime problems
    
    Move ib_umad module to using cdev_alloc() and class_device_create() so
    that we can handle device lifetime properly.  Now we can make sure we
    keep all of our data structures around until the last way to reach
    them is gone.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit f8977d0a9b7ac84cfe700278a2ca64cb33c93a13
Author: Jesse Barnes <jbarnes@virtuousgeek.org>
Date:   Tue Oct 25 10:28:42 2005 -0700

    [PATCH] PCI fixup for Toshiba laptops and ohci1394
    
    This is a fix for a bug I see on my Toshiba laptop, where the ohci1394
    controller gets initialized improperly.  The patch adds two PCI fixups
    to arch/i386/pci/fixup.c, one that happens early on to cache the value
    of the PCI_CACHE_LINE_SIZE config register, and another that later
    restores the value, along with a valid IRQ number and some BAR values.
    I've tested it on my laptop, and it prevents me from running into what I
    consider to be a major bug: IRQ 11 is disabled by the IRQ debug code,
    causing my wireless to break.
    
    Thanks to Rob for the original patch to ohci1394.c and Stefan for lots
    of proofreading (and a last minute bug caught in review!) and additional
    information collection.  I think the DMI system list is correct, but we
    may need to add some more PCI IDs to the PCI_FIXUP macros over time.
    
    Signed-off-by: Jesse Barnes <jbarnes@virtuousgeek.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2f028234f2c7f31dc0ff0784e20f14be11f7035c
Author: Grant Coady <gcoady@gmail.com>
Date:   Thu Oct 20 09:55:32 2005 +1000

    [PATCH] pci_ids: cleanup comments
    
    pci_ids.h cleanup: convert // comment to /* comment */
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8f7020d36374dda9366fee1343f8eacfe8f5e641
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 23 11:57:38 2005 -0700

    [PATCH] kernel-doc: PCI fixes
    
    PCI: add descriptions for missing function parameters.
    Eliminate all kernel-doc warnings here.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit f05aab8ef653abcbd454739264a9f5cf63f6f9f8
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 23 11:58:19 2005 -0700

    [PATCH] kernel-doc: fix PCI hotplug
    
    PCI hotplug.c: does not contain kernel-doc, so don't process it for now.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8e5dce35221850759671b2847a2e51030f7626bd
Author: Kristen Accardi <kristen.c.accardi@intel.com>
Date:   Tue Oct 18 17:21:40 2005 -0700

    [PATCH] acpiphp: allocate resources for adapters with bridges
    
    Allocate resources for adapters with bridges on them.
    
    Signed-off-by: Kristen Carlson Accardi <kristen.c.accardi@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5457b6a6013516a73b8f48ec1adb9984b577a5c1
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Sun Oct 16 21:32:46 2005 +0100

    [PATCH] PCI: Convert megaraid to use pci_driver shutdown method
    
    Convert megaraid to use pci_driver's shutdown method rather than
    the generic device_driver shutdown method.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a1720fdbd0f90e64668a59a304d01c5ba001b450
Author: Russell King <rmk+lkml@arm.linux.org.uk>
Date:   Sun Oct 16 21:31:36 2005 +0100

    [PATCH] PCI: Fixup PCI driver shutdown
    
    Add a warning to pci driver registration code so that we know
    whether we have drivers using the obsolete driver shutdown
    method.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d10211b278c70fbebb83fb9e4ee717ca13f69b2d
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Oct 15 22:02:19 2005 -0700

    [PATCH] PCI: fix edac drivers for radisys 82600 borkage
    
    I told you that the pci_ids.h cleanup was a bad idea ;)
    
    Cc: Alan Cox <alan@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c2608a111b621d5cf0e4c2876d79e67333ce5341
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:44 2005 -0700

    [PATCH] shpchp: fix oops at driver unload
    
    At unload time, the shpchp driver does not remove sysfs files
    it had created in the driver's probe entry point. This patch
    fixes this problem.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7c8942f993dc069db0e0327a343bbec8a6e96074
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:43 2005 -0700

    [PATCH] shpchp: reduce debug message verbosity
    
    Reduce the number of debug messages generated if shpchp debug is
    enabled. I tried to restrict this to removing debug messages that
    are either early-driver-debug type messages, or print information
    that can be inferred through other debug prints.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ee138334d5eb5ca662b2d69228420c1ccc051e0e
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:42 2005 -0700

    [PATCH] shpchp: miscellaneous cleanups
    
    Remove un-necessary header includes, remove dead code, remove
    some type casts, receive function return in the correct data
    type...
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2178bfad9ccb0cbeb79599dd1dc349dd4567aa49
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:41 2005 -0700

    [PATCH] shpchp: remove redundant data structures
    
    State information is currently stored in per-slot as well as
    per-pci-function data structures in shpchp. There's a lot of
    overlap in the information kept, and some of it is never used.
    This patch consolidates the state information to per-slot and
    eliminates unused data structures. The biggest change is to
    eliminate the pci_func structure and the code around managing
    its lists.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 70b6091946ab486c4dab8abeb4a3fc2bf7d3e7fe
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:40 2005 -0700

    [PATCH] shpchp: dont save PCI config for hotplug slots/devices
    
    This patch eliminates saving the PCI config header for devices
    in hotplug capable slots. We now use the PCI core to get the
    specific parts of the config header as required.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1410dc1cef1e2f5e90c1fcb97041f42e0eee35b4
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:39 2005 -0700

    [PATCH] shpchp: detect SHPC capability before doing a lot of work
    
    The shpc driver registers its probe function for all pci-pci
    bridges in the system. Not all of them will be shpc capable, so
    look for this capability early in the probe function and return
    if there's no work to do on this bridge. The old shpc driver
    did some initialization work on all bridges before detecting
    that shpc is not supported and unwinds the work it's already done
    in that case.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 424600f9706b20a8a33ad928d3d0326bd88679bc
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:38 2005 -0700

    [PATCH] shpchp: reduce dependence on ACPI
    
    Reduce the SHPC hotplug driver's dependence on ACPI. We don't
    walk the acpi namespace anymore to build a list of bridges and
    devices. The remaining interaction with ACPI is to run the
    _OSHP method to transition control of hotplug hardware from
    system BIOS to the shpc hotplug driver, and to run the _HPP
    method to get hotplug device parameters like cache line size,
    latency timer and SERR/PERR enable from BIOS.
    
    Note that one of the side effects of this patch is that shpchp
    does not enable the hot-added device or its DMA bus mastering
    automatically now. It expects the device driver to do that.
    This may break some drivers and we will have to fix them as
    they are reported.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7e88ed199689f333668b62348051202706b6a74a
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:37 2005 -0700

    [PATCH] shpchp: remove redundant display of PCI device resources
    
    Info about resources assigned to PCI devices is already available
    through sysfs and pci utilities. There's no need for shpchp to
    create another sysfs file to display the same information.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dbd7a78818d125a0ebd5507d4edb4dd5900006ab
Author: Rajesh Shah <rajesh.shah@intel.com>
Date:   Thu Oct 13 12:05:36 2005 -0700

    [PATCH] shpchp: use the PCI core for hotplug resource management
    
    This patch converts the standard hotplug controller driver to use
    the PCI core for resource management. This eliminates a whole lot
    of duplicated code, and integrates shpchp in the system's normal
    PCI handling code.
    
    Signed-off-by: Rajesh Shah <rajesh.shah@intel.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e3b1bd572f1cdb247bb4266a593b6894dc578d6a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Sep 21 22:26:31 2005 +0200

    [PATCH] PCI: Add quirk for SMBus on HP D530
    
    One more SMBus unhiding quirk, this time for the HP D530. Requested and
    successfully tested by Ben Cranston.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 934199e95d6ac28f42686fe3009877eff33e06c3
Author: Linas Vepstas <linas@linas.org>
Date:   Wed Sep 28 19:33:38 2005 -0500

    [PATCH] ppc64 PCI Hotplug: cleanup unsymmetric API routines
    
    This is a minor patch to the ppc64 PCI hotplug code; it makes the call to
    rpaphp_unconfig_pci_adapter() symmetric with respect to the call to
    rpaphp_config_pci_adapter().  I discussed this with John Rose, who
    had provided the last round of changes for these functions; he
    appearently had this patch but somehow failed to mail it out.
    
    Tested. (added/removed device).
    
    Signed-off-by: Linas Vepstas <linas@austin.ibm.com>
    
     drivers/pci/hotplug/rpaphp.h      |    3 ++-
     drivers/pci/hotplug/rpaphp_core.c |    5 ++++-
     drivers/pci/hotplug/rpaphp_pci.c  |   11 +++--------
     3 files changed, 9 insertions(+), 10 deletions(-)

commit b7924c38c9a9c6151213bc0d91776eace614e761
Author: Grant Coady <gcoady@gmail.com>
Date:   Thu Sep 29 11:06:40 2005 +1000

    [PATCH] pci_ids: remove non-referenced symbols from pci_ids.h
    
    pci_ids.h cleanup: removed non-referenced symbols, compile tested
    with 'make allmodconfig'
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     include/linux/pci_ids.h |  540 ------------------------------------------------
     1 file changed, 540 deletions(-)

commit 4153812fc10ea91cb1a7b6ea4f4337dd211c1ef7
Author: Grant Coady <gcoady@gmail.com>
Date:   Thu Sep 29 10:40:52 2005 +1000

    [PATCH] pci_ids: macros: replace partial with whole symbols
    
    pci_ids cleanup: replace symbols built by macros with whole symbols to
    aid grep searches.
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/video/cirrusfb.c |   24 ++++++++++++------------
     sound/oss/ymfpci.c       |   17 +++++++++--------
     sound/pci/bt87x.c        |   11 +++++++----
     3 files changed, 28 insertions(+), 24 deletions(-)

commit b135c4815051bad6b2472e4ad0152f205918d2c5
Author: Grant Coady <gcoady@gmail.com>
Date:   Thu Sep 29 10:39:46 2005 +1000

    [PATCH] pci_ids: remove duplicates from pci_ids.h
    
    pci_ids.h cleanup: remove duplicated entries and change some defines to
    explicit value rather than in terms of another constant, preparation for
    removing unused symbols
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     include/linux/pci_ids.h |   28 +++++++++-------------------
     1 file changed, 9 insertions(+), 19 deletions(-)

commit acc06632e387fd05d2bf3480f6a2f4d1a62734b8
Author: Rudolf Marek <R.Marek@sh.cvut.cz>
Date:   Thu Sep 29 08:35:41 2005 +0000

    [PATCH] unhide ICH6 SMBus - take 2
    
    This patch unhides hidden SMBus on ICH6 chipset installed in
    Asus M6V notebook. I would like to thank Michal Mleczko for
    testing and help.
    
    Signed-Off-By: Rudolf Marek <r.marek@sh.cvut.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/pci/quirks.c |   24 ++++++++++++++++++++++++
     1 file changed, 24 insertions(+)

commit fe89cf4c4b7a3d9a0ff95eb0506aa7c9baaccda1
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Wed Sep 28 14:03:08 2005 -0600

    [PATCH] cpqphp: add pci_enable_device()
    
    Add pci_{enable,disable}_device() calls.  Without pci_enable_device(),
    dev->irq is garbage, and cpqphp relies on it.
    
    This fixes a problem reported by Bruno Redondi.  He reported a flood
    of ACPI interrupts, that caused kacpid to run 100% of the time:
        http://bugzilla.kernel.org/show_bug.cgi?id=5312
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/pci/hotplug/cpqphp_core.c |   24 +++++++++++++++++++-----
     1 file changed, 19 insertions(+), 5 deletions(-)

commit c8920f0c8b3b42537ab4a54ff92c11daf48fdfec
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Wed Sep 28 15:15:16 2005 -0600

    [PATCH] cpcihp_zt5550: add pci_enable_device()
    
    Add pci_{enable,disable}_device() calls.  Without pci_enable_device(),
    dev->irq is garbage, and cpcihp_zt5550 relies on it.
    
    Compiled but untested, since I don't have the hardware.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Scott Murray <scottm@somanetworks.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/pci/hotplug/cpcihp_zt5550.c |   25 +++++++++++++++++++++----
     1 file changed, 21 insertions(+), 4 deletions(-)

commit d3535fbbce0eef8faa8de30d187fc83b11b858ef
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Sep 28 17:50:51 2005 -0400

    [PATCH] pci: cleanup need_restore switch statement
    
    Cleanup the need_restore switch statement in
    pci_set_power_state(). This makes it more safe by explicitly handling
    all the PCI power states instead of handling them as the default
    case. It also reads a little better IMHO.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b30197d2c07b396907b81673354a015a9d2b216c
Author: Brian King <brking@us.ibm.com>
Date:   Tue Sep 27 01:21:56 2005 -0700

    [PATCH] PCI: ipr: Block config access during BIST
    
    IPR scsi adapter have an exposure today in that they issue BIST to the adapter
    to reset the card.  If, during the time it takes to complete BIST, userspace
    attempts to access PCI config space, the host bus bridge will master abort the
    access since the ipr adapter does not respond on the PCI bus for a brief
    period of time when running BIST.  On PPC64 hardware, this master abort
    results in the host PCI bridge isolating that PCI device from the rest of the
    system, making the device unusable until Linux is rebooted.  This patch makes
    use of some newly added PCI layer APIs that allow for protection from
    userspace accessing config space of a device in scenarios such as this.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Cc: James Bottomley <James.Bottomley@SteelEye.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/scsi/ipr.c |    2 ++
     1 file changed, 2 insertions(+)

commit e04b0ea2e0f9c1bb0d874db4493fc7f7a623116b
Author: Brian King <brking@us.ibm.com>
Date:   Tue Sep 27 01:21:55 2005 -0700

    [PATCH] PCI: Block config access during BIST
    
    Some PCI adapters (eg.  ipr scsi adapters) have an exposure today in that they
    issue BIST to the adapter to reset the card.  If, during the time it takes to
    complete BIST, userspace attempts to access PCI config space, the host bus
    bridge will master abort the access since the ipr adapter does not respond on
    the PCI bus for a brief period of time when running BIST.  On PPC64 hardware,
    this master abort results in the host PCI bridge isolating that PCI device
    from the rest of the system, making the device unusable until Linux is
    rebooted.  This patch is an attempt to close that exposure by introducing some
    blocking code in the PCI code.  When blocked, writes will be humored and reads
    will return the cached value.  Ben Herrenschmidt has also mentioned that he
    plans to use this in PPC power management.
    
    Signed-off-by: Brian King <brking@us.ibm.com>
    Cc: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/pci/access.c    |   89 ++++++++++++++++++++++++++++++++++++++++++++++++
     drivers/pci/pci-sysfs.c |   20 +++++-----
     drivers/pci/pci.h       |    7 +++
     drivers/pci/proc.c      |   28 +++++++--------
     drivers/pci/syscall.c   |   14 +++----
     include/linux/pci.h     |    7 +++
     6 files changed, 134 insertions(+), 31 deletions(-)

commit 2cea752f683af1be58ee8f25717c0a8118e0ac5b
Author: Rudolf Marek <R.Marek@sh.cvut.cz>
Date:   Tue Sep 27 21:54:51 2005 +0000

    [PATCH] PCI: ICH6 ACPI and GPIO quirk
    
    This patch just adds ACPI and GPIO regions to its LPC bridge, similar
    way as ICH4 did. I would like to thank Michal Mleczko for testing.
    
    Signed-off-by: Rudolf Marek <r.marek@sh.cvut.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/pci/quirks.c |   12 ++++++++++++
     1 file changed, 12 insertions(+)

commit 96a339985d4c6874d32909e8f1903e6e6c141399
Author: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
Date:   Fri Oct 28 15:36:12 2005 -0700

    [SCTP] Allow SCTP_MAXSEG to revert to default frag point with a '0' value.
    
    Signed-off-by: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit a1ab3582699def352dab1355adcadd3d47f79f0f
Author: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
Date:   Fri Oct 28 15:33:24 2005 -0700

    [SCTP] Fix SCTP_SETADAPTION sockopt to use the correct structure.
    
    Signed-off-by: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 1993d683f39f77ddb46a662d7146247877d50b8f
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 28 15:30:34 2005 -0700

    [IPoIB] Drop RX packets when out of memory
    
    Change the way IPoIB handles RX packets when it can't allocate a new
    receive skbuff.  If the allocation of a new receive skb fails, we now
    drop the packet we just received and repost the original receive skb.
    This means that the receive ring always stays full and we don't have
    to monkey around with trying to schedule a refill task for later.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit fb5f329d58c67cadc8ff07193ea7556923d49d1b
Merge: 9590204... 741b225...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:28:54 2005 -0700

    Auto-update from upstream

commit 9590204d31f8a5f47e890fbbdbcd37dd78f0581a
Merge: 8496f2a... 4ac0068...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:27:48 2005 -0700

    Pull optimize-ptrace-threads into release branch

commit 8496f2a4513edbc0c1d40496f1b0868dfed36eb0
Merge: 2d8f6a5... c1902aa...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:27:36 2005 -0700

    Pull fix-slow-tlb-purge into release branch

commit b5141128027c53b8ca40736d969f75c9a1cdb64b
Author: Christoph Hellwig <hch@lst.de>
Date:   Fri Oct 28 22:07:41 2005 +0200

    [SCSI] mptsas: support link error attributes
    
    .. and the fusion part.  I had to move around the debug functions around
    a little bit so they are below the transport class methods.
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 2d8f6a521908e3563478347aecad4ab20dc48155
Merge: fac84ef... e7f98db...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:27:16 2005 -0700

    Pull fix-bte-copy into release branch

commit fac84ef26759a3725bfc53ae3abf21976360aff3
Merge: d73dee6... 2792902...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:27:03 2005 -0700

    Pull xpc-disengage into release branch

commit d73dee6ee4b554074f88e4ebd956ea4db8552d52
Merge: 9acd3fa... ddf6d0a...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 15:26:43 2005 -0700

    Pull for-each-cpu into release branch

commit 28f22b031f8959cdf53202cd9f6ca8b9ce19b3a6
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 17:22:18 2005 -0500

    [SCSI] qla2xxx: put back label erroneously removed by eh_active patch
    
    The label eh_dev_reset_done is still in use
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit eaa5c54dbec70e2a93d6ed412bb589bbf9c90a17
Author: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
Date:   Fri Oct 28 15:10:00 2005 -0700

    [SCTP] Rename SCTP specific control message flags.
    
    Rename SCTP specific control message flags to use SCTP_ prefix rather than
    MSG_ prefix as per the latest sctp sockets API draft.
    
    Signed-off-by: Ivan Skytte Jorgensen <isj-sctp@i1.dk>
    Signed-off-by: Sridhar Samudrala <sri@us.ibm.com>

commit 9acd3fa2e10f4e5b093ddf93af8f23cc9bdbd621
Merge: 5a2b172... 9c184a0...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:33:50 2005 -0700

    Pull asm-slot-fix into release branch

commit 5a2b1722e1051b84485a77006abe9b929aedef32
Merge: 1e1bb25... ce6e71a...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:33:35 2005 -0700

    Pull proc-cpuinfo-siblings into release branch

commit 1e1bb25e97dcbc8820e673eb543be6b2dcfa080b
Merge: c87ff94... b6a7e1e...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:33:14 2005 -0700

    Pull big-sim-disk into release branch

commit c87ff94333642ce3db4fc0857ad1f723cb42c1dd
Merge: 556902c... 1e5c936...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:32:56 2005 -0700

    Pull sparsemem-v5 into release branch

commit 556902cd2d2cfdc54fe1f1d7f3ac5e2eb276ac09
Merge: 5833f14... 3673555...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:32:44 2005 -0700

    Pull remove-sn-bist-lock into release branch

commit 5833f1420b96c4f9b193b7f2fcbc0003dc032fe8
Merge: a1e78db... d719948...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 14:32:30 2005 -0700

    Pull new-efi-memmap into release branch

commit 20731945ae743034353a88c307920d1f16cf8ac8
Merge: 406119f... a9d1b24...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 14:14:57 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/i2c-2.6

commit c45154a3b1fecdbb51b5462c9f730b44e62b83a5
Author: Ed Kear <ed@kear.net>
Date:   Sat Jul 16 23:32:19 2005 -0400

    [PATCH] libata: add support for Promise SATA 300 TX2plus PDC40775
    
    I'm using this card in a RAID1 with 2 new SATA drives with no problems.
    
    Card - SATA 300 TX2plus  PDC40775 (3d73)
    
    Signed-off-by: Ed Kear <ed@kear.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a9d1b24d91f91b77db3da8aeacb414764f789b9c
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Sat Oct 22 00:23:27 2005 +0200

    [PATCH] I2C: add i2c module alias for i2c drivers to use
    
    This is the start of adding hotplug-like support for i2c devices.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0dc9a32d9a975ccd25b9f531451165c93e1c7313
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Sat Oct 22 00:23:27 2005 +0200

    [PATCH] I2C: remove devfs support from i2c-dev driver
    
    as devfs is gone, this isn't needed anymore.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b890a07f7b002ee473986fa85ae3582de399a4cf
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 22:21:24 2005 +0200

    [PATCH] hwmon: smsc47m1 documentation update
    
    The SMSC LPC47M997 Super-I/O chip seems to be compatible with the
    LPC47M192, so it is supported by the smsc47m1 driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 90209b42d0498d57a804bf81fea427bf39c5315c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 22:20:21 2005 +0200

    [PATCH] hwmon: lm90 documentation update
    
    Update the I2C addresses for the ADM1032 and ADT7461 chips.
    Also update the links to the Analog Devices web site.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c3df5806cdae6fac678c662b527cb974bef4b60c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:39:40 2005 +0200

    [PATCH] hwmon: Add PEC support to the lm90 driver
    
    Add PEC support to the lm90 driver. Only the ADM1032 chip supports it,
    and in a rather tricky way, which is why this patch comes with
    documentation reinforcements. At least, this demonstrates that the new
    PEC support logic in i2c-core can properly deal with chips with partial
    PEC support.
    
    As enabling PEC causes a significant performance drop, it can be
    disabled through a sysfs file (unsurprisingly named "pec").
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8256fe0f40f1cd72f80f2c46fe0ab1638f03a98d
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:37:52 2005 +0200

    [PATCH] hwmon: Separate the lm90 register read function
    
    Preparatory patch to add PEC support to the lm90 driver. We need a
    centralized function to read register values, where the PEC code will
    be later inserted. A positive side effect is that read errors are now
    handled properly.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e8aac4a9b417643dd9739b48473790a09b8b6cbe
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:34:42 2005 +0200

    [PATCH] i2c: i2c-i801 PEC code cleanups
    
    The tests leading to the use of hardware PEC in the i2c-i801 driver
    can be simplified.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 585b3160f8212e58325bc1c0292c2ec01ac5db84
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:31:15 2005 +0200

    [PATCH] i2c: SMBus PEC support rewrite, 3 of 3
    
    The new SMBus PEC implementation doesn't support PEC emulation on
    non-PEC non-I2C SMBus masters, so we can drop all related code.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 421ef47be20c5454b12ae0ec918d5073a9d2b938
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:28:55 2005 +0200

    [PATCH] i2c: SMBus PEC support rewrite, 2 of 3
    
    This is my rewrite of the SMBus PEC support. The original
    implementation was known to have bugs (credits go to Hideki Iwamoto
    for reporting many of them recently), and was incomplete due to a
    conceptual limitation.
    
    The rewrite affects only software PEC. Hardware PEC needs very little
    code and is mostly untouched.
    
    Technically, both implementations differ in that the original one
    was emulating PEC in software by modifying the contents of an
    i2c_smbus_data union (changing the transaction to a different type),
    while the new one works one level lower, on i2c_msg structures (working
    on message contents). Due to the definition of the i2c_smbus_data union,
    not all SMBus transactions could be handled (at least not without
    changing the definition of this union, which would break user-space
    compatibility), and those which could had to be implemented
    individually. At the opposite, adding PEC to an i2c_msg structure
    can be done on any SMBus transaction with common code.
    
    Advantages of the new implementation:
    
    * It's about twice as small (from ~136 lines before to ~70 now, only
      counting i2c-core, including blank and comment lines). The memory
      used by i2c-core is down by ~640 bytes (~3.5%).
    
    * Easier to validate, less tricky code. The code being common to all
      transactions by design, the risk that a bug can stay uncovered is
      lower.
    
    * All SMBus transactions have PEC support in I2C emulation mode
      (providing the non-PEC transaction is also implemented). Transactions
      which have no emulation code right now will get PEC support for free
      when they finally get implemented.
    
    * Allows for code simplifications in header files and bus drivers
      (patch follows).
    
    Drawbacks (I guess there had to be at least one):
    
    * PEC emulation for non-PEC capable non-I2C SMBus masters was dropped.
      It was based on SMBus tricks and doesn't quite fit in the new design.
      I don't think it's really a problem, as the benefit was certainly
      not worth the additional complexity, but it's only fair that I at
      least mention it.
    
    Lastly, let's note that the new implementation does slightly affect
    compatibility (both in kernel and user-space), but doesn't actually
    break it. Some defines will be dropped, but the code can always be
    changed in a way that will work with both the old and the new
    implementations. It shouldn't be a problem as there doesn't seem to be
    many users of SMBus PEC to date anyway.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b8095544bc27044a7aa79e1e073b781a249910c3
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:25:04 2005 +0200

    [PATCH] i2c: SMBus PEC support rewrite, 1 of 3
    
    Discard I2C_FUNC_SMBUS_*_PEC defines. i2c clients are not supposed to
    check for PEC support of i2c bus drivers on individual SMBus
    transactions, and i2c bus drivers are not supposed to advertise them.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 142078f6f09986c2b8f5ebe215ce405438080317
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:21:50 2005 +0200

    [PATCH] i2c: i2c-i810 documentation update
    
    Update the documented list of devices supported by the i2c-i810
    driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit eb00a28ae1a8fc4b3914f94ab1944396b8dda9fc
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:20:17 2005 +0200

    [PATCH] i2c: Drop unused parport i2c IDs
    
    Drop unused i2c-over-parallel-port i2c IDs:
    * I2C_HW_B_LPC was never actually used as far as I could search.
    * I2C_HW_B_ELV and I2C_HW_B_VELLE are no more used since the
      introduction of the unified i2c-parport driver in Linux 2.6.2.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit cd19cc4732395eb3dbaf49042233b5ac69b1fbd3
Author: Jean Delvare <khali@linux-fr.org>
Date:   Wed Oct 26 21:14:16 2005 +0200

    [PATCH] i2c: ID redefinition cleanups
    
    Fix several redefinitions of i2c IDs. i2c IDs must not be defined
    outside of i2c-id.h.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Henk Vergonet <henk@god.dyndns.org>
    Acked-by: Mark McClelland <mark@alpha.dyndns.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6344a8ece0bacccf61817450e8ccf78c973fc0c5
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Oct 26 21:09:41 2005 +0200

    [PATCH] i2c: Static function fixes, 4 of 4
    
    Fix functions declared static and then implemented
    without the static in drivers/i2c/chips.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c49efceffa599299ab3f38b1cdf8c2f1bf9811c4
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Oct 26 21:07:25 2005 +0200

    [PATCH] hwmon: Static function fixes, 3 of 4
    
    Fixup functions that have been declared static
    and then actually defined without the static on.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d8d2061590c87c20bf78133461bc74df78803ecb
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Oct 26 21:05:46 2005 +0200

    [PATCH] hwmon: Static function fixes, 2 of 4
    
    lm78.c and lm85.c have a number of items declared static
    then implemented without the static on them. The following
    patch fixes these sparse errors.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6536c49a1ee2bd85eee0e7fa41e67c5743f2f93e
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Wed Oct 26 21:04:12 2005 +0200

    [PATCH] i2c: Static function fixes, 1 of 4
    
    eeprom_detect is first declared static and then when
    the function is actually implemented, there is no static.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2445eb62e98250f1ec8cbc8cf7c4be9cfafe88e5
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Oct 17 23:16:25 2005 +0200

    [PATCH] i2c: Documentation update
    
    Update the i2c documentation: kzalloc should be used instead of
    kmalloc.
    
    I also fixed a couple other things nearby in writing-clients, as several
    past changes had never been reported there.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit deb875c7ff2ef417a2daff41ee4b357098b7ab10
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Oct 17 23:14:31 2005 +0200

    [PATCH] i2c: kzalloc cleanups, 2 of 2
    
    Use kzalloc instead of kmalloc in the S4882 SMBus multiplexing driver.
    I guess it's safer that way.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 078d9fe4fe8dada13e37d2e2790b0ad780324097
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Oct 17 23:12:36 2005 +0200

    [PATCH] i2c: kzalloc cleanups, 1 of 2
    
    Drop useless casts on kzalloc returned values, as suggested by
    Jiri Slaby.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5263ebb51eb098b01caf229498c954999117e4a7
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Oct 17 23:09:43 2005 +0200

    [PATCH] i2c: kzalloc conversion, other drivers
    
    Use kzalloc instead of kmalloc+memset in all remaining i2c bus and
    chip drivers.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ba9c2e8d15da029ea3051c95e446b2d638ef02e2
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Oct 17 23:08:32 2005 +0200

    [PATCH] hwmon: kzalloc conversion
    
    Use kzalloc instead of kmalloc+memset in all hardware monitoring
    drivers.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2286066faf51890e49ad61e2ceab683666cd9108
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Mon Oct 17 23:07:05 2005 +0200

    [PATCH] i2c: kzalloc conversion, ixp bus drivers
    
    Use kzalloc instead of kmalloc+memzero in the ixp2000 and ixp4xx
    I2C bus drivers.
    
    Signed-off-by: Deepak Saxena <dsaxena@mvista.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4d4e5ce8648561b964699afb2df5e7268a84599b
Author: Alessandro Zummo <alessandro.zummo@towertech.it>
Date:   Mon Oct 17 23:04:42 2005 +0200

    [PATCH] i2c: New Xicor X1205 RTC driver
    
    New driver for the Xicor X1205 RTC chip.
    
    Signed-off-by: Alessandro Zummo <alessandro.zummo@towertech.it>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ddec748f328af6b67e4d0ce0248a8e9f36751827
Author: Jean Delvare <khali@linux-fr.org>
Date:   Mon Oct 17 23:02:42 2005 +0200

    [PATCH] hwmon: Missing class check in two hwmon drivers
    
    The atxp1 and ds1621 drivers should make sure they do not probe
    non-hwmon i2c adapters.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7ab83a9137ccd3e092fb6ad0cb105b4d1fb617ae
Author: Mark M. Hoffman <mhoffman@lightlink.com>
Date:   Mon Oct 17 23:01:45 2005 +0200

    [PATCH] hwmon: New device ID for the smsc47b397 driver
    
    This patch adds a new ID to the SMSC LPC47B397-NC hardware
    monitoring driver - for a chip that is claimed to be 100%
    compatible otherwise.
    
    Signed-off-by: Bryan Young <bryan.young@UtilitekSystems.com>
    Signed-off-by: Mark M. Hoffman <mhoffman@lightlink.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 1747ef1b8c9b7b9c6a9aae3543a9b99acabb7e10
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Mon Oct 17 22:58:35 2005 +0200

    [PATCH] Owner field additions to many i2c drivers, 5 of 5
    
    In function i2c_isa_add_driver, copied driver should inherit the owner
    field as well as the name field.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6586bcd7b2bbe255110b2db772da4415c7865a2a
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Mon Oct 17 22:54:45 2005 +0200

    [PATCH] Owner field additions to many i2c drivers, 4 of 5
    
    This patch updates the .owner field for the i2c core struct xxxx_driver
    variables.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e78f857cc5299c3f6b3d046084696ef205948837
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Mon Oct 17 22:53:52 2005 +0200

    [PATCH] Owner field additions to many i2c drivers, 3 of 5
    
    This patch updates the .owner field for various struct xxxx_driver
    variables which are available on PPC_MAC arch.
    
    This one was _not_ even compile-tested...
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0cf3628181660be4e21fe520766dcbc3da9d71c8
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Mon Oct 17 22:51:37 2005 +0200

    [PATCH] Owner field additions to many i2c drivers, 2 of 5
    
    This patch updates the .owner field for various struct xxxx_driver variables,
    other than pci_driver.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr>
    Acked-by: Mark A. Greer <mgreer@mvista.com>
    Acked-by: Ben Dooks <ben-linux@fluff.org>
    Acked-by: Deepak Saxena <dsaxena@mvista.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ccd7aa0cc9413b79b69f6cd7c18daa1c22dfa512
Author: Laurent Riffard <laurent.riffard@free.fr>
Date:   Mon Oct 17 22:47:48 2005 +0200

    [PATCH] Owner field additions to many i2c drivers, 1 of 5
    
    This patch updates .owner field for various struct pci_driver variables.
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit fe3d6a99782d5345b1927e872d77d1778668094b
Author: Stig Telfer <stig@lizardlogic.co.uk>
Date:   Sat Oct 8 00:23:27 2005 +0200

    [PATCH] i2c: Big i2c-elektor cleanup
    
    Cleanups to the i2c-elektor driver:
    
    * Set the i2c_adapter name field to "i2c-elektor" and use this string
      in all resource requests and printks.
    * Change space-padding for tab indentation, kill trailing white space,
      remove space before comma.
    * Use dev_info, pr_info and pr_debug instead of printk.
    * Lines chopped to 80 columns.
    
    Signed-off-by: Stig Telfer <stig@lizardlogic.co.uk>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3634ff6a32e90d9db0ec19297e80059143c1aa7f
Author: Stig Telfer <stig@lizardlogic.co.uk>
Date:   Sat Oct 8 00:21:48 2005 +0200

    [PATCH] i2c: Fix i2c-elektor on Alpha
    
    This patch updates the i2c-elektor driver, enabling it to compile
    cleanly, load and run.  The key change is that it uses the new
    __iomem/iowrite8/ioread8 functions to abstract the direct or
    memory-mapped variants of register access.  Also, the original driver
    would crash on module load on the Alpha because the PCI memory region
    was not remapped into kernel memory.
    
    I have managed the following testing:
    
    * compiled and tested it on my Alpha UP2000+ system.
    * compiles cleanly for x86 but I don't have the hardware to test.
    
    Signed-off-by: Stig Telfer <stig@lizardlogic.co.uk>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 00bffb6e29c5ef12cea7904905f8b959187076c9
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:19:52 2005 +0200

    [PATCH] i2c: Drop meaningless use of I2C_DF_NOTIFY in i2c_client structures
    
    I2C_DF_NOTIFY is an i2c_driver flag, using it as an i2c_client flag
    doesn't make any sense.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Acked-by: Mark A. Greer <mgreer@mvista.com>
    Acked-by: Randy Vinson <rvinson@mvista.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 6c129be8c7bd1bdbd47ba8e17f6e5053ef04aee8
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:17:35 2005 +0200

    [PATCH] i2c: Rename i2c-parport variable to avoid confusion
    
    It's a bit confusing to name a variable the same as an unrelated
    structure. The compiler doesn't complain, but it certainly makes the
    code harder to understand, and could confuse grep and LXR among
    others.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 30dac7469741906436b50f9413dccd446366d371
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:15:59 2005 +0200

    [PATCH] i2c: Drop I2C_SMBUS_I2C_BLOCK_MAX
    
    Drop I2C_SMBUS_I2C_BLOCK_MAX, use I2C_SMBUS_BLOCK_MAX instead.
    
    I2C_SMBUS_I2C_BLOCK_MAX has always been defined to the same value as
    I2C_SMBUS_BLOCK_MAX, and this will never change: setting it to a lower
    value would make no sense, setting it to a higher value would break
    i2c_smbus_data compatibility. There is no point in changing
    i2c_smbus_data to support larger block transactions in SMBus mode, as
    no SMBus hardware supports more than 32 byte blocks. Thus, for larger
    transactions, direct I2C transfers are the way to go.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d3554b4a2fb0e2229eb0d3fa9ece5b2f0b906d3e
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:14:17 2005 +0200

    [PATCH] i2c: Drop unused per-i2c-algorithm adapter max
    
    There are no more per-i2c-algorithm adapter max. Last time there were
    was in July 1999.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 862bc36f682b25dd97833f702b4f8c97661b8811
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:12:01 2005 +0200

    [PATCH] hwmon: Drop useless w83627hf initialization step
    
    Drop a useless initialization step in the w83627hf driver. The comment
    says that the W83627HF PWM2 can be disabled, but it can't. I suppose
    this is a leftover from the w83781d driver (from which the w83627hf
    driver is derived), as for example the W83782D had the ability to
    disable PWM2.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 91749996287c230671788014f422f72e594e7b86
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:10:00 2005 +0200

    [PATCH] hwmon: Drop legacy ISA address support from it87
    
    Drop legacy ISA address support from the it87 driver. All supported
    chips are Super-I/O chips, so the device ISA address can be safely read
    from Super-I/O space rather than blindly assumed.
    
    Two nearby inaccurate documentation statements have been fixed as well:
    * The IT8705F doesn't have an SMBus interface.
    * The SiS950 doesn't have a distinct prefix.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 80ce3b7d0f52877b80cddc3ace8b332d888f0131
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:06:09 2005 +0200

    [PATCH] i2c: Drop out-of-date, colliding ioctl definitions
    
    Delete 2 out-of-date, colliding ioctl defines. I2C_UDELAY and
    I2C_MDELAY are supposed to be used by i2c-algo-bit, but actually
    aren't (and I suspect never were). Moreover, their values are the same
    as I2C_FUNCS and I2C_SLAVE_FORCE, respectively, which *are* widely
    used.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 31ec5bc57146a479fac6f6878146059180413e43
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:04:13 2005 +0200

    [PATCH] i2c: Fix misplaced i2c.h comment
    
    Fix a misplaced comment in i2c.h. Spotted by Hideki Iwamoto.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7865e24935ec7e76fb482c749015a23052e51f76
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Oct 8 00:00:31 2005 +0200

    [PATCH] i2c: Documentation fixes
    
    i2c documentation fixes.
    
    >From Hideki Iwamoto:
    * i2c_smbus_read_i2c_block_data is not deleted in 2.6.10. It still
      exists.
    * The name which can be set to i2c_driver is up to 31 characters.
    
    >From Jean Delvare:
    * Reword the paragraph about i2c_driver.name, to reflect the "new"
      naming policy.
    * Delete the out-of-date note about now gone inc_use and dec_use
      fields.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 47b8b103f7f50d56568eb8d6cff0e3a2373f0eb3
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Oct 7 23:56:46 2005 +0200

    [PATCH] i2c: Cleanup i2c-i801 ifdefs
    
    No more need to check for PEC support being available now that both
    the i2c-core and the i2c-i801 drivers are part of the Linux kernel
    source tree. It's just there.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ada0c2f8fa087dc1dbc34e096c318739b1d6381a
Author: Petr Vandrovec <vandrove@vc.cvut.cz>
Date:   Fri Oct 7 23:11:03 2005 +0200

    [PATCH] hwmon: Fix w83627ehf/hf vs PNPACPI conflict (bug #4014)
    
    This patch changes w83627hf and w83627ehf drivers to reserve only ports
    0x295-0x296, instead of full 0x290-0x297 range.  While some other
    sensors chips respond to all addresses in 0x290-0x297 range, Winbond
    chips respond to 0x295-0x296 only (this behavior is implied by
    documentation, and matches behavior observed on real systems).  This is
    not problem alone, as no BIOS was found to put something at these unused
    addresses, and sensors chip itself provides nothing there as well.
    
    But in addition to only respond to these two addresses, also BIOS
    vendors report in their ACPI-PnP structures that there is some resource
    at I/O address 0x295 of length 2.  And when later this hwmon driver
    attempts to request region with base 0x290/length 8, it fails as one
    request_region cannot span more than one device.
    
    Due to this we have to ask only for region this hardware really
    occupies, otherwise driver cannot be loaded on systems with ACPI-PnP
    enabled.
    
    Signed-off-by: Petr Vandrovec <vandrove@vc.cvut.cz>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bf813b314a2271c3f3903eb3279ebf5e09b3d27a
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Oct 7 23:09:04 2005 +0200

    [PATCH] i2c: Drop useless CVS revision IDs
    
    CVS revision IDs are totally useless and irrelevant by now.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit e8aafcb2bba1fe122907161701a167e38174c7a5
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Oct 7 23:06:27 2005 +0200

    [PATCH] i2c: Cleanup i2c-dev ioctl debug message
    
    Cleanup the ioctl debug message in i2c-dev. In particular, the minor
    number is redundant now that the minor number and the adapter number
    are kept in sync.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 8a1b028bca95b5af36e94a660c4d284fe3313f74
Author: Jean Delvare <khali@linux-fr.org>
Date:   Fri Oct 7 23:04:48 2005 +0200

    [PATCH] i2c: Add missing i2c-ixp2000/4xx adapter name
    
    The ixp4xx and ixp2000 i2c bus drivers omit to fill the required
    i2c_adapter name field. Copy the device driver name field there.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ca68f1193e8fc86470d4222d563d13b5584dc4f8
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Sep 22 22:23:32 2005 +0200

    [PATCH] i2c-viapro: Cleanup ifdef usage
    
    It's not nice to put #ifdef in the middle of functions.
    
    CC: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-viapro.c |    6 ++----
     1 file changed, 2 insertions(+), 4 deletions(-)

commit ed5453e54f0c4a29605fd8399f58649d8739f5f0
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 22:23:32 2005 +0200

    [PATCH] i2c-viapro: Improve register dump
    
    Improve the register dump used to debug the i2c-viapro driver. The
    original dump was missing the HSTSTS register and the block data
    buffer.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-viapro.c |   38 ++++++++++++++++++++++++++++++--------
     1 file changed, 30 insertions(+), 8 deletions(-)

commit 50c1cc339ca72f7cb95d440d384346f4238dc494
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 22:15:53 2005 +0200

    [PATCH] i2c-viapro: Refactor control outb
    
    By slightly shifting the interface between vt596_access and
    vt596_transaction, we can save two I/O accesses per SMBus transaction.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-viapro.c |    7 +++----
     1 file changed, 3 insertions(+), 4 deletions(-)

commit aaf7f1477668f34dda65aba17e87c0bc2ebe84d1
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 22:09:07 2005 +0200

    [PATCH] i2c-viapro: Update supported devices list
    
    Make it clearer which chips are supported by the i2c-viapro driver,
    and which support I2C block transactions.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     Documentation/i2c/busses/i2c-viapro |   12 ++++++------
     drivers/i2c/busses/i2c-viapro.c     |   22 +++++++++++++---------
     2 files changed, 19 insertions(+), 15 deletions(-)

commit c2f559d5df5751780c0bd3ea0bd0aa17d47c0b39
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 22:01:07 2005 +0200

    [PATCH] i2c-viapro: Code cleanups
    
    Cleanups to the i2c-viapro driver:
    * Kill unused defines.
    * Kill interrupt-related code, as the driver doesn't use interrupts.
    * Fix broken comments (some copied from i2c-piix4.)
    * Centralize the unsupported command error case in vt596_access.
      That way we'll catch all unsupported commands, not only
      I2C_SMBUS_PROC_CALL.
    * Refactor some code.
    * Convert some dev_dbg into dev_err. Errors better be reported even in
      non-debug mode.
    * Do not verify that the final reset succeeded. It'll be checked at
      the beginning of the next transaction anyway.
    * Use the driver name to reserve the I/O region.
    * Do not print the contents of the SMBREV register, it reads 0 on all
      chips I've seen so far.
    * Some other minor fixes all over the place.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-viapro.c |  122 +++++++++++++---------------------------
     1 file changed, 41 insertions(+), 81 deletions(-)

commit f118301416953d677de738100c33eb8cfb7adecb
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 21:58:41 2005 +0200

    [PATCH] i2c-viapro: Implement I2C Block transactions
    
    Implement the I2C block transactions on VIA chips which support them:
    VT82C686B, VT8233, VT8233A, VT8235 and VT8237R. This speeds up EEPROM
    accesses by a factor 10 or so.
    
    I would like to thank Antonino A. Daplas, Hinko Kocevar, Salah Coronya
    and Andreas Henriksson for their help in testing this new feature.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     Documentation/i2c/busses/i2c-viapro |    7 +++++-
     drivers/i2c/busses/i2c-viapro.c     |   39 +++++++++++++++++++++++++++++++++---
     2 files changed, 42 insertions(+), 4 deletions(-)

commit 5f49ef8e8cefe0a95948b4270db28507c1c287d4
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 21:50:47 2005 +0200

    [PATCH] i2c-viapro: Coding style fixes
    
    Before I go on cleaning up and improving the i2c-viapro driver, let's
    fix all the coding style issues: mostly trailing white space, and
    spaces used where tabs should be.
    
    Signed-off-by: Jean Delvare <khali@linux-fr>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     Documentation/i2c/busses/i2c-viapro |   12 ++---
     drivers/i2c/busses/i2c-viapro.c     |   76 ++++++++++++++++++------------------
     2 files changed, 43 insertions(+), 45 deletions(-)

commit 32c0a520f506c046f241de2a3a9b02a395ef76d2
Author: Jean Delvare <khali@linux-fr.org>
Date:   Thu Sep 22 21:47:58 2005 +0200

    [PATCH] i2c-viapro: New maintainer
    
    I am taking over the maintenance of the i2c-viapro SMBus driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     MAINTAINERS |    6 ++++++
     1 file changed, 6 insertions(+)

commit 5c50d1885981537ff3b8df6433951de6c9cb72cb
Author: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
Date:   Sun Sep 25 17:01:11 2005 +0200

    [PATCH] i2c: Several PEC-related fixes in software SMBus emulation
    
    Fix several errors in I2C SMBus emulation when PEC is used:
    * Weird logic error in SMBus Write Word transactions.
    * Wrong buffer size, affecting SMBus Block Write transactions.
    * Potential buffer overrun in SMBus Block Write transactions.
    
    From: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/i2c-core.c |    8 ++++----
     1 file changed, 4 insertions(+), 4 deletions(-)

commit 0f69a612f950f7508e556bf1b09390087d112115
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:58:22 2005 +0200

    [PATCH] i2c: Minor i2c-amd8111 cleanup
    
    I noticed a useless instruction in the i2c-amd8111 driver.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    CC: Vojtech Pavlik <vojtech@suse.cz>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-amd8111.c |    1 -
     1 file changed, 1 deletion(-)

commit 332bf92b3338e140cbcfc25f69911e8ca59788c7
Author: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
Date:   Sun Sep 25 16:56:43 2005 +0200

    [PATCH] i2c: Fix union i2c_smbus_data definition
    
    The i2c_smbus_data union block member has a comment stating that an
    extra byte is required for SMBus Block Process Call transactions. This
    has been true for three weeks around June 2002, but no more since, so
    it is about time that we drop this comment and fix the definition.
    
    From: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     include/linux/i2c.h |    3 +--
     1 file changed, 1 insertion(+), 2 deletions(-)

commit d057c96cab72bc6b70570d25b90404f81d98e886
Author: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
Date:   Sun Sep 25 16:53:04 2005 +0200

    [PATCH] i2c: Fix I2C_FUNC_PROTOCOL_MANGLING documentation
    
    Fix the description of I2C_FUNC_PROTOCOL_MANGLING.
    
    From: Hideki Iwamoto <h-iwamoto@kit.hi-ho.ne.jp>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     Documentation/i2c/functionality |    7 ++++---
     1 file changed, 4 insertions(+), 3 deletions(-)

commit 4366dc946c01305cff49b07dabb806d2364f1edb
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:50:06 2005 +0200

    [PATCH] i2c: Adjust i2c_probe() for busses without SMBUS_QUICK
    
    Move the check for SMBUS_QUICK in i2c_probe() after the forced
    addresses have been handled. This makes it possible for a driver to
    leave the probed address lists empty, only providing forced addresses,
    and get i2c_probe to work even if the bus doesn't support SMBUS_QUICK.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/i2c-core.c |   15 +++++++++++----
     1 file changed, 11 insertions(+), 4 deletions(-)

commit cb929eae78ec0b243dbf58039bce4af354f6020c
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:45:03 2005 +0200

    [PATCH] hwmon: Minor w83l785ts optimization
    
    Using s8 instead of u8 to store temperature register values saves a
    few instructions on sysfs file read. The very same was done for
    several other drivers a while ago (lm63, lm83, lm90...)
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/hwmon/w83l785ts.c |    4 ++--
     1 file changed, 2 insertions(+), 2 deletions(-)

commit 709439a284bc5b7d42a70fee7119feb186c1ca99
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:41:18 2005 +0200

    [PATCH] hwmon: w83l785ts converted to dynamic sysfs callbacks
    
    Convert the w83l785ts driver to use dynamic sysfs callbacks. This is a
    small driver so the benefit is thin, but still worth it.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/hwmon/w83l785ts.c |   36 ++++++++++++++++++------------------
     1 file changed, 18 insertions(+), 18 deletions(-)

commit d6072f842a77014220683ee5b781b7cee8f020d1
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:37:04 2005 +0200

    [PATCH] i2c: Reuse name strings in i2c bus drivers
    
    Clean up name string usage in 12 i2c bus drivers:
    * Use the i2c_adapter name for requesting the I/O region rather than
      redefining a new string.
    * Do not initialize the i2c_adapter name to "unset".
    This should save a few data bytes here and there.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/busses/i2c-ali1535.c |    6 +++---
     drivers/i2c/busses/i2c-ali1563.c |    6 ++++--
     drivers/i2c/busses/i2c-ali15x3.c |    5 +++--
     drivers/i2c/busses/i2c-amd756.c  |    5 ++---
     drivers/i2c/busses/i2c-amd8111.c |    4 +++-
     drivers/i2c/busses/i2c-i801.c    |    4 ++--
     drivers/i2c/busses/i2c-nforce2.c |    4 ++--
     drivers/i2c/busses/i2c-piix4.c   |    4 ++--
     drivers/i2c/busses/i2c-sis5595.c |    5 +++--
     drivers/i2c/busses/i2c-sis630.c  |    6 ++++--
     drivers/i2c/busses/i2c-sis96x.c  |    5 +++--
     drivers/i2c/busses/i2c-via.c     |    4 ++--
     12 files changed, 33 insertions(+), 25 deletions(-)

commit 7d845b10d06fa20a595a5161edabc5e846ed28a6
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:29:38 2005 +0200

    [PATCH] hwmon: Discard bogus comment about init setting limits
    
    Discard a common out-of-date comment in 5 hardware monitoring drivers.
    The hardware monitoring chip drivers are no more setting sensor limits
    at initialization time, for quite some time already.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/hwmon/lm78.c     |    1 -
     drivers/hwmon/via686a.c  |    1 -
     drivers/hwmon/w83627hf.c |    1 -
     drivers/hwmon/w83781d.c  |    1 -
     drivers/hwmon/w83792d.c  |    1 -
     5 files changed, 5 deletions(-)

commit 0200296310a454b39efc995e676f9ff60e641edb
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:26:44 2005 +0200

    [PATCH] hwmon: Discard explicit static initializations to 0
    
    Kill explicit static initializations to 0 in 2 hwmon drivers.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/hwmon/adm1021.c |    2 +-
     drivers/hwmon/via686a.c |    2 +-
     2 files changed, 2 insertions(+), 2 deletions(-)

commit 605070952f0b41caaa211c47b02eeac703529008
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:23:07 2005 +0200

    [PATCH] i2c: Discard explicit static initializations to 0
    
    Kill explicit static initializations to 0 in 10 i2c drivers.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/i2c/algos/i2c-algo-pca.c    |    2 +-
     drivers/i2c/algos/i2c-algo-sibyte.c |    2 +-
     drivers/i2c/busses/i2c-ali15x3.c    |    4 ++--
     drivers/i2c/busses/i2c-amd756.c     |    2 +-
     drivers/i2c/busses/i2c-iop3xx.c     |    2 +-
     drivers/i2c/busses/i2c-piix4.c      |    8 ++++----
     drivers/i2c/busses/i2c-sis5595.c    |    4 ++--
     drivers/i2c/busses/i2c-sis630.c     |    2 +-
     drivers/i2c/busses/i2c-sis96x.c     |    2 +-
     drivers/i2c/busses/i2c-via.c        |    2 +-
     10 files changed, 15 insertions(+), 15 deletions(-)

commit b918ecd2429e1a89b846d9e49ca4520b963c13e8
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:18:49 2005 +0200

    [PATCH] hwmon: Do not forcibly enable via686a by default
    
    Do not enable the VIA VT82C686A/B integrated sensors by default, as
    disabled sensors usually means that this feature is not used so the
    values won't make any sense. This has been confusing many users in the
    past:
    
      http://www2.lm-sensors.nu/~lm78/readticket.cgi?ticket=1786
      http://www2.lm-sensors.nu/~lm78/readticket.cgi?ticket=1811
      http://www2.lm-sensors.nu/~lm78/readticket.cgi?ticket=2052
    
    It is still possible to forcibly enable the sensors by using the
    force_addr module parameter.
    
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     Documentation/hwmon/via686a |   17 +++++++++++++++--
     drivers/hwmon/via686a.c     |   18 +++++++++++-------
     2 files changed, 26 insertions(+), 9 deletions(-)

commit e415e48b68155bea8b5452113dedba4ec486f3f6
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sun Sep 25 16:14:18 2005 +0200

    [PATCH] hwmon: adm9240 whitespace cleanups
    
    This whitespace cleanup patch removes one trailing space and breaks
    lines longer than 80 characters.
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
     drivers/hwmon/adm9240.c |   33 +++++++++++++++++++++------------
     1 file changed, 21 insertions(+), 12 deletions(-)

commit 088341bd0c78143bf82ff21f7f0a715f99568c73
Author: Jean Delvare <khali@linux-fr.org>
Date:   Sat Sep 10 23:00:46 2005 +0200

    [PATCH] hwmon: via686a: save 0.5k by long v[256] -> s16 v[256]
    
    We can save 0.5kB of data in the via686a driver.
    
    From: Denis Vlasenko <vda@ilport.com.ua>
    Signed-off-by: Jean Delvare <khali@linux-fr.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c7461a6652f40ce4f8e19d7368c7a807a618fb68
Author: Grant Coady <grant_lkml@dodo.com.au>
Date:   Sat Sep 17 05:32:57 2005 +1000

    [PATCH] hwmon: adm9240 driver update - dynamic sysfs
    
    hwmon: adm9240 update 2/2: convert to use dynamic sysfs accessors
    
    This patch converts adm9240 to use Yani Ioannou's dynamic sysfs callbacks,
    reducing driver memory footprint from 16312 to 14104 bytes on 2.6.14-rc1,
    removing the old driver macro mess.
    
    Run tested on Intel SE440BX-2 mobo.
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 205cf13e0b57500e2cc6442effa991c1a63f4db7
Author: Grant Coady <grant_lkml@dodo.com.au>
Date:   Sat Sep 17 05:32:55 2005 +1000

    [PATCH] hwmon: adm9240 driver update - cleanups
    
    hwmon: adm9240 update 1/2: cleanups:
    
    o remove i2c read/write wrapper interface as it does nothing,
    o change kmalloc + memset to kzalloc
    
    Signed-off-by: Grant Coady <gcoady@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 07c1da2396632a4ad2cab41c6cd939b159f54968
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 17:00:31 2005 -0400

    [libata sata_promise] add pci id
    
    Contributed by Daniel Mueller @ Siemens AG.

commit 406119f49d4a6cf8b6eee639128e0575a95065e3
Author: Trond Myklebust <trond.myklebust@fys.uio.no>
Date:   Thu Oct 27 14:46:53 2005 -0400

    [PATCH] Ensure that 'make distclean' does not delete files in '.git'
    
    Currently, 'make distclean' causes stgit to barf since it may delete
    files in .git/patches.  We really shouldn't allow 'make distclean'
    anywhere near .git...
    
    Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6cd37cda7ed117d5a13d9b69aeded57b4fd6de14
Author: Peter Osterlund <petero2@telia.com>
Date:   Fri Oct 28 20:23:39 2005 +0200

    [PATCH] Fix ext3 warning for unused var
    
    Fix compile warning in ext3 quota code.
    
    Signed-off-by: Peter Osterlund <petero2@telia.com>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit ad18b0ea089928367185e13d11424aea91d4b41f
Author: Panagiotis Issaris <panagiotis.issaris@gmail.com>
Date:   Mon Sep 5 04:14:10 2005 +0200

    [PATCH] ipw2200: Missing kmalloc check
    
    The ipw2200 driver code in current GIT contains a kmalloc() followed by
    a memset() without handling a possible memory allocation failure.
    
    Signed-off-by: Panagiotis Issaris <panagiotis.issaris@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4f075707a9380592586d608a8d04dfbdb3c40339
Author: Komuro <komurojun-mbn@nifty.com>
Date:   Fri Oct 28 16:55:55 2005 -0400

    [netdrvr] ne2k-pci based card does not support bus-mastering.
    
    pci_set_master is unnecessary.
    
    Signed-off-by: Komuro <komurojun-mbn@nifty.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 030ee39c0fef49d7dcd32e71b1ca98fcc23e2a72
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 13:55:08 2005 -0700

    pcmcia: add socket register data to sysfs for yenta devices
    
    It's simple, and it's a good debugging aid.
    
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4558ea93d66a43f7990d26f145fd4c54a01c9bf
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Fri Oct 28 16:53:13 2005 -0400

    drivers/net: Remove pointless checks for NULL prior to calling kfree()

commit 7380a78a973a8109c13cb0e47617c456b6f6e1f5
Author: Vasily Averin <vvs@sw.ru>
Date:   Fri Oct 28 16:46:35 2005 -0400

    sis900: come alive after temporary memory shortage
    
    1) Forgotten counter incrementation in sis900_rx() in case
         it doesn't get memory for skb, that leads to whole interface failure.
         Problem is accompanied with messages:
        eth0: Memory squeeze,deferring packet.
        eth0: NULL pointer encountered in Rx ring, skipping
    
    2) If counter cur_rx overflows and there'll be temporary memory problems
         buffer can't be recreated later, when memory IS available.
    
    3) Limit the work in handler to prevent the endless packets processing
       if new packets are generated faster then handled.
    
    Signed-off-by: Konstantin Khorenko <khorenko@sw.ru>
    Signed-off-by: Vasily Averin <vvs@sw.ru>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b2795f596932286ef12dc08857960d654f577405
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 16:43:40 2005 -0400

    [git] change permissions on drivers/net/amd8111e.[ch] to 0644,
    removing executable bits.

commit 24682978eb5316b9e6041c2773e210180a037d05
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Fri Oct 14 03:00:53 2005 -0700

    [PATCH] Add MAINTAINER entry for the new PowerPC 4xx on-chip ethernet controller driver
    
    Add MAINTAINER entry for the new PPC4xx EMAC driver
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 37448f7d39717db7c1098c1a88b9074694c69797
Author: Eugene Surovegin <ebs@ebshome.net>
Date:   Mon Oct 10 16:58:14 2005 -0700

    [PATCH] New PowerPC 4xx on-chip ethernet controller driver
    
    This patch replaces current PowerPC 4xx EMAC driver with
    new, re-written from the scratch version. This patch is quite big
    (~234K) because there is virtualy 0% of common code between old and
    new version.
    
    New driver uses NAPI, it solves stability problems under heavy packet
    load and low memory, corrects chip register access and fixes numerous
    small bugs I don't even remember now.
    
    This patch has been tested on all supported in 2.6 PPC 4xx boards.
    It's been used in production for almost a year now on custom
    4xx hardware. PPC32 specific parts are already upstream.
    
    Patch was acked by the current EMAC driver maintainer (Matt Porter). I
    will be maintaining this new version.
    
    Signed-off-by: Eugene Surovegin <ebs@ebshome.net>
    --
    
     Kconfig                   |   72
     ibm_emac/Makefile         |   13
     ibm_emac/ibm_emac.h       |  418 +++--
     ibm_emac/ibm_emac_core.c  | 3414 ++++++++++++++++++++++++----------------------
     ibm_emac/ibm_emac_core.h  |  313 ++--
     ibm_emac/ibm_emac_debug.c |  377 ++---
     ibm_emac/ibm_emac_debug.h |   63
     ibm_emac/ibm_emac_mal.c   |  674 +++++----
     ibm_emac/ibm_emac_mal.h   |  336 +++-
     ibm_emac/ibm_emac_phy.c   |  335 ++--
     ibm_emac/ibm_emac_phy.h   |  105 -
     ibm_emac/ibm_emac_rgmii.c |  201 ++
     ibm_emac/ibm_emac_rgmii.h |   68
     ibm_emac/ibm_emac_tah.c   |  111 +
     ibm_emac/ibm_emac_tah.h   |   96 -
     ibm_emac/ibm_emac_zmii.c  |  255 +++
     ibm_emac/ibm_emac_zmii.h  |  114 -
     17 files changed, 4114 insertions(+), 2851 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b71b95efa5abca33e1bfb85d55162c7f99f54c23
Author: Philippe De Muyter <phdm@macqel.be>
Date:   Fri Oct 28 12:23:47 2005 +0200

    [PATCH] sundance: fix DFE-580TX Tx Underrun
    
    Under heavy PCI bus load, ports of the DFE-580TX 4-ethernet port board stop
    working, with currently no other cure than a powercycle.  Here is a tested
    fix.  By the way, I also fixed some references and attribution.
    
    Signed-off-by: Philippe De Muyter <phdm@macqel.be>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 89358f90ab6f6657d386e77e19c805d7ab88694f
Author: Andrew Morton <akpm@osdl.org>
Date:   Fri Oct 28 16:38:02 2005 -0400

    [netdrvr b44] include linux/dma-mapping.h to eliminate warning

commit 19c1f3ca4272008a256cc153f3e3feb097799070
Author: Pierre Ossman <drzeus@drzeus.cx>
Date:   Fri Oct 28 21:37:29 2005 +0100

    [MMC] wbsd suspend support
    
    Proper handling of suspend/resume in the wbsd driver.
    
    Signed-off-by: Pierre Ossman <drzeus@drzeus.cx>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 48257c4f168e5d040394aeca4d37b59f68e0d36b
Author: Pantelis Antoniou <pantelis.antoniou@gmail.com>
Date:   Fri Oct 28 16:25:58 2005 -0400

    Add fs_enet ethernet network driver, for several embedded platforms.

commit a1e78db3f54d3481726ed2d3d58d8ad5b19b13d0
Merge: fbbb0bd... 59c4223...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 13:24:06 2005 -0700

    Pull define-node-cleanup into release branch

commit fbbb0bd1f6eb2d8b28d246a4821453bdc3d01b2f
Merge: 9472d8c... 61b9cf7...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 13:23:50 2005 -0700

    Pull sn_pci_legacy_read-write into release branch

commit 9472d8ce147fecb80a2f29ad8ab781e596858916
Merge: 3168c31... 463eb29...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 13:23:34 2005 -0700

    Pull acpi-produce-consume into release branch

commit 3168c31abe0c11fd3edcefa110d6f590fe8c909f
Merge: dbcb25e... f2b518d...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 13:23:14 2005 -0700

    Pull update-default-configs into release branch

commit dbcb25e621136e377dbc44bd7402e21c6641c43d
Merge: 0ace57a... 650316f...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 13:22:55 2005 -0700

    Pull move-iosapic-to-acpi into release branch

commit d8840ac907c7943bc7e196b11812adfa95cb28ef
Author: Alexey Dobriyan <adobriyan@gmail.com>
Date:   Fri Oct 7 02:05:23 2005 +0400

    [PATCH] starfire: free_irq() on error path of netdev_open()
    
    Signed-off-by: Alexey Dobriyan <adobriyan@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 712cb1ebb1653538527500165d8382ca48a7fca1
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Sun Oct 23 13:41:35 2005 -0700

    [PATCH] Fix CS89x0 KConfig for IXDP2X01
    
    IXDP2x01 systems can be built without PCI network cards, so we should not
    require NET_PCI to build CS89x0 on these systems.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 99e1baf869cf20791e66e38facd51d14b28551f8
Author: Nicolas Pitre <nico@cam.org>
Date:   Wed Oct 5 11:10:24 2005 -0400

    [PATCH] smc91x: shut down power after probing
    
    If the interface is not used right away after being probed it wastes
    power needlessly. Noted by Holger Schurig.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8fee5f51a56aa7a67d955993572a2ae05d31a2c6
Author: Aurelien Jarno <aurelien@aurel32.net>
Date:   Wed Oct 5 23:29:58 2005 +0200

    [PATCH] sis190.c: fix multicast MAC filter
    
    Here is a patch that changes the way the MAC filter is computed for the
    multicast addresses. The computation is taken from the SiS GPL driver.
    
    This patch is necessary to get IPv6 working.
    
    Signed-off-by: Aurelien Jarno <aurelien@aurel32.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit adf6e00064ebcd3d82009ba6ef66f489f0885ebd
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Oct 4 11:25:17 2005 -0600

    [PATCH] b44 reports wrong advertised flags
    
    Looks like someone used the MII constants instead of the ethtool constants.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9eb343aeb3e106c1e4c07e2863f45b2c121b3b78
Author: Akinobu Mita <mita@miraclelinux.com>
Date:   Fri Oct 21 19:06:42 2005 +0900

    [PATCH] s2io: kconfig help fix
    
    The documentation about s2io is available at
    Documentation/networking/s2io.txt.
    
    Signed-off-by: Akinobu Mita <mita@miraclelinux.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 008d55903a1e9e179ff1d366dfcfa9b72abd116d
Author: Roger While <simrw@sim-basis.de>
Date:   Fri Oct 28 16:11:49 2005 -0400

    [wireless prism54] Fix frame length
    
    prism54 is leaking information when passing transmits to the firmware.
    There is no requirement to adjust the length to >= ETH_ZLEN.
    Just pass the skb length (after possible adjustment).
    
    Signed-off-by: Roger While <simrw@sim-basis.de>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d89a64bedf956ef0b406018a7cb76e027fe3e751
Author: Komuro <komurojun-mbn@nifty.com>
Date:   Fri Oct 28 16:09:54 2005 -0400

    pcnet_cs: fix mii init code for older DL10019 based cards
    
    Some older DL10019 based cards need to setup
    the auto-negotiation-advertisement register
    to advertise 100Full,100Half,10Full and 10Half.
    
    Signed-off-by: Komuro <komurojun-mbn@nifty.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 84860bf0644d7c45afe7ddbd30731c3e3c371fae
Merge: 8caf891... 6fbfddc...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 13:09:47 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/gregkh/driver-2.6

commit 82702d37a559cf94fe238cd3f8ef63cf7fa699a9
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Oct 26 10:47:23 2005 -0600

    [PATCH] ibmveth fix failed addbuf
    
    This patch fixes a bug that happens when the hypervisor can't add a
    buffer.  The old code wrote IBM_VETH_INVALID_MAP into the free_map
    array, so next time the index was used, a ibmveth_assert() caught it and
    called BUG().  The patch writes the right value into the free_map array
    so that the index can be reused.
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 60296d9e4be1cd9e096f7804ce6e839e0cbd97cf
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Oct 26 10:47:16 2005 -0600

    [PATCH] ibmveth lockless TX
    
    This patch adds the lockless TX feature to the ibmveth driver.  The
    hypervisor has its own locking so the only change that is necessary is
    to protect the statistics counters.
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e2adbcb480992de8a01acf9218e8bbd9b507fc6f
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Oct 26 10:47:08 2005 -0600

    [PATCH] ibmveth fix buffer replenishing
    
    This patch removes the allocation of RX skb's  buffers from a workqueue
    to be called directly at RX processing time.  This change was suggested
    by Dave Miller when the driver was starving the RX buffers and
    deadlocking under heavy traffic:
    
    > Allocating RX SKBs via tasklet is, IMHO, the worst way to
    > do it.  It is no surprise that there are starvation cases.
    >
    > If tasklets or work queues get delayed in any way, you lose,
    > and it's very easy for a card to catch up with the driver RX'ing
    > packets very fast, no matter how aggressive you make the
    > replenishing.  By the time you detect that you need to be
    > "more aggressive" it is already too late.
    > The only pseudo-reliable way is to allocate at RX processing time.
    >
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b6d35182fe62e57d368062adcc880ca35119d88e
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Oct 26 10:47:01 2005 -0600

    [PATCH] ibmveth fix buffer pool management
    
    This patch changes the way the ibmveth driver handles the receive
    buffers.  The old code mallocs and maps all the buffers in the pools
    regardless of MTU size and it also limits the number of buffer pools to
    three. This patch makes the driver malloc and map the buffers necessary
    to support the current MTU. It also changes the hardcoded names of the
    buffer pool number, size, and elements to arrays to make it easier to
    change (with the hope of making them runtime parameters in the future).
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0abe791e94033b727f2b55670c2966f3d3d3cf70
Author: Santiago Leon <santil@us.ibm.com>
Date:   Wed Oct 26 10:46:53 2005 -0600

    [PATCH] ibmveth fix bonding
    
    This patch updates dev->trans_start and dev->last_rx so that the ibmveth
    driver can be used with the ARP monitor in the bonding driver.
    
    Signed-off-by: Santiago Leon <santil@us.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 37ff238d68683d42e7363eee3303773906c336d9
Author: Michael Chan <mchan@broadcom.com>
Date:   Wed Oct 26 15:49:51 2005 -0700

    [PATCH] tg3: update version and minor fixes
    
    Update version and reldate and add more sanity checking to
    tg3_set_settings().
    
    Signed-off-by: Gary Zambrano <zambrano@broadcom.com>
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 28fbef78a420acdea20570d31f3bdcbfa0cac0d2
Author: Michael Chan <mchan@broadcom.com>
Date:   Wed Oct 26 15:48:35 2005 -0700

    [PATCH] tg3: fix ASF heartbeat
    
    Change the ASF heart beat to 5 seconds for faster detection of system
    crash. The driver sends the heartbeat every 2 seconds and the ASF
    firmware will timeout and reset the device if no heartbeat is received
    after 5 seconds. The old scheme of 2 minutes is ineffective.
    
    tg3_write_mem_fast() is added to speed up the IO to send the heartbeat.
    When no workaround is needed, it will use direct MMIO to memory space
    to write to memory.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a4e2b347848bf626b822599329933887dc90e50f
Author: Michael Chan <mchan@broadcom.com>
Date:   Wed Oct 26 15:46:52 2005 -0700

    [PATCH] tg3: add 5714/5715 support
    
    Add complete support for 5714/5715. These chips are very similar to
    5780 so the changes are very trivial. A TG3_FLG2_5780_CLASS flag is
    added to identify these chips.
    
    Signed-off-by: Michael Chan <mchan@broadcom.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 00ac37f508689da281586c7ef304f26b5138d8a6
Author: Douglas Gilbert <dougg@torque.net>
Date:   Fri Oct 28 15:58:28 2005 -0400

    [libata scsi] MODE SELECT, strengthen mode sense
    
      - move default mode pages to the front of libata-scsi.c
        so various functions can access them
      - partial annotation of these pages, point out divergence
        from sat-r06
      - replace various mode page magic numbers with defines
      - strengthen MODE SENSE command decoding: handle DBD
        bit in cdb, yield block descriptor (per sat-r06) and
        handle mode sub pages
    
    Signed-off-by: Douglas Gilbert <dougg@torque.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c3ee74c4e91017169c7f1fa74a57ba8502ec49c3
Author: Christoph Hellwig <hch@lst.de>
Date:   Mon Sep 19 21:59:42 2005 +0200

    [SCSI] scsi_transport_sas: support link error attributes
    
    For now supporting the ->get_linkerrors method is mandatory.  I'll
    probably be beaten to implement the .show_foo variables and different
    types of attributes soon..
    
    Signed-off-by: Christoph Hellwig <hch@lst.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d25cf1ced9d446dcd3fd399e15b518fea936f3ed
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 20 19:04:34 2005 +0100

    [SCSI] sgiwd93: small fixes
    
    Move the remaining bits of sgiwd93.h into sgiwd93.c; replace the use of
    CMD_PER_LUN and CAN_QUEUE by raw numbers.
    
    Signed-off-by: Thiemo Seufer <ths@networkno.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit af13cbebb27aaa9cae0bd18cf2608a3d4dd5fa94
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 15 02:44:26 2005 +0100

    [SCSI] dec_esp: Use the right address space macro
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 73711b352f1f1e1e9eedd772e232b7c1bd12a305
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 15 02:26:31 2005 +0100

    [SCSI] dec_esp: Use physical addresses
    
    Use physical addresses at the interface level, letting drivers remap
    them as appropriate.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b04fc679055f76cfd17c6870716a8286ccfa3b8e
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Sat Oct 15 02:41:36 2005 +0100

    [SCSI] dec_esp: Fix mapping of ESP.
    
    From: Maciej W. Rozycki <macro@linux-mips.org>
    Date:   Mon Jun 13 19:55:42 2005 +0000
    
    These should really be addresses obtained with ioremap() or some
    bus-specific backend, but for now...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8caf89157d64f1eedba37113afb4b303b2b3e301
Merge: f12baea... 7038f1c...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 12:44:24 2005 -0700

    Merge branch 'for-linus' of git://git.kernel.org/pub/scm/linux/kernel/git/shaggy/jfs-2.6

commit a21a84a375ea3783cf9a53730d643c4db24371bc
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 15:43:16 2005 -0400

    [libata pdc_adma] minor fixes and cleanups
    
    Changes mostly from Mark Lord.
    
    - fix bugs in probe-time error handling
    - only complete qc if not NULL
    - check port-level polling flags

commit 72df8325f4808330977d8f54c3458d30615dcb54
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 14:41:19 2005 -0500

    [SCSI] qla2xxx: fix unnecessary activation of blk tag queue
    
    From: 	'Andrew Vasquez' <andrew.vasquez@qlogic.com>
    
    Drop scsi_populate_tag_msg() interrogation.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    
    Rejections fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit aa353de649f1ba05a71b2f5b8eb1e99632ab54eb
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Oct 11 16:31:08 2005 -0700

    [SCSI] qla2xxx: fix compile warning
    
    The file is missing an include of scsi_transport_fc.h
    
    drivers/scsi/qla2xxx/qla_rscn.c:334: error: implicit declaration of function 'fc_remote_port_unblock'
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9ccfc756a70d454dfa82f48897e2883560c01a0e
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Sun Oct 2 11:45:08 2005 -0500

    [SCSI] move the mid-layer printk's over to shost/starget/sdev_printk
    
    This should eliminate (at least in the mid layer) to make numeric
    assumptions about any of the enumeration variables.  As a side effect,
    it will also make all the messages consistent and line us up nicely for
    the error logging strategy (if it ever shows itself again).
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit f12baeab9d65e2fe1b43b09b666f5efcb81b9369
Author: Yan Zheng <yanzheng@21cn.com>
Date:   Sat Oct 29 00:02:32 2005 +0800

    [MCAST] IPv6: Fix algorithm to compute Querier's Query Interval
    
    5.1.3.  Maximum Response Code
    
       The Maximum Response Code field specifies the maximum time allowed
       before sending a responding Report.  The actual time allowed, called
       the Maximum Response Delay, is represented in units of milliseconds,
       and is derived from the Maximum Response Code as follows:
    
       If Maximum Response Code < 32768,
          Maximum Response Delay = Maximum Response Code
    
       If Maximum Response Code >=32768, Maximum Response Code represents a
       floating-point value as follows:
    
           0 1 2 3 4 5 6 7 8 9 A B C D E F
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
          |1| exp |          mant         |
          +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    
       Maximum Response Delay = (mant | 0x1000) << (exp+3)
    
    
    5.1.9.  QQIC (Querier's Query Interval Code)
    
       The Querier's Query Interval Code field specifies the [Query
       Interval] used by the Querier.  The actual interval, called the
       Querier's Query Interval (QQI), is represented in units of seconds,
       and is derived from the Querier's Query Interval Code as follows:
    
       If QQIC < 128, QQI = QQIC
    
       If QQIC >= 128, QQIC represents a floating-point value as follows:
    
           0 1 2 3 4 5 6 7
          +-+-+-+-+-+-+-+-+
          |1| exp | mant  |
          +-+-+-+-+-+-+-+-+
    
       QQI = (mant | 0x10) << (exp + 3)
    
                                                    -- rfc3810
    
    #define MLDV2_QQIC(value) MLDV2_EXP(0x80, 4, 3, value)
    #define MLDV2_MRC(value) MLDV2_EXP(0x8000, 12, 3, value)
    
    Above macro are defined in mcast.c. but 1 << 4 == 0x10 and 1 << 12 == 0x1000.
    So the result computed by original Macro is larger.
    
    Signed-off-by: Yan Zheng <yanzheng@21cn.com>
    Acked-by: David L Stevens <dlstevens@us.ibm.com>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit e89e9cf539a28df7d0eb1d0a545368e9920b34ac
Author: Ananda Raju <ananda.raju@neterion.com>
Date:   Tue Oct 18 15:46:41 2005 -0700

    [IPv4/IPv6]: UFO Scatter-gather approach
    
    Attached is kernel patch for UDP Fragmentation Offload (UFO) feature.
    
    1. This patch incorporate the review comments by Jeff Garzik.
    2. Renamed USO as UFO (UDP Fragmentation Offload)
    3. udp sendfile support with UFO
    
    This patches uses scatter-gather feature of skb to generate large UDP
    datagram. Below is a "how-to" on changes required in network device
    driver to use the UFO interface.
    
    UDP Fragmentation Offload (UFO) Interface:
    -------------------------------------------
    UFO is a feature wherein the Linux kernel network stack will offload the
    IP fragmentation functionality of large UDP datagram to hardware. This
    will reduce the overhead of stack in fragmenting the large UDP datagram to
    MTU sized packets
    
    1) Drivers indicate their capability of UFO using
    dev->features |= NETIF_F_UFO | NETIF_F_HW_CSUM | NETIF_F_SG
    
    NETIF_F_HW_CSUM is required for UFO over ipv6.
    
    2) UFO packet will be submitted for transmission using driver xmit routine.
    UFO packet will have a non-zero value for
    
    "skb_shinfo(skb)->ufo_size"
    
    skb_shinfo(skb)->ufo_size will indicate the length of data part in each IP
    fragment going out of the adapter after IP fragmentation by hardware.
    
    skb->data will contain MAC/IP/UDP header and skb_shinfo(skb)->frags[]
    contains the data payload. The skb->ip_summed will be set to CHECKSUM_HW
    indicating that hardware has to do checksum calculation. Hardware should
    compute the UDP checksum of complete datagram and also ip header checksum of
    each fragmented IP packet.
    
    For IPV6 the UFO provides the fragment identification-id in
    skb_shinfo(skb)->ip6_frag_id. The adapter should use this ID for generating
    IPv6 fragments.
    
    Signed-off-by: Ananda Raju <ananda.raju@neterion.com>
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 7038f1cbac899654cf0515e60dbe3e44d58271de
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Fri Oct 28 13:27:40 2005 -0500

    JFS: make sure right-most xtree pages have header.next set to zero
    
    The xtTruncate code was only doing this for leaf pages.  When a file is
    horribly fragmented, we may truncate a file leaving an internal page with
    an invalid head.next field, which may cause a stale page to be referenced.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>

commit 9a41a62b74388827998253d62c58707e63cc5874
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Tue Sep 20 13:25:53 2005 -0700

    [SCSI] qla2xxx: remove eh_active checks in qla2xxx error handling
    
    Here's a patch which drops the eh_active checks in the qla2xxx
    eh_handler callbacks.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7a691bd34130920bef4d118a3f555ebc48544a63
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 13:17:30 2005 -0500

    [SCSI] avoid overflows in disk size calculations
    
    Be more careful about doing the arithmetic in the non-LBD case.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0ace57a96bf299f6d46fd49e3edbaf79f500d160
Merge: 2d300fe... 44c4512...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 11:16:32 2005 -0700

    Pull ar-k0-usage into release branch

commit 2d300fece23a4ae638b43ce9a7ac1e566ac6c843
Merge: c85749e... 54703d3...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 11:16:06 2005 -0700

    Pull 1024-cpu into release branch

commit c85749e6d1df55ca5b23cb1d220ed7df92df8d78
Merge: 0d9136f... 0b9afed...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 11:15:25 2005 -0700

    Pull hp-machvec into release branch

commit 0d9136fdbcdbddcd4eb5ac94c248c039193d4795
Merge: 9189674... 1fa9295...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 11:15:08 2005 -0700

    Pull altix-mmr into release branch

commit 9189674026e86e624b1ef1b4eb430e9ad19f9641
Merge: 72ab373... 25732ad...
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Oct 28 11:14:47 2005 -0700

    Pull altix-fpga-reset into release branch

commit de5144164f6242ccfa8c9b64eec570564f5eaf14
Merge: 8ed5759... 245dc3d...
Author: Arnaldo Carvalho de Melo <acme@mandriva.com>
Date:   Fri Oct 28 15:49:24 2005 -0200

    Merge master.kernel.org:/pub/scm/linux/kernel/git/holtmann/bluetooth-2.6

commit 245dc3d19b6ff7db42c9f3cca9006c8db59e2dee
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:57 2005 +0200

    [Bluetooth] Ignore additional interfaces of BPA 100/105 devices
    
    If a BPA 100/105 device contains more then one interface then ignore the
    additional interfaces, because they are unused.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit dd7f5527b3e68a7b2f715ae1a21164383f418013
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:53 2005 +0200

    [Bluetooth] Update security filter for Extended Inquiry Response
    
    This patch updates the HCI security filter with support for the Extended
    Inquiry Response (EIR) feature.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 6516455d3b42b33759a33a8102c1b8b48af4d9c9
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:48 2005 +0200

    [Bluetooth] Make more functions static
    
    This patch makes another bunch of functions static.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 0372a6627f862f90a2c43772befeecef508cfd7b
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:45 2005 +0200

    [Bluetooth] Cleanup of the HCI UART driver
    
    This patch contains the big cleanup of the HCI UART driver. The uneeded
    header files are removed and their structure declarations are moved into
    the protocol implementations.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 20dd6f59d6ea5fe47397c5254606c76b1d047727
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:40 2005 +0200

    [Bluetooth] Remove TXCRC compile option for BCSP driver
    
    The TXCRC compile option is not really useful and thus change it
    into a module parameter.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit 408c1ce2716c7a004851c93f9f9dcf3d763bc240
Author: Marcel Holtmann <marcel@holtmann.org>
Date:   Fri Oct 28 19:20:36 2005 +0200

    [Bluetooth] Move CRC table into RFCOMM core
    
    This patch moves rfcomm_crc_table[] into the RFCOMM core, because there
    is no need to keep it in a separate file.
    
    Signed-off-by: Marcel Holtmann <marcel@holtmann.org>

commit d578a4258bf674ef86b16bf29267fb302125aaee
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 12:14:43 2005 -0500

    [SCSI] qla2xxx: Resync with latest released ISP23xx/63xx firmware -- 3.03.18.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 6fbfddcb52d8d9fa2cd209f5ac2a1c87497d55b5
Merge: 1a222bc... 27d1097...
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Fri Oct 28 10:13:16 2005 -0700

    Merge ../bleed-2.6

commit 8ed575904373d7aaab7f15a8db2edc317a44df43
Merge: 27d1097... 210cc67...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 10:08:46 2005 -0700

    Merge branch 'forlinus' of git://parisc-linux.org/home/kyle/git/parisc-2.6

commit fa90c54f6d27664cc67691f9e52d9165e0c25ca7
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Thu Oct 27 11:10:08 2005 -0700

    [SCSI] qla2xxx: Update license.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1a222bca26ca691e83be1b08f5e96ae96d0d8cae
Author: Takashi Iwai <tiwai@suse.de>
Date:   Fri Oct 28 16:45:34 2005 +0200

    [PATCH] Fix documentation of driver suspend/resume callbacks
    
    Signed-off-by: Takashi Iwai <tiwai@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c41455fbac06712992da491844449775cf9a8c80
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Sun Oct 23 11:59:14 2005 -0700

    [PATCH] kernel-doc: drivers/base fixes
    
    driver/base: add missing function parameters; eliminate all warnings.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 9480e307cd88ef09ec9294c7d97ebec18e6d2221
Author: Russell King <rmk@arm.linux.org.uk>
Date:   Fri Oct 28 09:52:56 2005 -0700

    [PATCH] DRIVER MODEL: Get rid of the obsolete tri-level suspend/resume callbacks
    
    In PM v1, all devices were called at SUSPEND_DISABLE level.  Then
    all devices were called at SUSPEND_SAVE_STATE level, and finally
    SUSPEND_POWER_DOWN level.  However, with PM v2, to maintain
    compatibility for platform devices, I arranged for the PM v2
    suspend/resume callbacks to call the old PM v1 suspend/resume
    callbacks three times with each level in order so that existing
    drivers continued to work.
    
    Since this is obsolete infrastructure which is no longer necessary,
    we can remove it.  Here's an (untested) patch to do exactly that.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a3a3395e487abc4c1371fe319a8ecbb3913a70a4
Author: Jesper Juhl <jesper.juhl@gmail.com>
Date:   Thu Oct 13 21:31:08 2005 +0200

    [PATCH] Driver Core: Big kfree NULL check cleanup - Documentation
    
    This is the Documentation/ part of the big kfree cleanup patch.
    
    Remove pointless checks for NULL prior to calling kfree() in example code in Documentation/.
    
    Signed-off-by: Jesper Juhl <jesper.juhl@gmail.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ad7e14a55ed7648d02a4df8e460e291d80a18c98
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] update required version of udev
    
    The 071 release is needed to handle the input changes.  Older versions
    will work properly with module-based systems, but not for users that
    build input stuff into the kernel.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a1bdc7aad8b557176ccecff1da137ebe3090871e
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Thu Oct 13 17:54:41 2005 +0100

    [PATCH] drivers/base - fix sparse warnings
    
    There are a number of sparse warnings from the latest sparse
    snapshot being generated from the drivers/base build. The
    main culprits are due to the initialisation functions not
    being declared in a header file.
    
    Also, the firmware.c file should include <linux/device.h>
    to get the prototype of  firmware_register() and
    firmware_unregister().
    
    This patch moves the init function declerations from the
    init.c file to the base.h, and ensures it is included in
    all the relevant c sources. It also adds <linux/device.h>
    to the included headers for firmware.c.
    
    The patch does not solve all the sparse errors generated,
    but reduces the count significantly.
    
    drivers/base/core.c:161:1: warning: symbol 'devices_subsys' was not declared. Should it be static?
    drivers/base/core.c:417:12: warning: symbol 'devices_init' was not declared. Should it be static?
    drivers/base/sys.c:253:6: warning: symbol 'sysdev_shutdown' was not declared. Should it be static?
    drivers/base/sys.c:326:5: warning: symbol 'sysdev_suspend' was not declared. Should it be static?
    drivers/base/sys.c:428:5: warning: symbol 'sysdev_resume' was not declared. Should it be static?
    drivers/base/sys.c:450:12: warning: symbol 'system_bus_init' was not declared. Should it be static?
    drivers/base/bus.c:133:1: warning: symbol 'bus_subsys' was not declared. Should it be static?
    drivers/base/bus.c:667:12: warning: symbol 'buses_init' was not declared. Should it be static?
    drivers/base/class.c:759:12: warning: symbol 'classes_init' was not declared. Should it be static?
    drivers/base/platform.c:313:12: warning: symbol 'platform_bus_init' was not declared. Should it be static?
    drivers/base/cpu.c:110:12: warning: symbol 'cpu_dev_init' was not declared. Should it be static?
    drivers/base/firmware.c:17:5: warning: symbol 'firmware_register' was not declared. Should it be static?
    drivers/base/firmware.c:23:6: warning: symbol 'firmware_unregister' was not declared. Should it be static?
    drivers/base/firmware.c:28:12: warning: symbol 'firmware_init' was not declared. Should it be static?
    drivers/base/init.c:28:13: warning: symbol 'driver_init' was not declared. Should it be static?
    drivers/base/dmapool.c:174:10: warning: implicit cast from nocast type
    drivers/base/attribute_container.c:439:1: warning: symbol 'attribute_container_init' was not declared. Should it be static?
    drivers/base/power/runtime.c:76:6: warning: symbol 'dpm_set_power_state' was not declared. Should it be static?
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a7fadbe10ccf430e7a8add8b45c561d864087343
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:57 2005 -0500

    [PATCH] input core: remove custom-made hotplug handler
    
    Input: remove custom-made hotplug handler
    
    Now that all input devices are registered with sysfs we can remove
    old custom-made hotplug handler and crate a standard one.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c9bcd582dfeec845b83bc948a430c9958bf839e6
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: Create symlinks for backwards compatibility
    
    This creates symlinks in /sys/class/input/ to the nested class devices
    to help userspace cope with the nesting.
    
    Unfortunatly udev still needs to be updated as it can't handle symlinks
    properly here :(
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit ea9f240bd819f9299703283e5326da606bbb4b05
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: rename input_dev_class to input_class to be correct.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b0fdfebb205fcbf394c3db39679a766b8fc4f07d
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: remove the input_class structure, as it is unused.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 629b77a42c39c8b3c42a8cf5f5680f0406f8d43f
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: Fix oops when accessing sysfs files of nested input devices
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 967ca692161d8c4e894932599592af8d62c0a895
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: move the input class devices under their new input_dev devices
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 23d50901617c2a8bdef509279a42d2e90f523db9
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: export input_dev_class so that input drivers can use it.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 102040204f1949562406b72007c14a2a241cb0d9
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] INPUT: register the input class device sooner
    
    This is needed so we can actually use the class device within the input
    handlers.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5c1e9a6a6ab2f4c60462cecb7773860a62d86e39
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:55 2005 -0500

    [PATCH] Input: export input_dev data via sysfs attributes
    
    Input: export various input device attributes via sysfs
    
    The following structure is exported:
    
      input0/
    	|-- name
    	|-- phys
    	|-- uniq
    	|-- id/{bustype|vendor|product|version}
    	`-- capabilities/{ev|abs|rel|key|led|msc|ff|sw}
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 051b2feaa4a92592d160dcb8715cc4a5faaaa52f
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:54 2005 -0500

    [PATCH] Input: show sysfs path in /proc/bus/input/devices
    
    Input: show sysfs path in /proc/bus/input/devices
    
    Show that sysfs and phys path are different objects.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 5ebdcbc2fc4f192c5e685565c9c853a9e01a5eeb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:49 2005 -0500

    [PATCH] Input: convert sound/ppc/beep to dynamic input_dev allocation
    
    Input: convert sound/ppc/beep to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 34abf91f4036c01669e298e649b7ba85cadf82eb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:40 2005 -0500

    [PATCH] Input: convert net/bluetooth to dynamic input_dev allocation
    
    Input: convert net/bluetooth to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 17dd3f0f7aa729a042af5d3318ff9b3e7781b45b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:52 2005 -0500

    [PATCH] drivers/input/joystick: convert to dynamic input_dev allocation
    
    Input: convert drivers/input/joystick to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0259567ad60df13a55583b84d2cddb5526705907
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:42 2005 -0500

    [PATCH] Input: convert konicawc to dynamic input_dev allocation
    
    Input: convert konicawc to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c7f7a569d9b4ea7c53ab6fcd1377895312d8372b
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:41 2005 -0500

    [PATCH] Input: convert drivers/macintosh to dynamic input_dev allocation
    
    Input: convert drivers/macntosh to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b7df3910c1298fee8ed7b9dfd2da74b85df5539c
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:53 2005 -0500

    [PATCH] drivers/media: convert to dynamic input_dev allocation
    
    Input: convert drivers/media to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 76b7cddfd576331761e945a508254abad11039e9
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:51 2005 -0500

    [PATCH] Input: convert driver/input/misc to dynamic input_dev allocation
    
    Input: convert driver/input/misc to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 88789672424375882166df86adde9dd77ead630e
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:43 2005 -0500

    [PATCH] Input: convert onetouch to dynamic input_dev allocation
    
    Input: convert onetouch to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b416f2e452b6c0f5075145bb7301f7f3d44d8ed5
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:50 2005 -0500

    [PATCH] Input: convert sonypi to dynamic input_dev allocation
    
    Input: convert sonypi to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit eca1ed196cd5b523c1057204cd3672555ad58dfe
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:46 2005 -0500

    [PATCH] drivers/input/touchscreen: convert to dynamic input_dev allocation
    
    Input: convert drivers/input/touchscreen to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit bd622663192e8ebebb27dc1d9397f352a82d2495
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:48 2005 -0500

    [PATCH] Input: convert ucb1x00-ts to dynamic input_dev allocation
    
    Input: convert ucb1x00-ts to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit c5b7c7c395a34f12cdf246d66c1feeff2933d584
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:47 2005 -0500

    [PATCH] drivers/usb/input: convert to dynamic input_dev allocation
    
    Input: convert drivers/iusb/input to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3c42f0c3dde8feb59fc87df45cadb847d5511c0a
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:45 2005 -0500

    [PATCH] drivers/input/keyboard: convert to dynamic input_dev allocation
    
    Input: convert drivers/input/keyboard to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2e5b636bb5f8dacbb91d08544e2c41ebcad5dace
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:44 2005 -0500

    [PATCH] drivers/input/mouse: convert to dynamic input_dev allocation
    
    Input: convert drivers/input/mouse to dynamic input_dev allocation
    
    This is required for input_dev sysfs integration
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d19fbe8a763634395d4bef40fc88cdb61c4a6274
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:39 2005 -0500

    [PATCH] Input: prepare to sysfs integration
    
    Input: prepare to sysfs integration
    
    Add struct class_device to input_dev; add input_allocate_dev()
    to dynamically allocate input devices; dynamically allocated
    devices are automatically registered with sysfs.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4f00469c16b86a3dd6ed66b28c605c8430d58eeb
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:38 2005 -0500

    [PATCH] Input: kill devfs references
    
    Input: remove references to devfs from input subsystem
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 74be227f728ed68bfc270153665b43fc1f0fa845
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] Driver Core: document struct class_device properly
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 53f4654272df7c51064825024340554b39c9efba
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] Driver Core: fix up all callers of class_device_create()
    
    The previous patch adding the ability to nest struct class_device
    changed the paramaters to the call class_device_create().  This patch
    fixes up all in-kernel users of the function.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 51d172d5f3a193e4b8f76179b2e55d7a36b94117
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] Driver Core: add the ability for class_device structures to be nested
    
    This patch allows struct class_device to be nested, so that another
    struct class_device can be the parent of a new one, instead of only
    having the struct class be the parent.  This will allow us to
    (hopefully) fix up the input and video class subsystem mess.
    
    But please people, don't go crazy and start making huge trees of class
    devices, you should only need 2 levels deep to get everything to work
    (remember to use a class_interface to get notification of a new class
    device being added to the system.)
    
    Oh, this also allows us to have the possibility of potentially, someday,
    moving /sys/block into /sys/class.  The main hindrance is that pesky
    /dev numberspace issue...
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit a7fd67062efc5b0fc9a61368c607fa92d1d57f9e
Author: Kay Sievers <kay.sievers@suse.de>
Date:   Sat Oct 1 14:49:43 2005 +0200

    [PATCH] add sysfs attr to re-emit device hotplug event
    
    A "coldplug + udevstart" can be simple like this:
      for i in /sys/block/*/*/uevent; do echo 1 > $i; done
      for i in /sys/class/*/*/uevent; do echo 1 > $i; done
      for i in /sys/bus/*/devices/*/uevent; do echo 1 > $i; done
    
    Signed-off-by: Kay Sievers <kay.sievers@suse.de>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d8539d81aeee4dbdc0624a798321e822fb2df7ae
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:36 2005 -0500

    [PATCH] Driver core: pass interface to class interface methods
    
    Driver core: pass interface to class intreface methods
    
    Pass interface as argument to add() and remove() class interface
    methods. This way a subsystem can implement generic add/remove
    handlers and then call interface-specific ones.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 7bd7b091429705eb281d60c553cc643aada8045a
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 29 00:40:07 2005 -0500

    [PATCH] I2O: remove i2o_device_class
    
    I2O: cleanup - remove i2o_device_class
    
    I2O devices reside on their own bus so there should be no reason
    to also have i2c_device class that mirros i2o bus.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 607cf4d9aa1d766890f42fc892d39d48cf6d6c16
Author: Greg Kroah-Hartman <gregkh@suse.de>
Date:   Thu Oct 27 22:25:43 2005 -0700

    [PATCH] I2O: Clean up some pretty bad driver model abuses in the i2o code
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4f5ca09e0b854a29b17401f59487664ae3b21aa4
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:32 2005 -0500

    [PATCH] I2O: remove class interface
    
    I2O: remove i2o_device_class_interface misuse
    
    The intent of class interfaces was to provide different
    'views' at the same object, not just run some code every
    time a new class device is registered. Kill interface
    structure, make class core register default attributes
    and set up sysfs links right when registering class
    devices.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit dbe9035d4f690c44b55d3d0f1bc193e2c3fc57fa
Author: Dmitry Torokhov <dtor_core@ameritech.net>
Date:   Thu Sep 15 02:01:37 2005 -0500

    [PATCH] Driver core: send hotplug event before adding class interfaces
    
    Move call to kobject_hotplug() above code that adds interfaces
    to a class device, otherwise children's hotplug events may reach
    userspace first.
    
    Signed-off-by: Dmitry Torokhov <dtor@mail.ru>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit b94dc6b58667a73eeaf5cfd9c9e90dcd98743c5b
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Sep 12 19:39:39 2005 -0700

    [PATCH] usb device wakeup flags
    
    This patch teaches "usb_device" about the new driver model wakeup support:
    
     - It updates device wakeup capabilities when entering a configuration
       with the WAKEUP attribute;
    
     - During suspend processing it consults the policy bit to see
       whether it should enable wakeup for that device.  (This resolves
       a FIXME to not assume the answer is always "yes"; some devices
       lie about supporting remote wakeup.)
    
    Support for root hubs and the HCDs is separate (and more complex).
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 0ac85241ebc7bf6b86ab498960cc121d53ef69ae
Author: David Brownell <david-b@pacbell.net>
Date:   Mon Sep 12 19:39:34 2005 -0700

    [PATCH] driver model wakeup flags
    
    This is a refresh of an earlier patch to add "wakeup" support to the
    PM core model.  This provides per-device bus-neutral control of the
    use of wakeup events.
    
      * "struct device_pm_info" has two bits that are initialized as
        part of setting up the enclosing struct device:
          - "can_wakeup", reflecting hardware capabilities
          - "may_wakeup", the policy setting (when CONFIG_PM)
    
      * There's a writeable sysfs "wakeup" file, with one of two values:
          - "enabled", when the policy is to allow wakeup
          - "disabled", when the policy is not to allow it
          - "" if the device can't currently issue wakeups
    
    By default, wakeup is enabled on all devices that support it.  If its
    driver doesn't support it ... treat it as a bug.  :)
    
    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 2a7ff1feda9f5cd6463744239ec5e661ee7d5f01
Author: Erik Hovland <erik@hovland.org>
Date:   Thu Oct 6 10:47:49 2005 -0700

    [PATCH] changes device to driver in porting.txt
    
    The document porting.txt in Documentation/driver-model says:
    When a device is successfully bound to a device
    
    I think it should say:
    When a device is successfully bound to a driver
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 4ed17dccd69c4fc13b9d2118001f5e58ea16ebea
Author: Erik Hovland <erik@hovland.org>
Date:   Thu Oct 6 10:45:30 2005 -0700

    [PATCH] kobject_uevent.c has a typo in a comment
    
    This patch changes trough to through in a comment in kobject_uevent.c.
    
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit d5dee80ad69439ad8dccf8fa4d7fed0068aec9cf
Author: Will Dyson <will.dyson@gmail.com>
Date:   Fri Sep 16 02:55:07 2005 -0700

    [PATCH] add sysfs support for ide tape
    
    I was recently given an old Travan tape drive and asked to do something
    useful with it.  The ide-scsi + st (+serverworks ide controller) combo
    results in a hard lockup of the machine which I have not had the energy to
    debug, so I turned to ide-tape (which seems to work).  The system in
    question debian stable, using udev to manage /dev.
    
    The following patch to ide-tape.c allows udev to create the cdev nodes for
    my drive.
    
    Cc: Gadi Oxman <gadio@netvision.net.il>
    Cc: Greg Kroah-Hartman <gregkh@suse.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>

commit 3dc7c555636e46bb64b4da3570a345f4b247eaf0
Author: Ed L. Cashin <ecashin@coraid.com>
Date:   Thu Sep 29 12:47:55 2005 -0400

    [PATCH] aoe: update to version 14
    
    Signed-off-by: "Ed L. Cashin" <ecashin@coraid.com>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
    Update driver version number to 14.

commit 475172fb18853c31c24a8519b06a3bd5712b2cfe
Author: Ed L. Cashin <ecashin@coraid.com>
Date:   Thu Sep 29 12:47:40 2005 -0400

    [PATCH] aoe: use get_unaligned for accesses in ATA id buffer
    
    Signed-off-by: "Ed L. Cashin" <ecashin@coraid.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Greg Kroah-Hartman <gregkh@suse.de>
    
    Use get_unaligned for possibly-unaligned multi-byte accesses to the
    ATA device identify response buffer.

commit 661c3f6cc32e1307fc7df724149884c95e98358d
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Thu Oct 27 11:09:58 2005 -0700

    [SCSI] qla2xxx: Use midlayer's int_to_scsilun() function.
    
    While populating command type 6 and 7 IOCBs.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 4fdfefe52944f5c4132a372ed5c208962a73c3f2
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Thu Oct 27 11:09:48 2005 -0700

    [SCSI] qla2xxx: Add support to dynamically enable/disable ZIO.
    
    ISP23xx and ISP24xx chips have support for an adaptive
    method of posting SCSI command completions for multiple SCSI
    commands during a single system interrupt.
    
    SCSI commands are placed on the system response queue
    without interrupting the host until 1) a delay timer
    expires; or 2) a SCSI command completes with an error.
    
    As long as the host software (qla2xxx) services the response
    queue for completions (this polling is done during
    queuecommand()) within the 'delay timer' period, the
    firmware will not generate system interrupt.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0eedfcf0cdac30b14d1e6c99abc6604347ef0af8
Author: Andrew Vasquez <andrew.vasquez@qlogic.com>
Date:   Thu Oct 27 11:09:38 2005 -0700

    [SCSI] qla2xxx: Correct issue where fcport is prematurely marked DEAD.
    
    The non-handled failure cases of the Fabric Login mailbox
    command handling logic would incorrectly mark the fcport as
    dead and not allow the standard port-down-retry-count logic
    to manage the transition.
    
    Signed-off-by: Andrew Vasquez <andrew.vasquez@qlogic.com>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8e0c5ebde82b08f6d996e11983890fc4cc085fab
Author: Mark Haverkamp <markh@osdl.org>
Date:   Mon Oct 24 10:52:22 2005 -0700

    [SCSI] aacraid: Newer adapter communication iterface support
    
    Received from Mark Salyzyn.
    
    This patch adds the 'new comm' interface, which modern AAC based
    adapters that are less than a year old support in the name of much
    improved performance. These modern adapters support both the legacy and
    the 'new comm' interfaces.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 38a9a621aba953ddb8051547e98c10ec3c741312
Merge: 27d1097... e75d517...
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 11:41:41 2005 -0500

    Merge HEAD from ../scsi-misc-2.6-old

commit 96b88fb850cc419171f926ad04650ec509e9f543
Merge: e78a57d... 5fadd05...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 12:31:34 2005 -0400

    Merge branch 'master'

commit 7a9f8f93d2dad38f30fbc79d8a1e6517373aa4b6
Merge: 972c26b... 5fadd05...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 28 12:29:23 2005 -0400

    Merge branch 'master'

commit 27d1097d39509494706eaa2620ef3b1e780a3224
Merge: 83928e1... 8573b80...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 09:25:21 2005 -0700

    Merge master.kernel.org:/home/rmk/linux-2.6-mmc

commit 83928e17b92b7a667bfe674f1b330619adc2ac88
Merge: 9be16a0... 50f4c00...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 09:24:22 2005 -0700

    Merge master.kernel.org:/home/rmk/linux-2.6-arm
    
    Minor manual fixups for gfp_t clashes.

commit e75d51761debffbc5e556e02c8ceda4f8c1a3e83
Author: Mark Haverkamp <markh@osdl.org>
Date:   Mon Oct 24 10:52:11 2005 -0700

    [SCSI] aacraid: remove compiler warning
    
    Received from Mark Salyzyn.
    
    This patch resolves a compiler warning on 64 bit architectures.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9f30a323a4ad96a3867279e0cdea7e2362dca2ee
Author: Mark Haverkamp <markh@osdl.org>
Date:   Mon Oct 24 10:52:02 2005 -0700

    [SCSI] aacraid: fix struct element cpu order
    
    Received from Mark Salyzyn.
    
    The compat field needed to be in cpu order.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 794d0601e7a379f0188655115a3642f1e326116f
Author: Mark Haverkamp <markh@osdl.org>
Date:   Mon Oct 24 10:51:53 2005 -0700

    [SCSI] aacraid: fix inquiry page
    
    Received from Mark Salyzyn.
    
    This patch uses the adapter supplemental information AdapterTypeText as
    the default for the array name.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 71e0f32fbc7841d9c34949655039dcf4635540f0
Author: James Bottomley <jejb@mulgrave.(none)>
Date:   Fri Oct 28 11:21:10 2005 -0500

    [SCSI] aacraid: Use DMA mask defines
    
    From: Mark Haverkamp <markh@osdl.org>
    Received from Mark Salyzyn.
    
    This patch changes the driver over to utilizing the DMA_64BIT_MASK and
    DMA_32BIT_MASK manifests.
    
    Applies to the scsi-rc-fixes-2.6 git tree.
    
    Signed-off-by: Mark Haverkamp <markh@osdl.org>
    
    Rejects fixed up and
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 210cc679faf0e1cabda9fc5d1279644f5e52aecb
Merge: e0f9989... 260b236...
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 28 12:18:07 2005 -0400

    Auto-update from upstream

commit 9be16a03928642f944915b8c05945fd87b7a15cb
Merge: 5fadd05... cb65011...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 09:16:58 2005 -0700

    Merge branch 'sx8' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/misc-2.6

commit 5fadd053d9bb4345ec6f405d24db4e7eb49cf81e
Merge: e5dfa92... 26ba2a7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 09:06:50 2005 -0700

    Merge branch 'upstream' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/libata-dev

commit e5dfa9282f3db461a896a6692b529e1823ba98c6
Merge: 5dd9624... b2ab040...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 09:05:25 2005 -0700

    Merge branch 'upstream' of master.kernel.org:/pub/scm/linux/kernel/git/jgarzik/netdev-2.6

commit 5dd962494f76fb3ef1196cd420b5d6260d7a3766
Merge: 28d721e... 772eca7...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 08:56:34 2005 -0700

    Merge branch 'elevator-switch' of git://brick.kernel.dk/data/git/linux-2.6-block
    
    Manual fixup for trivial "gfp_t" changes.

commit 28d721e24c88496ff8e9c4a0959bdc1415c0658e
Merge: 0ee40c6... cb19833...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 08:53:49 2005 -0700

    Merge branch 'generic-dispatch' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 0ee40c6628434f0535da31deeacc28b61e80d810
Merge: 236fa08... 2824bc9...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 08:53:00 2005 -0700

    Merge branch 'for-linus' of git://brick.kernel.dk/data/git/linux-2.6-block

commit 50f4c001bc1534db77663592496204ceba151e97
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:44 2005 +0100

    [ARM] 3042/1: AAED-2000 - LCD panel informations
    
    Patch from Bellido Nicolas
    
    The AAED-2000 is equiped with an 640x480 LCD.
    This adds the parameters that will be passed to the AAEC-2000 platform code.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 049eb3298a832a63c55bc8d8ea4cc881ab99f84b
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:44 2005 +0100

    [ARM] 3041/1: AAEC-2000 - CLCD controller platform glue
    
    Patch from Bellido Nicolas
    
    The AAEC-2000 has an ARM PrimeCell PL110 Color LCD Controller.
    This patch contains the platform glue that will be used by specific boards.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4224b67c9a1d6cbf47b073970bd2db5a89557f92
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:43 2005 +0100

    [ARM] 3040/1: AAEC-2000 - Preliminary clock interface support
    
    Patch from Bellido Nicolas
    
    Here is a preliminary clock interface support for the AAEC-2000.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4a91ca2eb6eff14bb23f709e6ebf189fdbcdaa22
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:42 2005 +0100

    [ARM] 3039/1: AAEC-2000 - Add MTD support
    
    Patch from Bellido Nicolas
    
    This adds platform code for MTD devices on AAEC-2000.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f0904e29369a940080487fece700e59295196d79
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:41 2005 +0100

    [ARM] 3038/1: AAEC-2000 - Proper includes in hardware.h
    
    Patch from Bellido Nicolas
    
    linux/config.h is not necessary in hardware.h, while asm/sizes.h and asm/arch//aaec2000.h will be used later.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4028ef4cc1fea245906a2dbd4df1ac9f0353ef5f
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:40 2005 +0100

    [ARM] 3037/1: AAED-2000 - Add defines for GPIO registers on external port.
    
    Patch from Bellido Nicolas
    
    The AAED-2000 board has GPIO pins on an external port.
    This patch adds the defines, and do the necessary mapping.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 13b1d677d2c872e2d05ef6241b499b6e1f6f91ba
Author: Bellido Nicolas <ml@acolin.be>
Date:   Fri Oct 28 16:51:40 2005 +0100

    [ARM] 3036/1: AAEC-2000 - Add defines for GPIO registers
    
    Patch from Bellido Nicolas
    
    Add defines for GPIO registers on the AAEC-2000 processor.
    
    Signed-off-by: Nicolas Bellido <ml@acolin.be>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 236fa08168dd82af29a76c31c40b4148403774c0
Merge: 260b236... dcab5e1...
Author: Linus Torvalds <torvalds@g5.osdl.org>
Date:   Fri Oct 28 08:50:37 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/acme/net-2.6.15

commit 6f475c0133eb91c7df3b056843dc33d2824368a2
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Oct 28 16:39:33 2005 +0100

    [ARM] 2897/2: PXA2xx IRDA support
    
    Patch from Nicolas Pitre
    
    This is the PXA2xx common IRDA driver, plus platform support
    for Lubbock and Mainstone.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Acked-by: Jean Tourrilhes <jt@hpl.hp.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a999cb04b4bfb4a2243383f00d5714b8d7163035
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Oct 28 16:35:46 2005 +0100

    [ARM] 3035/1: RISCOS compat code fix
    
    Patch from Nicolas Pitre
    
    From: Daniel Jacobowitz <dan@debian.org>
    
    > I also fixed a bug that confused me greatly while trying to debug: one
    > SIGILL has long been a SIGSEGV because of some broken RISCOS
    > compatibility code.
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 8573b80f020dce7aefa3237f1e932d562b65323d
Author: Erik Hovland <erik@hovland.org>
Date:   Fri Oct 28 16:28:04 2005 +0100

    [ARM] 3031/1: fix typos in comments of mmc.h
    
    Patch from Erik Hovland
    
    I noticed that the same typo (i before c in associated) showed up twice
    in the file kernel/include/linux/mmc/mmc.h.
    
    This patch fixes both of the instances I found with this mistake. The
    typos are in comments and should have no affect on working code.
    
    E
    
    Signed-off-by: Erik Hovland <erik@hovland.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit dd5b295ff880d5a0699a52f84106f16702c298f2
Author: Jon Ringle <jon.ringle@comdial.com>
Date:   Fri Oct 28 16:27:24 2005 +0100

    [ARM] 2921/1: Support for the RTC / nvram on the Comdial MP1000
    
    Patch from Jon Ringle
    
    This adds support for the RTC and nvram on the Comdial MP1000
    
    Signed-off-by: Jon Ringle <jon.ringle@comdial.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d9e29649875df82828167dd45c802d942db863ba
Author: Matt Reimer <mreimer@vpop.net>
Date:   Fri Oct 28 16:25:02 2005 +0100

    [ARM] 3029/1: Add HWUART support for PXA 255/26x
    
    Patch from Matt Reimer
    
    Adds support for HWUART on PXA 255 / 26x. This patch originally came from
    http://svn.rungie.com/svn/gumstix-buildroot/trunk/sources/kernel-patches/000-gumstix-hwuart.patch
    and has been tweaked by me.
    
    Signed-off-by: Matt Reimer <mreimer@vpop.net>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 80a18573cea2e6d8e95abe4d42bfc5f97761999a
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Fri Oct 28 16:25:01 2005 +0100

    [ARM] 2787/2: PXA27x low power modes support
    
    Patch from Todd Poynor
    
    Add symbols for PXA2xx PWRMODE register M field that selects low-power
    mode, replace unadorned constants.  Honor power mode parameter of
    pxa_cpu_suspend(mode), no longer force to 3 (sleep).  Full Deep Sleep
    low-power mode support for PXA27x is pending generic PM interfaces to
    select more than 2 suspend-to-RAM-style power modes, but this is
    expected soon. This can be hardcoded in the meantime by replacing the
    pxa_cpu_suspend() parameter value.  From David Burrage and Todd Poynor.
    Try #2 removes one of the register copies and moves the code to save the
    pxa_cpu_suspend parameter to immediately surround the call that requires
    the parameter value be preserved.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 917f68f8163eb877a6d71c5b446ee236645c2944
Author: Jon Ringle <jon.ringle@comdial.com>
Date:   Fri Oct 28 16:19:38 2005 +0100

    [ARM] 2919/1: CS8900A ethernet driver modifications for the Comdial MP1000
    
    Patch from Jon Ringle
    
    This patch gives support for the CS8900A ethernet chip on the Comdial MP1000
    
    Signed-off-by: Jon Ringle <jon.ringle@comdial.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0b83f1400fa6e5f0d4afcff033628a16c163862a
Author: Jon Ringle <jon.ringle@comdial.com>
Date:   Fri Oct 28 16:19:37 2005 +0100

    [ARM] 2918/1: [update] Base port of Comdial MP1000 platfrom
    
    Patch from Jon Ringle
    
    Updated 2898/1 per comments:
    - Removed fixup
    - Moved code in mach-mp1000/ to mach-clps711x/
    - Cleaned up code in mp1000-seprom.c. Eliminated code that displayed the contents of the eeprom
    Please comment.
    
    Signed-off-by: Jon Ringle <jon.ringle@comdial.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 260b23674fdb570f3235ce55892246bef1c24c2a
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:44 2005 -0400

    [PATCH] gfp_t: the rest
    
    zone handling, mapping->flags handling
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c4cdd038318863e912e9b992489f61497f98b442
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:39 2005 -0400

    [PATCH] gfp_t: reiserfs mapping_set_gfp_mask() use
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b4e3ca1ab1ae9ae86134126dcdc88da1caaa32ca
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:34 2005 -0400

    [PATCH] gfp_t: remaining bits of drivers/*
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9e24974db6b01ec067c24de09588282b6a1407f0
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:29 2005 -0400

    [PATCH] gfp_t: drivers/net
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 53f9fc93f90a43701d6aaf3919be0614bb088b83
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:24 2005 -0400

    [PATCH] gfp_t: remaining bits of arch/*
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 1ef64e670e3bc27e0c3c83810ca36e19924c35c6
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:18 2005 -0400

    [PATCH] gfp_t: sound
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 87b750dc4b7109aa744e7d331dc93df3fe5c1c28
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:13 2005 -0400

    [PATCH] gfp_t: drivers/infiniband
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit c53033f6b0bd7cc133b7f433083f0394cf29ac70
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:08 2005 -0400

    [PATCH] gfp_t: drivers/scsi
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 9796fdd829da626374458e8706daedcc0e432ddd
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:22:03 2005 -0400

    [PATCH] gfp_t: kernel/*
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55016f10e31bb15b85d8c500f979dfdceb37d548
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:58 2005 -0400

    [PATCH] gfp_t: drivers/usb
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 970a9e73f9036ef89d46b8240f99463f6d244c1d
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:53 2005 -0400

    [PATCH] gfp_t: dma-mapping (simple cases)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5fb5cbed6e5ba4cbaf7284a23d42eb878bb7da24
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:48 2005 -0400

    [PATCH] gfp_t: dma-mapping (xtensa)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f80aabb03a33702d934fbc3c02fd96471816d82e
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:43 2005 -0400

    [PATCH] gfp_t: dma-mapping (amd64)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6dae2c2306684d9e76a04c22dc090380a9009f12
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:38 2005 -0400

    [PATCH] gfp_t: dma-mapping (sh)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit e82dd4d6472304495afa271b2f63b572868b23d9
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:33 2005 -0400

    [PATCH] gfp_t: dma-mapping (ppc)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 5c1fb41f40b7b6d819a617f52dbd66b6938ef362
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:28 2005 -0400

    [PATCH] gfp_t: dma-mapping (parisc)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 185a8ff52875d8db31b9346ab186f75baa616dee
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:23 2005 -0400

    [PATCH] gfp_t: dma-mapping (mips)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit a5da7d3c6e8fcd7aaab6c4e1e9101ba333248ffb
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:18 2005 -0400

    [PATCH] gfp_t: dma-mapping (frv)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 43b7eae1f5c5424a49ea4a65e9b0e9d5d2fd9446
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:13 2005 -0400

    [PATCH] gfp_t: dma-mapping (cris)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 55c5d74b3ac3a6b8bdde4e5fab4015eccd557d52
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:08 2005 -0400

    [PATCH] gfp_t: dma-mapping (alpha)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 06a544971fad0992fe8b92c5647538d573089dd4
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:21:03 2005 -0400

    [PATCH] gfp_t: dma-mapping (ia64)
    
    ... and related annotations for amd64 - swiotlb code is shared, but
    prototypes are not.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit f9e3214a7964f523e12b4f30b6bd6396794818bd
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:20:58 2005 -0400

    [PATCH] gfp_t: dma-mapping (arm)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 8267e268e0914ac9371d07f711fcf20cc572993c
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:20:53 2005 -0400

    [PATCH] gfp_t: block layer core
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 27496a8c67bef4d789d8e3c8317ca35813a507ae
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:20:48 2005 -0400

    [PATCH] gfp_t: fs/*
    
     - ->releasepage() annotated (s/int/gfp_t), instances updated
     - missing gfp_t in fs/* added
     - fixed misannotation from the original sweep caught by bitwise checks:
       XFS used __nocast both for gfp_t and for flags used by XFS allocator.
       The latter left with unsigned int __nocast; we might want to add a
       different type for those but for now let's leave them alone.  That,
       BTW, is a case when __nocast use had been actively confusing - it had
       been used in the same code for two different and similar types, with
       no way to catch misuses.  Switch of gfp_t to bitwise had caught that
       immediately...
    
    One tricky bit is left alone to be dealt with later - mapping->flags is
    a mix of gfp_t and error indications.  Left alone for now.
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 7d877f3bda870ab5f001bd92528654471d5966b3
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:20:43 2005 -0400

    [PATCH] gfp_t: net/*
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit fd4f2df24bc23e6b8fc069765b425c7dacf52347
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:18:50 2005 -0400

    [PATCH] gfp_t: lib/*
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit 6daa0e28627abf362138244a620a821a9027d816
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 03:18:50 2005 -0400

    [PATCH] gfp_t: mm/* (easy parts)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit af4ca457eaf2d6682059c18463eb106e2ce58198
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Oct 21 02:55:38 2005 -0400

    [PATCH] gfp_t: infrastructure
    
    Beginning of gfp_t annotations:
    
     - -Wbitwise added to CHECKFLAGS
     - old __bitwise renamed to __bitwise__
     - __bitwise defined to either __bitwise__ or nothing, depending on
       __CHECK_ENDIAN__ being defined
     - gfp_t switched from __nocast to __bitwise__
     - force cast to gfp_t added to __GFP_... constants
     - new helper - gfp_zone(); extracts zone bits out of gfp_t value and casts
       the result to int
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Linus Torvalds <torvalds@osdl.org>

commit b57235215933d5fde4013e2448223b934b4ac2b7
Author: Ian Campbell <icampbell@arcom.com>
Date:   Fri Oct 28 15:31:48 2005 +0100

    [ARM] 3048/1: register i2s resources not i2c resources for the pxa i2s platform device
    
    Patch from Ian Campbell
    
    As noted by Uli Luckas in the comments of 3025 there is a typo in the i2s platform device. The i2s platform device refers to the i2c resources.
    
    Signed-off-by: Ian Campbell <icampbell@arcom.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 57718976141c2929bddd6219efb32c2abea8360c
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Oct 28 15:31:47 2005 +0100

    [ARM] 3047/1: SMDK2440 - add framebuffer platform data
    
    Patch from Ben Dooks
    
    Add platform data for framebuffer for the
    onboard LCD module
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 58c8d570f30d65836b53903fbdf355707a19aa52
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Oct 28 15:31:46 2005 +0100

    [ARM] 3046/1: BAST - add framebuffer platform data
    
    Patch from Ben Dooks
    
    Add framebuffer platform data
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 893b03094c2ed929648d76a29cbbfc9e215e8636
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Oct 28 15:31:45 2005 +0100

    [ARM] 3045/2: S3C2410 - change init for lcd platform data
    
    Patch from Ben Dooks
    
    Change set_s3c2410fb_info to s3c2410_fb_set_platdata
    and use kmalloc() for the copy of the information it
    is passed.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3b90c9c33361d49893645ffcebe6ca230f434705
Author: Lennert Buytenhek <buytenh@wantstofly.org>
Date:   Fri Oct 28 15:31:45 2005 +0100

    [ARM] 2908/1: add register definitions for ixp2000 msf
    
    Patch from Lennert Buytenhek
    
    We already had a mapping for the msf, but we didn't have any
    register definitions for it yet.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 63a4b52c9ddca944afc1b78aacbf641c650780d7
Author: Ian Campbell <icampbell@arcom.com>
Date:   Fri Oct 28 15:26:42 2005 +0100

    [ARM] 3044/1: Fix sparse warnings about incompatible pointer types for register defined in pxa-regs.h
    
    Patch from Ian Campbell
    
    The sparse warning initially surfaced in sound/arm/pxa2xx-ac97.c
    because it was using u32 * variables to hold the unsigned long *
    register addresses.
    
    I submitted an ALSA patch for this http://thread.gmane.org/gmane.linux.alsa.devel/27804 issue and it was suggested that it might be preferable to change the register
    definitions to use u32.
    
    Most other subarches seem to use u32 for their register type, at least
    the ones which use a __REG macro (like the PXA) do. Nico indicated in
    the thread above that he wouldn't mind this patch.
    
    Changing the type required fixes for opposite warnings in the pxa2xx usb
    gadget code but that was the only new warning introduced on defconfig
    or lubbock, mainstone and our own PXA255 boards.
    
    Signed-off-by: Ian Campbell <icampbell@arcom.com>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a0e0adb96ebe6bf0b8b3fe4cd6c214b1e8964609
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Oct 28 15:26:42 2005 +0100

    [ARM] 3034/1: S3C2410 - fix size of devices in devs.c
    
    Patch from Ben Dooks
    
    From: Guillaume GOURAT <guillaume.gourat@nexvision.fr>
    
    A number of devices have an extra byte on the
    end of their areas due to mis-calculating the
    .end field of their resources
    
    Signed-off-by: Guillaume GOURAT <guillaume.gourat@nexvision.fr>
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 42d3a120fe9a1831b88e7037ce0b048d82433b09
Author: Ben Dooks <ben-linux@fluff.org>
Date:   Fri Oct 28 15:26:41 2005 +0100

    [ARM] 3033/1: S3C2410 - add generic gpio_cfgpin options
    
    Patch from Ben Dooks
    
    Add generic values for the parameters to the
    s3c2410_gpio_cfgpin() function, so that a caller
    does not need to know the exact constant for
    the specified pin.
    
    This is very useful for the case where a driver
    is passed a gpio pin number and needs to reconfigure
    the pin's function.
    
    Signed-off-by: Ben Dooks <ben-linux@fluff.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c09f98271f685af349d3f0199360f1c0e85550e0
Author: Nicolas Pitre <nico@cam.org>
Date:   Fri Oct 28 15:26:40 2005 +0100

    [ARM] 2930/1: optimized sha1 implementation for ARM
    
    Patch from Nicolas Pitre
    
    Here's an ARM assembly SHA1 implementation to replace the default C
    version. It is approximately 50% faster than the generic C version. On
    an XScale processor running at 400MHz:
    	generic C version:	9.8 MB/s
    	my version:		14.5 MB/s
    This code is useful to quite a few callers in the tree:
    crypto/sha1.c:		sha_transform(sctx->state, sctx->buffer, temp);
    crypto/sha1.c:			sha_transform(sctx->state, &data[i], temp);
    drivers/char/random.c:		sha_transform(buf, (__u8 *)r->pool+i, buf + 5);
    drivers/char/random.c:	sha_transform(buf, (__u8 *)data, buf + 5);
    net/ipv4/syncookies.c:	sha_transform(tmp + 16, (__u8 *)tmp, tmp + 16 + 5);
    
    Signed-off-by: Nicolas Pitre <nico@cam.org>
    Seems to work fine on big-endian as well.
    
    Signed-off-by: Lennert Buytenhek <buytenh@wantstofly.org>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 0b7cd62ecdc1f09b7df4608a3fee644b1c27985b
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:12 2005 +0100

    [ARM] 3017/1: Add support for 36-bit addresses to create_mapping()
    
    Patch from Deepak Saxena
    
    This patch adds support for 36-bit static mapped I/O. While there
    are no platforms in the tree ATM that use it, it has been tested
    tested on the IXP2350 NPU and I would like to get the support for
    that chipset upstream one piece at a time. There are also other
    Intel chipset ports in development that are waiting on this to go
    upstream.
    
    The patch replaces the print formats for physical addresses with
    %016llx which will create a bit extraneous output on 32-bit systems,
    but I think that is cleaner than having #ifdefs, specially since
    users will only see the output in error cases.
    
    Depends on 3016/1.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9769c2468d423a1562dd59a5db250bd0a5533ec9
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:11 2005 +0100

    [ARM] 3016/1: Replace map_desc.physical with map_desc.pfn
    
    Patch from Deepak Saxena
    
    Convert map_desc.physical to map_desc.pfn. This allows us to add
    support for 36-bit addressed physical devices in the static maps
    without having to resort to u64 variables.
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c8d2729858d76de4ef7522c8171004fc1959cc44
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:10 2005 +0100

    [ARM] 3001/1: Replace map_desc.physical with map_desc.pfn: Integrator
    
    Patch from Deepak Saxena
    
    Integrator map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit adecef744fc5b4e9316c851feec2a4d2640dd7ae
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:10 2005 +0100

    [ARM] 3000/1: Replace map_desc.physical with map_desc.pfn: iMX
    
    Patch from Deepak Saxena
    
    iMX map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 3e9635e4060238549ffac239de34f6122b053653
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:09 2005 +0100

    [ARM] 2999/1: Replace map_desc.physical with map_desc.pfn: H720x
    
    Patch from Deepak Saxena
    
    H720x map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit a427ceef934d8162c8c61d152e969bc3ec21a4e5
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:08 2005 +0100

    [ARM] 2998/1: Replace map_desc.physical with map_desc.pfn: Footbridge
    
    Patch from Deepak Saxena
    
    Footbridge map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6cb1907c1a88563c84123c923b46424ea68b53eb
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:08 2005 +0100

    [ARM] 2997/1: Replace map_desc.physical with map_desc.pfn: EBSA110
    
    Patch from Deepak Saxena
    
    EBSA110 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7a557e246f5c24f4c7218f41f8caf03c492f40f9
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:07 2005 +0100

    [ARM] 2996/1: Replace map_desc.physical with map_desc.pfn: EPXA10DB
    
    Patch from Deepak Saxena
    
    EPXA10DB mapd_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1311521fb1b8ebbb0b470d028df13f2cbc643e51
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:06 2005 +0100

    [ARM] 2995/1: Replace map_desc.physical with map_desc.pfn: Versatile
    
    Patch from Deepak Saxena
    
    Versatile map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit d157e9ecec59383a676d676e2bb39367430396a2
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:05 2005 +0100

    [ARM] 2994/1: Replace map_desc.physical with map_desc.pfn: CLPS7500
    
    Patch from Deepak Saxena
    
    CLSP7500 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f10083f5a6f4a2735cca3a8c762457272ea66bf0
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:05 2005 +0100

    [ARM] 2993/1: Replace map_desc.physical with map_desc.pfn: CLPS711x
    
    Patch from Deepak Saxena
    
    CLSP711x map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 92519d82828a93743adc31202927f411601c0d04
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:04 2005 +0100

    [ARM] 2992/1: Replace map_desc.physical with map_desc.pfn: SA1100
    
    Patch from Deepak Saxena
    
    SA1100 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit cd5fc8bffd70b2d87953334b6195db4bc2125ff9
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:03 2005 +0100

    [ARM] 2991/1: Replace map_desc.physical with map_desc.pfn: Shark
    
    Patch from Deepak Saxena
    
    Shark map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 1cc977a76642b1eec2ab4ba80a6f0db9a63a091e
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:02 2005 +0100

    [ARM] 2990/1: Replace map_desc.physical with map_desc.pfn: S3C2410
    
    Patch from Deepak Saxena
    
    S3C2410 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f9258f226baf663099acb7972287ea0e26ce05a7
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:02 2005 +0100

    [ARM] 2989/1: Replace map_desc.physical with map_desc.pfn: RiscPC
    
    Patch from Deepak Saxena
    
    RiscPC map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 6f9182eb32a4e6c46813928bee50df71e3fd1c74
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:01 2005 +0100

    [ARM] 2988/1: Replace map_desc.physical with map_desc.pfn: PXA
    
    Patch from Deepak Saxena
    
    PXA map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 9fe133b149e8a48742a64b72f22041bcd31fe827
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:19:00 2005 +0100

    [ARM] 2987/1: Replace map_desc.physical with map_desc.pfn: OMAP
    
    Patch from Deepak Saxena
    
    OMAP map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 36d28c03d17506dd30aeed9d68a4023f3e7631dc
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:18:59 2005 +0100

    [ARM] 2986/1: Replace map_desc.physical with map_desc.pfn: LH7A40x
    
    Patch from Deepak Saxena
    
    LH7A40x map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 87fe04bd2a39f263211cc232da9f4f094eaffea0
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:18:59 2005 +0100

    [ARM] 2985/1: Replace map_desc.physical with map_desc.pfn: IXP4xx
    
    Patch from Deepak Saxena
    
    IXP4xx map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit db0d087e34d251254f6349e607c2a2ec295cd90b
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:18:58 2005 +0100

    [ARM] 2984/1: Replace map_desc.physical with map_desc.pfn: IXP2000
    
    Patch from Deepak Saxena
    
    IXP2000 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 4835e64a5f44366e97dde9b6e26ede2ec16249da
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:18:57 2005 +0100

    [ARM] 2983/1: Replace map_desc.physical with map_desc.pfn: IOP3xx
    
    Patch from Deepak Saxena
    
    IOP3xx map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f70cd65658388ca2a06071bdbd8a5a6beac5aa47
Author: Deepak Saxena <dsaxena@plexity.net>
Date:   Fri Oct 28 15:18:56 2005 +0100

    [ARM] 2982/1: Replace map_desc.physical with map_desc.pfn: aaec2000
    
    Patch from Deepak Saxena
    
    aaec2000 map_desc.pfn conversion
    
    Signed-off-by: Deepak Saxena <dsaxena@plexity.net>
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c6b9dafce3e3b434a3e7ffd5072815c03d18cc84
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:56:04 2005 +0100

    [ARM] 4/4 Combine oprofile common and init code
    
    There is nothing special about having the init code separate from
    the common code, so combine the two.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 55f052341ff75e5815b1f7f4d2d3b69314ea8712
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:54:21 2005 +0100

    [ARM] 3/4 Rename common oprofile code
    
    The common oprofile code assumes the name "PMU" (from Intel's
    performance management unit).  This is misleading when we
    start adding oprofile support for other machine types which
    don't use the same terminology.  Call it op_arm_* instead of
    pmu_*.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7c5b3fc20807279d8f8e78f1e2ef275128668796
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:52:30 2005 +0100

    [ARM] 2/4 Fix oprofile suspend/resume
    
    The oprofile suspend/resume was missing locking.  If we failed
    to start oprofile on resume, we still reported that it was
    enabled.  Instead, disable oprofile on error.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit b5893c56ca7e664aef010a71c2638db768d4e996
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:51:15 2005 +0100

    [ARM] 1/4 Move oprofile driver model code
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 90072059d2963dec237ae0cf49831ef77ddb5739
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:48:37 2005 +0100

    [ARM] Re-jig bootmem initialisation
    
    Make ARM independent of the way bootmem operates internally.  We
    now map each node as we initialise it, and place the bootmem bitmap
    inside each node, rather than all in the first node.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f339ab3d6c59f8f898c165384aa2b6a0ae5d4c1c
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:29:43 2005 +0100

    [ARM] Fix sparse warnings
    
    Fix sparse warnings in arch/arm/kernel/module.c,
    arch/arm/mm/consistent.c, drivers/pcmcia/sa1111_generic.c,
    and platform support files.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 674c04538284736c4a44224c78cb784b2c972f98
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:25:28 2005 +0100

    [ARM] 3/4: Remove asm/hardware.h from SA1100 io.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit c6b8fdad144bbb915d124ffd95011ad55730bf9f
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 14:05:16 2005 +0100

    [ARM] 3/4: Remove asm/hardware.h from Versatile and Integrator io.h
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit f78541dcec327b0c46b150ee7d727f3db80275c4
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 22:53:37 2005 +1000

    powerpc: Merge xmon
    
    The merged version follows the ppc64 version pretty closely mostly,
    and in fact ARCH=ppc64 now uses the arch/powerpc/xmon version.
    The main difference for ppc64 is that the 'p' command to call
    show_state (which was always pretty dodgy) has been replaced by
    the ppc32 'p' command, which calls a given procedure (so in fact
    the old 'p' command behaviour can be achieved with 'p $show_state').
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c032524f0ddea5fcc3a2cece0d4a61f37e5ca9cd
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 22:48:08 2005 +1000

    powerpc: Make single-stepping emulation (mostly) usable on 32-bit
    
    The sc instruction emulation can't be done the same way on 32-bit
    as 64-bit yet, but this should work OK.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d73e0c99f5c45e7b86d38725a4ff49f6746f5353
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 22:45:25 2005 +1000

    powerpc: Rename asm offset TRAP to _TRAP for 32-bit
    
    ... for consistency with 64-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 766529fa2c95e2006ad4c4485c4cde0912d21f12
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 10:29:21 2005 +0100

    [ARM] 2/4: Remove asm/hardware.h from asm-arm/arch-ebsa110/io.h
    
    EBSA110 only requires hardware.h to be included for a couple of
    files.  Move the include there.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 7fca0aa489c82bef85514b5447f6a0be81543115
Author: Russell King <rmk@dyn-67.arm.linux.org.uk>
Date:   Fri Oct 28 10:20:25 2005 +0100

    [ARM] 1/4: Move include of asm/hardware.h to asm-arm/arch-*/io.h
    
    Including asm/hardware.h into asm/io.h can cause #define clashes
    between platform specific definitions and driver local definitions.
    
    Signed-off-by: Russell King <rmk+kernel@arm.linux.org.uk>

commit 772eca7825358f52cf208afd7ab8ce22722ce41a
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Oct 28 09:01:17 2005 +0200

    [BLOCK] Leftover reference to ->max_back_kb
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 64521d1a3ba7cc7fe4ab5640da83d88144f05340
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Oct 28 08:30:39 2005 +0200

    [BLOCK] elevator switch fixes/cleanup
    
    - 100msec sleep is a little excessive, lots of requests can complete
      in that timeframe. Use 10msec instead.
    - Rename QUEUE_FLAG_BYPASS to QUEUE_FLAG_ELVSWITCH to indicate what
      is going on.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit cb98fc8bb9c141009e2bda99c0db39d387e142cf
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Oct 28 08:29:39 2005 +0200

    [BLOCK] Reimplement elevator switch
    
     This patch reimplements elevator switch.  This patch assumes generic
    dispatch queue patchset is applied.
    
     * Each request is tagged with REQ_ELVPRIV flag if it has its elevator
       private data set.
     * Requests which doesn't have REQ_ELVPRIV flag set never enter
       iosched.  They are always directly back inserted to dispatch queue.
       Of course, elevator_put_req_fn is called only for requests which
       have its REQ_ELVPRIV set.
     * Request queue maintains the current number of requests which have
       its elevator data set (elevator_set_req_fn called) in
       q->rq->elvpriv.
     * If a request queue has QUEUE_FLAG_BYPASS set, elevator private data
       is not allocated for new requests.
    
     To switch to another iosched, we set QUEUE_FLAG_BYPASS and wait until
    elvpriv goes to zero; then, we attach the new iosched and clears
    QUEUE_FLAG_BYPASS.  New implementation is much simpler and main code
    paths are less cluttered, IMHO.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit cb19833dccb32f97cacbfff834b53523915f13f6
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Oct 24 08:35:58 2005 +0200

    [BLOCK] kill generic max_back_kb handling
    
    This patch kills max_back_kb handling from elv_dispatch_sort() and
    kills max_back_kb field from struct request_queue.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 4c9f7836406f41ef9da6ee68d7a0448fdb97b5ef
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 20 16:47:40 2005 +0200

    [PATCH] 05/05 update biodoc to match new generic dispatch api
    
    Updates biodoc to reflect changes in elevator API
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 98b11471d72a374f346bec50a00d0887719b85b3
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 20 16:46:54 2005 +0200

    [PATCH] 04/05 remove last_merge handling from ioscheds
    
    Remove last_merge handling from all ioscheds.  This patch
    removes merging capability of noop iosched.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>

commit 06b86245c052963029bfd9020ca1f08ceb66f85a
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 20 16:46:23 2005 +0200

    [PATCH] 03/05 move last_merge handlin into generic elevator code
    
    Currently, both generic elevator code and specific ioscheds
    participate in the management and usage of last_merge.  This
    and the following patches move last_merge handling into
    generic elevator code.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit b4878f245ec8e168cdd1f170f823a750b7dd4af5
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Oct 20 16:42:29 2005 +0200

    [PATCH] 02/05: update ioscheds to use generic dispatch queue
    
    This patch updates all four ioscheds to use generic dispatch
    queue.  There's one behavior change in as-iosched.
    
    * In as-iosched, when force dispatching
      (ELEVATOR_INSERT_BACK), batch_data_dir is reset to REQ_SYNC
      and changed_batch and new_batch are cleared to zero.  This
      prevernts AS from doing incorrect update_write_batch after
      the forced dispatched requests are finished.
    
    * In cfq-iosched, cfqd->rq_in_driver currently counts the
      number of activated (removed) requests to determine
      whether queue-kicking is needed and cfq_max_depth has been
      reached.  With generic dispatch queue, I think counting
      the number of dispatched requests would be more appropriate.
    
    * cfq_max_depth can be lowered to 1 again.
    
    Original from Tejun Heo, modified version applied.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit d9ebb192aa13a026edc6faff137dcb14f2c91731
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Oct 20 16:37:38 2005 +0200

    [PATCH] elevator: leftover function declaration
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 1b47f531e244e339b648dfff071c086f936e49e1
Author: Jens Axboe <axboe@suse.de>
Date:   Thu Oct 20 16:37:00 2005 +0200

    [PATCH] generic dispatch fixes
    
    - Split elv_dispatch_insert() into two functions
    - Rename rq_last_sector() to rq_end_sector()
    
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 8922e16cf6269e668123acb1ae1fdc62b7a3a4fc
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 20 16:23:44 2005 +0200

    [PATCH] 01/05 Implement generic dispatch queue
    
    Implements generic dispatch queue which can replace all
    dispatch queues implemented by each iosched.  This reduces
    code duplication, eases enforcing semantics over dispatch
    queue, and simplifies specific ioscheds.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 007e8f51b26ae7b6a17651af5a0f01ab6491cdca
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Oct 28 15:35:50 2005 +1000

    [PATCH] powerpc: Move xics.[ch] into platforms/pseries
    
    This patch moves the XICS interrupt controller code into the
    platforms/pseries directory, since it only appears on pSeries
    machines.  If it ever appears on some other machine we can move it to
    sysdev, although xics.c itself will need a bunch of changes in that
    case to remove pSeries specific assumptions.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2824bc9328467127083c1325f54b67d298c333b2
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 20 10:56:41 2005 +0200

    [PATCH] fix try_module_get race in elevator_find
    
    This patch removes try_module_get race in elevator_find.
    try_module_get should always be called with the spinlock protecting
    what the module init/cleanup routines register/unregister to held. In
    the case of elevators, we should be holding elv_list to avoid it going
    away between spin_unlock_irq and try_module_get.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit b2982649ce38293b14684b26bcda20cfc54164e6
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Thu Oct 13 21:49:29 2005 +0200

    Following the same idea, it occurs to me that we should only update
    disk stat when "now" is different from disk->stamp.  Otherwise, we
    are again needlessly adding zero to the stats.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 20e5c81fcff89535dced2ed71cf24c6c648ff40e
Author: Chen, Kenneth W <kenneth.w.chen@intel.com>
Date:   Thu Oct 13 21:48:42 2005 +0200

    [patch] remove gendisk->stamp_idle field
    
    struct gendisk has these two fields: stamp, stamp_idle.  Update to
    stamp_idle is always in sync with stamp and they are always the same.
    Therefore, it does not add any value in having two fields tracking
    same timestamp.  Suggest to remove it.
    
    Also, we should only update gendisk stats with non-zero value.
    Advantage is that we don't have to needlessly calculate memory address,
    and then add zero to the content.
    
    Signed-off-by: Ken Chen <kenneth.w.chen@intel.com>
    Signed-off-by: Jens Axboe <axboe@suse.de>

commit 22b280324acbfd1a1f2374055d9bb39e7069e2bf
Merge: 4542437... 299f6ce...
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 13:50:39 2005 +1000

    Merge git://oak/home/sfr/kernels/iseries/work/

commit cb0f0910f4b41772a6771bdb4fb2d419b27bcd77
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Thu Oct 27 20:48:11 2005 -0700

    [IB] ib_umad: various cleanups
    
    Simplify user_mad.c code in a few places, and convert from kmalloc() +
    memset() to kzalloc().  This also fixes a theoretical race window by
    not accessing packet->length after posting the send buffer (the send
    could complete and packet could be freed before we get to the return
    statement at the end of ib_umad_write()).
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 4542437679de448de0f75bc901dab380d6a5bc5b
Merge: 2227718... 741b225...
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 13:38:53 2005 +1000

    Merge in v2.6.14 by hand

commit 089a1bedd84be16a4f49a319e7ccb4a128da5ce9
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 27 20:33:43 2005 -0700

    [IB] ib_umad: fix crash when freeing send buffers
    
    The conversion of user_mad.c to the new MAD send API was slightly off:
    in a few places, we used packet->msg instead of packet->msg->mad when
    referring to the actual data buffer, which ended up corrupting the
    underlying data structure and crashing when we free an invalid pointer.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 299f6ce491aa28515d86f29af2779cbfdc7a4790
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 18:03:58 2005 +1000

    ppc64: use mem_64.S from powerpc/lib
    
    and remove the same bits from ppc64/lib/string.S.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit a4a264f144d5389a52d467a7e41bec2834cfde75
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 17:28:21 2005 +1000

    ppc64: use usercopy_64.c from powerpc/lib
    
    since it is identical to usercopy.c from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit a2b0ca84a1198505f0b3c7b55b7769dd5dbd0791
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 17:12:52 2005 +1000

    ppc64: user strcase.c from powerpc/lib
    
    since it is identical to strcase.c from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit a0d8bf9cf1f9722204936d8ef53370d7ae1181d9
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 17:05:27 2005 +1000

    ppc64: use sstep.c from powerpc/lib
    
    since it is identical to sstep.c from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 12a39407f021fd17d5f9d33d78bddb005bd106fb
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:49:44 2005 +1000

    ppc64: use memcpy_64.S from powerpc/lib
    
    since it is identical to mempcy.S from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ecc81e0f719f566b75b222b8aef64c8b809b2e29
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:45:38 2005 +1000

    ppc64: use lockc.c from powerpc/lib
    
    since it is effectively the same as locks.c from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 43f35ec35c2b9a1c984d885893084eed2101e1bf
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:40:05 2005 +1000

    ppc64: use copyuser_64.S from powerpc/lib
    
    since it is identical to copyuser.S from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 34faa82841b87e6f375b01dad3262ca345de25c0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:35:43 2005 +1000

    ppc64: use copypage_64.S from powerpc/lib
    
    since it is identical to copypage.S from ppc64/lib.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 454fb016b3407e7cacbe17e590521ddf86a54f7f
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:28:43 2005 +1000

    ppc64: use e2a.c from powerpc/lib
    
    since it is identical to e2a.c from ppc64/lib
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 1a3c061efd32b620cf6498b71687ff0768cfe2d8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 27 16:25:05 2005 +1000

    ppc64: use checksum_64.S from powerpc
    
    as it is identical to checksum.S from ppc64.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 640768eef245f1578e75e02c17d277a1496a535b
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 28 12:51:45 2005 +1000

    ppc64: use the merged syscall table
    
    This allows us to also use entry_64.S from the merged tree and reverts
    the setup_64.c part of fda262b8978d0089758ef9444508434c74113a61.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 434f1d10c1adb6c2e333d501ce1e42be610e0723
Merge: 6070fe6... 741b225...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:13:32 2005 -0400

    Merge /home/trondmy/scm/kernel/git/torvalds/linux-2.6

commit 6070fe6f82c67021367092855c0812a98becf0fa
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:46 2005 -0400

    RPC: Ensure that nobody can queue up new upcalls after rpc_close_pipes()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit bec273b491bd16351a9cdb8e9a51d30afa7fe9f4
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:45 2005 -0400

    NFS: Allow files that are open for write to invalidate caches
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 16c32b71bc53d6f7143702ebb264b4ef20d8f1e5
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:45 2005 -0400

    NFSv4: Convert unnecessary XDR warning messages into dprintk()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4f9838c7ecd14f31f701f64fa65ded132fc0db8a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:44 2005 -0400

    NFSv4: Add post-op attributes to NFSv4 write and commit callbacks.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 16e429596dec4d28e16812b3a9be27f18412c567
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:44 2005 -0400

    NFSv4: Add post-op attributes to nfs4_proc_remove()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 6caf2c8276d371679a798058e8fdf49f5ff831a3
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:43 2005 -0400

    NFSv4: Add post-op attributes to nfs4_proc_rename()
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 91ba2eeec5e8e86e054937eb3bf5aec5b22b1830
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:42 2005 -0400

    NFSv4: Add post-op attributes to nfs4_proc_link()
    
     Optimise attribute revalidation when hardlinking. Add post-op attributes
     for the directory and the original inode.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cf809556149f076b7a020c10e066b2b96e79b6a1
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:42 2005 -0400

    NFS: Ensure that nfs_link() instantiates the dentry correctly
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 516a6af641bb50c608329a5bd751acd0d65cc4ab
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:41 2005 -0400

    NFS: Add optional post-op getattr instruction to the NFSv4 file close.
    
     "Optional" means that the close call will not fail if the getattr
     at the end of the compound fails.
     If it does succeed, try to refresh inode attributes.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 3338c143b4fde2d256016b63043ec8e2c93eba19
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:41 2005 -0400

    NFS: Optimise attribute revalidation on close().
    
     Only force a getattr in nfs_file_flush() if the attribute
     cache is stale.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 56ae19f38f10aad4f27f7e12138a29b295dff07a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:40 2005 -0400

    NFSv4: Add directory post-op attributes to the CREATE operations.
    
     Since the directory attributes change every time we CREATE a file,
     we might as well pick up the new directory attributes in the same
     compound.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 0c70b50150cfb0b43ff500a8a394a52b4d5f1350
Author: Chuck Lever <cel@netapp.com>
Date:   Tue Oct 25 11:48:36 2005 -0400

    NFS: nfs_lookup doesn't need to revalidate the parent directory's inode
    
     nfs_lookup() used to consult a lookup cache before trying an actual wire
     lookup operation.  The lookup cache would be invalid, of course, if the
     parent directory's mtime had changed, so nfs_lookup performed an inode
     revalidation on the parent.
    
     Since nfs_lookup() doesn't use a cache anymore, the revalidation is no
     longer necessary.  There are cases where it will generate a lot of
     unnecessary GETATTR traffic.
    
     See http://bugzilla.linux-nfs.org/show_bug.cgi?id=9
    
     Test-plan:
     Use lndir and "rm -rf" and watch for excess GETATTR traffic or application
     level errors.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit decf491f3076190262d4c649bed877650623903a
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:39 2005 -0400

    NFS: Don't let nfs_end_data_update() clobber attribute update information
    
     Since we almost always call nfs_end_data_update() after we called
     nfs_refresh_inode(), we now end up marking the inode metadata
     as needing revalidation immediately after having updated it.
    
     This patch rearranges things so that we mark the inode as needing
     revalidation _before_ we call nfs_refresh_inode() on those operations
     that need it.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 33801147a8fda6b04d7e9afe1d42f1c01d3d6837
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:39 2005 -0400

    NFS: Optimise inode attribute cache updates
    
     Allow nfs_refresh_inode() also to update attributes on the inode if the
     RPC call was sent after the last call to nfs_update_inode().
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 913a70fc170530f7e1ff0693595155457cc6d0ca
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:38 2005 -0400

    NFS: Convert cache_change_attribute into a jiffy-based value
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 0e574af1be5f569a5d7f2800333b0bfb358a5e34
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 22:12:38 2005 -0400

    NFS: Cleanup initialisation of struct nfs_fattr
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2227718ca2f7d5fcc2741c1bbca4d0c2efd340ce
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 11:47:17 2005 +1000

    ppc64: Use the correct prototypes for i8259 functions
    
    We still had an old copy of i8259.h lying around; this gets rid of it
    and corrects the callers of i8259_init and i8259_irq.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a8e3d48150d70ceab3b8249a4bdbe5c50567a357
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Oct 28 10:31:49 2005 +1000

    [PATCH] powerpc: Remove dregs of bootinfo.h
    
    Since I sent the patch to purge bootinfo.h from ARCH=powerpc and
    ARCH=ppc64, setup-common.c has come into existence, and another
    #include of bootinfo.h slipped in.  This patch removes it.  It also
    removes include/asm-ppc64/bootinfo.h, which somehow survived the
    previous patch which was supposed to remove it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e6b4fe92effe88944af2df7257688ccff811996d
Author: Kumar Gala <galak@freescale.com>
Date:   Thu Oct 27 08:54:36 2005 -0500

    [PATCH] powerpc: only build idle_6xx for 6xx
    
    For the current time idle_6xx only applies to 6xx ppc32 CPUs
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cb650116a030dd5cf12f30651e29ceb990d42e4a
Merge: 7bbaa75... 741b225...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 27 20:56:43 2005 -0400

    Merge branch 'master'

commit 26ba2a7a9f4d8921f095af646a7d22c15a148028
Merge: 9119075... 741b225...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 27 20:43:20 2005 -0400

    Merge branch 'master'

commit b2ab040db85835e54c7559533df7f85902617926
Merge: 1f57389... 741b225...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 27 20:35:17 2005 -0400

    Merge branch 'master'

commit 4ac0068f44f192f2de95a7bb36df3e19767a45fb
Author: Cliff Wickman <cpw@sgi.com>
Date:   Thu Oct 27 10:29:08 2005 -0500

    [IA64] ptrace - find memory sharers on children list
    
    In arch/ia64/kernel/ptrace.c there is a test for a peek or poke of a
    register image (in register backing storage).
    The test can be unnecessarily long (and occurs while holding the tasklist_lock).
    Especially long on a large system with thousands of active tasks.
    
    The ptrace caller (presumably a debugger) specifies the pid of
    its target and an address to peek or poke.  But the debugger could be
    attached to several tasks.
    The idea of find_thread_for_addr() is to find whether the target address
    is in the RBS for any of those tasks.
    
    Currently it searches the thread-list of the target pid.  If that search
    does not find a match, and the shared mm-struct's user count indicates
    that there are other tasks sharing this address space (a rare occurrence),
    a search is made of all the tasks in the system.
    
    Another approach can drastically shorten this procedure.
    It depends upon the fact that in order to peek or poke from/to any task,
    the debugger must first attach to that task.  And when it does, the
    attached task is made a child of the debugger (is chained to its children list).
    
    Therefore we can search just the debugger's children list.
    
    Signed-off-by: Cliff Wickman <cpw@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 4c2cb58c552a34744979a99ccf01762d5eb7e288
Merge: 34123da... 72ab373...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 19:12:49 2005 -0400

    Merge /home/trondmy/scm/kernel/git/torvalds/linux-2.6

commit 34123da66e613602de5a886b05c875b6a91b8ed2
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 19:10:09 2005 -0400

    NFS: Fix a bad cast in nfs3_read_done
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 6fa05b17367f04ada501e89d3b9cb56adec0d930
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 27 19:08:18 2005 -0400

    Revert "RPC: stops the release_pipe() funtion from being called twice"
    
    This reverts 747c5534c9a6da4aa87e7cdc2209ea98ea27f381 commit.

commit bc7b26fd7ca5e0c6e769d3886c022f0a98fd88ec
Author: Dave Jones <davej@redhat.com>
Date:   Thu Oct 27 16:02:06 2005 -0700

    [CPUFREQ] Check return value of cpufreq_cpu_get in cpufreq_stats
    
    This fixes an issue found in drivers/cpufreq/cpufreq_stats.c by Coverity.
    
    Error reported:
    CID: 2642
    Checker: NULL_RETURNS (help)
    File: /export2/p4-coverity/mc2/linux26/drivers/cpufreq/cpufreq_stats.c
    Function: cpufreq_stats_create_table
    Description: Dereferencing NULL value "data"
    
    Patch description:
     The return of cpufreq_cpu_get can be NULL, check return code and return
     -EINVAL if it is NULL.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 9675c7ebcf1f6308d66b0fcb42ae585e200e80a9
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 08:30:25 2005 +1000

    ppc64: Include arch/powerpc/kernel/setup-common.o
    
    ... which is needed now that ARCH=ppc64 is using the merged
    setup_64.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 09eee6347166a7baab74783999ef1bf23827647f
Author: Paul Mackerras <paulus@samba.org>
Date:   Fri Oct 28 08:29:36 2005 +1000

    powerpc: Move U3 IOMMU driver to arch/powerpc/sysdev
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c1902aae322952f8726469a6657df7b9d5c794fe
Author: Dean Roe <roe@sgi.com>
Date:   Thu Oct 27 15:41:04 2005 -0500

    [IA64] - Avoid slow TLB purges on SGI Altix systems
    
    flush_tlb_all() can be a scaling issue on large SGI Altix systems
    since it uses the global call_lock and always executes on all cpus.
    When a process enters flush_tlb_range() to purge TLBs for another
    process, it is possible to avoid flush_tlb_all() and instead allow
    sn2_global_tlb_purge() to purge TLBs only where necessary.
    
    This patch modifies flush_tlb_range() so that this case can be handled
    by platform TLB purge functions and updates ia64_global_tlb_purge()
    accordingly.  sn2_global_tlb_purge() now calculates the region register
    value from the mm argument introduced with this patch.
    
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0753ca7bc2b876dd136e9db11a20f85cbe4e08b1
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Oct 27 13:55:12 2005 -0700

    [CIFS] Change pragma pack(1) to attribute(packed) to allow cifs on arm to access
    unaligned structures coming in off the wire
    
    gcc on arm processors generates very odd code with pragma pack specified -
    although it does pack the structures in some sense - it does not allow you
    to access unaligned elements in nested structures at the right offset as other
    architectures do.  Oddly enough though, specifying the structures as packed
    the long way - one by one with the packed attribute does work.  Rather than
    fighting over whether this is a gcc bug or some obscure side effect
    of pragma pack, it is easier to do what most (all but 96 other places in
    the kernel) do - and replace pragma pack with dozens of attribute(packed)
    structure qualifiers.  Much more verbose ... but at least it works.
    
    Signed-off-by: David Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 04290949b3daef35d6279dcc05f01b549ac1772b
Merge: d6d3f5b... 72ab373...
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Oct 27 12:53:03 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 3d155f8cd0d077938d271225d26ee52f8eb26082
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 27 11:03:38 2005 -0700

    [IB] mthca: first pass at catastrophic error reporting
    
    Add some initial support for detecting and reporting catastrophic
    errors reported by Mellanox HCAs.  We start a periodic timer which
    polls the catastrophic error reporting buffer in device memory.  If an
    error is detected, we dump the contents of the buffer for port-mortem
    debugging, and report a fatal asynchronous error to higher levels.
    
    In the future we can try to recover from these errors by resetting the
    device, but this will require some work in higher-level code as well.
    Let's get this in now, so that we at least get catastrophic errors
    reported in logs.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit bfab1019b7e8b499dfc471a0dfc98b587420dda9
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 22:45:33 2005 +1000

    powerpc: Fix new-world powermac detection
    
    My G5 was being reported as an OldWorld in /proc/cpuinfo, which is
    obviously not right... :)
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6316222ea050d469c3155881d9dee2c7671d9fef
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 22:44:39 2005 +1000

    powerpc: Introduce toreal/fromreal assembly macros
    
    On 32-bit platforms, these convert from kernel virtual addresses
    to real (physical addresses), like tophys/tovirt but they use
    the same register for the source and destination.  On 64-bit
    platforms, they do nothing because the hardware ignores the top
    two bits of the address in real mode.
    
    These new macros are used in fpu.S now.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 80579e1f4a6b5f5dec92faa6c3e0645961c99091
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 22:42:04 2005 +1000

    powerpc: 32-bit CHRP SMP fixes
    
    Untested, but "should" work...  at least this way it compiles.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eef69e3cfb38d83166dbd8bcb12ededa1b6e78b6
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 22:21:37 2005 +1000

    powerpc: remove duplicate screen_info from setup_32.c
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4b24b01c6c0bab24e6a4c3e4a02d53b564f2d05c
Author: Kumar Gala <galak@freescale.com>
Date:   Wed Oct 26 09:56:10 2005 -0500

    [PATCH] powerpc: Moved dcr support to arch/powerpc
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cffb09ce6ba7706c89c6df9ca8e72c81adda13f0
Author: Kumar Gala <galak@freescale.com>
Date:   Wed Oct 26 09:55:41 2005 -0500

    [PATCH] powerpc: Fix warning related to do_dabr
    
    do_dabr() is not relevant on 40x or Book-E processors so dont build it
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 328985b2c69d2592edd7f181a6b7360e51b08515
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Oct 24 14:05:38 2005 +1000

    [PATCH] powerpc: Don't use kmalloc() for kernel stacks
    
    In readiness for 64k pages, when THREAD_SIZE will be less than
    PAGE_SIZE, ppc64 uses kmalloc() rather than __get_free_pages() to
    allocate kernel stacks, and since thread_info.h was merged, so does
    ppc32.  However that adds some overhead which we don't really want
    when PAGE_SIZE <= THREAD_SIZE (including all ppc32 machines), so this
    patch avoids it.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2765ca254060adb9a5abc2cfc6264b8daafc5742
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Oct 24 13:07:23 2005 +1000

    [PATCH] powerpc: Merge parport.h
    
    Save for the header #define, ppc32 and ppc64 versions of parport.h are
    identical.  This patch merges them.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e37bc5df8e96c72f27ec3579499726b656e4e641
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Mon Oct 24 11:41:33 2005 +1000

    [PATCH] powerpc: Purge bootinfo.h
    
    With ARCH=powerpc we assume the presence of a device tree, so we don't
    require any support for the old bi_recs method of passing boot
    parameters.  Likewise, we've never needed it for ppc64, but we still
    had an include/asm-ppc64/bootinfo.h from which nothing was used.  This
    patch removes that file, and all references to it in arch/ppc64 and
    arch/powerpc.  A related, unused variable 'boot_mem_size' is also
    removed from setup_32.c.  The bootinfo stuff remains in ARCH=ppc for
    the time being.
    
    Built and booted on Power5 (ARCH=ppc64 and ARCH=powerpc), built for
    32-bit powermac (ARCH=powerpc and ARCH=ppc).
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 25c8a78b1e00ac0cc640677eda78b462c2cd4c6e
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Oct 27 16:27:25 2005 +1000

    [PATCH] powerpc: Fix handling of fpscr on 64-bit
    
    The recent merge of fpu.S broken the handling of fpscr for
    ARCH=powerpc and CONFIG_PPC64=y.  FP registers could be corrupted,
    leading to strange random application crashes.
    
    The confusion arises, because the thread_struct has (and requires) a
    64-bit area to save the fpscr, because we use load/store double
    instructions to get it in to/out of the FPU.  However, only the low
    32-bits are actually used, so we want to treat it as a 32-bit quantity
    when manipulating its bits to avoid extra load/stores on 32-bit.  This
    patch replaces the current definition with a structure of two 32-bit
    quantities (pad and val), to clarify things as much as is possible.
    The 'val' field is used when manipulating bits, the structure itself
    is used when obtaining the address for loading/unloading the value
    from the FPU.
    
    While we're at it, consolidate the 4 (!) almost identical versions of
    cvt_fd() and cvt_df() (arch/ppc/kernel/misc.S,
    arch/ppc64/kernel/misc.S, arch/powerpc/kernel/misc_32.S,
    arch/powerpc/kernel/misc_64.S) into a single version in fpu.S.  The
    new version takes a pointer to thread_struct and applies the correct
    offset itself, rather than a pointer to the fpscr field itself, again
    to avoid confusion as to which is the correct field to use.
    
    Finally, this patch makes ARCH=ppc64 also use the consolidated fpu.S
    code, which it previously did not.
    
    Built for G5 (ARCH=ppc64 and ARCH=powerpc), 32-bit powermac (ARCH=ppc
    and ARCH=powerpc) and Walnut (ARCH=ppc, CONFIG_MATH_EMULATION=y).
    Booted on G5 (ARCH=powerpc) and things which previously fell over no
    longer do.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fda262b8978d0089758ef9444508434c74113a61
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 20:20:42 2005 +1000

    [PATCH] ppc64: remove arch/ppc64/kernel/setup.c
    
    and use setup_64.c from the merged tree instead.  The only difference
    between them was the code to set up the syscall maps.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 89edce0b4e71f6f78e27d7c18c63e957469b74d3
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Oct 25 16:59:03 2005 +1000

    [PATCH] powerpc: merge scatterlist.h
    
    This depends on the 64bit dma_addr_t patch.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8168f902fa9c2ca8930ea8d72cce283234df03b8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Oct 25 16:56:43 2005 +1000

    [PATCH] ppc64: make dma_addr_t 64 bits
    
    There has been a need expressed for dma_addr_t to be 64 bits on PPC64.
    This patch does that.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bf20a0000377f7bdeb42b78b10ed578deb3d63f1
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 16:45:29 2005 +1000

    powerpc: undeprecate the old OF device tree accessors for now
    
    The recent addition of __deprecated to the declarations for
    find_devices etc. produces a whole pile of warnings from the
    ppc32 code.  Since those functions still work perfectly well on
    ppc32, which doesn't have hotplug support for anything in the
    OF device tree, and we don't have time to fix that code now,
    remove the __deprecated markings for now.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e0f998930eb67c49f2862c58a45262ad0bc03eca
Merge: 6958ae3... 7a4ed93...
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Wed Oct 26 23:28:40 2005 -0400

    Auto-update from upstream

commit f2be34a3f30a1595f5d9c8e7d0bec4d8d3626047
Author: Matthew Wilcox <matthew@wil.cx>
Date:   Tue Oct 25 22:16:02 2005 -0600

    [SCSI] ncr53c8xx: Cleanup namespace collision with ktimers
    
    Replace the mcr53c8xx roll your own ktime_... macros with the correct
    time_after() et al.
    
    Signed-off-by: Matthew Wilcox <matthew@wil.cx>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit cb4ab974ae0bff3f49086090a1a50373c5edc8f4
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 27 11:08:31 2005 +1000

    powerpc: Remove common stuff from setup_64.c
    
    This should have been in commit 03501dab035ab7da5e1373f5e130cfd6346d3f21
    but got missed by accident.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 91190758d410a5d33c6051ba9ca95baa430256bb
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Wed Oct 26 12:17:46 2005 -0400

    [libata] ata_timing fix

commit b6a4ce526a87bd8a99a396ac993240d6d3239852
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 22:54:17 2005 +1000

    powerpc: 32-bit powermac needs the mpc106 code
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bd561c79dce9036c9efb17420b6cf8763c8c9de3
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 21:55:33 2005 +1000

    powerpc: Fix incorrect timer register addresses in mpic.c
    
    We were computing the wrong address for the MPIC timer registers,
    so when we went to initialize them we would have been hitting some
    unrelated ioremap... oops.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fa39dc437a41733adaba241fd9036760283a516a
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 21:54:21 2005 +1000

    powerpc32: Limit memory to lowmem if !CONFIG_HIGHMEM.
    
    This trims off the extra unusable memory from the lmb structure,
    so we don't try to use it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b41fc4f82f6a73b8b2e8f44bd7ef075797d2dacb
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 21:53:19 2005 +1000

    power: Update the multiple inclusion protection symbol on machdep.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c49888203d7a316cb947bb8a1cf2ae191f28bcd3
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 21:52:53 2005 +1000

    powerpc: Fixes to get the Longtrail CHRP a bit further
    
    Talk about buggy firmware...  the OF on the Longtrail returns 0
    from the claim client service rather than -1 when the claim fails.
    It also has no device_type on the /memory node and blows up if
    the output buffer for package-to-path is too big.
    
    This also fixes a bug with calling alloc_up with align == 0, where
    we did _ALIGN_UP(alloc_bottom, 0) which will end up as 0.
    
    Lastly, we now check the return value (in r3) from calling the
    prom, and return -1 from call_prom if we get a negative value back.
    That is supposed to indicate that the requested client service
    doesn't exist.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bbd0abda9cc689a54df509aae00000bbb2a1a7d1
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 21:45:56 2005 +1000

    powerpc: Merge 32-bit CHRP support.
    
    SMP still needs more work but UP gets as far as starting userspace
    at least.  This uses the 64-bit-style code for spinning up the cpus.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 303d72a0006c65bb8d16199c75a26338ce723811
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 17:22:33 2005 +1000

    powerpc: Don't limit pmac_get_rtc_time to return only positive values
    
    If the machine's clock is set to a bogus value, this check resulted
    in userland waiting effectively forever for the RTC value to change,
    so remove the check.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6d0124fc06be40deafca043c73a8203c78bbfe45
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 17:19:06 2005 +1000

    powerpc: Fix interrupt-tree parsing
    
    The interrupt-tree parsing code wasn't offsetting interrupt numbers
    by 16 on 32-bit platforms with an i8259 interrupt controller, and
    it was confused about the encoding of interrupt sense and level
    (which is different for i8259 and openpic interrupt controllers,
    just to make things interesting).
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 830825d6c37a28061c0b6ca538a6411001cf3b2a
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 17:16:38 2005 +1000

    powerpc: Pull out MPC106 (grackle) initialization code into its own file
    
    This is so that the 32-bit CHRP code can use it.  The MPC106
    initialization code is now in arch/powerpc/sysdev/grackle.c and
    is controlled by CONFIG_PPC_MPC106.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 03501dab035ab7da5e1373f5e130cfd6346d3f21
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 17:11:18 2005 +1000

    powerpc: Pull common bits of setup_{32,64}.c into setup-common.c
    
    This creates a new arch/powerpc/kernel/setup-common.c with various
    bits that setup_32.c and setup_64.c had in common - functions like
    machine_shutdown/restart/power_off, show_cpuinfo, set_preferred_console
    etc.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 033ef338b6e007dc081c6282a4f2a9dd761f8cd2
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 17:05:24 2005 +1000

    powerpc: Merge rtas.c into arch/powerpc/kernel
    
    This splits arch/ppc64/kernel/rtas.c into arch/powerpc/kernel/rtas.c,
    which contains generic RTAS functions useful on any CHRP platform,
    and arch/powerpc/platforms/pseries/rtas-fw.[ch], which contain
    some pSeries-specific firmware flashing bits.  The parts of rtas.c
    that are to do with pSeries-specific error logging are protected
    by a new CONFIG_RTAS_ERROR_LOGGING symbol.  The inclusion of rtas.o
    is controlled by the CONFIG_PPC_RTAS symbol, and the relevant
    platforms select that.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f9bd170a87948a9e077149b70fb192c563770fdf
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 16:47:42 2005 +1000

    powerpc: Merge i8259.c into arch/powerpc/sysdev
    
    This changes the parameters for i8259_init so that it takes two
    parameters: a physical address for generating an interrupt
    acknowledge cycle, and an interrupt number offset.  i8259_init
    now sets the irq_desc[] for its interrupts; all the callers
    were doing this, and that code is gone now.  This also defines
    a CONFIG_PPC_I8259 symbol to select i8259.o for inclusion, and
    makes the platforms that need it select that symbol.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 25635c71e44111a6bd48f342e144e2fc02d0a314
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 26 16:36:55 2005 +1000

    ppc: Use the indirect_pci.c from arch/powerpc/sysdev
    
    This defines a CONFIG_INDIRECT_PCI symbol to control whether it
    gets used or not, and fixes the Kconfig to select that symbol for
    platforms that need it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d9953105ce000abcfa988d0c160b2662186f5879
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Oct 24 15:07:30 2005 +1000

    [PATCH] powerpc: Move ras.c into arch/powerpc/platforms/pseries
    
    ras.o is only built for CONFIG_PPC_PSERIES, so move it into
    arch/powerpc/platforms/pseries. Update Makefiles to suit.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 21f35f28229ad1b017a0ea6cd17c10d6b9ec255f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Oct 24 15:07:29 2005 +1000

    [PATCH] powerpc: Move firmware.h into include/asm-powerpc
    
    Move firmware.h into include/asm-powerpc.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8c71632f7a13357b7dc5636fca68317f72d3043e
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Oct 24 15:07:27 2005 +1000

    [PATCH] powerpc: Remove trailing \n" in HMT macros
    
    GCC 3.3.3 barfs on the trailing \n" in the HMT macros.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a6f3546ecd00a1566cee6e0d992f4c33c2d28287
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Mon Oct 24 15:07:26 2005 +1000

    [PATCH] powerpc: Remove duplicate definition of set_tb()
    
    Somewhere along the line we got two definitions of set_tb(). They look to
    be identical although they're not textually identical. So remove the #ifdef
    CONFIG_PPC64 version, leaving the common version in time.h.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6d7f58b04d824843f7539a132e1ad8220bbe589a
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Oct 25 23:57:33 2005 -0500

    [PATCH] powerpc: Some minor cleanups to setup_32.c
    
    * Removed of_show_percpuinfo and just report CPU frequency in generic
      show_cpuinfo code.
    * Killed OCP and PPC_SYS related code which doesn't belong in the
      merge tree
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0fd6f717948083d480f38e97f62cc116faf0e534
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Oct 25 23:02:59 2005 -0500

    [PATCH] powerpc: Add support for Book-E timer config to generic_calibrate_decr
    
    We need to initialize some control SPRS for timers on Book-E before
    we start taking decrementer interrupts.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ab590ccb428f874bb8f9cec1265cc1f9cb38b601
Author: Becky Bruce <bgill@freescale.com>
Date:   Mon Oct 24 14:50:46 2005 -0500

    [PATCH] ppc: Fix m82xx_pci build
    
    A recent patch updated the name of pci_assign_all_busses to
    pci_assign_all_buses.  This instance of its use wasn't corrected
    by the original patch to use the new name.
    
    Builds cleanly on ads8272.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bfbac4973687ae32df528f2811483f92b943f251
Author: Becky Bruce <bgill@freescale.com>
Date:   Fri Oct 21 16:16:58 2005 -0500

    [PATCH] powerpc: Fix types.h
    
    Powerpc: Fix types.h
    
    I noticed that Paul had already pulled the version of types.h that
    is missing the config.h include into the merge tree - this patch adds
    it back in.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d95bbcb3a344b3eb84b45d162c0a20348f0af37f
Author: Kumar Gala <galak@freescale.com>
Date:   Thu Oct 20 11:44:46 2005 -0500

    [PATCH] powerpc: merge include/asm-ppc*/checksum.h into include/asm-powerpc/checksum.h
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 60dda2565bbf31bbe662fd143a41c861b7a190cf
Author: Kumar Gala <galak@freescale.com>
Date:   Thu Oct 20 11:44:03 2005 -0500

    [PATCH] powerpc: some prom.c cleanups
    
    On !CONFIG_PPC_MULTIPLATFORM _machine is defined as 0.  This is ok, but
    we can't assign a value to _machine then.
    
    We may not have CONFIG_PCI available, so only build in support for
    find_parent_pci_resource(), request_OF_resource(), release_OF_resource()
    if PCI is enabled.  This is probably not the long term fix but works out
    for now.
    
    Make reg_property64 contain 64-bit elements on a 32-bit machine.
    
    Mark the deprecated prom.c functions as __deprecated.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d2e615125762459fd2bb9f0c91881509a0b9c31b
Author: Kumar Gala <galak@freescale.com>
Date:   Thu Oct 20 11:43:33 2005 -0500

    [PATCH] powerpc: Make sure we have an RTC before trying to adjust it
    
    Its valid for ppc_md.set_rtc_time to be NULL.  We need to check
    that its non-NULL before trying to update the RTC.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ccd7bc2f67fdfa9c47ceae64f1117d1fb6cb8737
Merge: 6f0ef4f... 6693e74...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 26 01:08:05 2005 -0400

    Merge branch 'master'

commit 1f57389a38dc1e8be167ec601f39f78f0bed3a96
Merge: 077783f... 6693e74...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 26 01:06:45 2005 -0400

    Merge branch 'master'

commit 077783f87708b24054452e5c07685ead2c28b1eb
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Mon Oct 24 10:27:46 2005 -0500

    [PATCH] ieee80211 build fix
    
    James Ketrenos wrote:
    > [3/4] Use the tx_headroom and reserve requested space.
    
    This patch introduced a compile problem; patch below corrects this.
    
    Fixed compilation error due to not passing tx_headroom in
    ieee80211_tx_frame.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ac9c18974f7d08cdedfb1e9599faa8c851c7cef9
Author: Ayaz Abdulla <aabdulla@nvidia.com>
Date:   Wed Oct 26 00:51:24 2005 -0400

    [netdrvr forcedeth] scatter gather and segmentation offload support
    
    also:
    - eliminate use of pointless get_nvpriv() wrapper,
      and use netdev_priv() directly.
    - use NETDEV_TX_xxx return codes

commit dcab5e1eeccf5e226c771ecc013631cde157435f
Author: David Engel <gigem@comcast.net>
Date:   Fri Oct 21 22:09:16 2005 -0500

    [IPV4]: Fix setting broadcast for SIOCSIFNETMASK
    
    Fix setting of the broadcast address when the netmask is set via
    SIOCSIFNETMASK in Linux 2.6.  The code wanted the old value of
    ifa->ifa_mask but used it after it had already been overwritten with
    the new value.
    
    Signed-off-by: David Engel <gigem@comcast.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 95df1c04ab3f7ca617774930df62c0893a188c2c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 18 21:39:33 2005 +0100

    [AX.25]: Use constant instead of magic number
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit c83c24861882758b9731e8550225cd1e52a4cd1c
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Tue Oct 18 22:07:41 2005 -0700

    [SK_BUFF] kernel-doc: fix skbuff warnings
    
    Add kernel-doc to skbuff.h, skbuff.c to eliminate kernel-doc warnings.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 0d0d2bba97cb091218ea0bcb3d8debcc7bf48397
Author: Jayachandran C <jchandra@digeo.com>
Date:   Thu Oct 13 11:43:02 2005 -0700

    [IPV4]: Remove dead code from ip_output.c
    
    skb_prev is assigned from skb, which cannot be NULL. This patch removes the
    unnecessary NULL check.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit ea7ce406490cb248f44f510f7c0bcc357184640a
Author: Jayachandran C <jchandra@digeo.com>
Date:   Thu Oct 13 11:43:05 2005 -0700

    [NETLINK]: Remove dead code in af_netlink.c
    
    Remove the variable nlk & call to nlk_sk as it does not have any side effect.
    
    Signed-off-by: Jayachandran C. <c.jayachandran@gmail.com>
    Acked-by: James Morris <jmorris@namei.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 80b30c1023dbd795faf948dee0cfb3b270b56d47
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Oct 15 10:58:30 2005 +1000

    [IPSEC]: Kill obsolete get_mss function
    
    Now that we've switched over to storing MTUs in the xfrm_dst entries,
    we no longer need the dst's get_mss methods.  This patch gets rid of
    them.
    
    It also documents the fact that our MTU calculation is not optimal
    for ESP.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 1371e37da299d4df6267ad0ddf010435782c28e9
Author: Herbert Xu <herbert@gondor.apana.org.au>
Date:   Sat Oct 15 09:42:39 2005 +1000

    [IPV4]: Kill redundant rcu_dereference on fa_info
    
    This patch kills a redundant rcu_dereference on fa->fa_info in fib_trie.c.
    As this dereference directly follows a list_for_each_entry_rcu line, we
    have already taken a read barrier with respect to getting an entry from
    the list.
    
    This read barrier guarantees that all values read out of fa are valid.
    In particular, the contents of structure pointed to by fa->fa_info is
    initialised before fa->fa_info is actually set (see fn_trie_insert);
    the setting of fa->fa_info itself is further separated with a write
    barrier from the insertion of fa into the list.
    
    Therefore by taking a read barrier after obtaining fa from the list
    (which is given by list_for_each_entry_rcu), we can be sure that
    fa->fa_info contains a valid pointer, as well as the fact that the
    data pointed to by fa->fa_info is itself valid.
    
    Signed-off-by: Herbert Xu <herbert@gondor.apana.org.au>
    Acked-by: Paul E. McKenney <paulmck@us.ibm.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit eed75f191d8318a2b144da8aae9774e1cfcae492
Author: Harald Welte <laforge@netfilter.org>
Date:   Sun Oct 16 14:22:59 2005 +0200

    [NETFILTER] ip_conntrack: Make "hashsize" conntrack parameter writable
    
    It's fairly simple to resize the hash table, but currently you need to
    remove and reinsert the module.  That's bad (we lose connection
    state).  Harald has even offered to write a daemon which sets this
    based on load.
    
    Signed-off-by: Rusty Russell <rusty@rustcorp.com.au>
    Signed-off-by: Harald Welte <laforge@netfilter.org>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit d50a6b56f0f239cf061630c85add121dc3555339
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Oct 14 15:42:33 2005 -0700

    [PKTGEN]: proc interface revision
    
    The code to handle the /proc interface can be cleaned up in several places:
    * use seq_file for read
    * don't need to remember all the filenames separately
    * use for_online_cpu's
    * don't vmalloc a buffer for small command from user.
    
    Committer note:
    This patch clashed with John Hawkes's "[NET]: Wider use of for_each_*cpu()",
    so I fixed it up manually.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Robert Olsson <robert.olsson@its.uu.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit b4099fab75d5e3eae8d207c0d7159e2f3348686e
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Oct 14 15:32:22 2005 -0700

    [PKTGEN]: Spelling and white space
    
    Fix some cosmetic issues. Indentation, spelling errors, and some whitespace.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Robert Olsson <robert.olsson@its.uu.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 2845b63b504b051a9cb4d78bed8b3594451a1f6f
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Oct 14 15:29:48 2005 -0700

    [PKTGEN]: Use kzalloc
    
    These are cleanup patches for pktgen that can go in 2.6.15
    Can use kzalloc in a couple of places.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Robert Olsson <robert.olsson@its.uu.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit b7c8921bf1a8a9c1907b1eeb029d3f167be226f3
Author: Stephen Hemminger <shemminger@osdl.org>
Date:   Fri Oct 14 15:26:34 2005 -0700

    [PKTGEN]: Sleeping function called under lock
    
    pktgen is calling kmalloc GFP_KERNEL and vmalloc with lock held.
    The simplest fix is to turn the lock into a semaphore, since the
    thread lock is only used for admin control from user context.
    
    Signed-off-by: Stephen Hemminger <shemminger@osdl.org>
    Signed-off-by: Robert Olsson <robert.olsson@its.uu.se>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 670c02c2bfd2c8a305a90f5285409a7b0a8fd630
Author: John Hawkes <hawkes@sgi.com>
Date:   Thu Oct 13 09:30:31 2005 -0700

    [NET]: Wider use of for_each_*cpu()
    
    In 'net' change the explicit use of for-loops and NR_CPUS into the
    general for_each_cpu() or for_each_online_cpu() constructs, as
    appropriate.  This widens the scope of potential future optimizations
    of the general constructs, as well as takes advantage of the existing
    optimizations of first_cpu() and next_cpu(), which is advantageous
    when the true CPU count is much smaller than NR_CPUS.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit 900e0143a575406146ac531fcb91790f166ce52f
Author: Patrick Caulfield <patrick@tykepenguin.com>
Date:   Tue Oct 11 08:22:33 2005 +0100

    [DECNET]: Remove some redundant ifdeffed code
    
    Signed-off-by: Patrick Caulfield <patrick@tykepenguin.com>
    Signed-off-by: Steven Whitehouse <steve@chygwyn.com>
    Signed-off-by: David S. Miller <davem@davemloft.net>
    Signed-off-by: Arnaldo Carvalho de Melo <acme@mandriva.com>

commit e7f98dbbb89b68b23a5115708412a820a713fbf1
Author: Russ Anderson <rja@sgi.com>
Date:   Tue Oct 25 17:34:19 2005 -0500

    [IA64-SGI] fix bte_copy() calling get_nasid() while preemptible
    
    bte_copy() calls calls get_nasid(), which will get flagged if
    preemption if enabled.  raw_smp_processor_id() is used instead.
    It is OK if we migrate off node.
    
    Signed-off-by: Russ Anderson <rja@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 279290294662d4a35d209fb7d7c46523cfa3d63d
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Oct 25 14:11:53 2005 -0500

    [IA64-SGI] cleanup the way XPC locates the reserved page
    
    Eliminate the passing in of a scratch buffer used for locating the
    reserved page setup for XPC.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 4b38fcd4858204cb3667eb7b3aca48ffb1002f05
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Oct 25 14:09:51 2005 -0500

    [IA64-SGI] XPC changes to support more than 2k nasids
    
    XPC needs to be changed to support up to 16k nasids on an SGI Altix system.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit e54af724c1ae3530c95135157776c9be65cdb747
Author: Dean Nelson <dcn@sgi.com>
Date:   Tue Oct 25 14:07:43 2005 -0500

    [IA64-SGI] fixes for XPC disengage and open/close protocol
    
    This patch addresses a few issues with the open/close protocol that
    were revealed by the newly added disengage functionality combined
    with more extensive testing.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 7cc656efb560cda66b5ed48444cad7556ea4fe99
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 25 15:13:54 2005 -0700

    [IB] simplify mad_rmpp.c:alloc_response_msg()
    
    Change alloc_response_msg() in mad_rmpp.c to return the struct
    it allocates directly (or an error code a la ERR_PTR), rather than
    returning a status and passing the struct back in a pointer param.
    This simplifies the code and gets rid of warnings like
    
        drivers/infiniband/core/mad_rmpp.c: In function nack_recv:
        drivers/infiniband/core/mad_rmpp.c:192: warning: msg may be used uninitialized in this function
    
    with newer versions of gcc.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ddf6d0a00cbb4ad6d4fb4200cc911bb9389174c1
Author: John Hawkes <hawkes@sgi.com>
Date:   Thu Oct 13 12:01:18 2005 -0700

    [IA64] another place to use for_each_cpu_mask() in arch/ia64
    
    In arch/ia64 change the explicit use of a for-loop using NR_CPUS into the
    general for_each_online_cpu() construct.  This widens the scope of potential
    future optimizations of the general constructs, as well as takes advantage
    of the existing optimizations of first_cpu() and next_cpu(), which is
    advantageous when the true CPU count is much smaller than NR_CPUS.
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit dc565b525d4b7091a3abb6616d210c8a896a11d7
Author: John Hawkes <hawkes@sgi.com>
Date:   Mon Oct 10 08:43:26 2005 -0700

    [IA64] wider use of for_each_cpu_mask() in arch/ia64
    
    In arch/ia64 change the explicit use of for-loops and NR_CPUS into the
    general for_each_cpu() or for_each_online_cpu() constructs, as
    appropriate.  This widens the scope of potential future optimizations
    of the general constructs, as well as takes advantage of the existing
    optimizations of first_cpu() and next_cpu().
    
    Signed-off-by: John Hawkes <hawkes@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9c184a073bfd650cc791956d6ca79725bb682716
Author: H. J. Lu <hjl@lucon.org>
Date:   Fri Oct 7 11:01:19 2005 -0700

    [IA64] Fix 2.6 kernel for the new ia64 assembler
    
    The new ia64 assembler uses slot 1 for the offset of a long (2-slot)
    instruction and the old assembler uses slot 2. The 2.6 kernel assumes
    slot 2 and won't boot when the new assembler is used:
    
    http://sources.redhat.com/bugzilla/show_bug.cgi?id=1433
    
    This patch will work with either slot 1 or 2.
    
    Patch provided by H.J. Lu
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ce6e71ad4866dad366be135b024b776c00ec9ec8
Author: Suresh Siddha <suresh.b.siddha@intel.com>
Date:   Tue Oct 4 16:35:31 2005 -0700

    [IA64] fix siblings field value in /proc/cpuinfo
    
    Fix the "siblings" field value in /proc/cpuinfo so that it now shows the
    number of siblings as seen by OS, instead of what is available from
    hardware perspective.
    
    Signed-off-by: Suresh Siddha <suresh.b.siddha@intel.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b6a7e1ecef66b9ecd1eed31f46ba0248d6d7e957
Author: Peter Chubb <peterc@gelato.unsw.edu.au>
Date:   Thu Oct 20 12:31:19 2005 +1000

    [IA64] Allow simulator to use bigger disks
    
    The simscsi code at present overflows an int if it's given a large
    disk image.  The attached patch increases the possible size to 128G.
    While it's unlikely that anyone will want to use SKI with such a
    large drive, the same framework is currently being used for various
    virtualisation experiments.
    
    Signed-off-by: Peter Chubb <peterc@gelato.unsw.edu.au>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 547e3090738b04be650770b64265835dbb6ddf92
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 25 10:57:32 2005 -0700

    [IB] mthca: correct modify QP attribute masks for UC
    
    The UC transport does not support RDMA reads or atomic operations, so
    we shouldn't require or even allow the consumer to set attributes
    relating to these operations for UC QPs.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 34816ad98efe4d47ffd858a0345321f9d85d9420
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Tue Oct 25 10:51:39 2005 -0700

    [IB] Fix MAD layer DMA mappings to avoid touching data buffer once mapped
    
    The MAD layer was violating the DMA API by touching data buffers used
    for sends after the DMA mapping was done.  This causes problems on
    non-cache-coherent architectures, because the device doing DMA won't
    see updates to the payload buffers that exist only in the CPU cache.
    
    Fix this by having all MAD consumers use ib_create_send_mad() to
    allocate their send buffers, and moving the DMA mapping into the MAD
    layer so it can be done just before calling send (and after any
    modifications of the send buffer by the MAD layer).
    
    Tested on a non-cache-coherent PowerPC 440SPe system.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6f0ef4fa57b9ba27d7b1c330bad041f1665501fe
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Tue Oct 25 01:44:30 2005 -0400

    [PATCH] libata kernel-doc fixes
    
    Correct some function names in kernel-doc.
    Add some kernel-doc descriptions.
    Fix some typos.
    Remove a few blank lines.
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ea248bcaadd5bafe4217357e1e511ac55639bcf3
Author: Dave Jones <davej@redhat.com>
Date:   Mon Oct 24 20:20:11 2005 -0700

    [AGPGART] Set .owner field of struct pci_driver.
    
    From: Laurent Riffard <laurent.riffard@free.fr>
    
    This updates .owner field of struct pci_driver.
    
    This allows SYSFS to create the symlink from the driver to the module which
    provides it.
    
    $ tree /sys/bus/pci/drivers/agpgart-via/
    /sys/bus/pci/drivers/agpgart-via/
    |-- 0000:00:00.0 -> ../../../../devices/pci0000:00/0000:00:00.0
    |-- bind
    |-- module -> ../../../../module/via_agp
    |-- new_id
    `-- unbind
    
    Signed-off-by: Laurent Riffard <laurent.riffard@free.fr>
    Signed-off-by: Dave Jones <davej@redhat.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>

commit ae7971a7706384ca373fb7e212fe195698e6c5a1
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Mon Oct 24 12:33:56 2005 -0700

    [IB] CM: Fix initialization of QP attributes for UC QPs.
    
    Fix cm_init_qp_init_attr(), cm_init_qp_rtr_attr() and cm_init_qp_rts_attr()
    so that they correctly handle the differences between UC and RC QPs.  This
    fixes problems with setting up UC QPs through the CM.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit ec329a135974f1c400214dab02f09584d4beeba9
Merge: bbf2078... 5d7edb3...
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Oct 24 10:55:29 2005 -0700

    Manual merge of for-linus to upstream (fix conflicts in drivers/infiniband/core/ucm.c)

commit 5d7edb3c1a01310725d86f0d83fb3be45685dc82
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Oct 24 10:53:25 2005 -0700

    [IB] Add idr_destroy() calls on module unload
    
    Add idr_destroy() calls to the module_exit() functions of the four IB
    driver modules that use idrs, so we don't leak idr_layer_cache objects
    when these modules are unloaded.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit a4e62fa031a9681477207b08391c3a5c5c831ce7
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Oct 24 18:45:11 2005 +1000

    drm: remove unused components of drm structures
    
    These haven't been used in quite a long time, takes 1K buffer out of structures.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 67e1a014fbc0e472ccc55766a63640a767ede3bf
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Mon Oct 24 18:41:39 2005 +1000

    drm: fix warning on 64-bit platforms..
    
    This looks ugly, but it is the only thing that makes sense that doesn't
    change the API.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 47c564e10f219f867bdb49225972749a43485a47
Merge: c9c2009... ba9e358...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 24 09:19:36 2005 +0100

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit c9c2009a4e915db17f32701d1f0535b400e61b58
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 24 09:00:51 2005 +0100

    NTFS: Document extended attribute ($EA) NEED_EA flag.  (Based on libntfs
          patch by Yura Pakhuchiy.)
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit dda65b941f992ab10fda3d9f09539c68206b7114
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 24 08:57:59 2005 +0100

    NTFS: Fix compilation warnings with gcc-4.0.2 on SUSE 10.0.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit d04bd1fb60252f30f4f41a56613ade48df130588
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 24 08:41:24 2005 +0100

    NTFS: Use %z for size_t to fix compilation warnings.  (Andrew Morton)
    
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 340601043df518d6f4f82da285c60c785ac8a716
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 17:40:23 2005 +1000

    powerpc: Add a shutdown member to vio_driver
    
    Add a shutdown member to struct vio_driver. We also need vio_bus_shutdown()
    which converts from struct device to struct vio_dev and knows how to extract
    the struct vio_driver.
    
    Original patch adjusted for different location of vio.c.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 915124d8114ec8c3825b10a39151bf9e851593bb
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 15:12:22 2005 +1000

    powerpc: set the driver.owner field for all vio drivers
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7c7eb28481a038c3859a0efcf38ac5b642aca212
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 15:21:52 2005 +1000

    powerpc: iseries: Fix a bogus comment
    
    A comment in lpevents.c refers to code that's actually in HvCallEvent.h.
    The code in HvCallEvent.h is pretty obvious, so just remove the comment
    altogether.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Acked-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 6fdf5392caa4c3cba65add0a4beec9f5eb96b723
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 14:53:21 2005 +1000

    powerpc: don't duplicate name between vio_driver and device_driver
    
    Just set the name field directly in the device_driver structure
    contained in the vio_driver struct.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f38d87f566195d78bd70538d5c774758f2d926d3
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 14:32:35 2005 +1000

    powerpc: Move include/asm-ppc64/vio.h to include/asm-powerpc/vio.h
    
    Move include/asm-ppc64/vio.h to include/asm-powerpc/vio.h, that's it.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 580460194e0e647d95cb5a2b66fdd7497b197f92
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 24 14:22:37 2005 +1000

    powerpc: Merge arch/ppc64/kernel/vio.c into arch/powerpc/kernel/vio.c
    
    Merge arch/ppc64/kernel/vio.c into arch/powerpc/kernel/vio.c, update
    the Makefiles to make it work, and make ARCH=ppc64 still work.
    
    Michael's version put vio.c in arch/powerpc/sysedv but after consolting
    Paulus, this one puts it in arch/powerpc/kernel.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit e7d311da9cba1e113f82176130d3af1be77dc3ee
Merge: c8e0ca6... ba9e358...
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sun Oct 23 17:56:59 2005 -0700

    Merge master.kernel.org:/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 85e568ea5843d455a0bcb682ad2c71abb50bdb80
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Oct 23 17:26:32 2005 +1000

    powerpc: Make coff boot wrapper load the kernel at 8M
    
    Previously it claimed 7MB starting at the 9M point and loaded the
    kernel there.  That meant that prom_init put the flattened device
    tree above 16M.  On the 601 that caused the early device tree scan
    to fail, since only 16MB are mapped with BATs on the 601.  Moving
    this down to 8MB allows prom_init to put the flattened device tree
    between 15M and 16M, so it works on the 601.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a575b807172ca7d8850e6e979c8e83d4258e8c43
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Oct 23 17:23:21 2005 +1000

    powerpc: Run on old powermacs.
    
    Old powermacs have a number of differences from current machines:
    - there is no interrupt tree in the device tree, just interrupt
      or AAPL,interrupt properties
    - the chosen node in the device tree is called /chosen@0
    - the OF claim method doesn't map the memory, so we have to do
      an explicit map call as well
    - there is no /chosen/cpu property on SMP machines
    - the NVRAM isn't structured as a set of partitions.
    
    This adapts the merged powermac support code to cope with these
    issues.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 96c44507601d64f29b8ccc867637292e326c7019
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Oct 23 17:14:56 2005 +1000

    powerpc: Fix time code for 601 processors
    
    The 601 doesn't have the timebase register; instead it has an RTCL
    register that counts nanoseconds and wraps at 1000000000, and an
    RTCU register that counts seconds.  This makes the necessary changes
    for the merged time code to use the RTCL/U registers when the kernel
    is running on a 601.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 057ace5e79da9ebf2aa82833cfea825533ac06fb
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 22 14:27:05 2005 -0400

    libata: const-ification bombing run
    
    Enforce access rules where appropriate.
    
    If the compiler is smart enough, this may buy us an optimization or two
    as a side effect.

commit c8e0ca683dfea7242ff29814561dfe761945e5b3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Sat Oct 22 09:43:29 2005 -0700

    [IB] mthca: Always re-arm EQs in mthca_tavor_interrupt()
    
    We should always re-arm an event queue's interrupt in
    mthca_tavor_interrupt() if the corresponding bit is set in the event
    cause register (ECR), even if we didn't find any entries in the EQ.
    If we don't, then there's a window where we miss an EQ entry and then
    get stuck because we don't get another EQ event.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 985990137e81ca9fd6561cd0f7d1a9695ec57d5a
Merge: 8342894... 63172cb...
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 16:51:34 2005 +1000

    Merge changes from linux-2.6 by hand

commit 834289447542b7ec55c0847486616d4d53ddf891
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 16:06:27 2005 +1000

    ppc64: Use arch/powerpc/platforms/powermac for powermac build.
    
    This switches the ARCH=ppc64 build to use arch/powerpc/platforms/powermac
    instead of arch/ppc64/kernel/pmac*, and deletes the latter set of files.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35499c0195e46f479cf6ac16ad8d3f394b5fcc10
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 16:02:39 2005 +1000

    powerpc: Merge in 64-bit powermac support.
    
    This brings in a lot of changes from arch/ppc64/kernel/pmac_*.c to
    arch/powerpc/platforms/powermac/*.c and makes various minor tweaks
    elsewhere.  On the powermac we now initialize ppc_md by copying
    the whole pmac_md structure into it, which required some changes in
    the ordering of initializations of individual fields of it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b6ba92819dc1304a4e5a0bf06b297c657b58168a
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 15:57:55 2005 +1000

    powerpc: Make set_rtc_time() return error code from lower-level function
    
    Previously it ignored the return value from ppc_md.set_rtc_time,
    but in fact the functions that that can point to do return a
    useful error code, so return it from set_rtc_time().
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ef1a12817aebc313049d226f96eee86e4bcc94a3
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 15:55:58 2005 +1000

    ppc64: Simplify secondary CPU startup on powermacs
    
    ... for consistency with ppc32, and because this way is neater.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 529294d59fdc77bf15f00f2308bbeb73e03e7042
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 15:36:52 2005 +1000

    ppc64: Rearrange btext initialization for consistency with ppc32
    
    Moved init_boot_display from arch/ppc64/kernel/pmac_setup.c to
    arch/ppc64/kernel/btext.c and declared it in asm-ppc64/btext.h.
    Call it from init_early rather than pmac_init_early.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7bbaa75452c77cbaa016b987765c5d6c8b744587
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 22 01:33:18 2005 -0400

    drivers/block/sx8: kill unused variable

commit 5fb4dc9bf5e3af1ae91be97108bc3b1233252ddf
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sat Oct 22 15:25:01 2005 +1000

    merge linus head to drm-mm branch

commit 23bfc1a339e98510f2ce25a2764a0cfe195faa9e
Merge: 312f572... 63172cb...
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sat Oct 22 15:24:35 2005 +1000

    merge linus head to drm-mm branch

commit f7abbc190b0edec34627d5348ba1d5fa5577da77
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 15:03:21 2005 +1000

    ppc64: Add a `primary' argument to pci_process_bridge_OF_ranges
    
    ... for consistency with ppc32 and to make the powermac merge easier.
    Also make it use just a single resource in the host bridge for multiple
    consecutive elements of the ranges property.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a5b518ed314bfd25ea5e433ce09f8b27080023db
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 14:55:23 2005 +1000

    ppc64/powerpc: Fix time initialization on SMP systems
    
    This moves smp_space_timers from arch/ppc64/kernel/smp.c to
    arch/powerpc/kernel/time.c and makes it initialize last_jiffy[]
    instead of paca[].next_jiffy_update_tb, since last_jiffy[] is
    now what the time code uses.  It also declares smp_space_timers
    in include/asm-powerpc/time.h and gets rid of an ifdef in
    div128_by_32.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e2b5530698cbe8148577b24097eaefcd835ac9ca
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 14:46:33 2005 +1000

    ppc64: Fix delivery of RT signals to 32-bit processes.
    
    An error in merging led to 32-bit processes getting the wrong link
    register value on entry to RT signal handlers, and the wrong stack
    chain as well.  This fixes it.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5c8c56ebdfb290e4feaac406518903f58714d874
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 22 14:42:51 2005 +1000

    powerpc: Move agp_special_page export to where it is defined
    
    ... instead of exporting it in arch/*/kernel/ppc_ksyms.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit cf482935c6abe5245e481213c6e6df808c976f56
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 22 00:19:33 2005 -0400

    libata: turn on block layer clustering

commit 2d5a2ae52d8863275e2d26398bc010249ea709d1
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 22 00:14:31 2005 -0400

    drivers/block/sx8: several minor changes
    
    * Newer hardware doesn't corrupt data when the queue depth
      is greater than one.  Rather than force the user to recompile
      with a greater queue depth, make it a module parameter.
    * update copyright date
    * add MODULE_VERSION()
    * trim trailing whitespace
    * move CARM_SG_BOUNDARY to a separate enum, since its unsigned long
    * bump to version 1.0

commit 6958ae318bb1af5e0b77968384700fb184fb8893
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 21 23:11:27 2005 -0400

    [PARISC] Update MAINTAINERS and CREDITS
    
    Add Kyle McMartin and Thibaut Varene as maintainers for ALSA ad1889
    driver.
    
    Add myself to CREDITS.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 27678201333e1b9a9a7fc8e685d858132956113e
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 21 23:11:03 2005 -0400

    [PARISC] defconfig updates
    
    defconfig updates from Kyle McMartin, Grant Grundler,
    and Matthew Wilcox.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 6ab0f5cd364476fe5cb329fd46ee41bea6d4c69c
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:58:51 2005 -0400

    [PARISC] Update parisc specific input code from parisc tree
    
    Update drivers to new input layer changes.
    
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Reorder code in gscps2_interrupt() and only enable ports when opened.
    This fixes issues with hangs booting an SMP kernel on my C360.
    Previously serio_interrupt() could be called before the lock in
    struct serio was initialised.
    
    Signed-off-by: Richard Hirst <rhirst@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit ae8c75c1c47029a64976690c37336a2be6b49778
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:58:03 2005 -0400

    [PARISC] Fix mux.c driver
    
    Missing spin_lock_init() made the Mux driver hang on SMP systems.
    
    Fix up users of ->hpa to use ->hpa.start instead
    
    Remove warning in 8250_gsc.c by eliminating serial_line_nr
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 27ee073cd2f72aa794299ef1ead31072f5176533
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:57:43 2005 -0400

    [PARISC] Update scsi drivers from parisc tree
    
    Fix lasi700 for James's ioread*be() changes
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit abff75439fd6e9b5774e5984d4c3b3b59cb3038b
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:57:13 2005 -0400

    [PARISC] Avoid use of floating point in the kernel
    
    don't use *printf %f in the kernel, mm'kay?
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit e55fb3e787ccfbbdb3198ec859d5689e5413c7bd
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:56:53 2005 -0400

    [PARISC] Properly specify section alignment for real2.S
    
    .align applies to the current section - ie section directives come first.
    Thanks to Joel Soete for catching this.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 61520e1f8f5ec3a78510a3254947324711944b98
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:56:35 2005 -0400

    [PARISC] Specify level to fix binutils level promotion bug
    
    fixup.S needs to specify .level and use correct LDREG macro.
    New binutils has a bug where it doesn't "promote" from PA1.0 to PA1.1
    correctly when using ",s" completer.
    
    remove use of __LP64__ in assembly.h and add some white space.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit e635c96ed6c972e1b3cb0c0fc3681c1204697287
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:56:14 2005 -0400

    [PARISC] Explicitly specify sr4 when flushing kernel space
    
    Specify sr4 when flushing kernel space (we could equally well use sr5-7,
    but must not use sr0).
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 9b3b331d0322b60de1bde20528bf974f62804ffa
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:55:51 2005 -0400

    [PARISC] Properly specify index field to I/D cache flush ops
    
    replace use of "0" with "%r0" since PA 1.1 I/D flush ops only take a
    general register and not an immediate value for the index field.
    This just forces the code to always be PA 1.1 "clean".
    
    From: Joel Soete <soete.joel@tiscali.be>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 37318a3cb1028933417533084ddbf9d84be06878
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:55:34 2005 -0400

    [PARISC] Fix copy_user_page_asm to NOT access past end of page
    
    2.6.12-rc2-pa3 fix copy_user_page_asm to NOT access past end of page.
    
    My bad. /o\
    Lamont confirmed that instructions following a conditional
    branch are *alway* executed regardless if the branch is taken or not.
    Unless they are nullified (which was missing in this case).
    
    He also noted:
    Conditional branches nullify on forward taken branch, and on
    non-taken backward branch. Note that .+4 is a backwards branch.
    
    This makes alot more sense than the giberish in the PA20 arch book.
    
    Compiles and boots on both 64-bit (a500) and 32-bit (j6k).
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit c2709020adb442f7d25f0805af08a3b6cfedd7be
Author: Sven Schnelle <svens@gmx.de>
Date:   Fri Oct 21 22:55:15 2005 -0400

    [PARISC] Add NETPOLL support to lasi_82596
    
    add netpoll support
    Patch by Sven Schnelle <svens@gmx.de>
    
    Signed-off-by: Sven Schnelle <svens@gmx.de>
    Signed-off-by: Helge Deller <deller@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit dd0fd51dc1585941c2edccdb40e5f11ea3a64496
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Fri Oct 21 22:54:38 2005 -0400

    [PARISC] Remove the spurious do_softirq calls from entry.S
    
    remove the spurious do_softirq calls from entry.S
    
    With these in we were calling do_softirq twice; plus the calls in
    entry.S took no account of nesting.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 63af965d2bc8d8c5d4c5949b8d3dbdc3c7b7d97a
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:54:20 2005 -0400

    [PARISC] Define pgprot_noncached macro in pgtable.h
    
    drivers/infiniband depends on definition of pgprot_noncached() macro.
    Someone else will have to fix it's wrong.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit b4b45313e58bf25886072a4ab111fac553747802
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 21 22:54:00 2005 -0400

    [PARISC] Add other CRT_ID for newer cards to grfioctl.h
    
    Add IDs for some other STI graphics cards found on HP PA-RISC
    machines.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 05aa10de701409b893484d2901c8974b3382f8fe
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:53:43 2005 -0400

    [PARISC] Add ECANCELED to errno.h
    
    add ECANCELED - SuSv3 wants one L.  IB/SDP actually returns this error.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 618febd6784054eea928d712b7e564558a7cefd5
Author: James Bottomley <jejb@parisc-linux.org>
Date:   Fri Oct 21 22:53:26 2005 -0400

    [PARISC] Fix the alloc_slabmgmt panic
    
    Fix the alloc_slabmgmt panic
    
    Hopefully this should also fix a lot of other intermittent kernel bugs.
    
    The problem has been around since 2.6.9-rc2-pa6 when we allowed
    floating point registers to be used in kernel code.  The essence of
    the problem is that gcc prefers to use floating point for integer
    divides and multiples.  Further, it can rely on the values in the no
    clobber fp regs being correct across a function call.  Unfortunately,
    our task switch function only saves the integer no clobber registers,
    not the fp ones, so if gcc makes a function call to any function in
    the kernel which could sleep, the values it is relying on in any no
    clobber floating point register may be lost.  In the case of
    alloc_slabmgmt, the value of the page offset is being stored in %fr12
    across a call to kmem_getpages(), which sleeps if no pages are
    available.  Thus, the offset can be trashed and the slab code can end
    up with a completely bogus address leading to corruption.
    
    Kudos to Randolph who came up with the program to trip this problem at
    will and thus allowed it to be tracked and fixed.
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit b2450cc1b7ce07d73545ece32db50197d649e230
Author: Carlos O'Donell <carlos@parisc-linux.org>
Date:   Fri Oct 21 22:53:04 2005 -0400

    [PARISC] Implement 5 argument clone.
    
    * arch/parisc/kernel/process.c (sys_clone): Use 5 args, and process
      CLONE_PARENT_SETTID, CLONE_CHILD_SETTID, CLONE_CHILD_CLEARTID.
      (copy_thread): First cut at CLONE_SETTLS.
    
    Signed-off-by: Carlos O'Donell <carlos@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 8b631342dd9db9ca272e11814e041e4ee3d1a948
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:52:46 2005 -0400

    [PARISC] Update Kconfig for itimer selection
    
    2.6.14-rc2-pa1: enable 100/250/1000HZ itimer selection
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Mark floppy as broken.  Thanks Joel
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    make DISCONTIGMEM depend on 64BIT
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 5beb5f32c56b70f79117e13a1abd54824a78466c
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:52:00 2005 -0400

    [PARISC] Update minimum compiler version and CROSS_COMPILE for parisc64
    
    Prefix changed in debian, include "gnu" in the commandline.
    
    Signed-off-by: Carlos O'Donell <carlos@parisc-linux.org>
    
    Ensure the compiler version is new enough (>= 3.3)
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 675ec7a56a77da2dda27180c95ee82ae4879142a
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:51:40 2005 -0400

    [PARISC] Document history of PDC_NARROW as it is now obsolete
    
    Document history of PDC_NARROW a bit as it will still show
    up in an older kernel's .config file.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit c8e8b1937a788ec46ee11d84437311d4cb8be218
Author: Jesper Juhl <juhl-lkml@dif.dk>
Date:   Fri Oct 21 22:51:23 2005 -0400

    [PARISC] kfree cleanups to ioctl32.c
    
    2.6.12-rc2-pa2 kfree cleanups from Jesper Juhl
    
    Signed-off-by: Jesper Juhl <juhl-lkml@dif.dk>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit b8db800295fd31f8beb39fd1de63660aa7aef47b
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:50:48 2005 -0400

    [PARISC] Cleanup whitespace and handle proc_mkdir() failures in pci-dma.c
    
    1) cleanup whitespace and handle proc_mkdir() failures.
       From: Christophe Lucas <clucas@rotomalug.org>
    
    2) rename "dino" entry to "pcxl_dma"...also seems like it's in
       the wrong location.
    
    3) don't dump resource bitmap in /proc/pcxl_dma output
    
    4) fixup compiler warning
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 8054f03f6330f20e9d47e2f6c7b1d01ddf5adeef
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:50:33 2005 -0400

    [PARISC] More informative error message in pcibios_link_hba_resources
    
    Generate a more informative message when a resource does not have
    a parent.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 7c92e972da0dd5b6a9ddf01030aab7dec9912b1f
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:50:06 2005 -0400

    [PARISC] Update pdc console from parisc tree
    
    Get rid of some unnecessary includes
    Remove a layer of macro indirection around pdc_console_device
    Delete pdc_console_die() as it is unused
    Avoid double-printing on panic by clearing CON_PRINTBUFFER rather than
    setting con_start to be log_end
    Make con_start and log_end static again
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 40c72f20e89300dfaea28300ee17aa56d230d63f
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:49:47 2005 -0400

    [PARISC] Prevent signal loops if we have a problem setting up a frame
    
    2.6.13-rc6-pa2
    use force_sigsegv() if we have a problem setting up a frame. This is
    required to prevent SIGSEGV loops.
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit eba917273eb8579dd8ae36f6645518ca5579a2ab
Author: Thibaut Varene <varenet@parisc-linux.org>
Date:   Fri Oct 21 22:49:25 2005 -0400

    [PARISC] Add printing of fpregs state to stack dump
    
    We're using fp regs now in the kernel, so we want to print them
    on stack dump
    
    Signed-off-by: Thibaut VARENE <varenet@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 74d13f84a9905e02a025d952ced6abb2e064f1c1
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:49:05 2005 -0400

    [PARISC] Fix compile warning in pci.h
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit fa681a1800a58234afe4d876c1752c0751826d22
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:48:34 2005 -0400

    [PARISC] Disable use of fpregs in pa_memcpy
    
    Disable use of fpregs in pa_memcpy, and turn on the
    -mdisable-fpregs flag.
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 7efe1611b2db9025ffc52a686897ab91820caeb4
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 21 22:48:03 2005 -0400

    [PARISC] Initialize serial spinlocks in superio.c
    
    git commit 976ecd12b8144d066a23fe97c6fbfc1ac8470af7 changed our locking
    characteristics, and put the onus of spin_lock_init on superio.c.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 91313d60d8ad96fa79a833e55e8c13b56f893614
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:47:40 2005 -0400

    [PARISC] Add sync required after fdc to enforce insn ordering
    
    PA20 arch book (page 7-52 and 7-55) indicate a "sync" is required after
    the FDC "to enforce instruction ordering". And we want to make
    sure FIC is executed after FDC has retired.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 3aa0862ce7c120e035bc2aa25997fd000d964d6e
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:47:04 2005 -0400

    [PARISC] Minor iosapic.c cleanup
    
    minor cleanup: qualify constant with "UL"
    
    Acked-by: "Hmamouche, Youssef" <youssef@ece.utexas.edu>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 413059f28e9949d9ad2d04d1070c63169798176e
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:46:48 2005 -0400

    [PARISC] Replace uses of __LP64__ with CONFIG_64BIT
    
    2.6.12-rc4-pa3 s/__LP64__/CONFIG_64BIT/ and fixup config.h usage
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 3499495205a676d85fcc2f3c28e35ec9b43c47e3
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:46:18 2005 -0400

    [PARISC] Use work queue in LED/LCD driver instead of tasklet.
    
    2.6.12-rc1-pa6 use work queue in LED/LCD driver instead of tasklet.
    
    Main advantage is it allows use of msleep() in the led_LCD_driver to
    "atomically" perform two MMIO writes (CMD, then DATA).
    Lead to nice cleanup of the main led_work_func() and led_LCD_driver().
    Kudos to David for being persistent.
    
    From: David Pye <dmp@davidmpye.dyndns.org>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit ba1f188cae2f58e6bf3ecf4ea99a8dc4b0e2ea0e
Author: Jens Axboe <axboe@suse.de>
Date:   Fri Oct 21 22:45:57 2005 -0400

    [PARISC] Add new ioprio_{set,get} syscalls
    
    add syscall entries for ioprio_set/get as per Jens Axboe.
    
    Signed-off-by: Jens Axboe <axboe@suse.de>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit a366064c3ff46c985a3c7243468be197d29874dc
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:45:22 2005 -0400

    [PARISC] Update bitops from parisc tree
    
    Optimize ext2_find_next_zero_bit. Gives about 25% perf improvement with a
    rsync test with ext3.
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    fix ext3 performance - ext2_find_next_zero() was culprit.
    Kudos to jejb for pointing out the the possibility that ext2_test_bit
    and ext2_find_next_zero() may in fact not be enumerating bits in
    the bitmap because of endianess. Took sparc64 implementation and
    adapted it to our tree. I suspect the real problem is ffz() wants
    an unsigned long and was getting garbage in the top half of the
    unsigned int. Not confirmed but that's what I suspect.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Fix find_next_bit for 32-bit
    Make masking consistent for bitops
    
    From: Joel Soete <soete.joel@tiscali.be>
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Add back incorrectly removed ext2_find_first_zero_bit definition
    
    Signed-off-by: James Bottomley <jejb@parisc-linux.org>
    
    Fixup bitops.h to use volatile for *_bit() ops
    
    Based on this email thread:
           http://marc.theaimsgroup.com/?t=108826637900003
    
    In a nutshell:
            *_bit() want use of volatile.
            __*_bit() are "relaxed" and don't use spinlock or volatile.
    
    other minor changes:
    o replaces hweight64() macro with alias to generic_hweight64() (Joel Soete)
    o cleanup ext2* macros so (a) it's obvious what the XOR magic is about
      and (b) one version that works for both 32/64-bit.
    o replace 2 uses of CONFIG_64BIT with __LP64__. bitops.h used both.
      I think header files that might go to user space should use
      something userspace will know about (__LP64__).
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Move SHIFT_PER_LONG to standard location for BITS_PER_LONG (asm/types.h)
    and ditch the second definition of BITS_PER_LONG in bitops.h
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 2464212f68136527f6364d63c23a529e1fd7d168
Author: Stuart Brady <sdb@parisc-linux.org>
Date:   Fri Oct 21 22:44:14 2005 -0400

    [PARISC] Fix parisc_setup_cache_timing to choose a better flush threshold
    
    update comment about CAFL_STRIDE
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    
    Fixed a bug in parisc_setup_cache_timing() which caused it to calculate
    a poor value for parisc_cache_flush_threshold.
    
    Thanks to Joel Soete for spotting the bug.
    Thanks to James Bottomley for pointing out the clean way to fix this.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit f053725b8985d10c2cc4b837a80a381104c936a4
Author: Kyle McMartin <kyle@parisc-linux.org>
Date:   Fri Oct 21 22:43:15 2005 -0400

    [PARISC] Add ability for prctl to change unaligned trap behaviour
    
    Add support for changing unaligned trap behaviour on a
    per-thread basis.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 99ac79479928bae42d694b7cb53644be5d3b6dd2
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:42:57 2005 -0400

    [PARISC] Replace some calls to bl with b,l or bv to use longer offsets
    
    convert some bl calls to b,l or bv to use longer offsets
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 3a165680168758733b7a9f7fb835954fbe6b91a8
Author: Stuart Brady <sdb@parisc-linux.org>
Date:   Fri Oct 21 22:42:38 2005 -0400

    [PARISC] Update harmony from parisc tree
    
    o Added a control for the input source (which can be either
      "line" or "mic")
    
    o Mute the speaker/line-out/headphone outputs by default.
    
    o Increased the buffer size from 10 pages to 16.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    
    ALSA Harmony was resetting the capture position when
    preparing the capture substream, which it shouldn't do.
    This should fix the problem.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    
    ALSA Harmony should no longer play junk (left in the buffers
    from a previous stream) at the start of a new stream.
    
    Implement the monitor mixer channel for ALSA Harmony.
    
    Also prevent snd_harmony_volume_get from returning negative values.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    
    Use the graveyard/silence buffers in ALSA Harmony.
    
    Signed-off-by: Stuart Brady <sdb@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 5cd55b0edee7f979530c86b23728d461ddeb9f3f
Author: Randolph Chung <tausq@parisc-linux.org>
Date:   Fri Oct 21 22:42:18 2005 -0400

    [PARISC] Take into account nullified insn and lock functions for profiling
    
    export profile_pc() symbol - oprofile needs it when built as a module.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Take into account nullified insn and lock functions for profiling
    
    This is needed at the end of functions; it is typical that the return
    branch nullifies the next insn, which is in the next function. This
    causes profiling data to show up against the "wrong" function.
    
    We also count lock times against the locker. This is consistent with
    other architectures.
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 951a0150135c46c7791d68e0d1112900d99302d7
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:41:49 2005 -0400

    [PARISC] Reorganize sticore probe routine to be a little less convoluted
    
    Fix some whitespace issues
    Reorganise parisc_device probe routine to be a little less convoluted
    Use ->hpa.start instead of ->hpa
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 14e256c107304367eff401d20f2ab9fa72e33136
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:41:25 2005 -0400

    [PARISC] Update spinlocks from parisc tree
    
    Neaten up the CONFIG_PA20 ifdefs
    
    More merge fixes, this time for SMP
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Prettify the CONFIG_DEBUG_SPINLOCK __SPIN_LOCK_UNLOCKED initializers.
    
    Clean up some warnings with CONFIG_DEBUG_SPINLOCK enabled.
    
    Fix build with spinlock debugging turned on. Patch is cleaner like this,
    too.
    
    Remove mandatory 16-byte alignment requirement on PA2.0 processors by
    using the ldcw,CO completer. Provides a nice insn savings.
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 04d472dc83388c59deb6241e9aed841926aa1c8c
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:40:24 2005 -0400

    [PARISC] Move pa_tlb_lock to tlb_flush.h
    
    move pa_tlb_lock and it's primary consumers to tlb_flush.h
    Future step will be to move spinlock_t definition out of system.h.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 896a375623c3643a3f189353e7d4828c48a7fdf8
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:40:07 2005 -0400

    [PARISC] Make sure use of RFI conforms to PA 2.0 and 1.1 arch docs
    
    2.6.12-rc4-pa3 : first pass at making sure use of RFI conforms to
    PA 2.0 arch pages F-4 and F-5, PA 1.1 Arch page 3-19 and 3-20.
    
    The discussion revolves around all the rules for clearing PSW Q-bit.
    The hard part is meeting all the rules for "relied upon translation".
    
    .align directive is used to guarantee the critical sequence ends more than
    8 instructions (32 bytes) from the end of page.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit b2c1fe81df7471de9f7e2918877ac04ec9cde35f
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:39:43 2005 -0400

    [PARISC] Allow STI_CONSOLE access to some FONTS
    
    add || STI_CONSOLE to some of the basic FONTs. May need to get at
    least one of them to default to "Y" for parisc.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 92b919fe46509820c639a08962cbf78bc8d227d9
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:38:23 2005 -0400

    [PARISC] Update dino from parisc tree
    
    Fix card-mode Dino crashes on 725 (and probably other Snake) systems.
    Dino was coming up in fatal mode after a warm reboot.  Resetting Dino
    brings it out of fatal mode, so do that if the status register indicates
    we're in fatal mode.  Since this was never observed on any later systems,
    I presume firmware does this for us on those.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Add debug statements in the cfg_read and cfg_write functions
    Fix debug statements from the IRQ overhaul last winter
    Rename dino_driver_callback() to dino_probe()
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 86a61ee9c9f3d8b632d29e86ac6610c43ebbb4f0
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:37:43 2005 -0400

    [PARISC] Update ccio-dma from parisc tree
    
    revert use of %%sr0 in fdc asm.
    
    Thanks to Joel Soete for pointing out this oversight.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.14-rc2-pa3 fdc/lci should be %r0 instead 0 for index (PA 1.1 compliance)
    From: Joel Soete <soete.joel@tiscali.be>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Explain why we need insert_resource() instead of request_resource().
    
    Fundementally, this is more convoluted for ccio driver because of
    o legacy (HP-PB) transperant bridges.
    o support for MMIO behind card-mode Dino (PCI)
    o support for above bridges without ccio in the box
    
    SBA driver doesn't have to worry about those issues.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Use insert_resource instead of request_resource now that the subdevices
    will already have their resources claimed
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    re-enable use of "inline" for perf critical functions.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.12-rc4-pa5 fix sign extension of MMIO range
    
    Fixes the problem of claiming a range that is disabled on 64-bit kernel:
    ccio_init_resource() claimed CCIO bus address space (ffffffff00000000,
    ffffffffffffffff)
    also removes use of __FILE__.
    Tested on both 32 and 64-bit systems by Joel.
    
    From: Joel Soete <soete.joel@tiscali.be>
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.12-rc1-pa7 incorrect BUG_ON in ccio
    
    ccio-dma.c line 1317 was preventing K-class with 4GB RAM from booting.
    Any ccio machine with >=2GB of RAM would have (incorrectly) triggered this.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Convert to ioremap and __raw_read/write
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 64908ad95c34f25849412d6d4735ac10f8fb6575
Author: Grant Grundler <grundler@parisc-linux.org>
Date:   Fri Oct 21 22:37:20 2005 -0400

    [PARISC] Update sba_iommu from parisc tree
    
    revert use of %%sr0 in fdc asm.
    Thanks to Joel Soete for pointing out this oversight.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.14-rc2-pa3 move "sync" outside the main loop that fills IO Pdir.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    remove explicit use of sr0 in fdc ops.
    Thanks to Joel Soete for reminding me were I added those...
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.14-rc2-pa2 - make SBA more anal about invalidating pdir entries
    
    Previous code cleared the valid flag a pdir entry but it did NOT
    guarantee this change was visible to the PDIR before writing
    the PCOM register. Ie the SBA could pick up a stale entry if
    the write happened to hit the SBA before the cacheline was flushed
    from the cache.
    
    Long term, I think I want to make this a compile time flag.
    Developement tree should enable anal pdir checking by default
    and Debian can disable it with either a CONFIG option
    or one-line patch. fdc/sync options can only negatively affect
    performance though I haven't measure how much yet.
    If someone can run netperf TCP_RR across gige and compare
    -pa1 and -pa2, that would be sufficient.
    
    Cleaned up the use of "fdc" to make sure it's using "kernel"
    space id (specify sr0 but maps to sr4-7). It seems a bit fragile
    to assume "sr1" gets loaded with KERNEL_SPACE which is how the
    code works today.
    
    Tested on 32 and 64-bit SMP kernels on j6k.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    remove PDC_NARROW from SBA and document history of PDC_NARROW a bit.
    It will still show up in an older kernel's .config file.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    if/ifdef cleanups from Joel Soete.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    2.6.12-rc4-pa2  fix 32-bit support for Astro platforms
    o Since my last SBA code change, SBA could allocate more than 1GB of IOVA
      space on Astro boxes with more than 1GB of RAM when running 32-bit kernel.
      This is bad since IOMMU can only talk to the first 1GB at most.
      Kudos to jejb for quickly spotting that bug.
    
    o jejb also noted SBA should *always* reject DMA masks > 32-bits since
      DMA-mapping.txt indicates caller should try again with 32-bits.
    
    o off-by-one error when comparing the mask to IOVA space size.
    
    Signed-off-by: Grant Grundler <grundler@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 53f01bba49938f115237fe43a261c31ac13ae5c6
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:36:40 2005 -0400

    [PARISC] Convert parisc_device to use struct resource for hpa
    
    Convert pa_dev->hpa from an unsigned long to a struct resource.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Fix up users of ->hpa to use ->hpa.start instead.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit bdad1f836ab1ca2b18a625222f63f630cfd14e41
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:36:23 2005 -0400

    [PARISC] Change the driver names so /sys/bus/parisc/drivers/ looks better
    
    Make /sys/bus/parisc/drivers look better by cleaning up parisc_driver
    names.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit 5658374766d9e0249bd04e9d62bdb8456b916b64
Author: Matthew Wilcox <willy@parisc-linux.org>
Date:   Fri Oct 21 22:33:38 2005 -0400

    [PARISC] Convert parisc_device tree to use struct device klists
    
    Fix parse_tree_node.  much more needs to be done to fix this file.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Make drivers.c compile based on a patch from Pat Mochel.
    
    From: Patrick Mochel <mochel@digitalimplant.org>
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>
    
    Fix drivers.c to create new device tree nodes when no match is found.
    
    Signed-off-by: Richard Hirst <rhirst@parisc-linux.org>
    
    Do a proper depth-first search returning parents before children, using the
    new klist infrastructure.
    
    Signed-off-by: Richard Hirst <rhirst@parisc-linux.org>
    
    Fixed parisc_device traversal so that pdc_stable works again
    Fixed check_dev so it doesn't dereference a parisc_device until it
    has verified the bus type
    
    Signed-off-by: Randolph Chung <tausq@parisc-linux.org>
    
    Convert pa_dev->hpa from an unsigned long to a struct resource.
    Use insert_resource() instead of request_mem_region().
    Request resources at bus walk time instead of driver probe time.
    Don't release the resources as we don't have any hotplug parisc_device
    support yet.
    Add parisc_pathname() to conveniently get the textual representation
    of the hwpath used in sysfs.
    Inline the remnants of claim_device() into its caller.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    I noticed that some of the STI regions weren't showing up in iomem.
    Reading the STI spec indicated that all STI devices occupy at least 32MB.
    So check for STI HPAs and give them 32MB instead of 4kB.
    
    Signed-off-by: Matthew Wilcox <willy@parisc-linux.org>
    
    Signed-off-by: Kyle McMartin <kyle@parisc-linux.org>

commit e78a57de94480226f7fc90d0b4837bfc6c99a9e0
Merge: 77501f3... 452503f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 21 21:33:27 2005 -0400

    Merge branch 'upstream'

commit 452503f993feffe96e8cc9fbff4888b96e2c5e40
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Oct 21 19:01:32 2005 -0400

    Add ide-timing functionality to libata.
    
    This is needed for full AMD and VIA drivers and possibly more. Functions
    to turn actual clocking and cycle timings into register values. Also to
    merge shared timings to compute an optimal timing set.
    
    Built from the drivers/ide version by Vojtech Pavlik
    
    Signed-off-by: Alan Cox <alan@redhat.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 11e29e21514517f3022a1f30998ac4c7b1197658
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Fri Oct 21 18:46:32 2005 -0400

    libata: handle early device PIO modes correctly

commit 9789089703c244ad766a13f441936736b6b1e709
Merge: 59b8182... 519a62b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Oct 21 14:58:47 2005 -0400

    Merge rsync://bughost.org/repos/ieee80211-delta/

commit 519a62bb8a0b0b383e6022cad6242cf63efc015c
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Oct 20 15:57:03 2005 -0500

    Update version ieee80211 stamp to 1.1.6

commit d3f7bf4fa9626d371f26cd310477202628a8126a
Author: Michael Buesch <mbuesch@freenet.de>
Date:   Fri Oct 21 12:39:52 2005 -0500

    ieee80211 subsystem:
    * Use GFP mask on TX skb allocation.
    * Use the tx_headroom and reserve requested space.
    
    Signed-off-by: Michael Buesch <mbuesch@freenet.de>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit ab27642b59b68d18df5a9aa5fa81b5ab5735aa77
Merge: ba9b543... 654b153...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Oct 21 10:42:58 2005 -0700

    Merge branch 'master' of ssh://rsync.linux-nfs.org/home/trondmy/www_sites/rsync.linux-nfs.org/pub/linux/nfs-2.6

commit d6d3f5bc68be3c4ab84e6f1f9db92291da671504
Merge: ac9b9c6... 23e7dd7...
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Oct 21 08:39:12 2005 -0700

    Merge with /pub/scm/linux/kernel/git/sfrench/cifs-2.6.git/

commit 05d84681abcb33fe34accb5982c413daeb4208c4
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Oct 21 16:01:34 2005 +1000

    [PATCH] powerpc: Fix mmap returning 64 bit addresses
    
    The merge of syscalls.c & sys_ppc32.c (30286ef6e044bc3d9019c3d8b900572e3fa05e65)
    broke mmap, if the mmap returned a 64 bit address.
    
    do_mmap2 was taking the return value from do_mmap_pgoff (an unsigned long), and
    storing it in an int, before returning it to sys_mmap as an unsigned long. So
    we were losing the high bits of the address.
    
    You would have thought the compiler could catch this for us ...
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 90eac727c6d7afbe707ce408edf97c33385fa08c
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Oct 21 16:01:33 2005 +1000

    [PATCH] powerpc: Don't blow away load_addr in start_thread
    
    The patch to make process.c work for 32-bit and 64-bit
    (06d67d54741a5bfefa31945ef195dfa748c29025) broke some 64-bit binaries.
    We were blowing away load_addr in gpr[2], so we weren't properly relocating
    the entry point.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6cb7bfebb145af5ea1d052512a2ae7ff07a47202
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Oct 21 15:45:50 2005 +1000

    [PATCH] powerpc: Merge thread_info.h
    
    Merge ppc32 and ppc64 versions of thread_info.h.  They were pretty
    similar already, the chief changes are:
    
    	- Instead of inline asm to implement current_thread_info(),
    which needs to be different for ppc32 and ppc64, we use C with an
    asm("r1") register variable.  gcc turns it into the same asm as we
    used to have for both platforms.
    	- We replace ppc32's 'local_flags' with the ppc64
    'syscall_noerror' field.  The noerror flag was in fact the only thing
    in the local_flags field anyway, so the ppc64 approach is simpler, and
    means we only need a load-immediate/store instead of load/mask/store
    when clearing the flag.
    	- In readiness for 64k pages, when THREAD_SIZE will be less
    than a page, ppc64 used kmalloc() rather than get_free_pages() to
    allocate the kernel stack.  With this patch we do the same for ppc32,
    since there's no strong reason not to.
    	- For ppc64, we no longer export THREAD_SHIFT and THREAD_SIZE
    via asm-offsets, thread_info.h can now be safely included in asm, as
    on ppc32.
    
    Built and booted on G4 Powerbook (ARCH=ppc and ARCH=powerpc) and
    Power5 (ARCH=ppc64 and ARCH=powerpc).
    
    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b0faa28493f97b55b36ff5b1a2b8c81bf253a460
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Fri Oct 21 15:43:42 2005 +1000

    [PATCH] Fix broken initialization of conswitchp for ARCH=ppc64
    
    In the merge tree, commit 0458060c1c59c5378d8fb5daabe18cf4681c35cd
    broke boot on some machines because the initialization of conswitchp
    was moved to arch/powerpc/kernel/setup_64.c, but a corresponding copy
    was not added to arch/ppc64/kernel/setup.c.  This patch fixes it.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 307e4dc28ee255bf22b431f242f847c9d96fe3fa
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (sata_vsc)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9aa36e89b5677a98d951cf7bef6d99a0f93ea633
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (sata_sil)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a9afd7cd2f65ff85f5ffe931beb879ccf12540e0
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (sata_sx4)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0420dd121d395e76f6b80fe232e7b4bc6a046f18
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] enum safety (sata_qstor)
    
    sata_qstor strays into a nasty area - gcc handling of wide enums is
    full of bugs that got fixed between gcc versions creating portability
    nightmare.  Single-member enums are safe, so are ones that stay within
    the range of int or unsigned int.  Anything beyond that is asking for
    trouble.
    
    Declaration of constants split in two enums, taking the ~0UL one into
    a separate enum.
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b181d3b0121e141cb410ea3126b4dbe4f8e1751a
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (sata_promise)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1e4f2a96aeb373000ccd783e0f5b40294b5e668a
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (ahci)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9ee0c0a2ccd66b90eaeb2f197c0a7da43071af52
Author: Al Viro <viro@ftp.linux.org.uk>
Date:   Fri Oct 21 06:46:02 2005 +0100

    [PATCH] iomem annotations (sata_nv)
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e98df50c5200ae3c748d69002a8827afc9d2eae2
Author: Dave Jones <davej@redhat.com>
Date:   Thu Oct 20 15:17:43 2005 -0700

    [CPUFREQ] kzalloc conversions for cpufreq core.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit bfdc708dc7d26fca66df0157b36356a2ba6166eb
Author: Dave Jones <davej@redhat.com>
Date:   Thu Oct 20 15:16:15 2005 -0700

    [CPUFREQ] kzalloc conversions for i386 drivers.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 0ea27d9f2fb5b998063323bff47ab87891ced9e2
Author: Dave Jones <davej@redhat.com>
Date:   Thu Oct 20 15:12:16 2005 -0700

    [AGPGART] Replace kmalloc+memset's with kzalloc's
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 654b1536b0927d189526b9063818e0790aa3ea23
Merge: ec07342... 93918e9...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 20 14:25:44 2005 -0700

    Merge /home/trondmy/scm/kernel/git/torvalds/linux-2.6

commit ec073428281b401f1142cb84b277a5b00c7994c9
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 20 14:22:47 2005 -0700

    NFSv4: Fix up locking for nfs4_state_owner
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4e51336a00bdcb42960acca52c23e90e9f4e6959
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 20 14:22:41 2005 -0700

    NFSv4: Final tweak to sequence id
    
     Sacrifice queueing fairness for performance.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 23e7dd7d95f6fdc167a6d6ddea79ced0af33bbff
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Oct 20 13:44:56 2005 -0700

    [CIFS] Defer close of file handle slightly if there are pending writes that
    need to get in ahead of it that depend on that file handle. Fixes
    occassional bad file handle errors on write with heavy use multiple process
    cases.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 59b81827071a8ae7f399da533d268e1e33bfeeb7
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Thu Oct 20 12:01:28 2005 +0100

    [PATCH] sb1250-mac: PHY probing fixes.
    
    Improve sb1250-mac driver to probe for PHYs at addresses other
    than 1, such as the PHYs on BigSur.
    
    Signed-Off-By: Andy Isaacson <adi@broadcom.com>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7e6c1208598004a80b1c1fca4953eb9f2a6aa8bc
Author: Brett Russ <russb@emc.com>
Date:   Thu Oct 20 08:39:43 2005 -0400

    [PATCH] libata: Marvell endian fix
    
    Jeff found an endian bug in the Marvell driver (thanks!).  Here's the
    fix for it.
    
    Signed-off-by: Brett Russ <russb@emc.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bbf207860931b6a033d0fbcd170ae2332c0d8216
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 20 12:54:01 2005 -0700

    [IB] user_mad: Use class_device.devt
    
    Use devt member of struct class_device so that we don't have to create
    our own "dev" file in sysfs.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 2e0c512aff978a7040464e81fc9c0dfdf4639c23
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 20 12:30:16 2005 -0700

    [IB] user_mad: trivial coding style fixes
    
    Add spaces after "sizeof" operator to match the rest of file.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 3910f44d79a8a4a26fcfefbf16c5b8e1a7743175
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 20 12:29:36 2005 -0700

    [IB] cm: Add missing break in switch
    
    Add missing "break" in switch statement.  Without the break, the
    CM ended up always falling through and setting every connection
    request to use RC transport, which meant that UC connections
    didn't work.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 9cec58dc138d6fcad9f447a19c8ff69f6540e667
Merge: 17e5ad6... ac9b9c6...
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Oct 20 10:41:44 2005 -0700

    Update from upstream with manual merge of Yasunori Goto's
    changes to swiotlb.c made in commit 281dd25cdc0d6903929b79183816d151ea626341
    since this file has been moved from arch/ia64/lib/swiotlb.c to
    lib/swiotlb.c
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f0f15ab5542f73d07e35eeee713df289599427b2
Author: Hong Liu <hong.liu@intel.com>
Date:   Thu Oct 20 11:06:36 2005 -0500

    Fixed oops if an uninitialized key is used for encryption.
    
    Without this patch, if you try and use a key that has not been
    configured, for example:
    
    % iwconfig eth1 key deadbeef00 [2]
    
    without having configured key [1], then the active key will still be
    [1], but privacy will now be enabled.  Transmission of a packet in this
    situation will result in a kernel oops.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 323cb3ce6eea9d4e72a81a9ffaac4c4e5b800810
Merge: 59a10b1... 93918e9...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 20 10:11:25 2005 -0400

    Merge branch 'master'

commit 902f90735b693550eb51a3989895f3148b8229d8
Merge: 07b8fed... 93918e9...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 20 10:06:09 2005 -0400

    Merge branch 'master'

commit 07b8fede6da76ae6a0f547716c44b801a116bb4a
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Wed Oct 19 10:40:08 2005 -0400

    [PATCH] e1000: Driver version, white space, comments, device id & other
    
    Driver version, white space, comments, device id & other
    
    Originally posted on 8/31 (and perhaps before)...I think it has not
    been committed because the patch from that posting was damaged.  I'm
    reposting to make sure it gets in... :-)
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b06c093ed2dc968b3c140dafa55fa6c7b72169e5
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Oct 19 08:07:34 2005 -0400

    [PATCH] sundance: include MII address 0 in PHY probe
    
    Include MII address 0 at the end of the PHY scan.  This covers the
    entire range of possible MII addresses.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5d14a18d59b661356409e5a1f624236155a209ba
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 22:33:06 2005 +1000

    powerpc: Fix some bugs in the new merged time code
    
    I had the sense of the test for when to use the old 601-style RTC
    registers inverted.  pmac_calibrate_decr and via_calibrate_decr
    weren't setting ppc_tb_freq, on which all the further calculations
    depended.  Lastly, update_gtod was losing the top 32 bits of
    the new tb_to_xs value.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 17a6392d30b4ed89b88a47a318b2b6de6ae7b946
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 21:10:09 2005 +1000

    powerpc/ppc/ppc64: Various compile fixes.
    
    This declares powersave_nap in system.h and makes it an int everywhere,
    fixes typos for the maple platform, fixes a couple of places where
    I missed removing the last two arguments from a message_pass function,
    and makes ppc64 consistent with ppc32 in the type of the
    pci_bridge.cfg_data field.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d85b525e6e1d0886eebd1d4c4f954d9d2f226a63
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 21:06:44 2005 +1000

    ppc64: Use the merged mpic.c
    
    This means we now compile in arch/powerpc/sysdev for ARCH=ppc64.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 374e99d450a0c44dc30041fa83eccfd0890330c7
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 21:04:51 2005 +1000

    powerpc: Move some calculations from xxx_calibrate_decr to time_init
    
    Previously the individual xxx_calibrate_decr functions would each
    print the timebase and cpu frequency and calculate several values
    such as tb_to_us and tb_to_xs.  This moves those printks and
    calculations into time_init just after the call to the platform's
    calibrate_decr function.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0458060c1c59c5378d8fb5daabe18cf4681c35cd
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 21:00:20 2005 +1000

    ppc64: Move init_boot_text call and conswitchp init into setup_arch
    
    This way they get done in one place for all platforms, and it is
    more consistent with what ppc32 does.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 399fe2bdd315c3a678b59b72659c4ed1ce0e1a24
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 20:57:05 2005 +1000

    ppc: rename pci_assign_all_busses to pci_assign_all_buses
    
    ... for consistency with ppc64 and to make merging easier.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ff065ddd96c233d27322de493fa023357939c888
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 20:53:39 2005 +1000

    powerpc: Merge various powermac-related header files.
    
    Except for smu.h, which moved from asm-ppc64 to asm-powerpc, all
    of these moved from asm-ppc to asm-powerpc.  In each case the
    asm-ppc64 version (if there was one) was just a single line
    including the asm-ppc version.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0dd194d02d2584c34e06ddd26c7a7896a5fa1974
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 20:48:19 2005 +1000

    powerpc: Fix places where ppc_md.show_[per]cpuinfo was treated as int
    
    I missed a few places where ppc code was still assuming that the
    ppc_md.show_[per]cpuinfo functions returned int.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 312f5726055534be1dc9dd369be13aabd2943fcb
Merge: 3d5efad... 93918e9...
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Thu Oct 20 18:21:33 2005 +1000

    merge Linus head tree into my drm tree and fix up conflicts

commit a9c59264690aea9d0df2d2d76683bc39ec6b7288
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 17:09:51 2005 +1000

    powerpc: Move smp_mpic_message_pass into mpic.c
    
    Having it here rather than in arch/ppc64/kernel/smp.c means that
    we can use it on 32-bit SMP systems easily with ARCH=powerpc.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d8699e65c6bc0a81b5e679ca5b135bfe3c3fb483
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 17:02:01 2005 +1000

    ppc64: Change ppc_md.get_cpuinfo to ppc_md.show_cpuinfo
    
    ... for consistency with ppc32; also add in ppc32's show_percpuinfo
    function.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 971dc77b64db9466f5caab56019e62a93c0ddfc5
Author: Becky Bruce <bgill@freescale.com>
Date:   Wed Oct 19 18:45:03 2005 -0500

    [PATCH] powerpc: Merge types.h
    
    This patch merges types.h into include/asm-powerpc. The only real change is
    the removal of the include of linux/config.h from the 32-bit version - it
    doesn't appear to be necessary.
    
    This patch has been built on several different 32 and 64-bit platforms,
    and booted on mpc8540_ads.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f7f6f4fea68d9981d65f99a589ad85f510924d99
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Wed Oct 19 14:53:32 2005 +1000

    [PATCH] powerpc: Merge ppc64 pmc.[ch] with ppc32 perfmon.[ch]
    
    This patches the ppc32 and ppc64 versions of the headers and .c files
    with helper functions for manipulating the performance counting
    hardware.  As a side effect, it removes use of the term "perfmon" from
    ppc32, thus avoiding confusion with the unrelated performance counter
    interface from HP Labs also called "perfmon".
    
    Built, but not booted, for g5, pSeries, iSeries, and 32-bit Powermac
    with both ARCH=powerpc and ARCH=ppc{,64} as appropriate.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 74b0247fbd4b6ed1693a420d85cf50267d840ef4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Oct 19 15:40:02 2005 +0100

    [PATCH] sb1250-mac: Whitespace cleanup.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sb1250-mac.c | 1030 +++++++++++++++++++++++------------------------
     1 files changed, 515 insertions(+), 515 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2039973af59889fea0d14362eae56792cfe8d25a
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Oct 19 15:39:05 2005 +0100

    [PATCH] sb1250-mac: Get rid of all the funny SBMAC_WRITECSR and SBMAC_READCSR macros.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sb1250-mac.c |  303 ++++++++++++++++++++---------------------------
     1 files changed, 132 insertions(+), 171 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ab7a435a01a9995359a72851ff6896dc110c243f
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 18 21:01:29 2005 +0100

    [PATCH] Remove unused header.
    
    mkiss.h has been integrated into mkiss.c earlier.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/hamradio/mkiss.h |   62 -------------------------------------------
     1 files changed, 62 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3d904eef54fd145e2ae5fadb52d2c39bc49339ae
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Oct 18 17:42:41 2005 -0500

    [PATCH] ppc32: replace use of _GLOBAL with .globl for ppc32
    
    The _GLOBAL() macro is for text symbols only. Changed to using
    .globl for .data symbols.  This is also needed in ppc32 land
    to allow FSL Book-E, 40x, and 44x to work.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b15125fa81a522882247242e569bc7035e28cc82
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Oct 18 17:42:09 2005 -0500

    [PATCH] powerpc: Some more fixes to allow building for a Book-E processor
    
    Some minor fixes that are needed if we are building for a book-e
    processor.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 344480b99730bfd205e306d3fd168cdcebe83425
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 09:37:02 2005 +1000

    powerpc: Fix a corner case in __div64_32
    
    The code was incorrectly doing a division by 0 in the case where
    the denominator was 0x100000000 and the divisor was 0xffffffff.
    Thanks to Fred Liu of Motorola for pointing this out.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a4bcc95a3ad0ccba6d7b39442dfb81cc57bb7121
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 09:24:18 2005 +1000

    powerpc: Fix a branch-too-far link error for 32-bit targets
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f2783c15007468c14972e2617db51e9affc7fad9
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 09:23:26 2005 +1000

    powerpc: Merge time.c and asm/time.h.
    
    We now use the merged time.c for both 32-bit and 64-bit compilation
    with ARCH=powerpc, and for ARCH=ppc64, but not for ARCH=ppc32.
    This removes setup_default_decr (folds its function into time_init)
    and moves wakeup_decrementer into time.c.  This also makes an
    asm-powerpc/rtc.h.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 03f88e9f7145b03fd0d855918d54a3bf5342ac5e
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 09:15:05 2005 +1000

    ppc64: Minor compilation fixes
    
    This defines CONFIG_PPC_STD_MMU for ppc64, changes an instance of
    sys32_ to compat_sys_ in the ppc64 syscall table, and removes a
    reference to a non-existent arch/powerpc/xmon/Makefile.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b123923d486d38e1a961e82040a26838401aebb5
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 20 09:11:29 2005 +1000

    powerpc: Move ptrace32.c from arch/ppc64 to arch/powerpc
    
    Also corrected my email address in ptrace.c and updated the comments
    at the top of ptrace32.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5b74eda78db410b979b7d450221c971fdebf5d29
Author: Hong Liu <hong.liu@intel.com>
Date:   Wed Oct 19 16:31:34 2005 -0500

    Fixed problem with not being able to decrypt/encrypt broadcast packets.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 9b7cf8b49dc4464b222afc9fa32628bb9a2e70a3
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 19 23:13:04 2005 +1000

    powerpc: Eliminate a compile warning in signal_32.c
    
    The second argument of get_sigset_t needed to have the const keyword.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0b879a31447acd9ebe8b3c5231f72ccebeefad3a
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 19 23:12:01 2005 +1000

    ppc: declare smp_ops in asm/smp.h, since platform setup code needs it
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 143a1dec7e04e0a9712ff93e779aabfb21dfd97c
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 19 23:11:21 2005 +1000

    powerpc: Merge machdep.h
    
    A few things change for consistency between ppc32 and ppc64:
    idle functions return void; *_get_boot_time functions return
    unsigned long (i.e. time_t) rather than filling in a struct rtc_time
    (since that's useful to the callers and easier for pmac to
    generate); *_get_rtc_time and *_set_rtc_time functions take
    a struct rtc_time; irq_canonicalize is gone; nvram_sync returns
    void.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7ed476d17f04473f70d796cb6c172bdcfcc9b8e5
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 19 21:44:51 2005 +1000

    ppc: Minor smp changes for consistency with ppc64
    
    This makes platform code use the smp_ops variable directly instead
    of ppc_md.smp_ops, removes the two unused `data' and `wait' arguments
    from the *_message_pass() functions, and removes the call to the
    never-implemented smp_ops->space_timers() function.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d5aeaef37dc9cb009ab5cb8abf325338d21d2b1a
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Wed Oct 19 12:23:10 2005 +0100

    NTFS: Fix serious data corruption issue when writing.
          Many thanks to Alberto Patino for testing and reporting the data
          corruption.  And many apologies for corrupting his partition.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 7d0ffdb279105d9a87b447758ce4a634496abfd1
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Wed Oct 19 12:21:19 2005 +0100

    NTFS: $EA attributes can be both resident non-resident.
          Minor tidying.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit e087a412b45543a87497f0a213dbd5d55099f267
Merge: 7946ada... bb7e257...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Wed Oct 19 12:13:58 2005 +0100

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit a0857d03b21fa54653c9d2fe7a315381176015b4
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:55:23 2005 -0400

    RPCSEC_GSS: krb5 cleanup
    
     Remove some senseless wrappers.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 00fd6e14255fe7a249315746386d640bc4e9e758
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:55:18 2005 -0400

    RPCSEC_GSS remove all qop parameters
    
     Not only are the qop parameters that are passed around throughout the gssapi
     unused by any currently implemented mechanism, but there appears to be some
     doubt as to whether they will ever be used.  Let's just kill them off for now.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 14ae162c24d985593d5b19437d7f3d8fd0062b59
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:55:13 2005 -0400

    RPCSEC_GSS: Add support for privacy to krb5 rpcsec_gss mechanism.
    
     Add support for privacy to the krb5 rpcsec_gss mechanism.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit bfa91516b57483fc9c81d8d90325fd2c3c16ac48
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:55:08 2005 -0400

    RPCSEC_GSS: krb5 pre-privacy cleanup
    
     The code this was originally derived from processed wrap and mic tokens using
     the same functions.  This required some contortions, and more would be required
     with the addition of xdr_buf's, so it's better to separate out the two code
     paths.
    
     In preparation for adding privacy support, remove the last vestiges of the
     old wrap token code.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit f7b3af64c653c73feb060a9f94f2df9ab4bba4c3
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:55:03 2005 -0400

    RPCSEC_GSS: Simplify rpcsec_gss crypto code
    
     Factor out some code that will be shared by privacy crypto routines
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2d2da60c63b67174add32f06e8d54c3a0c5cd9cf
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:58 2005 -0400

    RPCSEC_GSS: client-side privacy support
    
     Add the code to the client side to handle privacy.  This is dead code until
     we actually add privacy support to krb5.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 24b2605becc10ca63c4c30808fa59a8abbf68727
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:53 2005 -0400

    RPCSEC_GSS: cleanup au_rslack calculation
    
     Various xdr encode routines use au_rslack to guess where the reply argument
     will end up, so we can set up the xdr_buf to recieve data into the right place
     for zero copy.
    
     Currently we calculate the au_rslack estimate when we check the verifier.
     Normally this only depends on the verifier size.  In the integrity case we add
     a few bytes to allow for a length and sequence number.
    
     It's a bit simpler to calculate only the verifier size when we check the
     verifier, and delay the full calculation till we unwrap.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit f3680312a737355ddf35c1b68af25e384d7ef0a8
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:48 2005 -0400

    SUNRPC: Retry wrap in case of memory allocation failure.
    
     For privacy we need to allocate extra pages to hold encrypted page data when
     wrapping requests.  This allocation may fail, and we handle that case by
     waiting and retrying.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit ead5e1c26fdcd969cf40c49cb0589d56879d240d
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:43 2005 -0400

    SUNRPC: Provide a callback to allow free pages allocated during xdr encoding
    
     For privacy, we need to allocate pages to store the encrypted data (passed
     in pages can't be used without the risk of corrupting data in the page cache).
     So we need a way to free that memory after the request has been transmitted.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 293f1eb551a77fe5c8956a559a3c0baea95cd9bc
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:37 2005 -0400

    SUNRPC: Add support for privacy to generic gss-api code.
    
     Add support for privacy to generic gss-api code.  This is dead code until we
     have both a mechanism that supports privacy and code in the client or server
     that uses it.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 1d95db8e1688ed54e143a597c5570631a42fa594
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:32 2005 -0400

    NFSv4: Fix acl buffer size
    
     resp_len is passed in as buffer size to decode routine; make sure it's
     set right in case where userspace provides less than a page's worth of
     buffer.
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 8c233cf9c2ad6f49df753bdce84fddbf00bf6a75
Author: J. Bruce Fields <bfields@fieldses.org>
Date:   Thu Oct 13 16:54:27 2005 -0400

    NFSv4: handle no acl attr
    
     Stop handing garbage to userspace in the case where a weird server clears the
     acl bit in the getattr return (despite the fact that they've already claimed
     acl support.)
    
     Signed-off-by: J. Bruce Fields <bfields@citi.umich.edu>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 747c5534c9a6da4aa87e7cdc2209ea98ea27f381
Author: Steve Dickson <steved@redhat.com>
Date:   Tue Oct 18 23:19:40 2005 -0700

    RPC: stops the release_pipe() funtion from being called twice
    
     This patch stops the release_pipe() funtion from being called
     twice by invalidating the ops pointer in the rpc_inode
     when rpc_pipe_release() is called.
    
     Signed-off-by: Steve Dickson <steved@redhat.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 7f709a48fa798cfa0f2f777c8752e12995054f78
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 23:19:39 2005 -0700

    NFSv4: Fix an oopsable condition in nfs_free_seqid
    
     Storing a pointer to the struct rpc_task in the nfs_seqid is broken
     since the nfs_seqid may be freed well after the task has been destroyed.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit c4cfe567b92d5663f98e2f82f28ffc3069fc982f
Author: Andrew Morton <akpm@osdl.org>
Date:   Sat Oct 15 00:32:29 2005 -0700

    [PATCH] e1000 build fix
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2aa1d82db7a967b748c4b41854c4222cd0484114
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:31:02 2005 -0400

    [PATCH] sundance: expand reset mask
    
    Expand the mask used when reseting the chip to include the GlobalReset
    bit.  This fix comes from ICPlus and seems to be required for some
    cards.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 67ec2f805a5260c041b1c3c7a86ecfbc9670db06
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:31:01 2005 -0400

    [PATCH] sundance: remove if (1) { ... } block in sundance_probe1
    
    Remove an if (1) { ... } block in sundance_probe1.  Its purpose seems
    to be only to allow for delaring some extra local variables.  But, it also
    adds ugly indentation without adding any meaning to the code.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 36841c9d02870983c2b08c85d56572c1ff011997
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:30:58 2005 -0400

    [PATCH] orinoco: remove redundance skb length check before padding
    
    Checking the skb->len value before calling skb_padto is redundant.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9f38c636ababfb41e58c9ec1e9719492ef7f0479
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:30:59 2005 -0400

    [PATCH] b44: alternate allocation option for DMA descriptors
    
    This is a (final?) hack to support the odd DMA allocation requirements
    of the b44 hardware.  The b44 hardware has a 30-bit DMA mask.  On x86,
    anything less than a 32-bit DMA mask forces allocations into the 16MB
    GFP_DMA range.  The memory there is somewhat limited, often resulting
    in an inability to initialize the b44 driver.
    
    This hack uses streaming DMA allocation APIs in order to provide an
    alternative in case the GFP_DMA allocation fails.  It is somewhat ugly,
    but not much worse than the similar existing hacks to support SKB
    allocations in the same driver.  FWIW, I have received positive
    feedback on this from several Fedora users.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit df49898a47061e82219c991dfbe9ac6ddf7a866b
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:30:58 2005 -0400

    [PATCH] bonding: cleanup comment for mode 1 IGMP xmit hack
    
    Expand comment explaining MAC address selection for replicated IGMP
    frames transmitted in bonding mode 1 (active-backup).  Also, a small
    whitespace cleanup.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7645baec58b9661366e2038c4ea02bd06aaf1fbc
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:31:00 2005 -0400

    [PATCH] 8139too: fix resume for Realtek 8100B/8139D
    
    Add "HasHltClk" flag for RTL-8100B/8139D hardware in order to fix
    problems resuming from suspend-to-RAM.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4cac018ae30dac8f7fc089a8ff4963904c99725e
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:30:59 2005 -0400

    [PATCH] bonding: fix typos in bonding documentation
    
    Fix some simple typos in the bonding.txt file.  The typos are in areas
    relating to loading the bonding driver multiple times.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b7b1d2021452d0a3562807b6a90dfa5124147a79
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:31:01 2005 -0400

    [PATCH] epic100: fix counting of work_done in epic_poll
    
    work_done is overwritten each time through the rx_action loop in
    epic_poll.  This screws-up the NAPI accounting if the loop is executed
    more than once.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6ba98d311d0a4ff7dc36d8f435ce60174f4c30ec
Author: John W. Linville <linville@tuxdriver.com>
Date:   Tue Oct 18 21:31:02 2005 -0400

    [PATCH] via-rhine: change mdelay to msleep and remove from ISR path
    
    Get rid of the mdelay call in rhine_disable_linkmon.  The function
    is called from the via-rhine versions of mdio_read and mdio_write.
    Those functions are indirectly called from rhine_check_media and
    rhine_tx_timeout, both of which can be called in interrupt context.
    
    So, create tx_timeout_task and check_media_task as instances of struct
    work_struct inside of rhine_private.  Then, change rhine_tx_timeout to
    invoke schedule_work for tx_timeout_task (i.e. rhine_tx_timeout_task),
    moving the work to process context.  Also, change rhine_error (invoked
    from rhine_interrupt) to invoke schedule_work for check_media_task
    (i.e. rhine_check_media_task), which simply calls rhine_check media
    in process context.  Finally, add a call to flush_scheduled_work in
    rhine_close to avoid any resource conflicts with pending work items.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 972c26bdd6b58e7534473c4f7928584578cf43f4
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 18 22:14:54 2005 -0400

    libata: add ata_sg_is_last() helper, use it in several drivers

commit b194b4250c2b7e9d762823ac6045316fcd4bf4f9
Merge: c4052da... 59a10b1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 18 21:52:42 2005 -0400

    Merge branch 'upstream'

commit 923833405d8d81b5be036093773d88d87fc7e1bd
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 16 00:11:29 2005 -0700

    [PATCH] s2io build fix
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 166d823d397b9f5404648cedfdefe13e10683694
Author: Andrew Morton <akpm@osdl.org>
Date:   Sun Oct 16 13:32:14 2005 -0700

    [PATCH] e1000_intr build fix
    
    drivers/net/e1000/e1000_main.c: In function `e1000_intr':
    drivers/net/e1000/e1000_main.c:3156: error: `i' undeclared (first use in this function)
    drivers/net/e1000/e1000_main.c:3156: error: (Each undeclared identifier is reported only once
    drivers/net/e1000/e1000_main.c:3156: error: for each function it appears in.)
    
    This function is foul.
    
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 77501f3cb648e18733509a951ed31eddd7ef2c0b
Merge: 422fa08... 59a10b1...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 18 18:30:58 2005 -0400

    Merge branch 'upstream'

commit dcbf8477567c312c9f0512545d07e05175d740a4
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:27 2005 +0100

    [PATCH] mipsnet: Virtual ethernet driver for MIPSsim.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/Kconfig   |    8 +
     drivers/net/Makefile  |    1
     drivers/net/mipsnet.c |  371 ++++++++++++++++++++++++++++++++++++++++++++++++++
     drivers/net/mipsnet.h |  127 +++++++++++++++++
     4 files changed, 507 insertions(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9cc975e00ddb291035bc4d2d49cdc8768ddf1cc3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:21 2005 +0100

    [PATCH] ne: Support for RBHMA4500 eval board.
    
    Support for Toshiba's RBHMA4500 eval board for the TX4938.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/ne.c |   15 +++++++++++++++
     1 files changed, 15 insertions(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 36156cdff17a5ab822898d33cd890a6f8287c43c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:16 2005 +0100

    [PATCH] declance: Use physical addresses at the interface level.
    
    Use physical addresses at the interface level, letting drivers remap
    them as appropriate.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/declance.c |   26 ++++++++++----------------
     1 files changed, 10 insertions(+), 16 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4569504a36cb6223e2b7ad6530326a1563a8f456
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:11 2005 +0100

    [PATCH] declance: Deal with the bloody KSEG vs CKSEG horror...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/declance.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6684b4e28247f31543edf86ba785aa87e8fa3b39
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:06 2005 +0100

    [PATCH] declance: Fix mapping of device.
    
    These should really be addresses obtained with ioremap() or some
    bus-specific backend, but for now...
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/declance.c |    4 ++--
     1 files changed, 2 insertions(+), 2 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit da848ec37d9cf9edbe269f8be9b3de52f90d70da
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:51:01 2005 +0100

    [PATCH] declance: Convert to irqreturn_t.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/declance.c |    5 +++--
     1 files changed, 3 insertions(+), 2 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 302a5c4b3d4d6aff7772a4b3431bb772586e6011
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:56 2005 +0100

    [PATCH] sgiseeq: Configure PIO and DMA timing requests.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sgiseeq.c       |   28 ++++++++++++++--------------
     include/asm-mips/sgi/hpc3.h |   40 ++++++++++++++++++++--------------------
     2 files changed, 34 insertions(+), 34 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2891439e7378e35534d7eb32f77671dc4d61db4c
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:51 2005 +0100

    [PATCH] sgiseeq: Fix resource handling.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sgiseeq.c |    9 ++++-----
     1 files changed, 4 insertions(+), 5 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bc053d45cb0ca5daeaa69ae9ac43cdea42693f60
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:46 2005 +0100

    [PATCH] de2104x: Resurrect Cobalt support for 2.6.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/tulip/de2104x.c |    5 +++++
     1 files changed, 5 insertions(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7f553e3db46b36d2662e1118f8b8fdbf086b76df
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:41 2005 +0100

    [PATCH] au1000_eth: Misc Au1000 net driver fixes.
    
     o Add support for DP83847 MII.
     o remove unused variable.
     o Add some initialisations so even an unknown MII won't result in a crash.
     o Correct error message to "no known MIIs found".
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/au1000_eth.c |   13 +++++--------
     1 files changed, 5 insertions(+), 8 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 04115def6ad7ef51440365b65a7324fcb82d5d1d
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:36 2005 +0100

    [PATCH] sb1250-mac: Ensure 16-byte alignment of the descriptor ring.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sb1250-mac.c |    9 ++++++++-
     1 files changed, 8 insertions(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f567ef935094003ee70ea3fd10f5695d349c0f48
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 10 14:50:24 2005 +0100

    [PATCH] sb1250-mac: Check the actual setting for reporting hw checksumming.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/sb1250-mac.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7150bf8a98f14f1ba67e090ef2778004c746f465
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Tue Oct 18 14:46:38 2005 -0700

    [IB] mthca: Don't enter QP into MCG more than once.
    
    Avoid entering a QP as member of a multicast group multiple times.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 757d18faee58aa4c43bcaf9a44decf17fa68adeb
Author: Jiri Benc <jbenc@suse.cz>
Date:   Mon Oct 10 19:16:53 2005 +0200

    [PATCH] ieee80211: division by zero fix
    
    This fixes division by zero bug in ieee80211_wx_get_scan().
    
    Signed-off-by: Jiri Benc <jbenc@suse.cz>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cb1f7be73b6f708d4f4ce225a3bbc02908b729e4
Merge: 6fe43f9... bb7e257...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:25:28 2005 -0700

    Merge /home/trondmy/scm/kernel/git/torvalds/linux-2.6

commit ba9b543d5bec0a7605952e2ba501fb8b0f3b6407
Merge: c8f32be... 6fe43f9...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:24:35 2005 -0700

    Merge branch 'master' of ssh://rsync.linux-nfs.org/home/trondmy/www_sites/rsync.linux-nfs.org/pub/linux/nfs-2.6

commit 6fe43f9e3701f7a9f2be151a5e6cfe94b87e92f9
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:22 2005 -0700

    NFS: Fix rename of directory onto empty directory
    
     If someone tries to rename a directory onto an empty directory, we
     currently fail and return EBUSY.
     This patch ensures that we try the rename if both source and target
     are directories, and that we fail with a correct error of EISDIR if
     the source is not a directory.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4c780a4688b421baa896b59778c05d7e068e479f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:21 2005 -0700

    Fix Connectathon locking test failure
    
     We currently fail Connectathon test 6.10 in the case of 32-bit locks due
     to incorrect error checking.
     Also add support for l->l_len < 0 to 64-bit locks.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 550f57470c6506f5ef3c708335dea6bd48bf3dc4
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:21 2005 -0700

    NFSv4: Ensure that we recover from the OPEN + OPEN_CONFIRM BAD_STATEID race
    
     If the server is in the unconfirmed OPEN state for a given open owner
     and receives a second OPEN for the same open owner, it will cancel the
     state of the first request and set up an OPEN_CONFIRM for the second.
    
     This can cause a race that is discussed in rfc3530 on page 181.
    
     The following patch allows the client to recover by retrying the
     original open request.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b8e5c4c2978fa666287525a9de2fa648a7581262
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:20 2005 -0700

    NFSv4: If a delegated open fails, ensure that we return the delegation
    
     Unless of course the open fails due to permission issues.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 642ac54923e0291ae2c8e42edde18d8c9c0a3c84
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:19 2005 -0700

    NFSv4: Return delegations in case we're changing ACLs
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cae7a073a4c5484cc5713eab606bf54b46724ab3
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:19 2005 -0700

    NFSv4: Return delegation upon rename or removal of file.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cdce5d6b94b6182f6d8a5b7b52923933e98cbc92
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:18 2005 -0700

    VFS: Make link_path_walk set LOOKUP_CONTINUE before calling permission().
    
     This will allow nfs_permission() to perform additional optimizations when
     walking the path, by folding the ACCESS(MAY_EXEC) call on the directory
     into the lookup revalidation.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 6f926b5ba75c568296ec227e7d782db4ddbdca5c
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:18 2005 -0700

    [NFS]: Check that the server returns a valid regular file to our OPEN request
    
     Since it appears that some servers don't...
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 02a913a73b52071e93f4b76db3e86138d19efffd
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:17 2005 -0700

    NFSv4: Eliminate nfsv4 open race...
    
     Make NFSv4 return the fully initialized file pointer with the
     stateid that it created in the lookup w/intent.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 834f2a4a1554dc5b2598038b3fe8703defcbe467
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:16 2005 -0700

    VFS: Allow the filesystem to return a full file pointer on open intent
    
     This is needed by NFSv4 for atomicity reasons: our open command is in
     fact a lookup+open, so we need to be able to propagate open context
     information from lookup() into the resulting struct file's
     private_data field.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 039c4d7a82d8268ec71f59679460b41d0dd9b225
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:16 2005 -0700

     NFS: Fix up a race in the NFS implementation of GETLK
    
     ...and fix a memory corruption bug due to improper use of memcpy() on
     a struct file_lock.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 06735b3454824bd561decbde46111f144e905923
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:15 2005 -0700

    NFSv4: Fix up handling of open_to_lock sequence ids
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit faf5f49c2d9c0af2847837c232a432cc146e203b
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:15 2005 -0700

    NFSv4: Make NFS clean up byte range locks asynchronously
    
     Currently we fail to do so if the process was signalled.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 0a8838f972883112f0a7b259141b24db17583c2d
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:14 2005 -0700

    NFSv4: Add missing handling of OPEN_CONFIRM requests on CLAIM_DELEGATE_CUR.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 83c9d41e456033000ccfadf535f3098d8739488d
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:13 2005 -0700

    NFSv4: Remove nfs4_client->cl_sem from close() path
    
     We no longer need to worry about collisions between close() and the state
     recovery code, since the new close will automatically recheck the
     file state once it is done waiting on its sequence slot.
    
     Ditto for the nfs4_proc_locku() procedure.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit e6dfa553cffcb9740f932311dff42f81d6ac63bb
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:13 2005 -0700

    NFSv4: Remove obsolete state_owner and lock_owner semaphores
    
     OPEN, CLOSE, etc no longer need these semaphores to ensure ordering of
     requests.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 9512135df14f8293b9bc5e8fb22d4279dee5ff66
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:12 2005 -0700

    NFSv4: Fix a potential CLOSE race
    
     Once the state_owner and lock_owner semaphores get removed, it will be
     possible for other OPEN requests to reopen the same file if they have
     lower sequence ids than our CLOSE call.
     This patch ensures that we recheck the file state once
     nfs_wait_on_sequence() has completed waiting.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit cee54fc944422c44e476736c045a9e8053cb0644
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:12 2005 -0700

    NFSv4: Add functions to order RPC calls
    
     NFSv4 file state-changing functions such as OPEN, CLOSE, LOCK,... are all
     labelled with "sequence identifiers" in order to prevent the server from
     reordering RPC requests, as this could cause its file state to
     become out of sync with the client.
    
     Currently the NFS client code enforces this ordering locally using
     semaphores to restrict access to structures until the RPC call is done.
     This, of course, only works with synchronous RPC calls, since the
     user process must first grab the semaphore.
     By dropping semaphores, and instead teaching the RPC engine to hold
     the RPC calls until they are ready to be sent, we can extend this
     process to work nicely with asynchronous RPC calls too.
    
     This patch adds a new list called "rpc_sequence" that defines the order
     of the RPC calls to be sent. We add one such list for each state_owner.
     When an RPC call is ready to be sent, it checks if it is top of the
     rpc_sequence list. If so, it proceeds. If not, it goes back to sleep,
     and loops until it hits top of the list.
     Once the RPC call has completed, it can then bump the sequence id counter,
     and remove itself from the rpc_sequence list, and then wake up the next
     sleeper.
    
     Note that the state_owner sequence ids and lock_owner sequence ids are
     all indexed to the same rpc_sequence list, so OPEN, LOCK,... requests
     are all ordered w.r.t. each other.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 5e5ce5be6f0161d2a069a4f8a1154fe639c5c02f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 14:20:11 2005 -0700

    RPC: allow call_encode() to delay transmission of an RPC call.
    
     Currently, call_encode will cause the entire RPC call to abort if it returns
     an error. This is unnecessarily rigid, and gets in the way of attempts
     to allow the NFSv4 layer to order RPC calls that carry sequence ids.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit ea635a517e350eb03ab5f01618417f31b82a9a4d
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Oct 6 23:12:58 2005 -0400

    SUNRPC: Retry rpcbind requests if the server's portmapper isn't up
    
     After a server crash/reboot, rebinding should always retry, otherwise
     requests on "hard" mounts will fail when they shouldn't.
    
     Test plan:
     Run a lock-intensive workload against a server while rebooting the server
     repeatedly.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 59a10b172fccaea793352c00fd9065f0a5b4ef70
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Wed Oct 12 15:09:42 2005 +0800

    [PATCH] libata CHS: reread device identify info (revise #6)
    
    problem:
          id[53-58] might be changed after initializing device CHS settings.
    
    changes:
        - call ata_dev_reread_id() to reread the identify device info,
          after initializing device CHS settings.
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8cbd6df1f0ce977ab7b61feffa59879bb5e0ed8f
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Wed Oct 12 15:06:27 2005 +0800

    [PATCH] libata CHS: calculate read/write commands and protocol on the fly (revise #6)
    
         - merge ata_prot_to_cmd() and ata_dev_set_protocol() as
           ata_rwcmd_protocol()
         - pave road for read/write multiple support
         - remove usage of pre-cached command and protocol values and call
           ata_rwcmd_protocol() instead
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    ==============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 07506697d1c615924298406f2357810709c09bcd
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Wed Oct 12 15:04:18 2005 +0800

    [PATCH] libata CHS: move the initialization of taskfile LBA flags (revise #6)
    
       move the initialization of taskfile LBA flags
         "ATA_TFLAG_LBA" and "ATA_TFLAG_LBA48 flags"
       to the SCSI translation functions
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    
    =============
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5a476deff3d17093da39c4eccb2692ba714dcb11
Merge: dd4efa4... 39ca371...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 18 17:16:06 2005 -0400

    Merge branch 'master'

commit ba8e9310244180bbc820e865d2e4378809b4a443
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 18 14:14:56 2005 -0700

    [IB] Fail sysfs queries after device is unregistered
    
    We keep IB device structures around until the last sysfs reference is
    gone, but we shouldn't ask the low-level driver to do anything after
    the LLD unregisters the device.  To handle this, check the reg_state
    field and just fail sysfs show() requests if the device has already
    been unregistered.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 28af493cd7b89cba7e3ee534079cf4f41bb4b4f9
Merge: 74cfe03... 39ca371...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 18 17:14:17 2005 -0400

    Merge branch 'master'

commit d476306f1cc9156ce4b42586aacce70a356ef656
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 18 14:07:07 2005 -0700

    [IB] mthca: Add struct pci_driver.owner field
    
    Set mthca_driver.owner to THIS_MODULE.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 74cfe03f80adc320bde4dd37616354aefe2271aa
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Wed Oct 12 23:11:01 2005 +0100

    [PATCH] Initialize the .owner field the tty_ldisc structure.
    
    If .owner isn't set the module can be unloaded even while still active.
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5793f4be23f0171b4999ca68a39a9157b44139f3
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Fri Oct 14 14:28:09 2005 +0100

    [PATCH] SMACK support for mkiss
    
    SMACK (Stuttgart Modified Amateurradio CRC KISS) is a KISS variant that
    uses CRC16 checksums to secure data transfers between the modem and host.
    It's also used to communicate over a pty to applications such as Wampes.
    
    Patches for Linux 2.4 by Thomas Osterried, upgraded to the latest
    mkiss 2.6 mkiss driver by me.
    
    Signed-off-by: Thomas Osterried <thomas@x-berg.in-berlin.de>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bc0a7438605c5e0cafdb32a3caf46254e146b116
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Mon Oct 17 12:42:32 2005 +0100

    [PATCH] rcu in bpqether driver.
    
    From Suzanne Wood <suzannew@cs.pdx.edu>:
    
    Clarify RCU implementation in bpqether.c.
    
    Because bpq_new_device() calls list_add_rcu() and bpq_free_device() calls
    list_del_rcu(), substitute list_for_each_entry_rcu() for
    list_for_each_entry() in bpq_get_ax25_dev() and in bpq_seq_start().
    
    Add rcu dereference protection in bpq_seq_next().
    
    The rcu_read_lock()/unlock() in bpq_device_event() are removed because
    netdev event handlers are called with RTNL locking in place.
    
    FYI: bpq_free_device() calls list_del_rcu() which, per list.h, requires
    synchronize_rcu() which can block or call_rcu() or call_rcu_bh() which
    cannot block.  Herbert Xu notes that synchronization is done here by
    unregister_netdevice().  This calls synchronize_net() which in turn uses
    synchronize_rcu().
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ad4ebed00fbf570411edbf6eb6c391e16b71df25
Author: Ravinandan Arakali <ravinandan.arakali@neterion.com>
Date:   Mon Oct 17 18:26:20 2005 -0700

    [PATCH] S2io: Offline diagnostics fixes
    
    This patch fixes the following bugs with offline diagnostics
    code(run with "ethtool -t").
    
    1. After running offline diagnostics, adapter would report
    corrupted packets on receive. This was because of adapter not
    being brought out of "RLDRAM test mode".
    2. Current EEPROM test works only for Xframe I. Since Xframe II
    uses different interface(SPI), support for this interface has
    been added. Also, since SPI supports write access to all areas
    of EEPROM, negative testing is done only for Xframe I.
    3. Return values from subfunctions of offline diagnostics have
    been corrected.
    4. In register test, expected value from rx_queue_cfg register
    is made to depend on adapter type.
    5. After the test, need to restore values at EEPROM offsets
    0x4F0 and 0x7F0. These locations were modified as part of test.
    6. Use macro SPECIAL_REG_WRITE for write access to mc_rldram_test_ctrl
    register. Also, couple of unnecessary writes to mc_rldram_test_ctrl
    have been removed.
    
    Signed-off-by: Ravinandan Arakali <ravinandan.arakali@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cff6bf970965c98c62007fc8a36527fd147fe233
Merge: 6cd7525... 39ca371...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Tue Oct 18 13:50:52 2005 -0700

    Merge /home/trondmy/scm/kernel/git/torvalds/linux-2.6

commit c6f5cb7be0ab478e0618e3c2c6ada27f56d1e7fb
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 18 13:22:16 2005 -0700

    [IB] mthca: Use enum in mthca_alloc_db() prototype
    
    Make the type parameter of mthca_alloc_db() be an enum mthca_db_type
    instead of an int.  This doesn't have any practical effect but
    documents the functions a little better.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 4b2d319b53810ab00ef3d8fdfc1c1ab0647ab0a7
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 18 12:20:06 2005 -0700

    [IPoIB] Improve ipoib_timeout() output
    
    Use jiffies_to_msecs() so we print a human-readable time so
    we don't have to worry about what HZ is configured to, and
    print out a few values to make post-mortem analysis easier.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 46aab8c584ea69cdbe1060f5eae5bf092763f710
Merge: 77f543c... b09a491...
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 18 14:53:41 2005 +1000

    Merge rsync://oak/kernels/iseries/work/

commit b09a4913b15d2544f8918f05b9937cb4e99a2319
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Oct 18 14:51:57 2005 +1000

    powerpc: change sys32_ to compat_sys_
    
    This allows us to get rid of one type of entry in systbl.S.
    
    In passing we remove the duplicate compat_sys_getdents and
    compat_sys_utimes for which there are generic versions.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 77f543cb467c44960bafa6c91f5af75919d693e4
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 18 14:19:41 2005 +1000

    powerpc: Fix various compile errors with ARCH=ppc, ppc64 and powerpc
    
    This makes ppc use the syscalls.c from arch/powerpc/kernel, exports
    copy_and_flush from head_32.S for use by prom_init.c (ARCH=powerpc),
    and consolidates the sys_fadvise64_64 implementations for 32-bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 81e7009ea46c951860b8716ee427ff4f54dd26fc
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Oct 18 11:17:58 2005 +1000

    powerpc: merge ppc signal.c and ppc64 signal32.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 762a03e21ed08daa5170d9cd98e83539861e7692
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Oct 17 15:38:50 2005 -0700

    [IB] ucm: quiet sparse warnings
    
    Make ctx_id_mutex and ctx_id_table static to quiet sparse warnings.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 07d357d0cbf89d9980b1769d5444a3c70f000e00
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Mon Oct 17 15:37:43 2005 -0700

    [IB] CM: bind IDs to a specific device
    
    Bind communication identifiers to a device to support device removal.
    Export per HCA CM devices to userspace.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>

commit 595e726a1f28420c5fc7970b1a87cbce77a1cd45
Author: Sean Hefty <sean.hefty@intel.com>
Date:   Mon Oct 17 15:33:47 2005 -0700

    [IB] merge ucm.h into ucm.c
    
    Eliminate ucm.h.  Replace ucm_dbg with direct call to printk KERN_ERR.
    
    Signed-off-by: Sean Hefty <sean.hefty@intel.com>

commit 67cdb40ca444c09853ab4d8a41cf547ac26a4de4
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 14 15:26:04 2005 -0700

    [IB] uverbs: Implement more commands
    
    Add kernel support for userspace calling poll CQ, request CQ
    notification, post send, post receive, post SRQ receive, create AH and
    destroy AH commands.  These commands allow us to support userspace
    verbs for devices that can't perform these operations directly from
    userspace (eg the PathScale HCA).
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 91ecd4ae178bed83da4f6a94ced7992e4d7711eb
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 14 15:21:44 2005 -0700

    [IB] uverbs: Add ABI structures for more commands
    
    Add kernel/user ABI structures for marshalling poll CQ, request CQ
    notification, post send, post receive, post SRQ receive, create AH and
    destroy AH commands.  These commands allow us to support userspace
    verbs for devices that can't perform these operations directly from
    userspace (eg the PathScale HCA).
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 883a99c7024c5763d6d4f22d9239c133893e8d74
Author: Roland Dreier <rolandd@cisco.com>
Date:   Fri Oct 14 14:00:58 2005 -0700

    [IB] uverbs: Add a mask of device methods allowed for userspace
    
    Give each device a uverbs_cmd_mask, so that a low-level driver can
    control which methods may be called on behalf of userspace.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 56c202d6e4f542468fe79b8a735cf128898b87fb
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 13 10:45:02 2005 -0700

    [IB] fail SA queries if device initialization failed
    
    If the SA query module's initialization fails for a device, then that
    device won't have a struct ib_sa_device associated.  We should fail SA
    queries in that case, rather than blindly dereferencing the NULL
    pointer we get back from ib_get_client_data().
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 305a7e87055dde2466a855c24ef51a606915d149
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 11 15:39:38 2005 -0700

    [IB] uverbs: unlock correctly in error paths
    
    A couple of functions were missing spin_unlock calls in error paths.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 5b6810e048435de508ef66aebd6b78db13d651b8
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Oct 11 11:08:24 2005 -0700

    [IPoIB] Rename ipoib_create_qp() -> ipoib_init_qp() and fix error cleanup
    
    ipoib_create_qp() no longer creates IPoIB's QP, so it shouldn't
    destroy the QP on failure -- that unwinding happens elsewhere, so the
    current code can cause a double free.  While we're at it, the
    function's name should match what it actually does, so rename it to
    ipoib_init_qp().
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit efaae8f71f3088cc73c9e5ceabbd314aa82ac768
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Mon Oct 10 13:48:07 2005 -0700

    [IB] mthca: Better limit checking and reporting
    
    Check the sizes of CQs, QPs and SRQs when creating objects, and fail
    instead of creating too-big queues.  Also return real limits instead
    of just plausible-sounding values from mthca_query_device().
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 4ab6fb7e5b3d34b65a1c3473d80d9d1a462d3a49
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 6 13:28:16 2005 -0700

    [IB] Fix leak on MAD initialization failure
    
    There is a bug in ib_mad_init_device(): if ib_agent_port_open() fails
    for a given port, then the current code doesn't call ib_mad_port_close()
    for that port.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit e23d6d2b090658007732770720a44375cba23200
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 6 13:25:16 2005 -0700

    [IB] mthca: detect SRQ overflow
    
    The hardware relies on us keeping one extra work request that never
    gets used in SRQs.  Add checks to the SRQ work request posting
    functions so that they fail when someone is about to use up that extra
    work request, rather than when someone uses the very last work request.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 90f104da22bbf2e2b8a2136c12fb4e013fccf504
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Oct 6 13:15:56 2005 -0700

    [IB] mthca: SRQ limit reached events
    
    Our hardware supports generating an event when the number of receives
    posted to a shared receive queue (SRQ) falls below a user-specified
    limit.  Implement mthca_modify_srq() to arm the limit, and add code to
    handle dispatching SRQ events when they occur.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 116c0074ecfd6f061570856bec52b691d54dbd3c
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Oct 3 09:32:33 2005 -0700

    [IB] Check port number in ib_query_port()/ib_modify_port()
    
    Check port number before passing query_port or modify_port operations
    on to device driver.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit f575394f1de9b4afa4b474f1882c7e2d3b8e51d7
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Oct 3 09:18:02 2005 -0700

    [IB] uverbs: reject invalid memory registration permission flags
    
    Reject userspace memory registrations with invalid permission flags:
    "local write" is required if "remote write" or "remote atomic" is also
    requested.
    
    Pointed out by Jack Morgenstein <jackm@mellanox.co.il>
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 9825051e8c81cbd4400333e7cdc04be77a0bab75
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Sat Oct 1 13:09:44 2005 -0700

    [IB] mthca: Fill in more fields in query_port method
    
    Add code to fill in the bad_pkey_cntr, max_mtu, active_mtu and
    subnet_timeout fields in mthca_query_port().
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 274c0891637c44ac71f3ac40be91b43c2318883a
Author: Roland Dreier <rolandd@cisco.com>
Date:   Thu Sep 29 14:17:48 2005 -0700

    [IB] uverbs: Add device-specific ABI version attribute
    
    Add abi_version attribute to uverbs class devices to allow for
    ABI versioning of device-specific interfaces.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit eb9d3cd5ce2828fbb99ed7270089ea152c8f64b3
Author: Roland Dreier <rolandd@cisco.com>
Date:   Tue Sep 27 15:07:25 2005 -0700

    [IB] uverbs: Fix up resource creation error paths
    
    By waiting to add resources to our lists until after the last
    operation that can fail, we don't have to remove them from their lists
    in the error path.  Also, we should hold the idr mutex until we know
    whether resource creation has succeed or failed, to avoid someone
    finding a resource in our table before we're ready.
    
    Loosely based on work by Robert Walsh <rjwalsh@pathscale.com>.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 6b73597e7062118c0549c2702bfb7d273518c906
Author: Roland Dreier <rolandd@cisco.com>
Date:   Mon Sep 26 13:53:25 2005 -0700

    [IB] uverbs: ABI-breaking fixes for userspace verbs
    
    Introduce new userspace verbs ABI version 3.  This eliminates some
    unneeded commands, and adds support for user-created completion
    channels.  This cleans up problems with file leaks on error paths, and
    also makes sure that file descriptors are always installed into the
    correct process.
    
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 33033b797225553e48ca68d8d8dc5e64ec22e02b
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Mon Sep 26 12:30:02 2005 -0700

    [IB] mthca: Report correct atomic capability
    
    Return correct atomic capability flag from mthca query function.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 0c33aeedb2cf99d877ad9adc7c3df07870f60293
Author: Jack Morgenstein <jackm@mellanox.co.il>
Date:   Mon Sep 26 11:47:53 2005 -0700

    [IB] Add checks to multicast attach and detach
    
    Add checks so that we only allow multicast attach/detach with
    a valid multicast GID and the correct QP type.
    
    Signed-off-by: Jack Morgenstein <jackm@mellanox.co.il>
    Signed-off-by: Roland Dreier <rolandd@cisco.com>

commit 7946ada30bc45546cefc85809ba0fd07879eff52
Merge: 98b2703... 3d80636...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Mon Oct 17 15:00:34 2005 +0100

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit 55d363397f1bdfa4fe861f0e2fadb058c79dafea
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Oct 13 15:46:22 2005 +1000

    [PATCH] powerpc: Another maple merge tree fix
    
    With ARCH=powerpc, a spurious ifdef in prom_init prevented the
    seconday hold loop being correctly copied down on Maple.  With this
    patch, Maple boots with ARCH=powerpc
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 61f684ec074f40e2e13e750513df42c0c046689b
Author: David Gibson <david@gibson.dropbear.id.au>
Date:   Thu Oct 13 14:28:58 2005 +1000

    [PATCH] powerpc: Fix use of LOADBASE in merge tree
    
    The merge-tree version of LOADBASE actually loads the whole given
    address from the toc for ppc64.  The matching OFF macro adjust for
    this, using an offset of 0 for ppc64, but we weren't using that in
    power4_idle.
    
    Signed-off-by: David Gibson <dwg@au1.ibm.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ea703ce20699dd85ad7954e34b71a2c7c47b6132
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Oct 11 23:54:00 2005 -0500

    [PATCH] powerpc: replace use of _GLOBAL with .globl
    
    The _GLOBAL() macro is for text symbols only. Changed to using
    .globl for .data symbols.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5f2967553394d01f4bafd03398777a42e8344d28
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 20:14:59 2005 +1000

    powerpc: Make CONFIG_PROC_DEVICETREE independent of CONFIG_PPC_OF
    
    ... since all platforms will have a device tree.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd184343b45e94fd3b0d4d0865070924bc6195ab
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 20:13:47 2005 +1000

    powerpc: Clear the BSS at the start of early_init with ARCH=ppc
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7ac59c624992281ff315911dea2a98ca3f3ff06e
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 20:12:39 2005 +1000

    ppc: Fix various compile errors resulting from ptrace.c merge
    
    This introduces flush_{fp,altivec,spe}_to_thread and fixes a
    branch-too-far error in linking.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3e63b9ec51eb1d9f441e5015427b23d70e5991b3
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 20:11:03 2005 +1000

    ppc: Use the merged of_device.c from arch/powerpc/kernel
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 30286ef6e044bc3d9019c3d8b900572e3fa05e65
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 20:10:13 2005 +1000

    powerpc: Merge syscalls.c and sys_ppc32.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 30cd4a4e9c25e154ba087848a839bd0c6d024092
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 17 19:20:46 2005 +1000

    powerpc: Initialize btext subsystem later, after prom_init
    
    We were initializing the btext stuff from prom_init(), thus breaking
    the rule that all communication between prom_init() and the rest of
    the kernel has to be via the flattened device tree.  This removes
    the btext initialization calls from prom_init() and initializes it
    instead after the device tree is unflattened.  It would be nice to
    do it earlier, but that needs some more infrastructure to find the
    properties we need in the flattened device tree.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7dffb72028bfd909ac51a1546d182de2df4d2426
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 17 11:50:32 2005 +1000

    ppc32: use L1_CACHE_SHIFT/L1_CACHE_BYTES
    
    instead of L1_CACHE_LINE_SIZE and LG_L1_CACHE_LINE_SIZE
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit cf764855620aa1aa5b134687ca18b841ac9be4c7
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 17 11:46:53 2005 +1000

    powerpc: fix 32bit LOADADDR macro
    
    I forgot a semicolon.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit c6d2ea92d162c81d4d593b4b5e0f5ceb1b940c72
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 14 17:16:17 2005 +1000

    powerpc: move iSeries/HvCallPci.h to platforms/iseries/call_pci.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 0e29bb1a4ef69120a614391a649510010031dd8a
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 14 17:09:16 2005 +1000

    powerpc: move iSeries/HvCallHpt.h to platforms/iseries/call_hpt.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 20f48ccfa015d8b8391bbf07fc27618453f44969
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 14 16:49:58 2005 +1000

    powerpc: eliminate DsaAddr from pci_dn
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit bffa8fc3835b0d3c4a59af8aceeea3aba823b032
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 14 15:06:10 2005 +1000

    powerpc: remove ISERIES_[SUB]BUS macros
    
    This allows us to simplify a couple of things.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 426c1a11a677e39a8c8ed744a521d0f4cb2e417e
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Oct 14 14:51:42 2005 +1000

    powerpc: move iSeries/iSeries_pci.h to platforms/iseries
    
    The only real user of this file outside platforms/iseries was
    drivers/net/iseries_veth.c but all it wanted was ISERIES_HV_ADDR()
    so we move that to abs_addr.h (and lowercase it).
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit dd4efa44ebf2a8a0e5edf60a53eadec981b4b10a
Merge: 1a04392... 046d20b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 13 21:23:44 2005 -0400

    Merge branch 'master'

commit 59aee3c2a1e69fe5062bd1facb72d6fcea3f3f8f
Merge: 0d69ae5... 046d20b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 13 21:22:27 2005 -0400

    Merge branch 'master'

commit c8f32be3874a310fa963d47b534a98be1a05a4cc
Merge: 7217cbc... 046d20b...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 13 18:49:40 2005 -0400

    Merge rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 7217cbccbd0c620a6d234ebbe5e58d46d2188d0e
Merge: 6cd7525... c931488...
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Oct 13 18:49:06 2005 -0400

    Merge rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6

commit 190554db7bcd41935827f71d4f6f787673da208a
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 13 16:14:15 2005 +1000

    powerpc: fix uname -m
    
    It will now give ppc64 on 64bit platforms and ppc on 32bit
    platforms.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit e8a30302abc42a0c537b9326883523da9963deb6
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 13 15:52:04 2005 +1000

    powerpc: merge ptrace.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit eec5ef909888cd9d25a61f904cd8f0db50ea0455
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 13 15:16:25 2005 +1000

    ppc64: use powerpc of_device.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ae2752050d21f5aef811c362d3a47dce4694068d
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 13 14:12:25 2005 +1000

    ppc64: fix arch/ppc64/kernel/Makefile
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d4bf9a7858a0766cafb21dcb66ff9a5d92c1cd09
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Oct 13 13:40:54 2005 +1000

    ppc64: merge binfmt_elf32.c
    
    and use start_thread for both 32 and 64 bit bineries.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 0f17d0742f27b7a69b0e2dfb21190f06ea3a9087
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Oct 12 23:23:44 2005 +1000

    powerpc: make 64 bit binaries work
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7062018687da3d5d4966f58d6f0a58528b1e331b
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Oct 12 17:44:55 2005 +1000

    powerpc: create 32 bit LOADADDR macro
    
    and use it in misc_32.S
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 4920960f577edcb0a5ef03823a53911cca5875e1
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Oct 12 15:55:09 2005 +1000

    powerpc: consolidate cputable.c
    
    Also simplify arch/ppc64/kernel/Makefile
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 84d2f07e8e5e2424eec0f5acfef6792c924a0549
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Oct 12 15:32:05 2005 -0700

    CIFS: cifs_writepages should not write beyond end of file
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7e130edf712ac054aecf643f9d3d0142a9679e6a
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 12 17:03:36 2005 +1000

    ppc64: Remove duplicate versions of some headers
    
    This removes three headers from include/asm-ppc64 that are now in
    include/asm-powerpc and are sufficiently similar that they can be
    used with ARCH=ppc64.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5629d41d5ce255802cd3c350fbadfe5f3aa5f279
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 12 17:01:50 2005 +1000

    powerpc: Bring in some changes made to arch/ppc and include/asm-ppc64
    
    Recent commits upstream have changed files which are currently
    duplicated in arch/powerpc and include/asm-powerpc.  This updates
    them with the corresponding changes.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3eac8c69d1ac1266327f4e29deb23716a12c6d30
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 12 16:58:53 2005 +1000

    powerpc: Move default hash table size calculation to hash_utils_64.c
    
    We weren't computing the size of the hash table correctly on iSeries
    because the relevant code in prom.c was #ifdef CONFIG_PPC_PSERIES.
    This moves the code to hash_utils_64.c, makes it unconditional, and
    cleans it up a bit.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b6ec995a21a9428aef620b5adf46d047a18d88b8
Merge: 3a5f8c5... da64c6e...
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Oct 12 14:43:32 2005 +1000

    Merge from Linus' tree

commit 47c786e79b46ef478a1123cb57c711ecb481cbfa
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Oct 11 20:03:18 2005 -0700

    [CIFS] Add null malloc response check in notify experimental code
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1047abc159b4eb4ba4a7342a0969e16e9d4b4c69
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Oct 11 19:58:06 2005 -0700

    [CIFS] CIFS Stats improvements
    
    New cifs_writepages routine was not updated bytes written in cifs stats.
    Also added ability to clear /proc/fs/cifs/Stats by writing (0 or 1) to it.
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 3a5f8c5f788d68e325d9fe3c26f4df5a5aee838a
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Oct 11 19:40:20 2005 +1000

    powerpc: make iSeries boot again
    
    On ARCH=ppc64 we were getting htab_hash_mask recalculated
    to the correct value for our particular machine by accident.
    In the merge tree, that code was commented out, so htab_hash_mask
    was being corrupted.
    
    We now set ppc64_pft_size instead which gets htab_has_mask
    calculated correctly for us later.  We should put an
    ibm,pft-size property in the device tree at some point.
    
    Also set -mno-minimal-toc in some makefiles.
    Allow iSeries to configure PROC_DEVICETREE.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f255f0dd1b4ef7af0e48f5603d1f27ee4bad5848
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Oct 10 17:10:54 2005 +1000

    powerpc: pci_dn's should point to their device_node's
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 98b270362bb9ea6629732e7f5b65b8a6ce4743c7
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 11 15:40:40 2005 +0100

    NTFS: The big ntfs write(2) rewrite has arrived.  We now implement our own
          file operations ->write(), ->aio_write(), and ->writev() for regular
          files.  This replaces the old use of generic_file_write(), et al and
          the address space operations ->prepare_write and ->commit_write.
          This means that both sparse and non-sparse (unencrypted and
          uncompressed) files can now be extended using the normal write(2)
          code path.  There are two limitations at present and these are that
          we never create sparse files and that we only have limited support
          for highly fragmented files, i.e. ones whose data attribute is split
          across multiple extents.   When such a case is encountered,
          EOPNOTSUPP is returned.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit b6a47fd8ff08a9d5cd279cdb8d97a619983575fa
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Tue Oct 11 09:06:59 2005 -0500

    JFS: Corrupted block map should not cause trap
    
    Replace assert statements with better error handling.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>

commit 29f5f3c141c58b0a4c0765c77da612271875bcce
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 11 14:59:40 2005 +0100

    NTFS: Remove address space operations ->prepare_write and ->commit_write in
          preparation for the big rewrite of write(2) support in ntfs.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 29b8990513b077dc388b0756acd31465e5c21441
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 11 14:54:42 2005 +0100

    NTFS: In attrib.c::ntfs_attr_set() call balance_dirty_pages_ratelimited()
          and cond_resched() in the main loop as we could be dirtying a lot of
          pages and this ensures we play nice with the VM and the system as a
          whole.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit f696012330a67a60a9822ed48d1e9ecba73b4f18
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 22:10:49 2005 +1000

    ppc64: compile fix - define execve in misc.S
    
    This used to be inline in include/asm-ppc64/unistd.h, but isn't
    inline in the merged include/asm-powerpc/unistd.h, so we need a
    definition here.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3abec857a0f7491b397a97337cc057b84a1d637a
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 22:09:48 2005 +1000

    ppc64: Use merged versions of init_task.c and process.c.
    
    These two files are now built in arch/powerpc/kernel instead of
    arch/ppc64/kernel.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fd582ec88eb8d2d907876603e4ecebe6eab330d9
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 22:08:12 2005 +1000

    ppc: Various minor compile fixes
    
    This fixes up a variety of minor problems in compiling with ARCH=ppc
    arising from using the merged versions of various header files.
    A lot of the changes are just adding #include <asm/machdep.h> to
    files that use ppc_md or smp_ops_t.
    
    This also arranges for us to use semaphore.c, vecemu.c, vector.S and
    fpu.S from arch/powerpc/kernel when compiling with ARCH=ppc.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 35d81a4bfe28a6ea81c9f67c9ce40543124ded0b
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 22:03:09 2005 +1000

    ppc: Adapt to asm-powerpc/irq.h irq_canonicalize changes
    
    Now instead of having a ppc_md function, we just have a variable
    which says whether to do the i8259 irq canonicalization or not,
    and set that variable on the platforms that need that.  It looks
    to me that radstone_ppc7d was trying to use irq canonicalization
    for something else in a broken kind of way - it will need to be
    fixed properly.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 29d8699ebb1e8948a612306c69e6d9c4ef23342f
Merge: e943825... 907a426...
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 11 09:29:48 2005 +0100

    Merge branch 'master' of /usr/src/ntfs-2.6/

commit cc5aa206d2c853929ce67d8f5ebb57cd1c7fd413
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 17:35:20 2005 +1000

    powerpc: Remove debug messages from setup_64.c
    
    A bunch of printks were left in arch/powerpc/kernel/setup_64.c from
    when I was chasing a bug.  This removes them.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1a04392bd6439876b1552793389cbb5be356ea54
Merge: 68399bb... 3c92c2b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 11 01:48:37 2005 -0400

    Merge branch 'master'

commit 68399bb5080c1d96f2110b0a040b39d3ccd7a18a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 11 01:44:14 2005 -0400

    [libata pdc_adma] license update, minor cleanup
    
    from me: change from OSL+GPL to GPL (with approval)
    
    from Mark: Gets rid of an unneeded control bit, slightly increasing
    throughput.

commit 4ca9c190d902caa7efb899a4c7fc8c6e6d926e95
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 19:52:13 2005 -0700

    [CIFS] Fix oops in experimental notify code (when CONFIG_CIFS_EXPERIMENTAL
    was turned on).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit abc244dd855a8013db8c850c21811c12a22b608a
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:47:23 2005 +1000

    powerpc: Remove xmon.h include from arch/powerpc/platforms/powermac/pic.c
    
    ... since it isn't needed.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 60a3d741780a883f4ce10c0fab99e8542ec65e04
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:46:10 2005 +1000

    powerpc: Merged asm/xmon.h
    
    Xmon itself isn't merged yet, though.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8d66912c3d12df45a59d4e2a66b5ae622e3524b7
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:33:08 2005 +1000

    powerpc: Remove 83xx from arch/powerpc/platforms/Makefile for now
    
    Since we don't have an 83xx directory or a 83xx/Makefile, having
    83xx in causes make clean to fail.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3b341c1c410078bdc4128e08d4dfeef491697198
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:28:16 2005 +1000

    powerpc: Merged asm/i8259.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 508c40227caee4cef0e963e61a3a5172a108b455
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:26:48 2005 +1000

    powerpc: Merged asm/backlight.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 20f629549b30a1154c8b5e830cb10a0c0faa875f
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 11 09:25:40 2005 +1000

    powerpc: Make building the boot image work for both 32-bit and 64-bit
    
    At the moment we don't have a merged arch/powerpc/boot, so we build the
    boot images in arch/ppc/boot and arch/ppc64/boot.  Unfortunately the
    makefile targets are different in those two directories, so this makes
    a change to accommodate both for the moment.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit edea3ab58f8edd5f72d31f891ab4f34382e97e3a
Author: Mark Lord <liml@rtr.ca>
Date:   Mon Oct 10 17:53:58 2005 -0400

    libata: add new driver pdc_adma for PDC ADMA ATA cards

commit 34210f33025a3256b9ac3f0a182f02f1879140cb
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 14:31:13 2005 -0700

    [CIFS] Still missing a line from previous fix
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 9e2e85f82fa280e937ee42152e7cbaff78be01a2
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 14:28:38 2005 -0700

    [CIFS] Fix minor build problem with previous changeset
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit b387eaeb666f6a5e24990a1f4d6a0447ae14315d
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 14:21:15 2005 -0700

    [CIFS] Do not shrink tcp sndbuf/rcvbuf from their defaults
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 5e1253b50111220f06ee13bc4e555d89ff39176b
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 14:06:37 2005 -0700

    [CIFS] Correct cifs tcp retry when some data sent before getting EAGAIN.
    Continue implementation of cifs umount begin to allow force unmounts of
    cifs mounts.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 02c37a6df558fb8768c4c8ae792e86e9abf2d733
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 11:49:37 2005 -0700

    [CIFS] Update cifs version to 1.38
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 190fdeb84499a2dc046adae2eebfdda49e315e96
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 11:48:26 2005 -0700

    [CIFS] Fix byte range locking to Windows when Windows server returns
    illegal RFC1001 length (which had caused the lock to block forever
    until killed).

commit 0ae0efada36219024e4e3008f16c993d5d091280
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 10:57:19 2005 -0700

    [CIFS] Fix rsize calculation so that large readx flag is checked.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 68058e757573d4e81550e74c5a03a29a29069ce7
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 10 10:34:22 2005 -0700

    [CIFS] Reduce CIFS tcp congestion timeout (it was too long) and backoff
    ever longer amounts (up to 15 seconds).  This improves performance
    especially when using large wsize.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 3c3f42d63a11f2e22dbff6bb4d170f92dbd39316
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:58:41 2005 +1000

    powerpc: Start merging 64-bit support into powermac files
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e574d238ab907963ae6f97cb6bf12bb8fd48c376
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:58:10 2005 +1000

    powerpc: Fix compilation for 32-bit configs
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c5200c90db3823a6e2f529acf202c4aed04966ae
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:57:03 2005 +1000

    powerpc: Fix off-by-one error in prom_init.c
    
    This was preventing us from recognizing that we did actually
    instantiate RTAS successfully on pSeries.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit eef289f79c03ba5ca197e2ac1e33906175f01c39
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:56:11 2005 +1000

    powerpc: Merge asm/unistd.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 1b92313d5ba993bb6e38a6205ccc64a7595cd0a6
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:54:57 2005 +1000

    powerpc: Merge asm/irq.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 76f9f87fa51c9fb62c17986e2066ed467ac2da05
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:52:26 2005 +1000

    powerpc: Get iseries to compile with ARCH=powerpc
    
    This moves the Device_List member from struct device_node to
    struct pci_dn, which cleans up the device_node and makes the code
    a little simpler.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 40ef8cbc6d360e564573eb19582249c35d8ba330
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:50:37 2005 +1000

    powerpc: Get 64-bit configs to compile with ARCH=powerpc
    
    This is a bunch of mostly small fixes that are needed to get
    ARCH=powerpc to compile for 64-bit.  This adds setup_64.c from
    arch/ppc64/kernel/setup.c and locks.c from arch/ppc64/lib/locks.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bc6f8a4b199156897f6eb5b70bf5c1a4773f4e2b
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:45:07 2005 +1000

    powerpc: move lparmap.c to arch/powerpc/kernel
    
    Since lparmap.s gets included in arch/powerpc/kernel/head_64.S,
    this avoids depending on a file in another directory.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5a408329ed19cf2a80e831d28cbd93d2e36155a6
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:41:25 2005 +1000

    powerpc: Fix bug caused by negation of 64-bit reloc_offset value
    
    Although both ppc32 and ppc64 have a reloc_offset function, the ppc64
    one produced the opposite sign to the ppc32 one.  This standardizes
    on the ppc32 sign and fixes the merged 64-bit code to account for that.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 4a2885630bc0735e573bced7001dae9750cb80d5
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:38:46 2005 +1000

    powerpc: Reduce the 32/64-bit diffs in vmlinux.lds.S
    
    Also adds the definition of the _sdata symbol to the ppc64 vmlinux.lds.S.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8641778049e75c1da66e66441a6d8b7a2069f607
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:37:57 2005 +1000

    powerpc: Reduce the 32/64-bit differences in traps.c
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b42b661745c8d78cd3483752fb22cc7420c67f74
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:37:16 2005 +1000

    powerpc: Make prom_init.c suitable for both 32-bit and 64-bit
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9994a33865f4d55c44c9731c01e1f891543278de
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:36:14 2005 +1000

    powerpc: Introduce entry_{32,64}.S, misc_{32,64}.S, systbl.S
    
    The system call table has been consolidated into systbl.S.  We have
    separate 32-bit and 64-bit versions of entry.S and misc.S since the
    code is mostly sufficiently different to be not worth merging.
    There are some common bits that will be extracted in future.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 06d67d54741a5bfefa31945ef195dfa748c29025
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:29:05 2005 +1000

    powerpc: make process.c suitable for both 32-bit and 64-bit
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit daec962e27490be4fae9ab5a51d0c17f6e638715
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:25:26 2005 +1000

    powerpc: Use arch/powerpc/mm and arch/powerpc/lib for 64-bit
    
    This also puts a copy of indirect_pci.c in arch/powerpc/sysdev
    so that we don't need to build in arch/ppc/syslib.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b3b8dc6c07cecc1f8d52d03f677206bdf9f794c9
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:20:10 2005 +1000

    powerpc: Use reg.h instead of processor.h when we just want reg names
    
    Now that the register names and bit definitions are all in reg.h,
    use that instead of processor.h in assembly code in a few places.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ff64208df7eb17c5526197449762ff5e04a95de6
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:15:52 2005 +1000

    powerpc: Merge Kconfig.debug
    
    This merges in the ppc64 bits into arch/powerpc/Kconfig.debug
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f6d57916db2009bd7e220472200cd131fc010d64
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:13:53 2005 +1000

    powerpc: rename powermac files to remove pmac_ prefix
    
    Since the files are now in arch/powerpc/platforms/powermac, the
    pmac_ prefix that they had is redundant.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c17e3325ba603642922219b19623764ba5280ad4
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:07:35 2005 +1000

    ppc64: Use SPRN_ prefix for special purpose register names
    
    Now that we are using the merged reg.h we have to use the SPRN_xxx
    names rather than the xxx names.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 69a80d3f69d0b2d7fae5a73c6e034d402d434d8a
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 22:03:41 2005 +1000

    powerpc: move pSeries files to arch/powerpc/platforms/pseries
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit ab1f9dac6eea25ee59e4c8e1cf0b7476afbbfe07
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 21:58:35 2005 +1000

    powerpc: Merge arch/ppc64/mm to arch/powerpc/mm
    
    This moves the remaining files in arch/ppc64/mm to arch/powerpc/mm,
    and arranges that we use them when compiling with ARCH=ppc64.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 70d64ceaa1a84d2502405422a4dfd3f87786a347
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 21:52:43 2005 +1000

    powerpc: Rename files to have consistent _32/_64 suffixes
    
    This doesn't change any code, just renames things so we consistently
    have foo_32.c and foo_64.c where we have separate 32- and 64-bit
    versions.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a432403a89646614252c3bb6dfbe897c8312ab35
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 20:49:07 2005 +1000

    ppc64: Use the merged lmb routines
    
    The only real change here is that lmb_enforce_memory_limit now takes
    the memory_limit as a parameter instead of as a global variable.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9f04b9e327c495f8ddbf89c08da6cbe626e1b1b3
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 14:19:43 2005 +1000

    powerpc: Merged processor.h.
    
    This adds register definitions from the ppc64 processor.h to reg.h,
    and makes a single merged processor.h.  I moved __is_processor from
    the ppc64 system.h to the merged reg.h along with the PVR register
    constants.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b60fc8bbd2d0ea2a9b1fc7271d521fcf47f27bfd
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 14:14:55 2005 +1000

    powerpc: Make some #includes explicit.
    
    In preparation for merging processor.h, this adds some explicit
    but won't be after the merge.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b5bbeb23732196558222a2827092f5b7be8a7945
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Oct 10 14:01:07 2005 +1000

    powerpc: Use SPRN_xxx rather than xxx for SPR numbers
    
    This changes symbols like HID0, SPRG3, SRR0, SRR1 etc. that refer to
    special purpose registers to SPRN_HID0, SPRN_SPRG3, etc.  Using the
    SPRN_ symbols clutters the namespace less, and the forthcoming merge
    of asm/processor.h and asm/reg.h is going to remove the non-SPRN_
    versions.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c4052da6f0c01a0b059d125d72bb934d0980b798
Merge: cedc9a4... 3d3467f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 9 11:16:14 2005 -0400

    Merge branch 'upstream'

commit 3d3467f0fdf61a421361c00cf84fcf0f1a6dc1e8
Merge: e710245... 042c21f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 9 10:54:30 2005 -0400

    Merge branch 'sil24'

commit 422fa08e538b649a9b80258950d2f8a202f45f19
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 9 10:49:34 2005 -0400

    [libata passthru] update ATAPI completion for new error handling

commit ffe75ef650e1aec26a84bd82a620b5e27df9ed34
Merge: 9dc2632... e710245...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 9 10:40:44 2005 -0400

    Merge branch 'upstream'

commit 9dc263239bb2cfeb242d8ef758fca66a968822d5
Merge: 0e5dec4... 8298411...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sun Oct 9 10:33:02 2005 -0400

    Merge branch 'master'

commit e710245bb0f980adfb1dfe850e43761a8117c6be
Author: Andy Currid <ACurrid@nvidia.com>
Date:   Fri Oct 7 08:53:39 2005 -0700

    [PATCH] Fix sata_nv handling of NVIDIA MCP51/55
    
    Patch to fix sata_nv handling of NVIDIA MCP51/55
    
    Signed-off-by: Andy Currid <acurrid@nvidia.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 042c21fd2c3aa553907020131caa553a9da24589
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 9 09:35:46 2005 -0400

    [libata sata_sil24] add support for 3131/3531
    
    This patch adds support for sil_3131 and sil_3531.  Both are
    identical to 3124 except that they have only one port.  Bits 30 and 31
    of ata_port_info->host_flags is used to encode available port numbers.
    Version number is bumped to 0.22.
    
    Edward Falk supplied all the necessary information and preliminary
    patch.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>

commit 1fcce839a541ffcd50da99a1bfdfea594be0e3d3
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 9 09:31:33 2005 -0400

    [libata sata_sil24] nit pickings
    
    This patch removes unused NR_PORTS macro and adds termination entry
    to sil24_pci_tbl.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>

commit ae00651020413bd7eb5fa3bd0abbd78d7cf1abb2
Author: Douglas Gilbert <dougg@torque.net>
Date:   Sun Oct 9 09:09:35 2005 -0400

    [libata scsi] improve scsi error handling with ata_scsi_set_sense()
    
      - change "xlat" and "fill" actors in libata-scsi so
        they are responsible for SCSI status and sense data
        when they return 1. This allows GOOD status or a
        specialized error to be set.
      - yield an error for mode sense requests for saved
        values [sat-r06]
      - remove static inlines for ata_bad_scsiop() and
        ata_bad_cdb() which are no longer used
    
    Signed-off-by: Douglas Gilbert <dougg@torque.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 845c5834d0aa60eb1588397696e7fabbaab2d3b0
Author: Douglas Gilbert <dougg@torque.net>
Date:   Sun Oct 9 08:55:41 2005 -0400

    [libata scsi] add ata_scsi_set_sense helper
    
      - add extern ata_scsi_set_sense() to build SCSI
        fixed sense data and corresponding SCSI status
    
    Signed-off-by: Douglas Gilbert <dougg@torque.net>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d95300758bed9e0f783f3e3b4fd037bf0a21abe0
Merge: e12669e... 8298411...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Oct 8 03:31:22 2005 -0400

    Merge branch 'master'

commit 131afd0b748e382c3a00355d3fa245801f929298
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Oct 7 09:51:05 2005 -0700

    [CIFS] /proc/fs/cifs debug code cleanup and new stats2
    
    These changes to debug code and new stats are helpful in
    debugging potential tcp performance/configuration problems under cifs.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7f726d125d570f38b9e7c8a2decebc39c0a343dc
Author: Tejun Heo <htejun@gmail.com>
Date:   Fri Oct 7 01:43:19 2005 +0900

    [PATCH] sil24: implement tf_read callback
    
     Hello, guys.
    
     This patch implements ->tf_read callback for sil24.  It didn't use to
    be necessary but new ata_gen_fixed_sense now makes use of ->tf_read
    callback.  This patch is taken from Edward Falk's driver.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0e5dec478cfff2c29e68d1108ff828fa321adc59
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 6 09:40:20 2005 -0400

    [libata passthru] add (DRIVER_SENSE << 24) to all check-conditions

commit 6a575fa969beeddd0859f9e9d26ab16c6a0d8d6a
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 6 11:43:39 2005 +0900

    [PATCH] sil24: implement proper TF register reading & caching
    
    03_sil24_add-tf-reading.patch
    
    	This patch implements proper TF register reading back and
    	caching and bumps up version to 0.22.  This is taken from
    	Edward's driver.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |   50 +++++++++++++++++++++++++++++++++++++++++++++-----
     1 file changed, 45 insertions(+), 5 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 46b93e7bce80a08ea07e250d03b0b596cbd32595
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 6 11:43:34 2005 +0900

    [PATCH] sil24: remove CMDERR clearing
    
    02_sil24_remove-cmderr-clearing.patch
    
    	CMDERR register doesn't need clearing.  This is from Edward's
    	driver.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |    4 ----
     1 file changed, 4 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ad6e90f6d0c4243cc35e07e2681a3323af533ce4
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Oct 6 11:43:29 2005 +0900

    [PATCH] sil24: ignore non-error exception irqs
    
    01_sil24_ignore-non-error-exception-irqs.patch
    
    	Do not error-finish commands for non-error exception irqs -
    	just ignore them.  This is taken from Edward's driver.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |   11 ++++++++++-
     1 file changed, 10 insertions(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 012e060c95e547eceea4a12c6f58592473bf4011
Merge: 923f122... ed39f73...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Oct 6 05:51:07 2005 -0400

    Merge branch 'master'

commit 05f62a5c049845eab8dfb3aeda55c18a2d4396e3
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 13:29:24 2005 +1000

    powerpc: Fix idle.c compile warning
    
    This fixes a compile warning when using arch/ppc/kernel/idle.c
    in a merged (ARCH=powerpc) kernel.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c16ff7e44883afc05cbf6fde0e6913bb10c66885
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 13:28:31 2005 +1000

    powerpc: Define a _sdata symbol
    
    This is needed by arch/powerpc/mm/mem.c now.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8dad3f9257414f151cd821bfe01f54d7f52d2507
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 13:27:05 2005 +1000

    powerpc: Merge traps.c a bit more
    
    This reduces the differences between ppc32 and ppc64 in
    arch/powerpc/kernel/traps.c a bit further.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b3491269f5604e4265ee2f27b47a76ce1e3678b6
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 13:24:50 2005 +1000

    powerpc: Use the merged of_device.c with ARCH=powerpc
    
    Also compile btext.c with -fPIC; this was missed before.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2e686bc3bf6268e30eb9584e0bcd43b7bec28f3b
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 13:22:17 2005 +1000

    powerpc: Merge of_device.c and of_device.h
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 187a00679ad51dfb3d3e74620217417102784218
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 12:49:05 2005 +1000

    powerpc: Remove 64-bit cpu support from ppc32.
    
    These days there is no good reason to run a ppc32 kernel on a 64-bit
    cpu, rather than a ppc64 kernel, so remove the config option and a
    bunch of code (and ifdefs) from head.S.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd99cd803d460576cf84f012786ff39814b73f7f
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Oct 5 19:32:49 2005 -0700

    [CIFS] cleanup sparse and compile errors in previous fix
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 7c8c6b9776fb41134d87ef50706a777a45d61cd4
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 12:23:33 2005 +1000

    powerpc: Merge lmb.c and make MM initialization use it.
    
    This also creates merged versions of do_init_bootmem, paging_init
    and mem_init and moves them to arch/powerpc/mm/mem.c.  It gets rid
    of the mem_pieces stuff.
    
    I made memory_limit a parameter to lmb_enforce_memory_limit rather
    than a global referenced by that function.  This will require some
    small changes to ppc64 if we want to continue building ARCH=ppc64
    using the merged lmb.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 9b6b563c0d2d25ecc3111916031aa7255543fbfb
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 12:06:20 2005 +1000

    powerpc: Merge in the ppc64 version of the prom code.
    
    This brings in the ppc64 version of prom_init.c, prom.c and btext.c
    and makes them work for ppc32.  This also brings in the new calling
    convention, where the first entry to the kernel (with r5 != 0) goes
    to the prom_init code, which then restarts from the beginning (with
    r5 == 0) after it has done its stuff.
    
    For now this also brings in the ppc32 version of setup.c.  It also
    merges lmb.h.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b85a046af3a260e079505e8023ccd10e01cf4f2b
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Oct 6 10:59:19 2005 +1000

    powerpc: Define 32/64 bit asm macros and use them in fpu.S
    
    These macros help in writing assembly code that works for both ppc32
    and ppc64.  With this we now have a common fpu.S.  This takes out
    load_up_fpu from head_64.S.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e12669e774be403c84baa651306d305752a35cd8
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 18:39:23 2005 -0400

    libata: minor cleanups
    
    A few code shuffles, to make merging future code easier.
    
    Add (DRIVER_SENSE << 24) to certain result codes, as noted by Douglas
    Gilbert.

commit 4a77118cd5018fec11bf86f6f8d659352ad9a92b
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Oct 5 15:14:33 2005 -0700

    CIFS: Allow wsize to exceed CIFSMaxBufSize
    
    This allows cifs_writepages to send data in larger chunks from the page
    cache, without requiring larger memory allocations in other cases.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 37c0eb4677f733a773df6287b0f73f00274402e3
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Oct 5 14:50:29 2005 -0700

    CIFS: implement cifs_writepages to perform multi-page I/O
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 8a70f8dc08dd40b7f8ac77280eaa99a8c6bc46f4
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 17:19:47 2005 -0400

    [libata sata_mv] fix warning
    
    shuffle ifdef location to fix the following warning:
    drivers/scsi/sata_mv.c:471: warning: 'mv_dump_mem' defined but not used

commit 05b308e1df6d9d673daedb517969241f41278b52
Author: Brett Russ <russb@emc.com>
Date:   Wed Oct 5 17:08:53 2005 -0400

    [PATCH] libata: Marvell function headers
    
    adds helpful function header comments.
    
    Signed-off-by: Brett Russ <russb@emc.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit afb0edd922c7ed6e73678730921dfcccebec17e8
Author: Brett Russ <russb@emc.com>
Date:   Wed Oct 5 17:08:42 2005 -0400

    [PATCH] libata: Marvell spinlock fixes and simplification
    
    This should fix up lockups that people were seeing due to
    improper spinlock placement.  Also, the start/stop DMA routines put
    guarded trust in the cached state of DMA.
    
    Signed-off-by: Brett Russ <russb@emc.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a939c9631527053aa38aa8795a6f7203c7f20b69
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 17:09:16 2005 -0400

    libata: move atapi_request_sense() to libata-scsi module
    
    No content changes, just moving code around.

commit 6148a742b2bd76abfe0c1fc50dd747cb9f28cd6b
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Oct 5 12:23:19 2005 -0700

    CIFS: Create routine find_writable_file to reduce redundant code
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit a15dbeb4772626a015337dea06da67095aec3862
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 15:02:14 2005 -0400

    libata: ATAPI command completion tweaks and notes
    
    1) note urgent bug, that completes command twice
    
    2) only fix up INQUIRY data if the SCSI version is zero (typically
    indicates ATAPI MMC-ish device)
    
    3) if there is a problem on the ATA bus, don't bother with REQUEST
    SENSE, just directly handle the error based on Status/Error registers.

commit cedc9a478d8c6265879dc3839ef3d4849a709184
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 07:13:30 2005 -0400

    libata: fix ATAPI DMA alignment issues
    
    ATAPI needs to be padded to next 4 byte boundary, if misaligned.
    
    Original work by me, many fixes from Tejun Heo.

commit 67846b30171cc4d706125f630193a76a26bb334a
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 02:58:32 2005 -0400

    libata: add ata_ratelimit(), use it in AHCI driver irq handler

commit 0d69ae5fb7eb9ba3b54cf0ba4ef5ae591f31eef7
Merge: 13d1ef2... 9bc39be...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Oct 5 02:11:33 2005 -0400

    Merge branch 'master'

commit 1e5c936e3cc2ab745f66c0ae296c42f892ffd42a
Author: Bob Picco <bob.picco@hp.com>
Date:   Tue Oct 4 15:14:05 2005 -0400

    [PATCH] V5 ia64 SPARSEMEM - gensparse_defconfig
    
    gensparse_defconfig is a config generated file for SPARSEMEM and GENERIC
    kernel configuration (defconfig).
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 2d4b1fa234417b902c9d3034442387c1805bfa7b
Author: Bob Picco <bob.picco@hp.com>
Date:   Tue Oct 4 15:13:57 2005 -0400

    [PATCH] V5 ia64 SPARSEMEM - SPARSEMEM code changes
    
    This patch is the minimal set of changes required by ia64 to use SPARSEMEM.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 1be7d9935b9c7fb9bd5964bfaf3ac543381277db
Author: Bob Picco <bob.picco@hp.com>
Date:   Tue Oct 4 15:13:50 2005 -0400

    [PATCH] V5 ia64 SPARSEMEM - conditional changes for SPARSEMEM
    
    This patch introduces the conditional changes required for the three
    memory models.  With [patch 1/4] there are three memory models; FLATMEM,
    DISCONTIG and SPARSEMEM.  Also a new arch include file sparemem.h is
    introduced for defining SPARSEMEM parameters.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit c678796cab4b5288ad578802a54cb1480ae20a08
Author: Bob Picco <bob.picco@hp.com>
Date:   Tue Oct 4 15:13:44 2005 -0400

    [PATCH] V5 ia64 SPARSEMEM - eliminate contig_page_data
    
    For FLATMEM contig_page_data has been made transparent to the arch code.
    This patch conforms to that change.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit da9577c531f17f744f3eab40f700e07933d26361
Author: Bob Picco <bob.picco@hp.com>
Date:   Tue Oct 4 15:13:37 2005 -0400

    [PATCH] V5 ia64 SPARSEMEM - Kconfig and Makefile
    
    The patch modifies the Kconfig file to introduce the new memory model
    options and other related SPARSEMEM changes.  There is also a minor change
    in the Makefile.
    
    Signed-off-by: Bob Picco <bob.picco@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 643736a58d2668af94aee05670c5e9ae76e7b85f
Merge: 9d5b130... 3f19ee8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 4 14:24:04 2005 -0400

    Merge branch 'scsi-scan'

commit 36735554571ea619e38210a20f429798de90adc1
Author: Dean Roe <roe@sgi.com>
Date:   Mon Oct 3 11:51:45 2005 -0500

    [IA64-SGI] Remove references to the SN bist_lock
    
    Remove all references to the bist_lock in the SN code as it
    is not used for anything.
    
    Signed-off-by: Dean Roe <roe@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit e9438250b635f7832e99a8c8d2e394dd1522ce65
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 16:01:06 2005 +0100

    NTFS: Enable ATTR_SIZE attribute changes in ntfs_setattr().  This completes
          the initial implementation of file truncation.  Now both open(2)ing
          a file with the O_TRUNC flag and the {,f}truncate(2) system calls
          will resize a file appropriately.  The limitations are that only
          uncompressed and unencrypted files are supported.  Also, there is
          only very limited support for highly fragmented files (the ones whose
          $DATA attribute is split into multiple attribute extents).
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit dd072330d1a60be11a5c284fa1e645350750a4fc
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 15:39:02 2005 +0100

    NTFS: Implement fs/ntfs/inode.[hc]::ntfs_truncate().  It only supports
          uncompressed and unencrypted files.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 54dac83c426a1a03bd139c5ac7e938890bd2693e
Author: Jeff Raubitschek <jhr@google.com>
Date:   Tue Oct 4 10:21:19 2005 -0400

    [libata passthru] fix leak on error

commit 2d86829b846d1447a6ab5af4060fc9f301521317
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 15:18:56 2005 +0100

    NTFS: Add fs/ntfs/attrib.[hc]::ntfs_attr_extend_allocation(), a function to
          extend the allocation of an attributes.  Optionally, the data size,
          but not the initialized size can be extended, too.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 2ee73cc2d507df7b28050fba5d08bd33dd34848c
Merge: c1d9728... ed39f73...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 4 10:16:31 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 2a6fc4e1b0f7d2ec3711d5b1782fb30f78cca765
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 14:57:15 2005 +0100

    NTFS: Fix ntfs_attr_make_non_resident() to update the vfs inode i_blocks
          which is zero for a resident attribute but should no longer be zero
          once the attribute is non-resident as it then has real clusters
          allocated.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 8925d4f0d3479b9c5ed7e49acc648beccca95f21
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 14:48:20 2005 +0100

    NTFS: Change ntfs_attr_make_non_resident to take the attribute value size
          as an extra parameter.  This is needed since we need to know the size
          before we can map the mft record and our callers always know it.  The
          reason we cannot simply read the size from the vfs inode i_size is
          that this is not necessarily uptodate.  This happens when
          ntfs_attr_make_non_resident() is called in the ->truncate call path.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit fc0fa7dc7d243afabdb3fb6a11d59a944a9c91f8
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 14:36:56 2005 +0100

    NTFS: - Change ntfs_cluster_alloc() to take an extra boolean parameter
            specifying whether the cluster are being allocated to extend an
            attribute or to fill a hole.
          - Change ntfs_attr_make_non_resident() to call ntfs_cluster_alloc()
            with @is_extension set to TRUE and remove the runlist terminator
            fixup code as this is now done by ntfs_cluster_alloc().
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 511bea5ea2b2b330e67c9e58ffb5027caebf9052
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 14:24:21 2005 +0100

    NTFS: - Change {__,}ntfs_cluster_free() to also take an optional attribute
            search context as argument.  This allows calling it with the mft
            record mapped.  Update all callers.
          - Fix potential deadlock in ntfs_mft_data_extend_allocation_nolock()
    	error handling by passing in the active search context when calling
    	ntfs_cluster_free().
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 69b41e3c0223bd38cf23e3d8f1385963089fbf22
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 14:01:14 2005 +0100

    NTFS: Change ntfs_attr_find_vcn_nolock() to also take an optional attribute
          search context as argument.  This allows calling it with the mft
          record mapped.  Update all callers.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 9d5b13021375cad2d64d56105e5f4b5f1509ced2
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Oct 4 08:48:17 2005 -0400

    [libata scsi] add CHS support to ata_scsi_start_stop_xlat()

commit 3aef52311bcb1f88aa5c786302f1ae14a787f61e
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Oct 4 08:47:43 2005 -0400

    [libata scsi] tidy up SCSI lba and xfer len calculations
    
    move the redundant SCSI lba and transfer length calculation code from
    ata_scsi_verify_xlat() and ata_scsi_rw_xlat() to common functions.

commit c187c4b58a9caff660a4c8ae39d0def88cc449af
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Oct 4 08:46:51 2005 -0400

    libata: minor whitespace, comment, debug message updates

commit fd9d63678d42ffd4312815ac720a12920642eb36
Author: Anton Altaparmakov <aia21@cantab.net>
Date:   Tue Oct 4 13:44:48 2005 +0100

    NTFS: Change ntfs_map_runlist_nolock() to also take an optional attribute
          search context.  This allows calling it with the mft record mapped.
    
    Signed-off-by: Anton Altaparmakov <aia21@cantab.net>

commit 13d1ef29bc5125d7b77c5f6cdfde5ed31226005c
Merge: e260836... ff0037b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 4 08:22:13 2005 -0400

    Merge rsync://bughost.org/repos/ieee80211-delta/

commit e2608361be343e6220e0a87e04ff224eb037df31
Author: Mateusz Berezecki <mateuszb@gmail.com>
Date:   Tue Oct 4 08:14:00 2005 -0400

    [wireless ipw2200] remove redundant return statement

commit 47a8659380d40d5c0786ddb62a89b3f7f1392430
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Tue Oct 4 08:09:19 2005 -0400

    libata: bitmask based pci init functions for one or two ports
    
    This redoes the n_ports logic I proposed before as a bitmask.
    ata_pci_init_native_mode is now used with a mask allowing for mixed mode
    stuff later on. ata_pci_init_legacy_port is called with port number and
    does one port now not two. Instead it is called twice by the ata init
    logic which cleans both of them up.
    
    There are stil limits in the original code left over
    
    - IRQ/port mapping for legacy mode should be arch specific values
    - You can have one legacy mode IDE adapter per PCI root bridge on some systems
    - Doesn't handle mixed mode devices yet (but is now a lot closer to it)

commit 075897ce3b1027fccb98f36dd1f18c07f5c374ef
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Sep 28 17:50:53 2005 -0400

    [PATCH] bonding: replicate IGMP traffic in activebackup mode
    
    Replicate IGMP frames across all slaves in activebackup mode. This
    ensures fail-over is rapid for multicast traffic as well. Otherwise,
    multicast traffic will be lost until the next IGMP membership report
    poll timeout.
    
    This is conceptually similar to the treatment of IGMP traffic in
    bond_alb_xmit. In that case, IGMP traffic transmitted on any slave
    is re-routed to the active slave in order to ensure that multicast
    traffic continues to be directed to the active receiver.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6c1792f4e8cf2ca03a8dd5ec4b162b9219e9268a
Author: John Linville <linville@tuxdriver.com>
Date:   Tue Oct 4 07:51:45 2005 -0400

    [netdrvr s2io] Add a MODULE_VERSION entry

commit dbc2309d90b59fbb2676dc2e39150aa095e8c222
Author: John W. Linville <linville@tuxdriver.com>
Date:   Wed Sep 28 17:50:51 2005 -0400

    [PATCH] s2io: change strncpy length arg to use size of target
    
    Use the size of the target array for the length argument to strncpy
    instead of the size of the source or a magic number.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 53232803241ae0f26b39897a4d4b37775837de00
Author: Michal Schmidt <xschmi00@stud.feec.vutbr.cz>
Date:   Tue Oct 4 07:46:21 2005 -0400

    airo: fix resume
    
    Cisco Aironet doesn't resume properly from swsusp, because the resume
    method confuses a PM_EVENT_* for a PCI power state. It thinks that it is
    resuming from PCI_D1 and doesn't do the necessary initialization of the
    card.
    
    Signed-off-by: Michal Schmidt <xschmi00@stud.feec.vutbr.cz>

commit d5919586265d36c6694a5d10ba589c02806873b6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 4 12:22:16 2005 +0100

    [PATCH] AX.25: Convert mkiss.c to DEFINE_RWLOCK
    
    Signed-off-by: Ingo Molnar <mingo@elte.hu>
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
     drivers/net/hamradio/mkiss.c |    2 +-
     1 files changed, 1 insertion(+), 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 96eb549c0c20cf63ca13fac71d9d406701f744a6
Author: Ralf Baechle <ralf@linux-mips.org>
Date:   Tue Oct 4 12:20:24 2005 +0100

    [PATCH] AX.25: Delete debug printk from mkiss driver
    
    Signed-off-by: Ralf Baechle <ralf@linux-mips.org>
    
    --
    
     drivers/net/hamradio/mkiss.c |    1 -
     1 files changed, 1 deletion(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit be2b28ed3bb3dd3952e10fb72623b23c5d8b4795
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 4 07:13:43 2005 -0400

    e1000: fix warnings

commit a7990ba60adc46a808c737443393fdfecdc82593
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:08:19 2005 -0400

    e1000: Flush shadow RAM
    
    Flush shadow RAM to save updates to ASF related bits for 82573 controllers.
    These bits are past the first 63 words of NVM.
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 352c9f854cb197581d7135d1276742fd76b53c25
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:07:24 2005 -0400

    e1000: Added msleep_interruptible delay
    
    added msleep_interruptible delay right before returning from diag_test to allow
    the phy to recover from reset
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e4c811c9d2f2728ce15440c99b3b44b72799b43f
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:05:44 2005 -0400

    e1000: Fixes for packet split related issues
    
    Fixes for packet split related issues
      * On platforms where PAGE_SIZE > 4K, driver will use only required number of
        pages compared to always using 3 pages.
      * Packet split won't be used if the PAGE_SIZE is > 16K
      * Adds a statistics counter to splits.
      * Setting the non Null ptr to zero sized buffers to solve packet split
        receive descriptor error
      * When the no of pages needed is calculated, the header buffer is not
        included for a given MTU.
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2ae76d98fb9f0a9226dd62cf0a0b7547507d2862
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:04:22 2005 -0400

    e1000: Enable custom configuration bits for 82571/2 controllers
    
    Enable custom configuration bits for 82571/2 controllers. The bits are
    required for correct functionality of these controllers.
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 24025e4ecf88743e1b3d46451b0e3f9de4bbcba5
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:03:23 2005 -0400

    e1000: implementation of the multi-queue feature
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 581d708eb47cccb5f41bc0817e50c9b004011ba8
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 07:01:55 2005 -0400

    e1000: multi-queue defines/modification to data structures
    
    defines/modifies data structures, function prototypes and changes to the
    driver rendering it capable of handling <n> tx/rx queues
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 868d5309942927dc86f57009420c5d366ec05daa
Author: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
Date:   Tue Oct 4 06:58:59 2005 -0400

    e1000: Support for 82571 and 82572 controllers
    
    Signed-off-by: Mallikarjuna R Chilakala <mallikarjuna.chilakala@intel.com>
    Signed-off-by: Ganesh Venkatesan <ganesh.venkatesan@intel.com>
    Signed-off-by: John Ronciak <john.ronciak@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cc6e7c44f4b8ab13acf5521cd4b312848122179f
Author: Ravinandan Arakali <ravinandan.arakali@neterion.com>
Date:   Tue Oct 4 06:41:24 2005 -0400

    [PATCH] S2io: MSI/MSI-X support (runtime configurable)
    
    This patch adds support for MSI/MSI-X feature to the driver.  It is
    a runtime parameter(for now, loadable parameter).  Default is INTA.
    
    Patch has been tested on IA64 platform with Xframe II adapter,
    both of which support MSI-X feature.  An improvement of about 7%
    in throughput(both Tx and Rx) was observed and a reduction by 7%
    in CPU utilization during Tx test.
    
    Signed-off-by: Ravinandan Arakali <ravinandan.arakali@neterion.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d9e34325fd62310b7b49243d02b774f3ef2452db
Merge: 500f83a... 832f8f0...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Oct 4 05:30:02 2005 -0400

    Merge branch 'upstream-fixes'

commit 6ce52e6438fd2921891648ceab700d9b867e5ed2
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 4 14:30:07 2005 +1000

    ppc32: remove obsolete klock_info definition
    
    klock_info isn't used or referenced anywhere else in the kernel.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit dd8cad6be2822c7df4ecc5eba12903ba43e09f06
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Oct 4 14:28:29 2005 +1000

    ppc32: export a few more things where they are defined
    
    ... and remove the exports from ppc_ksyms.c.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 04c08816d693f010ce14b8f408c6228600053af0
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 3 19:33:15 2005 -0700

    [CIFS] Missing parenthesis from error message in previous fix
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit fe998aa7e27f125f6768ec6b137b0ce2c9790509
Author: Tejun Heo <htejun@gmail.com>
Date:   Sun Oct 2 11:54:29 2005 +0900

    [PATCH] libata: add ATA exceptions chapter to doc
    
     Hello, Jeff.
    
    This patch adds ATA errors & exceptions chapter to
    Documentation/DocBook/libata.tmpl.  As suggested, the chapter is
    placed before low level driver specific chapters.  Contents are
    unchanged from the last posting.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 31961943e3110c5a1c36b1e0069c29f7c4380e51
Author: Brett Russ <russb@emc.com>
Date:   Fri Sep 30 01:36:00 2005 -0400

    [PATCH] libata: Marvell SATA support (DMA mode) (resend: v0.22)
    
    This is my libata compatible low level driver for the Marvell SATA
    family.  Currently it runs in DMA mode on a 6081 chip.
    
    The 5xxx series parts are not yet DMA capable in this driver because
    the registers have differences that haven't been accounted for yet.
    Basically, I'm focused on the 6xxx series right now.  I apologize for
    those seeing problems on the 5xxx series, I've not had a chance to
    look at those problems yet.
    
    For those curious, the previous bug causing the SCSI timeout and
    subsequent panics was caused by an improper clear of hc_irq_cause in
    mv_host_intr().
    
    This version is running well in my environment (6081 chips,
    with/without SW raid1) and is showing equal or better performance
    compared to the Marvell driver (mv_sata) in my initial tests (timed
    dd's of reads/writes to/from memory/disk).
    
    I still need to look at the causes of occasional problems such as this:
    
    ata11: translating stat 0x35 err 0x00 to sense
    ata11: status=0x35 { DeviceFault SeekComplete CorrectedError Error }
    SCSI error : <10 0 0 0> return code = 0x8000002
    Current sda: sense key Hardware Error
    end_request: I/O error, dev sda, sector 3155010
    
    and this, seen at init time:
    
    ATA: abnormal status 0x80 on port 0xE093911C
    
    but they aren't showstoppers.
    
    Signed-off-by: Brett Russ <russb@emc.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 500f83abdc83d6bd472f3d103a9a9cd85df29a29
Author: Ursula Braun <braunu@de.ibm.com>
Date:   Fri Sep 30 10:19:19 2005 +0200

    [PATCH] s390: introducing support in qeth for new OSA CHPID type OSN
    
    	This patch introduces new feature in qeth:
    	qeth enhancement provides the device driver support for
            the Communication Controller for Linux on System z9 and zSeries
            (CCL), which is software that enables running the Network Control
            Program (NCP) on a zSeries machine. The OSA CDLC support is based
            on a new IBM mainframe CHPID type called Open Systems Adaper for
            NCP (OSN). In case of OSN qeth communicates with the type-OSN
            OSA-card on one hand, and with the CCL-kernel-component Network
            Device Handler (NDH) on the other.
    
    Signed-off-by: Frank Pavlic <pavlic@de.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3c8c7b2f32c52b259daa7564fefd582146799b23
Merge: 7cb3cd0... 9123e0d...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 3 22:06:19 2005 -0400

    Merge branch 'upstream-fixes'

commit 7cb3cd090c2725b80561958a362c2ba15a7a8c86
Author: Jouni Malinen <jkmaline@cc.hut.fi>
Date:   Sun Oct 2 17:19:01 2005 -0700

    [PATCH] hostap: Unregister netdevs before freeing local data
    
    Unregister all netdevs before freeing local data. I was unable to
    trigger any crashes without this change when running busy loops for
    driver operations when ejecting a Prism2 PC Card. Anyway, should there
    be a race condition with this, better make it less likely to happen by
    unregistering the netdevs first.
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c355184cd3cd58c9ffc78f2a17e0ac3563312ea7
Author: Jouni Malinen <jkmaline@cc.hut.fi>
Date:   Sun Oct 2 17:19:00 2005 -0700

    [PATCH] hostap: Do not free local->hw_priv before unregistering netdev
    
    local->hw_priv was being freed and set to NULL just before calling
    prism2_free_local_data(). However, this may expose a race condition in
    which something ends up trying to use hw_priv during shutdown. I
    haven't noticed this happening, but better be safe than sorry, so
    let's postpone hw_priv freeing to happen only after
    prism2_free_local_data() has returned.
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f7a74447553d698795ba74b7e17e916000b0cb08
Author: Jouni Malinen <jkmaline@cc.hut.fi>
Date:   Sun Oct 2 17:18:59 2005 -0700

    [PATCH] hostap: Fix hostap_pci build with PRISM2_IO_DEBUG
    
    The debug version of I/O functions in hostap_pci had not survived the
    change to start using hw_priv pointer, so let's fix them to actually
    define the local hw_priv variable.
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bab76198b3111bd0328be3c1fa208237eb12f86e
Author: Jouni Malinen <jkmaline@cc.hut.fi>
Date:   Sun Oct 2 17:18:58 2005 -0700

    [PATCH] hostap: Remove hw specific dev_open/close handlers
    
    Host AP driver used hardware model specific dev_open/close handlers
    that were called on dev_open/close if the hardware driver had
    registered the handler. These were only used for hostap_cs and only
    for tracking whether any of the netdevs were UP. This information is
    already available from local->num_dev_open, so there is not need for
    the special open/close handler.
    
    Let's get rid of these handlers. In addition to cleaning up the code,
    this fixes a module refcounting issue for hostap_cs where ejecting the
    card while any of the netdevs were open did not decrement refcount
    properly.
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3f19ee8cb3a1003cb5183696bc55934f5865f868
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 3 21:36:41 2005 -0400

    [libata] improve device scan even more
    
    Since our max_lun is unconditionally set to 1, we might as well
    hardcode a LUN 0 probe, rather than a wildcard LUN scan.
    
    The ide-scsi driver sets max_lun to a value greater than under
    certain conditions:
    
            if ((drive->id->last_lun & 0x7) != 7)
                    host->max_lun = (drive->id->last_lun & 0x7) + 1;
            else
                    host->max_lun = 1;
    
    last_lun is Word 126 of IDENTIFY PACKET DEVICE, marked as obsolete
    and undocumented in non-ancient specs.  We'll leave it out for now.
    Should the need arise to support multi-LUN ATAPI devices, we'll
    probably want to add the above code.
    
    Finally, there have been reports of REPORT LUNS commands locking up
    ATAPI drives.  Eliminating the wildcard LUN scan could help reduce
    the trouble from problematic drives.

commit 2b235826098bb653982894dfc3f70fd029f6c2e4
Merge: b4b52db... c77054e...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 3 19:46:45 2005 -0400

    Merge branch 'master'

commit 8cc64c6ecfef020d40829f3e1152aab006c13899
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 3 13:49:43 2005 -0700

    [CIFS] Allow SMBWrite2 to work to older servers
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 3e84469d0101456caceffc6b22218a49017fcd3f
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Oct 3 13:37:24 2005 -0700

    [CIFS] Add writepages support to shrink memory usage on writes,
    eliminate the double copy, and improve cifs write performance and
    help the server by upping the typical write size from 4K to 16K
    (or even larger if wsize set explicitly)  for servers which support this.
    Part 1 of 2
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French  <sfrench@us.ibm.com>

commit ac17b8b57013a3e38d1958f66a218f15659e5752
Author: Dave Kleikamp <shaggy@austin.ibm.com>
Date:   Mon Oct 3 15:32:11 2005 -0500

    JFS: make special inodes play nicely with page balancing
    
    This patch fixes up a few problems with jfs's reserved inodes.
    
    1. There is no need for the jfs code setting the I_DIRTY bits in i_state.
       I am ashamed that the code ever did this, and surprised it hasn't been
       noticed until now.
    
    2. Make sure special inodes are on an inode hash list.  If the inodes are
       unhashed, __mark_inode_dirty will fail to put the inode on the
       superblock's dirty list, and the data will not be flushed under memory
       pressure.
    
    3. Force writing journal data to disk when metapage_writepage is unable to
       write a metadata page due to pending journal I/O.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>

commit 644dd0cc494702ecd0698f467de113ace9593888
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Oct 3 15:55:19 2005 -0400

    [libata] improve device scan
    
    Replace SCSI's legacy "bang at the door" method of probing with one
    directly controlled by the underlying ATA transport layer.
    
    We now only call scsi_scan_target() for devices we find, rather than
    probing every possible channel/id within a certain range.

commit ff0037b259e8b47843176142131844bc80fd2887
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Mon Oct 3 10:23:42 2005 -0500

    Lindent and trailing whitespace script executed ieee80211 subsystem
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit c1bda44a4aedf13251b2704e6e67afb4909195c8
Author: Ivo van Doorn <IvDoorn@gmail.com>
Date:   Mon Oct 3 10:20:47 2005 -0500

    When an assoc_resp is received the network structure is not completely
    initialized which can cause problems for drivers that expect the network
    structure to be completely filled in.
    
    This patch will make sure the network is filled in as much as possible.
    
    Signed-off-by: Ivo van Doorn <IvDoorn@gmail.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit ff9e00f1b09d594004f91700a371870f729ffc02
Author: Ivo van Doorn <IvDoorn@gmail.com>
Date:   Mon Oct 3 10:19:25 2005 -0500

    Currently the info_element is parsed by 2 seperate functions, this
    results in a lot of duplicate code.
    
    This will move the parsing stage into a seperate function.
    
    Signed-off-by: Ivo van Doorn <IvDoorn@gmail.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit e846cbb11245e648983b50349a1c715202d5ccf0
Author: Randy Dunlap <rdunlap@xenotime.net>
Date:   Mon Oct 3 10:02:14 2005 -0500

    Fix implicit nocast warnings in ieee80211 code:
    net/ieee80211/ieee80211_tx.c:215:9: warning: implicit cast to nocast type
    
    Signed-off-by: Randy Dunlap <rdunlap@xenotime.net>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 7c254d3dba0fae124b1d33f784ca23572ac386b0
Author: Ivo van Doorn <IvDoorn@gmail.com>
Date:   Mon Oct 3 09:50:40 2005 -0500

    This will move the ieee80211_is_ofdm_rate function to the ieee80211.h
    header, and I also added the ieee80211_is_cck_rate counterpart.
    
    Various drivers currently create there own version of these functions,
    but I guess the ieee80211 stack is the best place to provide such
    routines.
    
    Signed-off-by: Ivo van Doorn <IvDoorn@gmail.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit 292dcc86dd69e343630ab49ce96a418345c174fc
Merge: c0c0d99... eeb2d21...
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Oct 2 11:12:43 2005 +1000

    Merge rsync://ozlabs.org/sfr-git/for-paulus/

commit eeb2d21806123a67d957783c4a0c8b020a378cf0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 30 17:24:15 2005 +1000

    powerpc: make iSeries boot
    
    Now that we use the device tree, it helps to build it in.
    It helps to links the kernel at the correct address.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit cabb558714945e92000f627dda562aa5e86a31af
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 30 16:16:52 2005 +1000

    powerpc: make iSeries build
    
    Merge vmlinux.lds.S.
    Also remove arch/powerpc/kernel/vmlinux.lds which is a
    generated file.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit bd142b70a6bd5522f7d95f0cec06091b93bb0715
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 30 13:51:25 2005 +1000

    ppc64: simplify the build a little
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit dc1c1ca3dcd94c545c5e01d7c06b46824d43f4d0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Sat Oct 1 18:43:42 2005 +1000

    powerpc: merge idle_power4.S and trapc.s
    
    Use idle_power4.S from ppc64 as we are not going to support
    32 bit power4 in the merged tree.
    
    Merge ppc64 traps.c into powerpc traps.c:
    	use ppc64 versions of exception routine names
    		(as they don't have StudlyCaps)
    	make all the versions if die() have the same
    		prototype
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit c0c0d996d08e450164adedc249c1bbbca63524ce
Author: Paul Mackerras <paulus@samba.org>
Date:   Sat Oct 1 13:49:08 2005 +1000

    powerpc: Get merged kernel to compile and run on 32-bit SMP powermac.
    
    This updates the powermac SMP code to use the mpic driver instead of
    the openpic driver and fixes the SMP-dependent context switch code.
    We had a subtle bug where we were using interrupt numbers 256-259 for
    IPIs, but ppc32 had NR_IRQS = 256.  Moved the IPIs down to use interrupt
    numbers 252-255 instead.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3d5efad953c6d5ba11d5bcb584ef8e906f953a73
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Sep 30 19:12:46 2005 +1000

    drm: fix drm PCIGART
    
    PCI Express support broke PCIGART
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b3a83639895a422b25f72eec0a5d1d88c3ac4e9e
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Sep 30 18:37:36 2005 +1000

    drm: fix all sparse warning on 32-bit x86
    
    Finally cleaned up the sparse warnings for the drm.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit d96024c688b59d4d1e60dbb0e226964eb758aa01
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Sep 29 01:46:29 2005 +1000

    powerpc: Move lparmap.c to powerpc/platforms
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ee400b63f37120987bd12a2fada850c6212d7563
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Sep 29 11:50:22 2005 +1000

    powerpc: more cleanup of powerpc/kernel
    
    Update head_64.S from arch/ppc64
    Remove arc/ppc/kernel/fpu.S
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit dcff1b170b43d9b8cb83e275cb3451dfd261c23e
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Sep 29 00:59:39 2005 +1000

    powerpc: remove old vector.S files
    
    Update old kernel/Makefiles to cope
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d1dead5c5f016ebadb4b87c2c9fa13dfc2c99bf0
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Thu Sep 29 00:35:31 2005 +1000

    powerpc: merge asm-offsets.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit b08567cb680686cdea9e362c0ccf0a08d77b9f0c
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 23:37:01 2005 +1000

    ppc64 iseries: move some iSeries include files
    
    These files are only referenced from within
    arch/powerpc/platforms/iseries, so move them there.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 689b9d74b1c00e1316fbb7d1e912fe1227fdb1ab
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Fri Sep 30 17:09:07 2005 +1000

    drm: add option to force writeback off.
    
    In order to get some better debugging from people about certain hangs/crashes
    we need to be able to turn AGP writeback off permanently...
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 17e5ad6c0ce5a970e2830d0de8bdd60a2f077d38
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Sep 29 15:52:13 2005 -0700

    [PATCH] Removed remaining PCI specific references from swiotlb.c
    
    Matthew Wilcox pointed out that swiotlb.c implements a generic
    interface that is not tied to just PCI.  Remove includes of
    <linux/pci.h>, <asm/pci.h>.  Fix comments and printk() messages
    to no longer refer to PCI.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8d15d19e44d2e903d00ae4b70da917ac77921239
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:45:52 2005 -0700

    [PATCH] x86_64: implement dma_sync_single_range_for_{cpu,device}
    
    Re-implement dma_sync_single_range_for_{cpu,device} for x86_64 using
    swiotlb_sync_single_range_for_{cpu,device}.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 569c8bf5d8eeeeb9f5250d5b7991007874f0fef2
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:45:24 2005 -0700

    [PATCH] swiotlb: file header comments
    
    Change comment at top of swiotlb.c to reflect that the code is shared
    with EM64T (i.e. Intel x86_64). Also add an entry for myself so that
    if I "broke it", everyone knows who "bought it"... :-)
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit de69e0f0b38a467d881e138a302b005bf31c8400
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:44:57 2005 -0700

    [PATCH] swiotlb: support syncing DMA_BIDIRECTIONAL mappings
    
    The current implementation of sync_single in swiotlb.c chokes on
    DMA_BIDIRECTIONAL mappings. This patch adds the capability to sync
    those mappings, and optimizes other syncs by accounting for the
    sync target (i.e. cpu or device) in addition to the DMA direction of
    the mapping.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 878a97cfd7014b01285db09f52f9881ffe4cb608
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:44:23 2005 -0700

    [PATCH] swiotlb: support syncing sub-ranges of mappings
    
    This patch implements swiotlb_sync_single_range_for_{cpu,device}. This
    is intended to support an x86_64 implementation of
    dma_sync_single_range_for_{cpu,device}.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 8270f3f1a605c83b3aa516c1eaed209fe0884e84
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:43:32 2005 -0700

    [PATCH] swiotlb: cleanup some code duplication cruft
    
    The implementations of swiotlb_sync_single_for_{cpu,device} are
    identical. Likewise for swiotlb_syng_sg_for_{cpu,device}. This patch
    move the guts of those functions to two new inline functions, and
    calls the appropriate one from the bodies of those functions.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 6c654b5fdf093cd05f35f7c9c2a00182fa5636dc
Author: John W. Linville <linville@tuxdriver.com>
Date:   Thu Sep 29 14:42:42 2005 -0700

    [PATCH] swiotlb: move from arch/ia64/lib/ to lib/
    
    The swiotlb implementation is shared by both IA-64 and EM64T. However,
    the source itself lives under arch/ia64. This patch moves swiotlb.c
    from arch/ia64/lib to lib/ and fixes-up the appropriate Makefile and
    Kconfig files. No actual changes are made to swiotlb.c.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit ab11d1ea281e85895369ef57c5259ad8a432fabb
Merge: 952ecef... 664cceb...
Author: Paul Mackerras <paulus@samba.org>
Date:   Thu Sep 29 13:13:36 2005 +1000

    Merge by hand from Linus' tree.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d719948e623622cf9fc8016f7ec63422d929eb3b
Author: Tony Luck <tony.luck@intel.com>
Date:   Wed Sep 28 16:09:46 2005 -0700

    [IA64] end of kernel 'data' is at _end, not _edata
    
    /proc/iomem describes a block of memory as "Kernel data",
    but the end address is derived from "_edata".  The kernel
    actually has many other sections beyond _edata.  Get the
    real end address from _end.
    
    Acked-by: Khalid Aziz <khalid_aziz@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 59c422358d6573716f2bf2e78e5b12c20eff5a31
Author: Jack Steiner <steiner@sgi.com>
Date:   Tue Sep 27 08:25:32 2005 -0500

    [IA64-SGI] Increase max system size of SGI SN systems
    
    Increase the maximum system size of SGI SN systems. Note that
    this is not the maximum SSI size. The maximum system size is
    the number of nodes in the numalink domain.
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 604116a32eaef4e10d05ae3361450b3f4a4e6a90
Author: Michael Wu <flamingice@sourmilk.net>
Date:   Wed Sep 28 15:16:46 2005 -0500

    This patch fixes a typo in ieee80211.h: ieee82011_deauth -> ieee80211_deauth
    
    Signed-off-by: Michael Wu <flamingice@sourmilk.net>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>

commit b4b52db71529bbe46da914eda772fb574914c94d
Author: Alan Cox <alan@lxorguk.ukuu.org.uk>
Date:   Mon Sep 26 12:48:41 2005 +0100

    [PATCH] ata: re-order speeds sensibly.
    
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a1213499b0ef75d8c627b461047805a235c9dd00
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 28 13:26:47 2005 -0400

    libata: move EH docs to separate DocBook chapter

commit bfd00722ac230a39bc5234c5f7a514ea6a77996d
Author: Tejun Heo <htejun@gmail.com>
Date:   Mon Sep 26 11:28:47 2005 +0900

    [PATCH] libata EH document update
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 64f09c98d7fce21dcb8da9f248e4159eb1ec245e
Merge: 14be71f... 98ed72d...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 28 12:11:15 2005 -0400

    /spare/repo/libata-dev branch 'chs-support'

commit 14be71f4c5c5ad1e222c5202ee6d234e9c8828b7
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Sep 27 17:36:35 2005 +0800

    [PATCH] libata: rename host states
    
    Changes:
    s/PIO_ST_/HSM_ST_/ and s/pio_task_state/hsm_task_state/.
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee500aabf10323a7e313731b8c0be7c2c6dd27c7
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Tue Sep 27 17:34:38 2005 +0800

    [PATCH] libata: indent and whitespace change
    
    Signed-off-by: Albert Lee <albertcc@tw.ibm.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 952ecef7a0479049c8abb7c34a688ec2981ceadd
Merge: beeca08... 252e75a...
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Sep 28 21:11:41 2005 +1000

    Merge Stephen Rothwell's patches

commit beeca08738c4c4024c81a591812bfe38f8c436c0
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Sep 28 20:29:44 2005 +1000

    Don't call a NULL ack function in the generic IRQ code.
    
    Some IRQ controllers don't need an ack function (e.g. OpenPIC on
    PPC platforms) and for them we'd rather not have the overhead
    of doing an indirect call to a function that does nothing.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 20c8c2106305729e7d5e06f6c3d390e965a3dd34
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Sep 28 20:28:14 2005 +1000

    powerpc: Fixes to get the merged kernel to boot on powermac.
    
    This merges ppc_ksyms.c, puts back the actual do_execve call in
    sys_execve, makes init_MMU call find_end_of_memory rather than
    ppc_md.find_end_of_memory (every platform has a device tree
    with a /memory node now, right?) and fixes some problems with the
    mpic initialization on newworld powermacs.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a3a9e99e36b2897b3e038869e61f363d62434086
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Sep 28 15:53:36 2005 +1000

    powerpc: Fix building in the old arch's boot directory for now
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 400d221274426958f1e1c7081a247bea9cede696
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Sep 27 15:13:12 2005 -0500

    [PATCH] ppc32: make cur_cpu_spec a single pointer instead of an array
    
    Changed ppc32 so that cur_cpu_spec is just a single pointer for all CPUs.
    Additionally, made call_setup_cpu check to see if the cpu_setup pointer
    is NULL or not before calling the function.  This lets remove the dummy
    cpu_setup calls that just return.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 10b35d9978ac35556aec0d2642055742d8941488
Author: Kumar Gala <galak@freescale.com>
Date:   Fri Sep 23 14:08:58 2005 -0500

    [PATCH] powerpc: merged asm/cputable.h
    
    Merged cputable.h between ppc32 and ppc64.  In doing this removed support
    for the BEGIN_FTR_SECTION/END_FTR_SECTION macros in C code since they
    dont compile correctly.  C code should use cpu_has_feature().  This is
    based on Arnd Bergmann's initial patch.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a559c91d77c3220be521453bd23815e1e1980a82
Author: Becky Bruce <bgill@freescale.com>
Date:   Tue Sep 27 14:28:56 2005 -0500

    [PATCH] powerpc: merge byteorder.h
    
    powerpc: Merge byteorder.h
    
    Essentially adopts the 64-bit version of this file.  The 32-bit version had
    been using unsigned ints for arguments/return values that were actually
    only 16 bits - the new file uses __u16 for these items as in the 64-bit
    version of the header.  The order of some of the asm constraints
    in the 64-bit version was slightly different than the 32-bit version,
    but they produce identical code.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 252e75a51d40757928d692b3d339e66838294b4b
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 14:40:40 2005 +1000

    ppc64 iSeries: use device_node instead of iSeries_Device_node
    
    There needs to be more cleanup after this.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit c111d0bda8437d146ccf5101970801fe4ff23ed8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 13:28:01 2005 +1000

    powerpc: move more iSeries code
    
    Move the iSeries specific parts of misc.S and ppc_ksyms.c
    into powerpc/platforms/iseries.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7b875f4dc345dc5f6a2c3bd0e1f90bfee46b2258
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 09:40:24 2005 +1000

    powerpc: Make powerpc pmac 32 bit build again
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d223e721b743787fad71f6aef5e860176214c8f9
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 03:12:35 2005 +1000

    powerpc: Move viopath.c to powerpc/platforms/iseries
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit b6b8681843f9eaee12f8c30ffac399f7b2601ab3
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 03:07:14 2005 +1000

    powerpc: Move iSeries_smp.c to powerpc/platforms/iseries
    
    And rename it to smp.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ed7f2c05de956da72baf066701ac642f7215dbf5
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 03:03:00 2005 +1000

    powerpc: Move iSeries_vio.c to powerpc/platforms/iseries
    
    And rename it to vio.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit da3420fcd62a8967c14a586355e322253a1504a8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:59:19 2005 +1000

    powerpc: Move iSeries_VpdInfo.c to powerpc/platforms/iseries
    
    And rename it to vpdinfo.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit cb4cf8056ead24ef0595859952319e2a608d5e07
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:54:39 2005 +1000

    powerpc: Move iSeries_irq.c to powerpc/platorms/iseries
    
    And rename it to irq.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit d387899f3f7092edbafe16d69ea9737846473e99
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:50:25 2005 +1000

    powerpc: Move iSeries_pci.c to powerpc/platform/iseries
    
    and rename it to pci.c.  This also required moving
    arch/ppc64/kernel/pci.h into include/asm-powerpc (called
    ppc-pci.h.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit cc14d430837e8854bd160275ad71d887a8a98488
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:32:16 2005 +1000

    powerpc: Move iSeries_iommu.c to powerpc/platforms/iseries
    
    And rename it to iommu.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit e508f438e0c152dcd1fbec5104e9c0ee28f352d4
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:28:45 2005 +1000

    powerpc: Move iSeries_htab.c to powerpc/platforms/iseries
    
    And rename it to htab.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit cb5c7980ab16c461a883ec7899675be57798d285
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:24:05 2005 +1000

    powerpc: move iSeries_proc.c to powerpc/platforms/iseries
    
    And renamed it to proc.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 544cbbaed4de962fb0e831e8799ab01c448ff37d
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 02:18:47 2005 +1000

    powerpc: Merge HvLpEvent.c into lpevents.c
    
    These two files were intimately connected, so just merge them.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 99a2379cdddcc4e8579e70deb80479450ed65d49
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 00:17:40 2005 +1000

    powerpc: move hvCall.s to powerpc/platforms/iseries
    
    Rename it to hvcall.S and (so I can do that) rename hvcall.c
    to hvlog.c - a more appropriate name.
    
    Do some white space cleanups.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 2952bc7c896ec76a20e18321e2be40a694a73a78
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Wed Sep 28 00:03:46 2005 +1000

    powerpc: move ItLpQueue.c to powerpc/platforms/iseries
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit c8b84976f86adcd10c221d398e1d0be2b778f3c8
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Sep 27 18:44:42 2005 +1000

    powerpc: move iSeries_setup.[ch] and mf.c into platforms/iseries
    
    iSeries_setup.c becomes setup.c
    iSeries_setup.h becomes setup.h
    mf.c retains its name
    
    Also moved iSeries_[gs]et_rtc_time and iSeries_get_boot_time into
    mf.c since they are just small wrappers around mf_ functions.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 2960eb661a82131b9492cdd1b6500a5f74ccc394
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 23 13:42:26 2005 +1000

    powerpc: Move LparData.c to powerpc platforms
    
    Also rename it to lpardata.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit acdbec1b8974f61b0cb69ebe57916f8721b2f3d7
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 23 13:23:58 2005 +1000

    powerpc: Move HvLpConfig.c to powerpc arch
    
    Also rename it to hvlpconfig.c
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ba0dd617a3e23321a14cb38ff7ad6f796ba32c34
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 23 13:15:51 2005 +1000

    powerpc: Create arch/powerpc/platforms/iseries
    
    I also move arch/ppc64/kernel/HvCall.c to
    arch/powerpc/platforms/iseries/hvcall.c.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 6b67f62cf655c80147435544a2f8f6f57e07ec87
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Sep 27 14:09:39 2005 +1000

    [PATCH] ppc64 g5: merge tree build fix
    
    We removed __pmacdata in the merge.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e607d98369dbd8e7b33b19664d1729a8a81fe7cd
Author: Paul Mackerras <paulus@samba.org>
Date:   Tue Sep 27 14:24:18 2005 +1000

    ppc64: Fix typo in iommu cleanups that broke pmac build.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bbeb3f4c55f666df7bcd2655b303dfb8c4d1a119
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Tue Sep 27 13:51:59 2005 +1000

    powerpc: clean up after powermac build merge
    
    Complete moving arch/ppc64/kernel/mpic.h,
            include/asm-ppc/reg.h, include/asm-ppc64/kdebug.h
    	        and include/asm-ppc64/kprobes.h
    Add arch/powerpc/platforms/Makefile and use it from
    	arch/powerpc/Makefile
    Introduce OLDARCH temporarily so we can point back to
    	the originating architecture
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 51a0885ed7f883758462926b35fbd6f09f9c717c
Merge: 14cf11a... 3d8a66c...
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Sep 26 16:20:49 2005 +1000

    Merge refs/heads/devtree from rsync://oak/kernels/iseries/work/.git

commit 14cf11af6cf608eb8c23e989ddb17a715ddce109
Author: Paul Mackerras <paulus@samba.org>
Date:   Mon Sep 26 16:04:21 2005 +1000

    powerpc: Merge enough to start building in arch/powerpc.
    
    This creates the directory structure under arch/powerpc and a bunch
    of Kconfig files.  It does a first-cut merge of arch/powerpc/mm,
    arch/powerpc/lib and arch/powerpc/platforms/powermac.  This is enough
    to build a 32-bit powermac kernel with ARCH=powerpc.
    
    For now we are getting some unmerged files from arch/ppc/kernel and
    arch/ppc/syslib, or arch/ppc64/kernel.  This makes some minor changes
    to files in those directories and files outside arch/powerpc.
    
    The boot directory is still not merged.  That's going to be interesting.
    
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit e5baa396af7560382d2cf3f0871d616b61fc284c
Merge: d6a4c84... ef6bd6e...
Author: Paul Mackerras <paulus@samba.org>
Date:   Sun Sep 25 22:51:50 2005 +1000

    Merge from Linus' tree.

commit d6a4c847e43c851cc0ddf73087a730227223f989
Author: Becky Bruce <bgill@freescale.com>
Date:   Fri Sep 23 11:07:36 2005 -0500

    [PATCH] powerpc: merge semaphore.h
    
    powerpc: Merge semaphore.h
    
    Adopted the ppc64 version of semaphore.h.  The 32-bit version used
    smp_wmb(), but recent updates to atomic.h mean this is no longer required.
    The 64-bit version made use of unlikely(), which has been retained in the
    combined version.
    
    This patch requires the recent atomic.h patch.
    
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 342e73b3d6fd1321d1eaaa6a935f267a300ceebd
Author: Jon Loeliger <jdl@freescale.com>
Date:   Thu Sep 22 14:55:30 2005 -0500

    [PATCH] powerpc: Merge asm-ppc*/rwsem.h
    
    Merge asm-ppc*/rwsem.h into include/asm-powerpc.
    Removed smp_*mb() memory barriers from the ppc32 code
    as they are now burried in the atomic_*() functions as
    suggested by Paul, implemented by Arnd, and pushed out
    by Becky.  I am not the droid you are looking for.
    
    This patch depends on Becky's atomic.h merge patch.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit feaf7cf153335fe7100b65ed6f4585c3574fe69a
Author: Becky Bruce <bgill@freescale.com>
Date:   Thu Sep 22 14:20:04 2005 -0500

    [PATCH] powerpc: merge atomic.h, memory.h
    
    powerpc: Merge atomic.h and memory.h into powerpc
    
    Merged atomic.h into include/powerpc.  Moved asm-style HMT_ defines from
    memory.h into ppc_asm.h, where there were already HMT_defines; moved c-style
    HMT_ defines to processor.h. Renamed memory.h to synch.h to better reflect
    its contents.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Jon Loeliger <linuxppc@jdl.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2bfadee32f1501faa3184d574f6a769f17236c87
Author: Jon Loeliger <jdl@freescale.com>
Date:   Fri Sep 23 08:05:03 2005 -0500

    [PATCH] powerpc: Merge asm-ppc*/seccomp.h, drop TIF_32BIT check
    
    Merge asm-ppc*/seccomp.h. Drop TIF_32BIT check.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3efc333e7fdb6fab9d4eae129e2b249c6483b250
Author: Kumar Gala <galak@freescale.com>
Date:   Thu Sep 22 10:13:31 2005 -0500

    [PATCH] powerpc: Fix building of power3 config on ppc32
    
    The spinlock_types.h merge renamed the structure for raw_spinlock_t to
    match ppc64.  In doing so some of the spinlock macros/functions needed to
    be updated to match.  Apparently, this seems to only be caught when
    building power3.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b6ce156c415544f900e031890c78eba8bc92f9b3
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 25 15:07:24 2005 +1000

    drm: fix some lindent damage
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 13e4a9c85152a49ec10e682308581ab13b437470
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 25 14:30:09 2005 +1000

    drm: cast handle to a pointer to avoid warning
    
    Andrew reported a warning on this line, just case to void *.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit b5e89ed53ed8d24f83ba1941c07382af00ed238e
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 25 14:28:13 2005 +1000

    drm: lindent the drm directory.
    
    I've been threatening this for a while, so no point hanging around.
    This lindents the DRM code which was always really bad in tabbing department.
    I've also fixed some misnamed files in comments and removed some trailing
    whitespace.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 99a2657a29e2d623c3568cd86b27cac13fb63140
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 25 13:25:41 2005 +1000

    drm: use kernel macros
    
    Make some of the DRM_ macros use the real kernel macros.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 4e0c1159d83a658d1ffba5bc3442f4ec4cadb436
Merge: ea98a92... ef6bd6e...
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 25 13:14:45 2005 +1000

    update from upstream

commit 2759c8d536efe3b853867f345627d89fb64c37af
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Sep 24 04:09:04 2005 -0400

    [wireless airo] remove needed dma_addr_t obfuscation
    
    Fixes bus address truncation bug for certain configs.

commit e2e965072564e7aad8df963107677a6d22c41767
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Sep 24 04:05:52 2005 -0400

    Remove WIRELESS_EXT ifdefs from several wireless drivers.

commit 596ff2e7c8db39c700e277f0bc267244be253f5b
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Fri Sep 23 21:59:01 2005 -0700

    [PATCH] hostap: Remove iwe_stream_add_event kludge
    
    Now that we are compiling with -fno-strict-aliasing (this is the
    kernel default), we can drop the following kludge for
    iwe_stream_add_event().
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a9d12b9a4afcfa2cb6f6e76beb4f185a9177c98e
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Fri Sep 23 21:59:00 2005 -0700

    [PATCH] hostap: Use GFP_ATOMIC to get rid of weird might_sleep issue
    
    	This is the trace I got :
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c28df16ed70d1b6cefd12135e3c68bfccd1bb635
Author: Jean Tourrilhes <jt@hpl.hp.com>
Date:   Fri Sep 23 21:58:59 2005 -0700

    [PATCH] hostap: Add support for WE-19
    
    This patch adds support for WE-19 to the HostAP driver. One of
    the major change is the use of an explicit flag to tell if iwstat is
    in dBm or not.
    
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7a716536c602be6050b4f3ece30f1fc3b64362b0
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 21:58:58 2005 -0700

    [PATCH] hostap: Fix pci_driver name for hostap_plx and hostap_pci
    
    hostap_pci and hostap_plx drivers still use PCI driver names
    "prism2_pci" and "prism2_plx" respectively.  This is unfriendly to
    linux-wlan-ng, which uses the same names.  So, if e.g. hostap_pci and
    prism2_pci are loaded, they will "share" /sys/bus/pci/drivers/prism2_plx
    directory.
    
    Change PCI driver names of hostap_pci and hostap_plx to be equal to
    their module names.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jouni Malinen <jkmaline@cc.hut.fi>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 98ed72deebfd2b55b7e1bb94c8175b1169999212
Merge: dbaa9a9... 87e807b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Sep 24 00:26:49 2005 -0400

    Merge /spare/repo/linux-2.6/

commit c1d9728ecc5b560465df3c0c0d3b3825c2710b40
Merge: 165415f... 87e807b...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Sat Sep 24 00:25:02 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 8cee0cd5bec53b78dd3c43a73b27821a688133e6
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Fri Sep 23 22:58:49 2005 -0400

    [netdrvr] delete CONFIG_PHYCONTROL

commit bb40dcbb0fcebe1df08ba261483fcc38b307d063
Author: Andy Fleming <afleming@freescale.com>
Date:   Fri Sep 23 22:54:21 2005 -0400

    [netdrvr gianfar] use new phy layer
    
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0ff541dafdcb9bc8933e7e4881e5924a408b5335
Author: Dave Jones <davej@redhat.com>
Date:   Fri Sep 23 15:59:37 2005 -0700

    [AGPGART] Fix serverworks TLB flush.
    Go back to what 2.4 kernels used to do here, as if this hits,
    the kernel just hangs indefinitly.
    
    Actually an improvement over 2.4 - we now break; out of the loop
    instead of just printing messages on timeouts.
    
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 61b9cf7c6cf5077c40ad37480fa56f6574af3db5
Author: Mark Maule <maule@sgi.com>
Date:   Fri Sep 23 12:31:53 2005 -0500

    [IA64-SGI] fix sn_pci_legacy_read/fix sn_pci_legacy_write
    
    This patch adds a #define for SN_SAL_IOIF_PCI_SAFE and makes that the
    preferred method of implementing sn_pci_legacy_read() and
    sn_pci_legacy_write().
    
    This SAL call has been present in SGI proms since version 4.10.  If the
    SN_SAL_IOIF_PCI_SAFE call fails, revert to the previous code for compatability
    with older proms.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit b9111b7b7f46b0ec1ccb451d60ec439b92e4df65
Author: Dave Jones <davej@redhat.com>
Date:   Fri Sep 23 11:10:42 2005 -0700

    [CPUFREQ] Remove preempt_disable from powernow-k8
    
    Via reading the code, my understanding is that powernow-k8 uses
    preempt_disable to ensure that driver->target doesn't migrate across cpus
    whilst it's accessing per processor registers, however set_cpus_allowed
    will provide this for us.  Additionally, remove schedule() calls from
    set_cpus_allowed as set_cpus_allowed ensures that you're executing on the
    target processor on return.
    
    Signed-off-by: Zwane Mwaikambo <zwane@arm.linux.org.uk>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit 6cd7525a00f3b926e8bd2e402954ed3e09a8e924
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Sep 22 21:24:59 2005 -0400

    SUNRPC: fix bug in patch "portmapper doesn't need a reserved port"
    
     The in-kernel portmapper does in fact need a reserved port when registering
     new services, but not when performing bind queries.
    
     Ensure that we distinguish between the two cases.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 463eb297401eeb174db3fdf37a87911b576b3993
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Sep 23 11:39:07 2005 -0600

    [IA64] respect ACPI producer/consumer flag for PCI root bridges
    
    Address space resources for ACPI devices have a producer/consumer
    flag.  All devices "consume" the indicated address space.  If the
    resource is marked as a "producer", the range is also passed on
    to child devices.
    
    We currently ignore this flag when setting up MMIO and I/O port
    windows for PCI root bridges, so we could mistakenly interpret
    a "consumed-only" range, like CSR space for the device itself,
    as a window that is routed to children.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f134585a7343d71f9be7f0cf97e2145f21dd10c6
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Fri Sep 23 11:08:25 2005 -0400

    Revert "[PATCH] RPC,NFS: new rpc_pipefs patch"
    
    This reverts 17f4e6febca160a9f9dd4bdece9784577a2f4524 commit.

commit 3063d8a16643190f9e12e9c7e9f1ca56f7e7934e
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Aug 25 16:25:57 2005 -0700

    NFS: Make /proc/mounts display the protocol used by NFSv4
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 278c995c8a153bb2a9bc427e931cfb9c8034c9d7
Author: Christoph Hellwig <hch@infradead.org>
Date:   Sun Jul 24 23:53:01 2005 +0100

    [PATCH] RPC,NFS: new rpc_pipefs patch
    
     Currently rpc_mkdir/rpc_rmdir and rpc_mkpipe/mk_unlink have an API that's
     a little unfortunate.  They take a path relative to the rpc_pipefs root and
     thus need to perform a full lookup.  If you look at debugfs or usbfs they
     always store the dentry for directories they created and thus can pass in
     a dentry + single pathname component pair into their equivalents of the
     above functions.
    
     And in fact rpc_pipefs actually stores a dentry for all but one component so
     this change not only simplifies the core rpc_pipe code but also the callers.
    
     Unfortuntately this code path is only used by the NFS4 idmapper and
     AUTH_GSSAPI for which I don't have a test enviroment.  Could someone give
     it a spin?  It's the last bit needed before we can rework the
     lookup_hash API
    
     Signed-off-by: Christoph Hellwig <hch@lst.de>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 470056c288334eb0b37be26c9ff8aee37ed1cc7a
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:56 2005 -0700

    [PATCH] RPC: rationalize set_buffer_size
    
     In fact, ->set_buffer_size should be completely functionless for non-UDP.
    
     Test-plan:
     Check socket buffer size on UDP sockets over time.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 03bf4b707eee06706c9db343dd5c905b7ee47ed2
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:55 2005 -0700

    [PATCH] RPC: parametrize various transport connect timeouts
    
     Each transport implementation can now set unique bind, connect,
     reestablishment, and idle timeout values.  These are variables,
     allowing the values to be modified dynamically.  This permits
     exponential backoff of any of these values, for instance.
    
     As an example, we implement exponential backoff for the connection
     reestablishment timeout.
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon
     with UDP and TCP.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 3167e12c0c424f3c323944701615343022d86418
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:55 2005 -0700

    [PATCH] RPC: make sure to get the same local port number when reconnecting
    
     Implement a best practice: if the remote end drops our connection, try to
     reconnect using the same port number.  This is important because the NFS
     server's Duplicate Reply Cache often hashes on the source port number.
     If the client reuses the port number when it reconnects, the server's DRC
     will be more effective.
    
     Based on suggestions by Mike Eisler, Olaf Kirch, and Alexey Kuznetsky.
    
     Test-plan:
     Destructive testing.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 529b33c6db0120126b1381faa51406dc463acdc9
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:54 2005 -0700

    [PATCH] RPC: allow RPC client's port range to be adjustable
    
     Select an RPC client source port between 650 and 1023 instead of between
     1 and 800.  The old range conflicts with a number of network services.
     Provide sysctls to allow admins to select a different port range.
    
     Note that this doesn't affect user-level RPC library behavior, which
     still uses 1 to 800.
    
     Based on a suggestion by Olaf Kirch <okir@suse.de>.
    
     Test-plan:
     Repeated mount and unmount.  Destructive testing.  Idle timeouts.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 555ee3af161b037865793bd4bebc06b58daafde6
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:54 2005 -0700

    [PATCH] RPC: clean up after nocong was removed
    
     Clean-up:  Move some macros that are specific to the Van Jacobson
     implementation into xprt.c.  Get rid of the cong_wait field in
     rpc_xprt, which is no longer used.  Get rid of xprt_clear_backlog.
    
     Test-plan:
     Compile with CONFIG_NFS enabled.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit ed63c003701a314c4893c11eceb9d68f8f46c662
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:53 2005 -0700

    [PATCH] RPC: remove xprt->nocong
    
     Get rid of the "xprt->nocong" variable.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss with UDP mounts.
     Look for significant regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a58dd398f5db4f73d5c581069fd70a4304cc4f0a
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:53 2005 -0700

    [PATCH] RPC: add a release_rqst callout to the RPC transport switch
    
     The final place where congestion control state is adjusted is in
     xprt_release, where each request is finally released.  Add a callout
     there to allow transports to perform additional processing when a
     request is about to be released.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for significant
     regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 1570c1e41eabf6b7031f3e4322a2cf1cbe319fee
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:52 2005 -0700

    [PATCH] RPC: add generic interface for adjusting the congestion window
    
     A new interface that allows transports to adjust their congestion window
     using the Van Jacobson implementation in xprt.c is provided.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for
     significant regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 46c0ee8bc4ad3743de05e8b8b20201df44dcb6d3
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:52 2005 -0700

    [PATCH] RPC: separate xprt_timer implementations
    
     Allow transports to hook the retransmit timer interrupt.  Some transports
     calculate their congestion window here so that a retransmit timeout has
     immediate effect on the congestion window.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for significant
     regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 49e9a89086b3cae784a4868ca852863e4f4ea3fe
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:51 2005 -0700

    [PATCH] RPC: expose API for serializing access to RPC transports
    
     The next method we abstract is the one that releases a transport,
     allowing another task to have access to the transport.
    
     Again, one generic version of this is provided for transports that
     don't need the RPC client to perform congestion control, and one
     version is for transports that can use the original Van Jacobson
     implementation in xprt.c.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for
     significant regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 12a804698b29d040b7cdd92e8a44b0e75164dae9
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:51 2005 -0700

    [PATCH] RPC: expose API for serializing access to RPC transports
    
     The next several patches introduce an API that allows transports to
     choose whether the RPC client provides congestion control or whether
     the transport itself provides it.
    
     The first method we abstract is the one that serializes access to the
     RPC transport to prevent the bytes from different requests from mingling
     together.  This method provides proper request serialization and the
     opportunity to prevent new requests from being started because the
     transport is congested.
    
     The normal situation is for the transport to handle congestion control
     itself.  Although NFS over UDP was first, it has been recognized after
     years of experience that having the transport provide congestion control
     is much better than doing it in the RPC client.  Thus TCP, and probably
     every future transport implementation, will use the default method,
     xprt_lock_write, provided in xprt.c, which does not provide any kind
     of congestion control.  UDP can continue using the xprt.c-provided
     Van Jacobson congestion avoidance implementation.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for significant
     regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit fe3aca290f17ae4978bd73d02aa4029f1c9c024c
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:50 2005 -0700

    [PATCH] RPC: add API to set transport-specific timeouts
    
     Prepare the way to remove the "xprt->nocong" variable by adding a callout
     to the RPC client transport switch API to handle setting RPC retransmit
     timeouts.
    
     Add a pair of generic helper functions that provide the ability to set a
     simple fixed timeout, or to set a timeout based on the state of a round-
     trip estimator.
    
     Test-plan:
     Use WAN simulation to cause sporadic bursty packet loss.  Look for significant
     regression in performance or client stability.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 43118c29dea2b23798bd42a147015cceee7fa885
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:49 2005 -0700

    [PATCH] RPC: get rid of xprt->stream
    
     Now we can fix up the last few places that use the "xprt->stream"
     variable, and get rid of it from the rpc_xprt structure.
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon
     with UDP and TCP.
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 808012fbb23a52ec59352445d2076d175ad4ab26
Author: Chuck Lever <cel@netapp.com>
Date:   Thu Aug 25 16:25:49 2005 -0700

    [PATCH] RPC: skip over transport-specific heads automatically
    
     Add a generic mechanism for skipping over transport-specific headers
     when constructing an RPC request.  This removes another "xprt->stream"
     dependency.
    
     Test-plan:
     Write-intensive workload on a single mount point (try both UDP and
     TCP).
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 262965f53defd312a294b45366ea17907b6a616b
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:56 2005 -0400

    [PATCH] RPC: separate TCP and UDP socket write paths
    
     Split the RPC client's main socket write path into a TCP version and a UDP
     version to eliminate another dependency on the "xprt->stream" variable.
    
     Compiler optimization removes unneeded code from xs_sendpages, as this
     function is now called with some constant arguments.
    
     We can now cleanly perform transport protocol-specific return code testing
     and error recovery in each path.
    
     Test-plan:
     Millions of fsx operations.  Performance characterization such as
     "sio" or "iozone".  Examine oprofile results for any changes before and
     after this patch is applied.
    
     Version: Thu, 11 Aug 2005 16:08:46 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b0d93ad511ce2f37823a07c7a3258117a431f5fb
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:53 2005 -0400

    [PATCH] RPC: separate TCP and UDP transport connection logic
    
     Create separate connection worker functions for managing UDP and TCP
     transport sockets.  This eliminates several dependencies on "xprt->stream".
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon with
     v2, v3, and v4.
    
     Version: Thu, 11 Aug 2005 16:08:18 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit c7b2cae8a634015b72941ba2fc6c4bc9b8d3a129
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:50 2005 -0400

    [PATCH] RPC: separate TCP and UDP write space callbacks
    
     Split the socket write space callback function into a TCP version and UDP
     version, eliminating one dependence on the "xprt->stream" variable.
    
     Keep the common pieces of this path in xprt.c so other transports can use
     it too.
    
     Test-plan:
     Write-intensive workload on a single mount point.
    
     Version: Thu, 11 Aug 2005 16:07:51 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 55aa4f58aa43dc9a51fb80010630d94b96053a2e
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:47 2005 -0400

    [PATCH] RPC: client-side transport switch cleanup
    
     Clean-up: change some comments to reflect the realities of the new RPC
     transport switch mechanism.  Get rid of unused xprt_receive() prototype.
    
     Also, organize function prototypes in xprt.h by usage and scope.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:07:21 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 44fbac2288dfed6f1963ac00bf922c3bcd779cd1
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:44 2005 -0400

    [PATCH] RPC: Add helper for waking tasks pending on a transport
    
     Clean-up: remove only reference to xprt->pending from the socket transport
     implementation.  This makes a cleaner interface for other transport
     implementations as well.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:06:52 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 86b9f57dfdf455763d2be73a742a9a88bb664173
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:41 2005 -0400

    [PATCH] RPC: Eliminate socket.h includes in RPC client
    
     Clean-up: get rid of unnecessary socket.h and in.h includes in the generic
     parts of the RPC client.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:06:23 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 2226feb6bcd0e5e117a9be3ea3dd3ffc14f3e41e
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:38 2005 -0400

    [PATCH] RPC: rename the sockstate field
    
     Clean-up: get rid of a name reference to sockets in the generic parts of the
     RPC client by renaming the sockstate field in the rpc_xprt structure.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:05:53 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 5dc07727f86b25851e95193a0c484ea21b531c47
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:35 2005 -0400

    [PATCH] RPC: Rename xprt_lock
    
     Clean-up: Replace the xprt_lock with something more aptly named.  This lock
     single-threads the XID and request slot reservation process.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:05:26 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 4a0f8c04f2ece949d54a0c4fd7490259cf23a58a
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:32 2005 -0400

    [PATCH] RPC: Rename sock_lock
    
     Clean-up: replace a name reference to sockets in the generic parts of the RPC
     client by renaming sock_lock in the rpc_xprt structure.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:05:00 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit b4b5cc85ed4ecbe4adbfbc4df028850de67a9f09
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:29 2005 -0400

    [PATCH] RPC: Reduce stack utilization in xs_sendpages
    
     Reduce stack utilization of the RPC socket transport's send path.
    
     A couple of unlikely()s are added to ensure the compiler places the
     tail processing at the end of the csect.
    
     Test-plan:
     Millions of fsx operations.  Performance characterization such as "sio" or
     "iozone".
    
     Version: Thu, 11 Aug 2005 16:04:30 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 9903cd1c27a1f30e8efea75e125be3b2002f7cb9
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:26 2005 -0400

    [PATCH] RPC: transport switch function naming
    
     Introduce block header comments and a function naming convention to the
     socket transport implementation.  Provide a debug setting for transports
     that is separate from RPCDBG_XPRT.  Eliminate xprt_default_timeout().
    
     Provide block comments for exposed interfaces in xprt.c, and eliminate
     the useless obvious comments.
    
     Convert printk's to dprintk's.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.
    
     Version: Thu, 11 Aug 2005 16:04:04 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit a246b0105bbd9a70a698f69baae2042996f2a0e9
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:23 2005 -0400

    [PATCH] RPC: introduce client-side transport switch
    
     Move the bulk of client-side socket-specific code into a separate source
     file, net/sunrpc/xprtsock.c.
    
     Test-plan:
     Millions of fsx operations.  Performance characterization such as "sio" or
     "iozone".  Destructive testing (unplugging the network temporarily, server
     reboots).  Connectathon with v2, v3, and v4.
    
     Version: Thu, 11 Aug 2005 16:03:38 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 094bb20b9fcab3a1652a77741caba6b78097d622
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:20 2005 -0400

    [PATCH] RPC: extract socket logic common to both client and server
    
     Clean-up: Move some code that is common to both RPC client- and server-side
     socket transports into its own source file, net/sunrpc/socklib.c.
    
     Test-plan:
     Compile kernel with CONFIG_NFS enabled.  Millions of fsx operations over
     UDP, client and server.  Connectathon over UDP.
    
     Version: Thu, 11 Aug 2005 16:03:09 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 602f83273c89fdd25f24757564d8001cf723e740
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:17 2005 -0400

    [PATCH] RPC: portmapper doesn't need a reserved port
    
     The in-kernel portmapper does not require a reserved port for making
     bind queries.
    
     Test-plan:
     Tens of runs of the Connectathon locking suite with TCP and UDP
     against several other NFS server implementations using NFSv3,
     not NFSv4 (which doesn't require rpcbind).
    
     Version: Thu, 11 Aug 2005 16:02:43 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit eab5c084b858fd95a873fc2b97de9a9ad937b4ed
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:14 2005 -0400

    [PATCH] NFS: use a constant value for TCP retransmit timeouts
    
     Implement a best practice: don't use exponential backoff when computing
     retransmit timeout values on TCP connections, but simply retransmit
     at regular intervals.
    
     This also fixes a bug introduced when xprt_reset_majortimeo() was added.
    
     Test-plan:
     Enable RPC debugging and watch timeout behavior on a NFS/TCP mount.
    
     Version: Thu, 11 Aug 2005 16:02:19 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit da35187801732397a7e05fb9e77f3700cc35f5db
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:11 2005 -0400

    [PATCH] RPC: proper soft timeout behavior for rpcbind
    
     Implement a best practice:  for soft mounts, an rpcbind timeout should
     cause an RPC request to fail.
    
     This also provides an FSM hook for retrying an rpcbind with a different
     rpcbind protocol version.  We'll use this later to try multiple rpcbind
     protocol versions when binding.  To enable this, expose the RPC error
     code returned during a portmap request to the FSM so it can make some
     decision about how to report, retry, or fail the request.
    
     Test-plan:
     Hundreds of passes with connectathon NFSv3 locking suite, on the client
     and server.
    
     Version: Thu, 11 Aug 2005 16:01:53 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 23475d66bd8600e0c5353f86c1b74f68df27bdb5
Author: Chuck Lever <cel@citi.umich.edu>
Date:   Thu Aug 11 16:25:08 2005 -0400

    [PATCH] RPC: Report connection errors properly when mounting with "soft"
    
     Fix up xprt_connect_status: the soft timeout logic was clobbering tk_status,
     so TCP connect errors were not properly reported on soft mounts.
    
     Test-plan:
     Destructive testing (unplugging the network temporarily).  Connectathon
     with UDP and TCP.
    
     Version: Thu, 11 Aug 2005 16:01:28 -0400
    
     Signed-off-by: Chuck Lever <cel@netapp.com>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 9aa48b7e270d13c8781414dce081a42cae20a80d
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Aug 25 16:25:35 2005 -0700

    NFS: Don't expose internal READDIR errors to userspace
    
     Fixes a condition whereby the kernel is returning the non-POSIX error
     EBADCOOKIE to userspace.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 449231d6ddf50ca46b7fb2f76ecf790135222913
Author: Olaf Kirch <okir@suse.de>
Date:   Thu Aug 25 16:25:35 2005 -0700

    From: Olaf Kirch <okir@suse.de>
    [PATCH] Fix miscompare in __posix_lock_file
    
     If an application requests the same lock twice, the
     kernel should just leave the existing lock in place.
     Currently, it will install a second lock of the same type.
    
     Signed-off-by: Olaf Kirch <okir@suse.de>
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit 20509f1bc553ed7fafa88fa8d01c6212d1876d9f
Author: Trond Myklebust <Trond.Myklebust@netapp.com>
Date:   Thu Aug 25 16:25:34 2005 -0700

    NFS: Drop inode after rename
    
     When doing a rename on top of an existing file that is not in use,
     the inode of the overwritten file will remain in the icache.
    
     The fix is to decrement i_nlink of the overwritten inode, like we
     do for unlink, rmdir etc already.
    
     Problem diagnosed by Olaf Kirch. This patch is a slight variation
     on his fix.
    
     Signed-off-by: Trond Myklebust <Trond.Myklebust@netapp.com>

commit acc4b985a6f8f22a0e826692894a4af234764001
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Bump version to 0.15rc3.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Bump version to 0.15rc3.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 48ca703807eba616ad5e384b40e27514bd341a3d
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Read only needed data in __orinoco_ev_txexc().
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Read only needed data in __orinoco_ev_txexc().
    
    Don't read the 802.11 header beyond addr1.  The rest of the frame is not
    used currently.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d133ae4cd6a3c75c31b1630f906cc9979a11077f
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Annotate endianess of variables and structure members.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Annotate endianess of variables and structure members.
    
    Don't reuse variables for both host-endian and little-endian data.
    Minor comment changes in affected structures.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 393da59834eef526fc6fd0df321e94344d7c49e3
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Remove unneeded forward declarations.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Remove unneeded forward declarations.
    
    Also reorder struct pcmcia_driver initialization to keep attach and
    detach together.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8aeabc375041a5fe9c9be315472497b2e0547eed
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: orinoco_send_wevents() could return without unlocking.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    orinoco_send_wevents() could return without unlocking.
    
    Failure to read BSSID from the hardware would cause orinoco_send_wevents() to
    return with lock held.  Found by sparse.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f3cb4cc120177090b0ccc9fb20a12010de39ac8a
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Fix memory leak and unneeded unlock in orinoco_join_ap()
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Fix memory leak and unneeded unlock in orinoco_join_ap()
    
    If orinoco_lock() fails, the code would still run orinoco_unlock(),
    instead of freeing the allocated memory.  Found by sparse.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4c08202547111e503eca4031ae9443159a79e2b2
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:06 2005 -0400

    [PATCH] orinoco: Make nortel_pci_hw_init() static.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Make nortel_pci_hw_init() static.
    
    Found by sparse.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ef846bf04f4c9e1a68ab841e89931f8c26100874
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 23 04:18:07 2005 -0400

    [PATCH] orinoco: Remove inneeded system includes.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Remove inneeded system includes.
    
    Most system includes are not needed.  In particular, the hardware
    backends don't need anything network related.  Some includes have been
    moved from local headers to the C files where they are actually used.
    Includes that have to be in the local headers are no longer from the C
    sources.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3d8a66cc9ec475baaf22de139deff67ffe8e7cf2
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Fri Sep 23 15:17:30 2005 +1000

    ppc64 iSeries: Don't create linux,boot-cpu
    
    This is obsolete.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 95b293800859886b602e31c8926a840530a82971
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 15:03:10 2005 +1000

    ppc64 iSeries: Define /cpus in iSeries device tree
    
    Add the /cpus node and nodes for each cpu, as well as cache size properties,
    reg propery, "linux,boot-cpu", and timebase/clock frequency.
    
    With those properties in place we can remove:
    
    - setup_iSeries_cache_sizes()
    - code in iSeries_setup_arch() to calculate timebase etc.
    - iSeries_calibrate_decr()
    - smp_iSeries_numProcs() and simplify smp_iSeries_probe()
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 47db360328582000a7a46390cfa385b8df07b44f
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 15:01:49 2005 +1000

    ppc64 iSeries: Move setup of systemcfg->platform into iSeries device tree
    
    Add /chosen/linux,platform to the device tree so we can remove iSeries
    specific code in setup_system() to set systemcfg->platform.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 3ab42407fe0628c7880b21eff057566390865319
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 15:00:20 2005 +1000

    ppc64 iSeries: Move memory setup into iSeries device tree
    
    This patch adds the required nodes to the iSeries device tree to allow
    early_init_devtree() to do the lmb setup for us.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 4762713a93fa8706c31b0897c1340e7dc282d8fb
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:59:04 2005 +1000

    ppc64 iSeries: Call early_setup() on iSeries
    
    Misc steps to incorporate the flat device tree on iSeries.
    
    - define iseries_probe()
    - call build_iSeries_Memory_Map() earlier
    - return __pa() of the flat device tree from iSeries_early_setup()
    - actually call early_setup() for iSeries
    - add iseries_md to machdep_calls
    - build prom.o for iSeries
    - enable /proc/device-tree for iSeries
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit c0a59491daca7db11d49edad1a1cefaaa7120a9e
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:56:09 2005 +1000

    ppc64 iSeries: Create a fake flat device tree on iSeries
    
    This patch adds infrastructure for creating a fake flattened device tree
    on iSeries.
    
    We also need to build prom.o for iSeries which means we'll always need it.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit f6ab9c68406dfcd1fcd0a5352244fcb932b113b1
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:54:37 2005 +1000

    ppc64 iSeries: Make smp_release_cpus() callable on iSeries
    
    We don't need to call smp_release_cpus() on iSeries but it's harmless
    if we do and it removes another #ifdef ISERIES.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 7c6f947f2477f7c0017be1af458eb5e0b96b7f40
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:50:25 2005 +1000

    ppc64 iSeries: Make stab_initialize() work on iSeries
    
    We don't need to call stab_initialize() for the boot cpu on iSeries, so
    we hack around it so that early_setup() can be called on iSeries.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 4c55130b2aa93370f1bf52d2304394e91cf8ee39
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:47:58 2005 +1000

    ppc64 iSeries: Update create_pte_mapping to replace iSeries_bolt_kernel()
    
    early_setup() calls htab_initialize() which is similar, but not identical
    to iSeries_bolt_kernel().
    
    On iSeries the Hypervisor has already inserted some ptes for us, and we
    simply have to detect that and bolt them. iSeries_hpte_bolt_or_insert()
    implements that logic.
    
    For the case of a non-existing pte we just call iSeries_hpte_insert(). This
    appears to work, although it's not entirely equivalent to the old code in
    iSeries_make_pte() which panicked if we got a secondary slot. Not sure if
    that's important.
    
    Finally we call iSeries_hpte_bolt_or_insert() from create_pte_mapping(),
    which is called from htab_initialize() for each lmb region.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit ba293fff085fde5b9f1b5a57c8abb1a8098d0c59
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:43:22 2005 +1000

    ppc46 iSeries: Make some generic irq code compile for iSeries
    
    In order to call finish_device_tree() on iSeries we need to define
    virt_irq_create_mapping(). We also need to set ppc64_interrupt_controller to
    something other than zero. If we want to do interrupt setup via the device
    tree on iSeries this code will need some serious work, but it's harmless to
    have it there as long as the nodes in the iSeries device tree don't cause
    it to be invoked.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 9f497581fda5fd804e9ebd7d8f6d80c3a0e9f883
Author: Michael Ellerman <michael@ellerman.id.au>
Date:   Fri Sep 23 14:10:59 2005 +1000

    ppc64 iSeries: Move iSeries ppc_md functions into a machdep_calls struct
    
    Move the iSeries machine specific calls into a machdep_calls struct like
    other platforms, rather than setting members of ppc_md explicitly.
    
    Signed-off-by: Michael Ellerman <michael@ellerman.id.au>
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>

commit 70ca734a14366b634224a1e4586d43b36b65ab67
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Sep 22 16:32:06 2005 -0700

    [CIFS] Various minor bigendian fixes and sparse level 2 warning message fixes
    Most important of these fixes mapchars on bigendian and a few statfs fields
    
    Signed-off-by: Shaggy <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit da192bb50cc9a7fe7d95e048422d51777bad0bba
Merge: af9288a... 3fd07d3...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Sep 22 15:43:14 2005 -0400

    Merge /spare/repo/linux-2.6/

commit af9288a707b609cdb1069cfe5bde0d6567c12c31
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Sep 22 15:43:07 2005 -0400

    ieee80211: update orinoco, wl3501 drivers for latest struct naming

commit 6eb6edf04acd09e3cea09456913e8da59323b89e
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Thu Sep 22 10:34:15 2005 +0000

    [PATCH] ieee80211: in-tree driver updates to sync with latest ieee80211 series
    
    Changed crypto method from requiring a struct ieee80211_device reference
    to the init handler.  Instead we now have a get/set flags method for
    each crypto component.
    
    Setting of TKIP countermeasures can now be done via
    set_flags(IEEE80211_CRYPTO_TKIP_COUNTERMEASURES)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e5658d3e8a347f4393a9403b0cec8d43fa6214b1
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:56 2005 -0500

    [PATCH] ieee80211: added IE comments, reason_code to reason, removed info_element from ieee80211_disassoc
    
    tree 0254e7c97cece038cd11b47a16027c6379e464fe
    parent a84f7713dc87ca1b51c6d53b391087663425a080
    author James Ketrenos <jketreno@linux.intel.com> 1126661324 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127319069 -0500
    
    Updated based on Michael Wu's patch and comments sent to netdev.
    
    Added IE comments to ieee80211_* frame structures.
    Changed reason_code to reason (consistency)
    Removed info_element from ieee80211_disassoc
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 31b59eaee8f8ec29d8cb6ac0c8eed086689d8030
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:49 2005 -0500

    [PATCH] ieee80211: Added handle_deauth() callback, enhanced tkip/ccmp support of varying hw/sw offload
    
    tree de81b55e78e85997642c651ea677078d0554a14f
    parent c8030da8c159f8b82712172a6748a42523aea83a
    author James Ketrenos <jketreno@linux.intel.com> 1127104380 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127315225 -0500
    
    Added handle_deauth() callback.
    Enhanced crypt_{tkip,ccmp} to support varying splits of HW/SW offload.
    Changed channel freq to u32 from u16.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 31696160c7415b5a7efa650c7f1ca5c9623f5d8f
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:46 2005 -0500

    [PATCH] ieee80211: Added subsystem version string and reporting via MODULE_VERSION
    
    tree c1b50ac5d2d1f9b727c39c6bd86a7872f25a1127
    parent 1bb997a3ac7dd1941e02426d2f70bd28993a82b7
    author James Ketrenos <jketreno@linux.intel.com> 1126720779 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127314674 -0500
    
    Added subsystem version string and reporting via MODULE_VERSION and
    pritnk during load.
    
    NOTE:  This is the version support split out from patch 24/29 of the
    prior series.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b671ad2befe37131af380183760862d5cbad858d
Author: Kumar Gala <galak@freescale.com>
Date:   Wed Sep 21 16:52:55 2005 -0500

    [PATCH] powerpc: merged hw_irq.h
    
    Merged hw_irq.h between ppc32 & ppc64.  Added support to use the Book-E
    wrtee[i] instructions that allow modifying MSR[EE] atomically.
    Additionally, added get_irq_desc() macros to ppc32 to allow mask_irq(),
    unmask_irq(), and ack_irq() to be common between ppc32 & ppc64.
    
    Note: because 64-bit Book-E implementations only have a 32-bit MSR the
    macro's for Book-E need to come before the PPC64 macro's to ensure the
    right thing happends for 64-bit Book-E processors.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fa2ac7a25f1b11c4a695c9288339d0476ecfaf38
Author: Kumar Gala <galak@freescale.com>
Date:   Wed Sep 21 15:44:11 2005 -0500

    [PATCH] powerpc: Fix compiling of ppc32
    
    The merging of auxvec.h into asm-powerpc introduced the AT_SYSINFO_EHDR
    into the ppc32 build that is used for VDSO.  However, we dont have VDSO
    support in the ppc32 tree at this time.  Introducing this define causes
    a number of other things to get built with the assumption of VDSO, thus
    causing the compile errors for ppc32.
    
    Until we have VDSO on ppc32 we will leave AT_SYSINFO_EHDR a ppc64 only
    define.
    
    Signed-off-by: Kumar K. Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit b8f114db84dac709080198e08a5564976afd6579
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Wed Sep 21 14:54:51 2005 -0500

    [PATCH] powerpc: Merge asm-ppc*/dma.h
    
    This merges the asm-ppc*/dma.h files.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 2096243885ee34b78cb57ce835e07c8536a67d2a
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Sep 21 22:05:57 2005 -0700

    [CIFS] Add support for legacy servers part nine.  statfs (df and du) is now
    functional, and the length check is fixed so readdir does not throw a
    warning message when windows me messes up the response to FindFirst
    of an empty dir (with only . and ..).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 8a4ae7f2e24bf99b61082ca45de8e54e70300b9d
Author: Manfred Spraul <manfred@colorfullife.com>
Date:   Wed Sep 21 23:22:10 2005 -0400

    forcedeth: add hardware tx checksumming
    
    Recent forcedeth nics support checksum offloading for tx.
    
    The attached patch, written by Ayaz Abdulla, adds the support to the
    driver.
    
    It also cleans up the handling of the three dma ring entry formats that
    are supported by the driver.
    
    Signed-off-By: Manfred Spraul <manfred@colorfullife.com>
    Signed-off-By: Jeff Garzik <jgarzik@pobox.com>

commit 9a01c16bd49071b2e7904d222cae71d5f8bf6bb5
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 14:33:32 2005 -0500

    [PATCH] ieee82011: Remove WIRELESS_EXT ifdefs
    
    Remove old WIRELESS_EXT version compatibility
    
    In-tree doesn't need to maintain backward compatibility.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 5bfc819b53ed67c76f33f969ab627070e85d87c1
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:51 2005 -0500

    [PATCH] ieee80211: Updated hostap to be compatible with extra_prefix_len changes
    
    tree 8c1676c8a15c08e6d4c718fc7cd42d9bf4cd8235
    parent 0ccc3dd6469ed492578c184f47dde2baccde3593
    author James Ketrenos <jketreno@linux.intel.com> 1126715240 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316717 -0500
    
    Updated hostap to be compatible with extra_prefix_len changes.
    
    Accomplished via:
    
    for i in hostap_ap.c hostap_80211_tx.c; do
            sed -i -e "s:\([.>]\)extra_prefix_len:\1extra_mpdu_prefix_len:g" \
                    -e "s:\([.>]\)extra_postfix_len:\1extra_mpdu_postfix_len:g" \
                    drivers/net/wireless/hostap/$i
    done
    
    CC: Jouni Malinen <jkmaline@cc.hut.fi>
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit d041674d62e1ad565f2fb6d53ae80b31d6656033
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:49 2005 -0500

    [PATCH] ieee80211: Updated hostap to be compatible with ieee80211_hdr changes
    
    tree 8ec97d9056ceaf0f845ed51175dd842b700baadd
    parent 329128457008ace3110c96971addf85a767dd5af
    author James Ketrenos <jketreno@linux.intel.com> 1126714484 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316636 -0500
    
    Updated hostap to be compatible with ieee80211_hdr changes.
    
    Change accomplished via:
    
    for i in hostap_ap.{c,h} hostap_80211_{t,r}x.c; do
    	sed -i -e "s:ieee80211_hdr\([^_]\):ieee80211_hdr_4addr\1:g" \
    		drivers/net/wireless/hostap/$i
    done
    
    CC: Jouni Malinen <jkmaline@cc.hut.fi>
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ebeaddcc02fd47d1dbb7f25318d046461d90e4af
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:43 2005 -0500

    [PATCH] ieee80211: Updated copyright dates
    
    tree 0d3e41e574fcb41b9da7f0b7e1d27ec350726654
    parent dbe2885fe2f454d538eaaabefc741ded1026f476
    author James Ketrenos <jketreno@linux.intel.com> 1126720499 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127314531 -0500
    
    Updated copyright dates.
    
    NOTE:  This is a split out of just the copyright updates from patch
    24/29 in the prior series.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7dc888fefc053996354ca40602159e0ce5669f86
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:38 2005 -0500

    [PATCH] ieee80211: Keep auth mode unchanged after iwconfig key off/on cycle
    
    tree 2e6f6e7dc4f4eeb8e3dc265020016dd53e40578a
    parent ba2075794a089430b3dd7c90ff46ce1b67e9c7cc
    author Zhu Yi <yi.zhu@intel.com> 1125551043 +0800
    committer James Ketrenos <jketreno@linux.intel.com> 1127314475 -0500
    
    [Bug 768] Keep auth mode unchanged after iwconfig key off/on cycle.
    
    Signed-off-by: Zhu Yi <yi.zhu@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ccd0fda3a6d9186d067893114f65b8df758d5a1f
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:32 2005 -0500

    [PATCH] ieee80211: Mixed PTK/GTK CCMP/TKIP support
    
    tree 5c7559a1216ae1121487f6aed94a6017490729b3
    parent c1ff4c22e5622c8987bf96c09158c4924cde98c2
    author Hong Liu <hong.liu@intel.com> 1125482767 +0800
    committer James Ketrenos <jketreno@linux.intel.com> 1127314427 -0500
    
    Mixed PTK/GTK CCMP/TKIP support.
    
    Signed-off-by: Hong Liu <hong.liu@intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 42c94e43be27f8b9be9b5be491bae8af05e54dbd
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:29 2005 -0500

    [PATCH] ieee80211: Type-o, capbility definition for QoS, and ERP parsing
    
    tree 3ac0dd07b9972dfd68fee47ec2152d3d378de000
    parent 9ada1d971d9829c34a14d98840080b7e69fdff6b
    author Mohamed Abbad <mohamed.abbas@intel.com> 1126054379 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127314340 -0500
    
    Type-o, capbility definition for QoS, and ERP parsing
    
    Added WLAN_CAPABILITY_QOS
    Fixed type-o WLAN_CAPABILITY_OSSS_OFDM -> WLAN_CAPABILITY_DSSS_OFDM
    Added ERP IE parsing to ieee80211_rx
    Added handle_probe_request callback.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9ba7e0d1579485ce231594651b39c169029f5d67
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:58:24 2005 -0500

    [PATCH] ieee80211: "extern inline" to "static inline"
    
    tree bce04549ce0a8239d8083d8da5c3d12f7e1aecd9
    parent b15a5153d5f1c75d9435d5ce19b52287059d5d54
    author Adrian Bunk <bunk@stusta.de> 1125026386 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313953 -0500
    
    "extern inline" doesn't make much sense.
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit cdcfc210820b8e043cb606eddc145906185c6743
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:56:49 2005 -0500

    [PATCH] ieee80211: Additional fixes for endian-aware types
    
    tree 589bbb92ce7cdf7c2ae820b0ebd3f8fbf1baeee9
    parent c6ce9081e79e8836a11e86e3d38297521a2420be
    author Jiri Benc <jbenc@suse.cz> 1125015310 -0400
    committer James Ketrenos <jketreno@linux.intel.com> 1127313914 -0500
    
    Additional fixes for endian-aware types
    
    Based on the application of __le16/__be16 changes already made w/ a
    prior patch by Michael Wu <flamingice@sourmilk.net>
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3905ec4561b7b049e9c2e27311d072c356dbdee2
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:56:42 2005 -0500

    [PATCH] ieee80211: Added ieee80211_radiotap.h
    
    tree 383c59b2516a61f2683f02dfebbed0caf6ee5dc3
    parent a04948f63fd96c4b875a43f78afad1a0874cc441
    author Mike Kershaw <dragorn@kismetwireless.net> 1124447833 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313883 -0500
    
    Added ieee80211_radiotap.h to enhance statistic reporting to user space
    from wireless drivers.
    
    Signed-off-by: Mike Kershaw <dragorn@kismetwireless.net>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 02cda6ae01814f58422c45259fb48136fbd7bcc1
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:56:38 2005 -0500

    [PATCH] ieee80211: Added ieee80211_geo to provide helper functions
    
    tree 385b391fc0d7c124cd0547fdb6183e9a0c333391
    parent 97d7a47f76e72bedde7f402785559ed4c7a8e8e8
    author James Ketrenos <jketreno@linux.intel.com> 1124447590 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313735 -0500
    
    Added ieee80211_geo to provide helper functions to drivers for
    implementing supported channel maps.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9e8571affd1c54b9638b4ff9844e47aae07310f6
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:56:33 2005 -0500

    [PATCH] ieee80211: Add QoS (WME) support to the ieee80211 subsystem
    
    tree a3ad796273e98036eb0e9fc063225070fa24508a
    parent 1b9c0aeb377abf8e4a43a86cff42382f74ca0259
    author Mohamed Abbas <mabbas@linux.intel.com> 1124447069 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313435 -0500
    
    Add QoS (WME) support to the ieee80211 subsystem.
    
    NOTE: This requires drivers that use the ieee80211 hard_start_xmit
    (ipw2100 and ipw2200) to add the priority parameter to their callback.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2c0aa2a5c2dfa1293ae3a07517d0b7de149358a1
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:56:27 2005 -0500

    [PATCH] ieee80211: Return NETDEV_TX_BUSY when QoS buffer full
    
    tree ba6509c7cd1dd4244a2f285f2da5d632e7ffbb25
    parent 7b5f9f2ddcabdaea214527a895e6e8445cafdd80
    author James Ketrenos <jketreno@linux.intel.com> 1124447000 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313383 -0500
    
    Per the conversations with folks at OLS, the QoS layer in 802.11
    drivers can now result in NETDEV_TX_BUSY being returned when the queue
    a packet is targetted for is full.
    
    To implement this, ieee80211_xmit will now call the driver's
    is_queue_full to determine if the current priority queue is full.  If
    so, NETDEV_TX_BUSY is returned to the kernel and no processing is done
    on the frame.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1264fc0498e1e20f97b1ab690e523e7a7fc50eab
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:53 2005 -0500

    [PATCH] ieee80211: Fix TKIP, repeated fragmentation problem, and payload_size reporting
    
    tree 8428e9f510e6ad6c77baec89cb57374842abf733
    parent d78bfd3ddae9c422dd350159110f9c4d7cfc50de
    author Liu Hong <hong.liu@intel.com> 1124446520 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313183 -0500
    
    Fix TKIP, repeated fragmentation problem, and payload_size reporting
    
    1. TKIP encryption
        Originally, TKIP encryption issues msdu + mpdu encryption on every
        fragment. Change the behavior to msdu encryption on the whole
        packet, then mpdu encryption on every fragment.
    
    2. Avoid repeated fragmentation when !host_encrypt.
        We only need do fragmentation when using host encryption. Otherwise
        we only need pass the whole packet to driver, letting driver do the
        fragmentation.
    
    3. change the txb->payload_size to correct value
        FW will use this value to determine whether to do fragmentation. If
        we pass the wrong value, fw may cut on the wrong bound which will
        make decryption fail when we do host encryption.
    
    NOTE:  This requires changing drivers (hostap) that have
    extra_prefix_len used within them (structure member name change).
    
    Signed-off-by: Hong Liu <liu.hong@intel.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3f552bbf8614d2d26f488ca0d3e188bdec484bf4
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:47 2005 -0500

    [PATCH] ieee82011: Added ieee80211_tx_frame to convert generic 802.11 data frames, and callbacks
    
    tree 40adc78b623ae70d56074934ec6334eb4f0ae6a5
    parent db43d847bcebaa3df6414e26d0008eb21690e8cf
    author James Ketrenos <jketreno@linux.intel.com> 1124445938 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313102 -0500
    
    Added ieee80211_tx_frame to convert generic 802.11 data frames into
    txbs for transmission.
    
    Added several purpose specific callbacks (handle_assoc, handle_auth,
    etc.) which the driver can register with for being notified on
    reception of variouf frame elements.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3cdd00c5827621cd0b1bb0665aa62ef9a724297d
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:43 2005 -0500

    [PATCH] ieee80211: adds support for the creation of RTS packets
    
    tree b45c9c1017fd23216bfbe71e441aed9aa297fc84
    parent 04aacdd71e904656a304d923bdcf57ad3bd2b254
    author Ivo van Doorn <IvDoorn@gmail.com> 1124445405 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127313029 -0500
    
    This patch adds support for the creation of RTS packets when the
    config flag CFG_IEEE80211_RTS has been set.
    
    Signed-Off-By: Ivo van Doorn <IvDoorn@gmail.com>
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit ee34af37c095482b9dba254b9cd7cb5e65e9a25e
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:36 2005 -0500

    [PATCH] ieee80211: Renamed ieee80211_hdr to ieee80211_hdr_3addr
    
    tree e9c18b2c8e5ad446a4d213243c2dcf9fd1652a7b
    parent 4e97ad6ae7084a4f741e94e76c41c68bc7c5a76a
    author James Ketrenos <jketreno@linux.intel.com> 1124444315 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127312922 -0500
    
    Renamed ieee80211_hdr to ieee80211_hdr_3addr and modified ieee80211_hdr
    to just contain the frame_ctrl and duration_id.
    
    Changed uses of ieee80211_hdr to ieee80211_hdr_4addr or
    ieee80211_hdr_3addr based on what was expected for that portion of code.
    
    NOTE: This requires changes to ipw2100, ipw2200, hostap, and atmel
    drivers.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e0d369d1d969fc9e4fd08a20f6dad04d369aceea
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:30 2005 -0500

    [PATCH] ieee82011: Added WE-18 support to default wireless extension handler
    
    tree 1536f39c18756698d033da72c49300a561be1289
    parent 07172d7c9f10ee3d05d6f6489ba6d6ee2628da06
    author Liu Hong <hong.liu@intel.com> 1124436225 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127312664 -0500
    
    Added WE-18 support to default wireless extension handler in ieee80211
    subsystem.
    
    Updated patch since last send to account for ieee80211_device parameter
    being added to the crypto init method.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 259bf1fd8a7cc0f6b47fd8a9ac5e2dfc33182a3d
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:22 2005 -0500

    [PATCH] ieee80211: Allow drivers to fix an issue when using wpa_supplicant with WEP
    
    tree 898fedef6ca1b5b58b8bdf7e6d8894a78bbde4cd
    parent 8720fff53090ae428d2159332b6f4b2749dea10f
    author Zhu Yi <jketreno@io.(none)> 1124435746 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127312509 -0500
    
    Allow drivers to fix an issue when using wpa_supplicant with WEP.
    
    The problem is introduced by the hwcrypto patch. We changed indicator of
    the encryption request from the upper layer (i.e. wpa_supplicant):
    
    In the original host based crypto the driver could use: crypt &&
    crypt->ops.
    
    In the new hardware based crypto, the driver should use the flags
    specified in ieee->sec.encrypt.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0ad0c3c64484b1458b51167bd3e614d8d9d070f8
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:15 2005 -0500

    [PATCH] ieee80211: Fix kernel Oops when module unload
    
    tree b69e983266840983183a00f5ac02c66d5270ca47
    parent cdd6372949b76694622ed74fe36e1dd17a92eb71
    author Zhu Yi <jketreno@io.(none)> 1124435425 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127312421 -0500
    
    Fix kernel Oops when module unload.
    
    Export a new function ieee80211_crypt_quiescing from ieee80211. Device
    drivers call it to make the host crypto stack enter the quiescence
    state, which means "process existing requests, but don't accept new
    ones". This is usually called during a driver's host crypto data
    structure free (module unload) path.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 42e349fd10d471d9ae6955a7f12523291c0193e6
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:54:07 2005 -0500

    [PATCH] ieee80211: Fix time calculation, switching to use jiffies_to_msecs
    
    tree b9cdd7058b787807655ea6f125e2adbf8d26c863
    parent 85d9b2bddfcf3ed2eb4d061947c25c6a832891ab
    author Zhu Yi <jketreno@io.(none)> 1124435212 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127312152 -0500
    
    Fix time calculation, switching to use jiffies_to_msecs.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f1bf6638af9e9bbbb6fb0b769054fb7db1ae652f
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:53:54 2005 -0500

    [PATCH] ieee80211: Hardware crypto and fragmentation offload support
    
    tree 5322d496af90d03ffbec27292dc1a6268a746ede
    parent 6c9364386ccb786e4a84427ab3ad712f0b7b8904
    author James Ketrenos <jketreno@linux.intel.com> 1124432367 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127311810 -0500
    
    Hardware crypto and fragmentation offload support added (Zhu Yi)
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 20d64713ae71c0b0aa06084acbef2244021baaca
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 11:53:43 2005 -0500

    [PATCH] ieee80211: Fixed a kernel oops on module unload
    
    tree 367069f24fc38b4aa910e86ff40094d2078d8aa7
    parent a33a1982012e9070736e3717231714dc9892303b
    author James Ketrenos <jketreno@linux.intel.com> 1124430800 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127310571 -0500
    
    Fixed a kernel oops on module unload by adding spin lock protection to
    ieee80211's crypt handlers (thanks to Zhu Yi)
    
    Modified scan result logic to report WPA and RSN IEs if set (vs.being
    based on wpa_enabled)
    
    Added ieee80211_device as the first parameter to the crypt init()
    method.  TKIP modified to use that structure for determining whether to
    countermeasures are active.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4ca5253d573d7b3785dbb2f123f948fdca6ee235
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:46 2005 -0500

    [PATCH] ieee80211: Updated atmel to be compatible with ieee80211_hdr changes
    
    tree d7be83000b058b14450d76f99c432b1fb2a1c177
    parent 322201093e03830fceedfc24931420b1ea855a8c
    author James Ketrenos <jketreno@linux.intel.com> 1127316330 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316330 -0500
    
    Updated atmel to be compatible with ieee80211_hdr changes.
    
    Change accomplished via:
    
    sed -i -e "s:ieee80211_hdr\([^_]\):ieee80211_hdr_4addr\1:g" \
    	drivers/net/wireless/atmel.c
    
    Compile tested only.
    
    CC: simon@thekelleys.org.uk
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c8d42d1ae4518091a20f7212b0591a0f4b0e8ca0
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:43 2005 -0500

    [PATCH] ieee80211: Updated ipw2200 to be compatible with ieee80211's hard_start_xmit change.
    
    tree 713b6ff3311decfe42d5209f7b2508736d144b85
    parent 6465beff0e89779330450dffc2a5e6dc5154eebf
    author James Ketrenos <jketreno@linux.intel.com> 1126716726 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316162 -0500
    
    Updated ipw2200 to be compatible with ieee80211's hard_start_xmit change.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 0dacca1f0a53938dd7d5ba35c692bd1a3356d504
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:41 2005 -0500

    [PATCH] ieee80211: Updated ipw2200 to be compatible with ieee80211_hdr changes
    
    tree 9f86c7b4f59249c05c96c360dfaa817995e8a44f
    parent 9b09701b2c6254f2fddb009004a14eb5a908714f
    author James Ketrenos <jketreno@linux.intel.com> 1126714305 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316074 -0500
    
    Updated ipw2200 to be compatible with ieee80211_hdr changes.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3a5becf720d6346ffca2d6be6473f603b39322a2
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:37 2005 -0500

    [PATCH] ieee80211: Updated ipw2100 to be compatible with ieee80211's hard_start_xmit change
    
    tree ee48cbe413b795d6be454b9baf4f3bd3d74814cb
    parent 49856b147763bd6847e0d8f53aee1ddd61385638
    author James Ketrenos <jketreno@linux.intel.com> 1126716634 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127316024 -0500
    
    Updated ipw2100 to be compatible with ieee80211's hard_start_xmit change.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 99a4b232b6682a847c70d877e4a3c15e9138c8f6
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 21 12:23:25 2005 -0500

    [PATCH] ieee80211: Updated ipw2100 to be compatible with ieee80211_hdr changes
    
    tree 992b203395c50342f1cced415acae6177344e270
    parent c59bb604a2ff4e40232ff0422e7adc44e3b007a0
    author James Ketrenos <jketreno@linux.intel.com> 1126714006 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1127315910 -0500
    
    Updated ipw2100 to be compatible with ieee80211_hdr changes.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a3536c839f04682ed06c84a7f75968c27c6108c8
Merge: a33a198... efb0372...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 21 22:34:08 2005 -0400

    Merge /spare/repo/linux-2.6/

commit e903c5b536895fdf69970df62c5bf49ad17e6533
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Sep 20 16:49:51 2005 -0500

    [PATCH] powerpc: merge include/asm-ppc*/statfs.h into include/asm-powerpc/statfs.h
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8a4a10ae996b67c622b9f3f6a4dfea5de4500a11
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Sep 20 16:33:54 2005 -0500

    [PATCH] powerpc: merge include/asm-ppc*/spinlock_types.h into include/asm-powerpc/spinlock_types.h
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3f58542f476f9a77d5c59b62165e67290d7f55ed
Author: Kumar Gala <galak@freescale.com>
Date:   Tue Sep 20 15:45:26 2005 -0500

    [PATCH] powerpc: merge include/asm-ppc*/auxvec.h into include/asm-powerpc/auxvec.h
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 8b22cc010599075806b84cfe2955ab87ab07172c
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Tue Sep 20 14:32:37 2005 -0500

    [PATCH] powerpc: Merge asm-ppc*/vga.h
    
    Merge asm-ppc*/vga.h
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a99eb2ef452ce685e40a433ceb187276ba0871f4
Author: Becky Bruce <bgill@freescale.com>
Date:   Mon Sep 19 19:17:27 2005 -0500

    [PATCH] powerpc: Merge elf.h
    
    ppc/ppc64: Merge elf.h into include/asm-powerpc
    
    Merge elf.h into a single include file for 32 and 64-bit ppc platforms. This
    patch has been tested on 32-bit and built on 64-bit platforms.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Becky Bruce <Becky.Bruce@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 25433b123ce1a3da78ddd9b848484bca91cbb7a1
Author: Becky Bruce <bgill@freescale.com>
Date:   Mon Sep 19 17:01:54 2005 -0500

    [PATCH] powerpc: Merge bug.h
    
    ppc32/ppc64: Merge bug.h into include/asm-powerpc
    
    This patch merges bug.h into include/asm-powerpc.  Changed the data
    structure for bug_entry such that line is always an int on both 32 and
    64-bit platforms; removed casts to int from the 64-bit trap code to
    reflect this.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Becky Bruce <Becky.Bruce@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 3e57615bb5a8b6208627049884ee441f6d05905e
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Mon Sep 19 09:32:07 2005 -0500

    [PATCH] powerpc: Revised merge asm-ppc*/hardirq.h
    
    This is a revised patch to merge asm-ppc*/hardirq.h.
    It removes some unnecessary #includes, but then requires
    the addition of #include <asm/irq.h> in PPC32's hw_irq.h
    much like ppc64 already does.  Furthermore, several
    unnecessary #includes were removed from some ppc32 boards
    in order to break resulting bad #include cycles.
    
    Builds pSeries_defconfig and all ppc32 platforms except
    the already b0rken bseip.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c7aeffc4d38f0573b05bf5ebd2f037997ec9d075
Author: Kumar Gala <galak@freescale.com>
Date:   Mon Sep 19 09:30:27 2005 -0500

    [PATCH] powerpc: unified signature of timer_interrupt() between ppc32/ppc64
    
    On ppc64 timer_interrupt() returned a value that was never used.  Changed
    the ppc64 version of timer_interrupt() to no longer return a value so
    that the signatures between ppc32 & ppc64 match.  This will simplify
    future merging of arch/powerpc.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 82cd02c16be99cba6a97d38488aee8807580a202
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:28:21 2005 +1000

    [PATCH] powerpc: reduce oprofile/common.c differences
    
    Rename and slightly modify {request,free}_perfmon_irq in the ppc code.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 86a5cddbd9676b129cfa2ed7a1a11759d3b2b512
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:24:08 2005 +1000

    [PATCH] powerpc: merge the rest of arch/ppc*/oprofile
    
    - merge common.c
    - move model specific files
    - remove stub Makefiles
    - clean up arch/ppc*/Makefile
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 654810ec899ea5f2fc2138fca1793b603d481ff4
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:21:15 2005 +1000

    [PATCH] powerpc: merge oprofile headers
    
    Merge include/asm-ppc64/oprofile_ipml.h and arch/ppc/oprofile/op_impl.h
    into include/asm-powerpc/oprofile_ipml.h
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a3e48c10cca3287a845435dd8ca58ecbde72d847
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:18:31 2005 +1000

    [PATCH] powerpc: rename op_ppc{32,64}_model to op_powerpc_model
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d9e5b83b120dea9f306de06f7dead55103ab2d46
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:15:51 2005 +1000

    [PATCH] Merge arch/ppc*/oprofile/Makefile into arch/powerpc/oprofile
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit bcdd1ea350feb7ee28d4f425c312e9fdf681acfb
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 23:13:24 2005 +1000

    [PATCH] powerpc: Move arch/ppc*/oprofile/Kconfig to arch/powerpc
    
    These files are identical.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5bfc82652ab913606c91d74f7337cbd94627a797
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 17:50:21 2005 +1000

    [PATCH] powerpc: Merge include/asm-ppc*/a.out.h into include/asm-powerpc
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 564ee7a5668e8b6d3b369fd807c75c77285c88d4
Author: Stephen Rothwell <sfr@canb.auug.org.au>
Date:   Mon Sep 19 17:33:25 2005 +1000

    [PATCH] powerpc: Move arch/ppc*/kernel/vecemu.c to arch/powerpc
    
    This file is the same in both architectures so create arch/powerpc/kernel
    and move it there.
    
    Signed-off-by: Stephen Rothwell <sfr@canb.auug.org.au>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 17b1dc07aebdef9ee43c06525bee702d5f0e9db1
Author: Jon Loeliger <jdl@freescale.com>
Date:   Fri Sep 9 16:43:52 2005 -0500

    [PATCH] powerpc: Merge asm-ppc*/posix_types.h
    
    Merge asm-ppc/posix_types.h and asm-ppc64/posix_types.h.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit da0825fd201a03294dbf7f8f030676d608da122c
Author: Kumar Gala <galak@freescale.com>
Date:   Sun Sep 18 21:33:18 2005 -0500

    [PATCH] ppc32: Allow user to individual select CHRP/PMAC/PREP config
    
    Made the CHRP/PMAC/PREP config options selectable by the user.
    This allows us to build kernels specifically for one of the
    platforms thus reducing code size.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 61b1a94254a2158d053458764a5bd30331d73a54
Author: Benjamin Herrenschmidt <benh@kernel.crashing.org>
Date:   Tue Sep 20 13:52:50 2005 +1000

    [PATCH] ppc64: Store virtual address in TLB flush batches
    
    This patch slightly change the TLB flush batch mecanism so that we
    store the full vaddr (including vsid) when adding an entry to the
    batch so that the flush part doesn't have to get to the context.
    
    This cleans it a bit, and paves the way to future updates like
    dynamic vsids.
    
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 637a6ff6ce525d8495df944550efea0f023dd521
Author: Olof Johansson <olof@lixom.net>
Date:   Tue Sep 20 13:47:41 2005 +1000

    [PATCH] ppc64: Updated Olof misc updates 3/3
    
    Replace some of the hard-coded constants with PAGE_SIZE/SHIFT/ORDER where
    appropriate.
    
    Likewise, in a couple of places it doesn't make sense to base some
    allocations on page size when all that's required is a constant 4K,
    etc.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit d0035c62d9145a2ce3057c8182a7ff0b4921a41c
Author: Olof Johansson <olof@lixom.net>
Date:   Tue Sep 20 13:46:44 2005 +1000

    [PATCH] ppc64: Updated Olof iommu updates 2/3
    
    There are potential cases in the future where the IOMMU might be
    mapping smaller pages than the regular MMU is using. Keep the
    allocator working on MMU pagesizes, but the low-level mapping
    functions need to map more than one TCE entry per page to deal with
    this.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit c707ffcf3a44914f30e5f2fd53089ad5586c9e42
Author: Olof Johansson <olof@lixom.net>
Date:   Tue Sep 20 13:45:41 2005 +1000

    [PATCH] ppc64: Updated Olof iommu updates 1/3
    
    Split out the implementation-specific parts of include/asm-ppc64/iommu.h
    to separate include files (tce.h and dart.h respectively).
    
    The generic iommu code really doesn't care about the underlying
    implementation, and the TCE and DART stuff is completely different.
    
    Signed-off-by: Olof Johansson <olof@lixom.net>
    Signed-off-by: Benjamin Herrenschmidt <benh@kernel.crashing.org>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit a21ead3239c6a7a1220b45df0a7b537882afff16
Author: Paul Mackerras <paulus@samba.org>
Date:   Wed Sep 21 18:47:00 2005 +1000

    Revert "[PATCH] ppc32: Allow user to individual select CHRP/PMAC/PREP config"
    
    This reverts df0d3cecc4bd03ea911d7c3302510984388c8a76 commit.

commit e30dcf3a1905b4d2154f95db5fdfdf69691b4f0e
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Sep 20 20:49:16 2005 -0700

    [CIFS] Add support for legacy servers part eight. Write fixes for Windows
    ME, and do not set ctime unless explicitly requested with atime and/or
    mtime (it gets thrown away by most servers anyway as there is no way to set
    this via posix).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit df8b59be0976c56820453730078bef99a8d1dbda
Author: Dave Jones <davej@redhat.com>
Date:   Tue Sep 20 12:39:35 2005 -0700

    [CPUFREQ] Avoid the ondemand cpufreq governor to use a too high frequency for stats.
    
    The problem is in the ondemand governor, there is a periodic measurement
    of the CPU usage. This CPU usage is updated by the scheduler after every
    tick (basically, by adding 1 either to "idle" or to "user" or to
    "system"). So if the frequency of the governor is too high, the stat
    will be meaningless (as mostly no number have changed).
    
    So this patch checks that the measurements are separated by at least 10
    ticks. It means that by default, stats will have about 5% error (20
    ticks). Of course those numbers can be argued but, IMHO, they look sane.
    The patch also includes a small clean-up to check more explictly the
    result of the conversion from ns to s being null.
    
    Let's note that (on x86) this has never been really needed before 2.6.13
    because HZ was always 1000. Now that HZ can be 100, some CPU might be
    affected by this problem. For instance when HZ=100, the centrino ,which
    has a 10s transition latency, would lead to the governor allowing to
    read stats every tick (10ms)!
    
    Signed-off-by: Eric Piel <eric.piel@tremplin-utc.net>
    Signed-off-by: Dave Jones <davej@redhat.com>

commit fe607aa94f5d25ee84f9a9a4fdf2cce3765e12e4
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:   Fri Sep 16 19:28:01 2005 +0200

    [SCSI] dc395x: atomic_kmap for PIO
    
    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit beb8abd9a958999e238c31814230368045b942b3
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:02:06 2005 -0500

    [SCSI] iscsi: add module version
    
    From: michaelc@cs.wisc.edu
    
    I have a bad memory. I cannot remember what versions are which,
    so add a module version to help.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 9974487824570e7ac388390333ef5c4ca3ebc2da
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:02:04 2005 -0500

    [SCSI] iscsi: fix nop-in handling
    
    From: zhenyu.z.wang@intel.com
    
    This add check to NOOP_IN's ttt, when it's ~0UL we should not send
    NOOP_OUT by spec (plus some cleanup).
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit fa0a6957aa7d02addb08a231c8e7c77c2b8fcd20
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:57 2005 -0500

    [SCSI] iscsi: rename some proto defs
    
    From: hare@suse.de
    
    for a proper alignment between open-iscsi and iscsitarget the
    definitions in include/iscsi_proto.h do not match exactly.
    
    With this patch it's possible to have iscsitarget use
    'include/iscsi_proto.h' instead of its own iscsi_hdr.h.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 762e2bfac7bc5f21b04ff17138aac3c453fb6481
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:46 2005 -0500

    [SCSI] iscsi: add newline to sysfs output
    
    From: tomof@acm.org
    
    trivial cleanup of show_transport_handle()
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 02cf9311ee4690373ebbe62a5986025c932bead0
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:41 2005 -0500

    [SCSI] iscsi: fix ahs len
    
    From: tomof@acm.org
    
    Fix AHS Length
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit baebc497b43a69d7280af226e08214c527220d45
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:38 2005 -0500

    [SCSI] iscsi: update some iscsi proto defs
    
    From: michaelc@cs.wisc.edu
    
    Cleanup some iscsi_proto defs, add some missing values, and
    fix some defs.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit bb052349798f775d4d7ed20ffcf1510287d8abe6
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:35 2005 -0500

    [SCSI] iscsi: handle nonlinear skbs
    
    From: zhenyu.z.wang@intel.com
    
    Fix oops from nonlinear skb usage.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit af973481f4a0902ad35726636c290f4794704948
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:32 2005 -0500

    [SCSI] iscsi: preemt fix and cleanup
    
    From: zhenyu.z.wang@intel.com
    
    Delay the head digest update until xmit time, like data digest update.
    [To make things cleaner and avoid prempt bug]
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit b13941f635c3119eb02dc29b5248066f934f76be
Author: Mike Christie <michaelc@cs.wisc.edu>
Date:   Mon Sep 12 21:01:28 2005 -0500

    [SCSI] iscsi: nodelay fix
    
    From: tomof@acm.org
    
    I'm not sure about this. I don't think that NODELAY option hurts
    performance. However, open-iscsi does not use MSG_MORE properly with
    sendpage, so NODELAY option hurts the open-iscsi performance.
    
    I've attached a patch to fix NODELAY and MSG_MORE problems and the
    write performance results with disktest.
    
    I use Opteron boxes connected directly, Chelsio NICs, 1500-byte MTU,
    64 KB I/O size, and the iSCSI parameters on open-iscsi web site.
    
    With only NODELAY fix, the performance drops, as you said. On the
    other hand, NODELAY and MSG_MORE fixes improve the performance
    overall.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 650316f1228c0dc5e45c17765caef30db62468cd
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Sep 16 11:43:45 2005 -0600

    [IA64] move ACPI IOSAPIC locality domain mapping from pci.c to acpi.c
    
    Move acpi_map_iosapics() from pci.c to acpi.c, since it doesn't
    have anything to do with PCI.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 44c451208da397438e7062393aeb3a19ddb76a60
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Fri Sep 16 11:43:10 2005 -0600

    [IA64] ia64: add ar.k0 usage note
    
    Update comment about how ar.k0 is used.  Make the initialization the
    same as in start_secondary() (no functional change, just make it look
    more similar).
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit be379124c0a5abfbe57dab2823fe8a71ce797aee
Author: Khalid Aziz <khalid.aziz@hp.com>
Date:   Mon Sep 19 15:42:36 2005 -0700

    [IA64] include EFI memory information in /proc/iomem
    
    User mode kexec tools expect to find information about physical
    memory in /proc/iomem (as they do on x86) to validate the addresses
    that the new kernel will use.
    
    Signed-off-by: Khalid Aziz <khalid.aziz@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 3e87d80391c84eefceb4bda94a6363661dba4f71
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Sep 18 20:49:21 2005 -0700

    [CIFS] Add support for legacy servers part seven. Fix open for write,
    begin implementation of Win9x style set file size via open then
    write of zero bytes.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit df0d3cecc4bd03ea911d7c3302510984388c8a76
Author: Kumar Gala <galak@freescale.com>
Date:   Sun Sep 18 13:02:03 2005 -0500

    [PATCH] ppc32: Allow user to individual select CHRP/PMAC/PREP config
    
    Made the CHRP/PMAC/PREP config options selectable by the user.
    This allows us to build kernels specifically for one of the
    platforms thus reducing code size.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit fbcd54b1e67ffa27f2b2ce087ee300138828d730
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Sat Sep 17 10:39:46 2005 -0500

    [PATCH] powerpc: Merge simplified sections.h into asm-powerpc
    
    Here is a new patch that removes all notion of the pmac, prep,
    chrp and openfirmware initialization sections, and then unifies
    the sections.h files without those __pmac, etc, sections identifiers
    cluttering things up.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 6c45ab992e4299c869fb26427944a8f8ea177024
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Sat Sep 17 10:38:23 2005 -0500

    [PATCH] powerpc: Remove section free() and linker script bits
    
    Here is a new patch that removes all notion of the pmac, prep,
    chrp and openfirmware initialization sections, and then unifies
    the sections.h files without those __pmac, etc, sections identifiers
    cluttering things up.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit aacaf9bd9646f6f611a08fca976411b6e5ddefe2
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Sat Sep 17 10:36:54 2005 -0500

    [PATCH] powerpc: Remove sections use from ppc64 and drivers
    
    Here is a new patch that removes all notion of the pmac, prep,
    chrp and openfirmware initialization sections, and then unifies
    the sections.h files without those __pmac, etc, sections identifiers
    cluttering things up.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit f495a8bfd6a52cf32859f93d5320bb234d8a9560
Author: Jon Loeliger <linuxppc@jdl.com>
Date:   Sat Sep 17 10:35:08 2005 -0500

    [PATCH] powerpc: Remove sections use from ppc
    
    Here is a new patch that removes all notion of the pmac, prep,
    chrp and openfirmware initialization sections, and then unifies
    the sections.h files without those __pmac, etc, sections identifiers
    cluttering things up.
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 7da8f8600a4751d7f0248e00d973901b7371fabc
Author: Kumar Gala <galak@freescale.com>
Date:   Fri Sep 16 11:37:33 2005 -0500

    [PATCH] ppc32: Removed non-inlined versions of local_irq* functions
    
    We always use the inlined versions of local_irq_enable, local_irq_disable,
    local_save_flags_ptr, and local_irq_restore on ppc32 so the non-inlined
    versions where just taking up space.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 5f7c690728ace1404f72d74972dcc261674c0dd4
Author: Kumar Gala <galak@freescale.com>
Date:   Fri Sep 9 15:02:25 2005 -0500

    [PATCH] powerpc: Merged ppc_asm.h
    
    Merged ppc_asm.h between ppc32 & ppc64.  The majority of the file is
    common between the two architectures excluding how a single GPR is
    saved/restored and which GPRs are non-volatile.
    
    Additionally, moved the ASM_CONST macro used on ppc64 into ppc_asm.h.
    
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 0a1e1222b77b9b02457d8126f598e3713559d5c7
Author: Jon Loeliger <jdl@freescale.com>
Date:   Tue Sep 6 15:51:47 2005 -0500

    [PATCH] powerpc: Merge kmap_types.h
    
    Here is a patch to merge the ppc and pp64 version of kmap_types.h
    
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>
    Signed-off-by: Paul Mackerras <paulus@samba.org>

commit 54703d3678d13e7406d0b5aa451abb9526d53b9d
Author: Jack Steiner <steiner@sgi.com>
Date:   Wed Sep 14 10:33:40 2005 -0500

    [IA64] Increase max NR_CPUS on IA64 from 512 to 1024
    
    This patch increases the maximum number of cpus supported on IA64
    to 1024. No changes are made to the default SSI size. The patch
    simply allows specifying up to 1024p.
    
    There are certainly scaling (& other) issues that also need to be
    addressed!!!  Additional patches will follow.....
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a33a1982012e9070736e3717231714dc9892303b
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Wed Sep 14 14:28:59 2005 -0500

    [PATCH] Updated ipw2200 to compile with ieee80211 abg_ture to abg_true change
    
    author James Ketrenos <jketreno@linux.intel.com> 1126713327 -0500
    committer James Ketrenos <jketreno@linux.intel.com> 1126713327 -0500
    
    Updated ipw2200 to compile with ieee80211 abg_ture to abg_true change.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3bc5ed684253f407b1567799d13cb06a0d86fe80
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:48:54 2005 -0500

    [PATCH] ieee80211 Fixed type-o of abg_ture -> abg_true
    
    [PATCH 14/29] Fixed type-o of abg_ture -> abg_true.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    
    NOTE: This patch requires drivers using abg_ture to be updated.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 262d8e467710a1c870717bc432caaf74cde3ce20
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:42:53 2005 -0500

    [PATCH] ieee80211 Switched to sscanf in store_debug_level
    
    Switched to sscanf as per friendly comment in store_debug_level.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 18294d8727b825eb2f3f98d6b6ae4a999dff854a
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:40:29 2005 -0500

    [PATCH] ieee80211 Cleanup memcpy parameters.
    
    Cleanup memcpy parameters.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7b1fa54020985fa4b154f9f5d2f04ba174c7f1a5
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:38:13 2005 -0500

    [PATCH] ieee80211 Removed ieee80211_info_element_hdr
    
    Removed ieee80211_info_element_hdr structure as ieee80211_info_element
    provides the same use.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 68e4e036b841d5fb23ae1ac51b1e40baf9d582bf
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:37:22 2005 -0500

    [PATCH] Changed 802.11 headers to use ieee80211_info_element[0]
    
    Changed 802.11 headers to use ieee80211_info_element as zero sized
    array so that sizeof calculations do not account for IE sizes.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 74079fdce472a2b16d502fe39e06b135ef06c69b
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:35:21 2005 -0500

    [PATCH] ieee80211 Added wireless spy support
    
    Added wireless spy support to Rx code path.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    
    NOTE:  Looks like scripts/Lindent generated output different
    than the Lindented version already in-kernel, hence all the
    whitespace deltas...  *sigh*
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b1b508e1b13529b3cc5b59c352f49b9b58a302b6
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:27:19 2005 -0500

    [PATCH] ieee80211 quality scaling algorithm extension handler
    
    Incorporated Bill Moss' quality scaling algorithm into default wireless
    extension handler.
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit fd27817ce941c7134adefd2852f8a5f274315ff4
Author: James Ketrenos <jketreno@linux.intel.com>
Date:   Tue Sep 13 17:25:51 2005 -0500

    [PATCH] Fixed some endian issues with 802.11 header usage in ieee80211_rx.c
    
    Fixed some endian issues with 802.11 header usage in ieee80211_rx.c
    
    Signed-off-by: James Ketrenos <jketreno@linux.intel.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9c8a11d7c2298680ff3ee8acda54575c88668bfc
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 16 02:18:31 2005 -0400

    [PATCH] orinoco: Update PCMCIA ID's.
    
    Author: Pavel Roskin <proski@gnu.org>
    Date:   Fri Sep 16 01:07:47 2005 -0400
    
        Update PCMCIA ID's.
    
        Intel Pro/Wireless 2011 and 2011B have the same numeric ID, so use
        strings instead.
    
        Take all entries from *.conf for Orinoco, HostAP and linux-wlan-ng and
        adds them with minimal changes (e.g. we don't need a revision string
        after a string that identifies the chipset).
    
        Add comments with card names to all numeric entries.  Note: the comments
        don't and cannot cover all cards, since the main reason of having
        numeric IDs is to cover cards that are often rebranded.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 27c91efba4c121f90c0e6d371c7064733b286a69
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 16 02:16:52 2005 -0400

    [PATCH] orinoco: Don't include <net/ieee80211.h> twice.
    
    Author: Pavel Roskin <proski@gnu.org>
    Date:   Fri Sep 16 00:50:00 2005 -0400
    
        Don't include <net/ieee80211.h> twice.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 65853b133d0256786df25f03eea0e5a6799e8d17
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 16 02:15:13 2005 -0400

    [PATCH] orinoco: Remove conditionals that are useless in the kernel drivers.
    
    Author: Pavel Roskin <proski@gnu.org>
    Date:   Fri Sep 16 00:49:05 2005 -0400
    
        Remove conditionals that are useless in the kernel drivers.
    
        Kernel drivers are never compiled against pcmcia-cs headers.
        Firmware is never embedded into spectrum_cs module.
    
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 76209926e3756f66c9cdc8a4becbf34df8c47799
Author: Hubert WS Lin <wslin@tw.ibm.com>
Date:   Wed Sep 14 11:39:27 2005 -0700

    [PATCH] pcnet32: set min ring size to 4
    
    Don Fry reminded me that the pcnet32_loopback_test() asssumes the ring size
    is no less than 4.  The minimum ring size was changed to 4 in
    pcnet32_set_ringparam() to allow the loopback test to work unchanged.
    
    - Set minimum ring size to 4 to allow loopback test to work unchanged
    - Moved variable init_block to first field in struct pcnet32_private
    
    Signed-off-by: Hubert WS Lin <wslin@tw.ibm.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit eabf04151682bc7b57c84fea58cf9e4e5a3cf2a9
Author: Hubert WS Lin <wslin@tw.ibm.com>
Date:   Wed Sep 14 11:39:25 2005 -0700

    [PATCH] pcnet32: set_ringparam implementation
    
    This patch implements the set_ringparam(), one of the ethtool operations,
    which allows changing tx/rx ring sizes via ethtool.
    
    - Changed memery allocation of tx/rx ring from static to dynamic
    - Implemented set_ringparam()
    - Tested on i386 and ppc64
    
    Signed-off-by: Hubert WS Lin <wslin@tw.ibm.com>
    Signed-off-by: Jay Vosburgh <fubar@us.ibm.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit f9f5c81769f88bccd177423a30a7d30461754c39
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Sep 15 23:06:38 2005 -0700

    [CIFS] Add support for legacy servers part six. Fix read syntax so
    we do not request more than negotiated buffer size even if buffer
    size is small (smaller than one page)
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit eafe87012159a40a1e7151cc576e99a22aea2f0b
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Sep 15 21:47:30 2005 -0700

    [CIFS] Fix readdir caching when unlink removes file in current search
    buffer, and this is followed by a rewind search to just before
    the deleted entry.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit ab2f218f4fa2c36ecd39ac1406eec1e63cd430bd
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Sep 15 20:44:50 2005 -0700

    [CIFS] Fix compiler warnings
    
    Fix some compiler warnings noticed on x64 by me and ppc64 by Shaggy
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 55642d36cd0f626c614f6dfa1151a5af1ff84f36
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Sep 15 17:00:10 2005 -0700

    [IA64] Two more uses of cpuid_to_cnodeid() must go.
    
    s/cpuid_to_cnodeid/cpu_to_node/
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 24ee0a6d7b0a52b140c880aae24c255de3b4a9a1
Author: Jack Steiner <steiner@sgi.com>
Date:   Mon Sep 12 12:15:43 2005 -0500

    [IA64] Cleanup use of various #defines related to nodes
    
    Some of the SN code & #defines related to compact nodes & IO discovery
    have gotten stale over the years. This patch attempts to clean them up.
    Some of the various SN MAX_xxx #defines were also unclear & misused.
    
    The primary changes are:
    
    	- use MAX_NUMNODES. This is the generic linux #define for the number
    	  of nodes that are known to the generic kernel. Arrays & loops
    	  for constructs that are 1:1 with linux-defined nodes should
    	  use the linux #define - not an SN equivalent.
    
    	- use MAX_COMPACT_NODES for MAX_NUMNODES + NUM_TIOS. This is the
    	  number of nodes in the SSI system. Compact nodes are a hack to
    	  get around the IA64 architectural limit of 256 nodes. Large SGI
    	  systems have more than 256 nodes. When we upgrade to ACPI3.0,
    	  I _hope_ that all nodes will be real nodes that are known to
    	  the generic kernel. That will allow us to delete the notion
    	  of "compact nodes".
    
    	- add MAX_NUMALINK_NODES for the total number of nodes that
    	  are in the numalink domain - all partitions.
    
    	- simplified (understandable) scan_for_ionodes()
    
    	- small amount of cleanup related to cnodes
    
    Signed-off-by: Jack Steiner <steiner@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f2b518d71636c2bda65a837b0a93c3365207a4f0
Author: Bjorn Helgaas <bjorn.helgaas@hp.com>
Date:   Wed Sep 14 16:50:19 2005 -0600

    [IA64] Update default configs
    
    PNP and PNPACPI turned on
    
        i8042 recently changed from ACPI to PNP detection.  Without PNP, it
        probes legacy I/O ports for the keyboard controller, which causes an
        MCA on HP boxes.
    
        Also, I'm about to remove 8250_acpi.c, so we'll need PNP to detect
        non-PCI serial ports.  Until 8250_acpi.c is removed, some systems
        will see serial ports reported twice (once from 8250_acpi.c and again
        from 8250_pnp.c).  This is harmless.
    
        PNPACPI is still marked EXPERIMENTAL, but I'm not aware of any
        outstanding issues on ia64.
    
    IDE_GENERIC turned off (except for SGI simulator, all ia64 IDE is PCI)
    
        ide-generic probes compiled-in legacy I/O ports for IDE devices, which
        again causes an MCA.  It would be nicer to just get rid of all the
        legacy junk from include/asm-ia64/ide.h, but that is a bit riskier
        because it could break ide-cs and the HDIO_REGISTER_HWIF ioctl
        (http://www.ussg.iu.edu/hypermail/linux/kernel/0508.2/0049.html).
    
    Here's the essence of the patch:
    
        -# CONFIG_PNP is not set
        +CONFIG_PNP=y
        +CONFIG_PNPACPI=y
    
        -CONFIG_IDE_GENERIC=y
        +# CONFIG_IDE_GENERIC is not set
    
    Tested on tiger, bigsur, and zx1.
    
    Signed-off-by: Bjorn Helgaas <bjorn.helgaas@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 0b9afede3d9c66fef06f1d5ef5ff15c4b97730fc
Author: Alex Williamson <alex.williamson@hp.com>
Date:   Tue Sep 6 11:20:49 2005 -0600

    [IA64] more robust zx1/sx1000 machvec support
    
    Machine vector selection has always been a bit of a hack given how
    early in system boot it needs to be done.  Services like ACPI namespace
    are not available and there are non-trivial problems to moving them to
    early boot.  However, there's no reason we can't change to a different
    machvec later in boot when the services we need are available.  By
    adding a entry point for later initialization of the swiotlb, we can add
    an error path for the hpzx1 machevec initialization and fall back to the
    DIG machine vector if IOMMU hardware isn't found in the system.  Since
    ia64 uses 4GB for zone DMA (no ISA support), it's trivial to allocate a
    contiguous range from the slab for bounce buffer usage.
    
    Signed-off-by: Alex Williamson <alex.williamson@hp.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f89efd523b25cc1702e074dafdcac283da657002
Author: Matt Porter <mporter@kernel.crashing.org>
Date:   Fri Sep 9 12:10:10 2005 -0700

    [PATCH] Add rapidio net driver
    
    Adds an "Ethernet" driver which sends Ethernet packets over the standard
    RapidIO messaging.  This depends on the core RIO patch for mailbox/doorbell
    access.
    
    Signed-off-by: Matt Porter <mporter@kernel.crashing.org>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit dbaa9a9d2b37d838125fb7f2b9fdc5dc5fa4eaa9
Merge: 142e27f... 2f4ba45...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 14 08:57:30 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 43ec6e95e4d8a73afc2405a44b955c380aeeb65a
Author: Dale Farnsworth <dale@farnsworth.org>
Date:   Tue Aug 23 10:30:29 2005 -0700

    [PATCH] mii: Add test for GigE support
    
    Signed-off-by: Dale Farnsworth <dale@farnsworth.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7a700fafbed55eee2cc766fbe47cf68e229da281
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Sep 9 20:40:23 2005 +0100

    [PATCH] C99 initializers in ray_cs.c
    
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 387d890db88b4eb7c1dd55a2a0c16d6f0dccc7ad
Author: Al Viro <viro@www.linux.org.uk>
Date:   Fri Sep 9 17:22:14 2005 +0100

    [PATCH] lne390 bogus casts
    
    	We already have the iomem pointer we need...
    Signed-off-by: Al Viro <viro@www.linux.org.uk>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 7665a08928f241247afe8c76865cdbe4ef5489bf
Author: Adrian Bunk <bunk@stusta.de>
Date:   Fri Sep 9 23:17:28 2005 -0700

    [PATCH] drivers/net/wan/: possible cleanups
    
    This patch contains possible cleanups including the following:
    - make needlessly global code static
    - #if 0 the following unused global function:
      - sdladrv.c: sdla_intde
    - remove the following unused global variable:
      - lmc_media.c: lmc_t1_cables
    - remove the following unneeded EXPORT_SYMBOL's:
      - cycx_drv.c: cycx_inten
      - sdladrv.c: sdla_inten
      - sdladrv.c: sdla_intde
      - sdladrv.c: sdla_intack
      - sdladrv.c: sdla_intr
      - syncppp.c: sppp_input
      - syncppp.c: sppp_change_mtu
    
    Signed-off-by: Adrian Bunk <bunk@stusta.de>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8e18d1f9c9dcbf2de5b79cad771ed639983ab6cd
Author: Tobias Klauser <tklauser@nuerscht.ch>
Date:   Sat Sep 10 14:45:00 2005 -0700

    [PATCH] Replace drivers/net/wan custom ctype macros with standard ones
    
    Replace the custom is_digit()/is_hex_digit() macros with
    isdigit()/isxdigit() from <linux/ctype.h> Additionaly remove unused macro
    is_alpha() from <linux/wanpipe.h>
    
    Signed-off-by: Tobias Klauser <tklauser@nuerscht.ch>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3173c8907ffb2c64456142da3df2bd0500bd59e0
Author: Nishanth Aravamudan <nacc@us.ibm.com>
Date:   Sun Sep 11 02:09:55 2005 -0700

    [PATCH] drivers/net: fix-up schedule_timeout() usage
    
    Use schedule_timeout_interruptible() instead of
    set_current_state()/schedule_timeout() to reduce kernel size.
    
    Signed-off-by: Nishanth Aravamudan <nacc@us.ibm.com>
    Cc: Jeff Garzik <jgarzik@pobox.com>
    Cc: "David S. Miller" <davem@davemloft.net>
    Signed-off-by: Andrew Morton <akpm@osdl.org>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 343c686c04eec556645f251f7d6c9b3d7335dae0
Author: Pavel Roskin <proski@gnu.org>
Date:   Fri Sep 9 18:43:02 2005 -0400

    [PATCH] orinoco: WE-18 support
    
    Author: Jean Tourrilhes <jt@hpl.hp.com>
    Signed-off-by: Pavel Roskin <proski@gnu.org>
    
    Use new Wireless Extension API for wireless stats.
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit b81e8e1f4a51556586f72711a165bc3a0de230f3
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:58 2005 -0400

    [PATCH] via-rhine: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to via-rhine.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 30d60a8288ab6f59939736f5775a7110a8bfff9a
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:58 2005 -0400

    [PATCH] sundance: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to sundance.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 56230d538233ba037eb679b0fc0b218d33b9b8b8
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:57 2005 -0400

    [PATCH] skge: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to skge.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 6d6525b7f74f9593e647f8c17b1de0f652e1f177
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:57 2005 -0400

    [PATCH] r8169: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to r8169.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit db0276b060918fac94c9d216213a31ee02cdd73e
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:57 2005 -0400

    [PATCH] pcnet32: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to pcnet32.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 78b345890a91dc57fecea8b6792012e0098c058f
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:57 2005 -0400

    [PATCH] ne2k-pci: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to ne2k-pci.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit df859c519ef7b72d9be7396443316da87272e8b6
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:56 2005 -0400

    [PATCH] ixgb: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to ixgb.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit c704b8566b060695e90ac401833db4b62813ad8a
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:56 2005 -0400

    [PATCH] forcedeth: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to forcedeth.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a92dd9233ad185904daf95d040cf88c3da2d7ef6
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:56 2005 -0400

    [PATCH] e100: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to e100.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 9beb0ac17bcfed23feb0a6fac328216568b74bc1
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:55 2005 -0400

    [PATCH] e1000: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to e1000.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 2160de53cc17a40ad07bd38bf52dd0bb72dd5183
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:55 2005 -0400

    [PATCH] b44: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to b44.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 62a720b889a37496d5f36d09875578956745d196
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:55 2005 -0400

    [PATCH] 8139too: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to 8139too.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit bb0ce608a3386268bd76ee6642a4cc8e6818a29b
Author: John W. Linville <linville@tuxdriver.com>
Date:   Mon Sep 12 10:48:54 2005 -0400

    [PATCH] 8139cp: support ETHTOOL_GPERMADDR
    
    Add support for ETHTOOL_GPERMADDR to 8139cp.
    
    Signed-off-by: John W. Linville <linville@tuxdriver.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 923f122573851d18a3832ca808269fa2d5046fb1
Author: Tejun Heo <htejun@gmail.com>
Date:   Tue Sep 13 13:21:29 2005 +0900

    [PATCH] sil24: initialization fix
    
    sil24 0.20 didn't use to perform (what seems to be) port multiplier
    initialization and controller reset 0.10 driver does.  This makes some
    sil24 controllers malfunction.  This patch adds PM initialization and
    controller resetting to initilization and bumps version to 0.21.
    Please refer to the following thread for more information.
    
    http://marc.theaimsgroup.com/?l=linux-ide&m=112582819830324&w=2
    http://marc.theaimsgroup.com/?l=linux-ide&m=112636045531060&w=2
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 905ec87e93bc9e01b15c60035cd6a50c636cbaef
Merge: 1d6ae77... 2f4ba45...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 14 08:19:08 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 165415f700b0c77fa1f8db6198f48582639adf78
Merge: c324b44... 2f4ba45...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Sep 14 08:12:20 2005 -0400

    Merge /spare/repo/linux-2.6/

commit ea98a92ff18c03bf7f4d21536986cbbcb4c10cd9
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 11 20:28:11 2005 +1000

    drm: add radeon PCI express support
    
    Add support for Radeon PCI Express cards (needs a new X.org DDX)
    Also allows PCI GART table to be stored in VRAM for non PCIE cards
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 9d17601c4e132eee9fe450191f6866fb9fb5a762
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 11 19:55:53 2005 +1000

    drm: update radeon driver to 1.18
    
    Add support for GL_ATI_fragment_shader, new packets R200_EMIT_PP_AFS_0/1,
    R200_EMIT_PP_TXCTLALL_0-5 (replaces R200_EMIT_PP_TXFILTER_0-5, 2 more regs)
    and R200_EMIT_ATF_TFACTOR (replaces R200_EMIT_TFACTOR_0 (8 consts instead of 6)
    
    From: Roland Scheidegger, David Airlie
    Signed-off-by: David Airlie <airlied@linux.ie>

commit 70dfcfea4b728ab26af1a3e0f331cc63a7e3554b
Author: Dave Airlie <airlied@starflyer.(none)>
Date:   Sun Sep 11 19:37:29 2005 +1000

    drm: missing drm_vm.c changes for consistent maps
    
    This adds a missing change from CVS for consistent maps.
    
    Signed-off-by: Dave Airlie <airlied@linux.ie>

commit 96bad874e7b047ec1e6fade09acba47fd19211c5
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Thu Sep 8 09:56:18 2005 -0500

    [SCSI] move iscsi to a better place in Kconfig
    
    Now it looks like we'll have multiple users of the iscsi transport
    class, the iscsi initiator shouldn't really be a dependency of it.  This
    patch moves iscsi to being an initiator in its own right which selects
    the transport attributes.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 1fa92957282e4595727c1a21bf6687ea5a2d612f
Author: Tony Luck <tony.luck@intel.com>
Date:   Fri Sep 9 11:41:12 2005 -0700

    [IA64] Need to include <asm/sn/io.h> in a few more places.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 2290d2b63c2d25b0d554d68e54cbd1cc87d951d5
Author: James Bottomley <James.Bottomley@SteelEye.com>
Date:   Thu Sep 8 10:14:11 2005 -0500

    [SCSI] iscsi_tcp: make iscsi compile again after recent netlink changes
    
    netlink_kernel_create now has two new arguments; the module (which is
    easy) and the number of groups, which I arbitrarily set to one.
    
    Acked by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit d8c97d5f3aa348272df2ccb4e224b1cf9a1eb6d7
Author: Tony Luck <tony.luck@intel.com>
Date:   Thu Sep 8 12:39:59 2005 -0700

    [IA64] simplified efi memory map parsing
    
    New version leaves the original memory map unmodified.
    Also saves any granule trimmings for use by the uncached
    memory allocator.
    
    Inspired by Khalid Aziz (various traces of his patch still
    remain).  Fixes to uncached_build_memmap() and sn2 testing
    by Martin Hicks.
    
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit f5c7f03113fc9c547012cf403aec4b534d575ef0
Merge: caf39e8... 471417c...
Author: James Bottomley <jejb@titanic.(none)>
Date:   Thu Sep 8 09:37:35 2005 -0500

    Merge HEAD from ../scsi-iscsi-2.6

commit 1d6ae775d7a948c9575658eb41184fd2e506c0df
Merge: 739cdbf... caf39e8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Sep 8 05:43:49 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 142e27fc8a3619471669d6241784eec9167c47d1
Merge: a9053d0... caf39e8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Sep 8 05:41:28 2005 -0400

    Merge /spare/repo/linux-2.6/

commit c324b44c34050cf2a9b58830e11c974806bd85d8
Merge: 2fcf522... caf39e8...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu Sep 8 05:39:55 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 5fbcf9a5c6904bd563f584d12d1f4d3f68a19d7d
Author: Mark Maule <maule@sgi.com>
Date:   Tue Sep 6 13:03:51 2005 -0500

    [IA64-SGI] volatile semantics in places where it seems necessary
    
    Resend using accessors instead of volatile qualifiers per hch comments, and
    easier to understand convenience macros per rja comments.
    
    Patch to apply volatile semantics when accessing MMR's in various SN files.
    
    Signed-off-by: Mark Maule <maule@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a607c38971fd078865fa9bef39e6c1d4435680c8
Author: Dean Nelson <dcn@sgi.com>
Date:   Thu Sep 1 14:01:37 2005 -0500

    [IA64-SGI] get XPC to cleanly disengage from remote memory references
    
    When XPC is being shutdown (i.e., rmmod, reboot) it doesn't ensure that
    other partitions with whom it was connected have completely disengaged
    from any attempt at cross-partition memory references. This can lead to
    MCAs in any of these other partitions when the partition is reset.
    
    Signed-off-by: Dean Nelson <dcn@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit 9a899e76683639486846ce17dbaa0c2ec1ae5ab5
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Sep 6 15:55:49 2005 -0700

    [CIFS] Update cifs TODO list with additional new features that
    have been requested.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit c08319a9d50b5c9cb4fdb33728bd16497cf4ddd3
Merge: bfa0d75... 4706df3...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Sep 6 15:47:31 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 25732ad493b22b7d9f0d250c5a9ad17219f96a47
Author: Bruce Losure <blosure@americas.sgi.com>
Date:   Fri Sep 2 15:16:35 2005 -0500

    [IA64] Altix patch for fpga reset
    
    1) workaround a h/w reset issue
    2) to improve the determination of FPGA-based h/w in
       the arch/ia64/sn/kernel/tiocx code.
    
    Signed-off-by: Bruce Losure <blosure@sgi.com>
    Signed-off-by: Tony Luck <tony.luck@intel.com>

commit a9053d0494d3c92807701c0f47df61d50c971581
Merge: 4dd9e90... 6b39374...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Sep 5 05:14:25 2005 -0400

    /spare/repo/libata-dev branch 'master'

commit bfa0d75a1eee59f0577e3c1697ff570b77581a35
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 31 21:50:37 2005 -0700

    [CIFS] Add support for legacy servers part 5
    Handle small negotiated read sizes (under 4K) and finish up
    read and write support.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1c9551878c4629ca78dfe12ed23b9dc8d97770cc
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 30 20:58:07 2005 -0700

    [CIFS] Add support for legacy servers part 4
    	Fix WriteX support for old servers which do not support large
    	files.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit cb8be64084e6294fcb9e558188fe104050b94f0b
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 30 15:25:52 2005 -0700

    [CIFS] Add nolock synonym (ala nfs) for nobrl to disable sending byte range
    locks remotely.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 16abbecdad3367c76c12537450eba0d86943fe2c
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 30 13:10:14 2005 -0700

    [CIFS] Add support for suspend
    
    cifsd had been preventing software suspend from completing.
    
    Signed-off-by: Pavel Machek <pavel@suse.de>
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    ---
    
     fs/cifs/CHANGES   |    3 ++-
     fs/cifs/cifsfs.c  |    4 ++++
     fs/cifs/connect.c |    2 ++
     3 files changed, 8 insertions(+), 1 deletions(-)

commit 2016ef789a9ded2e169ad1c028ae3deb5302571f
Merge: 7f57356... 6b39374...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 30 11:33:26 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 7f57356b70dda014ef269135942426e4a852023e
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 30 11:32:14 2005 -0700

    [CIFS] Remove cifs_sb argument from *build_path_from_dentry
    
    This argument was added in a recent patch, but is unnecessary, since
    the superblock is easily obtained from the dentry.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 2fcf522509cceea524b6e7ece8fd6759b682175a
Merge: da61396... 1fdab81...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Aug 30 03:48:57 2005 -0400

    /spare/repo/libata-dev branch 'master'

commit 4dd9e909e3b834b66fd48d6eac50c6557cc50275
Merge: 76b2bf9... 1fdab81...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Tue Aug 30 03:38:51 2005 -0400

    /spare/repo/libata-dev branch 'master'

commit 76b2bf9b4dee2fb32ef17f5c84a99ce481a14be2
Merge: 2fca877... 8f3d17f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Aug 29 19:24:43 2005 -0400

    Merge libata branch 'chs-support' to latest upstream kernel.

commit 739cdbf1d8f0739b80035b80d69d871e33749b86
Merge: 83bbecc... 8f3d17f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Aug 29 19:10:39 2005 -0400

    Merge /spare/repo/linux-2.6/

commit da61396d24e37258817e42537c482e962b4742f7
Merge: 2f05825... 8f3d17f...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Aug 29 19:01:43 2005 -0400

    Merge upstream kernel into libata 'passthru' branch

commit 2fca877b68b2b4fc5b94277858a1bedd46017cde
Merge: ff40c6d... 02b3e4e...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Mon Aug 29 16:12:36 2005 -0400

    /spare/repo/libata-dev branch 'v2.6.13'

commit a9d02ad49013c8fc527f06ca66417103cdbb08b6
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 23:06:05 2005 -0700

    [CIFS] Support for legacy servers part 3 - Add support for Open and most
    of Read support.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit e22cb8bcb8bce94bf5cca90c98933a28816c6a75
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 20:25:21 2005 -0700

    [CIFS] Use file instead of dentry in cifs dir_notify struct
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 167a251ad6678ad26aa3cf27bab677b274374ab6
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 20:03:11 2005 -0700

    [CIFS] Change notify support part 3
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit abb15b8ae4eb7cdff0061e7ac5eca1f8dd8a84af
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 18:51:02 2005 -0700

    [CIFS] Missing line from previous patch
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit ff5dbd9ead0d82466cab8bdbdcbc9666707d328a
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 17:10:36 2005 -0700

    [CIFS] Change notify support part 2
    
    Signed-off-by: Asser Ferno <asser@diku.dk>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit e2a98a7543696306346ba8302a8df6cedf20fdfc
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 14:43:14 2005 -0700

    [CIFS] Update thanks/contributor list with Miklos Szeredi
    (Signed-off-by: Miklos Szeredi <miklos@szeredi.hu>
    also should have been listed on the last cifs patch fixing some lookup
    intent handling in cifs)
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 160b13f17c4f92805c4ad03c3336dded15c693e9
Merge: c0c3e8e... 9c2c38a...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 14:37:23 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit c0c3e8edaabcb6cf6786226813cf087ad21f0743
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 14:01:13 2005 -0700

    CIFS: Fix typos in fs/cifs/CHANGES
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit a45443475835ab4d1c753159812aca21b5c333a3
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 24 13:59:35 2005 -0700

    CIFS: Reduce CONFIG_CIFS_STATS ifdefs
    
    Make cifs_stats code conditional in the header files to avoid ifdefs in the
    main code.
    
    Signed-off-by: Dave Kleikamp <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 6b8edfe0f918e7585acb3bd63f62ff56e32dd3d2
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 23 20:26:03 2005 -0700

    [CIFS] Support for mounting to older servers part 2.  Add support for
    legacy getattr (lookup).
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit a10faeb2a3e266385cc334fe9af76e08e5e4330f
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Aug 22 21:38:31 2005 -0700

    [CIFS] Support for mounting to older, pre-CIFS servers added.  This
    allows specifying an RFC1001 target "called" name (netbios name of the
    server, which can now be pecified as mount option "servernetbiosname"
    but will eventually be passed in automatically on retry of host down
    error messages caused when server refuses to handle default server
    name and can not handle port 445). This is an important step, but
    additional testing and fixup is needed to add remaining function needed
    for these.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit b92327fe6b25d60004b79df9e3c19091c03118ba
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Aug 22 20:09:43 2005 -0700

    [CIFS] Finish up of case-insensitive dentry handling for cifs.  This
    will eventually (or should eventually) be common code for jfs, smbfs,
    etc. but in the meantime is small enough and necessary when mounting
    case insensitive to Windows (nocase).
    
    Signed-off-by: Shaggy <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit a5a2b489bae8f66559a531df99a26eb16b42299e
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Aug 20 21:42:53 2005 -0700

    [CIFS] Make CIFS statistics more accurate and add some stats that were
    missing.  Most importantly SMB reads were undercounted.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 646352319b6cd369750a706706810d87f6b6efa7
Merge: d3485d3... f6fdd7d...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Aug 20 21:40:00 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit d3485d37c0b3292aec0618b6663c57542df5da99
Author: Steve French <sfrench@us.ibm.com>
Date:   Fri Aug 19 11:04:29 2005 -0700

    [CIFS] Finish cifs mount option which requests case insensitive path
    name matching.
    
    	Signed-off-by:  Steve French <sfrench@us.ibm.com>

commit c46fa8acdc533e8084359ea11c79d56eb98313fb
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Aug 18 20:49:57 2005 -0700

    [CIFS] Add mount option for disabling sending byte range lock requests
    over the wire (to help the case when applications break with cifs mandatory
    lock behavior.  Add part one of mount option for requesting case
    insensitive path name matching.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 8d0d50948b276b46b75b1b5855d3f9fab1e0fd92
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Aug 18 09:41:43 2005 -0700

    [CIFS] Change Notify support part 1 - add dnotify thread for processing
    notify responses.
    
    Signed-off-by: Asser Ferno  <asser@diku.dk>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit f191401f5906f4d942fac87ebeb4671faf1ba7d6
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Aug 18 09:37:34 2005 -0700

    [CIFS] rmmod cifs can oops if done soon after the last cifs unmount
    
    Signed-off-by: Shaggy <shaggy@austin.ibm.com>
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 1982c344f1bf08118f7c224958b30c64e162009e
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 17 12:38:22 2005 -0700

    [CIFS] Ensure that cifs multiplex ids do not collide.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit a59c658607b63ec7b6c2536597a075ee307b1b4c
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 17 12:12:19 2005 -0700

    [CIFS] Missing ; from previous fix. Pointed out by Shaggy.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 83bbecc905b3431c60fe282830e09aaaab97b26a
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:09:18 2005 +0900

    [PATCH] sil24: add more comments for constants
    
    08_sil24_add-comments-for-constants.patch
    
    	Add more comments to constants.
    
    Signed-off-by: Edward Falk <efalk@google.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit e382eb1dbdb2dec69806a72551bcb4a736142f6d
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:09:13 2005 +0900

    [PATCH] sil24: fix PORT_CTRL_STAT constants
    
    07_sil24_fix-PORT_CTRL_STAT-constants.patch
    
    	PORT_CTRL_STAT constants were copied incorrectly from the
    	preview driver.
    
    Signed-off-by: Edward Falk <efalk@google.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 4f50c3cbb4b608ae4d8ee73ce273d819d901a83f
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:09:07 2005 +0900

    [PATCH] sil24: replace pp->port w/ ap->ioaddr.cmd_addr
    
    06_sil24_remove-pp-port.patch
    
    	As ap->ioaddr.cmd_addr isn't used for PORT_TF anymore, replace
    	pp->port w/ it as AHCI does.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |   17 ++++++-----------
     1 files changed, 6 insertions(+), 11 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 33d015b9f24d143859bb40dbe7bbb4c7805cee7d
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:09:02 2005 +0900

    [PATCH] sil24: remove PORT_TF
    
    05_sil24_remove-PORT_TF.patch
    
    	Remove PORT_TF, as taskfile isn't located at PORT_TF.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |    7 +------
     1 files changed, 1 insertion(+), 6 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 8746618d4f18fab25916686b0d8a6be2c2912de1
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:08:57 2005 +0900

    [PATCH] sil24: move error handling out of hot interrupt path
    
    04_sil24_add-error_intr-function.patch
    
    	Move error handling from sil24_host_intr into separate
            function - sil24_error_intr.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |   55 +++++++++++++++++++++++++++++++------------------------
     1 files changed, 31 insertions(+), 24 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 06460aeaa26ed4a86b92c8451365d3f48abd3786
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:08:52 2005 +0900

    [PATCH] sil24: add testing for PCI fault
    
    03_sil24_add-pci-fault-check.patch
    
    	On entry to interrupt handler, PORT_SLOT_STAT register is read
            first.  Check if PCI fault or device removal has occurred by
            testing the value for 0xffffffff.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |    6 ++++++
     1 files changed, 6 insertions(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 3cc4571c4106735665e048850ff6656de9558d60
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:08:47 2005 +0900

    [PATCH] sil24: remove irq disable code on spurious interrupt
    
    02_sil24_remove-irq-disable-on-spurious-intr.patch
    
    	If interrupt occurs on a disabled port, the driver used to
            mask the port's interrupt, but we don't know if such action is
            necessary yet and that's not what other drives do.  So, just
            do nothing and tell IRQ subsystem that it's not our interrupt.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |   15 +++++----------
     1 files changed, 5 insertions(+), 10 deletions(-)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit 1483467faa0170cf401955b3d8d3486ea0fe802d
Author: Tejun Heo <htejun@gmail.com>
Date:   Wed Aug 17 13:08:42 2005 +0900

    [PATCH] sil24: add FIXME comment above ata_device_add
    
    01_sil24_add-FIXME-comment.patch
    
    	Add FIXME comment above ata_device_add.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    
     sata_sil24.c |    1 +
     1 files changed, 1 insertion(+)
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit a2e30e529a48ef4e106e405f91cf4ae525bb01c4
Merge: edb3366... 2ad5649...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Aug 17 00:51:31 2005 -0400

    Merge /spare/repo/linux-2.6/

commit 68984aedabf2552aeb21b9ed232cb8f685444e3a
Merge: 4a6d87f... b4b08e5...
Author: Steve French <sfrench@us.ibm.com>
Date:   Sun Aug 14 16:09:22 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 4a6d87f1db06c9670251d6c72a89319e7d1cbaee
Author: Steve French <sfrench@us.ibm.com>
Date:   Sat Aug 13 08:15:54 2005 -0700

    [CIFS] Add missing check for path name allocation failure.  Remove four
    redundant null pointer checks before cifs_buf_release.
    
    Found by coverity analyzer.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 2f058256cb64e346f4fb4499ff4e0f1c2791a4b4
Merge: 0274aa2... 86b3786...
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Wed Aug 10 13:46:28 2005 -0400

    Merge /spare/repo/linux-2.6/

commit a47fd3f5e3a3f970ac1b81643ac56737f97a1fea
Merge: ef6724e... 86b3786...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Aug 10 08:05:35 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git
    french@hera:~/linux-2.6(0)$ cg-update
    l
    `/pub/scm/linux/kernel/git/torvalds/linux-2.6.git/refs/heads/master' ->
    `.git/refs/heads/origin'
    cp: cannot create link `.git/objects/info/packs': File exists
    progress: 213 objects, 646653 bytes, 77% done
    `/pub/scm/linux/kernel/git/torvalds/linux-2.6.git/objects/info/packs' ->
    `.git/objects/info/packs'
    progress: 983 objects, 2805763 bytes, 100% done
    cg-pull: objects pull failed

commit 471417c9cfb4c2574e2c03bf2273fe12f5388a8e
Merge: 20e007b... db29e85...
Author: James Bottomley <jejb@titanic.(none)>
Date:   Tue Aug 9 16:20:49 2005 -0500

    Merge ../linux-2.6

commit 20e007b8cc1266ff78810457d6e26c35c6b810ba
Author: James Bottomley <jejb@titanic.(none)>
Date:   Sat Aug 6 11:50:03 2005 -0500

    [SCSI] iscsi: fix 64 bit compile warning
    
    drivers/scsi/scsi_transport_iscsi.c: In function `show_transport_handle':
    drivers/scsi/scsi_transport_iscsi.c:100: warning: long long unsigned int format, long unsigned int arg (arg 3)
    
    is caused because uint64_t is only unsigned long on a 64 bit platform.
    Fix this by casting to unsigned long long.
    
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 7ba2471389071707cb45e7f755b417edad68049d
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:30:08 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Initiator code
    
    drivers/scsi/iscsi_tcp.c, iscsi data path.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c899e4ef96f01b7e051045e08f3a8fe5e5f2bbb7
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:33:15 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Kconfig update
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 0896b752302662909b52895bd7f601136001069d
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:33:07 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Transport class update for iSCSI
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit c213ca0792bd83075233a48090c46155249b3991
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:30:31 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Initiator header
    
    drivers/scsi/iscsi_tcp.h, header file.
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 39e84790d3b65a4af1ea1fb0d8f06c3ad75304b3
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:31:00 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Header files
    
    open-iscsi-headers.patch - common header files:
    	- iscsi_if.h (user/kernel #defines and user/kernel events);
    	- iscsi_proto.h (RFC3720 #defines and types);
    	- scsi_transport_iscsi.h (transport API, transport #defines and types).
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 885ececaa9e20750d147557fa7f39dbcdac77daa
Author: Alex Aizman <itn780@yahoo.com>
Date:   Thu Aug 4 19:31:27 2005 -0700

    [SCSI] open-iscsi/linux-iscsi-5 Initiator: Makefile Updates
    
    Signed-off-by: Alex Aizman <itn780@yahoo.com>
    Signed-off-by: Dmitry Yusupov <dmitry_yus@yahoo.com>
    Signed-off-by: Mike Christie <michaelc@cs.wisc.edu>
    Signed-off-by: James Bottomley <James.Bottomley@SteelEye.com>

commit 8b491d750885ebe8e7d385ce4186c85957d67123
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Thu Aug 4 02:05:51 2005 +0100

    [MTD] mtdchar: Return EINVAL for bad seeks instead of fixing up to valid byte
    
    mtdchar return -EINVAL for seek prior to offset 0 or to beyond the last
    byte in the device/partition, similar to various other seek methods,
    instead of fixing up to first or last byte.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 1da2c9a638f8af7be3daf1fa8dbd087b3284d16e
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Tue Aug 2 21:36:09 2005 +0100

    [MTD] Pre-CFI Sharp chip driver: Some speedups and cleanups
    
    Remove useless udelay(100) after status value already read.  Poll
    for status OK with reduced udelay if not immediate OK status return.
    
    Fix read and compare of 32-bit status value using 16-bit variable.
    
    Include slab.h since kmalloc/kfree are called.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 65a8de36b48f1c1cd02940c4480bc8e290540d18
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Fri Jul 29 20:42:07 2005 +0100

    [MTD] mtd_blkdevs.c: Fix names when many devices/partitions are created
    
    mtdblock (and other mtd modules that use the mtd_blkdevs interface
    between the mtd translation layers and the linux block layer) handles
    incorrectly more than 10 devices or 26 partitions in the names passed to
    the generic disk layer.  This causes the device file names and other
    info kept by the generic disk/block layers to have names such as
    "mtdblock<".  Use integer formatting for device numbers; use "aa-az"
    for partitions 27-52, "ba-bz" for 53-78...
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit 7ad2b7f5955f117bfca99c6b7cd7483d25f6a8af
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Fri Jul 29 02:57:58 2005 +0100

    [MTD] mtd_blkdevs.c: Remove DEVFS leftovers
    
    Remove mtd_blkdevs refs to the no longer functional DEVFS filesystem.
    
    Verified mtdblock continues to work fine via udev with these calls
    removed.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit d88f977b85d251f548add3d0a76fc186f99b1b21
Author: Todd Poynor <tpoynor@mvista.com>
Date:   Wed Jul 20 22:01:17 2005 +0100

    [MTD] CHIPS: Recognize Spansion CFI 1.4 chips
    
    Modify Amd/Fujitsu CFI NOR flash primary vendor extension table revision
    check to recognize version 1.4.  Verified the existing driver can
    handle version 1.4 chips without additional info from 1.4 extended table.
    
    Move the primary vendor extension table revision check from common file
    to the 3 CFI chip driver files, since the data structures and revisions
    handled by those data structures are specific to the chip driver.
    
    Modify the error message printed when the revision is unknown to be a
    KERN_ERR instead of WARNING since this will cause mtd to ignore the chip.
    
    Signed-off-by: Todd Poynor <tpoynor@mvista.com>
    Signed-off-by: Thomas Gleixner <tglx@linutronix.de>

commit ef6724e32142c2d9ca252d423cacc435c142734e
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 2 21:31:05 2005 -0700

    [CIFS] Fix missing entries in search results when very long file names and
    more than 50 (or so) of such long search entries in the directory.  FindNext
    could send corrupt last byte of resume name when resume key was a few hundred
    bytes long file name or longer.
    
    Fixes Samba Bug # 2932
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit bcf7e34a71afe24dc210b7825f6f139774cb905c
Merge: eda3c02... 688d191...
Author: Steve French <sfrench@us.ibm.com>
Date:   Tue Aug 2 21:20:47 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit edb3366703224d5d8df573ae698ccd6b488dc743
Author: Tejun Heo <htejun@gmail.com>
Date:   Thu Jul 28 10:36:22 2005 +0900

    [PATCH] SATA: rewritten sil24 driver
    
    This is rewritten sil24 driver against v2.6.13-rc3.
    
    Rewritten based on driver originally submitted by Silicon Image.
    
    Signed-off-by: Tejun Heo <htejun@gmail.com>
    Signed-off-by: Jeff Garzik <jgarzik@pobox.com>

commit eda3c029899cbf435d76fea43b7e1404439ccec9
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jul 21 15:20:28 2005 -0700

    [CIFS] Add compat with SFU (part 2)
    
    Creating FIFOs to non-Unix servers (with cifs mounts for which sfu option
    was specified) now works.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    
    Thanks to Martin Koeppe for his assistance

commit 076fb01e8238b7e5d68ba0d729c0ff7716d1d8ec
Merge: 4c48b0d... f60f700...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Tue Jul 19 14:36:00 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 4c48b0d3d1c7ff9f13134b30e41c6e81a92027bf
Merge: f4cfd69... 38d84c3...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Fri Jul 15 13:14:28 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit f4cfd69cf349dd27e00d5cf804b57aee04e059c2
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jul 14 18:29:02 2005 -0500

    [CIFS] Fix path name conversion for long filenames when mapchars mount
    option was specified at mount time.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit d7245c2ccf14cde2023273c1ec246732d96e2c27
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jul 14 18:25:12 2005 -0500

    [CIFS] Add compat with SFU (part 1)
    This should help the case of creating fifos and other special files to
    servers which do not support the Unix extensions.
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    
    Thanks to Martin Koeppe for his suggestions and good analysis

commit 4887c61811c2283162684d7f9075b7676ef6a9bf
Merge: c27510c... c32511e...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Wed Jul 13 10:08:04 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit c27510c031cae15f84b90f28d6dc02c314d84cf8
Merge: ab997aa... 9f02d6b...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Tue Jul 12 15:06:31 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit ab997aaeb9cf7a0da1cecc46c5bb6c7262416917
Merge: fa5cfae... bd53d12...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Thu Jun 30 20:57:39 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit fa5cfae37799177769e9ae2c0527fbdfea462fa9
Merge: 0c0ff09... 16822e6...
Author: Steve French <sfrench@hera.kernel.org>
Date:   Thu Jun 23 19:03:20 2005 -0700

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit 0c0ff09329dafb165c0d9ac08965ddc0615020b1
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jun 23 19:31:17 2005 -0500

    [CIFS] Performance improvement, finish up adding CIFSSMBWrite2
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 45abc6ee2b916a235d6824a41225177bd6e5e24f
Author: Steve French <sfrench@us.ibm.com>
Date:   Thu Jun 23 13:42:03 2005 -0500

    [CIFS] Fix typo in POSIX SetFSInfo call
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit ea0daab4ae4a2f853f06c76961c0ed324fd0804c
Merge: 58aab75... 1bdf7a7...
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Jun 22 20:26:47 2005 -0500

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6.git

commit 1bdf7a78c2b21fb94dfe7994dbe89310b18479d2
Merge: ac67055... a493604...
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 22 17:35:06 2005 -0700

    Merge with /pub/scm/linux/kernel/git/torvalds/linux-2.6.git

commit ac67055ef2378ea95c34b593ddf9d0a0737a240a
Author: Jeremy Allison <jra@samba.org>
Date:   Wed Jun 22 17:26:35 2005 -0700

    [CIFS] POSIX extensions, SetFSInfo added
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    Signed-off-by: Jeremy Allison <jra@samba.org>

commit dfb7533b5f157ac7135da23883e80d895227d965
Author: Steve French <sfrench@us.ibm.com>
Date:   Wed Jun 22 17:13:47 2005 -0700

    [CIFS] Add stats for findfirst, findnext, findclose
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 0274aa2506fd2fe89a58dd6cd64d3b3f7b976af8
Author: Jeff Garzik <jgarzik@pretzel.yyz.us>
Date:   Wed Jun 22 13:50:56 2005 -0400

    libata: Update 'passthru' branch for latest libata

commit 80bd6d7f5e0d872a0f5a151473d2a39d95d210a8
Merge: 949d33e... 2a5a68b...
Author: Jeff Garzik <jgarzik@pretzel.yyz.us>
Date:   Wed Jun 22 13:10:49 2005 -0400

    Merge /spare/repo/linux-2.6/

commit ff40c6d3d1437ecdf295b8e39adcb06c3d6021ef
Merge: 8bf62ec... 2a5a68b...
Author: Jeff Garzik <jgarzik@pretzel.yyz.us>
Date:   Wed Jun 22 13:07:28 2005 -0400

    Merge upstream kernel changes into 'C/H/S support' branch of libata.

commit 58aab753de605c14b9878a897e7349c3063afeff
Merge: 5893a65... 8b22c24...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jun 20 13:12:51 2005 -0500

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6.git

commit 5893a65711164e42fea4a58bb8adf47c2fac8a4b
Merge: d6e04ae... c010533...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jun 13 13:25:38 2005 -0500

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6.git

commit d6e04ae64c6b06ef76a5d4fb49106b393b7fa50a
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jun 13 13:24:43 2005 -0500

    [CIFS] CIFS writepage improvements - eliminate double copy
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>

commit 2830077f7ae93ef2f7a312e3e489110963612e77
Merge: 36358c2... 0b68177...
Author: Steve French <sfrench@us.ibm.com>
Date:   Mon Jun 6 12:31:45 2005 -0500

    Merge with rsync://rsync.kernel.org/pub/scm/linux/kernel/git/sfrench/cifs-2.6.git

commit 36358c21423d58dde90aedde2b8517192c4092f4
Author: Alexey Dobriyan <adobriyan@mail.ru>
Date:   Thu Jun 2 20:01:16 2005 -0500

    [CIFS] fs/cifs/netmisc.c: fix sparse warning
    
    Signed-off-by: Steve French <sfrench@us.ibm.com>
    Signed-off-by: Alexey Dobriyan <adobriyan@mail.ru>
    Signed-off-by: Domen Puncer <domen@coderock.org>

commit 949d33e70f2c3e93bfe5265a50e40175b1ab1ec1
Merge: b095518... bef9c55...
Author: Jeff Garzik <jgarzik@pretzel.yyz.us>
Date:   Thu May 26 01:47:10 2005 -0400

    Automatic merge of rsync://rsync.kernel.org/pub/scm/linux/kernel/git/torvalds/linux-2.6.git branch HEAD

commit b095518ef51c37658c58367bd19240b8a113f25c
Author: Jeff Garzik <jgarzik@pobox.com>
Date:   Thu May 12 15:45:22 2005 -0400

    [libata] ATA passthru (arbitrary ATA command execution)
    
    Authors:
    Brett Russ <russb@emc.com>
    John W. Linville <linville@tuxdriver.com>
    Andy Warner <andyw@pobox.com>

commit 8bf62ecee58360749c5f0e68bc97d5e02a6816b1
Author: Albert Lee <albertcc@tw.ibm.com>
Date:   Thu May 12 15:29:42 2005 -0400

    [libata] C/H/S support, for older devices
